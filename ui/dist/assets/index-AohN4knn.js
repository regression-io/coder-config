function ZE(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(n,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sm={exports:{}},Ol={},nm={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function eP(){if(oy)return _t;oy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=h&&O[h]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function v(O,V,$){this.props=O,this.context=V,this.refs=C,this.updater=$||w}v.prototype.isReactComponent={},v.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},v.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function y(){}y.prototype=v.prototype;function g(O,V,$){this.props=O,this.context=V,this.refs=C,this.updater=$||w}var b=g.prototype=new y;b.constructor=g,j(b,v.prototype),b.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(O,V,$){var se,de={},pe=null,X=null;if(V!=null)for(se in V.ref!==void 0&&(X=V.ref),V.key!==void 0&&(pe=""+V.key),V)E.call(V,se)&&!T.hasOwnProperty(se)&&(de[se]=V[se]);var W=arguments.length-2;if(W===1)de.children=$;else if(1<W){for(var ce=Array(W),ie=0;ie<W;ie++)ce[ie]=arguments[ie+2];de.children=ce}if(O&&O.defaultProps)for(se in W=O.defaultProps,W)de[se]===void 0&&(de[se]=W[se]);return{$$typeof:e,type:O,key:pe,ref:X,props:de,_owner:P.current}}function M(O,V){return{$$typeof:e,type:O.type,key:V,ref:O.ref,props:O.props,_owner:O._owner}}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function L(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return V[$]})}var B=/\/+/g;function H(O,V){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):V.toString(36)}function q(O,V,$,se,de){var pe=typeof O;(pe==="undefined"||pe==="boolean")&&(O=null);var X=!1;if(O===null)X=!0;else switch(pe){case"string":case"number":X=!0;break;case"object":switch(O.$$typeof){case e:case t:X=!0}}if(X)return X=O,de=de(X),O=se===""?"."+H(X,0):se,k(de)?($="",O!=null&&($=O.replace(B,"$&/")+"/"),q(de,V,$,"",function(ie){return ie})):de!=null&&(I(de)&&(de=M(de,$+(!de.key||X&&X.key===de.key?"":(""+de.key).replace(B,"$&/")+"/")+O)),V.push(de)),1;if(X=0,se=se===""?".":se+":",k(O))for(var W=0;W<O.length;W++){pe=O[W];var ce=se+H(pe,W);X+=q(pe,V,$,ce,de)}else if(ce=x(O),typeof ce=="function")for(O=ce.call(O),W=0;!(pe=O.next()).done;)pe=pe.value,ce=se+H(pe,W++),X+=q(pe,V,$,ce,de);else if(pe==="object")throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return X}function z(O,V,$){if(O==null)return O;var se=[],de=0;return q(O,se,"","",function(pe){return V.call($,pe,de++)}),se}function G(O){if(O._status===-1){var V=O._result;V=V(),V.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var J={current:null},K={transition:null},F={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:K,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:z,forEach:function(O,V,$){z(O,function(){V.apply(this,arguments)},$)},count:function(O){var V=0;return z(O,function(){V++}),V},toArray:function(O){return z(O,function(V){return V})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},_t.Component=v,_t.Fragment=s,_t.Profiler=o,_t.PureComponent=g,_t.StrictMode=n,_t.Suspense=d,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,_t.act=R,_t.cloneElement=function(O,V,$){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var se=j({},O.props),de=O.key,pe=O.ref,X=O._owner;if(V!=null){if(V.ref!==void 0&&(pe=V.ref,X=P.current),V.key!==void 0&&(de=""+V.key),O.type&&O.type.defaultProps)var W=O.type.defaultProps;for(ce in V)E.call(V,ce)&&!T.hasOwnProperty(ce)&&(se[ce]=V[ce]===void 0&&W!==void 0?W[ce]:V[ce])}var ce=arguments.length-2;if(ce===1)se.children=$;else if(1<ce){W=Array(ce);for(var ie=0;ie<ce;ie++)W[ie]=arguments[ie+2];se.children=W}return{$$typeof:e,type:O.type,key:de,ref:pe,props:se,_owner:X}},_t.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},_t.createElement=N,_t.createFactory=function(O){var V=N.bind(null,O);return V.type=O,V},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:l,render:O}},_t.isValidElement=I,_t.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:G}},_t.memo=function(O,V){return{$$typeof:f,type:O,compare:V===void 0?null:V}},_t.startTransition=function(O){var V=K.transition;K.transition={};try{O()}finally{K.transition=V}},_t.unstable_act=R,_t.useCallback=function(O,V){return J.current.useCallback(O,V)},_t.useContext=function(O){return J.current.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O){return J.current.useDeferredValue(O)},_t.useEffect=function(O,V){return J.current.useEffect(O,V)},_t.useId=function(){return J.current.useId()},_t.useImperativeHandle=function(O,V,$){return J.current.useImperativeHandle(O,V,$)},_t.useInsertionEffect=function(O,V){return J.current.useInsertionEffect(O,V)},_t.useLayoutEffect=function(O,V){return J.current.useLayoutEffect(O,V)},_t.useMemo=function(O,V){return J.current.useMemo(O,V)},_t.useReducer=function(O,V,$){return J.current.useReducer(O,V,$)},_t.useRef=function(O){return J.current.useRef(O)},_t.useState=function(O){return J.current.useState(O)},_t.useSyncExternalStore=function(O,V,$){return J.current.useSyncExternalStore(O,V,$)},_t.useTransition=function(){return J.current.useTransition()},_t.version="18.3.1",_t}var ay;function qp(){return ay||(ay=1,nm.exports=eP()),nm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function tP(){if(ly)return Ol;ly=1;var e=qp(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(l,d,f){var m,h={},x=null,w=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(w=d.ref);for(m in d)n.call(d,m)&&!c.hasOwnProperty(m)&&(h[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)h[m]===void 0&&(h[m]=d[m]);return{$$typeof:t,type:l,key:x,ref:w,props:h,_owner:o.current}}return Ol.Fragment=s,Ol.jsx=u,Ol.jsxs=u,Ol}var cy;function rP(){return cy||(cy=1,sm.exports=tP()),sm.exports}var r=rP(),_=qp();const Pe=yc(_),Yp=ZE({__proto__:null,default:Pe},[_]);var Hd={},im={exports:{}},_s={},om={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function sP(){return dy||(dy=1,(function(e){function t(K,F){var R=K.length;K.push(F);e:for(;0<R;){var O=R-1>>>1,V=K[O];if(0<o(V,F))K[O]=F,K[R]=V,R=O;else break e}}function s(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var F=K[0],R=K.pop();if(R!==F){K[0]=R;e:for(var O=0,V=K.length,$=V>>>1;O<$;){var se=2*(O+1)-1,de=K[se],pe=se+1,X=K[pe];if(0>o(de,R))pe<V&&0>o(X,de)?(K[O]=X,K[pe]=R,O=pe):(K[O]=de,K[se]=R,O=se);else if(pe<V&&0>o(X,R))K[O]=X,K[pe]=R,O=pe;else break e}}return F}function o(K,F){var R=K.sortIndex-F.sortIndex;return R!==0?R:K.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var d=[],f=[],m=1,h=null,x=3,w=!1,j=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var F=s(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=K)n(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=s(f)}}function k(K){if(C=!1,b(K),!j)if(s(d)!==null)j=!0,G(E);else{var F=s(f);F!==null&&J(k,F.startTime-K)}}function E(K,F){j=!1,C&&(C=!1,y(N),N=-1),w=!0;var R=x;try{for(b(F),h=s(d);h!==null&&(!(h.expirationTime>F)||K&&!L());){var O=h.callback;if(typeof O=="function"){h.callback=null,x=h.priorityLevel;var V=O(h.expirationTime<=F);F=e.unstable_now(),typeof V=="function"?h.callback=V:h===s(d)&&n(d),b(F)}else n(d);h=s(d)}if(h!==null)var $=!0;else{var se=s(f);se!==null&&J(k,se.startTime-F),$=!1}return $}finally{h=null,x=R,w=!1}}var P=!1,T=null,N=-1,M=5,I=-1;function L(){return!(e.unstable_now()-I<M)}function B(){if(T!==null){var K=e.unstable_now();I=K;var F=!0;try{F=T(!0,K)}finally{F?H():(P=!1,T=null)}}else P=!1}var H;if(typeof g=="function")H=function(){g(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=B,H=function(){z.postMessage(null)}}else H=function(){v(B,0)};function G(K){T=K,P||(P=!0,H())}function J(K,F){N=v(function(){K(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,G(E))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(K){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var R=x;x=F;try{return K()}finally{x=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,F){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var R=x;x=K;try{return F()}finally{x=R}},e.unstable_scheduleCallback=function(K,F,R){var O=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,K={id:m++,callback:F,priorityLevel:K,startTime:R,expirationTime:V,sortIndex:-1},R>O?(K.sortIndex=R,t(f,K),s(d)===null&&K===s(f)&&(C?(y(N),N=-1):C=!0,J(k,R-O))):(K.sortIndex=V,t(d,K),j||w||(j=!0,G(E))),K},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(K){var F=x;return function(){var R=x;x=F;try{return K.apply(this,arguments)}finally{x=R}}}})(am)),am}var uy;function nP(){return uy||(uy=1,om.exports=sP()),om.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function iP(){if(hy)return _s;hy=1;var e=qp(),t=nP();function s(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function c(i,a){u(i,a),u(i+"Capture",a)}function u(i,a){for(o[i]=a,i=0;i<a.length;i++)n.add(a[i])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function x(i){return d.call(h,i)?!0:d.call(m,i)?!1:f.test(i)?h[i]=!0:(m[i]=!0,!1)}function w(i,a,p,S){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return S?!1:p!==null?!p.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,a,p,S){if(a===null||typeof a>"u"||w(i,a,p,S))return!0;if(S)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(i,a,p,S,A,D,U){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=S,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=i,this.type=a,this.sanitizeURL=D,this.removeEmptyString=U}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){v[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];v[a]=new C(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){v[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){v[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){v[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){v[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){v[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){v[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){v[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(y,g);v[a]=new C(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(y,g);v[a]=new C(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(y,g);v[a]=new C(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){v[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),v.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){v[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function b(i,a,p,S){var A=v.hasOwnProperty(a)?v[a]:null;(A!==null?A.type!==0:S||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,p,A,S)&&(p=null),S||A===null?x(a)&&(p===null?i.removeAttribute(a):i.setAttribute(a,""+p)):A.mustUseProperty?i[A.propertyName]=p===null?A.type===3?!1:"":p:(a=A.attributeName,S=A.attributeNamespace,p===null?i.removeAttribute(a):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,S?i.setAttributeNS(S,a,p):i.setAttribute(a,p))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),K=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var R=Object.assign,O;function V(i){if(O===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||""}return`
`+O+i}var $=!1;function se(i,a){if(!i||$)return"";$=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ge){var S=ge}Reflect.construct(i,[],a)}else{try{a.call()}catch(ge){S=ge}i.call(a.prototype)}else{try{throw Error()}catch(ge){S=ge}i()}}catch(ge){if(ge&&S&&typeof ge.stack=="string"){for(var A=ge.stack.split(`
`),D=S.stack.split(`
`),U=A.length-1,Z=D.length-1;1<=U&&0<=Z&&A[U]!==D[Z];)Z--;for(;1<=U&&0<=Z;U--,Z--)if(A[U]!==D[Z]){if(U!==1||Z!==1)do if(U--,Z--,0>Z||A[U]!==D[Z]){var ne=`
`+A[U].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=U&&0<=Z);break}}}finally{$=!1,Error.prepareStackTrace=p}return(i=i?i.displayName||i.name:"")?V(i):""}function de(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case P:return"Portal";case M:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case I:return(i._context.displayName||"Context")+".Provider";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:pe(i.type)||"Memo";case G:a=i._payload,i=i._init;try{return pe(i(a))}catch{}}return null}function X(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function W(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ce(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(i){var a=ce(i)?"checked":"value",p=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),S=""+i[a];if(!i.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,D=p.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return A.call(this)},set:function(U){S=""+U,D.call(this,U)}}),Object.defineProperty(i,a,{enumerable:p.enumerable}),{getValue:function(){return S},setValue:function(U){S=""+U},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Q(i){i._valueTracker||(i._valueTracker=ie(i))}function le(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var p=a.getValue(),S="";return i&&(S=ce(i)?i.checked?"true":"false":i.value),i=S,i!==p?(a.setValue(i),!0):!1}function we(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,a){var p=a.checked;return R({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??i._wrapperState.initialChecked})}function Ke(i,a){var p=a.defaultValue==null?"":a.defaultValue,S=a.checked!=null?a.checked:a.defaultChecked;p=W(a.value!=null?a.value:p),i._wrapperState={initialChecked:S,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fe(i,a){a=a.checked,a!=null&&b(i,"checked",a,!1)}function ye(i,a){fe(i,a);var p=W(a.value),S=a.type;if(p!=null)S==="number"?(p===0&&i.value===""||i.value!=p)&&(i.value=""+p):i.value!==""+p&&(i.value=""+p);else if(S==="submit"||S==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ye(i,a.type,p):a.hasOwnProperty("defaultValue")&&Ye(i,a.type,W(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Je(i,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var S=a.type;if(!(S!=="submit"&&S!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,p||a===i.value||(i.value=a),i.defaultValue=a}p=i.name,p!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,p!==""&&(i.name=p)}function Ye(i,a,p){(a!=="number"||we(i.ownerDocument)!==i)&&(p==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+p&&(i.defaultValue=""+p))}var ot=Array.isArray;function ke(i,a,p,S){if(i=i.options,a){a={};for(var A=0;A<p.length;A++)a["$"+p[A]]=!0;for(p=0;p<i.length;p++)A=a.hasOwnProperty("$"+i[p].value),i[p].selected!==A&&(i[p].selected=A),A&&S&&(i[p].defaultSelected=!0)}else{for(p=""+W(p),a=null,A=0;A<i.length;A++){if(i[A].value===p){i[A].selected=!0,S&&(i[A].defaultSelected=!0);return}a!==null||i[A].disabled||(a=i[A])}a!==null&&(a.selected=!0)}}function be(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return R({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Oe(i,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(s(92));if(ot(p)){if(1<p.length)throw Error(s(93));p=p[0]}a=p}a==null&&(a=""),p=a}i._wrapperState={initialValue:W(p)}}function Ee(i,a){var p=W(a.value),S=W(a.defaultValue);p!=null&&(p=""+p,p!==i.value&&(i.value=p),a.defaultValue==null&&i.defaultValue!==p&&(i.defaultValue=p)),S!=null&&(i.defaultValue=""+S)}function _e(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function oe(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?oe(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var De,Be=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,S,A){MSApp.execUnsafeLocalFunction(function(){return i(a,p,S,A)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=De.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ze(i,a){if(a){var p=i.firstChild;if(p&&p===i.lastChild&&p.nodeType===3){p.nodeValue=a;return}}i.textContent=a}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(i){dt.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),St[a]=St[i]})});function er(i,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||St.hasOwnProperty(i)&&St[i]?(""+a).trim():a+"px"}function wr(i,a){i=i.style;for(var p in a)if(a.hasOwnProperty(p)){var S=p.indexOf("--")===0,A=er(p,a[p],S);p==="float"&&(p="cssFloat"),S?i.setProperty(p,A):i[p]=A}}var zr=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ht(i,a){if(a){if(zr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function _r(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=null;function Hr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Us=null,fs=null,Ps=null;function As(i){if(i=_l(i)){if(typeof Us!="function")throw Error(s(280));var a=i.stateNode;a&&(a=sd(a),Us(i.stateNode,i.type,a))}}function nt(i){fs?Ps?Ps.push(i):Ps=[i]:fs=i}function Lt(){if(fs){var i=fs,a=Ps;if(Ps=fs=null,As(i),a)for(i=0;i<a.length;i++)As(a[i])}}function ir(i,a){return i(a)}function tr(){}var ms=!1;function Vt(i,a,p){if(ms)return i(a,p);ms=!0;try{return ir(i,a,p)}finally{ms=!1,(fs!==null||Ps!==null)&&(tr(),Lt())}}function rr(i,a){var p=i.stateNode;if(p===null)return null;var S=sd(p);if(S===null)return null;p=S[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(i=i.type,S=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!S;break e;default:i=!1}if(i)return null;if(p&&typeof p!="function")throw Error(s(231,a,typeof p));return p}var Wr=!1;if(l)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Wr=!1}function fr(i,a,p,S,A,D,U,Z,ne){var ge=Array.prototype.slice.call(arguments,3);try{a.apply(p,ge)}catch(Se){this.onError(Se)}}var Xr=!1,Jr=null,Qe=!1,an=null,sl={onError:function(i){Xr=!0,Jr=i}};function ps(i,a,p,S,A,D,U,Z,ne){Xr=!1,Jr=null,fr.apply(sl,arguments)}function xi(i,a,p,S,A,D,U,Z,ne){if(ps.apply(this,arguments),Xr){if(Xr){var ge=Jr;Xr=!1,Jr=null}else throw Error(s(198));Qe||(Qe=!0,an=ge)}}function Ts(i){var a=i,p=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(p=a.return),i=a.return;while(i)}return a.tag===3?p:null}function Cr(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ji(i){if(Ts(i)!==i)throw Error(s(188))}function Qi(i){var a=i.alternate;if(!a){if(a=Ts(i),a===null)throw Error(s(188));return a!==i?null:i}for(var p=i,S=a;;){var A=p.return;if(A===null)break;var D=A.alternate;if(D===null){if(S=A.return,S!==null){p=S;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===p)return Ji(A),i;if(D===S)return Ji(A),a;D=D.sibling}throw Error(s(188))}if(p.return!==S.return)p=A,S=D;else{for(var U=!1,Z=A.child;Z;){if(Z===p){U=!0,p=A,S=D;break}if(Z===S){U=!0,S=A,p=D;break}Z=Z.sibling}if(!U){for(Z=D.child;Z;){if(Z===p){U=!0,p=D,S=A;break}if(Z===S){U=!0,S=D,p=A;break}Z=Z.sibling}if(!U)throw Error(s(189))}}if(p.alternate!==S)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?i:a}function Bo(i){return i=Qi(i),i!==null?$o(i):null}function $o(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=$o(i);if(a!==null)return a;i=i.sibling}return null}var zo=t.unstable_scheduleCallback,ln=t.unstable_cancelCallback,Ho=t.unstable_shouldYield,vi=t.unstable_requestPaint,Ut=t.unstable_now,Wo=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,Ie=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,Ot=t.unstable_LowPriority,or=t.unstable_IdlePriority,jt=null,Wt=null;function gr(i){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(jt,i,void 0,(i.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:kn,gs=Math.log,Sn=Math.LN2;function kn(i){return i>>>=0,i===0?32:31-(gs(i)/Sn|0)|0}var Kn=64,Vo=4194304;function Zi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Uo(i,a){var p=i.pendingLanes;if(p===0)return 0;var S=0,A=i.suspendedLanes,D=i.pingedLanes,U=p&268435455;if(U!==0){var Z=U&~A;Z!==0?S=Zi(Z):(D&=U,D!==0&&(S=Zi(D)))}else U=p&~A,U!==0?S=Zi(U):D!==0&&(S=Zi(D));if(S===0)return 0;if(a!==0&&a!==S&&(a&A)===0&&(A=S&-S,D=a&-a,A>=D||A===16&&(D&4194240)!==0))return a;if((S&4)!==0&&(S|=p&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=S;0<a;)p=31-Pt(a),A=1<<p,S|=i[p],a&=~A;return S}function Eh(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(i,a){for(var p=i.suspendedLanes,S=i.pingedLanes,A=i.expirationTimes,D=i.pendingLanes;0<D;){var U=31-Pt(D),Z=1<<U,ne=A[U];ne===-1?((Z&p)===0||(Z&S)!==0)&&(A[U]=Eh(Z,a)):ne<=a&&(i.expiredLanes|=Z),D&=~Z}}function nl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function eo(){var i=Kn;return Kn<<=1,(Kn&4194240)===0&&(Kn=64),i}function il(i){for(var a=[],p=0;31>p;p++)a.push(i);return a}function to(i,a,p){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Pt(a),i[a]=p}function Wc(i,a){var p=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var S=i.eventTimes;for(i=i.expirationTimes;0<p;){var A=31-Pt(p),D=1<<A;a[A]=0,S[A]=-1,i[A]=-1,p&=~D}}function Go(i,a){var p=i.entangledLanes|=a;for(i=i.entanglements;p;){var S=31-Pt(p),A=1<<S;A&a|i[S]&a&&(i[S]|=a),p&=~A}}var Nt=0;function ol(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var al,Ko,ll,cl,dl,qo=!1,ro=[],cn=null,dn=null,un=null,te=new Map,Me=new Map,At=[],Sr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qr(i,a){switch(i){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":te.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(a.pointerId)}}function pt(i,a,p,S,A,D){return i===null||i.nativeEvent!==D?(i={blockedOn:a,domEventName:p,eventSystemFlags:S,nativeEvent:D,targetContainers:[A]},a!==null&&(a=_l(a),a!==null&&Ko(a)),i):(i.eventSystemFlags|=S,a=i.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),i)}function Rr(i,a,p,S,A){switch(a){case"focusin":return cn=pt(cn,i,a,p,S,A),!0;case"dragenter":return dn=pt(dn,i,a,p,S,A),!0;case"mouseover":return un=pt(un,i,a,p,S,A),!0;case"pointerover":var D=A.pointerId;return te.set(D,pt(te.get(D)||null,i,a,p,S,A)),!0;case"gotpointercapture":return D=A.pointerId,Me.set(D,pt(Me.get(D)||null,i,a,p,S,A)),!0}return!1}function Mr(i){var a=io(i.target);if(a!==null){var p=Ts(a);if(p!==null){if(a=p.tag,a===13){if(a=Cr(p),a!==null){i.blockedOn=a,dl(i.priority,function(){ll(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){i.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zr(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var p=Ph(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(p===null){p=i.nativeEvent;var S=new p.constructor(p.type,p);hr=S,p.target.dispatchEvent(S),hr=null}else return a=_l(p),a!==null&&Ko(a),i.blockedOn=p,!1;a.shift()}return!0}function qn(i,a,p){Zr(i)&&p.delete(a)}function so(){qo=!1,cn!==null&&Zr(cn)&&(cn=null),dn!==null&&Zr(dn)&&(dn=null),un!==null&&Zr(un)&&(un=null),te.forEach(qn),Me.forEach(qn)}function yi(i,a){i.blockedOn===a&&(i.blockedOn=null,qo||(qo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,so)))}function bi(i){function a(A){return yi(A,i)}if(0<ro.length){yi(ro[0],i);for(var p=1;p<ro.length;p++){var S=ro[p];S.blockedOn===i&&(S.blockedOn=null)}}for(cn!==null&&yi(cn,i),dn!==null&&yi(dn,i),un!==null&&yi(un,i),te.forEach(a),Me.forEach(a),p=0;p<At.length;p++)S=At[p],S.blockedOn===i&&(S.blockedOn=null);for(;0<At.length&&(p=At[0],p.blockedOn===null);)Mr(p),p.blockedOn===null&&At.shift()}var Yn=k.ReactCurrentBatchConfig,no=!0;function Vc(i,a,p,S){var A=Nt,D=Yn.transition;Yn.transition=null;try{Nt=1,ft(i,a,p,S)}finally{Nt=A,Yn.transition=D}}function Uc(i,a,p,S){var A=Nt,D=Yn.transition;Yn.transition=null;try{Nt=4,ft(i,a,p,S)}finally{Nt=A,Yn.transition=D}}function ft(i,a,p,S){if(no){var A=Ph(i,a,p,S);if(A===null)Gh(i,a,S,Yo,p),Qr(i,S);else if(Rr(A,i,a,p,S))S.stopPropagation();else if(Qr(i,S),a&4&&-1<Sr.indexOf(i)){for(;A!==null;){var D=_l(A);if(D!==null&&al(D),D=Ph(i,a,p,S),D===null&&Gh(i,a,S,Yo,p),D===A)break;A=D}A!==null&&S.stopPropagation()}else Gh(i,a,S,null,p)}}var Yo=null;function Ph(i,a,p,S){if(Yo=null,i=Hr(S),i=io(i),i!==null)if(a=Ts(i),a===null)i=null;else if(p=a.tag,p===13){if(i=Cr(a),i!==null)return i;i=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Yo=i,null}function Gx(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wo()){case ee:return 1;case Ie:return 4;case He:case Ot:return 16;case or:return 536870912;default:return 16}default:return 16}}var wi=null,Ah=null,Gc=null;function Kx(){if(Gc)return Gc;var i,a=Ah,p=a.length,S,A="value"in wi?wi.value:wi.textContent,D=A.length;for(i=0;i<p&&a[i]===A[i];i++);var U=p-i;for(S=1;S<=U&&a[p-S]===A[D-S];S++);return Gc=A.slice(i,1<S?1-S:void 0)}function Kc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function qc(){return!0}function qx(){return!1}function Rs(i){function a(p,S,A,D,U){this._reactName=p,this._targetInst=A,this.type=S,this.nativeEvent=D,this.target=U,this.currentTarget=null;for(var Z in i)i.hasOwnProperty(Z)&&(p=i[Z],this[Z]=p?p(D):D[Z]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?qc:qx,this.isPropagationStopped=qx,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),a}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=Rs(Xo),ul=R({},Xo,{view:0,detail:0}),j2=Rs(ul),Rh,Mh,hl,Yc=R({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hl&&(hl&&i.type==="mousemove"?(Rh=i.screenX-hl.screenX,Mh=i.screenY-hl.screenY):Mh=Rh=0,hl=i),Rh)},movementY:function(i){return"movementY"in i?i.movementY:Mh}}),Yx=Rs(Yc),N2=R({},Yc,{dataTransfer:0}),E2=Rs(N2),P2=R({},ul,{relatedTarget:0}),Dh=Rs(P2),A2=R({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),T2=Rs(A2),R2=R({},Xo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),M2=Rs(R2),D2=R({},Xo,{data:0}),Xx=Rs(D2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F2(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=O2[i])?!!a[i]:!1}function Ih(){return F2}var B2=R({},ul,{key:function(i){if(i.key){var a=I2[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Kc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?L2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(i){return i.type==="keypress"?Kc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Kc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$2=Rs(B2),z2=R({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=Rs(z2),H2=R({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),W2=Rs(H2),V2=R({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U2=Rs(V2),G2=R({},Yc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K2=Rs(G2),q2=[9,13,27,32],Lh=l&&"CompositionEvent"in window,fl=null;l&&"documentMode"in document&&(fl=document.documentMode);var Y2=l&&"TextEvent"in window&&!fl,Qx=l&&(!Lh||fl&&8<fl&&11>=fl),Zx=" ",e0=!1;function t0(i,a){switch(i){case"keyup":return q2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jo=!1;function X2(i,a){switch(i){case"compositionend":return r0(a);case"keypress":return a.which!==32?null:(e0=!0,Zx);case"textInput":return i=a.data,i===Zx&&e0?null:i;default:return null}}function J2(i,a){if(Jo)return i==="compositionend"||!Lh&&t0(i,a)?(i=Kx(),Gc=Ah=wi=null,Jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qx&&a.locale!=="ko"?null:a.data;default:return null}}var Q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Q2[i.type]:a==="textarea"}function n0(i,a,p,S){nt(S),a=ed(a,"onChange"),0<a.length&&(p=new Th("onChange","change",null,p,S),i.push({event:p,listeners:a}))}var ml=null,pl=null;function Z2(i){_0(i,0)}function Xc(i){var a=ra(i);if(le(a))return i}function eE(i,a){if(i==="change")return a}var i0=!1;if(l){var Oh;if(l){var Fh="oninput"in document;if(!Fh){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Fh=typeof o0.oninput=="function"}Oh=Fh}else Oh=!1;i0=Oh&&(!document.documentMode||9<document.documentMode)}function a0(){ml&&(ml.detachEvent("onpropertychange",l0),pl=ml=null)}function l0(i){if(i.propertyName==="value"&&Xc(pl)){var a=[];n0(a,pl,i,Hr(i)),Vt(Z2,a)}}function tE(i,a,p){i==="focusin"?(a0(),ml=a,pl=p,ml.attachEvent("onpropertychange",l0)):i==="focusout"&&a0()}function rE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(pl)}function sE(i,a){if(i==="click")return Xc(a)}function nE(i,a){if(i==="input"||i==="change")return Xc(a)}function iE(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var hn=typeof Object.is=="function"?Object.is:iE;function gl(i,a){if(hn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var p=Object.keys(i),S=Object.keys(a);if(p.length!==S.length)return!1;for(S=0;S<p.length;S++){var A=p[S];if(!d.call(a,A)||!hn(i[A],a[A]))return!1}return!0}function c0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function d0(i,a){var p=c0(i);i=0;for(var S;p;){if(p.nodeType===3){if(S=i+p.textContent.length,i<=a&&S>=a)return{node:p,offset:a-i};i=S}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=c0(p)}}function u0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?u0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function h0(){for(var i=window,a=we();a instanceof i.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)i=a.contentWindow;else break;a=we(i.document)}return a}function Bh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function oE(i){var a=h0(),p=i.focusedElem,S=i.selectionRange;if(a!==p&&p&&p.ownerDocument&&u0(p.ownerDocument.documentElement,p)){if(S!==null&&Bh(p)){if(a=S.start,i=S.end,i===void 0&&(i=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(i,p.value.length);else if(i=(a=p.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var A=p.textContent.length,D=Math.min(S.start,A);S=S.end===void 0?D:Math.min(S.end,A),!i.extend&&D>S&&(A=S,S=D,D=A),A=d0(p,D);var U=d0(p,S);A&&U&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==U.node||i.focusOffset!==U.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),i.removeAllRanges(),D>S?(i.addRange(a),i.extend(U.node,U.offset)):(a.setEnd(U.node,U.offset),i.addRange(a)))}}for(a=[],i=p;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)i=a[p],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aE=l&&"documentMode"in document&&11>=document.documentMode,Qo=null,$h=null,xl=null,zh=!1;function f0(i,a,p){var S=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zh||Qo==null||Qo!==we(S)||(S=Qo,"selectionStart"in S&&Bh(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),xl&&gl(xl,S)||(xl=S,S=ed($h,"onSelect"),0<S.length&&(a=new Th("onSelect","select",null,a,p),i.push({event:a,listeners:S}),a.target=Qo)))}function Jc(i,a){var p={};return p[i.toLowerCase()]=a.toLowerCase(),p["Webkit"+i]="webkit"+a,p["Moz"+i]="moz"+a,p}var Zo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Hh={},m0={};l&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Qc(i){if(Hh[i])return Hh[i];if(!Zo[i])return i;var a=Zo[i],p;for(p in a)if(a.hasOwnProperty(p)&&p in m0)return Hh[i]=a[p];return i}var p0=Qc("animationend"),g0=Qc("animationiteration"),x0=Qc("animationstart"),v0=Qc("transitionend"),y0=new Map,b0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,a){y0.set(i,a),c(a,[i])}for(var Wh=0;Wh<b0.length;Wh++){var Vh=b0[Wh],lE=Vh.toLowerCase(),cE=Vh[0].toUpperCase()+Vh.slice(1);_i(lE,"on"+cE)}_i(p0,"onAnimationEnd"),_i(g0,"onAnimationIteration"),_i(x0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(v0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function w0(i,a,p){var S=i.type||"unknown-event";i.currentTarget=p,xi(S,a,void 0,i),i.currentTarget=null}function _0(i,a){a=(a&4)!==0;for(var p=0;p<i.length;p++){var S=i[p],A=S.event;S=S.listeners;e:{var D=void 0;if(a)for(var U=S.length-1;0<=U;U--){var Z=S[U],ne=Z.instance,ge=Z.currentTarget;if(Z=Z.listener,ne!==D&&A.isPropagationStopped())break e;w0(A,Z,ge),D=ne}else for(U=0;U<S.length;U++){if(Z=S[U],ne=Z.instance,ge=Z.currentTarget,Z=Z.listener,ne!==D&&A.isPropagationStopped())break e;w0(A,Z,ge),D=ne}}}if(Qe)throw i=an,Qe=!1,an=null,i}function Jt(i,a){var p=a[Qh];p===void 0&&(p=a[Qh]=new Set);var S=i+"__bubble";p.has(S)||(C0(a,i,2,!1),p.add(S))}function Uh(i,a,p){var S=0;a&&(S|=4),C0(p,i,S,a)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function yl(i){if(!i[Zc]){i[Zc]=!0,n.forEach(function(p){p!=="selectionchange"&&(dE.has(p)||Uh(p,!1,i),Uh(p,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Zc]||(a[Zc]=!0,Uh("selectionchange",!1,a))}}function C0(i,a,p,S){switch(Gx(a)){case 1:var A=Vc;break;case 4:A=Uc;break;default:A=ft}p=A.bind(null,a,p,i),A=void 0,!Wr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),S?A!==void 0?i.addEventListener(a,p,{capture:!0,passive:A}):i.addEventListener(a,p,!0):A!==void 0?i.addEventListener(a,p,{passive:A}):i.addEventListener(a,p,!1)}function Gh(i,a,p,S,A){var D=S;if((a&1)===0&&(a&2)===0&&S!==null)e:for(;;){if(S===null)return;var U=S.tag;if(U===3||U===4){var Z=S.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(U===4)for(U=S.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===A||ne.nodeType===8&&ne.parentNode===A))return;U=U.return}for(;Z!==null;){if(U=io(Z),U===null)return;if(ne=U.tag,ne===5||ne===6){S=D=U;continue e}Z=Z.parentNode}}S=S.return}Vt(function(){var ge=D,Se=Hr(p),je=[];e:{var Ce=y0.get(i);if(Ce!==void 0){var $e=Th,Ve=i;switch(i){case"keypress":if(Kc(p)===0)break e;case"keydown":case"keyup":$e=$2;break;case"focusin":Ve="focus",$e=Dh;break;case"focusout":Ve="blur",$e=Dh;break;case"beforeblur":case"afterblur":$e=Dh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=W2;break;case p0:case g0:case x0:$e=T2;break;case v0:$e=U2;break;case"scroll":$e=j2;break;case"wheel":$e=K2;break;case"copy":case"cut":case"paste":$e=M2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Jx}var qe=(a&4)!==0,xr=!qe&&i==="scroll",he=qe?Ce!==null?Ce+"Capture":null:Ce;qe=[];for(var ae=ge,me;ae!==null;){me=ae;var Re=me.stateNode;if(me.tag===5&&Re!==null&&(me=Re,he!==null&&(Re=rr(ae,he),Re!=null&&qe.push(bl(ae,Re,me)))),xr)break;ae=ae.return}0<qe.length&&(Ce=new $e(Ce,Ve,null,p,Se),je.push({event:Ce,listeners:qe}))}}if((a&7)===0){e:{if(Ce=i==="mouseover"||i==="pointerover",$e=i==="mouseout"||i==="pointerout",Ce&&p!==hr&&(Ve=p.relatedTarget||p.fromElement)&&(io(Ve)||Ve[Xn]))break e;if(($e||Ce)&&(Ce=Se.window===Se?Se:(Ce=Se.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,$e?(Ve=p.relatedTarget||p.toElement,$e=ge,Ve=Ve?io(Ve):null,Ve!==null&&(xr=Ts(Ve),Ve!==xr||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):($e=null,Ve=ge),$e!==Ve)){if(qe=Yx,Re="onMouseLeave",he="onMouseEnter",ae="mouse",(i==="pointerout"||i==="pointerover")&&(qe=Jx,Re="onPointerLeave",he="onPointerEnter",ae="pointer"),xr=$e==null?Ce:ra($e),me=Ve==null?Ce:ra(Ve),Ce=new qe(Re,ae+"leave",$e,p,Se),Ce.target=xr,Ce.relatedTarget=me,Re=null,io(Se)===ge&&(qe=new qe(he,ae+"enter",Ve,p,Se),qe.target=me,qe.relatedTarget=xr,Re=qe),xr=Re,$e&&Ve)t:{for(qe=$e,he=Ve,ae=0,me=qe;me;me=ea(me))ae++;for(me=0,Re=he;Re;Re=ea(Re))me++;for(;0<ae-me;)qe=ea(qe),ae--;for(;0<me-ae;)he=ea(he),me--;for(;ae--;){if(qe===he||he!==null&&qe===he.alternate)break t;qe=ea(qe),he=ea(he)}qe=null}else qe=null;$e!==null&&S0(je,Ce,$e,qe,!1),Ve!==null&&xr!==null&&S0(je,xr,Ve,qe,!0)}}e:{if(Ce=ge?ra(ge):window,$e=Ce.nodeName&&Ce.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ce.type==="file")var Xe=eE;else if(s0(Ce))if(i0)Xe=nE;else{Xe=rE;var tt=tE}else($e=Ce.nodeName)&&$e.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Xe=sE);if(Xe&&(Xe=Xe(i,ge))){n0(je,Xe,p,Se);break e}tt&&tt(i,Ce,ge),i==="focusout"&&(tt=Ce._wrapperState)&&tt.controlled&&Ce.type==="number"&&Ye(Ce,"number",Ce.value)}switch(tt=ge?ra(ge):window,i){case"focusin":(s0(tt)||tt.contentEditable==="true")&&(Qo=tt,$h=ge,xl=null);break;case"focusout":xl=$h=Qo=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,f0(je,p,Se);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":f0(je,p,Se)}var rt;if(Lh)e:{switch(i){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Jo?t0(i,p)&&(at="onCompositionEnd"):i==="keydown"&&p.keyCode===229&&(at="onCompositionStart");at&&(Qx&&p.locale!=="ko"&&(Jo||at!=="onCompositionStart"?at==="onCompositionEnd"&&Jo&&(rt=Kx()):(wi=Se,Ah="value"in wi?wi.value:wi.textContent,Jo=!0)),tt=ed(ge,at),0<tt.length&&(at=new Xx(at,i,null,p,Se),je.push({event:at,listeners:tt}),rt?at.data=rt:(rt=r0(p),rt!==null&&(at.data=rt)))),(rt=Y2?X2(i,p):J2(i,p))&&(ge=ed(ge,"onBeforeInput"),0<ge.length&&(Se=new Xx("onBeforeInput","beforeinput",null,p,Se),je.push({event:Se,listeners:ge}),Se.data=rt))}_0(je,a)})}function bl(i,a,p){return{instance:i,listener:a,currentTarget:p}}function ed(i,a){for(var p=a+"Capture",S=[];i!==null;){var A=i,D=A.stateNode;A.tag===5&&D!==null&&(A=D,D=rr(i,p),D!=null&&S.unshift(bl(i,D,A)),D=rr(i,a),D!=null&&S.push(bl(i,D,A))),i=i.return}return S}function ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function S0(i,a,p,S,A){for(var D=a._reactName,U=[];p!==null&&p!==S;){var Z=p,ne=Z.alternate,ge=Z.stateNode;if(ne!==null&&ne===S)break;Z.tag===5&&ge!==null&&(Z=ge,A?(ne=rr(p,D),ne!=null&&U.unshift(bl(p,ne,Z))):A||(ne=rr(p,D),ne!=null&&U.push(bl(p,ne,Z)))),p=p.return}U.length!==0&&i.push({event:a,listeners:U})}var uE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function k0(i){return(typeof i=="string"?i:""+i).replace(uE,`
`).replace(hE,"")}function td(i,a,p){if(a=k0(a),k0(i)!==a&&p)throw Error(s(425))}function rd(){}var Kh=null,qh=null;function Yh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,j0=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof j0<"u"?function(i){return j0.resolve(null).then(i).catch(pE)}:Xh;function pE(i){setTimeout(function(){throw i})}function Jh(i,a){var p=a,S=0;do{var A=p.nextSibling;if(i.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(S===0){i.removeChild(A),bi(a);return}S--}else p!=="$"&&p!=="$?"&&p!=="$!"||S++;p=A}while(p);bi(a)}function Ci(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function N0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return i;a--}else p==="/$"&&a++}i=i.previousSibling}return null}var ta=Math.random().toString(36).slice(2),jn="__reactFiber$"+ta,wl="__reactProps$"+ta,Xn="__reactContainer$"+ta,Qh="__reactEvents$"+ta,gE="__reactListeners$"+ta,xE="__reactHandles$"+ta;function io(i){var a=i[jn];if(a)return a;for(var p=i.parentNode;p;){if(a=p[Xn]||p[jn]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(i=N0(i);i!==null;){if(p=i[jn])return p;i=N0(i)}return a}i=p,p=i.parentNode}return null}function _l(i){return i=i[jn]||i[Xn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ra(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(s(33))}function sd(i){return i[wl]||null}var Zh=[],sa=-1;function Si(i){return{current:i}}function Qt(i){0>sa||(i.current=Zh[sa],Zh[sa]=null,sa--)}function Gt(i,a){sa++,Zh[sa]=i.current,i.current=a}var ki={},es=Si(ki),xs=Si(!1),oo=ki;function na(i,a){var p=i.type.contextTypes;if(!p)return ki;var S=i.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===a)return S.__reactInternalMemoizedMaskedChildContext;var A={},D;for(D in p)A[D]=a[D];return S&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=A),A}function vs(i){return i=i.childContextTypes,i!=null}function nd(){Qt(xs),Qt(es)}function E0(i,a,p){if(es.current!==ki)throw Error(s(168));Gt(es,a),Gt(xs,p)}function P0(i,a,p){var S=i.stateNode;if(a=a.childContextTypes,typeof S.getChildContext!="function")return p;S=S.getChildContext();for(var A in S)if(!(A in a))throw Error(s(108,X(i)||"Unknown",A));return R({},p,S)}function id(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ki,oo=es.current,Gt(es,i),Gt(xs,xs.current),!0}function A0(i,a,p){var S=i.stateNode;if(!S)throw Error(s(169));p?(i=P0(i,a,oo),S.__reactInternalMemoizedMergedChildContext=i,Qt(xs),Qt(es),Gt(es,i)):Qt(xs),Gt(xs,p)}var Jn=null,od=!1,ef=!1;function T0(i){Jn===null?Jn=[i]:Jn.push(i)}function vE(i){od=!0,T0(i)}function ji(){if(!ef&&Jn!==null){ef=!0;var i=0,a=Nt;try{var p=Jn;for(Nt=1;i<p.length;i++){var S=p[i];do S=S(!0);while(S!==null)}Jn=null,od=!1}catch(A){throw Jn!==null&&(Jn=Jn.slice(i+1)),zo(ee,ji),A}finally{Nt=a,ef=!1}}return null}var ia=[],oa=0,ad=null,ld=0,Gs=[],Ks=0,ao=null,Qn=1,Zn="";function lo(i,a){ia[oa++]=ld,ia[oa++]=ad,ad=i,ld=a}function R0(i,a,p){Gs[Ks++]=Qn,Gs[Ks++]=Zn,Gs[Ks++]=ao,ao=i;var S=Qn;i=Zn;var A=32-Pt(S)-1;S&=~(1<<A),p+=1;var D=32-Pt(a)+A;if(30<D){var U=A-A%5;D=(S&(1<<U)-1).toString(32),S>>=U,A-=U,Qn=1<<32-Pt(a)+A|p<<A|S,Zn=D+i}else Qn=1<<D|p<<A|S,Zn=i}function tf(i){i.return!==null&&(lo(i,1),R0(i,1,0))}function rf(i){for(;i===ad;)ad=ia[--oa],ia[oa]=null,ld=ia[--oa],ia[oa]=null;for(;i===ao;)ao=Gs[--Ks],Gs[Ks]=null,Zn=Gs[--Ks],Gs[Ks]=null,Qn=Gs[--Ks],Gs[Ks]=null}var Ms=null,Ds=null,sr=!1,fn=null;function M0(i,a){var p=Js(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=i,a=i.deletions,a===null?(i.deletions=[p],i.flags|=16):a.push(p)}function D0(i,a){switch(i.tag){case 5:var p=i.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Ms=i,Ds=Ci(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Ms=i,Ds=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=ao!==null?{id:Qn,overflow:Zn}:null,i.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=Js(18,null,null,0),p.stateNode=a,p.return=i,i.child=p,Ms=i,Ds=null,!0):!1;default:return!1}}function sf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function nf(i){if(sr){var a=Ds;if(a){var p=a;if(!D0(i,a)){if(sf(i))throw Error(s(418));a=Ci(p.nextSibling);var S=Ms;a&&D0(i,a)?M0(S,p):(i.flags=i.flags&-4097|2,sr=!1,Ms=i)}}else{if(sf(i))throw Error(s(418));i.flags=i.flags&-4097|2,sr=!1,Ms=i}}}function I0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ms=i}function cd(i){if(i!==Ms)return!1;if(!sr)return I0(i),sr=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Yh(i.type,i.memoizedProps)),a&&(a=Ds)){if(sf(i))throw L0(),Error(s(418));for(;a;)M0(i,a),a=Ci(a.nextSibling)}if(I0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="/$"){if(a===0){Ds=Ci(i.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}i=i.nextSibling}Ds=null}}else Ds=Ms?Ci(i.stateNode.nextSibling):null;return!0}function L0(){for(var i=Ds;i;)i=Ci(i.nextSibling)}function aa(){Ds=Ms=null,sr=!1}function of(i){fn===null?fn=[i]:fn.push(i)}var yE=k.ReactCurrentBatchConfig;function Cl(i,a,p){if(i=p.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(s(309));var S=p.stateNode}if(!S)throw Error(s(147,i));var A=S,D=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===D?a.ref:(a=function(U){var Z=A.refs;U===null?delete Z[D]:Z[D]=U},a._stringRef=D,a)}if(typeof i!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,i))}return i}function dd(i,a){throw i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function O0(i){var a=i._init;return a(i._payload)}function F0(i){function a(he,ae){if(i){var me=he.deletions;me===null?(he.deletions=[ae],he.flags|=16):me.push(ae)}}function p(he,ae){if(!i)return null;for(;ae!==null;)a(he,ae),ae=ae.sibling;return null}function S(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function A(he,ae){return he=Di(he,ae),he.index=0,he.sibling=null,he}function D(he,ae,me){return he.index=me,i?(me=he.alternate,me!==null?(me=me.index,me<ae?(he.flags|=2,ae):me):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function U(he){return i&&he.alternate===null&&(he.flags|=2),he}function Z(he,ae,me,Re){return ae===null||ae.tag!==6?(ae=Jf(me,he.mode,Re),ae.return=he,ae):(ae=A(ae,me),ae.return=he,ae)}function ne(he,ae,me,Re){var Xe=me.type;return Xe===T?Se(he,ae,me.props.children,Re,me.key):ae!==null&&(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===G&&O0(Xe)===ae.type)?(Re=A(ae,me.props),Re.ref=Cl(he,ae,me),Re.return=he,Re):(Re=Dd(me.type,me.key,me.props,null,he.mode,Re),Re.ref=Cl(he,ae,me),Re.return=he,Re)}function ge(he,ae,me,Re){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=Qf(me,he.mode,Re),ae.return=he,ae):(ae=A(ae,me.children||[]),ae.return=he,ae)}function Se(he,ae,me,Re,Xe){return ae===null||ae.tag!==7?(ae=xo(me,he.mode,Re,Xe),ae.return=he,ae):(ae=A(ae,me),ae.return=he,ae)}function je(he,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Jf(""+ae,he.mode,me),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return me=Dd(ae.type,ae.key,ae.props,null,he.mode,me),me.ref=Cl(he,null,ae),me.return=he,me;case P:return ae=Qf(ae,he.mode,me),ae.return=he,ae;case G:var Re=ae._init;return je(he,Re(ae._payload),me)}if(ot(ae)||F(ae))return ae=xo(ae,he.mode,me,null),ae.return=he,ae;dd(he,ae)}return null}function Ce(he,ae,me,Re){var Xe=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Xe!==null?null:Z(he,ae,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case E:return me.key===Xe?ne(he,ae,me,Re):null;case P:return me.key===Xe?ge(he,ae,me,Re):null;case G:return Xe=me._init,Ce(he,ae,Xe(me._payload),Re)}if(ot(me)||F(me))return Xe!==null?null:Se(he,ae,me,Re,null);dd(he,me)}return null}function $e(he,ae,me,Re,Xe){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return he=he.get(me)||null,Z(ae,he,""+Re,Xe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case E:return he=he.get(Re.key===null?me:Re.key)||null,ne(ae,he,Re,Xe);case P:return he=he.get(Re.key===null?me:Re.key)||null,ge(ae,he,Re,Xe);case G:var tt=Re._init;return $e(he,ae,me,tt(Re._payload),Xe)}if(ot(Re)||F(Re))return he=he.get(me)||null,Se(ae,he,Re,Xe,null);dd(ae,Re)}return null}function Ve(he,ae,me,Re){for(var Xe=null,tt=null,rt=ae,at=ae=0,Lr=null;rt!==null&&at<me.length;at++){rt.index>at?(Lr=rt,rt=null):Lr=rt.sibling;var Tt=Ce(he,rt,me[at],Re);if(Tt===null){rt===null&&(rt=Lr);break}i&&rt&&Tt.alternate===null&&a(he,rt),ae=D(Tt,ae,at),tt===null?Xe=Tt:tt.sibling=Tt,tt=Tt,rt=Lr}if(at===me.length)return p(he,rt),sr&&lo(he,at),Xe;if(rt===null){for(;at<me.length;at++)rt=je(he,me[at],Re),rt!==null&&(ae=D(rt,ae,at),tt===null?Xe=rt:tt.sibling=rt,tt=rt);return sr&&lo(he,at),Xe}for(rt=S(he,rt);at<me.length;at++)Lr=$e(rt,he,at,me[at],Re),Lr!==null&&(i&&Lr.alternate!==null&&rt.delete(Lr.key===null?at:Lr.key),ae=D(Lr,ae,at),tt===null?Xe=Lr:tt.sibling=Lr,tt=Lr);return i&&rt.forEach(function(Ii){return a(he,Ii)}),sr&&lo(he,at),Xe}function qe(he,ae,me,Re){var Xe=F(me);if(typeof Xe!="function")throw Error(s(150));if(me=Xe.call(me),me==null)throw Error(s(151));for(var tt=Xe=null,rt=ae,at=ae=0,Lr=null,Tt=me.next();rt!==null&&!Tt.done;at++,Tt=me.next()){rt.index>at?(Lr=rt,rt=null):Lr=rt.sibling;var Ii=Ce(he,rt,Tt.value,Re);if(Ii===null){rt===null&&(rt=Lr);break}i&&rt&&Ii.alternate===null&&a(he,rt),ae=D(Ii,ae,at),tt===null?Xe=Ii:tt.sibling=Ii,tt=Ii,rt=Lr}if(Tt.done)return p(he,rt),sr&&lo(he,at),Xe;if(rt===null){for(;!Tt.done;at++,Tt=me.next())Tt=je(he,Tt.value,Re),Tt!==null&&(ae=D(Tt,ae,at),tt===null?Xe=Tt:tt.sibling=Tt,tt=Tt);return sr&&lo(he,at),Xe}for(rt=S(he,rt);!Tt.done;at++,Tt=me.next())Tt=$e(rt,he,at,Tt.value,Re),Tt!==null&&(i&&Tt.alternate!==null&&rt.delete(Tt.key===null?at:Tt.key),ae=D(Tt,ae,at),tt===null?Xe=Tt:tt.sibling=Tt,tt=Tt);return i&&rt.forEach(function(QE){return a(he,QE)}),sr&&lo(he,at),Xe}function xr(he,ae,me,Re){if(typeof me=="object"&&me!==null&&me.type===T&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case E:e:{for(var Xe=me.key,tt=ae;tt!==null;){if(tt.key===Xe){if(Xe=me.type,Xe===T){if(tt.tag===7){p(he,tt.sibling),ae=A(tt,me.props.children),ae.return=he,he=ae;break e}}else if(tt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===G&&O0(Xe)===tt.type){p(he,tt.sibling),ae=A(tt,me.props),ae.ref=Cl(he,tt,me),ae.return=he,he=ae;break e}p(he,tt);break}else a(he,tt);tt=tt.sibling}me.type===T?(ae=xo(me.props.children,he.mode,Re,me.key),ae.return=he,he=ae):(Re=Dd(me.type,me.key,me.props,null,he.mode,Re),Re.ref=Cl(he,ae,me),Re.return=he,he=Re)}return U(he);case P:e:{for(tt=me.key;ae!==null;){if(ae.key===tt)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){p(he,ae.sibling),ae=A(ae,me.children||[]),ae.return=he,he=ae;break e}else{p(he,ae);break}else a(he,ae);ae=ae.sibling}ae=Qf(me,he.mode,Re),ae.return=he,he=ae}return U(he);case G:return tt=me._init,xr(he,ae,tt(me._payload),Re)}if(ot(me))return Ve(he,ae,me,Re);if(F(me))return qe(he,ae,me,Re);dd(he,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ae!==null&&ae.tag===6?(p(he,ae.sibling),ae=A(ae,me),ae.return=he,he=ae):(p(he,ae),ae=Jf(me,he.mode,Re),ae.return=he,he=ae),U(he)):p(he,ae)}return xr}var la=F0(!0),B0=F0(!1),ud=Si(null),hd=null,ca=null,af=null;function lf(){af=ca=hd=null}function cf(i){var a=ud.current;Qt(ud),i._currentValue=a}function df(i,a,p){for(;i!==null;){var S=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,S!==null&&(S.childLanes|=a)):S!==null&&(S.childLanes&a)!==a&&(S.childLanes|=a),i===p)break;i=i.return}}function da(i,a){hd=i,af=ca=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(ys=!0),i.firstContext=null)}function qs(i){var a=i._currentValue;if(af!==i)if(i={context:i,memoizedValue:a,next:null},ca===null){if(hd===null)throw Error(s(308));ca=i,hd.dependencies={lanes:0,firstContext:i}}else ca=ca.next=i;return a}var co=null;function uf(i){co===null?co=[i]:co.push(i)}function $0(i,a,p,S){var A=a.interleaved;return A===null?(p.next=p,uf(a)):(p.next=A.next,A.next=p),a.interleaved=p,ei(i,S)}function ei(i,a){i.lanes|=a;var p=i.alternate;for(p!==null&&(p.lanes|=a),p=i,i=i.return;i!==null;)i.childLanes|=a,p=i.alternate,p!==null&&(p.childLanes|=a),p=i,i=i.return;return p.tag===3?p.stateNode:null}var Ni=!1;function hf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Ei(i,a,p){var S=i.updateQueue;if(S===null)return null;if(S=S.shared,(Et&2)!==0){var A=S.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),S.pending=a,ei(i,p)}return A=S.interleaved,A===null?(a.next=a,uf(S)):(a.next=A.next,A.next=a),S.interleaved=a,ei(i,p)}function fd(i,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var S=a.lanes;S&=i.pendingLanes,p|=S,a.lanes=p,Go(i,p)}}function H0(i,a){var p=i.updateQueue,S=i.alternate;if(S!==null&&(S=S.updateQueue,p===S)){var A=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};D===null?A=D=U:D=D.next=U,p=p.next}while(p!==null);D===null?A=D=a:D=D.next=a}else A=D=a;p={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:S.shared,effects:S.effects},i.updateQueue=p;return}i=p.lastBaseUpdate,i===null?p.firstBaseUpdate=a:i.next=a,p.lastBaseUpdate=a}function md(i,a,p,S){var A=i.updateQueue;Ni=!1;var D=A.firstBaseUpdate,U=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var ne=Z,ge=ne.next;ne.next=null,U===null?D=ge:U.next=ge,U=ne;var Se=i.alternate;Se!==null&&(Se=Se.updateQueue,Z=Se.lastBaseUpdate,Z!==U&&(Z===null?Se.firstBaseUpdate=ge:Z.next=ge,Se.lastBaseUpdate=ne))}if(D!==null){var je=A.baseState;U=0,Se=ge=ne=null,Z=D;do{var Ce=Z.lane,$e=Z.eventTime;if((S&Ce)===Ce){Se!==null&&(Se=Se.next={eventTime:$e,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ve=i,qe=Z;switch(Ce=a,$e=p,qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){je=Ve.call($e,je,Ce);break e}je=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,Ce=typeof Ve=="function"?Ve.call($e,je,Ce):Ve,Ce==null)break e;je=R({},je,Ce);break e;case 2:Ni=!0}}Z.callback!==null&&Z.lane!==0&&(i.flags|=64,Ce=A.effects,Ce===null?A.effects=[Z]:Ce.push(Z))}else $e={eventTime:$e,lane:Ce,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Se===null?(ge=Se=$e,ne=je):Se=Se.next=$e,U|=Ce;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;Ce=Z,Z=Ce.next,Ce.next=null,A.lastBaseUpdate=Ce,A.shared.pending=null}}while(!0);if(Se===null&&(ne=je),A.baseState=ne,A.firstBaseUpdate=ge,A.lastBaseUpdate=Se,a=A.shared.interleaved,a!==null){A=a;do U|=A.lane,A=A.next;while(A!==a)}else D===null&&(A.shared.lanes=0);fo|=U,i.lanes=U,i.memoizedState=je}}function W0(i,a,p){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var S=i[a],A=S.callback;if(A!==null){if(S.callback=null,S=p,typeof A!="function")throw Error(s(191,A));A.call(S)}}}var Sl={},Nn=Si(Sl),kl=Si(Sl),jl=Si(Sl);function uo(i){if(i===Sl)throw Error(s(174));return i}function ff(i,a){switch(Gt(jl,a),Gt(kl,i),Gt(Nn,Sl),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ve(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ve(a,i)}Qt(Nn),Gt(Nn,a)}function ua(){Qt(Nn),Qt(kl),Qt(jl)}function V0(i){uo(jl.current);var a=uo(Nn.current),p=ve(a,i.type);a!==p&&(Gt(kl,i),Gt(Nn,p))}function mf(i){kl.current===i&&(Qt(Nn),Qt(kl))}var ar=Si(0);function pd(i){for(var a=i;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pf=[];function gf(){for(var i=0;i<pf.length;i++)pf[i]._workInProgressVersionPrimary=null;pf.length=0}var gd=k.ReactCurrentDispatcher,xf=k.ReactCurrentBatchConfig,ho=0,lr=null,kr=null,Dr=null,xd=!1,Nl=!1,El=0,bE=0;function ts(){throw Error(s(321))}function vf(i,a){if(a===null)return!1;for(var p=0;p<a.length&&p<i.length;p++)if(!hn(i[p],a[p]))return!1;return!0}function yf(i,a,p,S,A,D){if(ho=D,lr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gd.current=i===null||i.memoizedState===null?SE:kE,i=p(S,A),Nl){D=0;do{if(Nl=!1,El=0,25<=D)throw Error(s(301));D+=1,Dr=kr=null,a.updateQueue=null,gd.current=jE,i=p(S,A)}while(Nl)}if(gd.current=bd,a=kr!==null&&kr.next!==null,ho=0,Dr=kr=lr=null,xd=!1,a)throw Error(s(300));return i}function bf(){var i=El!==0;return El=0,i}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?lr.memoizedState=Dr=i:Dr=Dr.next=i,Dr}function Ys(){if(kr===null){var i=lr.alternate;i=i!==null?i.memoizedState:null}else i=kr.next;var a=Dr===null?lr.memoizedState:Dr.next;if(a!==null)Dr=a,kr=i;else{if(i===null)throw Error(s(310));kr=i,i={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Dr===null?lr.memoizedState=Dr=i:Dr=Dr.next=i}return Dr}function Pl(i,a){return typeof a=="function"?a(i):a}function wf(i){var a=Ys(),p=a.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=i;var S=kr,A=S.baseQueue,D=p.pending;if(D!==null){if(A!==null){var U=A.next;A.next=D.next,D.next=U}S.baseQueue=A=D,p.pending=null}if(A!==null){D=A.next,S=S.baseState;var Z=U=null,ne=null,ge=D;do{var Se=ge.lane;if((ho&Se)===Se)ne!==null&&(ne=ne.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),S=ge.hasEagerState?ge.eagerState:i(S,ge.action);else{var je={lane:Se,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ne===null?(Z=ne=je,U=S):ne=ne.next=je,lr.lanes|=Se,fo|=Se}ge=ge.next}while(ge!==null&&ge!==D);ne===null?U=S:ne.next=Z,hn(S,a.memoizedState)||(ys=!0),a.memoizedState=S,a.baseState=U,a.baseQueue=ne,p.lastRenderedState=S}if(i=p.interleaved,i!==null){A=i;do D=A.lane,lr.lanes|=D,fo|=D,A=A.next;while(A!==i)}else A===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function _f(i){var a=Ys(),p=a.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=i;var S=p.dispatch,A=p.pending,D=a.memoizedState;if(A!==null){p.pending=null;var U=A=A.next;do D=i(D,U.action),U=U.next;while(U!==A);hn(D,a.memoizedState)||(ys=!0),a.memoizedState=D,a.baseQueue===null&&(a.baseState=D),p.lastRenderedState=D}return[D,S]}function U0(){}function G0(i,a){var p=lr,S=Ys(),A=a(),D=!hn(S.memoizedState,A);if(D&&(S.memoizedState=A,ys=!0),S=S.queue,Cf(Y0.bind(null,p,S,i),[i]),S.getSnapshot!==a||D||Dr!==null&&Dr.memoizedState.tag&1){if(p.flags|=2048,Al(9,q0.bind(null,p,S,A,a),void 0,null),Ir===null)throw Error(s(349));(ho&30)!==0||K0(p,a,A)}return A}function K0(i,a,p){i.flags|=16384,i={getSnapshot:a,value:p},a=lr.updateQueue,a===null?(a={lastEffect:null,stores:null},lr.updateQueue=a,a.stores=[i]):(p=a.stores,p===null?a.stores=[i]:p.push(i))}function q0(i,a,p,S){a.value=p,a.getSnapshot=S,X0(a)&&J0(i)}function Y0(i,a,p){return p(function(){X0(a)&&J0(i)})}function X0(i){var a=i.getSnapshot;i=i.value;try{var p=a();return!hn(i,p)}catch{return!0}}function J0(i){var a=ei(i,1);a!==null&&xn(a,i,1,-1)}function Q0(i){var a=En();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:i},a.queue=i,i=i.dispatch=CE.bind(null,lr,i),[a.memoizedState,i]}function Al(i,a,p,S){return i={tag:i,create:a,destroy:p,deps:S,next:null},a=lr.updateQueue,a===null?(a={lastEffect:null,stores:null},lr.updateQueue=a,a.lastEffect=i.next=i):(p=a.lastEffect,p===null?a.lastEffect=i.next=i:(S=p.next,p.next=i,i.next=S,a.lastEffect=i)),i}function Z0(){return Ys().memoizedState}function vd(i,a,p,S){var A=En();lr.flags|=i,A.memoizedState=Al(1|a,p,void 0,S===void 0?null:S)}function yd(i,a,p,S){var A=Ys();S=S===void 0?null:S;var D=void 0;if(kr!==null){var U=kr.memoizedState;if(D=U.destroy,S!==null&&vf(S,U.deps)){A.memoizedState=Al(a,p,D,S);return}}lr.flags|=i,A.memoizedState=Al(1|a,p,D,S)}function ev(i,a){return vd(8390656,8,i,a)}function Cf(i,a){return yd(2048,8,i,a)}function tv(i,a){return yd(4,2,i,a)}function rv(i,a){return yd(4,4,i,a)}function sv(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function nv(i,a,p){return p=p!=null?p.concat([i]):null,yd(4,4,sv.bind(null,a,i),p)}function Sf(){}function iv(i,a){var p=Ys();a=a===void 0?null:a;var S=p.memoizedState;return S!==null&&a!==null&&vf(a,S[1])?S[0]:(p.memoizedState=[i,a],i)}function ov(i,a){var p=Ys();a=a===void 0?null:a;var S=p.memoizedState;return S!==null&&a!==null&&vf(a,S[1])?S[0]:(i=i(),p.memoizedState=[i,a],i)}function av(i,a,p){return(ho&21)===0?(i.baseState&&(i.baseState=!1,ys=!0),i.memoizedState=p):(hn(p,a)||(p=eo(),lr.lanes|=p,fo|=p,i.baseState=!0),a)}function wE(i,a){var p=Nt;Nt=p!==0&&4>p?p:4,i(!0);var S=xf.transition;xf.transition={};try{i(!1),a()}finally{Nt=p,xf.transition=S}}function lv(){return Ys().memoizedState}function _E(i,a,p){var S=Ri(i);if(p={lane:S,action:p,hasEagerState:!1,eagerState:null,next:null},cv(i))dv(a,p);else if(p=$0(i,a,p,S),p!==null){var A=cs();xn(p,i,S,A),uv(p,a,S)}}function CE(i,a,p){var S=Ri(i),A={lane:S,action:p,hasEagerState:!1,eagerState:null,next:null};if(cv(i))dv(a,A);else{var D=i.alternate;if(i.lanes===0&&(D===null||D.lanes===0)&&(D=a.lastRenderedReducer,D!==null))try{var U=a.lastRenderedState,Z=D(U,p);if(A.hasEagerState=!0,A.eagerState=Z,hn(Z,U)){var ne=a.interleaved;ne===null?(A.next=A,uf(a)):(A.next=ne.next,ne.next=A),a.interleaved=A;return}}catch{}finally{}p=$0(i,a,A,S),p!==null&&(A=cs(),xn(p,i,S,A),uv(p,a,S))}}function cv(i){var a=i.alternate;return i===lr||a!==null&&a===lr}function dv(i,a){Nl=xd=!0;var p=i.pending;p===null?a.next=a:(a.next=p.next,p.next=a),i.pending=a}function uv(i,a,p){if((p&4194240)!==0){var S=a.lanes;S&=i.pendingLanes,p|=S,a.lanes=p,Go(i,p)}}var bd={readContext:qs,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useInsertionEffect:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useSyncExternalStore:ts,useId:ts,unstable_isNewReconciler:!1},SE={readContext:qs,useCallback:function(i,a){return En().memoizedState=[i,a===void 0?null:a],i},useContext:qs,useEffect:ev,useImperativeHandle:function(i,a,p){return p=p!=null?p.concat([i]):null,vd(4194308,4,sv.bind(null,a,i),p)},useLayoutEffect:function(i,a){return vd(4194308,4,i,a)},useInsertionEffect:function(i,a){return vd(4,2,i,a)},useMemo:function(i,a){var p=En();return a=a===void 0?null:a,i=i(),p.memoizedState=[i,a],i},useReducer:function(i,a,p){var S=En();return a=p!==void 0?p(a):a,S.memoizedState=S.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},S.queue=i,i=i.dispatch=_E.bind(null,lr,i),[S.memoizedState,i]},useRef:function(i){var a=En();return i={current:i},a.memoizedState=i},useState:Q0,useDebugValue:Sf,useDeferredValue:function(i){return En().memoizedState=i},useTransition:function(){var i=Q0(!1),a=i[0];return i=wE.bind(null,i[1]),En().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,p){var S=lr,A=En();if(sr){if(p===void 0)throw Error(s(407));p=p()}else{if(p=a(),Ir===null)throw Error(s(349));(ho&30)!==0||K0(S,a,p)}A.memoizedState=p;var D={value:p,getSnapshot:a};return A.queue=D,ev(Y0.bind(null,S,D,i),[i]),S.flags|=2048,Al(9,q0.bind(null,S,D,p,a),void 0,null),p},useId:function(){var i=En(),a=Ir.identifierPrefix;if(sr){var p=Zn,S=Qn;p=(S&~(1<<32-Pt(S)-1)).toString(32)+p,a=":"+a+"R"+p,p=El++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=bE++,a=":"+a+"r"+p.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},kE={readContext:qs,useCallback:iv,useContext:qs,useEffect:Cf,useImperativeHandle:nv,useInsertionEffect:tv,useLayoutEffect:rv,useMemo:ov,useReducer:wf,useRef:Z0,useState:function(){return wf(Pl)},useDebugValue:Sf,useDeferredValue:function(i){var a=Ys();return av(a,kr.memoizedState,i)},useTransition:function(){var i=wf(Pl)[0],a=Ys().memoizedState;return[i,a]},useMutableSource:U0,useSyncExternalStore:G0,useId:lv,unstable_isNewReconciler:!1},jE={readContext:qs,useCallback:iv,useContext:qs,useEffect:Cf,useImperativeHandle:nv,useInsertionEffect:tv,useLayoutEffect:rv,useMemo:ov,useReducer:_f,useRef:Z0,useState:function(){return _f(Pl)},useDebugValue:Sf,useDeferredValue:function(i){var a=Ys();return kr===null?a.memoizedState=i:av(a,kr.memoizedState,i)},useTransition:function(){var i=_f(Pl)[0],a=Ys().memoizedState;return[i,a]},useMutableSource:U0,useSyncExternalStore:G0,useId:lv,unstable_isNewReconciler:!1};function mn(i,a){if(i&&i.defaultProps){a=R({},a),i=i.defaultProps;for(var p in i)a[p]===void 0&&(a[p]=i[p]);return a}return a}function kf(i,a,p,S){a=i.memoizedState,p=p(S,a),p=p==null?a:R({},a,p),i.memoizedState=p,i.lanes===0&&(i.updateQueue.baseState=p)}var wd={isMounted:function(i){return(i=i._reactInternals)?Ts(i)===i:!1},enqueueSetState:function(i,a,p){i=i._reactInternals;var S=cs(),A=Ri(i),D=ti(S,A);D.payload=a,p!=null&&(D.callback=p),a=Ei(i,D,A),a!==null&&(xn(a,i,A,S),fd(a,i,A))},enqueueReplaceState:function(i,a,p){i=i._reactInternals;var S=cs(),A=Ri(i),D=ti(S,A);D.tag=1,D.payload=a,p!=null&&(D.callback=p),a=Ei(i,D,A),a!==null&&(xn(a,i,A,S),fd(a,i,A))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var p=cs(),S=Ri(i),A=ti(p,S);A.tag=2,a!=null&&(A.callback=a),a=Ei(i,A,S),a!==null&&(xn(a,i,S,p),fd(a,i,S))}};function hv(i,a,p,S,A,D,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(S,D,U):a.prototype&&a.prototype.isPureReactComponent?!gl(p,S)||!gl(A,D):!0}function fv(i,a,p){var S=!1,A=ki,D=a.contextType;return typeof D=="object"&&D!==null?D=qs(D):(A=vs(a)?oo:es.current,S=a.contextTypes,D=(S=S!=null)?na(i,A):ki),a=new a(p,D),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wd,i.stateNode=a,a._reactInternals=i,S&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=D),a}function mv(i,a,p,S){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,S),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,S),a.state!==i&&wd.enqueueReplaceState(a,a.state,null)}function jf(i,a,p,S){var A=i.stateNode;A.props=p,A.state=i.memoizedState,A.refs={},hf(i);var D=a.contextType;typeof D=="object"&&D!==null?A.context=qs(D):(D=vs(a)?oo:es.current,A.context=na(i,D)),A.state=i.memoizedState,D=a.getDerivedStateFromProps,typeof D=="function"&&(kf(i,a,D,p),A.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&wd.enqueueReplaceState(A,A.state,null),md(i,p,A,S),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function ha(i,a){try{var p="",S=a;do p+=de(S),S=S.return;while(S);var A=p}catch(D){A=`
Error generating stack: `+D.message+`
`+D.stack}return{value:i,source:a,stack:A,digest:null}}function Nf(i,a,p){return{value:i,source:null,stack:p??null,digest:a??null}}function Ef(i,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function pv(i,a,p){p=ti(-1,p),p.tag=3,p.payload={element:null};var S=a.value;return p.callback=function(){Ed||(Ed=!0,Wf=S),Ef(i,a)},p}function gv(i,a,p){p=ti(-1,p),p.tag=3;var S=i.type.getDerivedStateFromError;if(typeof S=="function"){var A=a.value;p.payload=function(){return S(A)},p.callback=function(){Ef(i,a)}}var D=i.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(p.callback=function(){Ef(i,a),typeof S!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})}),p}function xv(i,a,p){var S=i.pingCache;if(S===null){S=i.pingCache=new NE;var A=new Set;S.set(a,A)}else A=S.get(a),A===void 0&&(A=new Set,S.set(a,A));A.has(p)||(A.add(p),i=zE.bind(null,i,a,p),a.then(i,i))}function vv(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function yv(i,a,p,S,A){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=ti(-1,1),a.tag=2,Ei(p,a,1))),p.lanes|=1),i):(i.flags|=65536,i.lanes=A,i)}var EE=k.ReactCurrentOwner,ys=!1;function ls(i,a,p,S){a.child=i===null?B0(a,null,p,S):la(a,i.child,p,S)}function bv(i,a,p,S,A){p=p.render;var D=a.ref;return da(a,A),S=yf(i,a,p,S,D,A),p=bf(),i!==null&&!ys?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~A,ri(i,a,A)):(sr&&p&&tf(a),a.flags|=1,ls(i,a,S,A),a.child)}function wv(i,a,p,S,A){if(i===null){var D=p.type;return typeof D=="function"&&!Xf(D)&&D.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=D,_v(i,a,D,S,A)):(i=Dd(p.type,null,S,a,a.mode,A),i.ref=a.ref,i.return=a,a.child=i)}if(D=i.child,(i.lanes&A)===0){var U=D.memoizedProps;if(p=p.compare,p=p!==null?p:gl,p(U,S)&&i.ref===a.ref)return ri(i,a,A)}return a.flags|=1,i=Di(D,S),i.ref=a.ref,i.return=a,a.child=i}function _v(i,a,p,S,A){if(i!==null){var D=i.memoizedProps;if(gl(D,S)&&i.ref===a.ref)if(ys=!1,a.pendingProps=S=D,(i.lanes&A)!==0)(i.flags&131072)!==0&&(ys=!0);else return a.lanes=i.lanes,ri(i,a,A)}return Pf(i,a,p,S,A)}function Cv(i,a,p){var S=a.pendingProps,A=S.children,D=i!==null?i.memoizedState:null;if(S.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ma,Is),Is|=p;else{if((p&1073741824)===0)return i=D!==null?D.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Gt(ma,Is),Is|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=D!==null?D.baseLanes:p,Gt(ma,Is),Is|=S}else D!==null?(S=D.baseLanes|p,a.memoizedState=null):S=p,Gt(ma,Is),Is|=S;return ls(i,a,A,p),a.child}function Sv(i,a){var p=a.ref;(i===null&&p!==null||i!==null&&i.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function Pf(i,a,p,S,A){var D=vs(p)?oo:es.current;return D=na(a,D),da(a,A),p=yf(i,a,p,S,D,A),S=bf(),i!==null&&!ys?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~A,ri(i,a,A)):(sr&&S&&tf(a),a.flags|=1,ls(i,a,p,A),a.child)}function kv(i,a,p,S,A){if(vs(p)){var D=!0;id(a)}else D=!1;if(da(a,A),a.stateNode===null)Cd(i,a),fv(a,p,S),jf(a,p,S,A),S=!0;else if(i===null){var U=a.stateNode,Z=a.memoizedProps;U.props=Z;var ne=U.context,ge=p.contextType;typeof ge=="object"&&ge!==null?ge=qs(ge):(ge=vs(p)?oo:es.current,ge=na(a,ge));var Se=p.getDerivedStateFromProps,je=typeof Se=="function"||typeof U.getSnapshotBeforeUpdate=="function";je||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==S||ne!==ge)&&mv(a,U,S,ge),Ni=!1;var Ce=a.memoizedState;U.state=Ce,md(a,S,U,A),ne=a.memoizedState,Z!==S||Ce!==ne||xs.current||Ni?(typeof Se=="function"&&(kf(a,p,Se,S),ne=a.memoizedState),(Z=Ni||hv(a,p,Z,S,Ce,ne,ge))?(je||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(a.flags|=4194308)):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=S,a.memoizedState=ne),U.props=S,U.state=ne,U.context=ge,S=Z):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),S=!1)}else{U=a.stateNode,z0(i,a),Z=a.memoizedProps,ge=a.type===a.elementType?Z:mn(a.type,Z),U.props=ge,je=a.pendingProps,Ce=U.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=qs(ne):(ne=vs(p)?oo:es.current,ne=na(a,ne));var $e=p.getDerivedStateFromProps;(Se=typeof $e=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==je||Ce!==ne)&&mv(a,U,S,ne),Ni=!1,Ce=a.memoizedState,U.state=Ce,md(a,S,U,A);var Ve=a.memoizedState;Z!==je||Ce!==Ve||xs.current||Ni?(typeof $e=="function"&&(kf(a,p,$e,S),Ve=a.memoizedState),(ge=Ni||hv(a,p,ge,S,Ce,Ve,ne)||!1)?(Se||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(S,Ve,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(S,Ve,ne)),typeof U.componentDidUpdate=="function"&&(a.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=S,a.memoizedState=Ve),U.props=S,U.state=Ve,U.context=ne,S=ge):(typeof U.componentDidUpdate!="function"||Z===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&Ce===i.memoizedState||(a.flags|=1024),S=!1)}return Af(i,a,p,S,D,A)}function Af(i,a,p,S,A,D){Sv(i,a);var U=(a.flags&128)!==0;if(!S&&!U)return A&&A0(a,p,!1),ri(i,a,D);S=a.stateNode,EE.current=a;var Z=U&&typeof p.getDerivedStateFromError!="function"?null:S.render();return a.flags|=1,i!==null&&U?(a.child=la(a,i.child,null,D),a.child=la(a,null,Z,D)):ls(i,a,Z,D),a.memoizedState=S.state,A&&A0(a,p,!0),a.child}function jv(i){var a=i.stateNode;a.pendingContext?E0(i,a.pendingContext,a.pendingContext!==a.context):a.context&&E0(i,a.context,!1),ff(i,a.containerInfo)}function Nv(i,a,p,S,A){return aa(),of(A),a.flags|=256,ls(i,a,p,S),a.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Rf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ev(i,a,p){var S=a.pendingProps,A=ar.current,D=!1,U=(a.flags&128)!==0,Z;if((Z=U)||(Z=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Z?(D=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),Gt(ar,A&1),i===null)return nf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(U=S.children,i=S.fallback,D?(S=a.mode,D=a.child,U={mode:"hidden",children:U},(S&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=U):D=Id(U,S,0,null),i=xo(i,S,p,null),D.return=a,i.return=a,D.sibling=i,a.child=D,a.child.memoizedState=Rf(p),a.memoizedState=Tf,i):Mf(a,U));if(A=i.memoizedState,A!==null&&(Z=A.dehydrated,Z!==null))return PE(i,a,U,S,Z,A,p);if(D){D=S.fallback,U=a.mode,A=i.child,Z=A.sibling;var ne={mode:"hidden",children:S.children};return(U&1)===0&&a.child!==A?(S=a.child,S.childLanes=0,S.pendingProps=ne,a.deletions=null):(S=Di(A,ne),S.subtreeFlags=A.subtreeFlags&14680064),Z!==null?D=Di(Z,D):(D=xo(D,U,p,null),D.flags|=2),D.return=a,S.return=a,S.sibling=D,a.child=S,S=D,D=a.child,U=i.child.memoizedState,U=U===null?Rf(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},D.memoizedState=U,D.childLanes=i.childLanes&~p,a.memoizedState=Tf,S}return D=i.child,i=D.sibling,S=Di(D,{mode:"visible",children:S.children}),(a.mode&1)===0&&(S.lanes=p),S.return=a,S.sibling=null,i!==null&&(p=a.deletions,p===null?(a.deletions=[i],a.flags|=16):p.push(i)),a.child=S,a.memoizedState=null,S}function Mf(i,a){return a=Id({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function _d(i,a,p,S){return S!==null&&of(S),la(a,i.child,null,p),i=Mf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function PE(i,a,p,S,A,D,U){if(p)return a.flags&256?(a.flags&=-257,S=Nf(Error(s(422))),_d(i,a,U,S)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(D=S.fallback,A=a.mode,S=Id({mode:"visible",children:S.children},A,0,null),D=xo(D,A,U,null),D.flags|=2,S.return=a,D.return=a,S.sibling=D,a.child=S,(a.mode&1)!==0&&la(a,i.child,null,U),a.child.memoizedState=Rf(U),a.memoizedState=Tf,D);if((a.mode&1)===0)return _d(i,a,U,null);if(A.data==="$!"){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Z=S.dgst;return S=Z,D=Error(s(419)),S=Nf(D,S,void 0),_d(i,a,U,S)}if(Z=(U&i.childLanes)!==0,ys||Z){if(S=Ir,S!==null){switch(U&-U){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(S.suspendedLanes|U))!==0?0:A,A!==0&&A!==D.retryLane&&(D.retryLane=A,ei(i,A),xn(S,i,A,-1))}return Yf(),S=Nf(Error(s(421))),_d(i,a,U,S)}return A.data==="$?"?(a.flags|=128,a.child=i.child,a=HE.bind(null,i),A._reactRetry=a,null):(i=D.treeContext,Ds=Ci(A.nextSibling),Ms=a,sr=!0,fn=null,i!==null&&(Gs[Ks++]=Qn,Gs[Ks++]=Zn,Gs[Ks++]=ao,Qn=i.id,Zn=i.overflow,ao=a),a=Mf(a,S.children),a.flags|=4096,a)}function Pv(i,a,p){i.lanes|=a;var S=i.alternate;S!==null&&(S.lanes|=a),df(i.return,a,p)}function Df(i,a,p,S,A){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:S,tail:p,tailMode:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=p,D.tailMode=A)}function Av(i,a,p){var S=a.pendingProps,A=S.revealOrder,D=S.tail;if(ls(i,a,S.children,p),S=ar.current,(S&2)!==0)S=S&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Pv(i,p,a);else if(i.tag===19)Pv(i,p,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}S&=1}if(Gt(ar,S),(a.mode&1)===0)a.memoizedState=null;else switch(A){case"forwards":for(p=a.child,A=null;p!==null;)i=p.alternate,i!==null&&pd(i)===null&&(A=p),p=p.sibling;p=A,p===null?(A=a.child,a.child=null):(A=p.sibling,p.sibling=null),Df(a,!1,A,p,D);break;case"backwards":for(p=null,A=a.child,a.child=null;A!==null;){if(i=A.alternate,i!==null&&pd(i)===null){a.child=A;break}i=A.sibling,A.sibling=p,p=A,A=i}Df(a,!0,p,null,D);break;case"together":Df(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ri(i,a,p){if(i!==null&&(a.dependencies=i.dependencies),fo|=a.lanes,(p&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,p=Di(i,i.pendingProps),a.child=p,p.return=a;i.sibling!==null;)i=i.sibling,p=p.sibling=Di(i,i.pendingProps),p.return=a;p.sibling=null}return a.child}function AE(i,a,p){switch(a.tag){case 3:jv(a),aa();break;case 5:V0(a);break;case 1:vs(a.type)&&id(a);break;case 4:ff(a,a.stateNode.containerInfo);break;case 10:var S=a.type._context,A=a.memoizedProps.value;Gt(ud,S._currentValue),S._currentValue=A;break;case 13:if(S=a.memoizedState,S!==null)return S.dehydrated!==null?(Gt(ar,ar.current&1),a.flags|=128,null):(p&a.child.childLanes)!==0?Ev(i,a,p):(Gt(ar,ar.current&1),i=ri(i,a,p),i!==null?i.sibling:null);Gt(ar,ar.current&1);break;case 19:if(S=(p&a.childLanes)!==0,(i.flags&128)!==0){if(S)return Av(i,a,p);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Gt(ar,ar.current),S)break;return null;case 22:case 23:return a.lanes=0,Cv(i,a,p)}return ri(i,a,p)}var Tv,If,Rv,Mv;Tv=function(i,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},If=function(){},Rv=function(i,a,p,S){var A=i.memoizedProps;if(A!==S){i=a.stateNode,uo(Nn.current);var D=null;switch(p){case"input":A=Le(i,A),S=Le(i,S),D=[];break;case"select":A=R({},A,{value:void 0}),S=R({},S,{value:void 0}),D=[];break;case"textarea":A=be(i,A),S=be(i,S),D=[];break;default:typeof A.onClick!="function"&&typeof S.onClick=="function"&&(i.onclick=rd)}Ht(p,S);var U;p=null;for(ge in A)if(!S.hasOwnProperty(ge)&&A.hasOwnProperty(ge)&&A[ge]!=null)if(ge==="style"){var Z=A[ge];for(U in Z)Z.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(o.hasOwnProperty(ge)?D||(D=[]):(D=D||[]).push(ge,null));for(ge in S){var ne=S[ge];if(Z=A!=null?A[ge]:void 0,S.hasOwnProperty(ge)&&ne!==Z&&(ne!=null||Z!=null))if(ge==="style")if(Z){for(U in Z)!Z.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in ne)ne.hasOwnProperty(U)&&Z[U]!==ne[U]&&(p||(p={}),p[U]=ne[U])}else p||(D||(D=[]),D.push(ge,p)),p=ne;else ge==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Z=Z?Z.__html:void 0,ne!=null&&Z!==ne&&(D=D||[]).push(ge,ne)):ge==="children"?typeof ne!="string"&&typeof ne!="number"||(D=D||[]).push(ge,""+ne):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(o.hasOwnProperty(ge)?(ne!=null&&ge==="onScroll"&&Jt("scroll",i),D||Z===ne||(D=[])):(D=D||[]).push(ge,ne))}p&&(D=D||[]).push("style",p);var ge=D;(a.updateQueue=ge)&&(a.flags|=4)}},Mv=function(i,a,p,S){p!==S&&(a.flags|=4)};function Tl(i,a){if(!sr)switch(i.tailMode){case"hidden":a=i.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?i.tail=null:p.sibling=null;break;case"collapsed":p=i.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:S.sibling=null}}function rs(i){var a=i.alternate!==null&&i.alternate.child===i.child,p=0,S=0;if(a)for(var A=i.child;A!==null;)p|=A.lanes|A.childLanes,S|=A.subtreeFlags&14680064,S|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)p|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=S,i.childLanes=p,a}function TE(i,a,p){var S=a.pendingProps;switch(rf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(a),null;case 1:return vs(a.type)&&nd(),rs(a),null;case 3:return S=a.stateNode,ua(),Qt(xs),Qt(es),gf(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(i===null||i.child===null)&&(cd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fn!==null&&(Gf(fn),fn=null))),If(i,a),rs(a),null;case 5:mf(a);var A=uo(jl.current);if(p=a.type,i!==null&&a.stateNode!=null)Rv(i,a,p,S,A),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!S){if(a.stateNode===null)throw Error(s(166));return rs(a),null}if(i=uo(Nn.current),cd(a)){S=a.stateNode,p=a.type;var D=a.memoizedProps;switch(S[jn]=a,S[wl]=D,i=(a.mode&1)!==0,p){case"dialog":Jt("cancel",S),Jt("close",S);break;case"iframe":case"object":case"embed":Jt("load",S);break;case"video":case"audio":for(A=0;A<vl.length;A++)Jt(vl[A],S);break;case"source":Jt("error",S);break;case"img":case"image":case"link":Jt("error",S),Jt("load",S);break;case"details":Jt("toggle",S);break;case"input":Ke(S,D),Jt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!D.multiple},Jt("invalid",S);break;case"textarea":Oe(S,D),Jt("invalid",S)}Ht(p,D),A=null;for(var U in D)if(D.hasOwnProperty(U)){var Z=D[U];U==="children"?typeof Z=="string"?S.textContent!==Z&&(D.suppressHydrationWarning!==!0&&td(S.textContent,Z,i),A=["children",Z]):typeof Z=="number"&&S.textContent!==""+Z&&(D.suppressHydrationWarning!==!0&&td(S.textContent,Z,i),A=["children",""+Z]):o.hasOwnProperty(U)&&Z!=null&&U==="onScroll"&&Jt("scroll",S)}switch(p){case"input":Q(S),Je(S,D,!0);break;case"textarea":Q(S),_e(S);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(S.onclick=rd)}S=A,a.updateQueue=S,S!==null&&(a.flags|=4)}else{U=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=oe(p)),i==="http://www.w3.org/1999/xhtml"?p==="script"?(i=U.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof S.is=="string"?i=U.createElement(p,{is:S.is}):(i=U.createElement(p),p==="select"&&(U=i,S.multiple?U.multiple=!0:S.size&&(U.size=S.size))):i=U.createElementNS(i,p),i[jn]=a,i[wl]=S,Tv(i,a,!1,!1),a.stateNode=i;e:{switch(U=_r(p,S),p){case"dialog":Jt("cancel",i),Jt("close",i),A=S;break;case"iframe":case"object":case"embed":Jt("load",i),A=S;break;case"video":case"audio":for(A=0;A<vl.length;A++)Jt(vl[A],i);A=S;break;case"source":Jt("error",i),A=S;break;case"img":case"image":case"link":Jt("error",i),Jt("load",i),A=S;break;case"details":Jt("toggle",i),A=S;break;case"input":Ke(i,S),A=Le(i,S),Jt("invalid",i);break;case"option":A=S;break;case"select":i._wrapperState={wasMultiple:!!S.multiple},A=R({},S,{value:void 0}),Jt("invalid",i);break;case"textarea":Oe(i,S),A=be(i,S),Jt("invalid",i);break;default:A=S}Ht(p,A),Z=A;for(D in Z)if(Z.hasOwnProperty(D)){var ne=Z[D];D==="style"?wr(i,ne):D==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Be(i,ne)):D==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&ze(i,ne):typeof ne=="number"&&ze(i,""+ne):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?ne!=null&&D==="onScroll"&&Jt("scroll",i):ne!=null&&b(i,D,ne,U))}switch(p){case"input":Q(i),Je(i,S,!1);break;case"textarea":Q(i),_e(i);break;case"option":S.value!=null&&i.setAttribute("value",""+W(S.value));break;case"select":i.multiple=!!S.multiple,D=S.value,D!=null?ke(i,!!S.multiple,D,!1):S.defaultValue!=null&&ke(i,!!S.multiple,S.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=rd)}switch(p){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rs(a),null;case 6:if(i&&a.stateNode!=null)Mv(i,a,i.memoizedProps,S);else{if(typeof S!="string"&&a.stateNode===null)throw Error(s(166));if(p=uo(jl.current),uo(Nn.current),cd(a)){if(S=a.stateNode,p=a.memoizedProps,S[jn]=a,(D=S.nodeValue!==p)&&(i=Ms,i!==null))switch(i.tag){case 3:td(S.nodeValue,p,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&td(S.nodeValue,p,(i.mode&1)!==0)}D&&(a.flags|=4)}else S=(p.nodeType===9?p:p.ownerDocument).createTextNode(S),S[jn]=a,a.stateNode=S}return rs(a),null;case 13:if(Qt(ar),S=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(sr&&Ds!==null&&(a.mode&1)!==0&&(a.flags&128)===0)L0(),aa(),a.flags|=98560,D=!1;else if(D=cd(a),S!==null&&S.dehydrated!==null){if(i===null){if(!D)throw Error(s(318));if(D=a.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(s(317));D[jn]=a}else aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rs(a),D=!1}else fn!==null&&(Gf(fn),fn=null),D=!0;if(!D)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=p,a):(S=S!==null,S!==(i!==null&&i.memoizedState!==null)&&S&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(ar.current&1)!==0?jr===0&&(jr=3):Yf())),a.updateQueue!==null&&(a.flags|=4),rs(a),null);case 4:return ua(),If(i,a),i===null&&yl(a.stateNode.containerInfo),rs(a),null;case 10:return cf(a.type._context),rs(a),null;case 17:return vs(a.type)&&nd(),rs(a),null;case 19:if(Qt(ar),D=a.memoizedState,D===null)return rs(a),null;if(S=(a.flags&128)!==0,U=D.rendering,U===null)if(S)Tl(D,!1);else{if(jr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(U=pd(i),U!==null){for(a.flags|=128,Tl(D,!1),S=U.updateQueue,S!==null&&(a.updateQueue=S,a.flags|=4),a.subtreeFlags=0,S=p,p=a.child;p!==null;)D=p,i=S,D.flags&=14680066,U=D.alternate,U===null?(D.childLanes=0,D.lanes=i,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=U.childLanes,D.lanes=U.lanes,D.child=U.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=U.memoizedProps,D.memoizedState=U.memoizedState,D.updateQueue=U.updateQueue,D.type=U.type,i=U.dependencies,D.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),p=p.sibling;return Gt(ar,ar.current&1|2),a.child}i=i.sibling}D.tail!==null&&Ut()>pa&&(a.flags|=128,S=!0,Tl(D,!1),a.lanes=4194304)}else{if(!S)if(i=pd(U),i!==null){if(a.flags|=128,S=!0,p=i.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),Tl(D,!0),D.tail===null&&D.tailMode==="hidden"&&!U.alternate&&!sr)return rs(a),null}else 2*Ut()-D.renderingStartTime>pa&&p!==1073741824&&(a.flags|=128,S=!0,Tl(D,!1),a.lanes=4194304);D.isBackwards?(U.sibling=a.child,a.child=U):(p=D.last,p!==null?p.sibling=U:a.child=U,D.last=U)}return D.tail!==null?(a=D.tail,D.rendering=a,D.tail=a.sibling,D.renderingStartTime=Ut(),a.sibling=null,p=ar.current,Gt(ar,S?p&1|2:p&1),a):(rs(a),null);case 22:case 23:return qf(),S=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==S&&(a.flags|=8192),S&&(a.mode&1)!==0?(Is&1073741824)!==0&&(rs(a),a.subtreeFlags&6&&(a.flags|=8192)):rs(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function RE(i,a){switch(rf(a),a.tag){case 1:return vs(a.type)&&nd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ua(),Qt(xs),Qt(es),gf(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return mf(a),null;case 13:if(Qt(ar),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));aa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Qt(ar),null;case 4:return ua(),null;case 10:return cf(a.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var Sd=!1,ss=!1,ME=typeof WeakSet=="function"?WeakSet:Set,We=null;function fa(i,a){var p=i.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(S){mr(i,a,S)}else p.current=null}function Lf(i,a,p){try{p()}catch(S){mr(i,a,S)}}var Dv=!1;function DE(i,a){if(Kh=no,i=h0(),Bh(i)){if("selectionStart"in i)var p={start:i.selectionStart,end:i.selectionEnd};else e:{p=(p=i.ownerDocument)&&p.defaultView||window;var S=p.getSelection&&p.getSelection();if(S&&S.rangeCount!==0){p=S.anchorNode;var A=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var U=0,Z=-1,ne=-1,ge=0,Se=0,je=i,Ce=null;t:for(;;){for(var $e;je!==p||A!==0&&je.nodeType!==3||(Z=U+A),je!==D||S!==0&&je.nodeType!==3||(ne=U+S),je.nodeType===3&&(U+=je.nodeValue.length),($e=je.firstChild)!==null;)Ce=je,je=$e;for(;;){if(je===i)break t;if(Ce===p&&++ge===A&&(Z=U),Ce===D&&++Se===S&&(ne=U),($e=je.nextSibling)!==null)break;je=Ce,Ce=je.parentNode}je=$e}p=Z===-1||ne===-1?null:{start:Z,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(qh={focusedElem:i,selectionRange:p},no=!1,We=a;We!==null;)if(a=We,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,We=i;else for(;We!==null;){a=We;try{var Ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var qe=Ve.memoizedProps,xr=Ve.memoizedState,he=a.stateNode,ae=he.getSnapshotBeforeUpdate(a.elementType===a.type?qe:mn(a.type,qe),xr);he.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var me=a.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Re){mr(a,a.return,Re)}if(i=a.sibling,i!==null){i.return=a.return,We=i;break}We=a.return}return Ve=Dv,Dv=!1,Ve}function Rl(i,a,p){var S=a.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var A=S=S.next;do{if((A.tag&i)===i){var D=A.destroy;A.destroy=void 0,D!==void 0&&Lf(a,p,D)}A=A.next}while(A!==S)}}function kd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&i)===i){var S=p.create;p.destroy=S()}p=p.next}while(p!==a)}}function Of(i){var a=i.ref;if(a!==null){var p=i.stateNode;switch(i.tag){case 5:i=p;break;default:i=p}typeof a=="function"?a(i):a.current=i}}function Iv(i){var a=i.alternate;a!==null&&(i.alternate=null,Iv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[jn],delete a[wl],delete a[Qh],delete a[gE],delete a[xE])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lv(i){return i.tag===5||i.tag===3||i.tag===4}function Ov(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ff(i,a,p){var S=i.tag;if(S===5||S===6)i=i.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(i,a):p.insertBefore(i,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(i,p)):(a=p,a.appendChild(i)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=rd));else if(S!==4&&(i=i.child,i!==null))for(Ff(i,a,p),i=i.sibling;i!==null;)Ff(i,a,p),i=i.sibling}function Bf(i,a,p){var S=i.tag;if(S===5||S===6)i=i.stateNode,a?p.insertBefore(i,a):p.appendChild(i);else if(S!==4&&(i=i.child,i!==null))for(Bf(i,a,p),i=i.sibling;i!==null;)Bf(i,a,p),i=i.sibling}var Vr=null,pn=!1;function Pi(i,a,p){for(p=p.child;p!==null;)Fv(i,a,p),p=p.sibling}function Fv(i,a,p){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(jt,p)}catch{}switch(p.tag){case 5:ss||fa(p,a);case 6:var S=Vr,A=pn;Vr=null,Pi(i,a,p),Vr=S,pn=A,Vr!==null&&(pn?(i=Vr,p=p.stateNode,i.nodeType===8?i.parentNode.removeChild(p):i.removeChild(p)):Vr.removeChild(p.stateNode));break;case 18:Vr!==null&&(pn?(i=Vr,p=p.stateNode,i.nodeType===8?Jh(i.parentNode,p):i.nodeType===1&&Jh(i,p),bi(i)):Jh(Vr,p.stateNode));break;case 4:S=Vr,A=pn,Vr=p.stateNode.containerInfo,pn=!0,Pi(i,a,p),Vr=S,pn=A;break;case 0:case 11:case 14:case 15:if(!ss&&(S=p.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){A=S=S.next;do{var D=A,U=D.destroy;D=D.tag,U!==void 0&&((D&2)!==0||(D&4)!==0)&&Lf(p,a,U),A=A.next}while(A!==S)}Pi(i,a,p);break;case 1:if(!ss&&(fa(p,a),S=p.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=p.memoizedProps,S.state=p.memoizedState,S.componentWillUnmount()}catch(Z){mr(p,a,Z)}Pi(i,a,p);break;case 21:Pi(i,a,p);break;case 22:p.mode&1?(ss=(S=ss)||p.memoizedState!==null,Pi(i,a,p),ss=S):Pi(i,a,p);break;default:Pi(i,a,p)}}function Bv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var p=i.stateNode;p===null&&(p=i.stateNode=new ME),a.forEach(function(S){var A=WE.bind(null,i,S);p.has(S)||(p.add(S),S.then(A,A))})}}function gn(i,a){var p=a.deletions;if(p!==null)for(var S=0;S<p.length;S++){var A=p[S];try{var D=i,U=a,Z=U;e:for(;Z!==null;){switch(Z.tag){case 5:Vr=Z.stateNode,pn=!1;break e;case 3:Vr=Z.stateNode.containerInfo,pn=!0;break e;case 4:Vr=Z.stateNode.containerInfo,pn=!0;break e}Z=Z.return}if(Vr===null)throw Error(s(160));Fv(D,U,A),Vr=null,pn=!1;var ne=A.alternate;ne!==null&&(ne.return=null),A.return=null}catch(ge){mr(A,a,ge)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)$v(a,i),a=a.sibling}function $v(i,a){var p=i.alternate,S=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(gn(a,i),Pn(i),S&4){try{Rl(3,i,i.return),kd(3,i)}catch(qe){mr(i,i.return,qe)}try{Rl(5,i,i.return)}catch(qe){mr(i,i.return,qe)}}break;case 1:gn(a,i),Pn(i),S&512&&p!==null&&fa(p,p.return);break;case 5:if(gn(a,i),Pn(i),S&512&&p!==null&&fa(p,p.return),i.flags&32){var A=i.stateNode;try{ze(A,"")}catch(qe){mr(i,i.return,qe)}}if(S&4&&(A=i.stateNode,A!=null)){var D=i.memoizedProps,U=p!==null?p.memoizedProps:D,Z=i.type,ne=i.updateQueue;if(i.updateQueue=null,ne!==null)try{Z==="input"&&D.type==="radio"&&D.name!=null&&fe(A,D),_r(Z,U);var ge=_r(Z,D);for(U=0;U<ne.length;U+=2){var Se=ne[U],je=ne[U+1];Se==="style"?wr(A,je):Se==="dangerouslySetInnerHTML"?Be(A,je):Se==="children"?ze(A,je):b(A,Se,je,ge)}switch(Z){case"input":ye(A,D);break;case"textarea":Ee(A,D);break;case"select":var Ce=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!D.multiple;var $e=D.value;$e!=null?ke(A,!!D.multiple,$e,!1):Ce!==!!D.multiple&&(D.defaultValue!=null?ke(A,!!D.multiple,D.defaultValue,!0):ke(A,!!D.multiple,D.multiple?[]:"",!1))}A[wl]=D}catch(qe){mr(i,i.return,qe)}}break;case 6:if(gn(a,i),Pn(i),S&4){if(i.stateNode===null)throw Error(s(162));A=i.stateNode,D=i.memoizedProps;try{A.nodeValue=D}catch(qe){mr(i,i.return,qe)}}break;case 3:if(gn(a,i),Pn(i),S&4&&p!==null&&p.memoizedState.isDehydrated)try{bi(a.containerInfo)}catch(qe){mr(i,i.return,qe)}break;case 4:gn(a,i),Pn(i);break;case 13:gn(a,i),Pn(i),A=i.child,A.flags&8192&&(D=A.memoizedState!==null,A.stateNode.isHidden=D,!D||A.alternate!==null&&A.alternate.memoizedState!==null||(Hf=Ut())),S&4&&Bv(i);break;case 22:if(Se=p!==null&&p.memoizedState!==null,i.mode&1?(ss=(ge=ss)||Se,gn(a,i),ss=ge):gn(a,i),Pn(i),S&8192){if(ge=i.memoizedState!==null,(i.stateNode.isHidden=ge)&&!Se&&(i.mode&1)!==0)for(We=i,Se=i.child;Se!==null;){for(je=We=Se;We!==null;){switch(Ce=We,$e=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Rl(4,Ce,Ce.return);break;case 1:fa(Ce,Ce.return);var Ve=Ce.stateNode;if(typeof Ve.componentWillUnmount=="function"){S=Ce,p=Ce.return;try{a=S,Ve.props=a.memoizedProps,Ve.state=a.memoizedState,Ve.componentWillUnmount()}catch(qe){mr(S,p,qe)}}break;case 5:fa(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){Wv(je);continue}}$e!==null?($e.return=Ce,We=$e):Wv(je)}Se=Se.sibling}e:for(Se=null,je=i;;){if(je.tag===5){if(Se===null){Se=je;try{A=je.stateNode,ge?(D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Z=je.stateNode,ne=je.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Z.style.display=er("display",U))}catch(qe){mr(i,i.return,qe)}}}else if(je.tag===6){if(Se===null)try{je.stateNode.nodeValue=ge?"":je.memoizedProps}catch(qe){mr(i,i.return,qe)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===i)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===i)break e;for(;je.sibling===null;){if(je.return===null||je.return===i)break e;Se===je&&(Se=null),je=je.return}Se===je&&(Se=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:gn(a,i),Pn(i),S&4&&Bv(i);break;case 21:break;default:gn(a,i),Pn(i)}}function Pn(i){var a=i.flags;if(a&2){try{e:{for(var p=i.return;p!==null;){if(Lv(p)){var S=p;break e}p=p.return}throw Error(s(160))}switch(S.tag){case 5:var A=S.stateNode;S.flags&32&&(ze(A,""),S.flags&=-33);var D=Ov(i);Bf(i,D,A);break;case 3:case 4:var U=S.stateNode.containerInfo,Z=Ov(i);Ff(i,Z,U);break;default:throw Error(s(161))}}catch(ne){mr(i,i.return,ne)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function IE(i,a,p){We=i,zv(i)}function zv(i,a,p){for(var S=(i.mode&1)!==0;We!==null;){var A=We,D=A.child;if(A.tag===22&&S){var U=A.memoizedState!==null||Sd;if(!U){var Z=A.alternate,ne=Z!==null&&Z.memoizedState!==null||ss;Z=Sd;var ge=ss;if(Sd=U,(ss=ne)&&!ge)for(We=A;We!==null;)U=We,ne=U.child,U.tag===22&&U.memoizedState!==null?Vv(A):ne!==null?(ne.return=U,We=ne):Vv(A);for(;D!==null;)We=D,zv(D),D=D.sibling;We=A,Sd=Z,ss=ge}Hv(i)}else(A.subtreeFlags&8772)!==0&&D!==null?(D.return=A,We=D):Hv(i)}}function Hv(i){for(;We!==null;){var a=We;if((a.flags&8772)!==0){var p=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ss||kd(5,a);break;case 1:var S=a.stateNode;if(a.flags&4&&!ss)if(p===null)S.componentDidMount();else{var A=a.elementType===a.type?p.memoizedProps:mn(a.type,p.memoizedProps);S.componentDidUpdate(A,p.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var D=a.updateQueue;D!==null&&W0(a,D,S);break;case 3:var U=a.updateQueue;if(U!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}W0(a,U,p)}break;case 5:var Z=a.stateNode;if(p===null&&a.flags&4){p=Z;var ne=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ge=a.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var je=Se.dehydrated;je!==null&&bi(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ss||a.flags&512&&Of(a)}catch(Ce){mr(a,a.return,Ce)}}if(a===i){We=null;break}if(p=a.sibling,p!==null){p.return=a.return,We=p;break}We=a.return}}function Wv(i){for(;We!==null;){var a=We;if(a===i){We=null;break}var p=a.sibling;if(p!==null){p.return=a.return,We=p;break}We=a.return}}function Vv(i){for(;We!==null;){var a=We;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{kd(4,a)}catch(ne){mr(a,p,ne)}break;case 1:var S=a.stateNode;if(typeof S.componentDidMount=="function"){var A=a.return;try{S.componentDidMount()}catch(ne){mr(a,A,ne)}}var D=a.return;try{Of(a)}catch(ne){mr(a,D,ne)}break;case 5:var U=a.return;try{Of(a)}catch(ne){mr(a,U,ne)}}}catch(ne){mr(a,a.return,ne)}if(a===i){We=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,We=Z;break}We=a.return}}var LE=Math.ceil,jd=k.ReactCurrentDispatcher,$f=k.ReactCurrentOwner,Xs=k.ReactCurrentBatchConfig,Et=0,Ir=null,yr=null,Ur=0,Is=0,ma=Si(0),jr=0,Ml=null,fo=0,Nd=0,zf=0,Dl=null,bs=null,Hf=0,pa=1/0,si=null,Ed=!1,Wf=null,Ai=null,Pd=!1,Ti=null,Ad=0,Il=0,Vf=null,Td=-1,Rd=0;function cs(){return(Et&6)!==0?Ut():Td!==-1?Td:Td=Ut()}function Ri(i){return(i.mode&1)===0?1:(Et&2)!==0&&Ur!==0?Ur&-Ur:yE.transition!==null?(Rd===0&&(Rd=eo()),Rd):(i=Nt,i!==0||(i=window.event,i=i===void 0?16:Gx(i.type)),i)}function xn(i,a,p,S){if(50<Il)throw Il=0,Vf=null,Error(s(185));to(i,p,S),((Et&2)===0||i!==Ir)&&(i===Ir&&((Et&2)===0&&(Nd|=p),jr===4&&Mi(i,Ur)),ws(i,S),p===1&&Et===0&&(a.mode&1)===0&&(pa=Ut()+500,od&&ji()))}function ws(i,a){var p=i.callbackNode;Hc(i,a);var S=Uo(i,i===Ir?Ur:0);if(S===0)p!==null&&ln(p),i.callbackNode=null,i.callbackPriority=0;else if(a=S&-S,i.callbackPriority!==a){if(p!=null&&ln(p),a===1)i.tag===0?vE(Gv.bind(null,i)):T0(Gv.bind(null,i)),mE(function(){(Et&6)===0&&ji()}),p=null;else{switch(ol(S)){case 1:p=ee;break;case 4:p=Ie;break;case 16:p=He;break;case 536870912:p=or;break;default:p=He}p=ey(p,Uv.bind(null,i))}i.callbackPriority=a,i.callbackNode=p}}function Uv(i,a){if(Td=-1,Rd=0,(Et&6)!==0)throw Error(s(327));var p=i.callbackNode;if(ga()&&i.callbackNode!==p)return null;var S=Uo(i,i===Ir?Ur:0);if(S===0)return null;if((S&30)!==0||(S&i.expiredLanes)!==0||a)a=Md(i,S);else{a=S;var A=Et;Et|=2;var D=qv();(Ir!==i||Ur!==a)&&(si=null,pa=Ut()+500,po(i,a));do try{BE();break}catch(Z){Kv(i,Z)}while(!0);lf(),jd.current=D,Et=A,yr!==null?a=0:(Ir=null,Ur=0,a=jr)}if(a!==0){if(a===2&&(A=nl(i),A!==0&&(S=A,a=Uf(i,A))),a===1)throw p=Ml,po(i,0),Mi(i,S),ws(i,Ut()),p;if(a===6)Mi(i,S);else{if(A=i.current.alternate,(S&30)===0&&!OE(A)&&(a=Md(i,S),a===2&&(D=nl(i),D!==0&&(S=D,a=Uf(i,D))),a===1))throw p=Ml,po(i,0),Mi(i,S),ws(i,Ut()),p;switch(i.finishedWork=A,i.finishedLanes=S,a){case 0:case 1:throw Error(s(345));case 2:go(i,bs,si);break;case 3:if(Mi(i,S),(S&130023424)===S&&(a=Hf+500-Ut(),10<a)){if(Uo(i,0)!==0)break;if(A=i.suspendedLanes,(A&S)!==S){cs(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Xh(go.bind(null,i,bs,si),a);break}go(i,bs,si);break;case 4:if(Mi(i,S),(S&4194240)===S)break;for(a=i.eventTimes,A=-1;0<S;){var U=31-Pt(S);D=1<<U,U=a[U],U>A&&(A=U),S&=~D}if(S=A,S=Ut()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*LE(S/1960))-S,10<S){i.timeoutHandle=Xh(go.bind(null,i,bs,si),S);break}go(i,bs,si);break;case 5:go(i,bs,si);break;default:throw Error(s(329))}}}return ws(i,Ut()),i.callbackNode===p?Uv.bind(null,i):null}function Uf(i,a){var p=Dl;return i.current.memoizedState.isDehydrated&&(po(i,a).flags|=256),i=Md(i,a),i!==2&&(a=bs,bs=p,a!==null&&Gf(a)),i}function Gf(i){bs===null?bs=i:bs.push.apply(bs,i)}function OE(i){for(var a=i;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var S=0;S<p.length;S++){var A=p[S],D=A.getSnapshot;A=A.value;try{if(!hn(D(),A))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mi(i,a){for(a&=~zf,a&=~Nd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var p=31-Pt(a),S=1<<p;i[p]=-1,a&=~S}}function Gv(i){if((Et&6)!==0)throw Error(s(327));ga();var a=Uo(i,0);if((a&1)===0)return ws(i,Ut()),null;var p=Md(i,a);if(i.tag!==0&&p===2){var S=nl(i);S!==0&&(a=S,p=Uf(i,S))}if(p===1)throw p=Ml,po(i,0),Mi(i,a),ws(i,Ut()),p;if(p===6)throw Error(s(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,go(i,bs,si),ws(i,Ut()),null}function Kf(i,a){var p=Et;Et|=1;try{return i(a)}finally{Et=p,Et===0&&(pa=Ut()+500,od&&ji())}}function mo(i){Ti!==null&&Ti.tag===0&&(Et&6)===0&&ga();var a=Et;Et|=1;var p=Xs.transition,S=Nt;try{if(Xs.transition=null,Nt=1,i)return i()}finally{Nt=S,Xs.transition=p,Et=a,(Et&6)===0&&ji()}}function qf(){Is=ma.current,Qt(ma)}function po(i,a){i.finishedWork=null,i.finishedLanes=0;var p=i.timeoutHandle;if(p!==-1&&(i.timeoutHandle=-1,fE(p)),yr!==null)for(p=yr.return;p!==null;){var S=p;switch(rf(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&nd();break;case 3:ua(),Qt(xs),Qt(es),gf();break;case 5:mf(S);break;case 4:ua();break;case 13:Qt(ar);break;case 19:Qt(ar);break;case 10:cf(S.type._context);break;case 22:case 23:qf()}p=p.return}if(Ir=i,yr=i=Di(i.current,null),Ur=Is=a,jr=0,Ml=null,zf=Nd=fo=0,bs=Dl=null,co!==null){for(a=0;a<co.length;a++)if(p=co[a],S=p.interleaved,S!==null){p.interleaved=null;var A=S.next,D=p.pending;if(D!==null){var U=D.next;D.next=A,S.next=U}p.pending=S}co=null}return i}function Kv(i,a){do{var p=yr;try{if(lf(),gd.current=bd,xd){for(var S=lr.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}xd=!1}if(ho=0,Dr=kr=lr=null,Nl=!1,El=0,$f.current=null,p===null||p.return===null){jr=1,Ml=a,yr=null;break}e:{var D=i,U=p.return,Z=p,ne=a;if(a=Ur,Z.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ge=ne,Se=Z,je=Se.tag;if((Se.mode&1)===0&&(je===0||je===11||je===15)){var Ce=Se.alternate;Ce?(Se.updateQueue=Ce.updateQueue,Se.memoizedState=Ce.memoizedState,Se.lanes=Ce.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var $e=vv(U);if($e!==null){$e.flags&=-257,yv($e,U,Z,D,a),$e.mode&1&&xv(D,ge,a),a=$e,ne=ge;var Ve=a.updateQueue;if(Ve===null){var qe=new Set;qe.add(ne),a.updateQueue=qe}else Ve.add(ne);break e}else{if((a&1)===0){xv(D,ge,a),Yf();break e}ne=Error(s(426))}}else if(sr&&Z.mode&1){var xr=vv(U);if(xr!==null){(xr.flags&65536)===0&&(xr.flags|=256),yv(xr,U,Z,D,a),of(ha(ne,Z));break e}}D=ne=ha(ne,Z),jr!==4&&(jr=2),Dl===null?Dl=[D]:Dl.push(D),D=U;do{switch(D.tag){case 3:D.flags|=65536,a&=-a,D.lanes|=a;var he=pv(D,ne,a);H0(D,he);break e;case 1:Z=ne;var ae=D.type,me=D.stateNode;if((D.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Ai===null||!Ai.has(me)))){D.flags|=65536,a&=-a,D.lanes|=a;var Re=gv(D,Z,a);H0(D,Re);break e}}D=D.return}while(D!==null)}Xv(p)}catch(Xe){a=Xe,yr===p&&p!==null&&(yr=p=p.return);continue}break}while(!0)}function qv(){var i=jd.current;return jd.current=bd,i===null?bd:i}function Yf(){(jr===0||jr===3||jr===2)&&(jr=4),Ir===null||(fo&268435455)===0&&(Nd&268435455)===0||Mi(Ir,Ur)}function Md(i,a){var p=Et;Et|=2;var S=qv();(Ir!==i||Ur!==a)&&(si=null,po(i,a));do try{FE();break}catch(A){Kv(i,A)}while(!0);if(lf(),Et=p,jd.current=S,yr!==null)throw Error(s(261));return Ir=null,Ur=0,jr}function FE(){for(;yr!==null;)Yv(yr)}function BE(){for(;yr!==null&&!Ho();)Yv(yr)}function Yv(i){var a=Zv(i.alternate,i,Is);i.memoizedProps=i.pendingProps,a===null?Xv(i):yr=a,$f.current=null}function Xv(i){var a=i;do{var p=a.alternate;if(i=a.return,(a.flags&32768)===0){if(p=TE(p,a,Is),p!==null){yr=p;return}}else{if(p=RE(p,a),p!==null){p.flags&=32767,yr=p;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jr=6,yr=null;return}}if(a=a.sibling,a!==null){yr=a;return}yr=a=i}while(a!==null);jr===0&&(jr=5)}function go(i,a,p){var S=Nt,A=Xs.transition;try{Xs.transition=null,Nt=1,$E(i,a,p,S)}finally{Xs.transition=A,Nt=S}return null}function $E(i,a,p,S){do ga();while(Ti!==null);if((Et&6)!==0)throw Error(s(327));p=i.finishedWork;var A=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0;var D=p.lanes|p.childLanes;if(Wc(i,D),i===Ir&&(yr=Ir=null,Ur=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Pd||(Pd=!0,ey(He,function(){return ga(),null})),D=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||D){D=Xs.transition,Xs.transition=null;var U=Nt;Nt=1;var Z=Et;Et|=4,$f.current=null,DE(i,p),$v(p,i),oE(qh),no=!!Kh,qh=Kh=null,i.current=p,IE(p),vi(),Et=Z,Nt=U,Xs.transition=D}else i.current=p;if(Pd&&(Pd=!1,Ti=i,Ad=A),D=i.pendingLanes,D===0&&(Ai=null),gr(p.stateNode),ws(i,Ut()),a!==null)for(S=i.onRecoverableError,p=0;p<a.length;p++)A=a[p],S(A.value,{componentStack:A.stack,digest:A.digest});if(Ed)throw Ed=!1,i=Wf,Wf=null,i;return(Ad&1)!==0&&i.tag!==0&&ga(),D=i.pendingLanes,(D&1)!==0?i===Vf?Il++:(Il=0,Vf=i):Il=0,ji(),null}function ga(){if(Ti!==null){var i=ol(Ad),a=Xs.transition,p=Nt;try{if(Xs.transition=null,Nt=16>i?16:i,Ti===null)var S=!1;else{if(i=Ti,Ti=null,Ad=0,(Et&6)!==0)throw Error(s(331));var A=Et;for(Et|=4,We=i.current;We!==null;){var D=We,U=D.child;if((We.flags&16)!==0){var Z=D.deletions;if(Z!==null){for(var ne=0;ne<Z.length;ne++){var ge=Z[ne];for(We=ge;We!==null;){var Se=We;switch(Se.tag){case 0:case 11:case 15:Rl(8,Se,D)}var je=Se.child;if(je!==null)je.return=Se,We=je;else for(;We!==null;){Se=We;var Ce=Se.sibling,$e=Se.return;if(Iv(Se),Se===ge){We=null;break}if(Ce!==null){Ce.return=$e,We=Ce;break}We=$e}}}var Ve=D.alternate;if(Ve!==null){var qe=Ve.child;if(qe!==null){Ve.child=null;do{var xr=qe.sibling;qe.sibling=null,qe=xr}while(qe!==null)}}We=D}}if((D.subtreeFlags&2064)!==0&&U!==null)U.return=D,We=U;else e:for(;We!==null;){if(D=We,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Rl(9,D,D.return)}var he=D.sibling;if(he!==null){he.return=D.return,We=he;break e}We=D.return}}var ae=i.current;for(We=ae;We!==null;){U=We;var me=U.child;if((U.subtreeFlags&2064)!==0&&me!==null)me.return=U,We=me;else e:for(U=ae;We!==null;){if(Z=We,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:kd(9,Z)}}catch(Xe){mr(Z,Z.return,Xe)}if(Z===U){We=null;break e}var Re=Z.sibling;if(Re!==null){Re.return=Z.return,We=Re;break e}We=Z.return}}if(Et=A,ji(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(jt,i)}catch{}S=!0}return S}finally{Nt=p,Xs.transition=a}}return!1}function Jv(i,a,p){a=ha(p,a),a=pv(i,a,1),i=Ei(i,a,1),a=cs(),i!==null&&(to(i,1,a),ws(i,a))}function mr(i,a,p){if(i.tag===3)Jv(i,i,p);else for(;a!==null;){if(a.tag===3){Jv(a,i,p);break}else if(a.tag===1){var S=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ai===null||!Ai.has(S))){i=ha(p,i),i=gv(a,i,1),a=Ei(a,i,1),i=cs(),a!==null&&(to(a,1,i),ws(a,i));break}}a=a.return}}function zE(i,a,p){var S=i.pingCache;S!==null&&S.delete(a),a=cs(),i.pingedLanes|=i.suspendedLanes&p,Ir===i&&(Ur&p)===p&&(jr===4||jr===3&&(Ur&130023424)===Ur&&500>Ut()-Hf?po(i,0):zf|=p),ws(i,a)}function Qv(i,a){a===0&&((i.mode&1)===0?a=1:(a=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var p=cs();i=ei(i,a),i!==null&&(to(i,a,p),ws(i,p))}function HE(i){var a=i.memoizedState,p=0;a!==null&&(p=a.retryLane),Qv(i,p)}function WE(i,a){var p=0;switch(i.tag){case 13:var S=i.stateNode,A=i.memoizedState;A!==null&&(p=A.retryLane);break;case 19:S=i.stateNode;break;default:throw Error(s(314))}S!==null&&S.delete(a),Qv(i,p)}var Zv;Zv=function(i,a,p){if(i!==null)if(i.memoizedProps!==a.pendingProps||xs.current)ys=!0;else{if((i.lanes&p)===0&&(a.flags&128)===0)return ys=!1,AE(i,a,p);ys=(i.flags&131072)!==0}else ys=!1,sr&&(a.flags&1048576)!==0&&R0(a,ld,a.index);switch(a.lanes=0,a.tag){case 2:var S=a.type;Cd(i,a),i=a.pendingProps;var A=na(a,es.current);da(a,p),A=yf(null,a,S,i,A,p);var D=bf();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vs(S)?(D=!0,id(a)):D=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,hf(a),A.updater=wd,a.stateNode=A,A._reactInternals=a,jf(a,S,i,p),a=Af(null,a,S,!0,D,p)):(a.tag=0,sr&&D&&tf(a),ls(null,a,A,p),a=a.child),a;case 16:S=a.elementType;e:{switch(Cd(i,a),i=a.pendingProps,A=S._init,S=A(S._payload),a.type=S,A=a.tag=UE(S),i=mn(S,i),A){case 0:a=Pf(null,a,S,i,p);break e;case 1:a=kv(null,a,S,i,p);break e;case 11:a=bv(null,a,S,i,p);break e;case 14:a=wv(null,a,S,mn(S.type,i),p);break e}throw Error(s(306,S,""))}return a;case 0:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:mn(S,A),Pf(i,a,S,A,p);case 1:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:mn(S,A),kv(i,a,S,A,p);case 3:e:{if(jv(a),i===null)throw Error(s(387));S=a.pendingProps,D=a.memoizedState,A=D.element,z0(i,a),md(a,S,null,p);var U=a.memoizedState;if(S=U.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},a.updateQueue.baseState=D,a.memoizedState=D,a.flags&256){A=ha(Error(s(423)),a),a=Nv(i,a,S,p,A);break e}else if(S!==A){A=ha(Error(s(424)),a),a=Nv(i,a,S,p,A);break e}else for(Ds=Ci(a.stateNode.containerInfo.firstChild),Ms=a,sr=!0,fn=null,p=B0(a,null,S,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(aa(),S===A){a=ri(i,a,p);break e}ls(i,a,S,p)}a=a.child}return a;case 5:return V0(a),i===null&&nf(a),S=a.type,A=a.pendingProps,D=i!==null?i.memoizedProps:null,U=A.children,Yh(S,A)?U=null:D!==null&&Yh(S,D)&&(a.flags|=32),Sv(i,a),ls(i,a,U,p),a.child;case 6:return i===null&&nf(a),null;case 13:return Ev(i,a,p);case 4:return ff(a,a.stateNode.containerInfo),S=a.pendingProps,i===null?a.child=la(a,null,S,p):ls(i,a,S,p),a.child;case 11:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:mn(S,A),bv(i,a,S,A,p);case 7:return ls(i,a,a.pendingProps,p),a.child;case 8:return ls(i,a,a.pendingProps.children,p),a.child;case 12:return ls(i,a,a.pendingProps.children,p),a.child;case 10:e:{if(S=a.type._context,A=a.pendingProps,D=a.memoizedProps,U=A.value,Gt(ud,S._currentValue),S._currentValue=U,D!==null)if(hn(D.value,U)){if(D.children===A.children&&!xs.current){a=ri(i,a,p);break e}}else for(D=a.child,D!==null&&(D.return=a);D!==null;){var Z=D.dependencies;if(Z!==null){U=D.child;for(var ne=Z.firstContext;ne!==null;){if(ne.context===S){if(D.tag===1){ne=ti(-1,p&-p),ne.tag=2;var ge=D.updateQueue;if(ge!==null){ge=ge.shared;var Se=ge.pending;Se===null?ne.next=ne:(ne.next=Se.next,Se.next=ne),ge.pending=ne}}D.lanes|=p,ne=D.alternate,ne!==null&&(ne.lanes|=p),df(D.return,p,a),Z.lanes|=p;break}ne=ne.next}}else if(D.tag===10)U=D.type===a.type?null:D.child;else if(D.tag===18){if(U=D.return,U===null)throw Error(s(341));U.lanes|=p,Z=U.alternate,Z!==null&&(Z.lanes|=p),df(U,p,a),U=D.sibling}else U=D.child;if(U!==null)U.return=D;else for(U=D;U!==null;){if(U===a){U=null;break}if(D=U.sibling,D!==null){D.return=U.return,U=D;break}U=U.return}D=U}ls(i,a,A.children,p),a=a.child}return a;case 9:return A=a.type,S=a.pendingProps.children,da(a,p),A=qs(A),S=S(A),a.flags|=1,ls(i,a,S,p),a.child;case 14:return S=a.type,A=mn(S,a.pendingProps),A=mn(S.type,A),wv(i,a,S,A,p);case 15:return _v(i,a,a.type,a.pendingProps,p);case 17:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:mn(S,A),Cd(i,a),a.tag=1,vs(S)?(i=!0,id(a)):i=!1,da(a,p),fv(a,S,A),jf(a,S,A,p),Af(null,a,S,!0,i,p);case 19:return Av(i,a,p);case 22:return Cv(i,a,p)}throw Error(s(156,a.tag))};function ey(i,a){return zo(i,a)}function VE(i,a,p,S){this.tag=i,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(i,a,p,S){return new VE(i,a,p,S)}function Xf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function UE(i){if(typeof i=="function")return Xf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===z)return 14}return 2}function Di(i,a){var p=i.alternate;return p===null?(p=Js(i.tag,a,i.key,i.mode),p.elementType=i.elementType,p.type=i.type,p.stateNode=i.stateNode,p.alternate=i,i.alternate=p):(p.pendingProps=a,p.type=i.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=i.flags&14680064,p.childLanes=i.childLanes,p.lanes=i.lanes,p.child=i.child,p.memoizedProps=i.memoizedProps,p.memoizedState=i.memoizedState,p.updateQueue=i.updateQueue,a=i.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=i.sibling,p.index=i.index,p.ref=i.ref,p}function Dd(i,a,p,S,A,D){var U=2;if(S=i,typeof i=="function")Xf(i)&&(U=1);else if(typeof i=="string")U=5;else e:switch(i){case T:return xo(p.children,A,D,a);case N:U=8,A|=8;break;case M:return i=Js(12,p,a,A|2),i.elementType=M,i.lanes=D,i;case H:return i=Js(13,p,a,A),i.elementType=H,i.lanes=D,i;case q:return i=Js(19,p,a,A),i.elementType=q,i.lanes=D,i;case J:return Id(p,A,D,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:U=10;break e;case L:U=9;break e;case B:U=11;break e;case z:U=14;break e;case G:U=16,S=null;break e}throw Error(s(130,i==null?i:typeof i,""))}return a=Js(U,p,a,A),a.elementType=i,a.type=S,a.lanes=D,a}function xo(i,a,p,S){return i=Js(7,i,S,a),i.lanes=p,i}function Id(i,a,p,S){return i=Js(22,i,S,a),i.elementType=J,i.lanes=p,i.stateNode={isHidden:!1},i}function Jf(i,a,p){return i=Js(6,i,null,a),i.lanes=p,i}function Qf(i,a,p){return a=Js(4,i.children!==null?i.children:[],i.key,a),a.lanes=p,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function GE(i,a,p,S,A){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=S,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Zf(i,a,p,S,A,D,U,Z,ne){return i=new GE(i,a,p,Z,ne),a===1?(a=1,D===!0&&(a|=8)):a=0,D=Js(3,null,null,a),i.current=D,D.stateNode=i,D.memoizedState={element:S,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(D),i}function KE(i,a,p){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:S==null?null:""+S,children:i,containerInfo:a,implementation:p}}function ty(i){if(!i)return ki;i=i._reactInternals;e:{if(Ts(i)!==i||i.tag!==1)throw Error(s(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vs(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(i.tag===1){var p=i.type;if(vs(p))return P0(i,p,a)}return a}function ry(i,a,p,S,A,D,U,Z,ne){return i=Zf(p,S,!0,i,A,D,U,Z,ne),i.context=ty(null),p=i.current,S=cs(),A=Ri(p),D=ti(S,A),D.callback=a??null,Ei(p,D,A),i.current.lanes=A,to(i,A,S),ws(i,S),i}function Ld(i,a,p,S){var A=a.current,D=cs(),U=Ri(A);return p=ty(p),a.context===null?a.context=p:a.pendingContext=p,a=ti(D,U),a.payload={element:i},S=S===void 0?null:S,S!==null&&(a.callback=S),i=Ei(A,a,U),i!==null&&(xn(i,A,U,D),fd(i,A,U)),U}function Od(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function sy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var p=i.retryLane;i.retryLane=p!==0&&p<a?p:a}}function em(i,a){sy(i,a),(i=i.alternate)&&sy(i,a)}function qE(){return null}var ny=typeof reportError=="function"?reportError:function(i){console.error(i)};function tm(i){this._internalRoot=i}Fd.prototype.render=tm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));Ld(i,a,null,null)},Fd.prototype.unmount=tm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;mo(function(){Ld(null,i,null,null)}),a[Xn]=null}};function Fd(i){this._internalRoot=i}Fd.prototype.unstable_scheduleHydration=function(i){if(i){var a=cl();i={blockedOn:null,target:i,priority:a};for(var p=0;p<At.length&&a!==0&&a<At[p].priority;p++);At.splice(p,0,i),p===0&&Mr(i)}};function rm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Bd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function iy(){}function YE(i,a,p,S,A){if(A){if(typeof S=="function"){var D=S;S=function(){var ge=Od(U);D.call(ge)}}var U=ry(a,S,i,0,null,!1,!1,"",iy);return i._reactRootContainer=U,i[Xn]=U.current,yl(i.nodeType===8?i.parentNode:i),mo(),U}for(;A=i.lastChild;)i.removeChild(A);if(typeof S=="function"){var Z=S;S=function(){var ge=Od(ne);Z.call(ge)}}var ne=Zf(i,0,!1,null,null,!1,!1,"",iy);return i._reactRootContainer=ne,i[Xn]=ne.current,yl(i.nodeType===8?i.parentNode:i),mo(function(){Ld(a,ne,p,S)}),ne}function $d(i,a,p,S,A){var D=p._reactRootContainer;if(D){var U=D;if(typeof A=="function"){var Z=A;A=function(){var ne=Od(U);Z.call(ne)}}Ld(a,U,i,A)}else U=YE(p,a,i,A,S);return Od(U)}al=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var p=Zi(a.pendingLanes);p!==0&&(Go(a,p|1),ws(a,Ut()),(Et&6)===0&&(pa=Ut()+500,ji()))}break;case 13:mo(function(){var S=ei(i,1);if(S!==null){var A=cs();xn(S,i,1,A)}}),em(i,1)}},Ko=function(i){if(i.tag===13){var a=ei(i,134217728);if(a!==null){var p=cs();xn(a,i,134217728,p)}em(i,134217728)}},ll=function(i){if(i.tag===13){var a=Ri(i),p=ei(i,a);if(p!==null){var S=cs();xn(p,i,a,S)}em(i,a)}},cl=function(){return Nt},dl=function(i,a){var p=Nt;try{return Nt=i,a()}finally{Nt=p}},Us=function(i,a,p){switch(a){case"input":if(ye(i,p),a=p.name,p.type==="radio"&&a!=null){for(p=i;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var S=p[a];if(S!==i&&S.form===i.form){var A=sd(S);if(!A)throw Error(s(90));le(S),ye(S,A)}}}break;case"textarea":Ee(i,p);break;case"select":a=p.value,a!=null&&ke(i,!!p.multiple,a,!1)}},ir=Kf,tr=mo;var XE={usingClientEntryPoint:!1,Events:[_l,ra,sd,nt,Lt,Kf]},Ll={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bo(i),i===null?null:i.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||qE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{jt=zd.inject(JE),Wt=zd}catch{}}return _s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE,_s.createPortal=function(i,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(a))throw Error(s(200));return KE(i,a,null,p)},_s.createRoot=function(i,a){if(!rm(i))throw Error(s(299));var p=!1,S="",A=ny;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=Zf(i,1,!1,null,null,p,!1,S,A),i[Xn]=a.current,yl(i.nodeType===8?i.parentNode:i),new tm(a)},_s.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=Bo(a),i=i===null?null:i.stateNode,i},_s.flushSync=function(i){return mo(i)},_s.hydrate=function(i,a,p){if(!Bd(a))throw Error(s(200));return $d(null,i,a,!0,p)},_s.hydrateRoot=function(i,a,p){if(!rm(i))throw Error(s(405));var S=p!=null&&p.hydratedSources||null,A=!1,D="",U=ny;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),a=ry(a,null,i,1,p??null,A,!1,D,U),i[Xn]=a.current,yl(i),S)for(i=0;i<S.length;i++)p=S[i],A=p._getVersion,A=A(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,A]:a.mutableSourceEagerHydrationData.push(p,A);return new Fd(a)},_s.render=function(i,a,p){if(!Bd(a))throw Error(s(200));return $d(null,i,a,!1,p)},_s.unmountComponentAtNode=function(i){if(!Bd(i))throw Error(s(40));return i._reactRootContainer?(mo(function(){$d(null,null,i,!1,function(){i._reactRootContainer=null,i[Xn]=null})}),!0):!1},_s.unstable_batchedUpdates=Kf,_s.unstable_renderSubtreeIntoContainer=function(i,a,p,S){if(!Bd(p))throw Error(s(200));if(i==null||i._reactInternals===void 0)throw Error(s(38));return $d(i,a,p,!1,S)},_s.version="18.3.1-next-f1338f8080-20240426",_s}var fy;function __(){if(fy)return im.exports;fy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),im.exports=iP(),im.exports}var my;function oP(){if(my)return Hd;my=1;var e=__();return Hd.createRoot=e.createRoot,Hd.hydrateRoot=e.hydrateRoot,Hd}var aP=oP();const lP=yc(aP);var bc=__();const C_=yc(bc);function cP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const dP=e=>{switch(e){case"success":return fP;case"info":return pP;case"warning":return mP;case"error":return gP;default:return null}},uP=Array(12).fill(0),hP=({visible:e,className:t})=>Pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Pe.createElement("div",{className:"sonner-spinner"},uP.map((s,n)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fP=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mP=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pP=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gP=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xP=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vP=()=>{const[e,t]=Pe.useState(document.hidden);return Pe.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let ep=1;class yP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:n,...o}=t,c=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ep++,u=this.toasts.find(d=>d.id===c),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(d=>d.id===c?(this.publish({...d,...t,id:c,title:n}),{...d,...t,id:c,dismissible:l,title:n}):d):this.addToast({title:n,...o,dismissible:l,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let c=n!==void 0,u;const l=o.then(async f=>{if(u=["resolve",f],Pe.isValidElement(f))c=!1,this.create({id:n,type:"default",message:f});else if(wP(f)&&!f.ok){c=!1;const h=typeof s.error=="function"?await s.error(`HTTP error! status: ${f.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${f.status}`):s.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...j})}else if(f instanceof Error){c=!1;const h=typeof s.error=="function"?await s.error(f):s.error,x=typeof s.description=="function"?await s.description(f):s.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...j})}else if(s.success!==void 0){c=!1;const h=typeof s.success=="function"?await s.success(f):s.success,x=typeof s.description=="function"?await s.description(f):s.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:x,...j})}}).catch(async f=>{if(u=["reject",f],s.error!==void 0){c=!1;const m=typeof s.error=="function"?await s.error(f):s.error,h=typeof s.description=="function"?await s.description(f):s.description,w=typeof m=="object"&&!Pe.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:h,...w})}}).finally(()=>{c&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((f,m)=>l.then(()=>u[0]==="reject"?m(u[1]):f(u[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,s)=>{const n=(s==null?void 0:s.id)||ep++;return this.create({jsx:t(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ss=new yP,bP=(e,t)=>{const s=(t==null?void 0:t.id)||ep++;return Ss.addToast({title:e,...t,id:s}),s},wP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_P=bP,CP=()=>Ss.toasts,SP=()=>Ss.getActiveToasts(),Y=Object.assign(_P,{success:Ss.success,info:Ss.info,warning:Ss.warning,error:Ss.error,custom:Ss.custom,message:Ss.message,promise:Ss.promise,dismiss:Ss.dismiss,loading:Ss.loading},{getHistory:CP,getToasts:SP});cP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Wd(e){return e.label!==void 0}const kP=3,jP="24px",NP="16px",py=4e3,EP=356,PP=14,AP=45,TP=200;function An(...e){return e.filter(Boolean).join(" ")}function RP(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}const MP=e=>{var t,s,n,o,c,u,l,d,f;const{invert:m,toast:h,unstyled:x,interacting:w,setHeights:j,visibleToasts:C,heights:v,index:y,toasts:g,expanded:b,removeToast:k,defaultRichColors:E,closeButton:P,style:T,cancelButtonStyle:N,actionButtonStyle:M,className:I="",descriptionClassName:L="",duration:B,position:H,gap:q,expandByDefault:z,classNames:G,icons:J,closeButtonAriaLabel:K="Close toast"}=e,[F,R]=Pe.useState(null),[O,V]=Pe.useState(null),[$,se]=Pe.useState(!1),[de,pe]=Pe.useState(!1),[X,W]=Pe.useState(!1),[ce,ie]=Pe.useState(!1),[Q,le]=Pe.useState(!1),[we,Le]=Pe.useState(0),[Ke,fe]=Pe.useState(0),ye=Pe.useRef(h.duration||B||py),Je=Pe.useRef(null),Ye=Pe.useRef(null),ot=y===0,ke=y+1<=C,be=h.type,Oe=h.dismissible!==!1,Ee=h.className||"",_e=h.descriptionClassName||"",oe=Pe.useMemo(()=>v.findIndex(nt=>nt.toastId===h.id)||0,[v,h.id]),ve=Pe.useMemo(()=>{var nt;return(nt=h.closeButton)!=null?nt:P},[h.closeButton,P]),De=Pe.useMemo(()=>h.duration||B||py,[h.duration,B]),Be=Pe.useRef(0),ze=Pe.useRef(0),St=Pe.useRef(0),dt=Pe.useRef(null),[er,wr]=H.split("-"),zr=Pe.useMemo(()=>v.reduce((nt,Lt,ir)=>ir>=oe?nt:nt+Lt.height,0),[v,oe]),Ht=vP(),_r=h.invert||m,hr=be==="loading";ze.current=Pe.useMemo(()=>oe*q+zr,[oe,zr]),Pe.useEffect(()=>{ye.current=De},[De]),Pe.useEffect(()=>{se(!0)},[]),Pe.useEffect(()=>{const nt=Ye.current;if(nt){const Lt=nt.getBoundingClientRect().height;return fe(Lt),j(ir=>[{toastId:h.id,height:Lt,position:h.position},...ir]),()=>j(ir=>ir.filter(tr=>tr.toastId!==h.id))}},[j,h.id]),Pe.useLayoutEffect(()=>{if(!$)return;const nt=Ye.current,Lt=nt.style.height;nt.style.height="auto";const ir=nt.getBoundingClientRect().height;nt.style.height=Lt,fe(ir),j(tr=>tr.find(Vt=>Vt.toastId===h.id)?tr.map(Vt=>Vt.toastId===h.id?{...Vt,height:ir}:Vt):[{toastId:h.id,height:ir,position:h.position},...tr])},[$,h.title,h.description,j,h.id,h.jsx,h.action,h.cancel]);const Hr=Pe.useCallback(()=>{pe(!0),Le(ze.current),j(nt=>nt.filter(Lt=>Lt.toastId!==h.id)),setTimeout(()=>{k(h)},TP)},[h,k,j,ze]);Pe.useEffect(()=>{if(h.promise&&be==="loading"||h.duration===1/0||h.type==="loading")return;let nt;return b||w||Ht?(()=>{if(St.current<Be.current){const tr=new Date().getTime()-Be.current;ye.current=ye.current-tr}St.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(Be.current=new Date().getTime(),nt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Hr()},ye.current))})(),()=>clearTimeout(nt)},[b,w,h,be,Ht,Hr]),Pe.useEffect(()=>{h.delete&&(Hr(),h.onDismiss==null||h.onDismiss.call(h,h))},[Hr,h.delete]);function Us(){var nt;if(J!=null&&J.loading){var Lt;return Pe.createElement("div",{className:An(G==null?void 0:G.loader,h==null||(Lt=h.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":be==="loading"},J.loading)}return Pe.createElement(hP,{className:An(G==null?void 0:G.loader,h==null||(nt=h.classNames)==null?void 0:nt.loader),visible:be==="loading"})}const fs=h.icon||(J==null?void 0:J[be])||dP(be);var Ps,As;return Pe.createElement("li",{tabIndex:0,ref:Ye,className:An(I,Ee,G==null?void 0:G.toast,h==null||(t=h.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[be],h==null||(s=h.classNames)==null?void 0:s[be]),"data-sonner-toast":"","data-rich-colors":(Ps=h.richColors)!=null?Ps:E,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":Q,"data-removed":de,"data-visible":ke,"data-y-position":er,"data-x-position":wr,"data-index":y,"data-front":ot,"data-swiping":X,"data-dismissible":Oe,"data-type":be,"data-invert":_r,"data-swipe-out":ce,"data-swipe-direction":O,"data-expanded":!!(b||z&&$),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":g.length-y,"--offset":`${de?we:ze.current}px`,"--initial-height":z?"auto":`${Ke}px`,...T,...h.style},onDragEnd:()=>{W(!1),R(null),dt.current=null},onPointerDown:nt=>{nt.button!==2&&(hr||!Oe||(Je.current=new Date,Le(ze.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(W(!0),dt.current={x:nt.clientX,y:nt.clientY})))},onPointerUp:()=>{var nt,Lt,ir;if(ce||!Oe)return;dt.current=null;const tr=Number(((nt=Ye.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ms=Number(((Lt=Ye.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((ir=Je.current)==null?void 0:ir.getTime()),rr=F==="x"?tr:ms,Wr=Math.abs(rr)/Vt;if(Math.abs(rr)>=AP||Wr>.11){Le(ze.current),h.onDismiss==null||h.onDismiss.call(h,h),V(F==="x"?tr>0?"right":"left":ms>0?"down":"up"),Hr(),ie(!0);return}else{var ut,fr;(ut=Ye.current)==null||ut.style.setProperty("--swipe-amount-x","0px"),(fr=Ye.current)==null||fr.style.setProperty("--swipe-amount-y","0px")}le(!1),W(!1),R(null)},onPointerMove:nt=>{var Lt,ir,tr;if(!dt.current||!Oe||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const Vt=nt.clientY-dt.current.y,rr=nt.clientX-dt.current.x;var Wr;const ut=(Wr=e.swipeDirections)!=null?Wr:RP(H);!F&&(Math.abs(rr)>1||Math.abs(Vt)>1)&&R(Math.abs(rr)>Math.abs(Vt)?"x":"y");let fr={x:0,y:0};const Xr=Jr=>1/(1.5+Math.abs(Jr)/20);if(F==="y"){if(ut.includes("top")||ut.includes("bottom"))if(ut.includes("top")&&Vt<0||ut.includes("bottom")&&Vt>0)fr.y=Vt;else{const Jr=Vt*Xr(Vt);fr.y=Math.abs(Jr)<Math.abs(Vt)?Jr:Vt}}else if(F==="x"&&(ut.includes("left")||ut.includes("right")))if(ut.includes("left")&&rr<0||ut.includes("right")&&rr>0)fr.x=rr;else{const Jr=rr*Xr(rr);fr.x=Math.abs(Jr)<Math.abs(rr)?Jr:rr}(Math.abs(fr.x)>0||Math.abs(fr.y)>0)&&le(!0),(ir=Ye.current)==null||ir.style.setProperty("--swipe-amount-x",`${fr.x}px`),(tr=Ye.current)==null||tr.style.setProperty("--swipe-amount-y",`${fr.y}px`)}},ve&&!h.jsx&&be!=="loading"?Pe.createElement("button",{"aria-label":K,"data-disabled":hr,"data-close-button":!0,onClick:hr||!Oe?()=>{}:()=>{Hr(),h.onDismiss==null||h.onDismiss.call(h,h)},className:An(G==null?void 0:G.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(As=J==null?void 0:J.close)!=null?As:xP):null,(be||h.icon||h.promise)&&h.icon!==null&&((J==null?void 0:J[be])!==null||h.icon)?Pe.createElement("div",{"data-icon":"",className:An(G==null?void 0:G.icon,h==null||(o=h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Us():null,h.type!=="loading"?fs:null):null,Pe.createElement("div",{"data-content":"",className:An(G==null?void 0:G.content,h==null||(c=h.classNames)==null?void 0:c.content)},Pe.createElement("div",{"data-title":"",className:An(G==null?void 0:G.title,h==null||(u=h.classNames)==null?void 0:u.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Pe.createElement("div",{"data-description":"",className:An(L,_e,G==null?void 0:G.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),Pe.isValidElement(h.cancel)?h.cancel:h.cancel&&Wd(h.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:nt=>{Wd(h.cancel)&&Oe&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,nt),Hr())},className:An(G==null?void 0:G.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,Pe.isValidElement(h.action)?h.action:h.action&&Wd(h.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:nt=>{Wd(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,nt),!nt.defaultPrevented&&Hr())},className:An(G==null?void 0:G.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function gy(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DP(e,t){const s={};return[e,t].forEach((n,o)=>{const c=o===1,u=c?"--mobile-offset":"--offset",l=c?NP:jP;function d(f){["top","right","bottom","left"].forEach(m=>{s[`${u}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${u}-${f}`]=l:s[`${u}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(l)}),s}const IP=Pe.forwardRef(function(t,s){const{id:n,invert:o,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:l,closeButton:d,className:f,offset:m,mobileOffset:h,theme:x="light",richColors:w,duration:j,style:C,visibleToasts:v=kP,toastOptions:y,dir:g=gy(),gap:b=PP,icons:k,containerAriaLabel:E="Notifications"}=t,[P,T]=Pe.useState([]),N=Pe.useMemo(()=>n?P.filter($=>$.toasterId===n):P.filter($=>!$.toasterId),[P,n]),M=Pe.useMemo(()=>Array.from(new Set([c].concat(N.filter($=>$.position).map($=>$.position)))),[N,c]),[I,L]=Pe.useState([]),[B,H]=Pe.useState(!1),[q,z]=Pe.useState(!1),[G,J]=Pe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Pe.useRef(null),F=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=Pe.useRef(null),O=Pe.useRef(!1),V=Pe.useCallback($=>{T(se=>{var de;return(de=se.find(pe=>pe.id===$.id))!=null&&de.delete||Ss.dismiss($.id),se.filter(({id:pe})=>pe!==$.id)})},[]);return Pe.useEffect(()=>Ss.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{T(se=>se.map(de=>de.id===$.id?{...de,delete:!0}:de))});return}setTimeout(()=>{C_.flushSync(()=>{T(se=>{const de=se.findIndex(pe=>pe.id===$.id);return de!==-1?[...se.slice(0,de),{...se[de],...$},...se.slice(de+1)]:[$,...se]})})})}),[P]),Pe.useEffect(()=>{if(x!=="system"){J(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:se})=>{J(se?"dark":"light")})}catch{$.addListener(({matches:de})=>{try{J(de?"dark":"light")}catch(pe){console.error(pe)}})}},[x]),Pe.useEffect(()=>{P.length<=1&&H(!1)},[P]),Pe.useEffect(()=>{const $=se=>{var de;if(u.every(W=>se[W]||se.code===W)){var X;H(!0),(X=K.current)==null||X.focus()}se.code==="Escape"&&(document.activeElement===K.current||(de=K.current)!=null&&de.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[u]),Pe.useEffect(()=>{if(K.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,O.current=!1)}},[K.current]),Pe.createElement("section",{ref:s,"aria-label":`${E} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map(($,se)=>{var de;const[pe,X]=$.split("-");return N.length?Pe.createElement("ol",{key:$,dir:g==="auto"?gy():g,tabIndex:-1,ref:K,className:f,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":pe,"data-x-position":X,style:{"--front-toast-height":`${((de=I[0])==null?void 0:de.height)||0}px`,"--width":`${EP}px`,"--gap":`${b}px`,...C,...DP(m,h)},onBlur:W=>{O.current&&!W.currentTarget.contains(W.relatedTarget)&&(O.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||O.current||(O.current=!0,R.current=W.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{q||H(!1)},onDragEnd:()=>H(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(W=>!W.position&&se===0||W.position===$).map((W,ce)=>{var ie,Q;return Pe.createElement(MP,{key:W.id,icons:k,index:ce,toast:W,defaultRichColors:w,duration:(ie=y==null?void 0:y.duration)!=null?ie:j,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:o,visibleToasts:v,closeButton:(Q=y==null?void 0:y.closeButton)!=null?Q:d,interacting:q,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:V,toasts:N.filter(le=>le.position==W.position),heights:I.filter(le=>le.position==W.position),setHeights:L,expandByDefault:l,gap:b,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),Xp=_.createContext({});function Jp(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const zu=_.createContext(null),Qp=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class LP extends _.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OP({children:e,isPresent:t}){const s=_.useId(),n=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=_.useContext(Qp);return _.useInsertionEffect(()=>{const{width:u,height:l,top:d,left:f}=o.current;if(t||!n.current||!u||!l)return;n.current.dataset.motionPopId=s;const m=document.createElement("style");return c&&(m.nonce=c),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),r.jsx(LP,{isPresent:t,childRef:n,sizeRef:o,children:_.cloneElement(e,{ref:n})})}const FP=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:o,presenceAffectsLayout:c,mode:u})=>{const l=Jp(BP),d=_.useId(),f=_.useCallback(h=>{l.set(h,!0);for(const x of l.values())if(!x)return;n&&n()},[l,n]),m=_.useMemo(()=>({id:d,initial:t,isPresent:s,custom:o,onExitComplete:f,register:h=>(l.set(h,!1),()=>l.delete(h))}),c?[Math.random(),f]:[s,f]);return _.useMemo(()=>{l.forEach((h,x)=>l.set(x,!1))},[s]),_.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),u==="popLayout"&&(e=r.jsx(OP,{isPresent:s,children:e})),r.jsx(zu.Provider,{value:m,children:e})};function BP(){return new Map}function S_(e=!0){const t=_.useContext(zu);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:o}=t,c=_.useId();_.useEffect(()=>{e&&o(c)},[e]);const u=_.useCallback(()=>e&&n&&n(c),[c,n,e]);return!s&&n?[!1,u]:[!0]}const Vd=e=>e.key||"";function xy(e){const t=[];return _.Children.forEach(e,s=>{_.isValidElement(s)&&t.push(s)}),t}const Zp=typeof window<"u",k_=Zp?_.useLayoutEffect:_.useEffect,j_=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1})=>{const[l,d]=S_(u),f=_.useMemo(()=>xy(e),[e]),m=u&&!l?[]:f.map(Vd),h=_.useRef(!0),x=_.useRef(f),w=Jp(()=>new Map),[j,C]=_.useState(f),[v,y]=_.useState(f);k_(()=>{h.current=!1,x.current=f;for(let k=0;k<v.length;k++){const E=Vd(v[k]);m.includes(E)?w.delete(E):w.get(E)!==!0&&w.set(E,!1)}},[v,m.length,m.join("-")]);const g=[];if(f!==j){let k=[...f];for(let E=0;E<v.length;E++){const P=v[E],T=Vd(P);m.includes(T)||(k.splice(E,0,P),g.push(P))}c==="wait"&&g.length&&(k=g),y(xy(k)),C(f);return}const{forceRender:b}=_.useContext(Xp);return r.jsx(r.Fragment,{children:v.map(k=>{const E=Vd(k),P=u&&!l?!1:f===v||m.includes(E),T=()=>{if(w.has(E))w.set(E,!0);else return;let N=!0;w.forEach(M=>{M||(N=!1)}),N&&(b==null||b(),y(x.current),u&&(d==null||d()),n&&n())};return r.jsx(FP,{isPresent:P,initial:!h.current||s?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:P?void 0:T,children:k},E)})})},Bs=e=>e;let N_=Bs;function eg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oa=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},li=e=>e*1e3,ci=e=>e/1e3,$P={useManualTiming:!1};function zP(e){let t=new Set,s=new Set,n=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function l(f){c.has(f)&&(d.schedule(f),e()),f(u)}const d={schedule:(f,m=!1,h=!1)=>{const w=h&&n?t:s;return m&&c.add(f),w.has(f)||w.add(f),f},cancel:f=>{s.delete(f),c.delete(f)},process:f=>{if(u=f,n){o=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,o&&(o=!1,d.process(f))}};return d}const Ud=["read","resolveKeyframes","update","preRender","render","postRender"],HP=40;function E_(e,t){let s=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Ud.reduce((y,g)=>(y[g]=zP(c),y),{}),{read:l,resolveKeyframes:d,update:f,preRender:m,render:h,postRender:x}=u,w=()=>{const y=performance.now();s=!1,o.delta=n?1e3/60:Math.max(Math.min(y-o.timestamp,HP),1),o.timestamp=y,o.isProcessing=!0,l.process(o),d.process(o),f.process(o),m.process(o),h.process(o),x.process(o),o.isProcessing=!1,s&&t&&(n=!1,e(w))},j=()=>{s=!0,n=!0,o.isProcessing||e(w)};return{schedule:Ud.reduce((y,g)=>{const b=u[g];return y[g]=(k,E=!1,P=!1)=>(s||j(),b.schedule(k,E,P)),y},{}),cancel:y=>{for(let g=0;g<Ud.length;g++)u[Ud[g]].cancel(y)},state:o,steps:u}}const{schedule:Zt,cancel:zi,state:Gr,steps:lm}=E_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bs,!0),P_=_.createContext({strict:!1}),vy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const e in vy)Fa[e]={isEnabled:t=>vy[e].some(s=>!!t[s])};function WP(e){for(const t in e)Fa[t]={...Fa[t],...e[t]}}const VP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||VP.has(e)}let A_=e=>!xu(e);function UP(e){e&&(A_=t=>t.startsWith("on")?!xu(t):e(t))}try{UP(require("@emotion/is-prop-valid").default)}catch{}function GP(e,t,s){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(A_(o)||s===!0&&xu(o)||!t&&!xu(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function KP(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Hu=_.createContext({});function nc(e){return typeof e=="string"||Array.isArray(e)}function Wu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rg=["initial",...tg];function Vu(e){return Wu(e.animate)||rg.some(t=>nc(e[t]))}function T_(e){return!!(Vu(e)||e.variants)}function qP(e,t){if(Vu(e)){const{initial:s,animate:n}=e;return{initial:s===!1||nc(s)?s:void 0,animate:nc(n)?n:void 0}}return e.inherit!==!1?t:{}}function YP(e){const{initial:t,animate:s}=qP(e,_.useContext(Hu));return _.useMemo(()=>({initial:t,animate:s}),[yy(t),yy(s)])}function yy(e){return Array.isArray(e)?e.join(" "):e}const XP=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JP(e,t,s){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Sa(s)&&(s.current=n))},[t])}const sg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QP="framerAppearId",R_="data-"+sg(QP),{schedule:ng}=E_(queueMicrotask,!1),M_=_.createContext({});function ZP(e,t,s,n,o){var c,u;const{visualElement:l}=_.useContext(Hu),d=_.useContext(P_),f=_.useContext(zu),m=_.useContext(Qp).reducedMotion,h=_.useRef(null);n=n||d.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const x=h.current,w=_.useContext(M_);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&eA(h.current,s,o,w);const j=_.useRef(!1);_.useInsertionEffect(()=>{x&&j.current&&x.update(s,f)});const C=s[R_],v=_.useRef(!!C&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return k_(()=>{x&&(j.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),ng.render(x.render),v.current&&x.animationState&&x.animationState.animateChanges())}),_.useEffect(()=>{x&&(!v.current&&x.animationState&&x.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,C)}),v.current=!1))}),x}function eA(e,t,s,n){const{layoutId:o,layout:c,drag:u,dragConstraints:l,layoutScroll:d,layoutRoot:f}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:D_(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||l&&Sa(l),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:n,layoutScroll:d,layoutRoot:f})}function D_(e){if(e)return e.options.allowProjection!==!1?e.projection:D_(e.parent)}function tA({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:o}){var c,u;e&&WP(e);function l(f,m){let h;const x={..._.useContext(Qp),...f,layoutId:rA(f)},{isStatic:w}=x,j=YP(f),C=n(f,w);if(!w&&Zp){sA();const v=nA(x);h=v.MeasureLayout,j.visualElement=ZP(o,C,x,t,v.ProjectionNode)}return r.jsxs(Hu.Provider,{value:j,children:[h&&j.visualElement?r.jsx(h,{visualElement:j.visualElement,...x}):null,s(o,f,JP(C,j.visualElement,m),C,w,j.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${(u=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&u!==void 0?u:""})`}`;const d=_.forwardRef(l);return d[XP]=o,d}function rA({layoutId:e}){const t=_.useContext(Xp).id;return t&&e!==void 0?t+"-"+e:e}function sA(e,t){_.useContext(P_).strict}function nA(e){const{drag:t,layout:s}=Fa;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const iA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ig(e){return typeof e!="string"||e.includes("-")?!1:!!(iA.indexOf(e)>-1||/[A-Z]/u.test(e))}function by(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function og(e,t,s,n){if(typeof t=="function"){const[o,c]=by(n);t=t(s!==void 0?s:e.custom,o,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,c]=by(n);t=t(s!==void 0?s:e.custom,o,c)}return t}const tp=e=>Array.isArray(e),oA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aA=e=>tp(e)?e[e.length-1]||0:e,is=e=>!!(e&&e.getVelocity);function lu(e){const t=is(e)?e.get():e;return oA(t)?t.toValue():t}function lA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,o,c){const u={latestValues:cA(n,o,c,e),renderState:t()};return s&&(u.onMount=l=>s({props:n,current:l,...u}),u.onUpdate=l=>s(l)),u}const I_=e=>(t,s)=>{const n=_.useContext(Hu),o=_.useContext(zu),c=()=>lA(e,t,n,o);return s?c():Jp(c)};function cA(e,t,s,n){const o={},c=n(e,{});for(const x in c)o[x]=lu(c[x]);let{initial:u,animate:l}=e;const d=Vu(e),f=T_(e);t&&f&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),l===void 0&&(l=t.animate));let m=s?s.initial===!1:!1;m=m||u===!1;const h=m?l:u;if(h&&typeof h!="boolean"&&!Wu(h)){const x=Array.isArray(h)?h:[h];for(let w=0;w<x.length;w++){const j=og(e,x[w]);if(j){const{transitionEnd:C,transition:v,...y}=j;for(const g in y){let b=y[g];if(Array.isArray(b)){const k=m?b.length-1:0;b=b[k]}b!==null&&(o[g]=b)}for(const g in C)o[g]=C[g]}}}return o}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(Ka),L_=e=>t=>typeof t=="string"&&t.startsWith(e),O_=L_("--"),dA=L_("var(--"),ag=e=>dA(e)?uA.test(e.split("/*")[0].trim()):!1,uA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,F_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,di=(e,t,s)=>s>t?t:s<e?e:s,qa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ic={...qa,transform:e=>di(0,1,e)},Gd={...qa,default:1},wc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fi=wc("deg"),Ln=wc("%"),it=wc("px"),hA=wc("vh"),fA=wc("vw"),wy={...Ln,parse:e=>Ln.parse(e)/100,transform:e=>Ln.transform(e*100)},mA={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},pA={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:Gd,scaleX:Gd,scaleY:Gd,scaleZ:Gd,skew:Fi,skewX:Fi,skewY:Fi,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:ic,originX:wy,originY:wy,originZ:it},_y={...qa,transform:Math.round},lg={...mA,...pA,zIndex:_y,size:it,fillOpacity:ic,strokeOpacity:ic,numOctaves:_y},gA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xA=Ka.length;function vA(e,t,s){let n="",o=!0;for(let c=0;c<xA;c++){const u=Ka[c],l=e[u];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(u.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||s){const f=F_(l,lg[u]);if(!d){o=!1;const m=gA[u]||u;n+=`${m}(${f}) `}s&&(t[u]=f)}}return n=n.trim(),s?n=s(t,o?"":n):o&&(n="none"),n}function cg(e,t,s){const{style:n,vars:o,transformOrigin:c}=e;let u=!1,l=!1;for(const d in t){const f=t[d];if(Io.has(d)){u=!0;continue}else if(O_(d)){o[d]=f;continue}else{const m=F_(f,lg[d]);d.startsWith("origin")?(l=!0,c[d]=m):n[d]=m}}if(t.transform||(u||s?n.transform=vA(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:m=0}=c;n.transformOrigin=`${d} ${f} ${m}`}}const yA={offset:"stroke-dashoffset",array:"stroke-dasharray"},bA={offset:"strokeDashoffset",array:"strokeDasharray"};function wA(e,t,s=1,n=0,o=!0){e.pathLength=1;const c=o?yA:bA;e[c.offset]=it.transform(-n);const u=it.transform(t),l=it.transform(s);e[c.array]=`${u} ${l}`}function Cy(e,t,s){return typeof e=="string"?e:it.transform(t+s*e)}function _A(e,t,s){const n=Cy(t,e.x,e.width),o=Cy(s,e.y,e.height);return`${n} ${o}`}function dg(e,{attrX:t,attrY:s,attrScale:n,originX:o,originY:c,pathLength:u,pathSpacing:l=1,pathOffset:d=0,...f},m,h){if(cg(e,f,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:w,dimensions:j}=e;x.transform&&(j&&(w.transform=x.transform),delete x.transform),j&&(o!==void 0||c!==void 0||w.transform)&&(w.transformOrigin=_A(j,o!==void 0?o:.5,c!==void 0?c:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),n!==void 0&&(x.scale=n),u!==void 0&&wA(x,u,l,d,!1)}const ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),B_=()=>({...ug(),attrs:{}}),hg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $_(e,{style:t,vars:s},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const c in s)e.style.setProperty(c,s[c])}const z_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H_(e,t,s,n){$_(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(z_.has(o)?o:sg(o),t.attrs[o])}const vu={};function CA(e){Object.assign(vu,e)}function W_(e,{layout:t,layoutId:s}){return Io.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!vu[e]||e==="opacity")}function fg(e,t,s){var n;const{style:o}=e,c={};for(const u in o)(is(o[u])||t.style&&is(t.style[u])||W_(u,e)||((n=s==null?void 0:s.getValue(u))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(c[u]=o[u]);return c}function V_(e,t,s){const n=fg(e,t,s);for(const o in e)if(is(e[o])||is(t[o])){const c=Ka.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[c]=e[o]}return n}function SA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Sy=["x","y","width","height","cx","cy","r"],kA={useVisualState:I_({scrapeMotionValuesFromProps:V_,createRenderState:B_,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:o})=>{if(!s)return;let c=!!e.drag;if(!c){for(const l in o)if(Io.has(l)){c=!0;break}}if(!c)return;let u=!t;if(t)for(let l=0;l<Sy.length;l++){const d=Sy[l];e[d]!==t[d]&&(u=!0)}u&&Zt.read(()=>{SA(s,n),Zt.render(()=>{dg(n,o,hg(s.tagName),e.transformTemplate),H_(s,n)})})}})},jA={useVisualState:I_({scrapeMotionValuesFromProps:fg,createRenderState:ug})};function U_(e,t,s){for(const n in t)!is(t[n])&&!W_(n,s)&&(e[n]=t[n])}function NA({transformTemplate:e},t){return _.useMemo(()=>{const s=ug();return cg(s,t,e),Object.assign({},s.vars,s.style)},[t])}function EA(e,t){const s=e.style||{},n={};return U_(n,s,e),Object.assign(n,NA(e,t)),n}function PA(e,t){const s={},n=EA(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function AA(e,t,s,n){const o=_.useMemo(()=>{const c=B_();return dg(c,t,hg(n),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};U_(c,e.style,e),o.style={...c,...o.style}}return o}function TA(e=!1){return(s,n,o,{latestValues:c},u)=>{const d=(ig(s)?AA:PA)(n,c,u,s),f=GP(n,typeof s=="string",e),m=s!==_.Fragment?{...f,...d,ref:o}:{},{children:h}=n,x=_.useMemo(()=>is(h)?h.get():h,[h]);return _.createElement(s,{...m,children:x})}}function RA(e,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...ig(n)?kA:jA,preloadedFeatures:e,useRender:TA(o),createVisualElement:t,Component:n};return tA(u)}}function G_(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Uu(e,t,s){const n=e.getProps();return og(n,t,s!==void 0?s:n.custom,e)}const MA=eg(()=>window.ScrollTimeline!==void 0);class DA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(o=>{if(MA()&&o.attachTimeline)return o.attachTimeline(t);if(typeof s=="function")return s(o)});return()=>{n.forEach((o,c)=>{o&&o(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class IA extends DA{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function mg(e,t){return e?e[t]||e.default||e:void 0}const rp=2e4;function K_(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<rp;)t+=s,n=e.next(t);return t>=rp?1/0:t}function pg(e){return typeof e=="function"}function ky(e,t){e.timeline=t,e.onfinish=null}const gg=e=>Array.isArray(e)&&typeof e[0]=="number",LA={linearEasing:void 0};function OA(e,t){const s=eg(e);return()=>{var n;return(n=LA[t])!==null&&n!==void 0?n:s()}}const yu=OA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),q_=(e,t,s=10)=>{let n="";const o=Math.max(Math.round(t/s),2);for(let c=0;c<o;c++)n+=e(Oa(0,o-1,c))+", ";return`linear(${n.substring(0,n.length-2)})`};function Y_(e){return!!(typeof e=="function"&&yu()||!e||typeof e=="string"&&(e in sp||yu())||gg(e)||Array.isArray(e)&&e.every(Y_))}const Ul=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,sp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function X_(e,t){if(e)return typeof e=="function"&&yu()?q_(e,t):gg(e)?Ul(e):Array.isArray(e)?e.map(s=>X_(s,t)||sp.easeOut):sp[e]}const vn={x:!1,y:!1};function J_(){return vn.x||vn.y}function FA(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const c=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function Q_(e,t){const s=FA(e),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[s,o,()=>n.abort()]}function jy(e){return t=>{t.pointerType==="touch"||J_()||e(t)}}function BA(e,t,s={}){const[n,o,c]=Q_(e,s),u=jy(l=>{const{target:d}=l,f=t(l);if(typeof f!="function"||!d)return;const m=jy(h=>{f(h),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,o)});return n.forEach(l=>{l.addEventListener("pointerenter",u,o)}),c}const Z_=(e,t)=>t?e===t?!0:Z_(e,t.parentElement):!1,xg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$A=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zA(e){return $A.has(e.tagName)||e.tabIndex!==-1}const Gl=new WeakSet;function Ny(e){return t=>{t.key==="Enter"&&e(t)}}function cm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HA=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Ny(()=>{if(Gl.has(s))return;cm(s,"down");const o=Ny(()=>{cm(s,"up")}),c=()=>cm(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Ey(e){return xg(e)&&!J_()}function WA(e,t,s={}){const[n,o,c]=Q_(e,s),u=l=>{const d=l.currentTarget;if(!Ey(l)||Gl.has(d))return;Gl.add(d);const f=t(l),m=(w,j)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",x),!(!Ey(w)||!Gl.has(d))&&(Gl.delete(d),typeof f=="function"&&f(w,{success:j}))},h=w=>{m(w,s.useGlobalTarget||Z_(d,w.target))},x=w=>{m(w,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",x,o)};return n.forEach(l=>{!zA(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",u,o),l.addEventListener("focus",f=>HA(f,o),o)}),c}function VA(e){return e==="x"||e==="y"?vn[e]?null:(vn[e]=!0,()=>{vn[e]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}const eC=new Set(["width","height","top","left","right","bottom",...Ka]);let cu;function UA(){cu=void 0}const On={now:()=>(cu===void 0&&On.set(Gr.isProcessing||$P.useManualTiming?Gr.timestamp:performance.now()),cu),set:e=>{cu=e,queueMicrotask(UA)}};function vg(e,t){e.indexOf(t)===-1&&e.push(t)}function yg(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class bg{constructor(){this.subscriptions=[]}add(t){return vg(this.subscriptions,t),()=>yg(this.subscriptions,t)}notify(t,s,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,n);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tC(e,t){return t?e*(1e3/t):0}const Py=30,GA=e=>!isNaN(parseFloat(e));class KA{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const c=On.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new bg);const n=this.events[t].add(s);return t==="change"?()=>{n(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Py)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Py);return tC(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(e,t){return new KA(e,t)}function qA(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,oc(s))}function YA(e,t){const s=Uu(e,t);let{transitionEnd:n={},transition:o={},...c}=s||{};c={...c,...n};for(const u in c){const l=aA(c[u]);qA(e,u,l)}}function XA(e){return!!(is(e)&&e.add)}function np(e,t){const s=e.getValue("willChange");if(XA(s))return s.add(t)}function rC(e){return e.props[R_]}const sC=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,JA=1e-7,QA=12;function ZA(e,t,s,n,o){let c,u,l=0;do u=t+(s-t)/2,c=sC(u,n,o)-e,c>0?s=u:t=u;while(Math.abs(c)>JA&&++l<QA);return u}function _c(e,t,s,n){if(e===t&&s===n)return Bs;const o=c=>ZA(c,0,1,e,s);return c=>c===0||c===1?c:sC(o(c),t,n)}const nC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iC=e=>t=>1-e(1-t),oC=_c(.33,1.53,.69,.99),wg=iC(oC),aC=nC(wg),lC=e=>(e*=2)<1?.5*wg(e):.5*(2-Math.pow(2,-10*(e-1))),_g=e=>1-Math.sin(Math.acos(e)),cC=iC(_g),dC=nC(_g),uC=e=>/^0[^.\s]+$/u.test(e);function e4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uC(e):!0}const Xl=e=>Math.round(e*1e5)/1e5,Cg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t4(e){return e==null}const r4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sg=(e,t)=>s=>!!(typeof s=="string"&&r4.test(s)&&s.startsWith(e)||t&&!t4(s)&&Object.prototype.hasOwnProperty.call(s,t)),hC=(e,t,s)=>n=>{if(typeof n!="string")return n;const[o,c,u,l]=n.match(Cg);return{[e]:parseFloat(o),[t]:parseFloat(c),[s]:parseFloat(u),alpha:l!==void 0?parseFloat(l):1}},s4=e=>di(0,255,e),dm={...qa,transform:e=>Math.round(s4(e))},_o={test:Sg("rgb","red"),parse:hC("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+dm.transform(e)+", "+dm.transform(t)+", "+dm.transform(s)+", "+Xl(ic.transform(n))+")"};function n4(e){let t="",s="",n="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const ip={test:Sg("#"),parse:n4,transform:_o.transform},ka={test:Sg("hsl","hue"),parse:hC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ln.transform(Xl(t))+", "+Ln.transform(Xl(s))+", "+Xl(ic.transform(n))+")"},ns={test:e=>_o.test(e)||ip.test(e)||ka.test(e),parse:e=>_o.test(e)?_o.parse(e):ka.test(e)?ka.parse(e):ip.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_o.transform(e):ka.transform(e)},i4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o4(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cg))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(i4))===null||s===void 0?void 0:s.length)||0)>0}const fC="number",mC="color",a4="var",l4="var(",Ay="${}",c4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ac(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},o=[];let c=0;const l=t.replace(c4,d=>(ns.test(d)?(n.color.push(c),o.push(mC),s.push(ns.parse(d))):d.startsWith(l4)?(n.var.push(c),o.push(a4),s.push(d)):(n.number.push(c),o.push(fC),s.push(parseFloat(d))),++c,Ay)).split(Ay);return{values:s,split:l,indexes:n,types:o}}function pC(e){return ac(e).values}function gC(e){const{split:t,types:s}=ac(e),n=t.length;return o=>{let c="";for(let u=0;u<n;u++)if(c+=t[u],o[u]!==void 0){const l=s[u];l===fC?c+=Xl(o[u]):l===mC?c+=ns.transform(o[u]):c+=o[u]}return c}}const d4=e=>typeof e=="number"?0:e;function u4(e){const t=pC(e);return gC(e)(t.map(d4))}const Hi={test:o4,parse:pC,createTransformer:gC,getAnimatableNone:u4},h4=new Set(["brightness","contrast","saturate","opacity"]);function f4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Cg)||[];if(!n)return e;const o=s.replace(n,"");let c=h4.has(t)?1:0;return n!==s&&(c*=100),t+"("+c+o+")"}const m4=/\b([a-z-]*)\(.*?\)/gu,op={...Hi,getAnimatableNone:e=>{const t=e.match(m4);return t?t.map(f4).join(" "):e}},p4={...lg,color:ns,backgroundColor:ns,outlineColor:ns,fill:ns,stroke:ns,borderColor:ns,borderTopColor:ns,borderRightColor:ns,borderBottomColor:ns,borderLeftColor:ns,filter:op,WebkitFilter:op},kg=e=>p4[e];function xC(e,t){let s=kg(e);return s!==op&&(s=Hi),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const g4=new Set(["auto","none","0"]);function x4(e,t,s){let n=0,o;for(;n<e.length&&!o;){const c=e[n];typeof c=="string"&&!g4.has(c)&&ac(c).values.length&&(o=e[n]),n++}if(o&&s)for(const c of t)e[c]=xC(s,o)}const Ty=e=>e===qa||e===it,Ry=(e,t)=>parseFloat(e.split(", ")[t]),My=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return Ry(o[1],t);{const c=n.match(/^matrix\((.+)\)$/u);return c?Ry(c[1],e):0}},v4=new Set(["x","y","z"]),y4=Ka.filter(e=>!v4.has(e));function b4(e){const t=[];return y4.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Ba={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:My(4,13),y:My(5,14)};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const Co=new Set;let ap=!1,lp=!1;function vC(){if(lp){const e=Array.from(Co).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const o=b4(n);o.length&&(s.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=s.get(n);o&&o.forEach(([c,u])=>{var l;(l=n.getValue(c))===null||l===void 0||l.set(u)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}lp=!1,ap=!1,Co.forEach(e=>e.complete()),Co.clear()}function yC(){Co.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lp=!0)})}function w4(){yC(),vC()}class jg{constructor(t,s,n,o,c,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Co.add(this),ap||(ap=!0,Zt.read(yC),Zt.resolveKeyframes(vC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:o}=this;for(let c=0;c<t.length;c++)if(t[c]===null)if(c===0){const u=o==null?void 0:o.get(),l=t[t.length-1];if(u!==void 0)t[0]=u;else if(n&&s){const d=n.readValue(s,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),o&&u===void 0&&o.set(t[0])}else t[c]=t[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Co.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Co.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),_4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C4(e){const t=_4.exec(e);if(!t)return[,];const[,s,n,o]=t;return[`--${s??n}`,o]}function wC(e,t,s=1){const[n,o]=C4(e);if(!n)return;const c=window.getComputedStyle(t).getPropertyValue(n);if(c){const u=c.trim();return bC(u)?parseFloat(u):u}return ag(o)?wC(o,t,s+1):o}const _C=e=>t=>t.test(e),S4={test:e=>e==="auto",parse:e=>e},CC=[qa,it,Ln,Fi,fA,hA,S4],Dy=e=>CC.find(_C(e));class SC extends jg{constructor(t,s,n,o,c){super(t,s,n,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),ag(f))){const m=wC(f,s.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!eC.has(n)||t.length!==2)return;const[o,c]=t,u=Dy(o),l=Dy(c);if(u!==l)if(Ty(u)&&Ty(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let o=0;o<t.length;o++)e4(t[o])&&n.push(o);n.length&&x4(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:o}=this;if(!s||!s.current)return;const c=s.getValue(n);c&&c.jump(this.measuredOrigin,!1);const u=o.length-1,l=o[u];o[u]=Ba[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,f])=>{s.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const Iy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hi.test(e)||e==="0")&&!e.startsWith("url("));function k4(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function j4(e,t,s,n){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=Iy(o,t),l=Iy(c,t);return!u||!l?!1:k4(e)||(s==="spring"||pg(s))&&n}const N4=e=>e!==null;function Gu(e,{repeat:t,repeatType:s="loop"},n){const o=e.filter(N4),c=t&&s!=="loop"&&t%2===1?0:o.length-1;return!c||n===void 0?o[c]:n}const E4=40;class kC{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=On.now(),this.options={autoplay:t,delay:s,type:n,repeat:o,repeatDelay:c,repeatType:u,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>E4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w4(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=On.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:c,delay:u,onComplete:l,onUpdate:d,isGenerator:f}=this.options;if(!f&&!j4(t,n,o,c))if(u)this.options.duration=0;else{d&&d(Gu(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,s);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...m},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const dr=(e,t,s)=>e+(t-e)*s;function um(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function P4({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let o=0,c=0,u=0;if(!t)o=c=u=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;o=um(d,l,e+1/3),c=um(d,l,e),u=um(d,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:n}}function bu(e,t){return s=>s>0?t:e}const hm=(e,t,s)=>{const n=e*e,o=s*(t*t-n)+n;return o<0?0:Math.sqrt(o)},A4=[ip,_o,ka],T4=e=>A4.find(t=>t.test(e));function Ly(e){const t=T4(e);if(!t)return!1;let s=t.parse(e);return t===ka&&(s=P4(s)),s}const Oy=(e,t)=>{const s=Ly(e),n=Ly(t);if(!s||!n)return bu(e,t);const o={...s};return c=>(o.red=hm(s.red,n.red,c),o.green=hm(s.green,n.green,c),o.blue=hm(s.blue,n.blue,c),o.alpha=dr(s.alpha,n.alpha,c),_o.transform(o))},R4=(e,t)=>s=>t(e(s)),Cc=(...e)=>e.reduce(R4),cp=new Set(["none","hidden"]);function M4(e,t){return cp.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function D4(e,t){return s=>dr(e,t,s)}function Ng(e){return typeof e=="number"?D4:typeof e=="string"?ag(e)?bu:ns.test(e)?Oy:O4:Array.isArray(e)?jC:typeof e=="object"?ns.test(e)?Oy:I4:bu}function jC(e,t){const s=[...e],n=s.length,o=e.map((c,u)=>Ng(c)(c,t[u]));return c=>{for(let u=0;u<n;u++)s[u]=o[u](c);return s}}function I4(e,t){const s={...e,...t},n={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Ng(e[o])(e[o],t[o]));return o=>{for(const c in n)s[c]=n[c](o);return s}}function L4(e,t){var s;const n=[],o={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const u=t.types[c],l=e.indexes[u][o[u]],d=(s=e.values[l])!==null&&s!==void 0?s:0;n[c]=d,o[u]++}return n}const O4=(e,t)=>{const s=Hi.createTransformer(t),n=ac(e),o=ac(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?cp.has(e)&&!o.values.length||cp.has(t)&&!n.values.length?M4(e,t):Cc(jC(L4(n,o),o.values),s):bu(e,t)};function NC(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?dr(e,t,s):Ng(e)(e,t)}const F4=5;function EC(e,t,s){const n=Math.max(t-F4,0);return tC(s-e(n),t-n)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fm=.001;function B4({duration:e=pr.duration,bounce:t=pr.bounce,velocity:s=pr.velocity,mass:n=pr.mass}){let o,c,u=1-t;u=di(pr.minDamping,pr.maxDamping,u),e=di(pr.minDuration,pr.maxDuration,ci(e)),u<1?(o=f=>{const m=f*u,h=m*e,x=m-s,w=dp(f,u),j=Math.exp(-h);return fm-x/w*j},c=f=>{const h=f*u*e,x=h*s+s,w=Math.pow(u,2)*Math.pow(f,2)*e,j=Math.exp(-h),C=dp(Math.pow(f,2),u);return(-o(f)+fm>0?-1:1)*((x-w)*j)/C}):(o=f=>{const m=Math.exp(-f*e),h=(f-s)*e+1;return-fm+m*h},c=f=>{const m=Math.exp(-f*e),h=(s-f)*(e*e);return m*h});const l=5/e,d=z4(o,c,l);if(e=li(e),isNaN(d))return{stiffness:pr.stiffness,damping:pr.damping,duration:e};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:u*2*Math.sqrt(n*f),duration:e}}}const $4=12;function z4(e,t,s){let n=s;for(let o=1;o<$4;o++)n=n-e(n)/t(n);return n}function dp(e,t){return e*Math.sqrt(1-t*t)}const H4=["duration","bounce"],W4=["stiffness","damping","mass"];function Fy(e,t){return t.some(s=>e[s]!==void 0)}function V4(e){let t={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...e};if(!Fy(e,W4)&&Fy(e,H4))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),o=n*n,c=2*di(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pr.mass,stiffness:o,damping:c}}else{const s=B4(e);t={...t,...s,mass:pr.mass},t.isResolvedFromDuration=!0}return t}function PC(e=pr.visualDuration,t=pr.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],l={done:!1,value:c},{stiffness:d,damping:f,mass:m,duration:h,velocity:x,isResolvedFromDuration:w}=V4({...s,velocity:-ci(s.velocity||0)}),j=x||0,C=f/(2*Math.sqrt(d*m)),v=u-c,y=ci(Math.sqrt(d/m)),g=Math.abs(v)<5;n||(n=g?pr.restSpeed.granular:pr.restSpeed.default),o||(o=g?pr.restDelta.granular:pr.restDelta.default);let b;if(C<1){const E=dp(y,C);b=P=>{const T=Math.exp(-C*y*P);return u-T*((j+C*y*v)/E*Math.sin(E*P)+v*Math.cos(E*P))}}else if(C===1)b=E=>u-Math.exp(-y*E)*(v+(j+y*v)*E);else{const E=y*Math.sqrt(C*C-1);b=P=>{const T=Math.exp(-C*y*P),N=Math.min(E*P,300);return u-T*((j+C*y*v)*Math.sinh(N)+E*v*Math.cosh(N))/E}}const k={calculatedDuration:w&&h||null,next:E=>{const P=b(E);if(w)l.done=E>=h;else{let T=0;C<1&&(T=E===0?li(j):EC(b,E,P));const N=Math.abs(T)<=n,M=Math.abs(u-P)<=o;l.done=N&&M}return l.value=l.done?u:P,l},toString:()=>{const E=Math.min(K_(k),rp),P=q_(T=>k.next(E*T).value,E,30);return E+"ms "+P}};return k}function By({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:l,max:d,restDelta:f=.5,restSpeed:m}){const h=e[0],x={done:!1,value:h},w=N=>l!==void 0&&N<l||d!==void 0&&N>d,j=N=>l===void 0?d:d===void 0||Math.abs(l-N)<Math.abs(d-N)?l:d;let C=s*t;const v=h+C,y=u===void 0?v:u(v);y!==v&&(C=y-h);const g=N=>-C*Math.exp(-N/n),b=N=>y+g(N),k=N=>{const M=g(N),I=b(N);x.done=Math.abs(M)<=f,x.value=x.done?y:I};let E,P;const T=N=>{w(x.value)&&(E=N,P=PC({keyframes:[x.value,j(x.value)],velocity:EC(b,N,x.value),damping:o,stiffness:c,restDelta:f,restSpeed:m}))};return T(0),{calculatedDuration:null,next:N=>{let M=!1;return!P&&E===void 0&&(M=!0,k(N),T(N)),E!==void 0&&N>=E?P.next(N-E):(!M&&k(N),x)}}}const U4=_c(.42,0,1,1),G4=_c(0,0,.58,1),AC=_c(.42,0,.58,1),K4=e=>Array.isArray(e)&&typeof e[0]!="number",q4={linear:Bs,easeIn:U4,easeInOut:AC,easeOut:G4,circIn:_g,circInOut:dC,circOut:cC,backIn:wg,backInOut:aC,backOut:oC,anticipate:lC},$y=e=>{if(gg(e)){N_(e.length===4);const[t,s,n,o]=e;return _c(t,s,n,o)}else if(typeof e=="string")return q4[e];return e};function Y4(e,t,s){const n=[],o=s||NC,c=e.length-1;for(let u=0;u<c;u++){let l=o(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||Bs:t;l=Cc(d,l)}n.push(l)}return n}function X4(e,t,{clamp:s=!0,ease:n,mixer:o}={}){const c=e.length;if(N_(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Y4(t,n,o),d=l.length,f=m=>{if(u&&m<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(m<e[h+1]);h++);const x=Oa(e[h],e[h+1],m);return l[h](x)};return s?m=>f(di(e[0],e[c-1],m)):f}function J4(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const o=Oa(0,t,n);e.push(dr(s,1,o))}}function Q4(e){const t=[0];return J4(t,e.length-1),t}function Z4(e,t){return e.map(s=>s*t)}function eT(e,t){return e.map(()=>t||AC).splice(0,e.length-1)}function wu({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const o=K4(n)?n.map($y):$y(n),c={done:!1,value:t[0]},u=Z4(s&&s.length===t.length?s:Q4(t),e),l=X4(u,t,{ease:Array.isArray(o)?o:eT(t,o)});return{calculatedDuration:e,next:d=>(c.value=l(d),c.done=d>=e,c)}}const tT=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Zt.update(t,!0),stop:()=>zi(t),now:()=>Gr.isProcessing?Gr.timestamp:On.now()}},rT={decay:By,inertia:By,tween:wu,keyframes:wu,spring:PC},sT=e=>e/100;class Eg extends kC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:s,motionValue:n,element:o,keyframes:c}=this.options,u=(o==null?void 0:o.KeyframeResolver)||jg,l=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new u(c,l,s,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=this.options,l=pg(s)?s:rT[s]||wu;let d,f;l!==wu&&typeof t[0]!="number"&&(d=Cc(sT,NC(t[0],t[1])),t=[0,100]);const m=l({...this.options,keyframes:t});c==="mirror"&&(f=l({...this.options,keyframes:[...t].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=K_(m));const{calculatedDuration:h}=m,x=h+o,w=x*(n+1)-o;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:h,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:o,generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,keyframes:d,calculatedDuration:f,totalDuration:m,resolvedDuration:h}=n;if(this.startTime===null)return c.next(0);const{delay:x,repeat:w,repeatType:j,repeatDelay:C,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-x*(this.speed>=0?1:-1),g=this.speed>=0?y<0:y>m;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let b=this.currentTime,k=c;if(w){const N=Math.min(this.currentTime,m)/h;let M=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&M--,M=Math.min(M,w+1),!!(M%2)&&(j==="reverse"?(I=1-I,C&&(I-=C/h)):j==="mirror"&&(k=u)),b=di(0,1,I)*h}const E=g?{done:!1,value:d[0]}:k.next(b);l&&(E.value=l(E.value));let{done:P}=E;!g&&f!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&o!==void 0&&(E.value=Gu(d,this.options,o)),v&&v(E.value),T&&this.finish(),E}get duration(){const{resolved:t}=this;return t?ci(t.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(t){t=li(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tT,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),s&&s();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const nT=new Set(["opacity","clipPath","filter","transform"]);function iT(e,t,s,{delay:n=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:l="easeInOut",times:d}={}){const f={[t]:s};d&&(f.offset=d);const m=X_(l,o);return Array.isArray(m)&&(f.easing=m),e.animate(f,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"})}const oT=eg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_u=10,aT=2e4;function lT(e){return pg(e.type)||e.type==="spring"||!Y_(e.ease)}function cT(e,t){const s=new Eg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const o=[];let c=0;for(;!n.done&&c<aT;)n=s.sample(c),o.push(n.value),c+=_u;return{times:void 0,keyframes:o,duration:c-_u,ease:"linear"}}const TC={anticipate:lC,backInOut:aC,circInOut:dC};function dT(e){return e in TC}class zy extends kC{constructor(t){super(t);const{name:s,motionValue:n,element:o,keyframes:c}=this.options;this.resolver=new SC(c,(u,l)=>this.onKeyframesResolved(u,l),s,n,o),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:o,ease:c,type:u,motionValue:l,name:d,startTime:f}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof c=="string"&&yu()&&dT(c)&&(c=TC[c]),lT(this.options)){const{onComplete:h,onUpdate:x,motionValue:w,element:j,...C}=this.options,v=cT(t,C);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,o=v.times,c=v.ease,u="keyframes"}const m=iT(l.owner.current,d,t,{...this.options,duration:n,times:o,ease:c});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(ky(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:h}=this.options;l.set(Gu(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:n,times:o,type:u,ease:c,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ci(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ci(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=li(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Bs;const{animation:n}=s;ky(n,t)}return Bs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:o,type:c,ease:u,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:h,element:x,...w}=this.options,j=new Eg({...w,keyframes:n,duration:o,type:c,ease:u,times:l,isGenerator:!0}),C=li(this.time);f.setWithVelocity(j.sample(C-_u).value,j.sample(C).value,_u)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:o,repeatType:c,damping:u,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=s.owner.getProps();return oT()&&n&&nT.has(n)&&!d&&!f&&!o&&c!=="mirror"&&u!==0&&l!=="inertia"}}const uT={type:"spring",stiffness:500,damping:25,restSpeed:10},hT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fT={type:"keyframes",duration:.8},mT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pT=(e,{keyframes:t})=>t.length>2?fT:Io.has(e)?e.startsWith("scale")?hT(t[1]):uT:mT;function gT({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:l,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Pg=(e,t,s,n={},o,c)=>u=>{const l=mg(n,e)||{},d=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-li(d);let m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:x=>{t.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{u(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:c?void 0:o};gT(l)||(m={...m,...pT(e,m)}),m.duration&&(m.duration=li(m.duration)),m.repeatDelay&&(m.repeatDelay=li(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let h=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(h=!0)),h&&!c&&t.get()!==void 0){const x=Gu(m.keyframes,l);if(x!==void 0)return Zt.update(()=>{m.onUpdate(x),m.onComplete()}),new IA([])}return!c&&zy.supports(m)?new zy(m):new Eg(m)};function xT({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function RC(e,t,{delay:s=0,transitionOverride:n,type:o}={}){var c;let{transition:u=e.getDefaultTransition(),transitionEnd:l,...d}=t;n&&(u=n);const f=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const h in d){const x=e.getValue(h,(c=e.latestValues[h])!==null&&c!==void 0?c:null),w=d[h];if(w===void 0||m&&xT(m,h))continue;const j={delay:s,...mg(u||{},h)};let C=!1;if(window.MotionHandoffAnimation){const y=rC(e);if(y){const g=window.MotionHandoffAnimation(y,h,Zt);g!==null&&(j.startTime=g,C=!0)}}np(e,h),x.start(Pg(h,x,w,e.shouldReduceMotion&&eC.has(h)?{type:!1}:j,e,C));const v=x.animation;v&&f.push(v)}return l&&Promise.all(f).then(()=>{Zt.update(()=>{l&&YA(e,l)})}),f}function up(e,t,s={}){var n;const o=Uu(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const u=o?()=>Promise.all(RC(e,o,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:h,staggerDirection:x}=c;return vT(e,t,m+f,h,x,s)}:()=>Promise.resolve(),{when:d}=c;if(d){const[f,m]=d==="beforeChildren"?[u,l]:[l,u];return f().then(()=>m())}else return Promise.all([u(),l(s.delay)])}function vT(e,t,s=0,n=0,o=1,c){const u=[],l=(e.variantChildren.size-1)*n,d=o===1?(f=0)=>f*n:(f=0)=>l-f*n;return Array.from(e.variantChildren).sort(yT).forEach((f,m)=>{f.notify("AnimationStart",t),u.push(up(f,t,{...c,delay:s+d(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(u)}function yT(e,t){return e.sortNodePosition(t)}function bT(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(c=>up(e,c,s));n=Promise.all(o)}else if(typeof t=="string")n=up(e,t,s);else{const o=typeof t=="function"?Uu(e,t,s.custom):t;n=Promise.all(RC(e,o,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const wT=rg.length;function MC(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?MC(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<wT;s++){const n=rg[s],o=e.props[n];(nc(o)||o===!1)&&(t[n]=o)}return t}const _T=[...tg].reverse(),CT=tg.length;function ST(e){return t=>Promise.all(t.map(({animation:s,options:n})=>bT(e,s,n)))}function kT(e){let t=ST(e),s=Hy(),n=!0;const o=d=>(f,m)=>{var h;const x=Uu(e,m,d==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(x){const{transition:w,transitionEnd:j,...C}=x;f={...f,...C,...j}}return f};function c(d){t=d(e)}function u(d){const{props:f}=e,m=MC(e.parent)||{},h=[],x=new Set;let w={},j=1/0;for(let v=0;v<CT;v++){const y=_T[v],g=s[y],b=f[y]!==void 0?f[y]:m[y],k=nc(b),E=y===d?g.isActive:null;E===!1&&(j=v);let P=b===m[y]&&b!==f[y]&&k;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...w},!g.isActive&&E===null||!b&&!g.prevProp||Wu(b)||typeof b=="boolean")continue;const T=jT(g.prevProp,b);let N=T||y===d&&g.isActive&&!P&&k||v>j&&k,M=!1;const I=Array.isArray(b)?b:[b];let L=I.reduce(o(y),{});E===!1&&(L={});const{prevResolvedValues:B={}}=g,H={...B,...L},q=J=>{N=!0,x.has(J)&&(M=!0,x.delete(J)),g.needsAnimating[J]=!0;const K=e.getValue(J);K&&(K.liveStyle=!1)};for(const J in H){const K=L[J],F=B[J];if(w.hasOwnProperty(J))continue;let R=!1;tp(K)&&tp(F)?R=!G_(K,F):R=K!==F,R?K!=null?q(J):x.add(J):K!==void 0&&x.has(J)?q(J):g.protectedKeys[J]=!0}g.prevProp=b,g.prevResolvedValues=L,g.isActive&&(w={...w,...L}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(P&&T)||M)&&h.push(...I.map(J=>({animation:J,options:{type:y}})))}if(x.size){const v={};x.forEach(y=>{const g=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=g??null}),h.push({animation:v})}let C=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(C=!1),n=!1,C?t(h):Promise.resolve()}function l(d,f){var m;if(s[d].isActive===f)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(d,f)}),s[d].isActive=f;const h=u(d);for(const x in s)s[x].protectedKeys={};return h}return{animateChanges:u,setActive:l,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Hy(),n=!0}}}function jT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!G_(t,e):!1}function vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hy(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class Gi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NT extends Gi{constructor(t){super(t),t.animationState||(t.animationState=kT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ET=0;class PT extends Gi{constructor(){super(...arguments),this.id=ET++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AT={animation:{Feature:NT},exit:{Feature:PT}};function lc(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Sc(e){return{point:{x:e.pageX,y:e.pageY}}}const TT=e=>t=>xg(t)&&e(t,Sc(t));function Jl(e,t,s,n){return lc(e,t,TT(s),n)}const Wy=(e,t)=>Math.abs(e-t);function RT(e,t){const s=Wy(e.x,t.x),n=Wy(e.y,t.y);return Math.sqrt(s**2+n**2)}class DC{constructor(t,s,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=pm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=RT(h.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:j}=h,{timestamp:C}=Gr;this.history.push({...j,timestamp:C});const{onStart:v,onMove:y}=this.handlers;x||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=mm(x,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pm(h.type==="pointercancel"?this.lastMoveEventInfo:mm(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(h,v),j&&j(h,v)},!xg(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=n,this.contextWindow=o||window;const u=Sc(t),l=mm(u,this.transformPagePoint),{point:d}=l,{timestamp:f}=Gr;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=s;m&&m(t,pm(l,this.history)),this.removeListeners=Cc(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function mm(e,t){return t?{point:t(e.point)}:e}function Vy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pm({point:e},t){return{point:e,delta:Vy(e,IC(t)),offset:Vy(e,MT(t)),velocity:DT(t,.1)}}function MT(e){return e[0]}function IC(e){return e[e.length-1]}function DT(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const o=IC(e);for(;s>=0&&(n=e[s],!(o.timestamp-n.timestamp>li(t)));)s--;if(!n)return{x:0,y:0};const c=ci(o.timestamp-n.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-n.x)/c,y:(o.y-n.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const LC=1e-4,IT=1-LC,LT=1+LC,OC=.01,OT=0-OC,FT=0+OC;function Ws(e){return e.max-e.min}function BT(e,t,s){return Math.abs(e-t)<=s}function Uy(e,t,s,n=.5){e.origin=n,e.originPoint=dr(t.min,t.max,e.origin),e.scale=Ws(s)/Ws(t),e.translate=dr(s.min,s.max,e.origin)-e.originPoint,(e.scale>=IT&&e.scale<=LT||isNaN(e.scale))&&(e.scale=1),(e.translate>=OT&&e.translate<=FT||isNaN(e.translate))&&(e.translate=0)}function Ql(e,t,s,n){Uy(e.x,t.x,s.x,n?n.originX:void 0),Uy(e.y,t.y,s.y,n?n.originY:void 0)}function Gy(e,t,s){e.min=s.min+t.min,e.max=e.min+Ws(t)}function $T(e,t,s){Gy(e.x,t.x,s.x),Gy(e.y,t.y,s.y)}function Ky(e,t,s){e.min=t.min-s.min,e.max=e.min+Ws(t)}function Zl(e,t,s){Ky(e.x,t.x,s.x),Ky(e.y,t.y,s.y)}function zT(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?dr(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?dr(s,e,n.max):Math.min(e,s)),e}function qy(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function HT(e,{top:t,left:s,bottom:n,right:o}){return{x:qy(e.x,s,o),y:qy(e.y,t,n)}}function Yy(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function WT(e,t){return{x:Yy(e.x,t.x),y:Yy(e.y,t.y)}}function VT(e,t){let s=.5;const n=Ws(e),o=Ws(t);return o>n?s=Oa(t.min,t.max-n,e.min):n>o&&(s=Oa(e.min,e.max-o,t.min)),di(0,1,s)}function UT(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const hp=.35;function GT(e=hp){return e===!1?e=0:e===!0&&(e=hp),{x:Xy(e,"left","right"),y:Xy(e,"top","bottom")}}function Xy(e,t,s){return{min:Jy(e,t),max:Jy(e,s)}}function Jy(e,t){return typeof e=="number"?e:e[t]||0}const Qy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ja=()=>({x:Qy(),y:Qy()}),Zy=()=>({min:0,max:0}),vr=()=>({x:Zy(),y:Zy()});function Zs(e){return[e("x"),e("y")]}function FC({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function KT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qT(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function gm(e){return e===void 0||e===1}function fp({scale:e,scaleX:t,scaleY:s}){return!gm(e)||!gm(t)||!gm(s)}function bo(e){return fp(e)||BC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function BC(e){return eb(e.x)||eb(e.y)}function eb(e){return e&&e!=="0%"}function Cu(e,t,s){const n=e-s,o=t*n;return s+o}function tb(e,t,s,n,o){return o!==void 0&&(e=Cu(e,o,n)),Cu(e,s,n)+t}function mp(e,t=0,s=1,n,o){e.min=tb(e.min,t,s,n,o),e.max=tb(e.max,t,s,n,o)}function $C(e,{x:t,y:s}){mp(e.x,t.translate,t.scale,t.originPoint),mp(e.y,s.translate,s.scale,s.originPoint)}const rb=.999999999999,sb=1.0000000000001;function YT(e,t,s,n=!1){const o=s.length;if(!o)return;t.x=t.y=1;let c,u;for(let l=0;l<o;l++){c=s[l],u=c.projectionDelta;const{visualElement:d}=c.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ea(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,$C(e,u)),n&&bo(c.latestValues)&&Ea(e,c.latestValues))}t.x<sb&&t.x>rb&&(t.x=1),t.y<sb&&t.y>rb&&(t.y=1)}function Na(e,t){e.min=e.min+t,e.max=e.max+t}function nb(e,t,s,n,o=.5){const c=dr(e.min,e.max,o);mp(e,t,s,c,n)}function Ea(e,t){nb(e.x,t.x,t.scaleX,t.scale,t.originX),nb(e.y,t.y,t.scaleY,t.scale,t.originY)}function zC(e,t){return FC(qT(e.getBoundingClientRect(),t))}function XT(e,t,s){const n=zC(e,s),{scroll:o}=t;return o&&(Na(n.x,o.offset.x),Na(n.y,o.offset.y)),n}const HC=({current:e})=>e?e.ownerDocument.defaultView:null,JT=new WeakMap;class QT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Sc(m).point)},c=(m,h)=>{const{drag:x,dragPropagation:w,onDragStart:j}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VA(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zs(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ln.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[v];b&&(y=Ws(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),j&&Zt.postRender(()=>j(m,h)),np(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(m,h)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:j,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=h;if(w&&this.currentDirection===null){this.currentDirection=ZT(v),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),C&&C(m,h)},l=(m,h)=>this.stop(m,h),d=()=>Zs(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new DC(t,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:HC(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Zt.postRender(()=>c(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:o}=this.getProps();if(!n||!Kd(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(u=zT(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;s&&Sa(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=HT(o.layoutBox,s):this.constraints=!1,this.elastic=GT(n),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Zs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=UT(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Sa(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=XT(n,o.root,this.visualElement.getTransformPagePoint());let u=WT(o.layout.layoutBox,c);if(s){const l=s(KT(u));this.hasMutatedConstraints=!!l,l&&(u=FC(l))}return u}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=Zs(m=>{if(!Kd(m,s,this.currentDirection))return;let h=d&&d[m]||{};u&&(h={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...h};return this.startAxisValueAnimation(m,j)});return Promise.all(f).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return np(this.visualElement,t),n.start(Pg(t,n,0,s,this.visualElement,!1))}stopAnimation(){Zs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zs(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[s];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Zs(s=>{const{drag:n}=this.getProps();if(!Kd(s,n,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:l}=o.layout.layoutBox[s];c.set(t[s]-dr(u,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(s)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zs(u=>{const l=this.getAxisMotionValue(u);if(l&&this.constraints!==!1){const d=l.get();o[u]=VT({min:d,max:d},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zs(u=>{if(!Kd(u,t,null))return;const l=this.getAxisMotionValue(u),{min:d,max:f}=this.constraints[u];l.set(dr(d,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;JT.set(this.visualElement,this);const t=this.visualElement.current,s=Jl(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Sa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Zt.read(n);const u=lc(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zs(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=d[m].translate,h.set(h.get()+d[m].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=hp,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:l}}}function Kd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function ZT(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class eR extends Gi{constructor(t){super(t),this.removeGroupControls=Bs,this.removeListeners=Bs,this.controls=new QT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bs}unmount(){this.removeGroupControls(),this.removeListeners()}}const ib=e=>(t,s)=>{e&&Zt.postRender(()=>e(t,s))};class tR extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Bs}onPointerDown(t){this.session=new DC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:ib(t),onStart:ib(s),onMove:n,onEnd:(c,u)=>{delete this.session,o&&Zt.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ob(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const s=ob(e,t.target.x),n=ob(e,t.target.y);return`${s}% ${n}%`}},rR={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,o=Hi.parse(e);if(o.length>5)return n;const c=Hi.createTransformer(e),u=typeof o[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;o[0+u]/=l,o[1+u]/=d;const f=dr(l,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),c(o)}};class sR extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:o}=this.props,{projection:c}=t;CA(nR),c&&(s.group&&s.group.add(c),n&&n.register&&o&&n.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),du.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:o,isPresent:c}=this.props,u=n.projection;return u&&(u.isPresent=c,o||t.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||Zt.postRender(()=>{const l=u.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ng.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WC(e){const[t,s]=S_(),n=_.useContext(Xp);return r.jsx(sR,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(M_),isPresent:t,safeToRemove:s})}const nR={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:rR};function iR(e,t,s){const n=is(e)?e:oc(e);return n.start(Pg("",n,t,s)),n.animation}function oR(e){return e instanceof SVGElement&&e.tagName!=="svg"}const aR=(e,t)=>e.depth-t.depth;class lR{constructor(){this.children=[],this.isDirty=!1}add(t){vg(this.children,t),this.isDirty=!0}remove(t){yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aR),this.isDirty=!1,this.children.forEach(t)}}function cR(e,t){const s=On.now(),n=({timestamp:o})=>{const c=o-s;c>=t&&(zi(n),e(c-t))};return Zt.read(n,!0),()=>zi(n)}const VC=["TopLeft","TopRight","BottomLeft","BottomRight"],dR=VC.length,ab=e=>typeof e=="string"?parseFloat(e):e,lb=e=>typeof e=="number"||it.test(e);function uR(e,t,s,n,o,c){o?(e.opacity=dr(0,s.opacity!==void 0?s.opacity:1,hR(n)),e.opacityExit=dr(t.opacity!==void 0?t.opacity:1,0,fR(n))):c&&(e.opacity=dr(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let u=0;u<dR;u++){const l=`border${VC[u]}Radius`;let d=cb(t,l),f=cb(s,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||lb(d)===lb(f)?(e[l]=Math.max(dr(ab(d),ab(f),n),0),(Ln.test(f)||Ln.test(d))&&(e[l]+="%")):e[l]=f}(t.rotate||s.rotate)&&(e.rotate=dr(t.rotate||0,s.rotate||0,n))}function cb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hR=UC(0,.5,cC),fR=UC(.5,.95,Bs);function UC(e,t,s){return n=>n<e?0:n>t?1:s(Oa(e,t,n))}function db(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){db(e.x,t.x),db(e.y,t.y)}function ub(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hb(e,t,s,n,o){return e-=t,e=Cu(e,1/s,n),o!==void 0&&(e=Cu(e,1/o,n)),e}function mR(e,t=0,s=1,n=.5,o,c=e,u=e){if(Ln.test(t)&&(t=parseFloat(t),t=dr(u.min,u.max,t/100)-u.min),typeof t!="number")return;let l=dr(c.min,c.max,n);e===c&&(l-=t),e.min=hb(e.min,t,s,l,o),e.max=hb(e.max,t,s,l,o)}function fb(e,t,[s,n,o],c,u){mR(e,t[s],t[n],t[o],t.scale,c,u)}const pR=["x","scaleX","originX"],gR=["y","scaleY","originY"];function mb(e,t,s,n){fb(e.x,t,pR,s?s.x:void 0,n?n.x:void 0),fb(e.y,t,gR,s?s.y:void 0,n?n.y:void 0)}function pb(e){return e.translate===0&&e.scale===1}function GC(e){return pb(e.x)&&pb(e.y)}function gb(e,t){return e.min===t.min&&e.max===t.max}function xR(e,t){return gb(e.x,t.x)&&gb(e.y,t.y)}function xb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function KC(e,t){return xb(e.x,t.x)&&xb(e.y,t.y)}function vb(e){return Ws(e.x)/Ws(e.y)}function yb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vR{constructor(){this.members=[]}add(t){vg(this.members,t),t.scheduleRender()}remove(t){if(yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let n;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){n=c;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yR(e,t,s){let n="";const o=e.x.translate/t.x,c=e.y.translate/t.y,u=(s==null?void 0:s.z)||0;if((o||c||u)&&(n=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:f,rotate:m,rotateX:h,rotateY:x,skewX:w,skewY:j}=s;f&&(n=`perspective(${f}px) ${n}`),m&&(n+=`rotate(${m}deg) `),h&&(n+=`rotateX(${h}deg) `),x&&(n+=`rotateY(${x}deg) `),w&&(n+=`skewX(${w}deg) `),j&&(n+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(n+=`scale(${l}, ${d})`),n||"none"}const wo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Kl=typeof window<"u"&&window.MotionDebug!==void 0,xm=["","X","Y","Z"],bR={visibility:"hidden"},bb=1e3;let wR=0;function vm(e,t,s,n){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function qC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=rC(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Zt,!(o||c))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&qC(n)}function YC({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(u={},l=t==null?void 0:t()){this.id=wR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kl&&(wo.totalNodes=wo.resolvedTargetDeltas=wo.recalculatedProjection=0),this.nodes.forEach(SR),this.nodes.forEach(PR),this.nodes.forEach(AR),this.nodes.forEach(kR),Kl&&window.MotionDebug.record(wo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new lR)}addEventListener(u,l){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new bg),this.eventHandlers.get(u).add(l)}notifyListeners(u,...l){const d=this.eventHandlers.get(u);d&&d.notify(...l)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oR(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||d)&&(this.isLayoutDirty=!0),e){let h;const x=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=cR(x,250),du.hasAnimatedSinceResize&&(du.hasAnimatedSinceResize=!1,this.nodes.forEach(_b))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeTargetChanged:w,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||IR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=m.getProps(),g=!this.targetLayout||!KC(this.targetLayout,j)||w,b=!x&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||x&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const k={...mg(C,"layout"),onPlay:v,onComplete:y};(m.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else x||_b(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wb);return}this.isUpdating||this.nodes.forEach(NR),this.isUpdating=!1,this.nodes.forEach(ER),this.nodes.forEach(_R),this.nodes.forEach(CR),this.clearAllSnapshots();const l=On.now();Gr.delta=di(0,1e3/60,l-Gr.timestamp),Gr.timestamp=l,Gr.isProcessing=!0,lm.update.process(Gr),lm.preRender.process(Gr),lm.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ng.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jR),this.sharedNodes.forEach(RR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(l=!1),l){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!GC(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&(l||bo(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return u&&(d=this.removeTransform(d)),LR(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:l}=this.options;if(!l)return vr();const d=l.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(OR))){const{scroll:m}=this.root;m&&(Na(d.x,m.offset.x),Na(d.y,m.offset.y))}return d}removeElementScroll(u){var l;const d=vr();if(Qs(d,u),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:h,options:x}=m;m!==this.root&&h&&x.layoutScroll&&(h.wasRoot&&Qs(d,u),Na(d.x,h.offset.x),Na(d.y,h.offset.y))}return d}applyTransform(u,l=!1){const d=vr();Qs(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ea(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),bo(m.latestValues)&&Ea(d,m.latestValues)}return bo(this.latestValues)&&Ea(d,this.latestValues),d}removeTransform(u){const l=vr();Qs(l,u);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!bo(f.latestValues))continue;fp(f.latestValues)&&f.updateSnapshot();const m=vr(),h=f.measurePageBox();Qs(m,h),mb(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return bo(this.latestValues)&&mb(l,this.latestValues),l}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Gr.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Zl(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$T(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),$C(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Zl(this.relativeTargetOrigin,this.target,w.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kl&&wo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fp(this.parent.latestValues)||BC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;Qs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;YT(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=vr());const{target:j}=l;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ub(this.prevProjectionDelta.x,this.projectionDelta.x),ub(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!yb(this.projectionDelta.x,this.prevProjectionDelta.x)||!yb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Kl&&wo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ja(),this.projectionDelta=ja(),this.projectionDeltaWithTransform=ja()}setAnimationOrigin(u,l=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},h=ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=vr(),w=d?d.source:void 0,j=this.layout?this.layout.source:void 0,C=w!==j,v=this.getStack(),y=!v||v.members.length<=1,g=!!(C&&!y&&this.options.crossfade===!0&&!this.path.some(DR));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const E=k/1e3;Cb(h.x,u.x,E),Cb(h.y,u.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MR(this.relativeTarget,this.relativeTargetOrigin,x,E),b&&xR(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=vr()),Qs(b,this.relativeTarget)),C&&(this.animationValues=m,uR(m,f,this.latestValues,E,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{du.hasAnimatedSinceResize=!0,this.currentAnimation=iR(0,bb,{...u,onUpdate:l=>{this.mixTargetDelta(l),u.onUpdate&&u.onUpdate(l)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:m}=u;if(!(!l||!d||!f)){if(this!==u&&this.layout&&f&&XC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||vr();const h=Ws(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+h;const x=Ws(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}Qs(l,d),Ea(l,m),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(u,l){this.sharedNodes.has(u)||this.sharedNodes.set(u,new vR),this.sharedNodes.get(u).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let l=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&vm("z",u,f,this.animationValues);for(let m=0;m<xm.length;m++)vm(`rotate${xm[m]}`,u,f,this.animationValues),vm(`skew${xm[m]}`,u,f,this.animationValues);u.render();for(const m in f)u.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);u.scheduleRender()}getProjectionStyles(u){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bR;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=lu(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=lu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const x=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=yR(this.projectionDeltaWithTransform,this.treeScale,x),m&&(f.transform=m(x,f.transform));const{x:w,y:j}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${j.origin*100}% 0`,h.animationValues?f.opacity=h===this?(d=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=h===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in vu){if(x[C]===void 0)continue;const{correct:v,applyTo:y}=vu[C],g=f.transform==="none"?x[C]:v(x[C],h);if(y){const b=y.length;for(let k=0;k<b;k++)f[y[k]]=g}else f[C]=g}return this.options.layoutId&&(f.pointerEvents=h===this?lu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var l;return(l=u.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(wb),this.root.sharedNodes.clear()}}}function _R(e){e.updateLayout()}function CR(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:c}=e.options,u=s.source!==e.layout.source;c==="size"?Zs(h=>{const x=u?s.measuredBox[h]:s.layoutBox[h],w=Ws(x);x.min=n[h].min,x.max=x.min+w}):XC(c,s.layoutBox,n)&&Zs(h=>{const x=u?s.measuredBox[h]:s.layoutBox[h],w=Ws(n[h]);x.max=x.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+w)});const l=ja();Ql(l,n,s.layoutBox);const d=ja();u?Ql(d,e.applyTransform(o,!0),s.measuredBox):Ql(d,n,s.layoutBox);const f=!GC(l);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:w}=h;if(x&&w){const j=vr();Zl(j,s.layoutBox,x.layoutBox);const C=vr();Zl(C,n,w.layoutBox),KC(j,C)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=j,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function SR(e){Kl&&wo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jR(e){e.clearSnapshot()}function wb(e){e.clearMeasurements()}function NR(e){e.isLayoutDirty=!1}function ER(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _b(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PR(e){e.resolveTargetDelta()}function AR(e){e.calcProjection()}function TR(e){e.resetSkewAndRotation()}function RR(e){e.removeLeadSnapshot()}function Cb(e,t,s){e.translate=dr(t.translate,0,s),e.scale=dr(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Sb(e,t,s,n){e.min=dr(t.min,s.min,n),e.max=dr(t.max,s.max,n)}function MR(e,t,s,n){Sb(e.x,t.x,s.x,n),Sb(e.y,t.y,s.y,n)}function DR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const IR={duration:.45,ease:[.4,0,.1,1]},kb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jb=kb("applewebkit/")&&!kb("chrome/")?Math.round:Bs;function Nb(e){e.min=jb(e.min),e.max=jb(e.max)}function LR(e){Nb(e.x),Nb(e.y)}function XC(e,t,s){return e==="position"||e==="preserve-aspect"&&!BT(vb(t),vb(s),.2)}function OR(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const FR=YC({attachResizeListener:(e,t)=>lc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},JC=YC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ym.current){const e=new FR({});e.mount(window),e.setOptions({layoutScroll:!0}),ym.current=e}return ym.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BR={pan:{Feature:tR},drag:{Feature:eR,ProjectionNode:JC,MeasureLayout:WC}};function Eb(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=n[o];c&&Zt.postRender(()=>c(t,Sc(t)))}class $R extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=BA(t,s=>(Eb(this.node,s,"Start"),n=>Eb(this.node,n,"End"))))}unmount(){}}class zR extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pb(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=n[o];c&&Zt.postRender(()=>c(t,Sc(t)))}class HR extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=WA(t,s=>(Pb(this.node,s,"Start"),(n,{success:o})=>Pb(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pp=new WeakMap,bm=new WeakMap,WR=e=>{const t=pp.get(e.target);t&&t(e)},VR=e=>{e.forEach(WR)};function UR({root:e,...t}){const s=e||document;bm.has(s)||bm.set(s,{});const n=bm.get(s),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(VR,{root:e,...t})),n[o]}function GR(e,t,s){const n=UR(t);return pp.set(e,s),n.observe(e),()=>{pp.delete(e),n.unobserve(e)}}const KR={some:0,all:1};class qR extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:o="some",once:c}=t,u={root:s?s.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:KR[o]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,c&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),x=f?m:h;x&&x(d)};return GR(this.node.current,u,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(YR(t,s))&&this.startObserver()}unmount(){}}function YR({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const XR={inView:{Feature:qR},tap:{Feature:HR},focus:{Feature:zR},hover:{Feature:$R}},JR={layout:{ProjectionNode:JC,MeasureLayout:WC}},gp={current:null},QC={current:!1};function QR(){if(QC.current=!0,!!Zp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gp.current=e.matches;e.addListener(t),t()}else gp.current=!1}const ZR=[...CC,ns,Hi],e5=e=>ZR.find(_C(e)),Ab=new WeakMap;function t5(e,t,s){for(const n in t){const o=t[n],c=s[n];if(is(o))e.addValue(n,o);else if(is(c))e.addValue(n,oc(o,{owner:e}));else if(c!==o)if(e.hasValue(n)){const u=e.getValue(n);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(n);e.addValue(n,oc(u!==void 0?u:o,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Tb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r5{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=On.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Zt.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:m}=u;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=!!c,this.isControllingVariants=Vu(s),this.isVariantNode=T_(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in x){const j=x[w];d[w]!==void 0&&is(j)&&j.set(d[w],!1)}}mount(t){this.current=t,Ab.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),QC.current||QR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ab.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Io.has(t),o=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),c(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fa){const s=Fa[t];if(!s)continue;const{isEnabled:n,Feature:o}=s;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Tb.length;n++){const o=Tb[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=t5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=oc(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(bC(o)||uC(o))?o=parseFloat(o):!e5(o)&&Hi.test(s)&&(o=xC(t,s)),this.setBaseTarget(t,is(o)?o.get():o)),is(o)?o.get():o}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const u=og(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);u&&(o=u[t])}if(n&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!is(c)?c:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new bg),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class ZC extends r5{constructor(){super(...arguments),this.KeyframeResolver=SC}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;is(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function s5(e){return window.getComputedStyle(e)}class n5 extends ZC{constructor(){super(...arguments),this.type="html",this.renderInstance=$_}readValueFromInstance(t,s){if(Io.has(s)){const n=kg(s);return n&&n.default||0}else{const n=s5(t),o=(O_(s)?n.getPropertyValue(s):n[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return zC(t,s)}build(t,s,n){cg(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return fg(t,s,n)}}class i5 extends ZC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Io.has(s)){const n=kg(s);return n&&n.default||0}return s=z_.has(s)?s:sg(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return V_(t,s,n)}build(t,s,n){dg(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,o){H_(t,s,n,o)}mount(t){this.isSVGTag=hg(t.tagName),super.mount(t)}}const o5=(e,t)=>ig(e)?new i5(t):new n5(t,{allowProjection:e!==_.Fragment}),a5=RA({...AT,...XR,...BR,...JR},o5),Pa=KP(a5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eS=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:u,...l},d)=>_.createElement("svg",{ref:d,...c5,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:eS("lucide",o),...l},[...u.map(([f,m])=>_.createElement(f,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const s=_.forwardRef(({className:n,...o},c)=>_.createElement(d5,{ref:c,iconNode:t,className:eS(`lucide-${l5(e)}`,n),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],h5=Ae("Activity",u5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],m5=Ae("ArrowLeftRight",f5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ag=Ae("ArrowRight",p5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ko=Ae("BookOpen",g5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],v5=Ae("Bot",x5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],jo=Ae("Brain",y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],tS=Ae("Building2",b5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rS=Ae("ChartColumn",w5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$t=Ae("Check",_5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Er=Ae("ChevronDown",C5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k5=Ae("ChevronLeft",S5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],us=Ae("ChevronRight",j5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E5=Ae("ChevronUp",N5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$s=Ae("CircleAlert",P5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],No=Ae("CircleCheck",A5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Aa=Ae("CircleHelp",T5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ta=Ae("CircleX",R5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D5=Ae("Circle",M5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],L5=Ae("Clipboard",I5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ec=Ae("Clock",O5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],B5=Ae("Code",F5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$a=Ae("Copy",$5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],H5=Ae("Cpu",z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ui=Ae("Download",W5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],U5=Ae("EllipsisVertical",V5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],K5=Ae("Ellipsis",G5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uu=Ae("ExternalLink",q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sS=Ae("EyeOff",Y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tg=Ae("Eye",X5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Ku=Ae("FileCode",J5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],Rg=Ae("FilePen",Q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Br=Ae("FileText",Z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],xp=Ae("File",eM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Mg=Ae("Filter",tM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],wm=Ae("FlaskConical",rM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Rb=Ae("FolderMinus",sM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Wi=Ae("FolderOpen",nM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ii=Ae("FolderPlus",iM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Mb=Ae("FolderTree",oM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kr=Ae("Folder",aM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],nS=Ae("GitBranch",lM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],dM=Ae("Github",cM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Eo=Ae("Globe",uM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Su=Ae("GraduationCap",hM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],mM=Ae("GripVertical",fM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ku=Ae("History",pM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Dg=Ae("House",gM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qu=Ae("Info",xM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],yM=Ae("Keyboard",vM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Rn=Ae("Layers",bM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ze=Ae("LoaderCircle",wM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],CM=Ae("Maximize2",_M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],kM=Ae("Minimize2",SM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M5 12h14",key:"1ays0h"}]],NM=Ae("Minus",jM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],iS=Ae("Monitor",EM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Db=Ae("Moon",PM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],oS=Ae("Move",AM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Bn=Ae("Package",TM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],MM=Ae("Palette",RM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],IM=Ae("PanelsTopLeft",DM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],vp=Ae("Pause",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],aS=Ae("PenLine",OM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_m=Ae("Pen",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yu=Ae("Pencil",BM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],lS=Ae("Play",$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],za=Ae("Plug",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rt=Ae("Plus",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VM=Ae("PowerOff",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Ib=Ae("Power",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Po=Ae("Puzzle",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],cc=Ae("RefreshCcw",KM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tr=Ae("RefreshCw",qM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],kc=Ae("Rocket",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qd=Ae("RotateCcw",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vs=Ae("Save",JM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jc=Ae("Search",QM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zs=Ae("Server",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],yp=Ae("Settings2",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sn=Ae("Settings",tD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vn=Ae("Shield",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Yt=Ae("Sparkles",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iD=Ae("Star",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Yd=Ae("Store",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Lb=Ae("Sun",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],qt=Ae("Terminal",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],js=Ae("Trash2",cD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nc=Ae("TriangleAlert",dD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bp=Ae("Upload",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],os=Ae("WandSparkles",hD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],cS=Ae("Workflow",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],dS=Ae("Wrench",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oi=Ae("X",pD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],So=Ae("Zap",gD),xD="/api";async function xe(e,t={}){const s=`${xD}${e}`,n={headers:{"Content-Type":"application/json"},...t};t.body&&typeof t.body=="object"&&(n.body=JSON.stringify(t.body));const o=await fetch(s,n);if(!o.ok){const c=await o.json().catch(()=>({error:"Request failed"}));throw new Error(c.error||`HTTP ${o.status}`)}return o.json()}const ue={async getProject(){return xe("/project")},async getSubprojects(e){return xe(`/subprojects?dir=${encodeURIComponent(e)}`)},async addManualSubproject(e,t){return xe("/subprojects/add",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async removeManualSubproject(e,t){return xe("/subprojects/remove",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async hideSubproject(e,t){return xe("/subprojects/hide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async unhideSubproject(e,t){return xe("/subprojects/unhide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async getHiddenSubprojects(e){return xe(`/subprojects/hidden?dir=${encodeURIComponent(e)}`)},async switchProject(e){return xe("/switch-project",{method:"POST",body:{dir:e}})},async getProjects(){return xe("/projects")},async addProject(e,t=null,s=!1){return xe("/projects",{method:"POST",body:{path:e,name:t,runClaudeInit:s}})},async removeProject(e){return xe(`/projects/${e}`,{method:"DELETE"})},async updateProject(e,t){return xe(`/projects/${e}`,{method:"PUT",body:t})},async setActiveProject(e){return xe("/projects/active",{method:"PUT",body:{id:e}})},async getConfigs(){return xe("/configs")},async getInheritedMcps(e){return xe(`/configs/inherited?dir=${encodeURIComponent(e)}`)},async updateConfig(e,t){return xe("/config",{method:"PUT",body:{dir:e,config:t}})},async getRegistry(){return xe("/registry")},async updateRegistry(e){return xe("/registry",{method:"PUT",body:e})},async getRules(){return xe("/rules")},async getRule(e){return xe(`/rule?path=${encodeURIComponent(e)}`)},async saveRule(e,t){return xe("/rule",{method:"PUT",body:{path:e,content:t}})},async createRule(e,t,s=""){return xe("/rule",{method:"POST",body:{dir:e,name:t,content:s}})},async deleteRule(e){return xe(`/rule?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getCommands(){return xe("/commands")},async getCommand(e){return xe(`/command?path=${encodeURIComponent(e)}`)},async saveCommand(e,t){return xe("/command",{method:"PUT",body:{path:e,content:t}})},async createCommand(e,t,s=""){return xe("/command",{method:"POST",body:{dir:e,name:t,content:s}})},async deleteCommand(e){return xe(`/command?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async applyConfig(e){return xe("/apply",{method:"POST",body:{dir:e}})},async applyCascade(e){return xe("/apply-cascade",{method:"POST",body:{dir:e}})},async getEnv(e){return xe(`/env?dir=${encodeURIComponent(e)}`)},async saveEnv(e,t){return xe("/env",{method:"PUT",body:{dir:e,content:t}})},async getFileHashes(){return xe("/file-hashes")},async checkVersion(){return xe("/version-check")},async performUpdate(e){return xe("/update",{method:"POST",body:e})},async reload(){return xe("/reload",{method:"POST"})},async restartServer(){return xe("/restart",{method:"POST"})},async searchGithub(e){return xe(`/search/github?q=${encodeURIComponent(e)}`)},async searchNpm(e){return xe(`/search/npm?q=${encodeURIComponent(e)}`)},async getMcpTools(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return xe(`/mcp-tools${t}`)},async getMcpServerTools(e=null){const t=e?`?server=${encodeURIComponent(e)}`:"";return xe(`/mcp-server-tools${t}`)},async clearMcpToolsCache(e=null){const t=e?`?server=${encodeURIComponent(e)}`:"";return xe(`/mcp-server-tools${t}`,{method:"DELETE"})},async getClaudeFolders(){return xe("/claude-folders")},async getIntermediatePaths(){return xe("/intermediate-paths")},async getClaudeFile(e){return xe(`/claude-file?path=${encodeURIComponent(e)}`)},async saveClaudeFile(e,t){return xe("/claude-file",{method:"PUT",body:{path:e,content:t}})},async deleteClaudeFile(e){return xe(`/claude-file?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async createClaudeFile(e,t,s,n=""){return xe("/claude-file",{method:"POST",body:{dir:e,name:t,type:s,content:n}})},async initClaudeFolder(e){return xe("/init-claude-folder",{method:"POST",body:{dir:e}})},async deleteClaudeFolder(e){return xe("/delete-claude-folder",{method:"POST",body:{dir:e}})},async initClaudeFolderBatch(e){return xe("/init-claude-folder-batch",{method:"POST",body:{dirs:e}})},async getSyncPreview(e,t="claude",s="antigravity"){return xe("/sync/preview",{method:"POST",body:{dir:e,source:t,target:s}})},async syncRules(e,t="claude",s="antigravity",n=null){return xe("/sync/rules",{method:"POST",body:{dir:e,source:t,target:s,files:n}})},async moveClaudeItem(e,t,s="copy",n=!1){return xe("/claude-move",{method:"POST",body:{sourcePath:e,targetDir:t,mode:s,merge:n}})},async renameClaudeFile(e,t){return xe("/claude-rename",{method:"POST",body:{oldPath:e,newName:t}})},async getMemory(){return xe("/memory")},async getMemoryFile(e){return xe(`/memory/file?path=${encodeURIComponent(e)}`)},async saveMemoryFile(e,t){return xe("/memory/file",{method:"PUT",body:{path:e,content:t}})},async addMemoryEntry(e,t,s="global"){return xe("/memory/entry",{method:"POST",body:{type:e,content:t,scope:s}})},async initProjectMemory(e){return xe("/memory/init",{method:"POST",body:{dir:e}})},async searchMemory(e){return xe(`/memory/search?q=${encodeURIComponent(e)}`)},async getSyncState(){return xe("/memory/sync")},async getClaudeSettings(){return xe("/claude-settings")},async saveClaudeSettings(e){return xe("/claude-settings",{method:"PUT",body:{settings:e}})},async getGeminiSettings(){return xe("/gemini-settings")},async saveGeminiSettings(e){return xe("/gemini-settings",{method:"PUT",body:e})},async getAntigravitySettings(){return xe("/antigravity-settings")},async saveAntigravitySettings(e){return xe("/antigravity-settings",{method:"PUT",body:e})},async getCodexSettings(){return xe("/codex-settings")},async saveCodexSettings(e,t=void 0){return xe("/codex-settings",{method:"PUT",body:t!==void 0?{raw:t}:{settings:e}})},async getConfig(){return xe("/preferences")},async saveConfig(e){return xe("/preferences",{method:"PUT",body:e})},async browse(e,t="directory"){return xe("/browse",{method:"POST",body:{path:e,type:t}})},async getVersion(){return xe("/version")},async getChangelog(){return xe("/changelog")},async restartServer(){return xe("/restart",{method:"POST"})},async getPlugins(){return xe("/plugins")},async installPlugin(e,t,s="user",n=null){return xe("/plugins/install",{method:"POST",body:{pluginId:e,marketplace:t,scope:s,projectDir:n}})},async uninstallPlugin(e){return xe("/plugins/uninstall",{method:"POST",body:{pluginId:e}})},async getEnabledPlugins(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return xe(`/plugins/enabled${t}`)},async setPluginEnabled(e,t,s){return xe("/plugins/enabled",{method:"POST",body:{dir:e,pluginId:t,enabled:s}})},async getMarketplaces(){return xe("/plugins/marketplaces")},async addMarketplace(e,t){return xe("/plugins/marketplaces",{method:"POST",body:{name:e,repo:t}})},async refreshMarketplace(e){return xe("/plugins/marketplaces/refresh",{method:"POST",body:{name:e}})},async getWorkstreams(){return xe("/workstreams")},async getActiveWorkstream(){return xe("/workstreams/active")},async setActiveWorkstream(e){return xe("/workstreams/active",{method:"PUT",body:{id:e}})},async createWorkstream(e,t=[],s=""){return xe("/workstreams",{method:"POST",body:{name:e,projects:t,rules:s}})},async updateWorkstream(e,t){return xe(`/workstreams/${e}`,{method:"PUT",body:t})},async deleteWorkstream(e){return xe(`/workstreams/${e}`,{method:"DELETE"})},async addProjectToWorkstream(e,t){return xe(`/workstreams/${e}/add-project`,{method:"POST",body:{projectPath:t}})},async removeProjectFromWorkstream(e,t){return xe(`/workstreams/${e}/remove-project`,{method:"POST",body:{projectPath:t}})},async injectWorkstream(){return xe("/workstreams/inject")},async detectWorkstream(e){return xe("/workstreams/detect",{method:"POST",body:{dir:e}})},async getWorkstreamHookStatus(){return xe("/workstreams/hook-status")},async installWorkstreamHook(){return xe("/workstreams/install-hook",{method:"POST"})},async generateWorkstreamRules(e,t=!1){return xe("/workstreams/generate-rules",{method:"POST",body:{projects:e,useClaude:t}})},async addTriggerFolder(e,t){return xe(`/workstreams/${e}/add-trigger`,{method:"POST",body:{folderPath:t}})},async removeTriggerFolder(e,t){return xe(`/workstreams/${e}/remove-trigger`,{method:"POST",body:{folderPath:t}})},async setWorkstreamAutoActivate(e,t){return xe(`/workstreams/${e}/auto-activate`,{method:"POST",body:{value:t}})},async getWorkstreamSettings(){return xe("/workstreams/settings")},async setGlobalAutoActivate(e){return xe("/workstreams/settings",{method:"PUT",body:{workstreamAutoActivate:e}})},async getCdHookStatus(){return xe("/workstreams/cd-hook-status")},async installCdHook(){return xe("/workstreams/install-cd-hook",{method:"POST"})},async uninstallCdHook(){return xe("/workstreams/uninstall-cd-hook",{method:"POST"})},async getLoops(){return xe("/loops")},async getActiveLoop(){return xe("/loops/active")},async getLoop(e){return xe(`/loops/${e}`)},async createLoop(e,t={}){return xe("/loops",{method:"POST",body:{task:e,...t}})},async updateLoop(e,t){return xe(`/loops/${e}`,{method:"PUT",body:t})},async deleteLoop(e){return xe(`/loops/${e}`,{method:"DELETE"})},async startLoop(e){return xe(`/loops/${e}/start`,{method:"POST"})},async pauseLoop(e){return xe(`/loops/${e}/pause`,{method:"POST"})},async resumeLoop(e){return xe(`/loops/${e}/resume`,{method:"POST"})},async cancelLoop(e){return xe(`/loops/${e}/cancel`,{method:"POST"})},async approveLoop(e){return xe(`/loops/${e}/approve`,{method:"POST"})},async completeLoop(e){return xe(`/loops/${e}/complete`,{method:"POST"})},async getLoopHistory(){return xe("/loops/history")},async getLoopConfig(){return xe("/loops/config")},async updateLoopConfig(e){return xe("/loops/config",{method:"PUT",body:e})},async saveClarifications(e,t){return xe(`/loops/${e}/clarifications`,{method:"POST",body:{content:t}})},async savePlan(e,t){return xe(`/loops/${e}/plan`,{method:"POST",body:{content:t}})},async recordIteration(e,t){return xe(`/loops/${e}/iteration`,{method:"POST",body:t})},async getLoopHookStatus(){return xe("/loops/hook-status")},async installLoopHooks(){return xe("/loops/install-hooks",{method:"POST"})},async getRalphLoopPluginStatus(){return xe("/loops/plugin-status")},async installRalphLoopPlugin(){return xe("/loops/install-plugin",{method:"POST"})},async tuneLoopPrompt(e,t=null,s=null){return xe("/loops/tune-prompt",{method:"POST",body:{task:e,projectPath:t,loopContext:s}})},async getActivitySummary(){return xe("/activity")},async logActivity(e,t){return xe("/activity/log",{method:"POST",body:{files:e,sessionId:t}})},async getWorkstreamSuggestions(){return xe("/activity/suggestions")},async clearActivity(e=30){return xe("/activity",{method:"DELETE",body:{olderThanDays:e}})},async getSessionStatus(){return xe("/sessions")},async getSessionContext(){return xe("/sessions/context")},async clearSessionContext(){return xe("/sessions/clear",{method:"POST"})},async installSessionHooks(){return xe("/sessions/install-hooks",{method:"POST"})},async installFlushCommand(){return xe("/sessions/install-command",{method:"POST"})},async installSessionAll(){return xe("/sessions/install-all",{method:"POST"})}};function Ob(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gi(...e){return t=>{let s=!1;const n=e.map(o=>{const c=Ob(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<n.length;o++){const c=n[o];typeof c=="function"?c():Ob(e[o],null)}}}}function ht(...e){return _.useCallback(gi(...e),e)}var vD=Symbol.for("react.lazy"),ju=Yp[" use ".trim().toString()];function yD(e){return typeof e=="object"&&e!==null&&"then"in e}function uS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===vD&&"_payload"in e&&yD(e._payload)}function Xu(e){const t=wD(e),s=_.forwardRef((n,o)=>{let{children:c,...u}=n;uS(c)&&typeof ju=="function"&&(c=ju(c._payload));const l=_.Children.toArray(c),d=l.find(CD);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var bD=Xu("Slot");function wD(e){const t=_.forwardRef((s,n)=>{let{children:o,...c}=s;if(uS(o)&&typeof ju=="function"&&(o=ju(o._payload)),_.isValidElement(o)){const u=kD(o),l=SD(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _D=Symbol("radix.slottable");function CD(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_D}function SD(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function kD(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function hS(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=hS(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function fS(){for(var e,t,s=0,n="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=hS(e))&&(n&&(n+=" "),n+=t);return n}const Fb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Bb=fS,Ju=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return Bb(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(f=>{const m=s==null?void 0:s[f],h=c==null?void 0:c[f];if(m===null)return null;const x=Fb(m)||Fb(h);return o[f][x]}),l=s&&Object.entries(s).reduce((f,m)=>{let[h,x]=m;return x===void 0||(f[h]=x),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:h,className:x,...w}=m;return Object.entries(w).every(j=>{let[C,v]=j;return Array.isArray(v)?v.includes({...c,...l}[C]):{...c,...l}[C]===v})?[...f,h,x]:f},[]);return Bb(e,u,d,s==null?void 0:s.class,s==null?void 0:s.className)},jD=(e,t)=>{const s=new Array(e.length+t.length);for(let n=0;n<e.length;n++)s[n]=e[n];for(let n=0;n<t.length;n++)s[e.length+n]=t[n];return s},ND=(e,t)=>({classGroupId:e,validator:t}),mS=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),Nu="-",$b=[],ED="arbitrary..",PD=e=>{const t=TD(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return AD(u);const l=u.split(Nu),d=l[0]===""&&l.length>1?1:0;return pS(l,d,t)},getConflictingClassGroupIds:(u,l)=>{if(l){const d=n[u],f=s[u];return d?f?jD(f,d):d:f||$b}return s[u]||$b}}},pS=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const o=e[t],c=s.nextPart.get(o);if(c){const f=pS(e,t+1,c);if(f)return f}const u=s.validators;if(u===null)return;const l=t===0?e.join(Nu):e.slice(t).join(Nu),d=u.length;for(let f=0;f<d;f++){const m=u[f];if(m.validator(l))return m.classGroupId}},AD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),n=t.slice(0,s);return n?ED+n:void 0})(),TD=e=>{const{theme:t,classGroups:s}=e;return RD(s,t)},RD=(e,t)=>{const s=mS();for(const n in e){const o=e[n];Ig(o,s,n,t)}return s},Ig=(e,t,s,n)=>{const o=e.length;for(let c=0;c<o;c++){const u=e[c];MD(u,t,s,n)}},MD=(e,t,s,n)=>{if(typeof e=="string"){DD(e,t,s);return}if(typeof e=="function"){ID(e,t,s,n);return}LD(e,t,s,n)},DD=(e,t,s)=>{const n=e===""?t:gS(t,e);n.classGroupId=s},ID=(e,t,s,n)=>{if(OD(e)){Ig(e(n),t,s,n);return}t.validators===null&&(t.validators=[]),t.validators.push(ND(s,e))},LD=(e,t,s,n)=>{const o=Object.entries(e),c=o.length;for(let u=0;u<c;u++){const[l,d]=o[u];Ig(d,gS(t,l),s,n)}},gS=(e,t)=>{let s=e;const n=t.split(Nu),o=n.length;for(let c=0;c<o;c++){const u=n[c];let l=s.nextPart.get(u);l||(l=mS(),s.nextPart.set(u,l)),s=l}return s},OD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,FD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),n=Object.create(null);const o=(c,u)=>{s[c]=u,t++,t>e&&(t=0,n=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=n[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},wp="!",zb=":",BD=[],Hb=(e,t,s,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:n,isExternal:o}),$D=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=o=>{const c=[];let u=0,l=0,d=0,f;const m=o.length;for(let C=0;C<m;C++){const v=o[C];if(u===0&&l===0){if(v===zb){c.push(o.slice(d,C)),d=C+1;continue}if(v==="/"){f=C;continue}}v==="["?u++:v==="]"?u--:v==="("?l++:v===")"&&l--}const h=c.length===0?o:o.slice(d);let x=h,w=!1;h.endsWith(wp)?(x=h.slice(0,-1),w=!0):h.startsWith(wp)&&(x=h.slice(1),w=!0);const j=f&&f>d?f-d:void 0;return Hb(c,w,x,j)};if(t){const o=t+zb,c=n;n=u=>u.startsWith(o)?c(u.slice(o.length)):Hb(BD,!1,u,void 0,!0)}if(s){const o=n;n=c=>s({className:c,parseClassName:o})}return n},zD=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,n)=>{t.set(s,1e6+n)}),s=>{const n=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],l=u[0]==="[",d=t.has(u);l||d?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},HD=e=>({cache:FD(e.cacheSize),parseClassName:$D(e),sortModifiers:zD(e),...PD(e)}),WD=/\s+/,VD=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:c}=t,u=[],l=e.trim().split(WD);let d="";for(let f=l.length-1;f>=0;f-=1){const m=l[f],{isExternal:h,modifiers:x,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:C}=s(m);if(h){d=m+(d.length>0?" "+d:d);continue}let v=!!C,y=n(v?j.substring(0,C):j);if(!y){if(!v){d=m+(d.length>0?" "+d:d);continue}if(y=n(j),!y){d=m+(d.length>0?" "+d:d);continue}v=!1}const g=x.length===0?"":x.length===1?x[0]:c(x).join(":"),b=w?g+wp:g,k=b+y;if(u.indexOf(k)>-1)continue;u.push(k);const E=o(y,v);for(let P=0;P<E.length;++P){const T=E[P];u.push(b+T)}d=m+(d.length>0?" "+d:d)}return d},UD=(...e)=>{let t=0,s,n,o="";for(;t<e.length;)(s=e[t++])&&(n=xS(s))&&(o&&(o+=" "),o+=n);return o},xS=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=xS(e[n]))&&(s&&(s+=" "),s+=t);return s},GD=(e,...t)=>{let s,n,o,c;const u=d=>{const f=t.reduce((m,h)=>h(m),e());return s=HD(f),n=s.cache.get,o=s.cache.set,c=l,l(d)},l=d=>{const f=n(d);if(f)return f;const m=VD(d,s);return o(d,m),m};return c=u,(...d)=>c(UD(...d))},KD=[],Nr=e=>{const t=s=>s[e]||KD;return t.isThemeGetter=!0,t},vS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qD=/^\d+\/\d+$/,YD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xa=e=>qD.test(e),bt=e=>!!e&&!Number.isNaN(Number(e)),Li=e=>!!e&&Number.isInteger(Number(e)),Cm=e=>e.endsWith("%")&&bt(e.slice(0,-1)),ni=e=>YD.test(e),eI=()=>!0,tI=e=>XD.test(e)&&!JD.test(e),bS=()=>!1,rI=e=>QD.test(e),sI=e=>ZD.test(e),nI=e=>!Ue(e)&&!Ge(e),iI=e=>Ya(e,CS,bS),Ue=e=>vS.test(e),yo=e=>Ya(e,SS,tI),Sm=e=>Ya(e,dI,bt),Wb=e=>Ya(e,wS,bS),oI=e=>Ya(e,_S,sI),Xd=e=>Ya(e,kS,rI),Ge=e=>yS.test(e),Bl=e=>Xa(e,SS),aI=e=>Xa(e,uI),Vb=e=>Xa(e,wS),lI=e=>Xa(e,CS),cI=e=>Xa(e,_S),Jd=e=>Xa(e,kS,!0),Ya=(e,t,s)=>{const n=vS.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},Xa=(e,t,s=!1)=>{const n=yS.exec(e);return n?n[1]?t(n[1]):s:!1},wS=e=>e==="position"||e==="percentage",_S=e=>e==="image"||e==="url",CS=e=>e==="length"||e==="size"||e==="bg-size",SS=e=>e==="length",dI=e=>e==="number",uI=e=>e==="family-name",kS=e=>e==="shadow",hI=()=>{const e=Nr("color"),t=Nr("font"),s=Nr("text"),n=Nr("font-weight"),o=Nr("tracking"),c=Nr("leading"),u=Nr("breakpoint"),l=Nr("container"),d=Nr("spacing"),f=Nr("radius"),m=Nr("shadow"),h=Nr("inset-shadow"),x=Nr("text-shadow"),w=Nr("drop-shadow"),j=Nr("blur"),C=Nr("perspective"),v=Nr("aspect"),y=Nr("ease"),g=Nr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...k(),Ge,Ue],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],N=()=>[Ge,Ue,d],M=()=>[xa,"full","auto",...N()],I=()=>[Li,"none","subgrid",Ge,Ue],L=()=>["auto",{span:["full",Li,Ge,Ue]},Li,Ge,Ue],B=()=>[Li,"auto",Ge,Ue],H=()=>["auto","min","max","fr",Ge,Ue],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...N()],J=()=>[xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],K=()=>[e,Ge,Ue],F=()=>[...k(),Vb,Wb,{position:[Ge,Ue]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",lI,iI,{size:[Ge,Ue]}],V=()=>[Cm,Bl,yo],$=()=>["","none","full",f,Ge,Ue],se=()=>["",bt,Bl,yo],de=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[bt,Cm,Vb,Wb],W=()=>["","none",j,Ge,Ue],ce=()=>["none",bt,Ge,Ue],ie=()=>["none",bt,Ge,Ue],Q=()=>[bt,Ge,Ue],le=()=>[xa,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ni],breakpoint:[ni],color:[eI],container:[ni],"drop-shadow":[ni],ease:["in","out","in-out"],font:[nI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ni],shadow:[ni],spacing:["px",bt],text:[ni],"text-shadow":[ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xa,Ue,Ge,v]}],container:["container"],columns:[{columns:[bt,Ue,Ge,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",Ge,Ue]}],basis:[{basis:[xa,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,xa,"auto","initial","none",Ue]}],grow:[{grow:["",bt,Ge,Ue]}],shrink:[{shrink:["",bt,Ge,Ue]}],order:[{order:[Li,"first","last","none",Ge,Ue]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[l,"screen",...J()]}],"min-w":[{"min-w":[l,"screen","none",...J()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[u]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",s,Bl,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ge,Sm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cm,Ue]}],"font-family":[{font:[aI,Ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ge,Ue]}],"line-clamp":[{"line-clamp":[bt,"none",Ge,Sm]}],leading:[{leading:[c,...N()]}],"list-image":[{"list-image":["none",Ge,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",Ge,yo]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[bt,"auto",Ge,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,Ge,Ue],radial:["",Ge,Ue],conic:[Li,Ge,Ue]},cI,oI]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bt,Ge,Ue]}],"outline-w":[{outline:["",bt,Bl,yo]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,Jd,Xd]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",h,Jd,Xd]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[bt,yo]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,Jd,Xd]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[bt,Ge,Ue]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ge,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ue]}],filter:[{filter:["","none",Ge,Ue]}],blur:[{blur:W()}],brightness:[{brightness:[bt,Ge,Ue]}],contrast:[{contrast:[bt,Ge,Ue]}],"drop-shadow":[{"drop-shadow":["","none",w,Jd,Xd]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",bt,Ge,Ue]}],"hue-rotate":[{"hue-rotate":[bt,Ge,Ue]}],invert:[{invert:["",bt,Ge,Ue]}],saturate:[{saturate:[bt,Ge,Ue]}],sepia:[{sepia:["",bt,Ge,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ue]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[bt,Ge,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[bt,Ge,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,Ge,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,Ge,Ue]}],"backdrop-invert":[{"backdrop-invert":["",bt,Ge,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[bt,Ge,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[bt,Ge,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,Ge,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",Ge,Ue]}],ease:[{ease:["linear","initial",y,Ge,Ue]}],delay:[{delay:[bt,Ge,Ue]}],animate:[{animate:["none",g,Ge,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ge,Ue]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[Ge,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ue]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[bt,Bl,yo,Sm]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fI=GD(hI);function Ne(...e){return fI(fS(e))}const Lg=Ju("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),re=_.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},c)=>{const u=n?bD:"button";return r.jsx(u,{className:Ne(Lg({variant:t,size:s,className:e})),ref:c,...o})});re.displayName="Button";const mI=Ju("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et({className:e,variant:t,...s}){return r.jsx("div",{className:Ne(mI({variant:t}),e),...s})}function pI(e){const t=gI(e),s=_.forwardRef((n,o)=>{const{children:c,...u}=n,l=_.Children.toArray(c),d=l.find(vI);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function gI(e){const t=_.forwardRef((s,n)=>{const{children:o,...c}=s;if(_.isValidElement(o)){const u=bI(o),l=yI(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xI=Symbol("radix.slottable");function vI(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xI}function yI(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function bI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var wI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=wI.reduce((e,t)=>{const s=pI(`Primitive.${t}`),n=_.forwardRef((o,c)=>{const{asChild:u,...l}=o,d=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function jS(e,t){e&&bc.flushSync(()=>e.dispatchEvent(t))}var $r=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{};function _I(e,t){return _.useReducer((s,n)=>t[s][n]??s,e)}var Yr=e=>{const{present:t,children:s}=e,n=CI(t),o=typeof s=="function"?s({present:n.isPresent}):_.Children.only(s),c=ht(n.ref,SI(o));return typeof s=="function"||n.isPresent?_.cloneElement(o,{ref:c}):null};Yr.displayName="Presence";function CI(e){const[t,s]=_.useState(),n=_.useRef(null),o=_.useRef(e),c=_.useRef("none"),u=e?"mounted":"unmounted",[l,d]=_I(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=Qd(n.current);c.current=l==="mounted"?f:"none"},[l]),$r(()=>{const f=n.current,m=o.current;if(m!==e){const x=c.current,w=Qd(f);e?d("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&x!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),$r(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=w=>{const C=Qd(n.current).includes(CSS.escape(w.animationName));if(w.target===t&&C&&(d("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},x=w=>{w.target===t&&(c.current=Qd(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Qd(e){return(e==null?void 0:e.animationName)||"none"}function SI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function kI(e,t){const s=_.createContext(t),n=c=>{const{children:u,...l}=c,d=_.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:d,children:u})};n.displayName=e+"Provider";function o(c){const u=_.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[n,o]}function Ns(e,t=[]){let s=[];function n(c,u){const l=_.createContext(u),d=s.length;s=[...s,u];const f=h=>{var y;const{scope:x,children:w,...j}=h,C=((y=x==null?void 0:x[e])==null?void 0:y[d])||l,v=_.useMemo(()=>j,Object.values(j));return r.jsx(C.Provider,{value:v,children:w})};f.displayName=c+"Provider";function m(h,x){var C;const w=((C=x==null?void 0:x[e])==null?void 0:C[d])||l,j=_.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[f,m]}const o=()=>{const c=s.map(u=>_.createContext(u));return function(l){const d=(l==null?void 0:l[e])||c;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,jI(o,...t)]}function jI(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((l,{useScope:d,scopeName:f})=>{const h=d(c)[`__scope${f}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function qr(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}var NI=_.createContext(void 0);function Ec(e){const t=_.useContext(NI);return e||t||"ltr"}function _p(e,[t,s]){return Math.min(s,Math.max(t,e))}function Fe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function EI(e,t){return _.useReducer((s,n)=>t[s][n]??s,e)}var Og="ScrollArea",[NS]=Ns(Og),[PI,on]=NS(Og),ES=_.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:n="hover",dir:o,scrollHideDelay:c=600,...u}=e,[l,d]=_.useState(null),[f,m]=_.useState(null),[h,x]=_.useState(null),[w,j]=_.useState(null),[C,v]=_.useState(null),[y,g]=_.useState(0),[b,k]=_.useState(0),[E,P]=_.useState(!1),[T,N]=_.useState(!1),M=ht(t,L=>d(L)),I=Ec(o);return r.jsx(PI,{scope:s,type:n,dir:I,scrollHideDelay:c,scrollArea:l,viewport:f,onViewportChange:m,content:h,onContentChange:x,scrollbarX:w,onScrollbarXChange:j,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:C,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:g,onCornerHeightChange:k,children:r.jsx(st.div,{dir:I,...u,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});ES.displayName=Og;var PS="ScrollAreaViewport",AS=_.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:n,nonce:o,...c}=e,u=on(PS,s),l=_.useRef(null),d=ht(t,l,u.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(st.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});AS.displayName=PS;var Un="ScrollAreaScrollbar",Fg=_.forwardRef((e,t)=>{const{forceMount:s,...n}=e,o=on(Un,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=o,l=e.orientation==="horizontal";return _.useEffect(()=>(l?c(!0):u(!0),()=>{l?c(!1):u(!1)}),[l,c,u]),o.type==="hover"?r.jsx(AI,{...n,ref:t,forceMount:s}):o.type==="scroll"?r.jsx(TI,{...n,ref:t,forceMount:s}):o.type==="auto"?r.jsx(TS,{...n,ref:t,forceMount:s}):o.type==="always"?r.jsx(Bg,{...n,ref:t}):null});Fg.displayName=Un;var AI=_.forwardRef((e,t)=>{const{forceMount:s,...n}=e,o=on(Un,e.__scopeScrollArea),[c,u]=_.useState(!1);return _.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const f=()=>{window.clearTimeout(d),u(!0)},m=()=>{d=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(Yr,{present:s||c,children:r.jsx(TS,{"data-state":c?"visible":"hidden",...n,ref:t})})}),TI=_.forwardRef((e,t)=>{const{forceMount:s,...n}=e,o=on(Un,e.__scopeScrollArea),c=e.orientation==="horizontal",u=Zu(()=>d("SCROLL_END"),100),[l,d]=EI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,o.scrollHideDelay,d]),_.useEffect(()=>{const f=o.viewport,m=c?"scrollLeft":"scrollTop";if(f){let h=f[m];const x=()=>{const w=f[m];h!==w&&(d("SCROLL"),u()),h=w};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[o.viewport,c,d,u]),r.jsx(Yr,{present:s||l!=="hidden",children:r.jsx(Bg,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Fe(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Fe(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),TS=_.forwardRef((e,t)=>{const s=on(Un,e.__scopeScrollArea),{forceMount:n,...o}=e,[c,u]=_.useState(!1),l=e.orientation==="horizontal",d=Zu(()=>{if(s.viewport){const f=s.viewport.offsetWidth<s.viewport.scrollWidth,m=s.viewport.offsetHeight<s.viewport.scrollHeight;u(l?f:m)}},10);return Ha(s.viewport,d),Ha(s.content,d),r.jsx(Yr,{present:n||c,children:r.jsx(Bg,{"data-state":c?"visible":"hidden",...o,ref:t})})}),Bg=_.forwardRef((e,t)=>{const{orientation:s="vertical",...n}=e,o=on(Un,e.__scopeScrollArea),c=_.useRef(null),u=_.useRef(0),[l,d]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=LS(l.viewport,l.content),m={...n,sizes:l,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function h(x,w){return OI(x,u.current,l,w)}return s==="horizontal"?r.jsx(RI,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&c.current){const x=o.viewport.scrollLeft,w=Ub(x,l,o.dir);c.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=h(x,o.dir))}}):s==="vertical"?r.jsx(MI,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&c.current){const x=o.viewport.scrollTop,w=Ub(x,l);c.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=h(x))}}):null}),RI=_.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,...o}=e,c=on(Un,e.__scopeScrollArea),[u,l]=_.useState(),d=_.useRef(null),f=ht(t,d,c.onScrollbarXChange);return _.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(MS,{"data-orientation":"horizontal",...o,ref:f,sizes:s,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qu(s)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,h)=>{if(c.viewport){const x=c.viewport.scrollLeft+m.deltaX;e.onWheelScroll(x),FS(x,h)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Pu(u.paddingLeft),paddingEnd:Pu(u.paddingRight)}})}})}),MI=_.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,...o}=e,c=on(Un,e.__scopeScrollArea),[u,l]=_.useState(),d=_.useRef(null),f=ht(t,d,c.onScrollbarYChange);return _.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(MS,{"data-orientation":"vertical",...o,ref:f,sizes:s,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qu(s)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,h)=>{if(c.viewport){const x=c.viewport.scrollTop+m.deltaY;e.onWheelScroll(x),FS(x,h)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Pu(u.paddingTop),paddingEnd:Pu(u.paddingBottom)}})}})}),[DI,RS]=NS(Un),MS=_.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:o,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:h,...x}=e,w=on(Un,s),[j,C]=_.useState(null),v=ht(t,M=>C(M)),y=_.useRef(null),g=_.useRef(""),b=w.viewport,k=n.content-n.viewport,E=qr(m),P=qr(d),T=Zu(h,10);function N(M){if(y.current){const I=M.clientX-y.current.left,L=M.clientY-y.current.top;f({x:I,y:L})}}return _.useEffect(()=>{const M=I=>{const L=I.target;(j==null?void 0:j.contains(L))&&E(I,k)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[b,j,k,E]),_.useEffect(P,[n,P]),Ha(j,T),Ha(w.content,T),r.jsx(DI,{scope:s,scrollbar:j,hasThumb:o,onThumbChange:qr(c),onThumbPointerUp:qr(u),onThumbPositionChange:P,onThumbPointerDown:qr(l),children:r.jsx(st.div,{...x,ref:v,style:{position:"absolute",...x.style},onPointerDown:Fe(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),y.current=j.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),N(M))}),onPointerMove:Fe(e.onPointerMove,N),onPointerUp:Fe(e.onPointerUp,M=>{const I=M.target;I.hasPointerCapture(M.pointerId)&&I.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=g.current,w.viewport&&(w.viewport.style.scrollBehavior=""),y.current=null})})})}),Eu="ScrollAreaThumb",DS=_.forwardRef((e,t)=>{const{forceMount:s,...n}=e,o=RS(Eu,e.__scopeScrollArea);return r.jsx(Yr,{present:s||o.hasThumb,children:r.jsx(II,{ref:t,...n})})}),II=_.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:n,...o}=e,c=on(Eu,s),u=RS(Eu,s),{onThumbPositionChange:l}=u,d=ht(t,h=>u.onThumbChange(h)),f=_.useRef(void 0),m=Zu(()=>{f.current&&(f.current(),f.current=void 0)},100);return _.useEffect(()=>{const h=c.viewport;if(h){const x=()=>{if(m(),!f.current){const w=FI(h,l);f.current=w,l()}};return l(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[c.viewport,m,l]),r.jsx(st.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Fe(e.onPointerDownCapture,h=>{const w=h.target.getBoundingClientRect(),j=h.clientX-w.left,C=h.clientY-w.top;u.onThumbPointerDown({x:j,y:C})}),onPointerUp:Fe(e.onPointerUp,u.onThumbPointerUp)})});DS.displayName=Eu;var $g="ScrollAreaCorner",IS=_.forwardRef((e,t)=>{const s=on($g,e.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?r.jsx(LI,{...e,ref:t}):null});IS.displayName=$g;var LI=_.forwardRef((e,t)=>{const{__scopeScrollArea:s,...n}=e,o=on($g,s),[c,u]=_.useState(0),[l,d]=_.useState(0),f=!!(c&&l);return Ha(o.scrollbarX,()=>{var h;const m=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),Ha(o.scrollbarY,()=>{var h;const m=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(m),u(m)}),f?r.jsx(st.div,{...n,ref:t,style:{width:c,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Pu(e){return e?parseInt(e,10):0}function LS(e,t){const s=e/t;return isNaN(s)?0:s}function Qu(e){const t=LS(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-s)*t;return Math.max(n,18)}function OI(e,t,s,n="ltr"){const o=Qu(s),c=o/2,u=t||c,l=o-u,d=s.scrollbar.paddingStart+u,f=s.scrollbar.size-s.scrollbar.paddingEnd-l,m=s.content-s.viewport,h=n==="ltr"?[0,m]:[m*-1,0];return OS([d,f],h)(e)}function Ub(e,t,s="ltr"){const n=Qu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-o,u=t.content-t.viewport,l=c-n,d=s==="ltr"?[0,u]:[u*-1,0],f=_p(e,d);return OS([0,u],[0,l])(f)}function OS(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}function FS(e,t){return e>0&&e<t}var FI=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const c={left:e.scrollLeft,top:e.scrollTop},u=s.left!==c.left,l=s.top!==c.top;(u||l)&&t(),s=c,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Zu(e,t){const s=qr(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,t)},[s,t])}function Ha(e,t){const s=qr(t);$r(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,s])}var BS=ES,BI=AS,$I=IS;const nn=_.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(BS,{ref:n,className:Ne("relative overflow-hidden",e),...s,children:[r.jsx(BI,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx($S,{}),r.jsx($I,{})]}));nn.displayName=BS.displayName;const $S=_.forwardRef(({className:e,orientation:t="vertical",...s},n)=>r.jsx(Fg,{ref:n,orientation:t,className:Ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:r.jsx(DS,{className:"relative flex-1 rounded-full bg-border"})}));$S.displayName=Fg.displayName;var zI=Yp[" useId ".trim().toString()]||(()=>{}),HI=0;function tn(e){const[t,s]=_.useState(zI());return $r(()=>{s(n=>n??String(HI++))},[e]),t?`radix-${t}`:""}var WI=Yp[" useInsertionEffect ".trim().toString()]||$r;function $n({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[o,c,u]=VI({defaultProp:t,onChange:s}),l=e!==void 0,d=l?e:o;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const h=m.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,n])}const f=_.useCallback(m=>{var h;if(l){const x=UI(m)?m(e):m;x!==e&&((h=u.current)==null||h.call(u,x))}else c(m)},[l,e,c,u]);return[d,f]}function VI({defaultProp:e,onChange:t}){const[s,n]=_.useState(e),o=_.useRef(s),c=_.useRef(t);return WI(()=>{c.current=t},[t]),_.useEffect(()=>{var u;o.current!==s&&((u=c.current)==null||u.call(c,s),o.current=s)},[s,o]),[s,n,c]}function UI(e){return typeof e=="function"}function GI(e,t=globalThis==null?void 0:globalThis.document){const s=qr(e);_.useEffect(()=>{const n=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var KI="DismissableLayer",Cp="dismissableLayer.update",qI="dismissableLayer.pointerDownOutside",YI="dismissableLayer.focusOutside",Gb,zS=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pc=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:l,...d}=e,f=_.useContext(zS),[m,h]=_.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=_.useState({}),j=ht(t,T=>h(T)),C=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=C.indexOf(v),g=m?C.indexOf(m):-1,b=f.layersWithOutsidePointerEventsDisabled.size>0,k=g>=y,E=QI(T=>{const N=T.target,M=[...f.branches].some(I=>I.contains(N));!k||M||(o==null||o(T),u==null||u(T),T.defaultPrevented||l==null||l())},x),P=ZI(T=>{const N=T.target;[...f.branches].some(I=>I.contains(N))||(c==null||c(T),u==null||u(T),T.defaultPrevented||l==null||l())},x);return GI(T=>{g===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),_.useEffect(()=>{if(m)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Gb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Kb(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Gb)}},[m,x,s,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Kb())},[m,f]),_.useEffect(()=>{const T=()=>w({});return document.addEventListener(Cp,T),()=>document.removeEventListener(Cp,T)},[]),r.jsx(st.div,{...d,ref:j,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,E.onPointerDownCapture)})});Pc.displayName=KI;var XI="DismissableLayerBranch",JI=_.forwardRef((e,t)=>{const s=_.useContext(zS),n=_.useRef(null),o=ht(t,n);return _.useEffect(()=>{const c=n.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(st.div,{...e,ref:o})});JI.displayName=XI;function QI(e,t=globalThis==null?void 0:globalThis.document){const s=qr(e),n=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const c=l=>{if(l.target&&!n.current){let d=function(){HS(qI,s,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function ZI(e,t=globalThis==null?void 0:globalThis.document){const s=qr(e),n=_.useRef(!1);return _.useEffect(()=>{const o=c=>{c.target&&!n.current&&HS(YI,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kb(){const e=new CustomEvent(Cp);document.dispatchEvent(e)}function HS(e,t,s,{discrete:n}){const o=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),n?jS(o,c):o.dispatchEvent(c)}var km="focusScope.autoFocusOnMount",jm="focusScope.autoFocusOnUnmount",qb={bubbles:!1,cancelable:!0},e3="FocusScope",eh=_.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[l,d]=_.useState(null),f=qr(o),m=qr(c),h=_.useRef(null),x=ht(t,C=>d(C)),w=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let C=function(b){if(w.paused||!l)return;const k=b.target;l.contains(k)?h.current=k:Bi(h.current,{select:!0})},v=function(b){if(w.paused||!l)return;const k=b.relatedTarget;k!==null&&(l.contains(k)||Bi(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Bi(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",v);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",v),g.disconnect()}}},[n,l,w.paused]),_.useEffect(()=>{if(l){Xb.add(w);const C=document.activeElement;if(!l.contains(C)){const y=new CustomEvent(km,qb);l.addEventListener(km,f),l.dispatchEvent(y),y.defaultPrevented||(t3(o3(WS(l)),{select:!0}),document.activeElement===C&&Bi(l))}return()=>{l.removeEventListener(km,f),setTimeout(()=>{const y=new CustomEvent(jm,qb);l.addEventListener(jm,m),l.dispatchEvent(y),y.defaultPrevented||Bi(C??document.body,{select:!0}),l.removeEventListener(jm,m),Xb.remove(w)},0)}}},[l,f,m,w]);const j=_.useCallback(C=>{if(!s&&!n||w.paused)return;const v=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,y=document.activeElement;if(v&&y){const g=C.currentTarget,[b,k]=r3(g);b&&k?!C.shiftKey&&y===k?(C.preventDefault(),s&&Bi(b,{select:!0})):C.shiftKey&&y===b&&(C.preventDefault(),s&&Bi(k,{select:!0})):y===g&&C.preventDefault()}},[s,n,w.paused]);return r.jsx(st.div,{tabIndex:-1,...u,ref:x,onKeyDown:j})});eh.displayName=e3;function t3(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Bi(n,{select:t}),document.activeElement!==s)return}function r3(e){const t=WS(e),s=Yb(t,e),n=Yb(t.reverse(),e);return[s,n]}function WS(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Yb(e,t){for(const s of e)if(!s3(s,{upTo:t}))return s}function s3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function n3(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&n3(e)&&t&&e.select()}}var Xb=i3();function i3(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var s;e=Jb(e,t),(s=e[0])==null||s.resume()}}}function Jb(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function o3(e){return e.filter(t=>t.tagName!=="A")}var a3="Portal",Ac=_.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[o,c]=_.useState(!1);$r(()=>c(!0),[]);const u=s||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return u?C_.createPortal(r.jsx(st.div,{...n,ref:t}),u):null});Ac.displayName=a3;var Nm=0;function zg(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qb()),document.body.insertAdjacentElement("beforeend",e[1]??Qb()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nm--}},[])}function Qb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mn=function(){return Mn=Object.assign||function(t){for(var s,n=1,o=arguments.length;n<o;n++){s=arguments[n];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},Mn.apply(this,arguments)};function VS(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s}function l3(e,t,s){if(s||arguments.length===2)for(var n=0,o=t.length,c;n<o;n++)(c||!(n in t))&&(c||(c=Array.prototype.slice.call(t,0,n)),c[n]=t[n]);return e.concat(c||Array.prototype.slice.call(t))}var hu="right-scroll-bar-position",fu="width-before-scroll-bar",c3="with-scroll-bars-hidden",d3="--removed-body-scroll-bar-size";function Em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function u3(e,t){var s=_.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var o=s.value;o!==n&&(s.value=n,s.callback(n,o))}}}})[0];return s.callback=t,s.facade}var h3=typeof window<"u"?_.useLayoutEffect:_.useEffect,Zb=new WeakMap;function f3(e,t){var s=u3(null,function(n){return e.forEach(function(o){return Em(o,n)})});return h3(function(){var n=Zb.get(s);if(n){var o=new Set(n),c=new Set(e),u=s.current;o.forEach(function(l){c.has(l)||Em(l,null)}),c.forEach(function(l){o.has(l)||Em(l,u)})}Zb.set(s,e)},[e]),s}function m3(e){return e}function p3(e,t){t===void 0&&(t=m3);var s=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,n);return s.push(u),function(){s=s.filter(function(l){return l!==u})}},assignSyncMedium:function(c){for(n=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(l){return c(l)},filter:function(){return s}}},assignMedium:function(c){n=!0;var u=[];if(s.length){var l=s;s=[],l.forEach(c),u=s}var d=function(){var m=u;u=[],m.forEach(c)},f=function(){return Promise.resolve().then(d)};f(),s={push:function(m){u.push(m),f()},filter:function(m){return u=u.filter(m),s}}}};return o}function g3(e){e===void 0&&(e={});var t=p3(null);return t.options=Mn({async:!0,ssr:!1},e),t}var US=function(e){var t=e.sideCar,s=VS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Mn({},s))};US.isSideCarExport=!0;function x3(e,t){return e.useMedium(t),US}var GS=g3(),Pm=function(){},th=_.forwardRef(function(e,t){var s=_.useRef(null),n=_.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),o=n[0],c=n[1],u=e.forwardProps,l=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,x=e.sideCar,w=e.noRelative,j=e.noIsolation,C=e.inert,v=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,b=e.gapMode,k=VS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,P=f3([s,t]),T=Mn(Mn({},k),o);return _.createElement(_.Fragment,null,m&&_.createElement(E,{sideCar:GS,removeScrollBar:f,shards:h,noRelative:w,noIsolation:j,inert:C,setCallbacks:c,allowPinchZoom:!!v,lockRef:s,gapMode:b}),u?_.cloneElement(_.Children.only(l),Mn(Mn({},T),{ref:P})):_.createElement(g,Mn({},T,{className:d,ref:P}),l))});th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};th.classNames={fullWidth:fu,zeroRight:hu};var v3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v3();return t&&e.setAttribute("nonce",t),e}function b3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function w3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _3=function(){var e=0,t=null;return{add:function(s){e==0&&(t=y3())&&(b3(t,s),w3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},C3=function(){var e=_3();return function(t,s){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},KS=function(){var e=C3(),t=function(s){var n=s.styles,o=s.dynamic;return e(n,o),null};return t},S3={left:0,top:0,right:0,gap:0},Am=function(e){return parseInt(e||"",10)||0},k3=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Am(s),Am(n),Am(o)]},j3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return S3;var t=k3(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},N3=KS(),Ra="data-scroll-locked",E3=function(e,t,s,n){var o=e.left,c=e.top,u=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(c3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(fu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hu," .").concat(hu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(d3,": ").concat(l,`px;
  }
`)},ew=function(){var e=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(e)?e:0},P3=function(){_.useEffect(function(){return document.body.setAttribute(Ra,(ew()+1).toString()),function(){var e=ew()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[])},A3=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;P3();var c=_.useMemo(function(){return j3(o)},[o]);return _.createElement(N3,{styles:E3(c,!t,o,s?"":"!important")})},Sp=!1;if(typeof window<"u")try{var Zd=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{Sp=!1}var va=Sp?{passive:!1}:!1,T3=function(e){return e.tagName==="TEXTAREA"},qS=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!T3(e)&&s[t]==="visible")},R3=function(e){return qS(e,"overflowY")},M3=function(e){return qS(e,"overflowX")},tw=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=YS(e,n);if(o){var c=XS(e,n),u=c[1],l=c[2];if(u>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},D3=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},I3=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},YS=function(e,t){return e==="v"?R3(t):M3(t)},XS=function(e,t){return e==="v"?D3(t):I3(t)},L3=function(e,t){return e==="h"&&t==="rtl"?-1:1},O3=function(e,t,s,n,o){var c=L3(e,window.getComputedStyle(t).direction),u=c*n,l=s.target,d=t.contains(l),f=!1,m=u>0,h=0,x=0;do{if(!l)break;var w=XS(e,l),j=w[0],C=w[1],v=w[2],y=C-v-c*j;(j||y)&&YS(e,l)&&(h+=y,x+=j);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(h)<1||!m&&Math.abs(x)<1)&&(f=!0),f},eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rw=function(e){return[e.deltaX,e.deltaY]},sw=function(e){return e&&"current"in e?e.current:e},F3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},B3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$3=0,ya=[];function z3(e){var t=_.useRef([]),s=_.useRef([0,0]),n=_.useRef(),o=_.useState($3++)[0],c=_.useState(KS)[0],u=_.useRef(e);_.useEffect(function(){u.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var C=l3([e.lockRef.current],(e.shards||[]).map(sw),!0).filter(Boolean);return C.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),C.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(C,v){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var y=eu(C),g=s.current,b="deltaX"in C?C.deltaX:g[0]-y[0],k="deltaY"in C?C.deltaY:g[1]-y[1],E,P=C.target,T=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in C&&T==="h"&&P.type==="range")return!1;var N=window.getSelection(),M=N&&N.anchorNode,I=M?M===P||M.contains(P):!1;if(I)return!1;var L=tw(T,P);if(!L)return!0;if(L?E=T:(E=T==="v"?"h":"v",L=tw(T,P)),!L)return!1;if(!n.current&&"changedTouches"in C&&(b||k)&&(n.current=E),!E)return!0;var B=n.current||E;return O3(B,v,C,B==="h"?b:k)},[]),d=_.useCallback(function(C){var v=C;if(!(!ya.length||ya[ya.length-1]!==c)){var y="deltaY"in v?rw(v):eu(v),g=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&F3(E.delta,y)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var b=(u.current.shards||[]).map(sw).filter(Boolean).filter(function(E){return E.contains(v.target)}),k=b.length>0?l(v,b[0]):!u.current.noIsolation;k&&v.cancelable&&v.preventDefault()}}},[]),f=_.useCallback(function(C,v,y,g){var b={name:C,delta:v,target:y,should:g,shadowParent:H3(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),m=_.useCallback(function(C){s.current=eu(C),n.current=void 0},[]),h=_.useCallback(function(C){f(C.type,rw(C),C.target,l(C,e.lockRef.current))},[]),x=_.useCallback(function(C){f(C.type,eu(C),C.target,l(C,e.lockRef.current))},[]);_.useEffect(function(){return ya.push(c),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",d,va),document.addEventListener("touchmove",d,va),document.addEventListener("touchstart",m,va),function(){ya=ya.filter(function(C){return C!==c}),document.removeEventListener("wheel",d,va),document.removeEventListener("touchmove",d,va),document.removeEventListener("touchstart",m,va)}},[]);var w=e.removeScrollBar,j=e.inert;return _.createElement(_.Fragment,null,j?_.createElement(c,{styles:B3(o)}):null,w?_.createElement(A3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function H3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const W3=x3(GS,z3);var rh=_.forwardRef(function(e,t){return _.createElement(th,Mn({},e,{ref:t,sideCar:W3}))});rh.classNames=th.classNames;var V3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ba=new WeakMap,tu=new WeakMap,ru={},Tm=0,JS=function(e){return e&&(e.host||JS(e.parentNode))},U3=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=JS(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},G3=function(e,t,s,n){var o=U3(t,Array.isArray(e)?e:[e]);ru[s]||(ru[s]=new WeakMap);var c=ru[s],u=[],l=new Set,d=new Set(o),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};o.forEach(f);var m=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(x){if(l.has(x))m(x);else try{var w=x.getAttribute(n),j=w!==null&&w!=="false",C=(ba.get(x)||0)+1,v=(c.get(x)||0)+1;ba.set(x,C),c.set(x,v),u.push(x),C===1&&j&&tu.set(x,!0),v===1&&x.setAttribute(s,"true"),j||x.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return m(t),l.clear(),Tm++,function(){u.forEach(function(h){var x=ba.get(h)-1,w=c.get(h)-1;ba.set(h,x),c.set(h,w),x||(tu.has(h)||h.removeAttribute(n),tu.delete(h)),w||h.removeAttribute(s)}),Tm--,Tm||(ba=new WeakMap,ba=new WeakMap,tu=new WeakMap,ru={})}},Hg=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=V3(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),G3(n,o,s,"aria-hidden")):function(){return null}};function K3(e){const t=q3(e),s=_.forwardRef((n,o)=>{const{children:c,...u}=n,l=_.Children.toArray(c),d=l.find(X3);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function q3(e){const t=_.forwardRef((s,n)=>{const{children:o,...c}=s;if(_.isValidElement(o)){const u=Q3(o),l=J3(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Y3=Symbol("radix.slottable");function X3(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y3}function J3(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function Q3(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var sh="Dialog",[QS,ZS]=Ns(sh),[Z3,Cn]=QS(sh),e1=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,l=_.useRef(null),d=_.useRef(null),[f,m]=$n({prop:n,defaultProp:o??!1,onChange:c,caller:sh});return r.jsx(Z3,{scope:t,triggerRef:l,contentRef:d,contentId:tn(),titleId:tn(),descriptionId:tn(),open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(h=>!h),[m]),modal:u,children:s})};e1.displayName=sh;var t1="DialogTrigger",r1=_.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,o=Cn(t1,s),c=ht(t,o.triggerRef);return r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ug(o.open),...n,ref:c,onClick:Fe(e.onClick,o.onOpenToggle)})});r1.displayName=t1;var Wg="DialogPortal",[eL,s1]=QS(Wg,{forceMount:void 0}),n1=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:o}=e,c=Cn(Wg,t);return r.jsx(eL,{scope:t,forceMount:s,children:_.Children.map(n,u=>r.jsx(Yr,{present:s||c.open,children:r.jsx(Ac,{asChild:!0,container:o,children:u})}))})};n1.displayName=Wg;var Au="DialogOverlay",i1=_.forwardRef((e,t)=>{const s=s1(Au,e.__scopeDialog),{forceMount:n=s.forceMount,...o}=e,c=Cn(Au,e.__scopeDialog);return c.modal?r.jsx(Yr,{present:n||c.open,children:r.jsx(rL,{...o,ref:t})}):null});i1.displayName=Au;var tL=K3("DialogOverlay.RemoveScroll"),rL=_.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,o=Cn(Au,s);return r.jsx(rh,{as:tL,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(st.div,{"data-state":Ug(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ao="DialogContent",o1=_.forwardRef((e,t)=>{const s=s1(Ao,e.__scopeDialog),{forceMount:n=s.forceMount,...o}=e,c=Cn(Ao,e.__scopeDialog);return r.jsx(Yr,{present:n||c.open,children:c.modal?r.jsx(sL,{...o,ref:t}):r.jsx(nL,{...o,ref:t})})});o1.displayName=Ao;var sL=_.forwardRef((e,t)=>{const s=Cn(Ao,e.__scopeDialog),n=_.useRef(null),o=ht(t,s.contentRef,n);return _.useEffect(()=>{const c=n.current;if(c)return Hg(c)},[]),r.jsx(a1,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0;(u.button===2||l)&&c.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,c=>c.preventDefault())})}),nL=_.forwardRef((e,t)=>{const s=Cn(Ao,e.__scopeDialog),n=_.useRef(!1),o=_.useRef(!1);return r.jsx(a1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,l;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),c.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:c=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,c),c.defaultPrevented||(n.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;((f=s.triggerRef.current)==null?void 0:f.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),a1=_.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,l=Cn(Ao,s),d=_.useRef(null),f=ht(t,d);return zg(),r.jsxs(r.Fragment,{children:[r.jsx(eh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:c,children:r.jsx(Pc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ug(l.open),...u,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(oL,{titleId:l.titleId}),r.jsx(lL,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Vg="DialogTitle",l1=_.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,o=Cn(Vg,s);return r.jsx(st.h2,{id:o.titleId,...n,ref:t})});l1.displayName=Vg;var c1="DialogDescription",d1=_.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,o=Cn(c1,s);return r.jsx(st.p,{id:o.descriptionId,...n,ref:t})});d1.displayName=c1;var u1="DialogClose",h1=_.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,o=Cn(u1,s);return r.jsx(st.button,{type:"button",...n,ref:t,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});h1.displayName=u1;function Ug(e){return e?"open":"closed"}var f1="DialogTitleWarning",[iL,m1]=kI(f1,{contentName:Ao,titleName:Vg,docsSlug:"dialog"}),oL=({titleId:e})=>{const t=m1(f1),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},aL="DialogDescriptionWarning",lL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m1(aL).contentName}}.`;return _.useEffect(()=>{var c;const o=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cL=e1,dL=r1,p1=n1,Gg=i1,Kg=o1,qg=l1,Yg=d1,Xg=h1;const wt=cL,uL=p1,g1=_.forwardRef(({className:e,...t},s)=>r.jsx(Gg,{ref:s,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g1.displayName=Gg.displayName;const xt=_.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(uL,{children:[r.jsx(g1,{}),r.jsxs(Kg,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(Xg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(oi,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xt.displayName=Kg.displayName;const vt=({className:e,...t})=>r.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vt.displayName="DialogHeader";const kt=({className:e,...t})=>r.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kt.displayName="DialogFooter";const yt=_.forwardRef(({className:e,...t},s)=>r.jsx(qg,{ref:s,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));yt.displayName=qg.displayName;const ur=_.forwardRef(({className:e,...t},s)=>r.jsx(Yg,{ref:s,className:Ne("text-sm text-muted-foreground",e),...t}));ur.displayName=Yg.displayName;function Jg(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Qg(e){const[t,s]=_.useState(void 0);return $r(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,l;if("borderBoxSize"in c){const d=c.borderBoxSize,f=Array.isArray(d)?d[0]:d;u=f.inlineSize,l=f.blockSize}else u=e.offsetWidth,l=e.offsetHeight;s({width:u,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var nh="Checkbox",[hL]=Ns(nh),[fL,Zg]=hL(nh);function mL(e){const{__scopeCheckbox:t,checked:s,children:n,defaultChecked:o,disabled:c,form:u,name:l,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:h}=e,[x,w]=$n({prop:s,defaultProp:o??!1,onChange:d,caller:nh}),[j,C]=_.useState(null),[v,y]=_.useState(null),g=_.useRef(!1),b=j?!!u||!!j.closest("form"):!0,k={checked:x,disabled:c,setChecked:w,control:j,setControl:C,name:l,form:u,value:m,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:$i(o)?!1:o,isFormControl:b,bubbleInput:v,setBubbleInput:y};return r.jsx(fL,{scope:t,...k,children:pL(h)?h(k):n})}var x1="CheckboxTrigger",v1=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...n},o)=>{const{control:c,value:u,disabled:l,checked:d,required:f,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:x,isFormControl:w,bubbleInput:j}=Zg(x1,e),C=ht(o,m),v=_.useRef(d);return _.useEffect(()=>{const y=c==null?void 0:c.form;if(y){const g=()=>h(v.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[c,h]),r.jsx(st.button,{type:"button",role:"checkbox","aria-checked":$i(d)?"mixed":d,"aria-required":f,"data-state":C1(d),"data-disabled":l?"":void 0,disabled:l,value:u,...n,ref:C,onKeyDown:Fe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Fe(s,y=>{h(g=>$i(g)?!0:!g),j&&w&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})})});v1.displayName=x1;var ex=_.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:n,checked:o,defaultChecked:c,required:u,disabled:l,value:d,onCheckedChange:f,form:m,...h}=e;return r.jsx(mL,{__scopeCheckbox:s,checked:o,defaultChecked:c,disabled:l,required:u,onCheckedChange:f,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(v1,{...h,ref:t,__scopeCheckbox:s}),x&&r.jsx(_1,{__scopeCheckbox:s})]})})});ex.displayName=nh;var y1="CheckboxIndicator",b1=_.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...o}=e,c=Zg(y1,s);return r.jsx(Yr,{present:n||$i(c.checked)||c.checked===!0,children:r.jsx(st.span,{"data-state":C1(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});b1.displayName=y1;var w1="CheckboxBubbleInput",_1=_.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:l,disabled:d,name:f,value:m,form:h,bubbleInput:x,setBubbleInput:w}=Zg(w1,e),j=ht(s,w),C=Jg(c),v=Qg(n);_.useEffect(()=>{const g=x;if(!g)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,P=!o.current;if(C!==c&&E){const T=new Event("click",{bubbles:P});g.indeterminate=$i(c),E.call(g,$i(c)?!1:c),g.dispatchEvent(T)}},[x,C,c,o]);const y=_.useRef($i(c)?!1:c);return r.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??y.current,required:l,disabled:d,name:f,value:m,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_1.displayName=w1;function pL(e){return typeof e=="function"}function $i(e){return e==="indeterminate"}function C1(e){return $i(e)?"indeterminate":e?"checked":"unchecked"}const To=_.forwardRef(({className:e,...t},s)=>r.jsx(ex,{ref:s,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(b1,{className:Ne("flex items-center justify-center text-current"),children:r.jsx($t,{className:"h-4 w-4"})})}));To.displayName=ex.displayName;function nw(e){const t=gL(e),s=_.forwardRef((n,o)=>{const{children:c,...u}=n,l=_.Children.toArray(c),d=l.find(vL);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function gL(e){const t=_.forwardRef((s,n)=>{const{children:o,...c}=s;if(_.isValidElement(o)){const u=bL(o),l=yL(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xL=Symbol("radix.slottable");function vL(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xL}function yL(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function bL(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function tx(e){const t=e+"CollectionProvider",[s,n]=Ns(t),[o,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:v,children:y}=C,g=Pe.useRef(null),b=Pe.useRef(new Map).current;return r.jsx(o,{scope:v,itemMap:b,collectionRef:g,children:y})};u.displayName=t;const l=e+"CollectionSlot",d=nw(l),f=Pe.forwardRef((C,v)=>{const{scope:y,children:g}=C,b=c(l,y),k=ht(v,b.collectionRef);return r.jsx(d,{ref:k,children:g})});f.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",x=nw(m),w=Pe.forwardRef((C,v)=>{const{scope:y,children:g,...b}=C,k=Pe.useRef(null),E=ht(v,k),P=c(m,y);return Pe.useEffect(()=>(P.itemMap.set(k,{ref:k,...b}),()=>void P.itemMap.delete(k))),r.jsx(x,{[h]:"",ref:E,children:g})});w.displayName=m;function j(C){const v=c(e+"CollectionConsumer",C);return Pe.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((P,T)=>b.indexOf(P.ref.current)-b.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:u,Slot:f,ItemSlot:w},j,n]}const wL=["top","right","bottom","left"],Vi=Math.min,Os=Math.max,Tu=Math.round,su=Math.floor,Fn=e=>({x:e,y:e}),_L={left:"right",right:"left",bottom:"top",top:"bottom"},CL={start:"end",end:"start"};function kp(e,t,s){return Os(e,Vi(t,s))}function hi(e,t){return typeof e=="function"?e(t):e}function fi(e){return e.split("-")[0]}function Ja(e){return e.split("-")[1]}function rx(e){return e==="x"?"y":"x"}function sx(e){return e==="y"?"height":"width"}const SL=new Set(["top","bottom"]);function In(e){return SL.has(fi(e))?"y":"x"}function nx(e){return rx(In(e))}function kL(e,t,s){s===void 0&&(s=!1);const n=Ja(e),o=nx(e),c=sx(o);let u=o==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Ru(u)),[u,Ru(u)]}function jL(e){const t=Ru(e);return[jp(e),t,jp(t)]}function jp(e){return e.replace(/start|end/g,t=>CL[t])}const iw=["left","right"],ow=["right","left"],NL=["top","bottom"],EL=["bottom","top"];function PL(e,t,s){switch(e){case"top":case"bottom":return s?t?ow:iw:t?iw:ow;case"left":case"right":return t?NL:EL;default:return[]}}function AL(e,t,s,n){const o=Ja(e);let c=PL(fi(e),s==="start",n);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(jp)))),c}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>_L[t])}function TL(e){return{top:0,right:0,bottom:0,left:0,...e}}function S1(e){return typeof e!="number"?TL(e):{top:e,right:e,bottom:e,left:e}}function Mu(e){const{x:t,y:s,width:n,height:o}=e;return{width:n,height:o,top:s,left:t,right:t+n,bottom:s+o,x:t,y:s}}function aw(e,t,s){let{reference:n,floating:o}=e;const c=In(t),u=nx(t),l=sx(u),d=fi(t),f=c==="y",m=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,x=n[l]/2-o[l]/2;let w;switch(d){case"top":w={x:m,y:n.y-o.height};break;case"bottom":w={x:m,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:h};break;case"left":w={x:n.x-o.width,y:h};break;default:w={x:n.x,y:n.y}}switch(Ja(t)){case"start":w[u]-=x*(s&&f?-1:1);break;case"end":w[u]+=x*(s&&f?-1:1);break}return w}const RL=async(e,t,s)=>{const{placement:n="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,l=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(t));let f=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:h}=aw(f,n,d),x=n,w={},j=0;for(let C=0;C<l.length;C++){const{name:v,fn:y}=l[C],{x:g,y:b,data:k,reset:E}=await y({x:m,y:h,initialPlacement:n,placement:x,strategy:o,middlewareData:w,rects:f,platform:u,elements:{reference:e,floating:t}});m=g??m,h=b??h,w={...w,[v]:{...w[v],...k}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(f=E.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:m,y:h}=aw(f,x,d)),C=-1)}return{x:m,y:h,placement:x,strategy:o,middlewareData:w}};async function dc(e,t){var s;t===void 0&&(t={});const{x:n,y:o,platform:c,rects:u,elements:l,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:x=!1,padding:w=0}=hi(t,e),j=S1(w),v=l[x?h==="floating"?"reference":"floating":h],y=Mu(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(v)))==null||s?v:v.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:d})),g=h==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,b=await(c.getOffsetParent==null?void 0:c.getOffsetParent(l.floating)),k=await(c.isElement==null?void 0:c.isElement(b))?await(c.getScale==null?void 0:c.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Mu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:d}):g);return{top:(y.top-E.top+j.top)/k.y,bottom:(E.bottom-y.bottom+j.bottom)/k.y,left:(y.left-E.left+j.left)/k.x,right:(E.right-y.right+j.right)/k.x}}const ML=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:o,rects:c,platform:u,elements:l,middlewareData:d}=t,{element:f,padding:m=0}=hi(e,t)||{};if(f==null)return{};const h=S1(m),x={x:s,y:n},w=nx(o),j=sx(w),C=await u.getDimensions(f),v=w==="y",y=v?"top":"left",g=v?"bottom":"right",b=v?"clientHeight":"clientWidth",k=c.reference[j]+c.reference[w]-x[w]-c.floating[j],E=x[w]-c.reference[w],P=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let T=P?P[b]:0;(!T||!await(u.isElement==null?void 0:u.isElement(P)))&&(T=l.floating[b]||c.floating[j]);const N=k/2-E/2,M=T/2-C[j]/2-1,I=Vi(h[y],M),L=Vi(h[g],M),B=I,H=T-C[j]-L,q=T/2-C[j]/2+N,z=kp(B,q,H),G=!d.arrow&&Ja(o)!=null&&q!==z&&c.reference[j]/2-(q<B?I:L)-C[j]/2<0,J=G?q<B?q-B:q-H:0;return{[w]:x[w]+J,data:{[w]:z,centerOffset:q-z-J,...G&&{alignmentOffset:J}},reset:G}}}),DL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:o,middlewareData:c,rects:u,initialPlacement:l,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:C=!0,...v}=hi(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const y=fi(o),g=In(l),b=fi(l)===l,k=await(d.isRTL==null?void 0:d.isRTL(f.floating)),E=x||(b||!C?[Ru(l)]:jL(l)),P=j!=="none";!x&&P&&E.push(...AL(l,C,j,k));const T=[l,...E],N=await dc(t,v),M=[];let I=((n=c.flip)==null?void 0:n.overflows)||[];if(m&&M.push(N[y]),h){const q=kL(o,u,k);M.push(N[q[0]],N[q[1]])}if(I=[...I,{placement:o,overflows:M}],!M.every(q=>q<=0)){var L,B;const q=(((L=c.flip)==null?void 0:L.index)||0)+1,z=T[q];if(z&&(!(h==="alignment"?g!==In(z):!1)||I.every(K=>In(K.placement)===g?K.overflows[0]>0:!0)))return{data:{index:q,overflows:I},reset:{placement:z}};let G=(B=I.filter(J=>J.overflows[0]<=0).sort((J,K)=>J.overflows[1]-K.overflows[1])[0])==null?void 0:B.placement;if(!G)switch(w){case"bestFit":{var H;const J=(H=I.filter(K=>{if(P){const F=In(K.placement);return F===g||F==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(F=>F>0).reduce((F,R)=>F+R,0)]).sort((K,F)=>K[1]-F[1])[0])==null?void 0:H[0];J&&(G=J);break}case"initialPlacement":G=l;break}if(o!==G)return{reset:{placement:G}}}return{}}}};function lw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cw(e){return wL.some(t=>e[t]>=0)}const IL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...o}=hi(e,t);switch(n){case"referenceHidden":{const c=await dc(t,{...o,elementContext:"reference"}),u=lw(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cw(u)}}}case"escaped":{const c=await dc(t,{...o,altBoundary:!0}),u=lw(c,s.floating);return{data:{escapedOffsets:u,escaped:cw(u)}}}default:return{}}}}},k1=new Set(["left","top"]);async function LL(e,t){const{placement:s,platform:n,elements:o}=e,c=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=fi(s),l=Ja(s),d=In(s)==="y",f=k1.has(u)?-1:1,m=c&&d?-1:1,h=hi(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(w=l==="end"?j*-1:j),d?{x:w*m,y:x*f}:{x:x*f,y:w*m}}const OL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:o,y:c,placement:u,middlewareData:l}=t,d=await LL(t,e);return u===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:c+d.y,data:{...d,placement:u}}}}},FL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:l={fn:v=>{let{x:y,y:g}=v;return{x:y,y:g}}},...d}=hi(e,t),f={x:s,y:n},m=await dc(t,d),h=In(fi(o)),x=rx(h);let w=f[x],j=f[h];if(c){const v=x==="y"?"top":"left",y=x==="y"?"bottom":"right",g=w+m[v],b=w-m[y];w=kp(g,w,b)}if(u){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=j+m[v],b=j-m[y];j=kp(g,j,b)}const C=l.fn({...t,[x]:w,[h]:j});return{...C,data:{x:C.x-s,y:C.y-n,enabled:{[x]:c,[h]:u}}}}}},BL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:o,rects:c,middlewareData:u}=t,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=hi(e,t),m={x:s,y:n},h=In(o),x=rx(h);let w=m[x],j=m[h];const C=hi(l,t),v=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const b=x==="y"?"height":"width",k=c.reference[x]-c.floating[b]+v.mainAxis,E=c.reference[x]+c.reference[b]-v.mainAxis;w<k?w=k:w>E&&(w=E)}if(f){var y,g;const b=x==="y"?"width":"height",k=k1.has(fi(o)),E=c.reference[h]-c.floating[b]+(k&&((y=u.offset)==null?void 0:y[h])||0)+(k?0:v.crossAxis),P=c.reference[h]+c.reference[b]+(k?0:((g=u.offset)==null?void 0:g[h])||0)-(k?v.crossAxis:0);j<E?j=E:j>P&&(j=P)}return{[x]:w,[h]:j}}}},$L=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:o,rects:c,platform:u,elements:l}=t,{apply:d=()=>{},...f}=hi(e,t),m=await dc(t,f),h=fi(o),x=Ja(o),w=In(o)==="y",{width:j,height:C}=c.floating;let v,y;h==="top"||h==="bottom"?(v=h,y=x===(await(u.isRTL==null?void 0:u.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,v=x==="end"?"top":"bottom");const g=C-m.top-m.bottom,b=j-m.left-m.right,k=Vi(C-m[v],g),E=Vi(j-m[y],b),P=!t.middlewareData.shift;let T=k,N=E;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=g),P&&!x){const I=Os(m.left,0),L=Os(m.right,0),B=Os(m.top,0),H=Os(m.bottom,0);w?N=j-2*(I!==0||L!==0?I+L:Os(m.left,m.right)):T=C-2*(B!==0||H!==0?B+H:Os(m.top,m.bottom))}await d({...t,availableWidth:N,availableHeight:T});const M=await u.getDimensions(l.floating);return j!==M.width||C!==M.height?{reset:{rects:!0}}:{}}}};function ih(){return typeof window<"u"}function Qa(e){return j1(e)?(e.nodeName||"").toLowerCase():"#document"}function Hs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gn(e){var t;return(t=(j1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j1(e){return ih()?e instanceof Node||e instanceof Hs(e).Node:!1}function wn(e){return ih()?e instanceof Element||e instanceof Hs(e).Element:!1}function zn(e){return ih()?e instanceof HTMLElement||e instanceof Hs(e).HTMLElement:!1}function dw(e){return!ih()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hs(e).ShadowRoot}const zL=new Set(["inline","contents"]);function Tc(e){const{overflow:t,overflowX:s,overflowY:n,display:o}=_n(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!zL.has(o)}const HL=new Set(["table","td","th"]);function WL(e){return HL.has(Qa(e))}const VL=[":popover-open",":modal"];function oh(e){return VL.some(t=>{try{return e.matches(t)}catch{return!1}})}const UL=["transform","translate","scale","rotate","perspective"],GL=["transform","translate","scale","rotate","perspective","filter"],KL=["paint","layout","strict","content"];function ix(e){const t=ox(),s=wn(e)?_n(e):e;return UL.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||GL.some(n=>(s.willChange||"").includes(n))||KL.some(n=>(s.contain||"").includes(n))}function qL(e){let t=Ui(e);for(;zn(t)&&!Wa(t);){if(ix(t))return t;if(oh(t))return null;t=Ui(t)}return null}function ox(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YL=new Set(["html","body","#document"]);function Wa(e){return YL.has(Qa(e))}function _n(e){return Hs(e).getComputedStyle(e)}function ah(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ui(e){if(Qa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dw(e)&&e.host||Gn(e);return dw(t)?t.host:t}function N1(e){const t=Ui(e);return Wa(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&Tc(t)?t:N1(t)}function uc(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=N1(e),c=o===((n=e.ownerDocument)==null?void 0:n.body),u=Hs(o);if(c){const l=Np(u);return t.concat(u,u.visualViewport||[],Tc(o)?o:[],l&&s?uc(l):[])}return t.concat(o,uc(o,[],s))}function Np(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E1(e){const t=_n(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=zn(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:n,l=Tu(s)!==c||Tu(n)!==u;return l&&(s=c,n=u),{width:s,height:n,$:l}}function ax(e){return wn(e)?e:e.contextElement}function Ma(e){const t=ax(e);if(!zn(t))return Fn(1);const s=t.getBoundingClientRect(),{width:n,height:o,$:c}=E1(t);let u=(c?Tu(s.width):s.width)/n,l=(c?Tu(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!l||!Number.isFinite(l))&&(l=1),{x:u,y:l}}const XL=Fn(0);function P1(e){const t=Hs(e);return!ox()||!t.visualViewport?XL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Hs(e)?!1:t}function Ro(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=ax(e);let u=Fn(1);t&&(n?wn(n)&&(u=Ma(n)):u=Ma(e));const l=JL(c,s,n)?P1(c):Fn(0);let d=(o.left+l.x)/u.x,f=(o.top+l.y)/u.y,m=o.width/u.x,h=o.height/u.y;if(c){const x=Hs(c),w=n&&wn(n)?Hs(n):n;let j=x,C=Np(j);for(;C&&n&&w!==j;){const v=Ma(C),y=C.getBoundingClientRect(),g=_n(C),b=y.left+(C.clientLeft+parseFloat(g.paddingLeft))*v.x,k=y.top+(C.clientTop+parseFloat(g.paddingTop))*v.y;d*=v.x,f*=v.y,m*=v.x,h*=v.y,d+=b,f+=k,j=Hs(C),C=Np(j)}}return Mu({width:m,height:h,x:d,y:f})}function lh(e,t){const s=ah(e).scrollLeft;return t?t.left+s:Ro(Gn(e)).left+s}function A1(e,t){const s=e.getBoundingClientRect(),n=s.left+t.scrollLeft-lh(e,s),o=s.top+t.scrollTop;return{x:n,y:o}}function QL(e){let{elements:t,rect:s,offsetParent:n,strategy:o}=e;const c=o==="fixed",u=Gn(n),l=t?oh(t.floating):!1;if(n===u||l&&c)return s;let d={scrollLeft:0,scrollTop:0},f=Fn(1);const m=Fn(0),h=zn(n);if((h||!h&&!c)&&((Qa(n)!=="body"||Tc(u))&&(d=ah(n)),zn(n))){const w=Ro(n);f=Ma(n),m.x=w.x+n.clientLeft,m.y=w.y+n.clientTop}const x=u&&!h&&!c?A1(u,d):Fn(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-d.scrollLeft*f.x+m.x+x.x,y:s.y*f.y-d.scrollTop*f.y+m.y+x.y}}function ZL(e){return Array.from(e.getClientRects())}function eO(e){const t=Gn(e),s=ah(e),n=e.ownerDocument.body,o=Os(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),c=Os(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-s.scrollLeft+lh(e);const l=-s.scrollTop;return _n(n).direction==="rtl"&&(u+=Os(t.clientWidth,n.clientWidth)-o),{width:o,height:c,x:u,y:l}}const uw=25;function tO(e,t){const s=Hs(e),n=Gn(e),o=s.visualViewport;let c=n.clientWidth,u=n.clientHeight,l=0,d=0;if(o){c=o.width,u=o.height;const m=ox();(!m||m&&t==="fixed")&&(l=o.offsetLeft,d=o.offsetTop)}const f=lh(n);if(f<=0){const m=n.ownerDocument,h=m.body,x=getComputedStyle(h),w=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-w);j<=uw&&(c-=j)}else f<=uw&&(c+=f);return{width:c,height:u,x:l,y:d}}const rO=new Set(["absolute","fixed"]);function sO(e,t){const s=Ro(e,!0,t==="fixed"),n=s.top+e.clientTop,o=s.left+e.clientLeft,c=zn(e)?Ma(e):Fn(1),u=e.clientWidth*c.x,l=e.clientHeight*c.y,d=o*c.x,f=n*c.y;return{width:u,height:l,x:d,y:f}}function hw(e,t,s){let n;if(t==="viewport")n=tO(e,s);else if(t==="document")n=eO(Gn(e));else if(wn(t))n=sO(t,s);else{const o=P1(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Mu(n)}function T1(e,t){const s=Ui(e);return s===t||!wn(s)||Wa(s)?!1:_n(s).position==="fixed"||T1(s,t)}function nO(e,t){const s=t.get(e);if(s)return s;let n=uc(e,[],!1).filter(l=>wn(l)&&Qa(l)!=="body"),o=null;const c=_n(e).position==="fixed";let u=c?Ui(e):e;for(;wn(u)&&!Wa(u);){const l=_n(u),d=ix(u);!d&&l.position==="fixed"&&(o=null),(c?!d&&!o:!d&&l.position==="static"&&!!o&&rO.has(o.position)||Tc(u)&&!d&&T1(e,u))?n=n.filter(m=>m!==u):o=l,u=Ui(u)}return t.set(e,n),n}function iO(e){let{element:t,boundary:s,rootBoundary:n,strategy:o}=e;const u=[...s==="clippingAncestors"?oh(t)?[]:nO(t,this._c):[].concat(s),n],l=u[0],d=u.reduce((f,m)=>{const h=hw(t,m,o);return f.top=Os(h.top,f.top),f.right=Vi(h.right,f.right),f.bottom=Vi(h.bottom,f.bottom),f.left=Os(h.left,f.left),f},hw(t,l,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function oO(e){const{width:t,height:s}=E1(e);return{width:t,height:s}}function aO(e,t,s){const n=zn(t),o=Gn(t),c=s==="fixed",u=Ro(e,!0,c,t);let l={scrollLeft:0,scrollTop:0};const d=Fn(0);function f(){d.x=lh(o)}if(n||!n&&!c)if((Qa(t)!=="body"||Tc(o))&&(l=ah(t)),n){const w=Ro(t,!0,c,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else o&&f();c&&!n&&o&&f();const m=o&&!n&&!c?A1(o,l):Fn(0),h=u.left+l.scrollLeft-d.x-m.x,x=u.top+l.scrollTop-d.y-m.y;return{x:h,y:x,width:u.width,height:u.height}}function Rm(e){return _n(e).position==="static"}function fw(e,t){if(!zn(e)||_n(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Gn(e)===s&&(s=s.ownerDocument.body),s}function R1(e,t){const s=Hs(e);if(oh(e))return s;if(!zn(e)){let o=Ui(e);for(;o&&!Wa(o);){if(wn(o)&&!Rm(o))return o;o=Ui(o)}return s}let n=fw(e,t);for(;n&&WL(n)&&Rm(n);)n=fw(n,t);return n&&Wa(n)&&Rm(n)&&!ix(n)?s:n||qL(e)||s}const lO=async function(e){const t=this.getOffsetParent||R1,s=this.getDimensions,n=await s(e.floating);return{reference:aO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cO(e){return _n(e).direction==="rtl"}const dO={convertOffsetParentRelativeRectToViewportRelativeRect:QL,getDocumentElement:Gn,getClippingRect:iO,getOffsetParent:R1,getElementRects:lO,getClientRects:ZL,getDimensions:oO,getScale:Ma,isElement:wn,isRTL:cO};function M1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uO(e,t){let s=null,n;const o=Gn(e);function c(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function u(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),c();const f=e.getBoundingClientRect(),{left:m,top:h,width:x,height:w}=f;if(l||t(),!x||!w)return;const j=su(h),C=su(o.clientWidth-(m+x)),v=su(o.clientHeight-(h+w)),y=su(m),b={rootMargin:-j+"px "+-C+"px "+-v+"px "+-y+"px",threshold:Os(0,Vi(1,d))||1};let k=!0;function E(P){const T=P[0].intersectionRatio;if(T!==d){if(!k)return u();T?u(!1,T):n=setTimeout(()=>{u(!1,1e-7)},1e3)}T===1&&!M1(f,e.getBoundingClientRect())&&u(),k=!1}try{s=new IntersectionObserver(E,{...b,root:o.ownerDocument})}catch{s=new IntersectionObserver(E,b)}s.observe(e)}return u(!0),c}function hO(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=ax(e),m=o||c?[...f?uc(f):[],...uc(t)]:[];m.forEach(y=>{o&&y.addEventListener("scroll",s,{passive:!0}),c&&y.addEventListener("resize",s)});const h=f&&l?uO(f,s):null;let x=-1,w=null;u&&(w=new ResizeObserver(y=>{let[g]=y;g&&g.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var b;(b=w)==null||b.observe(t)})),s()}),f&&!d&&w.observe(f),w.observe(t));let j,C=d?Ro(e):null;d&&v();function v(){const y=Ro(e);C&&!M1(C,y)&&s(),C=y,j=requestAnimationFrame(v)}return s(),()=>{var y;m.forEach(g=>{o&&g.removeEventListener("scroll",s),c&&g.removeEventListener("resize",s)}),h==null||h(),(y=w)==null||y.disconnect(),w=null,d&&cancelAnimationFrame(j)}}const fO=OL,mO=FL,pO=DL,gO=$L,xO=IL,mw=ML,vO=BL,yO=(e,t,s)=>{const n=new Map,o={platform:dO,...s},c={...o.platform,_c:n};return RL(e,t,{...o,platform:c})};var bO=typeof document<"u",wO=function(){},mu=bO?_.useLayoutEffect:wO;function Du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Du(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=s;n--!==0;){const c=o[n];if(!(c==="_owner"&&e.$$typeof)&&!Du(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function D1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pw(e,t){const s=D1(e);return Math.round(t*s)/s}function Mm(e){const t=_.useRef(e);return mu(()=>{t.current=e}),t}function _O(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:o,elements:{reference:c,floating:u}={},transform:l=!0,whileElementsMounted:d,open:f}=e,[m,h]=_.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=_.useState(n);Du(x,n)||w(n);const[j,C]=_.useState(null),[v,y]=_.useState(null),g=_.useCallback(K=>{K!==P.current&&(P.current=K,C(K))},[]),b=_.useCallback(K=>{K!==T.current&&(T.current=K,y(K))},[]),k=c||j,E=u||v,P=_.useRef(null),T=_.useRef(null),N=_.useRef(m),M=d!=null,I=Mm(d),L=Mm(o),B=Mm(f),H=_.useCallback(()=>{if(!P.current||!T.current)return;const K={placement:t,strategy:s,middleware:x};L.current&&(K.platform=L.current),yO(P.current,T.current,K).then(F=>{const R={...F,isPositioned:B.current!==!1};q.current&&!Du(N.current,R)&&(N.current=R,bc.flushSync(()=>{h(R)}))})},[x,t,s,L,B]);mu(()=>{f===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[f]);const q=_.useRef(!1);mu(()=>(q.current=!0,()=>{q.current=!1}),[]),mu(()=>{if(k&&(P.current=k),E&&(T.current=E),k&&E){if(I.current)return I.current(k,E,H);H()}},[k,E,H,I,M]);const z=_.useMemo(()=>({reference:P,floating:T,setReference:g,setFloating:b}),[g,b]),G=_.useMemo(()=>({reference:k,floating:E}),[k,E]),J=_.useMemo(()=>{const K={position:s,left:0,top:0};if(!G.floating)return K;const F=pw(G.floating,m.x),R=pw(G.floating,m.y);return l?{...K,transform:"translate("+F+"px, "+R+"px)",...D1(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:F,top:R}},[s,l,G.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:H,refs:z,elements:G,floatingStyles:J}),[m,H,z,G,J])}const CO=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:o}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?mw({element:n.current,padding:o}).fn(s):{}:n?mw({element:n,padding:o}).fn(s):{}}}},SO=(e,t)=>({...fO(e),options:[e,t]}),kO=(e,t)=>({...mO(e),options:[e,t]}),jO=(e,t)=>({...vO(e),options:[e,t]}),NO=(e,t)=>({...pO(e),options:[e,t]}),EO=(e,t)=>({...gO(e),options:[e,t]}),PO=(e,t)=>({...xO(e),options:[e,t]}),AO=(e,t)=>({...CO(e),options:[e,t]});var TO="Arrow",I1=_.forwardRef((e,t)=>{const{children:s,width:n=10,height:o=5,...c}=e;return r.jsx(st.svg,{...c,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});I1.displayName=TO;var RO=I1,lx="Popper",[L1,Za]=Ns(lx),[MO,O1]=L1(lx),F1=e=>{const{__scopePopper:t,children:s}=e,[n,o]=_.useState(null);return r.jsx(MO,{scope:t,anchor:n,onAnchorChange:o,children:s})};F1.displayName=lx;var B1="PopperAnchor",$1=_.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...o}=e,c=O1(B1,s),u=_.useRef(null),l=ht(t,u),d=_.useRef(null);return _.useEffect(()=>{const f=d.current;d.current=(n==null?void 0:n.current)||u.current,f!==d.current&&c.onAnchorChange(d.current)}),n?null:r.jsx(st.div,{...o,ref:l})});$1.displayName=B1;var cx="PopperContent",[DO,IO]=L1(cx),z1=_.forwardRef((e,t)=>{var X,W,ce,ie,Q,le;const{__scopePopper:s,side:n="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:j,...C}=e,v=O1(cx,s),[y,g]=_.useState(null),b=ht(t,we=>g(we)),[k,E]=_.useState(null),P=Qg(k),T=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,M=n+(c!=="center"?"-"+c:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},L=Array.isArray(f)?f:[f],B=L.length>0,H={padding:I,boundary:L.filter(OO),altBoundary:B},{refs:q,floatingStyles:z,placement:G,isPositioned:J,middlewareData:K}=_O({strategy:"fixed",placement:M,whileElementsMounted:(...we)=>hO(...we,{animationFrame:w==="always"}),elements:{reference:v.anchor},middleware:[SO({mainAxis:o+N,alignmentAxis:u}),d&&kO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jO():void 0,...H}),d&&NO({...H}),EO({...H,apply:({elements:we,rects:Le,availableWidth:Ke,availableHeight:fe})=>{const{width:ye,height:Je}=Le.reference,Ye=we.floating.style;Ye.setProperty("--radix-popper-available-width",`${Ke}px`),Ye.setProperty("--radix-popper-available-height",`${fe}px`),Ye.setProperty("--radix-popper-anchor-width",`${ye}px`),Ye.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),k&&AO({element:k,padding:l}),FO({arrowWidth:T,arrowHeight:N}),x&&PO({strategy:"referenceHidden",...H})]}),[F,R]=V1(G),O=qr(j);$r(()=>{J&&(O==null||O())},[J,O]);const V=(X=K.arrow)==null?void 0:X.x,$=(W=K.arrow)==null?void 0:W.y,se=((ce=K.arrow)==null?void 0:ce.centerOffset)!==0,[de,pe]=_.useState();return $r(()=>{y&&pe(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:J?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ie=K.transformOrigin)==null?void 0:ie.x,(Q=K.transformOrigin)==null?void 0:Q.y].join(" "),...((le=K.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(DO,{scope:s,placedSide:F,onArrowChange:E,arrowX:V,arrowY:$,shouldHideArrow:se,children:r.jsx(st.div,{"data-side":F,"data-align":R,...C,ref:b,style:{...C.style,animation:J?void 0:"none"}})})})});z1.displayName=cx;var H1="PopperArrow",LO={top:"bottom",right:"left",bottom:"top",left:"right"},W1=_.forwardRef(function(t,s){const{__scopePopper:n,...o}=t,c=IO(H1,n),u=LO[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(RO,{...o,ref:s,style:{...o.style,display:"block"}})})});W1.displayName=H1;function OO(e){return e!==null}var FO=e=>({name:"transformOrigin",options:e,fn(t){var v,y,g;const{placement:s,rects:n,middlewareData:o}=t,u=((v=o.arrow)==null?void 0:v.centerOffset)!==0,l=u?0:e.arrowWidth,d=u?0:e.arrowHeight,[f,m]=V1(s),h={start:"0%",center:"50%",end:"100%"}[m],x=(((y=o.arrow)==null?void 0:y.x)??0)+l/2,w=(((g=o.arrow)==null?void 0:g.y)??0)+d/2;let j="",C="";return f==="bottom"?(j=u?h:`${x}px`,C=`${-d}px`):f==="top"?(j=u?h:`${x}px`,C=`${n.floating.height+d}px`):f==="right"?(j=`${-d}px`,C=u?h:`${w}px`):f==="left"&&(j=`${n.floating.width+d}px`,C=u?h:`${w}px`),{data:{x:j,y:C}}}});function V1(e){const[t,s="center"]=e.split("-");return[t,s]}var dx=F1,ux=$1,hx=z1,fx=W1;function BO(e){const t=$O(e),s=_.forwardRef((n,o)=>{const{children:c,...u}=n,l=_.Children.toArray(c),d=l.find(HO);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function $O(e){const t=_.forwardRef((s,n)=>{const{children:o,...c}=s;if(_.isValidElement(o)){const u=VO(o),l=WO(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zO=Symbol("radix.slottable");function HO(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zO}function WO(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function VO(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var U1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UO="VisuallyHidden",G1=_.forwardRef((e,t)=>r.jsx(st.span,{...e,ref:t,style:{...U1,...e.style}}));G1.displayName=UO;var GO=G1,KO=[" ","Enter","ArrowUp","ArrowDown"],qO=[" ","Enter"],Mo="Select",[ch,dh,YO]=tx(Mo),[el]=Ns(Mo,[YO,Za]),uh=Za(),[XO,Ki]=el(Mo),[JO,QO]=el(Mo),K1=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:o,onOpenChange:c,value:u,defaultValue:l,onValueChange:d,dir:f,name:m,autoComplete:h,disabled:x,required:w,form:j}=e,C=uh(t),[v,y]=_.useState(null),[g,b]=_.useState(null),[k,E]=_.useState(!1),P=Ec(f),[T,N]=$n({prop:n,defaultProp:o??!1,onChange:c,caller:Mo}),[M,I]=$n({prop:u,defaultProp:l,onChange:d,caller:Mo}),L=_.useRef(null),B=v?j||!!v.closest("form"):!0,[H,q]=_.useState(new Set),z=Array.from(H).map(G=>G.props.value).join(";");return r.jsx(dx,{...C,children:r.jsxs(XO,{required:w,scope:t,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:tn(),value:M,onValueChange:I,open:T,onOpenChange:N,dir:P,triggerPointerDownPosRef:L,disabled:x,children:[r.jsx(ch.Provider,{scope:t,children:r.jsx(JO,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(G=>{q(J=>new Set(J).add(G))},[]),onNativeOptionRemove:_.useCallback(G=>{q(J=>{const K=new Set(J);return K.delete(G),K})},[]),children:s})}),B?r.jsxs(xk,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:h,value:M,onChange:G=>I(G.target.value),disabled:x,form:j,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(H)]},z):null]})})};K1.displayName=Mo;var q1="SelectTrigger",Y1=_.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...o}=e,c=uh(s),u=Ki(q1,s),l=u.disabled||n,d=ht(t,u.onTriggerChange),f=dh(s),m=_.useRef("touch"),[h,x,w]=yk(C=>{const v=f().filter(b=>!b.disabled),y=v.find(b=>b.value===u.value),g=bk(v,C,y);g!==void 0&&u.onValueChange(g.value)}),j=C=>{l||(u.onOpenChange(!0),w()),C&&(u.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return r.jsx(ux,{asChild:!0,...c,children:r.jsx(st.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vk(u.value)?"":void 0,...o,ref:d,onClick:Fe(o.onClick,C=>{C.currentTarget.focus(),m.current!=="mouse"&&j(C)}),onPointerDown:Fe(o.onPointerDown,C=>{m.current=C.pointerType;const v=C.target;v.hasPointerCapture(C.pointerId)&&v.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(j(C),C.preventDefault())}),onKeyDown:Fe(o.onKeyDown,C=>{const v=h.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(v&&C.key===" ")&&KO.includes(C.key)&&(j(),C.preventDefault())})})})});Y1.displayName=q1;var X1="SelectValue",J1=_.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:o,children:c,placeholder:u="",...l}=e,d=Ki(X1,s),{onValueNodeHasChildrenChange:f}=d,m=c!==void 0,h=ht(t,d.onValueNodeChange);return $r(()=>{f(m)},[f,m]),r.jsx(st.span,{...l,ref:h,style:{pointerEvents:"none"},children:vk(d.value)?r.jsx(r.Fragment,{children:u}):c})});J1.displayName=X1;var ZO="SelectIcon",Q1=_.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...o}=e;return r.jsx(st.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});Q1.displayName=ZO;var e6="SelectPortal",Z1=e=>r.jsx(Ac,{asChild:!0,...e});Z1.displayName=e6;var Do="SelectContent",ek=_.forwardRef((e,t)=>{const s=Ki(Do,e.__scopeSelect),[n,o]=_.useState();if($r(()=>{o(new DocumentFragment)},[]),!s.open){const c=n;return c?bc.createPortal(r.jsx(tk,{scope:e.__scopeSelect,children:r.jsx(ch.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(rk,{...e,ref:t})});ek.displayName=Do;var yn=10,[tk,qi]=el(Do),t6="SelectContentImpl",r6=BO("SelectContent.RemoveScroll"),rk=_.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:x,collisionPadding:w,sticky:j,hideWhenDetached:C,avoidCollisions:v,...y}=e,g=Ki(Do,s),[b,k]=_.useState(null),[E,P]=_.useState(null),T=ht(t,X=>k(X)),[N,M]=_.useState(null),[I,L]=_.useState(null),B=dh(s),[H,q]=_.useState(!1),z=_.useRef(!1);_.useEffect(()=>{if(b)return Hg(b)},[b]),zg();const G=_.useCallback(X=>{const[W,...ce]=B().map(le=>le.ref.current),[ie]=ce.slice(-1),Q=document.activeElement;for(const le of X)if(le===Q||(le==null||le.scrollIntoView({block:"nearest"}),le===W&&E&&(E.scrollTop=0),le===ie&&E&&(E.scrollTop=E.scrollHeight),le==null||le.focus(),document.activeElement!==Q))return},[B,E]),J=_.useCallback(()=>G([N,b]),[G,N,b]);_.useEffect(()=>{H&&J()},[H,J]);const{onOpenChange:K,triggerPointerDownPosRef:F}=g;_.useEffect(()=>{if(b){let X={x:0,y:0};const W=ie=>{var Q,le;X={x:Math.abs(Math.round(ie.pageX)-(((Q=F.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((le=F.current)==null?void 0:le.y)??0))}},ce=ie=>{X.x<=10&&X.y<=10?ie.preventDefault():b.contains(ie.target)||K(!1),document.removeEventListener("pointermove",W),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,K,F]),_.useEffect(()=>{const X=()=>K(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[K]);const[R,O]=yk(X=>{const W=B().filter(Q=>!Q.disabled),ce=W.find(Q=>Q.ref.current===document.activeElement),ie=bk(W,X,ce);ie&&setTimeout(()=>ie.ref.current.focus())}),V=_.useCallback((X,W,ce)=>{const ie=!z.current&&!ce;(g.value!==void 0&&g.value===W||ie)&&(M(X),ie&&(z.current=!0))},[g.value]),$=_.useCallback(()=>b==null?void 0:b.focus(),[b]),se=_.useCallback((X,W,ce)=>{const ie=!z.current&&!ce;(g.value!==void 0&&g.value===W||ie)&&L(X)},[g.value]),de=n==="popper"?Ep:sk,pe=de===Ep?{side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:x,collisionPadding:w,sticky:j,hideWhenDetached:C,avoidCollisions:v}:{};return r.jsx(tk,{scope:s,content:b,viewport:E,onViewportChange:P,itemRefCallback:V,selectedItem:N,onItemLeave:$,itemTextRefCallback:se,focusSelectedItem:J,selectedItemText:I,position:n,isPositioned:H,searchRef:R,children:r.jsx(rh,{as:r6,allowPinchZoom:!0,children:r.jsx(eh,{asChild:!0,trapped:g.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Fe(o,X=>{var W;(W=g.trigger)==null||W.focus({preventScroll:!0}),X.preventDefault()}),children:r.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(de,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:X=>X.preventDefault(),...y,...pe,onPlaced:()=>q(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Fe(y.onKeyDown,X=>{const W=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!W&&X.key.length===1&&O(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ie=B().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Q=X.target,le=ie.indexOf(Q);ie=ie.slice(le+1)}setTimeout(()=>G(ie)),X.preventDefault()}})})})})})})});rk.displayName=t6;var s6="SelectItemAlignedPosition",sk=_.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...o}=e,c=Ki(Do,s),u=qi(Do,s),[l,d]=_.useState(null),[f,m]=_.useState(null),h=ht(t,T=>m(T)),x=dh(s),w=_.useRef(!1),j=_.useRef(!0),{viewport:C,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=u,b=_.useCallback(()=>{if(c.trigger&&c.valueNode&&l&&f&&C&&v&&y){const T=c.trigger.getBoundingClientRect(),N=f.getBoundingClientRect(),M=c.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(c.dir!=="rtl"){const Q=I.left-N.left,le=M.left-Q,we=T.left-le,Le=T.width+we,Ke=Math.max(Le,N.width),fe=window.innerWidth-yn,ye=_p(le,[yn,Math.max(yn,fe-Ke)]);l.style.minWidth=Le+"px",l.style.left=ye+"px"}else{const Q=N.right-I.right,le=window.innerWidth-M.right-Q,we=window.innerWidth-T.right-le,Le=T.width+we,Ke=Math.max(Le,N.width),fe=window.innerWidth-yn,ye=_p(le,[yn,Math.max(yn,fe-Ke)]);l.style.minWidth=Le+"px",l.style.right=ye+"px"}const L=x(),B=window.innerHeight-yn*2,H=C.scrollHeight,q=window.getComputedStyle(f),z=parseInt(q.borderTopWidth,10),G=parseInt(q.paddingTop,10),J=parseInt(q.borderBottomWidth,10),K=parseInt(q.paddingBottom,10),F=z+G+H+K+J,R=Math.min(v.offsetHeight*5,F),O=window.getComputedStyle(C),V=parseInt(O.paddingTop,10),$=parseInt(O.paddingBottom,10),se=T.top+T.height/2-yn,de=B-se,pe=v.offsetHeight/2,X=v.offsetTop+pe,W=z+G+X,ce=F-W;if(W<=se){const Q=L.length>0&&v===L[L.length-1].ref.current;l.style.bottom="0px";const le=f.clientHeight-C.offsetTop-C.offsetHeight,we=Math.max(de,pe+(Q?$:0)+le+J),Le=W+we;l.style.height=Le+"px"}else{const Q=L.length>0&&v===L[0].ref.current;l.style.top="0px";const we=Math.max(se,z+C.offsetTop+(Q?V:0)+pe)+ce;l.style.height=we+"px",C.scrollTop=W-se+C.offsetTop}l.style.margin=`${yn}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[x,c.trigger,c.valueNode,l,f,C,v,y,c.dir,n]);$r(()=>b(),[b]);const[k,E]=_.useState();$r(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const P=_.useCallback(T=>{T&&j.current===!0&&(b(),g==null||g(),j.current=!1)},[b,g]);return r.jsx(i6,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:P,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:r.jsx(st.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});sk.displayName=s6;var n6="SelectPopperPosition",Ep=_.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:o=yn,...c}=e,u=uh(s);return r.jsx(hx,{...u,...c,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ep.displayName=n6;var[i6,mx]=el(Do,{}),Pp="SelectViewport",nk=_.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...o}=e,c=qi(Pp,s),u=mx(Pp,s),l=ht(t,c.onViewportChange),d=_.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(ch.Slot,{scope:s,children:r.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Fe(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=u;if(x!=null&&x.current&&h){const w=Math.abs(d.current-m.scrollTop);if(w>0){const j=window.innerHeight-yn*2,C=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),y=Math.max(C,v);if(y<j){const g=y+w,b=Math.min(j,g),k=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(m.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});nk.displayName=Pp;var ik="SelectGroup",[o6,a6]=el(ik),l6=_.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=tn();return r.jsx(o6,{scope:s,id:o,children:r.jsx(st.div,{role:"group","aria-labelledby":o,...n,ref:t})})});l6.displayName=ik;var ok="SelectLabel",ak=_.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=a6(ok,s);return r.jsx(st.div,{id:o.id,...n,ref:t})});ak.displayName=ok;var Iu="SelectItem",[c6,lk]=el(Iu),ck=_.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:o=!1,textValue:c,...u}=e,l=Ki(Iu,s),d=qi(Iu,s),f=l.value===n,[m,h]=_.useState(c??""),[x,w]=_.useState(!1),j=ht(t,g=>{var b;return(b=d.itemRefCallback)==null?void 0:b.call(d,g,n,o)}),C=tn(),v=_.useRef("touch"),y=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(c6,{scope:s,value:n,disabled:o,textId:C,isSelected:f,onItemTextChange:_.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(ch.ItemSlot,{scope:s,value:n,disabled:o,textValue:m,children:r.jsx(st.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:j,onFocus:Fe(u.onFocus,()=>w(!0)),onBlur:Fe(u.onBlur,()=>w(!1)),onClick:Fe(u.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Fe(u.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Fe(u.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:Fe(u.onPointerMove,g=>{var b;v.current=g.pointerType,o?(b=d.onItemLeave)==null||b.call(d):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(u.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=d.onItemLeave)==null||b.call(d))}),onKeyDown:Fe(u.onKeyDown,g=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&g.key===" "||(qO.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});ck.displayName=Iu;var ql="SelectItemText",dk=_.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:o,...c}=e,u=Ki(ql,s),l=qi(ql,s),d=lk(ql,s),f=QO(ql,s),[m,h]=_.useState(null),x=ht(t,y=>h(y),d.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,d.value,d.disabled)}),w=m==null?void 0:m.textContent,j=_.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:C,onNativeOptionRemove:v}=f;return $r(()=>(C(j),()=>v(j)),[C,v,j]),r.jsxs(r.Fragment,{children:[r.jsx(st.span,{id:d.textId,...c,ref:x}),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?bc.createPortal(c.children,u.valueNode):null]})});dk.displayName=ql;var uk="SelectItemIndicator",hk=_.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return lk(uk,s).isSelected?r.jsx(st.span,{"aria-hidden":!0,...n,ref:t}):null});hk.displayName=uk;var Ap="SelectScrollUpButton",fk=_.forwardRef((e,t)=>{const s=qi(Ap,e.__scopeSelect),n=mx(Ap,e.__scopeSelect),[o,c]=_.useState(!1),u=ht(t,n.onScrollButtonChange);return $r(()=>{if(s.viewport&&s.isPositioned){let l=function(){const f=d.scrollTop>0;c(f)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),o?r.jsx(pk,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});fk.displayName=Ap;var Tp="SelectScrollDownButton",mk=_.forwardRef((e,t)=>{const s=qi(Tp,e.__scopeSelect),n=mx(Tp,e.__scopeSelect),[o,c]=_.useState(!1),u=ht(t,n.onScrollButtonChange);return $r(()=>{if(s.viewport&&s.isPositioned){let l=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;c(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),o?r.jsx(pk,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});mk.displayName=Tp;var pk=_.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...o}=e,c=qi("SelectScrollButton",s),u=_.useRef(null),l=dh(s),d=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>d(),[d]),$r(()=>{var m;const f=l().find(h=>h.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),r.jsx(st.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Fe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:Fe(o.onPointerMove,()=>{var f;(f=c.onItemLeave)==null||f.call(c),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:Fe(o.onPointerLeave,()=>{d()})})}),d6="SelectSeparator",gk=_.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(st.div,{"aria-hidden":!0,...n,ref:t})});gk.displayName=d6;var Rp="SelectArrow",u6=_.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=uh(s),c=Ki(Rp,s),u=qi(Rp,s);return c.open&&u.position==="popper"?r.jsx(fx,{...o,...n,ref:t}):null});u6.displayName=Rp;var h6="SelectBubbleInput",xk=_.forwardRef(({__scopeSelect:e,value:t,...s},n)=>{const o=_.useRef(null),c=ht(n,o),u=Jg(t);return _.useEffect(()=>{const l=o.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==t&&m){const h=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(h)}},[u,t]),r.jsx(st.select,{...s,style:{...U1,...s.style},ref:c,defaultValue:t})});xk.displayName=h6;function vk(e){return e===""||e===void 0}function yk(e){const t=qr(e),s=_.useRef(""),n=_.useRef(0),o=_.useCallback(u=>{const l=s.current+u;t(l),(function d(f){s.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),c=_.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,o,c]}function bk(e,t,s){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=f6(e,Math.max(c,0));o.length===1&&(u=u.filter(f=>f!==s));const d=u.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==s?d:void 0}function f6(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var m6=K1,wk=Y1,p6=J1,g6=Q1,x6=Z1,_k=ek,v6=nk,Ck=ak,Sk=ck,y6=dk,b6=hk,kk=fk,jk=mk,Nk=gk;const Or=m6,Fr=p6,Pr=_.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(wk,{ref:n,className:Ne("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(g6,{asChild:!0,children:r.jsx(Er,{className:"h-4 w-4 opacity-50"})})]}));Pr.displayName=wk.displayName;const Ek=_.forwardRef(({className:e,...t},s)=>r.jsx(kk,{ref:s,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(E5,{className:"h-4 w-4"})}));Ek.displayName=kk.displayName;const Pk=_.forwardRef(({className:e,...t},s)=>r.jsx(jk,{ref:s,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Er,{className:"h-4 w-4"})}));Pk.displayName=jk.displayName;const Ar=_.forwardRef(({className:e,children:t,position:s="popper",...n},o)=>r.jsx(x6,{children:r.jsxs(_k,{ref:o,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(Ek,{}),r.jsx(v6,{className:Ne("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Pk,{})]})}));Ar.displayName=_k.displayName;const w6=_.forwardRef(({className:e,...t},s)=>r.jsx(Ck,{ref:s,className:Ne("px-2 py-1.5 text-sm font-semibold",e),...t}));w6.displayName=Ck.displayName;const Dt=_.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Sk,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(b6,{children:r.jsx($t,{className:"h-4 w-4"})})}),r.jsx(y6,{children:t})]}));Dt.displayName=Sk.displayName;const _6=_.forwardRef(({className:e,...t},s)=>r.jsx(Nk,{ref:s,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));_6.displayName=Nk.displayName;const Dm={claude:{name:"Claude Code",folder:".claude",color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-950/30"},gemini:{name:"Gemini CLI",folder:".gemini",color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-950/30"},antigravity:{name:"Antigravity",folder:".agent",color:"text-purple-600",bg:"bg-purple-50",darkBg:"dark:bg-purple-950/30"}};function C6({open:e,onOpenChange:t,projectDir:s,onSynced:n}){var N,M,I;const[o,c]=_.useState("claude"),[u,l]=_.useState("antigravity"),[d,f]=_.useState(null),[m,h]=_.useState(!1),[x,w]=_.useState(!1),[j,C]=_.useState(new Set);_.useEffect(()=>{e&&s&&v()},[e,o,u,s]),_.useEffect(()=>{e&&C(new Set)},[e]);const v=async()=>{var L;h(!0);try{const B=await ue.getSyncPreview(s,o,u);f(B);const H=new Set(((L=B.files)==null?void 0:L.filter(q=>q.status==="new"||q.status==="different").map(q=>q.name))||[]);C(H)}catch(B){Y.error("Failed to load sync preview: "+B.message),f(null)}finally{h(!1)}},y=()=>{c(u),l(o)},g=L=>{const B=new Set(j);B.has(L)?B.delete(L):B.add(L),C(B)},b=()=>{var L,B;j.size===((L=d==null?void 0:d.files)==null?void 0:L.length)?C(new Set):C(new Set(((B=d==null?void 0:d.files)==null?void 0:B.map(H=>H.name))||[]))},k=async()=>{if(j.size===0){Y.error("Please select at least one file to sync");return}w(!0);try{const L=await ue.syncRules(s,o,u,Array.from(j));L.success?(Y.success(`Synced ${L.synced.length} file(s) to ${Dm[u].name}`),n==null||n(),t(!1)):Y.error(L.error||"Sync failed")}catch(L){Y.error("Sync failed: "+L.message)}finally{w(!1)}},E=L=>{switch(L){case"new":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"New"});case"different":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-700",children:"Modified"});case"identical":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-400",children:"Same"});default:return null}},P=Dm[o],T=Dm[u];return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"sm:max-w-lg",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Tr,{className:"w-5 h-5 text-indigo-500"}),"Sync Rules Between Tools"]}),r.jsx(ur,{children:"Copy rules from one AI tool's configuration to another."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),r.jsxs(Or,{value:o,onValueChange:c,children:[r.jsx(Pr,{className:"w-full",children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"claude",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),r.jsx(Dt,{value:"gemini",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),r.jsx(Dt,{value:"antigravity",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]}),r.jsx(re,{variant:"ghost",size:"icon",onClick:y,className:"mt-5",title:"Swap direction",children:r.jsx(Ag,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),r.jsxs(Or,{value:u,onValueChange:l,children:[r.jsx(Pr,{className:"w-full",children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"claude",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),r.jsx(Dt,{value:"gemini",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),r.jsx(Dt,{value:"antigravity",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsxs("div",{children:["Source: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[P.folder,"/rules/"]})]}),r.jsxs("div",{children:["Target: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[T.folder,"/rules/"]})]})]}),r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/30",children:[r.jsx("span",{className:"text-sm font-medium",children:"Rules to Sync"}),((N=d==null?void 0:d.files)==null?void 0:N.length)>0&&r.jsx(re,{variant:"ghost",size:"sm",onClick:b,className:"h-6 text-xs",children:j.size===d.files.length?"Deselect All":"Select All"})]}),r.jsx("div",{className:"max-h-64 overflow-auto",children:m?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Ze,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):d!=null&&d.error?r.jsxs("div",{className:"flex items-center gap-2 p-4 text-sm text-amber-600",children:[r.jsx($s,{className:"w-4 h-4"}),d.error]}):((M=d==null?void 0:d.files)==null?void 0:M.length)===0?r.jsx("div",{className:"p-4 text-sm text-muted-foreground text-center",children:"No rules found in source folder"}):r.jsx("div",{className:"divide-y",children:(I=d==null?void 0:d.files)==null?void 0:I.map(L=>r.jsxs("label",{className:Ne("flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-muted/30",j.has(L.name)&&"bg-primary/5"),children:[r.jsx(To,{checked:j.has(L.name),onCheckedChange:()=>g(L.name)}),r.jsx(Br,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"flex-1 text-sm",children:L.name}),E(L.status)]},L.name))})})]}),(d==null?void 0:d.files)&&j.size>0&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.size," file(s) selected for sync"]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(re,{onClick:k,disabled:x||m||j.size===0,children:x?r.jsxs(r.Fragment,{children:[r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx($t,{className:"w-4 h-4 mr-2"}),"Sync ",j.size," File(s)"]})})]})]})})}const ct=_.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));ct.displayName="Input";function px({open:e,onOpenChange:t,onSelect:s,type:n="directory",initialPath:o="~",title:c="Select Path"}){const[u,l]=_.useState(""),[d,f]=_.useState([]),[m,h]=_.useState(!1),[x,w]=_.useState(null),[j,C]=_.useState(""),[v,y]=_.useState("");_.useEffect(()=>{e&&g(o)},[e,o]);const g=async T=>{h(!0),w(null);try{const N=await ue.browse(T,n);N.error?(w(N.error),N.path&&(l(N.path),y(N.path))):(l(N.path),y(N.path),f(N.items||[]),N.home&&C(N.home))}catch(N){w(N.message)}finally{h(!1)}},b=T=>{T.type==="directory"?g(T.path):n==="file"&&(s(T.path),t(!1))},k=()=>{s(u),t(!1)},E=()=>{v&&g(v)},P=T=>{T.key==="Enter"&&E()};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[n==="directory"?r.jsx(Kr,{className:"w-5 h-5"}):r.jsx(xp,{className:"w-5 h-5"}),c]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ct,{value:v,onChange:T=>y(T.target.value),onKeyDown:P,placeholder:"Enter path...",className:"font-mono text-sm flex-1"}),r.jsx(re,{variant:"outline",size:"icon",onClick:()=>g(j||"~"),title:"Go to home",children:r.jsx(Dg,{className:"w-4 h-4"})}),r.jsx(re,{onClick:E,disabled:m,children:"Go"})]}),r.jsx("div",{className:"text-xs text-gray-500 font-mono truncate px-1",children:u}),x&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:x}),r.jsx(nn,{className:"h-64 border rounded-lg",children:m?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(Ze,{className:"w-6 h-6 animate-spin text-gray-400"})}):r.jsx("div",{className:"p-1",children:d.length===0?r.jsx("div",{className:"text-sm text-gray-500 p-4 text-center",children:n==="directory"?"No subdirectories":"No files found"}):d.map((T,N)=>r.jsxs("button",{onClick:()=>b(T),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 rounded transition-colors text-left",children:[T.type==="directory"?r.jsx(Kr,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):r.jsx(xp,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),r.jsx("span",{className:`flex-1 truncate ${T.isParent?"text-gray-500":""}`,children:T.name}),T.type==="directory"&&!T.isParent&&r.jsx(us,{className:"w-4 h-4 text-gray-400"})]},N))})})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(re,{onClick:k,disabled:!u,children:n==="directory"?"Select Folder":"Select"})]})]})})}var hh="Switch",[S6]=Ns(hh),[k6,j6]=S6(hh),Ak=_.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:o,defaultChecked:c,required:u,disabled:l,value:d="on",onCheckedChange:f,form:m,...h}=e,[x,w]=_.useState(null),j=ht(t,b=>w(b)),C=_.useRef(!1),v=x?m||!!x.closest("form"):!0,[y,g]=$n({prop:o,defaultProp:c??!1,onChange:f,caller:hh});return r.jsxs(k6,{scope:s,checked:y,disabled:l,children:[r.jsx(st.button,{type:"button",role:"switch","aria-checked":y,"aria-required":u,"data-state":Dk(y),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:j,onClick:Fe(e.onClick,b=>{g(k=>!k),v&&(C.current=b.isPropagationStopped(),C.current||b.stopPropagation())})}),v&&r.jsx(Mk,{control:x,bubbles:!C.current,name:n,value:d,checked:y,required:u,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});Ak.displayName=hh;var Tk="SwitchThumb",Rk=_.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,o=j6(Tk,s);return r.jsx(st.span,{"data-state":Dk(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Rk.displayName=Tk;var N6="SwitchBubbleInput",Mk=_.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...o},c)=>{const u=_.useRef(null),l=ht(u,c),d=Jg(s),f=Qg(t);return _.useEffect(()=>{const m=u.current;if(!m)return;const h=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==s&&w){const j=new Event("click",{bubbles:n});w.call(m,s),m.dispatchEvent(j)}},[d,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:l,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Mk.displayName=N6;function Dk(e){return e?"checked":"unchecked"}var Ik=Ak,E6=Rk;const gt=_.forwardRef(({className:e,...t},s)=>r.jsx(Ik,{className:Ne("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(E6,{className:Ne("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));gt.displayName=Ik.displayName;var Im="rovingFocusGroup.onEntryFocus",P6={bubbles:!1,cancelable:!0},Rc="RovingFocusGroup",[Mp,Lk,A6]=tx(Rc),[T6,fh]=Ns(Rc,[A6]),[R6,M6]=T6(Rc),Ok=_.forwardRef((e,t)=>r.jsx(Mp.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mp.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(D6,{...e,ref:t})})}));Ok.displayName=Rc;var D6=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=e,x=_.useRef(null),w=ht(t,x),j=Ec(c),[C,v]=$n({prop:u,defaultProp:l??null,onChange:d,caller:Rc}),[y,g]=_.useState(!1),b=qr(f),k=Lk(s),E=_.useRef(!1),[P,T]=_.useState(0);return _.useEffect(()=>{const N=x.current;if(N)return N.addEventListener(Im,b),()=>N.removeEventListener(Im,b)},[b]),r.jsx(R6,{scope:s,orientation:n,dir:j,loop:o,currentTabStopId:C,onItemFocus:_.useCallback(N=>v(N),[v]),onItemShiftTab:_.useCallback(()=>g(!0),[]),onFocusableItemAdd:_.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:_.useCallback(()=>T(N=>N-1),[]),children:r.jsx(st.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...h,ref:w,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{E.current=!0}),onFocus:Fe(e.onFocus,N=>{const M=!E.current;if(N.target===N.currentTarget&&M&&!y){const I=new CustomEvent(Im,P6);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const L=k().filter(G=>G.focusable),B=L.find(G=>G.active),H=L.find(G=>G.id===C),z=[B,H,...L].filter(Boolean).map(G=>G.ref.current);$k(z,m)}}E.current=!1}),onBlur:Fe(e.onBlur,()=>g(!1))})})}),Fk="RovingFocusGroupItem",Bk=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:o=!1,tabStopId:c,children:u,...l}=e,d=tn(),f=c||d,m=M6(Fk,s),h=m.currentTabStopId===f,x=Lk(s),{onFocusableItemAdd:w,onFocusableItemRemove:j,currentTabStopId:C}=m;return _.useEffect(()=>{if(n)return w(),()=>j()},[n,w,j]),r.jsx(Mp.ItemSlot,{scope:s,id:f,focusable:n,active:o,children:r.jsx(st.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:Fe(e.onMouseDown,v=>{n?m.onItemFocus(f):v.preventDefault()}),onFocus:Fe(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Fe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){m.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=O6(v,m.orientation,m.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=x().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const k=b.indexOf(v.currentTarget);b=m.loop?F6(b,k+1):b.slice(k+1)}setTimeout(()=>$k(b))}}),children:typeof u=="function"?u({isCurrentTabStop:h,hasTabStop:C!=null}):u})})});Bk.displayName=Fk;var I6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function O6(e,t,s){const n=L6(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return I6[n]}function $k(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function F6(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var zk=Ok,Hk=Bk;function B6(e){const t=$6(e),s=_.forwardRef((n,o)=>{const{children:c,...u}=n,l=_.Children.toArray(c),d=l.find(H6);if(d){const f=d.props.children,m=l.map(h=>h===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return r.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function $6(e){const t=_.forwardRef((s,n)=>{const{children:o,...c}=s;if(_.isValidElement(o)){const u=V6(o),l=W6(c,o.props);return o.type!==_.Fragment&&(l.ref=n?gi(n,u):u),_.cloneElement(o,l)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z6=Symbol("radix.slottable");function H6(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z6}function W6(e,t){const s={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?s[n]=(...l)=>{const d=c(...l);return o(...l),d}:o&&(s[n]=o):n==="style"?s[n]={...o,...c}:n==="className"&&(s[n]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function V6(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Dp=["Enter"," "],U6=["ArrowDown","PageUp","Home"],Wk=["ArrowUp","PageDown","End"],G6=[...U6,...Wk],K6={ltr:[...Dp,"ArrowRight"],rtl:[...Dp,"ArrowLeft"]},q6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mc="Menu",[hc,Y6,X6]=tx(Mc),[Lo,Vk]=Ns(Mc,[X6,Za,fh]),mh=Za(),Uk=fh(),[J6,Oo]=Lo(Mc),[Q6,Dc]=Lo(Mc),Gk=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:o,onOpenChange:c,modal:u=!0}=e,l=mh(t),[d,f]=_.useState(null),m=_.useRef(!1),h=qr(c),x=Ec(o);return _.useEffect(()=>{const w=()=>{m.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>m.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(dx,{...l,children:r.jsx(J6,{scope:t,open:s,onOpenChange:h,content:d,onContentChange:f,children:r.jsx(Q6,{scope:t,onClose:_.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:x,modal:u,children:n})})})};Gk.displayName=Mc;var Z6="MenuAnchor",gx=_.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,o=mh(s);return r.jsx(ux,{...o,...n,ref:t})});gx.displayName=Z6;var xx="MenuPortal",[eF,Kk]=Lo(xx,{forceMount:void 0}),qk=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:o}=e,c=Oo(xx,t);return r.jsx(eF,{scope:t,forceMount:s,children:r.jsx(Yr,{present:s||c.open,children:r.jsx(Ac,{asChild:!0,container:o,children:n})})})};qk.displayName=xx;var rn="MenuContent",[tF,vx]=Lo(rn),Yk=_.forwardRef((e,t)=>{const s=Kk(rn,e.__scopeMenu),{forceMount:n=s.forceMount,...o}=e,c=Oo(rn,e.__scopeMenu),u=Dc(rn,e.__scopeMenu);return r.jsx(hc.Provider,{scope:e.__scopeMenu,children:r.jsx(Yr,{present:n||c.open,children:r.jsx(hc.Slot,{scope:e.__scopeMenu,children:u.modal?r.jsx(rF,{...o,ref:t}):r.jsx(sF,{...o,ref:t})})})})}),rF=_.forwardRef((e,t)=>{const s=Oo(rn,e.__scopeMenu),n=_.useRef(null),o=ht(t,n);return _.useEffect(()=>{const c=n.current;if(c)return Hg(c)},[]),r.jsx(yx,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Fe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),sF=_.forwardRef((e,t)=>{const s=Oo(rn,e.__scopeMenu);return r.jsx(yx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),nF=B6("MenuContent.ScrollLock"),yx=_.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:x,onDismiss:w,disableOutsideScroll:j,...C}=e,v=Oo(rn,s),y=Dc(rn,s),g=mh(s),b=Uk(s),k=Y6(s),[E,P]=_.useState(null),T=_.useRef(null),N=ht(t,T,v.onContentChange),M=_.useRef(0),I=_.useRef(""),L=_.useRef(0),B=_.useRef(null),H=_.useRef("right"),q=_.useRef(0),z=j?rh:_.Fragment,G=j?{as:nF,allowPinchZoom:!0}:void 0,J=F=>{var X,W;const R=I.current+F,O=k().filter(ce=>!ce.disabled),V=document.activeElement,$=(X=O.find(ce=>ce.ref.current===V))==null?void 0:X.textValue,se=O.map(ce=>ce.textValue),de=gF(se,R,$),pe=(W=O.find(ce=>ce.textValue===de))==null?void 0:W.ref.current;(function ce(ie){I.current=ie,window.clearTimeout(M.current),ie!==""&&(M.current=window.setTimeout(()=>ce(""),1e3))})(R),pe&&setTimeout(()=>pe.focus())};_.useEffect(()=>()=>window.clearTimeout(M.current),[]),zg();const K=_.useCallback(F=>{var O,V;return H.current===((O=B.current)==null?void 0:O.side)&&vF(F,(V=B.current)==null?void 0:V.area)},[]);return r.jsx(tF,{scope:s,searchRef:I,onItemEnter:_.useCallback(F=>{K(F)&&F.preventDefault()},[K]),onItemLeave:_.useCallback(F=>{var R;K(F)||((R=T.current)==null||R.focus(),P(null))},[K]),onTriggerLeave:_.useCallback(F=>{K(F)&&F.preventDefault()},[K]),pointerGraceTimerRef:L,onPointerGraceIntentChange:_.useCallback(F=>{B.current=F},[]),children:r.jsx(z,{...G,children:r.jsx(eh,{asChild:!0,trapped:o,onMountAutoFocus:Fe(c,F=>{var R;F.preventDefault(),(R=T.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:r.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:x,onDismiss:w,children:r.jsx(zk,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:Fe(d,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(hx,{role:"menu","aria-orientation":"vertical","data-state":uj(v.open),"data-radix-menu-content":"",dir:y.dir,...g,...C,ref:N,style:{outline:"none",...C.style},onKeyDown:Fe(C.onKeyDown,F=>{const O=F.target.closest("[data-radix-menu-content]")===F.currentTarget,V=F.ctrlKey||F.altKey||F.metaKey,$=F.key.length===1;O&&(F.key==="Tab"&&F.preventDefault(),!V&&$&&J(F.key));const se=T.current;if(F.target!==se||!G6.includes(F.key))return;F.preventDefault();const pe=k().filter(X=>!X.disabled).map(X=>X.ref.current);Wk.includes(F.key)&&pe.reverse(),mF(pe)}),onBlur:Fe(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(M.current),I.current="")}),onPointerMove:Fe(e.onPointerMove,fc(F=>{const R=F.target,O=q.current!==F.clientX;if(F.currentTarget.contains(R)&&O){const V=F.clientX>q.current?"right":"left";H.current=V,q.current=F.clientX}}))})})})})})})});Yk.displayName=rn;var iF="MenuGroup",bx=_.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(st.div,{role:"group",...n,ref:t})});bx.displayName=iF;var oF="MenuLabel",Xk=_.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(st.div,{...n,ref:t})});Xk.displayName=oF;var Lu="MenuItem",gw="menu.itemSelect",ph=_.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...o}=e,c=_.useRef(null),u=Dc(Lu,e.__scopeMenu),l=vx(Lu,e.__scopeMenu),d=ht(t,c),f=_.useRef(!1),m=()=>{const h=c.current;if(!s&&h){const x=new CustomEvent(gw,{bubbles:!0,cancelable:!0});h.addEventListener(gw,w=>n==null?void 0:n(w),{once:!0}),jS(h,x),x.defaultPrevented?f.current=!1:u.onClose()}};return r.jsx(Jk,{...o,ref:d,disabled:s,onClick:Fe(e.onClick,m),onPointerDown:h=>{var x;(x=e.onPointerDown)==null||x.call(e,h),f.current=!0},onPointerUp:Fe(e.onPointerUp,h=>{var x;f.current||(x=h.currentTarget)==null||x.click()}),onKeyDown:Fe(e.onKeyDown,h=>{const x=l.searchRef.current!=="";s||x&&h.key===" "||Dp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ph.displayName=Lu;var Jk=_.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:o,...c}=e,u=vx(Lu,s),l=Uk(s),d=_.useRef(null),f=ht(t,d),[m,h]=_.useState(!1),[x,w]=_.useState("");return _.useEffect(()=>{const j=d.current;j&&w((j.textContent??"").trim())},[c.children]),r.jsx(hc.ItemSlot,{scope:s,disabled:n,textValue:o??x,children:r.jsx(Hk,{asChild:!0,...l,focusable:!n,children:r.jsx(st.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...c,ref:f,onPointerMove:Fe(e.onPointerMove,fc(j=>{n?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(e.onPointerLeave,fc(j=>u.onItemLeave(j))),onFocus:Fe(e.onFocus,()=>h(!0)),onBlur:Fe(e.onBlur,()=>h(!1))})})})}),aF="MenuCheckboxItem",Qk=_.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...o}=e;return r.jsx(sj,{scope:e.__scopeMenu,checked:s,children:r.jsx(ph,{role:"menuitemcheckbox","aria-checked":Ou(s)?"mixed":s,...o,ref:t,"data-state":_x(s),onSelect:Fe(o.onSelect,()=>n==null?void 0:n(Ou(s)?!0:!s),{checkForDefaultPrevented:!1})})})});Qk.displayName=aF;var Zk="MenuRadioGroup",[lF,cF]=Lo(Zk,{value:void 0,onValueChange:()=>{}}),ej=_.forwardRef((e,t)=>{const{value:s,onValueChange:n,...o}=e,c=qr(n);return r.jsx(lF,{scope:e.__scopeMenu,value:s,onValueChange:c,children:r.jsx(bx,{...o,ref:t})})});ej.displayName=Zk;var tj="MenuRadioItem",rj=_.forwardRef((e,t)=>{const{value:s,...n}=e,o=cF(tj,e.__scopeMenu),c=s===o.value;return r.jsx(sj,{scope:e.__scopeMenu,checked:c,children:r.jsx(ph,{role:"menuitemradio","aria-checked":c,...n,ref:t,"data-state":_x(c),onSelect:Fe(n.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,s)},{checkForDefaultPrevented:!1})})})});rj.displayName=tj;var wx="MenuItemIndicator",[sj,dF]=Lo(wx,{checked:!1}),nj=_.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...o}=e,c=dF(wx,s);return r.jsx(Yr,{present:n||Ou(c.checked)||c.checked===!0,children:r.jsx(st.span,{...o,ref:t,"data-state":_x(c.checked)})})});nj.displayName=wx;var uF="MenuSeparator",ij=_.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ij.displayName=uF;var hF="MenuArrow",oj=_.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,o=mh(s);return r.jsx(fx,{...o,...n,ref:t})});oj.displayName=hF;var fF="MenuSub",[VW,aj]=Lo(fF),Yl="MenuSubTrigger",lj=_.forwardRef((e,t)=>{const s=Oo(Yl,e.__scopeMenu),n=Dc(Yl,e.__scopeMenu),o=aj(Yl,e.__scopeMenu),c=vx(Yl,e.__scopeMenu),u=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=c,f={__scopeMenu:e.__scopeMenu},m=_.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return _.useEffect(()=>m,[m]),_.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),d(null)}},[l,d]),r.jsx(gx,{asChild:!0,...f,children:r.jsx(Jk,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":o.contentId,"data-state":uj(s.open),...e,ref:gi(t,o.onTriggerChange),onClick:h=>{var x;(x=e.onClick)==null||x.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Fe(e.onPointerMove,fc(h=>{c.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{s.onOpenChange(!0),m()},100))})),onPointerLeave:Fe(e.onPointerLeave,fc(h=>{var w,j;m();const x=(w=s.content)==null?void 0:w.getBoundingClientRect();if(x){const C=(j=s.content)==null?void 0:j.dataset.side,v=C==="right",y=v?-5:5,g=x[v?"left":"right"],b=x[v?"right":"left"];c.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:g,y:x.top},{x:b,y:x.top},{x:b,y:x.bottom},{x:g,y:x.bottom}],side:C}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(h),h.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(e.onKeyDown,h=>{var w;const x=c.searchRef.current!=="";e.disabled||x&&h.key===" "||K6[n.dir].includes(h.key)&&(s.onOpenChange(!0),(w=s.content)==null||w.focus(),h.preventDefault())})})})});lj.displayName=Yl;var cj="MenuSubContent",dj=_.forwardRef((e,t)=>{const s=Kk(rn,e.__scopeMenu),{forceMount:n=s.forceMount,...o}=e,c=Oo(rn,e.__scopeMenu),u=Dc(rn,e.__scopeMenu),l=aj(cj,e.__scopeMenu),d=_.useRef(null),f=ht(t,d);return r.jsx(hc.Provider,{scope:e.__scopeMenu,children:r.jsx(Yr,{present:n||c.open,children:r.jsx(hc.Slot,{scope:e.__scopeMenu,children:r.jsx(yx,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:f,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;u.isUsingKeyboardRef.current&&((h=d.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Fe(e.onFocusOutside,m=>{m.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Fe(e.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Fe(e.onKeyDown,m=>{var w;const h=m.currentTarget.contains(m.target),x=q6[u.dir].includes(m.key);h&&x&&(c.onOpenChange(!1),(w=l.trigger)==null||w.focus(),m.preventDefault())})})})})})});dj.displayName=cj;function uj(e){return e?"open":"closed"}function Ou(e){return e==="indeterminate"}function _x(e){return Ou(e)?"indeterminate":e?"checked":"unchecked"}function mF(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function pF(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function gF(e,t,s){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=pF(e,Math.max(c,0));o.length===1&&(u=u.filter(f=>f!==s));const d=u.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return d!==s?d:void 0}function xF(e,t){const{x:s,y:n}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const l=t[c],d=t[u],f=l.x,m=l.y,h=d.x,x=d.y;m>n!=x>n&&s<(h-f)*(n-m)/(x-m)+f&&(o=!o)}return o}function vF(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return xF(s,t)}function fc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yF=Gk,bF=gx,wF=qk,_F=Yk,CF=bx,SF=Xk,kF=ph,jF=Qk,NF=ej,EF=rj,PF=nj,AF=ij,TF=oj,RF=lj,MF=dj,gh="DropdownMenu",[DF]=Ns(gh,[Vk]),hs=Vk(),[IF,hj]=DF(gh),fj=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:o,defaultOpen:c,onOpenChange:u,modal:l=!0}=e,d=hs(t),f=_.useRef(null),[m,h]=$n({prop:o,defaultProp:c??!1,onChange:u,caller:gh});return r.jsx(IF,{scope:t,triggerId:tn(),triggerRef:f,contentId:tn(),open:m,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(x=>!x),[h]),modal:l,children:r.jsx(yF,{...d,open:m,onOpenChange:h,dir:n,modal:l,children:s})})};fj.displayName=gh;var mj="DropdownMenuTrigger",pj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...o}=e,c=hj(mj,s),u=hs(s);return r.jsx(bF,{asChild:!0,...u,children:r.jsx(st.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:gi(t,c.triggerRef),onPointerDown:Fe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:Fe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pj.displayName=mj;var LF="DropdownMenuPortal",gj=e=>{const{__scopeDropdownMenu:t,...s}=e,n=hs(t);return r.jsx(wF,{...n,...s})};gj.displayName=LF;var xj="DropdownMenuContent",vj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hj(xj,s),c=hs(s),u=_.useRef(!1);return r.jsx(_F,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...n,ref:t,onCloseAutoFocus:Fe(e.onCloseAutoFocus,l=>{var d;u.current||(d=o.triggerRef.current)==null||d.focus(),u.current=!1,l.preventDefault()}),onInteractOutside:Fe(e.onInteractOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!o.modal||m)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vj.displayName=xj;var OF="DropdownMenuGroup",FF=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(CF,{...o,...n,ref:t})});FF.displayName=OF;var BF="DropdownMenuLabel",yj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(SF,{...o,...n,ref:t})});yj.displayName=BF;var $F="DropdownMenuItem",bj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(kF,{...o,...n,ref:t})});bj.displayName=$F;var zF="DropdownMenuCheckboxItem",wj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(jF,{...o,...n,ref:t})});wj.displayName=zF;var HF="DropdownMenuRadioGroup",WF=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(NF,{...o,...n,ref:t})});WF.displayName=HF;var VF="DropdownMenuRadioItem",_j=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(EF,{...o,...n,ref:t})});_j.displayName=VF;var UF="DropdownMenuItemIndicator",Cj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(PF,{...o,...n,ref:t})});Cj.displayName=UF;var GF="DropdownMenuSeparator",Sj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(AF,{...o,...n,ref:t})});Sj.displayName=GF;var KF="DropdownMenuArrow",qF=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(TF,{...o,...n,ref:t})});qF.displayName=KF;var YF="DropdownMenuSubTrigger",kj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(RF,{...o,...n,ref:t})});kj.displayName=YF;var XF="DropdownMenuSubContent",jj=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=hs(s);return r.jsx(MF,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jj.displayName=XF;var JF=fj,QF=pj,ZF=gj,Nj=vj,Ej=yj,Pj=bj,Aj=wj,Tj=_j,Rj=Cj,Mj=Sj,Dj=kj,Ij=jj;const mi=JF,pi=QF,eB=_.forwardRef(({className:e,inset:t,children:s,...n},o)=>r.jsxs(Dj,{ref:o,className:Ne("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[s,r.jsx(us,{className:"ml-auto"})]}));eB.displayName=Dj.displayName;const tB=_.forwardRef(({className:e,...t},s)=>r.jsx(Ij,{ref:s,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tB.displayName=Ij.displayName;const Hn=_.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(ZF,{children:r.jsx(Nj,{ref:n,sideOffset:t,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Hn.displayName=Nj.displayName;const zt=_.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(Pj,{ref:n,className:Ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));zt.displayName=Pj.displayName;const mc=_.forwardRef(({className:e,children:t,checked:s,...n},o)=>r.jsxs(Aj,{ref:o,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Rj,{children:r.jsx($t,{className:"h-4 w-4"})})}),t]}));mc.displayName=Aj.displayName;const rB=_.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Tj,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Rj,{children:r.jsx(D5,{className:"h-2 w-2 fill-current"})})}),t]}));rB.displayName=Tj.displayName;const pc=_.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(Ej,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));pc.displayName=Ej.displayName;const ds=_.forwardRef(({className:e,...t},s)=>r.jsx(Mj,{ref:s,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));ds.displayName=Mj.displayName;const xw={development:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",productivity:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",integration:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",external:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",lsp:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};function sB({plugin:e,onToggle:t,isToggling:s,projectDir:n}){const o=xw[e.category]||xw.default;return e.mcpServers||e.lspServers||e.commands,r.jsxs(Pa.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`
        relative p-3 rounded-lg border transition-all
        ${e.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700"}
      `,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),e.sourceType==="external"&&r.jsx(Eo,{className:"w-3 h-3 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.description||"No description"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.category&&r.jsx(et,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${o}`,children:e.category}),e.lspServers&&r.jsxs(et,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",children:[r.jsx(Bn,{className:"w-2.5 h-2.5 mr-0.5"}),"LSP"]}),e.mcpServers&&r.jsxs(et,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[r.jsx(zs,{className:"w-2.5 h-2.5 mr-0.5"}),"MCP"]}),e.version&&r.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",e.version]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(gt,{checked:e.installed,onCheckedChange:()=>t(e),disabled:s===e.name,className:"data-[state=checked]:bg-green-600"})})]}),s===e.name&&r.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 rounded-lg flex items-center justify-center",children:r.jsx(Ze,{className:"w-5 h-5 animate-spin text-indigo-600"})})]})}function nB({open:e,onOpenChange:t,projectDir:s,projectName:n}){const[o,c]=_.useState(!0),[u,l]=_.useState({allPlugins:[],categories:[]}),[d,f]=_.useState(""),[m,h]=_.useState("project"),[x,w]=_.useState([]),[j,C]=_.useState(!0),[v,y]=_.useState(!0),[g,b]=_.useState(null),k=async()=>{c(!0);try{const I=await ue.getPlugins();l(I)}catch(I){Y.error("Failed to load plugins: "+I.message)}finally{c(!1)}};_.useEffect(()=>{e&&(k(),f(""))},[e]);const E=_.useMemo(()=>{let I=u.allPlugins||[];if(d){const L=d.toLowerCase();I=I.filter(B=>{var H,q;return((H=B.name)==null?void 0:H.toLowerCase().includes(L))||((q=B.description)==null?void 0:q.toLowerCase().includes(L))})}return I=I.filter(L=>!(L.sourceType==="external"&&!j||L.sourceType==="internal"&&!v)),x.length>0&&(I=I.filter(L=>x.includes(L.category))),I.sort((L,B)=>L.installed&&!B.installed?-1:!L.installed&&B.installed?1:L.name.localeCompare(B.name)),I},[u.allPlugins,d,j,v,x]),P=I=>{w(L=>L.includes(I)?L.filter(B=>B!==I):[...L,I])},T=async I=>{b(I.name);try{if(I.installed){const L=await ue.uninstallPlugin(`${I.name}@${I.marketplace}`);L.success?Y.success(`Uninstalled ${I.name}`):Y.error(L.error||"Failed to uninstall")}else{const L=await ue.installPlugin(I.name,I.marketplace,m,s);L.success?Y.success(`Installed ${I.name} (${m})`):Y.error(L.error||"Failed to install")}await k()}catch(L){Y.error("Operation failed: "+L.message)}finally{b(null)}},N=E.filter(I=>I.installed).length,M=E.filter(I=>!I.installed).length;return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-2xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[r.jsxs(vt,{className:"px-6 pt-6 pb-4 border-b dark:border-slate-800",children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"w-5 h-5 text-indigo-600"}),"Install Plugins",n&&r.jsx(et,{variant:"outline",className:"ml-2 font-normal",children:n})]}),r.jsx(ur,{children:"Enable plugins for enhanced Claude Code capabilities"})]}),r.jsxs("div",{className:"px-6 py-3 border-b dark:border-slate-800 space-y-3 bg-gray-50 dark:bg-slate-900/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jc,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(ct,{value:d,onChange:I=>f(I.target.value),placeholder:"Search plugins...",className:"pl-9 h-9 bg-white dark:bg-slate-800"})]}),r.jsxs(Or,{value:m,onValueChange:h,children:[r.jsx(Pr,{className:"w-36 h-9 bg-white dark:bg-slate-800",children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"project",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(tS,{className:"w-3.5 h-3.5"}),"Project"]})}),r.jsx(Dt,{value:"user",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Eo,{className:"w-3.5 h-3.5"}),"Global"]})}),r.jsx(Dt,{value:"local",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-3.5 h-3.5"}),"Local"]})})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",children:[r.jsx(Mg,{className:"w-3 h-3"}),"Category",x.length>0&&r.jsx(et,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:x.length}),r.jsx(Er,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Hn,{align:"start",className:"w-48",children:[r.jsx(pc,{className:"text-xs",children:"Categories"}),r.jsx(ds,{}),(u.categories||[]).map(I=>r.jsx(mc,{checked:x.includes(I),onCheckedChange:()=>P(I),children:I},I)),x.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(ds,{}),r.jsx(mc,{checked:!1,onCheckedChange:()=>w([]),children:"Clear all"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 ml-auto text-xs",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:v,onCheckedChange:y,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Anthropic"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:j,onCheckedChange:C,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Community"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-3 h-3 text-green-600"}),N," installed"]}),r.jsxs("span",{children:[M," available"]}),r.jsxs("span",{className:"ml-auto",children:[E.length," shown"]})]})]}),r.jsx(nn,{className:"flex-1 min-h-0 px-6 py-4",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Ze,{className:"w-6 h-6 animate-spin text-indigo-600"})}):E.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400",children:[r.jsx(Po,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No plugins found"}),d&&r.jsx(re,{variant:"link",size:"sm",onClick:()=>f(""),className:"mt-2",children:"Clear search"})]}):r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsx(j_,{mode:"popLayout",children:E.map(I=>r.jsx(sB,{plugin:I,onToggle:T,isToggling:g,projectDir:s},`${I.name}@${I.marketplace}`))})})}),r.jsxs("div",{className:"px-6 py-3 border-t dark:border-slate-800 flex items-center justify-between bg-gray-50 dark:bg-slate-900/50",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500",children:"Plugins extend Claude Code with LSP servers, MCP tools, and commands"}),r.jsx(re,{variant:"outline",size:"sm",onClick:()=>t(!1),children:"Done"})]})]})})}var Lm={exports:{}},vw;function iB(){return vw||(vw=1,(function(e,t){(function(s,n){e.exports=n()})(globalThis,(()=>(()=>{var s={4567:function(u,l,d){var f=this&&this.__decorate||function(g,b,k,E){var P,T=arguments.length,N=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,k):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,k,E);else for(var M=g.length-1;M>=0;M--)(P=g[M])&&(N=(T<3?P(N):T>3?P(b,k,N):P(b,k))||N);return T>3&&N&&Object.defineProperty(b,k,N),N},m=this&&this.__param||function(g,b){return function(k,E){b(k,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=d(9042),x=d(9924),w=d(844),j=d(4725),C=d(2585),v=d(3656);let y=l.AccessibilityManager=class extends w.Disposable{constructor(g,b,k,E){super(),this._terminal=g,this._coreBrowserService=k,this._renderService=E,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let P=0;P<this._terminal.rows;P++)this._rowElements[P]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[P]);if(this._topBoundaryFocusListener=P=>this._handleBoundaryFocus(P,0),this._bottomBoundaryFocusListener=P=>this._handleBoundaryFocus(P,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((P=>this._handleResize(P.rows)))),this.register(this._terminal.onRender((P=>this._refreshRows(P.start,P.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((P=>this._handleChar(P)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((P=>this._handleTab(P)))),this.register(this._terminal.onKey((P=>this._handleKey(P.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,v.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,w.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(g){for(let b=0;b<g;b++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,b){this._liveRegionDebouncer.refresh(g,b,this._terminal.rows)}_renderRows(g,b){const k=this._terminal.buffer,E=k.lines.length.toString();for(let P=g;P<=b;P++){const T=k.lines.get(k.ydisp+P),N=[],M=(T==null?void 0:T.translateToString(!0,void 0,void 0,N))||"",I=(k.ydisp+P+1).toString(),L=this._rowElements[P];L&&(M.length===0?(L.innerText="",this._rowColumns.set(L,[0,1])):(L.textContent=M,this._rowColumns.set(L,N)),L.setAttribute("aria-posinset",I),L.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,b){const k=g.target,E=this._rowElements[b===0?1:this._rowElements.length-2];if(k.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==E)return;let P,T;if(b===0?(P=k,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(P=this._rowElements.shift(),T=k,this._rowContainer.removeChild(P)),P.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const N=this._createAccessibilityTreeNode();this._rowElements.unshift(N),this._rowContainer.insertAdjacentElement("afterbegin",N)}else{const N=this._createAccessibilityTreeNode();this._rowElements.push(N),this._rowContainer.appendChild(N)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleSelectionChange(){var M;if(this._rowElements.length===0)return;const g=document.getSelection();if(!g)return;if(g.isCollapsed)return void(this._rowContainer.contains(g.anchorNode)&&this._terminal.clearSelection());if(!g.anchorNode||!g.focusNode)return void console.error("anchorNode and/or focusNode are null");let b={node:g.anchorNode,offset:g.anchorOffset},k={node:g.focusNode,offset:g.focusOffset};if((b.node.compareDocumentPosition(k.node)&Node.DOCUMENT_POSITION_PRECEDING||b.node===k.node&&b.offset>k.offset)&&([b,k]=[k,b]),b.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(b={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(b.node))return;const E=this._rowElements.slice(-1)[0];if(k.node.compareDocumentPosition(E)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(k={node:E,offset:((M=E.textContent)==null?void 0:M.length)??0}),!this._rowContainer.contains(k.node))return;const P=({node:I,offset:L})=>{const B=I instanceof Text?I.parentNode:I;let H=parseInt(B==null?void 0:B.getAttribute("aria-posinset"),10)-1;if(isNaN(H))return console.warn("row is invalid. Race condition?"),null;const q=this._rowColumns.get(B);if(!q)return console.warn("columns is null. Race condition?"),null;let z=L<q.length?q[L]:q.slice(-1)[0]+1;return z>=this._terminal.cols&&(++H,z=0),{row:H,column:z}},T=P(b),N=P(k);if(T&&N){if(T.row>N.row||T.row===N.row&&T.column>=N.column)throw new Error("invalid range");this._terminal.select(T.column,T.row,(N.row-T.row)*this._terminal.cols-T.column+N.column)}}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=this._coreBrowserService.mainDocument.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=y=f([m(1,C.IInstantiationService),m(2,j.ICoreBrowserService),m(3,j.IRenderService)],y)},3614:(u,l)=>{function d(x){return x.replace(/\r?\n/g,"\r")}function f(x,w){return w?"\x1B[200~"+x+"\x1B[201~":x}function m(x,w,j,C){x=f(x=d(x),j.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),j.triggerDataEvent(x,!0),w.value=""}function h(x,w,j){const C=j.getBoundingClientRect(),v=x.clientX-C.left-10,y=x.clientY-C.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${v}px`,w.style.top=`${y}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=d,l.bracketTextForPaste=f,l.copyHandler=function(x,w){x.clipboardData&&x.clipboardData.setData("text/plain",w.selectionText),x.preventDefault()},l.handlePasteEvent=function(x,w,j,C){x.stopPropagation(),x.clipboardData&&m(x.clipboardData.getData("text/plain"),w,j,C)},l.paste=m,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(x,w,j,C,v){h(x,w,j),v&&C.rightClickSelect(x),w.value=C.selectionText,w.select()}},7239:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const f=d(1505);l.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(m,h,x){this._css.set(m,h,x)}getCss(m,h){return this._css.get(m,h)}setColor(m,h,x){this._color.set(m,h,x)}getColor(m,h){return this._color.get(m,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(d,f,m,h){d.addEventListener(f,m,h);let x=!1;return{dispose:()=>{x||(x=!0,d.removeEventListener(f,m,h))}}}},3551:function(u,l,d){var f=this&&this.__decorate||function(y,g,b,k){var E,P=arguments.length,T=P<3?g:k===null?k=Object.getOwnPropertyDescriptor(g,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,g,b,k);else for(var N=y.length-1;N>=0;N--)(E=y[N])&&(T=(P<3?E(T):P>3?E(g,b,T):E(g,b))||T);return P>3&&T&&Object.defineProperty(g,b,T),T},m=this&&this.__param||function(y,g){return function(b,k){g(b,k,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier=void 0;const h=d(3656),x=d(8460),w=d(844),j=d(2585),C=d(4725);let v=l.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(y,g,b,k,E){super(),this._element=y,this._mouseService=g,this._renderService=b,this._bufferService=k,this._linkProviderService=E,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new x.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new x.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)((()=>{var P;this._lastMouseEvent=void 0,(P=this._activeProviderReplies)==null||P.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(y){this._lastMouseEvent=y;const g=this._positionFromMouseEvent(y,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const b=y.composedPath();for(let k=0;k<b.length;k++){const E=b[k];if(E.classList.contains("xterm"))break;if(E.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(y){if(this._activeLine!==y.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(y,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,y)||(this._clearCurrentLink(),this._askForLink(y,!0))}_askForLink(y,g){var k,E;this._activeProviderReplies&&g||((k=this._activeProviderReplies)==null||k.forEach((P=>{P==null||P.forEach((T=>{T.link.dispose&&T.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=y.y);let b=!1;for(const[P,T]of this._linkProviderService.linkProviders.entries())g?(E=this._activeProviderReplies)!=null&&E.get(P)&&(b=this._checkLinkProviderResult(P,y,b)):T.provideLinks(y.y,(N=>{var I,L;if(this._isMouseOut)return;const M=N==null?void 0:N.map((B=>({link:B})));(I=this._activeProviderReplies)==null||I.set(P,M),b=this._checkLinkProviderResult(P,y,b),((L=this._activeProviderReplies)==null?void 0:L.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(y.y,this._activeProviderReplies)}))}_removeIntersectingLinks(y,g){const b=new Set;for(let k=0;k<g.size;k++){const E=g.get(k);if(E)for(let P=0;P<E.length;P++){const T=E[P],N=T.link.range.start.y<y?0:T.link.range.start.x,M=T.link.range.end.y>y?this._bufferService.cols:T.link.range.end.x;for(let I=N;I<=M;I++){if(b.has(I)){E.splice(P--,1);break}b.add(I)}}}}_checkLinkProviderResult(y,g,b){var P;if(!this._activeProviderReplies)return b;const k=this._activeProviderReplies.get(y);let E=!1;for(let T=0;T<y;T++)this._activeProviderReplies.has(T)&&!this._activeProviderReplies.get(T)||(E=!0);if(!E&&k){const T=k.find((N=>this._linkAtPosition(N.link,g)));T&&(b=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!b)for(let T=0;T<this._activeProviderReplies.size;T++){const N=(P=this._activeProviderReplies.get(T))==null?void 0:P.find((M=>this._linkAtPosition(M.link,g)));if(N){b=!0,this._handleNewLink(N);break}}return b}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(y){if(!this._currentLink)return;const g=this._positionFromMouseEvent(y,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(y,this._currentLink.link.text)}_clearCurrentLink(y,g){this._currentLink&&this._lastMouseEvent&&(!y||!g||this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(y){if(!this._lastMouseEvent)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(y.link,g)&&(this._currentLink=y,this._currentLink.state={decorations:{underline:y.link.decorations===void 0||y.link.decorations.underline,pointerCursor:y.link.decorations===void 0||y.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,y.link,this._lastMouseEvent),y.link.decorations={},Object.defineProperties(y.link.decorations,{pointerCursor:{get:()=>{var b,k;return(k=(b=this._currentLink)==null?void 0:b.state)==null?void 0:k.decorations.pointerCursor},set:b=>{var k;(k=this._currentLink)!=null&&k.state&&this._currentLink.state.decorations.pointerCursor!==b&&(this._currentLink.state.decorations.pointerCursor=b,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",b))}},underline:{get:()=>{var b,k;return(k=(b=this._currentLink)==null?void 0:b.state)==null?void 0:k.decorations.underline},set:b=>{var k,E,P;(k=this._currentLink)!=null&&k.state&&((P=(E=this._currentLink)==null?void 0:E.state)==null?void 0:P.decorations.underline)!==b&&(this._currentLink.state.decorations.underline=b,this._currentLink.state.isHovered&&this._fireUnderlineEvent(y.link,b))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((b=>{if(!this._currentLink)return;const k=b.start===0?0:b.start+1+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.ydisp+1+b.end;if(this._currentLink.link.range.start.y>=k&&this._currentLink.link.range.end.y<=E&&(this._clearCurrentLink(k,E),this._lastMouseEvent)){const P=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);P&&this._askForLink(P,!1)}}))))}_linkHover(y,g,b){var k;(k=this._currentLink)!=null&&k.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&y.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(b,g.text)}_fireUnderlineEvent(y,g){const b=y.range,k=this._bufferService.buffer.ydisp,E=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-k-1,b.end.x,b.end.y-k-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(E)}_linkLeave(y,g,b){var k;(k=this._currentLink)!=null&&k.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&y.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(b,g.text)}_linkAtPosition(y,g){const b=y.range.start.y*this._bufferService.cols+y.range.start.x,k=y.range.end.y*this._bufferService.cols+y.range.end.x,E=g.y*this._bufferService.cols+g.x;return b<=E&&E<=k}_positionFromMouseEvent(y,g,b){const k=b.getCoords(y,g,this._bufferService.cols,this._bufferService.rows);if(k)return{x:k[0],y:k[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(y,g,b,k,E){return{x1:y,y1:g,x2:b,y2:k,cols:this._bufferService.cols,fg:E}}};l.Linkifier=v=f([m(1,C.IMouseService),m(2,C.IRenderService),m(3,j.IBufferService),m(4,C.ILinkProviderService)],v)},9042:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,l,d){var f=this&&this.__decorate||function(C,v,y,g){var b,k=arguments.length,E=k<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(C,v,y,g);else for(var P=C.length-1;P>=0;P--)(b=C[P])&&(E=(k<3?b(E):k>3?b(v,y,E):b(v,y))||E);return k>3&&E&&Object.defineProperty(v,y,E),E},m=this&&this.__param||function(C,v){return function(y,g){v(y,g,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=d(511),x=d(2585);let w=l.OscLinkProvider=class{constructor(C,v,y){this._bufferService=C,this._optionsService=v,this._oscLinkService=y}provideLinks(C,v){var M;const y=this._bufferService.buffer.lines.get(C-1);if(!y)return void v(void 0);const g=[],b=this._optionsService.rawOptions.linkHandler,k=new h.CellData,E=y.getTrimmedLength();let P=-1,T=-1,N=!1;for(let I=0;I<E;I++)if(T!==-1||y.hasContent(I)){if(y.loadCell(I,k),k.hasExtendedAttrs()&&k.extended.urlId){if(T===-1){T=I,P=k.extended.urlId;continue}N=k.extended.urlId!==P}else T!==-1&&(N=!0);if(N||T!==-1&&I===E-1){const L=(M=this._oscLinkService.getLinkData(P))==null?void 0:M.uri;if(L){const B={start:{x:T+1,y:C},end:{x:I+(N||I!==E-1?0:1),y:C}};let H=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const q=new URL(L);["http:","https:"].includes(q.protocol)||(H=!0)}catch{H=!0}H||g.push({text:L,range:B,activate:(q,z)=>b?b.activate(q,z,B):j(0,z),hover:(q,z)=>{var G;return(G=b==null?void 0:b.hover)==null?void 0:G.call(b,q,z,B)},leave:(q,z)=>{var G;return(G=b==null?void 0:b.leave)==null?void 0:G.call(b,q,z,B)}})}N=!1,k.hasExtendedAttrs()&&k.extended.urlId?(T=I,P=k.extended.urlId):(T=-1,P=-1)}}v(g)}};function j(C,v){if(confirm(`Do you want to navigate to ${v}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=v}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=w=f([m(0,x.IBufferService),m(1,x.IOptionsService),m(2,x.IOscLinkService)],w)},6193:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(d,f){this._renderCallback=d,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(d){return this._refreshCallbacks.push(d),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(d,f,m){this._rowCount=m,d=d!==void 0?d:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const d=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const d of this._refreshCallbacks)d(0);this._refreshCallbacks=[]}}},3236:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const f=d(3614),m=d(3656),h=d(3551),x=d(9042),w=d(3730),j=d(1680),C=d(3107),v=d(5744),y=d(2950),g=d(1296),b=d(428),k=d(4269),E=d(5114),P=d(8934),T=d(3230),N=d(9312),M=d(4725),I=d(6731),L=d(8055),B=d(8969),H=d(8460),q=d(844),z=d(6114),G=d(8437),J=d(2584),K=d(7399),F=d(5941),R=d(9074),O=d(2585),V=d(5435),$=d(4567),se=d(779);class de extends B.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new H.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new H.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new H.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new H.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new H.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new H.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new H.EventEmitter),this._onBlur=this.register(new H.EventEmitter),this._onA11yCharEmitter=this.register(new H.EventEmitter),this._onA11yTabEmitter=this.register(new H.EventEmitter),this._onWillOpen=this.register(new H.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(R.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(se.LinkProviderService),this._instantiationService.setService(M.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((W,ce)=>this.refresh(W,ce)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((W=>this._reportWindowsOptions(W)))),this.register(this._inputHandler.onColor((W=>this._handleColorEvent(W)))),this.register((0,H.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,H.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((W=>this._afterResize(W.cols,W.rows)))),this.register((0,q.toDisposable)((()=>{var W,ce;this._customKeyEventHandler=void 0,(ce=(W=this.element)==null?void 0:W.parentNode)==null||ce.removeChild(this.element)})))}_handleColorEvent(X){if(this._themeService)for(const W of X){let ce,ie="";switch(W.index){case 256:ce="foreground",ie="10";break;case 257:ce="background",ie="11";break;case 258:ce="cursor",ie="12";break;default:ce="ansi",ie="4;"+W.index}switch(W.type){case 0:const Q=L.color.toColorRGB(ce==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[ce]);this.coreService.triggerDataEvent(`${J.C0.ESC}]${ie};${(0,F.toRgbString)(Q)}${J.C1_ESCAPED.ST}`);break;case 1:if(ce==="ansi")this._themeService.modifyColors((le=>le.ansi[W.index]=L.channels.toColor(...W.color)));else{const le=ce;this._themeService.modifyColors((we=>we[le]=L.channels.toColor(...W.color)))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return(X=this.textarea)==null?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const X=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(X);if(!W)return;const ce=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,Q=W.getWidth(ce),le=this._renderService.dimensions.css.cell.width*Q,we=this.buffer.y*this._renderService.dimensions.css.cell.height,Le=ce*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Le+"px",this.textarea.style.top=we+"px",this.textarea.style.width=le+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",(W=>{this.hasSelection()&&(0,f.copyHandler)(W,this._selectionService)})));const X=W=>(0,f.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,m.addDisposableDomListener)(this.element,"paste",X)),z.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",(W=>{W.button===2&&(0,f.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",(W=>{(0,f.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),z.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",(W=>{W.button===1&&(0,f.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",(X=>this._keyUp(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",(X=>this._keyDown(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",(X=>this._keyPress(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",(X=>this._compositionHelper.compositionupdate(X)))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,m.addDisposableDomListener)(this.textarea,"input",(X=>this._inputEvent(X)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(X){var ce;if(!X)throw new Error("Terminal requires a parent element.");if(X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((ce=this.element)==null?void 0:ce.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=X.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const W=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),W.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,m.addDisposableDomListener)(this.screenElement,"mousemove",(ie=>this.updateCursorStyle(ie)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),W.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",x.promptLabel),z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,X.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(M.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",(ie=>this._handleTextAreaFocus(ie)))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(b.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(M.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(I.ThemeService),this._instantiationService.setService(M.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(k.CharacterJoinerService),this._instantiationService.setService(M.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(M.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ie=>this._onRender.fire(ie)))),this.onResize((ie=>this._renderService.resize(ie.cols,ie.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(M.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(W);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(j.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(N.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(M.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",(ie=>this._selectionService.handleMouseDown(ie)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ie=>this._handleScreenReaderModeOptionChange(ie)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const X=this,W=this.element;function ce(le){const we=X._mouseService.getMouseReportCoords(le,X.screenElement);if(!we)return!1;let Le,Ke;switch(le.overrideType||le.type){case"mousemove":Ke=32,le.buttons===void 0?(Le=3,le.button!==void 0&&(Le=le.button<3?le.button:3)):Le=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":Ke=0,Le=le.button<3?le.button:3;break;case"mousedown":Ke=1,Le=le.button<3?le.button:3;break;case"wheel":if(X._customWheelEventHandler&&X._customWheelEventHandler(le)===!1||X.viewport.getLinesScrolled(le)===0)return!1;Ke=le.deltaY<0?0:1,Le=4;break;default:return!1}return!(Ke===void 0||Le===void 0||Le>4)&&X.coreMouseService.triggerMouseEvent({col:we.col,row:we.row,x:we.x,y:we.y,button:Le,action:Ke,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:le=>(ce(le),le.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(le)),wheel:le=>(ce(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&ce(le)},mousemove:le=>{le.buttons||ce(le)}};this.register(this.coreMouseService.onProtocolChange((le=>{le?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?ie.mousemove||(W.addEventListener("mousemove",Q.mousemove),ie.mousemove=Q.mousemove):(W.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&le?ie.wheel||(W.addEventListener("wheel",Q.wheel,{passive:!1}),ie.wheel=Q.wheel):(W.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&le?ie.mouseup||(ie.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&le?ie.mousedrag||(ie.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)(W,"mousedown",(le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return ce(le),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(le)}))),this.register((0,m.addDisposableDomListener)(W,"wheel",(le=>{if(!ie.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(le)===!1)return!1;if(!this.buffer.hasScrollback){const we=this.viewport.getLinesScrolled(le);if(we===0)return;const Le=J.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let Ke="";for(let fe=0;fe<Math.abs(we);fe++)Ke+=Le;return this.coreService.triggerDataEvent(Ke,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}}),{passive:!1})),this.register((0,m.addDisposableDomListener)(W,"touchstart",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)}),{passive:!0})),this.register((0,m.addDisposableDomListener)(W,"touchmove",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)}),{passive:!1}))}refresh(X,W){var ce;(ce=this._renderService)==null||ce.refreshRows(X,W)}updateCursorStyle(X){var W;(W=this._selectionService)!=null&&W.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,W,ce=0){var ie;ce===1?(super.scrollLines(X,W,ce),this.refresh(0,this.rows-1)):(ie=this.viewport)==null||ie.scrollLines(X)}paste(X){(0,f.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}attachCustomWheelEventHandler(X){this._customWheelEventHandler=X}registerLinkProvider(X){return this._linkProviderService.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,W,ce){this._selectionService.setSelection(X,W,ce)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;(X=this._selectionService)==null||X.clearSelection()}selectAll(){var X;(X=this._selectionService)==null||X.selectAll()}selectLines(X,W){var ce;(ce=this._selectionService)==null||ce.selectLines(X,W)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!W&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||X.key!=="Dead"&&X.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ce=(0,K.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),ce.type===3||ce.type===2){const ie=this.rows-1;return this.scrollLines(ce.type===2?-ie:ie),this.cancel(X,!0)}return ce.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(ce.cancel&&this.cancel(X,!0),!ce.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&X.key.length===1&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ce.key!==J.C0.ETX&&ce.key!==J.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ce.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(ce.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,W){const ce=X.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||X.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||X.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?ce:ce&&(!W.keyCode||W.keyCode>47)}_keyUp(X){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1||((function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18})(X)||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;if(this.cancel(X),X.charCode)W=X.charCode;else if(X.which===null||X.which===void 0)W=X.keyCode;else{if(X.which===0||X.charCode===0)return!1;W=X.which}return!(!W||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){if(X.data&&X.inputType==="insertText"&&(!X.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=X.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(X),!0}return!1}resize(X,W){X!==this.cols||W!==this.rows?super.resize(X,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,W){var ce,ie;(ce=this._charSizeService)==null||ce.measure(),(ie=this.viewport)==null||ie.syncScrollArea(!0)}clear(){var X;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(G.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(X=this.viewport)==null||X.reset(),this.refresh(0,this.rows-1)}}reset(){var W,ce;this.options.rows=this.rows,this.options.cols=this.cols;const X=this._customKeyEventHandler;this._setup(),super.reset(),(W=this._selectionService)==null||W.reset(),this._decorationService.reset(),(ce=this.viewport)==null||ce.reset(),this._customKeyEventHandler=X,this.refresh(0,this.rows-1)}clearTextureAtlas(){var X;(X=this._renderService)==null||X.clearTextureAtlas()}_reportFocus(){var X;(X=this.element)!=null&&X.classList.contains("focus")?this.coreService.triggerDataEvent(J.C0.ESC+"[I"):this.coreService.triggerDataEvent(J.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case V.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),ce=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${J.C0.ESC}[4;${ce};${W}t`);break;case V.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${J.C0.ESC}[6;${Q};${ie}t`)}}cancel(X,W){if(this.options.cancelEvents||W)return X.preventDefault(),X.stopPropagation(),!1}}l.Terminal=de},9924:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(d,f=1e3){this._renderCallback=d,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(d,f,m){this._rowCount=m,d=d!==void 0?d:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const x=h-this._lastRefreshMs,w=this._debounceThresholdMS-x;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const d=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,f)}}},1680:function(u,l,d){var f=this&&this.__decorate||function(y,g,b,k){var E,P=arguments.length,T=P<3?g:k===null?k=Object.getOwnPropertyDescriptor(g,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,g,b,k);else for(var N=y.length-1;N>=0;N--)(E=y[N])&&(T=(P<3?E(T):P>3?E(g,b,T):E(g,b))||T);return P>3&&T&&Object.defineProperty(g,b,T),T},m=this&&this.__param||function(y,g){return function(b,k){g(b,k,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=d(3656),x=d(4725),w=d(8460),j=d(844),C=d(2585);let v=l.Viewport=class extends j.Disposable{constructor(y,g,b,k,E,P,T,N){super(),this._viewportElement=y,this._scrollArea=g,this._bufferService=b,this._optionsService=k,this._charSizeService=E,this._renderService=P,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((M=>this._activeBuffer=M.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((M=>this._renderDimensions=M))),this._handleThemeChange(N.colors),this.register(N.onChangeColors((M=>this._handleThemeChange(M)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,g){const b=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&b<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const g=this._getPixelsScrolled(y);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(y,g))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let g=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(y,g){var N;let b,k="";const E=[],P=g??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let M=y;M<P;M++){const I=T.get(M);if(!I)continue;const L=(N=T.get(M+1))==null?void 0:N.isWrapped;if(k+=I.translateToString(!L),!L||M===T.length-1){const B=document.createElement("div");B.textContent=k,E.push(B),k.length>0&&(b=B),k=""}}return{bufferElements:E,cursorElement:b}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let g=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(y,g){const b=this._optionsService.rawOptions.fastScrollModifier;return b==="alt"&&g.altKey||b==="ctrl"&&g.ctrlKey||b==="shift"&&g.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const g=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(y,g))}};l.Viewport=v=f([m(2,C.IBufferService),m(3,C.IOptionsService),m(4,x.ICharSizeService),m(5,x.IRenderService),m(6,x.ICoreBrowserService),m(7,x.IThemeService)],v)},3107:function(u,l,d){var f=this&&this.__decorate||function(C,v,y,g){var b,k=arguments.length,E=k<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(C,v,y,g);else for(var P=C.length-1;P>=0;P--)(b=C[P])&&(E=(k<3?b(E):k>3?b(v,y,E):b(v,y))||E);return k>3&&E&&Object.defineProperty(v,y,E),E},m=this&&this.__param||function(C,v){return function(y,g){v(y,g,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=d(4725),x=d(844),w=d(2585);let j=l.BufferDecorationRenderer=class extends x.Disposable{constructor(C,v,y,g,b){super(),this._screenElement=C,this._bufferService=v,this._coreBrowserService=y,this._decorationService=g,this._renderService=b,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((k=>this._removeDecoration(k)))),this.register((0,x.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const C of this._decorationService.decorations)this._renderDecoration(C);this._dimensionsChanged=!1}_renderDecoration(C){this._refreshStyle(C),this._dimensionsChanged&&this._refreshXPosition(C)}_createElement(C){var g;const v=this._coreBrowserService.mainDocument.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((g=C==null?void 0:C.options)==null?void 0:g.layer)==="top"),v.style.width=`${Math.round((C.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(C.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(C.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=C.options.x??0;return y&&y>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(C,v),v}_refreshStyle(C){const v=C.marker.line-this._bufferService.buffers.active.ydisp;if(v<0||v>=this._bufferService.rows)C.element&&(C.element.style.display="none",C.onRenderEmitter.fire(C.element));else{let y=this._decorationElements.get(C);y||(y=this._createElement(C),C.element=y,this._decorationElements.set(C,y),this._container.appendChild(y),C.onDispose((()=>{this._decorationElements.delete(C),y.remove()}))),y.style.top=v*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",C.onRenderEmitter.fire(y)}}_refreshXPosition(C,v=C.element){if(!v)return;const y=C.options.x??0;(C.options.anchor||"left")==="right"?v.style.right=y?y*this._renderService.dimensions.css.cell.width+"px":"":v.style.left=y?y*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(C){var v;(v=this._decorationElements.get(C))==null||v.remove(),this._decorationElements.delete(C),C.dispose()}};l.BufferDecorationRenderer=j=f([m(1,w.IBufferService),m(2,h.ICoreBrowserService),m(3,w.IDecorationService),m(4,h.IRenderService)],j)},5871:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(d){if(d.options.overviewRulerOptions){for(const f of this._zones)if(f.color===d.options.overviewRulerOptions.color&&f.position===d.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,d.marker.line))return;if(this._lineAdjacentToZone(f,d.marker.line,d.options.overviewRulerOptions.position))return void this._addLineToZone(f,d.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=d.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=d.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=d.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=d.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:d.options.overviewRulerOptions.color,position:d.options.overviewRulerOptions.position,startBufferLine:d.marker.line,endBufferLine:d.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(d){this._linePadding=d}_lineIntersectsZone(d,f){return f>=d.startBufferLine&&f<=d.endBufferLine}_lineAdjacentToZone(d,f,m){return f>=d.startBufferLine-this._linePadding[m||"full"]&&f<=d.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(d,f){d.startBufferLine=Math.min(d.startBufferLine,f),d.endBufferLine=Math.max(d.endBufferLine,f)}}},5744:function(u,l,d){var f=this&&this.__decorate||function(b,k,E,P){var T,N=arguments.length,M=N<3?k:P===null?P=Object.getOwnPropertyDescriptor(k,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(b,k,E,P);else for(var I=b.length-1;I>=0;I--)(T=b[I])&&(M=(N<3?T(M):N>3?T(k,E,M):T(k,E))||M);return N>3&&M&&Object.defineProperty(k,E,M),M},m=this&&this.__param||function(b,k){return function(E,P){k(E,P,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=d(5871),x=d(4725),w=d(844),j=d(2585),C={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let g=l.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,k,E,P,T,N,M){var L;super(),this._viewportElement=b,this._screenElement=k,this._bufferService=E,this._decorationService=P,this._renderService=T,this._optionsService=N,this._coreBrowserService=M,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(L=this._viewportElement.parentElement)==null||L.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)((()=>{var B;(B=this._canvas)==null||B.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),k=Math.ceil(this._canvas.width/3);v.full=this._canvas.width,v.left=b,v.center=k,v.right=b,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=v.left,y.right=v.left+v.center}_refreshDrawHeightConstants(){C.full=Math.round(2*this._coreBrowserService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,k=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowserService.dpr);C.left=k,C.center=k,C.right=k}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const k of this._decorationService.decorations)this._colorZoneStore.addDecoration(k);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const k of b)k.position!=="full"&&this._renderColorZone(k);for(const k of b)k.position==="full"&&this._renderColorZone(k);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(y[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-C[b.position||"full"]/2),v[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+C[b.position||"full"]))}_queueRefresh(b,k){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=k||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};l.OverviewRulerRenderer=g=f([m(2,j.IBufferService),m(3,j.IDecorationService),m(4,x.IRenderService),m(5,j.IOptionsService),m(6,x.ICoreBrowserService)],g)},2950:function(u,l,d){var f=this&&this.__decorate||function(C,v,y,g){var b,k=arguments.length,E=k<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(C,v,y,g);else for(var P=C.length-1;P>=0;P--)(b=C[P])&&(E=(k<3?b(E):k>3?b(v,y,E):b(v,y))||E);return k>3&&E&&Object.defineProperty(v,y,E),E},m=this&&this.__param||function(C,v){return function(y,g){v(y,g,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=d(4725),x=d(2585),w=d(2584);let j=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,v,y,g,b,k){this._textarea=C,this._compositionView=v,this._bufferService=y,this._optionsService=g,this._coreService=b,this._renderService=k,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,v.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(v.start,v.end):this._textarea.value.substring(v.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}}),0)}else{this._isSendingComposition=!1;const v=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(v,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const v=this._textarea.value,y=v.replace(C,"");this._dataAlreadySent=y,v.length>C.length?this._coreService.triggerDataEvent(y,!0):v.length<C.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):v.length===C.length&&v!==C&&this._coreService.triggerDataEvent(v,!0)}}),0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,b=v*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=b+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const k=this._compositionView.getBoundingClientRect();this._textarea.style.left=b+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(k.width,1)+"px",this._textarea.style.height=Math.max(k.height,1)+"px",this._textarea.style.lineHeight=k.height+"px"}C||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};l.CompositionHelper=j=f([m(2,x.IBufferService),m(3,x.IOptionsService),m(4,x.ICoreService),m(5,h.IRenderService)],j)},9806:(u,l)=>{function d(f,m,h){const x=h.getBoundingClientRect(),w=f.getComputedStyle(h),j=parseInt(w.getPropertyValue("padding-left")),C=parseInt(w.getPropertyValue("padding-top"));return[m.clientX-x.left-j,m.clientY-x.top-C]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=d,l.getCoords=function(f,m,h,x,w,j,C,v,y){if(!j)return;const g=d(f,m,h);return g?(g[0]=Math.ceil((g[0]+(y?C/2:0))/C),g[1]=Math.ceil(g[1]/v),g[0]=Math.min(Math.max(g[0],1),x+(y?1:0)),g[1]=Math.min(Math.max(g[1],1),w),g):void 0}},9504:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const f=d(2584);function m(v,y,g,b){const k=v-h(v,g),E=y-h(y,g),P=Math.abs(k-E)-(function(T,N,M){let I=0;const L=T-h(T,M),B=N-h(N,M);for(let H=0;H<Math.abs(L-B);H++){const q=x(T,N)==="A"?-1:1,z=M.buffer.lines.get(L+q*H);z!=null&&z.isWrapped&&I++}return I})(v,y,g);return C(P,j(x(v,y),b))}function h(v,y){let g=0,b=y.buffer.lines.get(v),k=b==null?void 0:b.isWrapped;for(;k&&v>=0&&v<y.rows;)g++,b=y.buffer.lines.get(--v),k=b==null?void 0:b.isWrapped;return g}function x(v,y){return v>y?"A":"B"}function w(v,y,g,b,k,E){let P=v,T=y,N="";for(;P!==g||T!==b;)P+=k?1:-1,k&&P>E.cols-1?(N+=E.buffer.translateBufferLineToString(T,!1,v,P),P=0,v=0,T++):!k&&P<0&&(N+=E.buffer.translateBufferLineToString(T,!1,0,v+1),P=E.cols-1,v=P,T--);return N+E.buffer.translateBufferLineToString(T,!1,v,P)}function j(v,y){const g=y?"O":"[";return f.C0.ESC+g+v}function C(v,y){v=Math.floor(v);let g="";for(let b=0;b<v;b++)g+=y;return g}l.moveToCellSequence=function(v,y,g,b){const k=g.buffer.x,E=g.buffer.y;if(!g.buffer.hasScrollback)return(function(N,M,I,L,B,H){return m(M,L,B,H).length===0?"":C(w(N,M,N,M-h(M,B),!1,B).length,j("D",H))})(k,E,0,y,g,b)+m(E,y,g,b)+(function(N,M,I,L,B,H){let q;q=m(M,L,B,H).length>0?L-h(L,B):M;const z=L,G=(function(J,K,F,R,O,V){let $;return $=m(F,R,O,V).length>0?R-h(R,O):K,J<F&&$<=R||J>=F&&$<R?"C":"D"})(N,M,I,L,B,H);return C(w(N,q,I,z,G==="C",B).length,j(G,H))})(k,E,v,y,g,b);let P;if(E===y)return P=k>v?"D":"C",C(Math.abs(k-v),j(P,b));P=E>y?"D":"C";const T=Math.abs(E-y);return C((function(N,M){return M.cols-N})(E>y?v:k,g)+(T-1)*g.cols+1+((E>y?k:v)-1),j(P,b))}},1296:function(u,l,d){var f=this&&this.__decorate||function(H,q,z,G){var J,K=arguments.length,F=K<3?q:G===null?G=Object.getOwnPropertyDescriptor(q,z):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(H,q,z,G);else for(var R=H.length-1;R>=0;R--)(J=H[R])&&(F=(K<3?J(F):K>3?J(q,z,F):J(q,z))||F);return K>3&&F&&Object.defineProperty(q,z,F),F},m=this&&this.__param||function(H,q){return function(z,G){q(z,G,H)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=d(3787),x=d(2550),w=d(2223),j=d(6171),C=d(6052),v=d(4725),y=d(8055),g=d(8460),b=d(844),k=d(2585),E="xterm-dom-renderer-owner-",P="xterm-rows",T="xterm-fg-",N="xterm-bg-",M="xterm-focus",I="xterm-selection";let L=1,B=l.DomRenderer=class extends b.Disposable{constructor(H,q,z,G,J,K,F,R,O,V,$,se,de){super(),this._terminal=H,this._document=q,this._element=z,this._screenElement=G,this._viewportElement=J,this._helperContainer=K,this._linkifier2=F,this._charSizeService=O,this._optionsService=V,this._bufferService=$,this._coreBrowserService=se,this._themeService=de,this._terminalClass=L++,this._rowElements=[],this._selectionRenderModel=(0,C.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(P),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(I),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,j.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((pe=>this._injectCss(pe)))),this._injectCss(this._themeService.colors),this._rowFactory=R.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(E+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((pe=>this._handleLinkHover(pe)))),this.register(this._linkifier2.onHideLinkUnderline((pe=>this._handleLinkLeave(pe)))),this.register((0,b.toDisposable)((()=>{this._element.classList.remove(E+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new x.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const z of this._rowElements)z.style.width=`${this.dimensions.css.canvas.width}px`,z.style.height=`${this.dimensions.css.cell.height}px`,z.style.lineHeight=`${this.dimensions.css.cell.height}px`,z.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const q=`${this._terminalSelector} .${P} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=q,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${P} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${P} .xterm-dim { color: ${y.color.multiplyOpacity(H.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const z=`blink_underline_${this._terminalClass}`,G=`blink_bar_${this._terminalClass}`,J=`blink_block_${this._terminalClass}`;q+=`@keyframes ${z} { 50% {  border-bottom-style: hidden; }}`,q+=`@keyframes ${G} { 50% {  box-shadow: none; }}`,q+=`@keyframes ${J} { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,q+=`${this._terminalSelector} .${P}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${P}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${P}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${J} 1s step-end infinite;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${H.cursor.css} !important; color: ${H.cursorAccent.css} !important;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${I} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${I} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${I} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(const[K,F]of H.ansi.entries())q+=`${this._terminalSelector} .${T}${K} { color: ${F.css}; }${this._terminalSelector} .${T}${K}.xterm-dim { color: ${y.color.multiplyOpacity(F,.5).css}; }${this._terminalSelector} .${N}${K} { background-color: ${F.css}; }`;q+=`${this._terminalSelector} .${T}${w.INVERTED_DEFAULT_COLOR} { color: ${y.color.opaque(H.background).css}; }${this._terminalSelector} .${T}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${y.color.multiplyOpacity(y.color.opaque(H.background),.5).css}; }${this._terminalSelector} .${N}${w.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,q){for(let z=this._rowElements.length;z<=q;z++){const G=this._document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,q){this._refreshRowElements(H,q),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(M),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(M),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,q,z){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,q,z),this.renderRows(0,this._bufferService.rows-1),!H||!q)return;this._selectionRenderModel.update(this._terminal,H,q,z);const G=this._selectionRenderModel.viewportStartRow,J=this._selectionRenderModel.viewportEndRow,K=this._selectionRenderModel.viewportCappedStartRow,F=this._selectionRenderModel.viewportCappedEndRow;if(K>=this._bufferService.rows||F<0)return;const R=this._document.createDocumentFragment();if(z){const O=H[0]>q[0];R.appendChild(this._createSelectionElement(K,O?q[0]:H[0],O?H[0]:q[0],F-K+1))}else{const O=G===K?H[0]:0,V=K===J?q[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(K,O,V));const $=F-K-1;if(R.appendChild(this._createSelectionElement(K+1,0,this._bufferService.cols,$)),K!==F){const se=J===F?q[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(F,0,se))}}this._selectionContainer.appendChild(R)}_createSelectionElement(H,q,z,G=1){const J=this._document.createElement("div"),K=q*this.dimensions.css.cell.width;let F=this.dimensions.css.cell.width*(z-q);return K+F>this.dimensions.css.canvas.width&&(F=this.dimensions.css.canvas.width-K),J.style.height=G*this.dimensions.css.cell.height+"px",J.style.top=H*this.dimensions.css.cell.height+"px",J.style.left=`${K}px`,J.style.width=`${F}px`,J}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const H of this._rowElements)H.replaceChildren()}renderRows(H,q){const z=this._bufferService.buffer,G=z.ybase+z.y,J=Math.min(z.x,this._bufferService.cols-1),K=this._optionsService.rawOptions.cursorBlink,F=this._optionsService.rawOptions.cursorStyle,R=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=H;O<=q;O++){const V=O+z.ydisp,$=this._rowElements[O],se=z.lines.get(V);if(!$||!se)break;$.replaceChildren(...this._rowFactory.createRow(se,V,V===G,F,R,J,K,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${E}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,q,z,G,J,K){z<0&&(H=0),G<0&&(q=0);const F=this._bufferService.rows-1;z=Math.max(Math.min(z,F),0),G=Math.max(Math.min(G,F),0),J=Math.min(J,this._bufferService.cols);const R=this._bufferService.buffer,O=R.ybase+R.y,V=Math.min(R.x,J-1),$=this._optionsService.rawOptions.cursorBlink,se=this._optionsService.rawOptions.cursorStyle,de=this._optionsService.rawOptions.cursorInactiveStyle;for(let pe=z;pe<=G;++pe){const X=pe+R.ydisp,W=this._rowElements[pe],ce=R.lines.get(X);if(!W||!ce)break;W.replaceChildren(...this._rowFactory.createRow(ce,X,X===O,se,de,V,$,this.dimensions.css.cell.width,this._widthCache,K?pe===z?H:0:-1,K?(pe===G?q:J)-1:-1))}}};l.DomRenderer=B=f([m(7,k.IInstantiationService),m(8,v.ICharSizeService),m(9,k.IOptionsService),m(10,k.IBufferService),m(11,v.ICoreBrowserService),m(12,v.IThemeService)],B)},3787:function(u,l,d){var f=this&&this.__decorate||function(P,T,N,M){var I,L=arguments.length,B=L<3?T:M===null?M=Object.getOwnPropertyDescriptor(T,N):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(P,T,N,M);else for(var H=P.length-1;H>=0;H--)(I=P[H])&&(B=(L<3?I(B):L>3?I(T,N,B):I(T,N))||B);return L>3&&B&&Object.defineProperty(T,N,B),B},m=this&&this.__param||function(P,T){return function(N,M){T(N,M,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=d(2223),x=d(643),w=d(511),j=d(2585),C=d(8055),v=d(4725),y=d(4269),g=d(6171),b=d(3734);let k=l.DomRendererRowFactory=class{constructor(P,T,N,M,I,L,B){this._document=P,this._characterJoinerService=T,this._optionsService=N,this._coreBrowserService=M,this._coreService=I,this._decorationService=L,this._themeService=B,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(P,T,N){this._selectionStart=P,this._selectionEnd=T,this._columnSelectMode=N}createRow(P,T,N,M,I,L,B,H,q,z,G){const J=[],K=this._characterJoinerService.getJoinedCharacters(T),F=this._themeService.colors;let R,O=P.getNoBgTrimmedLength();N&&O<L+1&&(O=L+1);let V=0,$="",se=0,de=0,pe=0,X=!1,W=0,ce=!1,ie=0;const Q=[],le=z!==-1&&G!==-1;for(let we=0;we<O;we++){P.loadCell(we,this._workCell);let Le=this._workCell.getWidth();if(Le===0)continue;let Ke=!1,fe=we,ye=this._workCell;if(K.length>0&&we===K[0][0]){Ke=!0;const dt=K.shift();ye=new y.JoinedCellData(this._workCell,P.translateToString(!0,dt[0],dt[1]),dt[1]-dt[0]),fe=dt[1]-1,Le=ye.getWidth()}const Je=this._isCellInSelection(we,T),Ye=N&&we===L,ot=le&&we>=z&&we<=G;let ke=!1;this._decorationService.forEachDecorationAtCell(we,T,void 0,(dt=>{ke=!0}));let be=ye.getChars()||x.WHITESPACE_CELL_CHAR;if(be===" "&&(ye.isUnderline()||ye.isOverline())&&(be=""),ie=Le*H-q.get(be,ye.isBold(),ye.isItalic()),R){if(V&&(Je&&ce||!Je&&!ce&&ye.bg===se)&&(Je&&ce&&F.selectionForeground||ye.fg===de)&&ye.extended.ext===pe&&ot===X&&ie===W&&!Ye&&!Ke&&!ke){ye.isInvisible()?$+=x.WHITESPACE_CELL_CHAR:$+=be,V++;continue}V&&(R.textContent=$),R=this._document.createElement("span"),V=0,$=""}else R=this._document.createElement("span");if(se=ye.bg,de=ye.fg,pe=ye.extended.ext,X=ot,W=ie,ce=Je,Ke&&L>=we&&L<=fe&&(L=we),!this._coreService.isCursorHidden&&Ye&&this._coreService.isCursorInitialized){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)B&&Q.push("xterm-cursor-blink"),Q.push(M==="bar"?"xterm-cursor-bar":M==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(I)switch(I){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(ye.isBold()&&Q.push("xterm-bold"),ye.isItalic()&&Q.push("xterm-italic"),ye.isDim()&&Q.push("xterm-dim"),$=ye.isInvisible()?x.WHITESPACE_CELL_CHAR:ye.getChars()||x.WHITESPACE_CELL_CHAR,ye.isUnderline()&&(Q.push(`xterm-underline-${ye.extended.underlineStyle}`),$===" "&&($=""),!ye.isUnderlineColorDefault()))if(ye.isUnderlineColorRGB())R.style.textDecorationColor=`rgb(${b.AttributeData.toColorRGB(ye.getUnderlineColor()).join(",")})`;else{let dt=ye.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ye.isBold()&&dt<8&&(dt+=8),R.style.textDecorationColor=F.ansi[dt].css}ye.isOverline()&&(Q.push("xterm-overline"),$===" "&&($="")),ye.isStrikethrough()&&Q.push("xterm-strikethrough"),ot&&(R.style.textDecoration="underline");let Oe=ye.getFgColor(),Ee=ye.getFgColorMode(),_e=ye.getBgColor(),oe=ye.getBgColorMode();const ve=!!ye.isInverse();if(ve){const dt=Oe;Oe=_e,_e=dt;const er=Ee;Ee=oe,oe=er}let De,Be,ze,St=!1;switch(this._decorationService.forEachDecorationAtCell(we,T,void 0,(dt=>{dt.options.layer!=="top"&&St||(dt.backgroundColorRGB&&(oe=50331648,_e=dt.backgroundColorRGB.rgba>>8&16777215,De=dt.backgroundColorRGB),dt.foregroundColorRGB&&(Ee=50331648,Oe=dt.foregroundColorRGB.rgba>>8&16777215,Be=dt.foregroundColorRGB),St=dt.options.layer==="top")})),!St&&Je&&(De=this._coreBrowserService.isFocused?F.selectionBackgroundOpaque:F.selectionInactiveBackgroundOpaque,_e=De.rgba>>8&16777215,oe=50331648,St=!0,F.selectionForeground&&(Ee=50331648,Oe=F.selectionForeground.rgba>>8&16777215,Be=F.selectionForeground)),St&&Q.push("xterm-decoration-top"),oe){case 16777216:case 33554432:ze=F.ansi[_e],Q.push(`xterm-bg-${_e}`);break;case 50331648:ze=C.channels.toColor(_e>>16,_e>>8&255,255&_e),this._addStyle(R,`background-color:#${E((_e>>>0).toString(16),"0",6)}`);break;default:ve?(ze=F.foreground,Q.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):ze=F.background}switch(De||ye.isDim()&&(De=C.color.multiplyOpacity(ze,.5)),Ee){case 16777216:case 33554432:ye.isBold()&&Oe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Oe+=8),this._applyMinimumContrast(R,ze,F.ansi[Oe],ye,De,void 0)||Q.push(`xterm-fg-${Oe}`);break;case 50331648:const dt=C.channels.toColor(Oe>>16&255,Oe>>8&255,255&Oe);this._applyMinimumContrast(R,ze,dt,ye,De,Be)||this._addStyle(R,`color:#${E(Oe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(R,ze,F.foreground,ye,De,Be)||ve&&Q.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Q.length&&(R.className=Q.join(" "),Q.length=0),Ye||Ke||ke?R.textContent=$:V++,ie!==this.defaultSpacing&&(R.style.letterSpacing=`${ie}px`),J.push(R),we=fe}return R&&V&&(R.textContent=$),J}_applyMinimumContrast(P,T,N,M,I,L){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.treatGlyphAsBackgroundColor)(M.getCode()))return!1;const B=this._getContrastCache(M);let H;if(I||L||(H=B.getColor(T.rgba,N.rgba)),H===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(M.isDim()?2:1);H=C.color.ensureContrastRatio(I||T,L||N,q),B.setColor((I||T).rgba,(L||N).rgba,H??null)}return!!H&&(this._addStyle(P,`color:${H.css}`),!0)}_getContrastCache(P){return P.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(P,T){P.setAttribute("style",`${P.getAttribute("style")||""}${T};`)}_isCellInSelection(P,T){const N=this._selectionStart,M=this._selectionEnd;return!(!N||!M)&&(this._columnSelectMode?N[0]<=M[0]?P>=N[0]&&T>=N[1]&&P<M[0]&&T<=M[1]:P<N[0]&&T>=N[1]&&P>=M[0]&&T<=M[1]:T>N[1]&&T<M[1]||N[1]===M[1]&&T===N[1]&&P>=N[0]&&P<M[0]||N[1]<M[1]&&T===M[1]&&P<M[0]||N[1]<M[1]&&T===N[1]&&P>=N[0])}};function E(P,T,N){for(;P.length<N;)P=T+P;return P}l.DomRendererRowFactory=k=f([m(1,v.ICharacterJoinerService),m(2,j.IOptionsService),m(3,v.ICoreBrowserService),m(4,j.ICoreService),m(5,j.IDecorationService),m(6,v.IThemeService)],k)},2550:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(d,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=d.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const m=d.createElement("span");m.classList.add("xterm-char-measure-element");const h=d.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const x=d.createElement("span");x.classList.add("xterm-char-measure-element"),x.style.fontStyle="italic";const w=d.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[m,h,x,w],this._container.appendChild(m),this._container.appendChild(h),this._container.appendChild(x),this._container.appendChild(w),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(d,f,m,h){d===this._font&&f===this._fontSize&&m===this._weight&&h===this._weightBold||(this._font=d,this._fontSize=f,this._weight=m,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(d,f,m){let h=0;if(!f&&!m&&d.length===1&&(h=d.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const j=this._measure(d,0);return j>0&&(this._flat[h]=j),j}let x=d;f&&(x+="B"),m&&(x+="I");let w=this._holey.get(x);if(w===void 0){let j=0;f&&(j|=1),m&&(j|=2),w=this._measure(d,j),w>0&&this._holey.set(x,w)}return w}_measure(d,f){const m=this._measureElements[f];return m.textContent=d.repeat(32),m.offsetWidth/32}}},2223:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const f=d(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(u,l)=>{function d(m){return 57508<=m&&m<=57558}function f(m){return m>=128512&&m<=128591||m>=127744&&m<=128511||m>=128640&&m<=128767||m>=9728&&m<=9983||m>=9984&&m<=10175||m>=65024&&m<=65039||m>=129280&&m<=129535||m>=127462&&m<=127487}Object.defineProperty(l,"__esModule",{value:!0}),l.computeNextVariantOffset=l.createRenderDimensions=l.treatGlyphAsBackgroundColor=l.allowRescaling=l.isEmoji=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(m){if(!m)throw new Error("value must not be falsy");return m},l.isPowerlineGlyph=d,l.isRestrictedPowerlineGlyph=function(m){return 57520<=m&&m<=57527},l.isEmoji=f,l.allowRescaling=function(m,h,x,w){return h===1&&x>Math.ceil(1.5*w)&&m!==void 0&&m>255&&!f(m)&&!d(m)&&!(function(j){return 57344<=j&&j<=63743})(m)},l.treatGlyphAsBackgroundColor=function(m){return d(m)||(function(h){return 9472<=h&&h<=9631})(m)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},l.computeNextVariantOffset=function(m,h,x=0){return(m-(2*Math.round(h)-x))%(2*Math.round(h))}},6052:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createSelectionRenderModel=void 0;class d{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(m,h,x,w=!1){if(this.selectionStart=h,this.selectionEnd=x,!h||!x||h[0]===x[0]&&h[1]===x[1])return void this.clear();const j=m.buffers.active.ydisp,C=h[1]-j,v=x[1]-j,y=Math.max(C,0),g=Math.min(v,m.rows-1);y>=m.rows||g<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=C,this.viewportEndRow=v,this.viewportCappedStartRow=y,this.viewportCappedEndRow=g,this.startCol=h[0],this.endCol=x[0])}isCellSelected(m,h,x){return!!this.hasSelection&&(x-=m.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&x>=this.viewportCappedStartRow&&h<this.endCol&&x<=this.viewportCappedEndRow:h<this.startCol&&x>=this.viewportCappedStartRow&&h>=this.endCol&&x<=this.viewportCappedEndRow:x>this.viewportStartRow&&x<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&x===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportStartRow&&h>=this.startCol)}}l.createSelectionRenderModel=function(){return new d}},456:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(d){this._bufferService=d,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?d%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)-1]:[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[d,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[Math.max(d,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const d=this.selectionStart,f=this.selectionEnd;return!(!d||!f)&&(d[1]>f[1]||d[1]===f[1]&&d[0]>f[0])}handleTrim(d){return this.selectionStart&&(this.selectionStart[1]-=d),this.selectionEnd&&(this.selectionEnd[1]-=d),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,l,d){var f=this&&this.__decorate||function(g,b,k,E){var P,T=arguments.length,N=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,k):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,k,E);else for(var M=g.length-1;M>=0;M--)(P=g[M])&&(N=(T<3?P(N):T>3?P(b,k,N):P(b,k))||N);return T>3&&N&&Object.defineProperty(b,k,N),N},m=this&&this.__param||function(g,b){return function(k,E){b(k,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=d(2585),x=d(8460),w=d(844);let j=l.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,b,k){super(),this._optionsService=k,this.width=0,this.height=0,this._onCharSizeChange=this.register(new x.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new y(this._optionsService))}catch{this._measureStrategy=this.register(new v(g,b,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};l.CharSizeService=j=f([m(2,h.IOptionsService)],j);class C extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(b,k){b!==void 0&&b>0&&k!==void 0&&k>0&&(this._result.width=b,this._result.height=k)}}class v extends C{constructor(b,k,E){super(),this._document=b,this._parentElement=k,this._optionsService=E,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class y extends C{constructor(b){super(),this._optionsService=b,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const k=this._ctx.measureText("W");if(!("width"in k&&"fontBoundingBoxAscent"in k&&"fontBoundingBoxDescent"in k))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const b=this._ctx.measureText("W");return this._validateAndSet(b.width,b.fontBoundingBoxAscent+b.fontBoundingBoxDescent),this._result}}},4269:function(u,l,d){var f=this&&this.__decorate||function(y,g,b,k){var E,P=arguments.length,T=P<3?g:k===null?k=Object.getOwnPropertyDescriptor(g,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,g,b,k);else for(var N=y.length-1;N>=0;N--)(E=y[N])&&(T=(P<3?E(T):P>3?E(g,b,T):E(g,b))||T);return P>3&&T&&Object.defineProperty(g,b,T),T},m=this&&this.__param||function(y,g){return function(b,k){g(b,k,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=d(3734),x=d(643),w=d(511),j=d(2585);class C extends h.AttributeData{constructor(g,b,k){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=b,this._width=k}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=C;let v=l.CharacterJoinerService=class Lj{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(g){const b={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(b),b.id}deregister(g){for(let b=0;b<this._characterJoiners.length;b++)if(this._characterJoiners[b].id===g)return this._characterJoiners.splice(b,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const b=this._bufferService.buffer.lines.get(g);if(!b||b.length===0)return[];const k=[],E=b.translateToString(!0);let P=0,T=0,N=0,M=b.getFg(0),I=b.getBg(0);for(let L=0;L<b.getTrimmedLength();L++)if(b.loadCell(L,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==I){if(L-P>1){const B=this._getJoinedRanges(E,N,T,b,P);for(let H=0;H<B.length;H++)k.push(B[H])}P=L,N=T,M=this._workCell.fg,I=this._workCell.bg}T+=this._workCell.getChars().length||x.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-P>1){const L=this._getJoinedRanges(E,N,T,b,P);for(let B=0;B<L.length;B++)k.push(L[B])}return k}_getJoinedRanges(g,b,k,E,P){const T=g.substring(b,k);let N=[];try{N=this._characterJoiners[0].handler(T)}catch(M){console.error(M)}for(let M=1;M<this._characterJoiners.length;M++)try{const I=this._characterJoiners[M].handler(T);for(let L=0;L<I.length;L++)Lj._mergeRanges(N,I[L])}catch(I){console.error(I)}return this._stringRangesToCellRanges(N,E,P),N}_stringRangesToCellRanges(g,b,k){let E=0,P=!1,T=0,N=g[E];if(N){for(let M=k;M<this._bufferService.cols;M++){const I=b.getWidth(M),L=b.getString(M).length||x.WHITESPACE_CELL_CHAR.length;if(I!==0){if(!P&&N[0]<=T&&(N[0]=M,P=!0),N[1]<=T){if(N[1]=M,N=g[++E],!N)break;N[0]<=T?(N[0]=M,P=!0):P=!1}T+=L}}N&&(N[1]=this._bufferService.cols)}}static _mergeRanges(g,b){let k=!1;for(let E=0;E<g.length;E++){const P=g[E];if(k){if(b[1]<=P[0])return g[E-1][1]=b[1],g;if(b[1]<=P[1])return g[E-1][1]=Math.max(b[1],P[1]),g.splice(E,1),g;g.splice(E,1),E--}else{if(b[1]<=P[0])return g.splice(E,0,b),g;if(b[1]<=P[1])return P[0]=Math.min(b[0],P[0]),g;b[0]<P[1]&&(P[0]=Math.min(b[0],P[0]),k=!0)}}return k?g[g.length-1][1]=b[1]:g.push(b),g}};l.CharacterJoinerService=v=f([m(0,j.IBufferService)],v)},5114:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0;const f=d(844),m=d(8460),h=d(3656);class x extends f.Disposable{constructor(C,v,y){super(),this._textarea=C,this._window=v,this.mainDocument=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new m.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new m.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((g=>this._screenDprMonitor.setWindow(g)))),this.register((0,m.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(C){this._window!==C&&(this._window=C,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}l.CoreBrowserService=x;class w extends f.Disposable{constructor(C){super(),this._parentWindow=C,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new m.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)((()=>this.clearListener())))}setWindow(C){this._parentWindow=C,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var C;this._outerListener&&((C=this._resolutionMediaMatchList)==null||C.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkProviderService=void 0;const f=d(844);class m extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(x){return this.linkProviders.push(x),{dispose:()=>{const w=this.linkProviders.indexOf(x);w!==-1&&this.linkProviders.splice(w,1)}}}}l.LinkProviderService=m},8934:function(u,l,d){var f=this&&this.__decorate||function(j,C,v,y){var g,b=arguments.length,k=b<3?C:y===null?y=Object.getOwnPropertyDescriptor(C,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(j,C,v,y);else for(var E=j.length-1;E>=0;E--)(g=j[E])&&(k=(b<3?g(k):b>3?g(C,v,k):g(C,v))||k);return b>3&&k&&Object.defineProperty(C,v,k),k},m=this&&this.__param||function(j,C){return function(v,y){C(v,y,j)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=d(4725),x=d(9806);let w=l.MouseService=class{constructor(j,C){this._renderService=j,this._charSizeService=C}getCoords(j,C,v,y,g){return(0,x.getCoords)(window,j,C,v,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(j,C){const v=(0,x.getCoordsRelativeToElement)(window,j,C);if(this._charSizeService.hasValidSize)return v[0]=Math.min(Math.max(v[0],0),this._renderService.dimensions.css.canvas.width-1),v[1]=Math.min(Math.max(v[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(v[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(v[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(v[0]),y:Math.floor(v[1])}}};l.MouseService=w=f([m(0,h.IRenderService),m(1,h.ICharSizeService)],w)},3230:function(u,l,d){var f=this&&this.__decorate||function(g,b,k,E){var P,T=arguments.length,N=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,k):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,k,E);else for(var M=g.length-1;M>=0;M--)(P=g[M])&&(N=(T<3?P(N):T>3?P(b,k,N):P(b,k))||N);return T>3&&N&&Object.defineProperty(b,k,N),N},m=this&&this.__param||function(g,b){return function(k,E){b(k,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=d(6193),x=d(4725),w=d(8460),j=d(844),C=d(7226),v=d(2585);let y=l.RenderService=class extends j.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,b,k,E,P,T,N,M){super(),this._rowCount=g,this._charSizeService=E,this._renderer=this.register(new j.MutableDisposable),this._pausedResizeTask=new C.DebouncedIdleTask,this._observerDisposable=this.register(new j.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(((I,L)=>this._renderRows(I,L)),N),this.register(this._renderDebouncer),this.register(N.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var I;return(I=this._renderer.value)==null?void 0:I.clear()}))),this.register(k.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(P.onDecorationRegistered((()=>this._fullRefresh()))),this.register(P.onDecorationRemoved((()=>this._fullRefresh()))),this.register(k.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(k.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register(M.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(N.window,b),this.register(N.onWindowChange((I=>this._registerIntersectionObserver(I,b))))}_registerIntersectionObserver(g,b){if("IntersectionObserver"in g){const k=new g.IntersectionObserver((E=>this._handleIntersectionChange(E[E.length-1])),{threshold:0});k.observe(b),this._observerDisposable.value=(0,j.toDisposable)((()=>k.disconnect()))}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,b,k=!1){this._isPaused?this._needsFullRefresh=!0:(k||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,b,this._rowCount))}_renderRows(g,b){this._renderer.value&&(g=Math.min(g,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.value.renderRows(g,b),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:b}),this._onRender.fire({start:g,end:b}),this._isNextRenderRedrawOnly=!0)}resize(g,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value&&(this._renderer.value.onRequestRedraw((b=>this.refreshRows(b.start,b.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,b;this._renderer.value&&((b=(g=this._renderer.value).clearTextureAtlas)==null||b.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,b){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var k;return(k=this._renderer.value)==null?void 0:k.handleResize(g,b)})):this._renderer.value.handleResize(g,b),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)==null||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)==null||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)==null||g.handleFocus()}handleSelectionChanged(g,b,k){var E;this._selectionState.start=g,this._selectionState.end=b,this._selectionState.columnSelectMode=k,(E=this._renderer.value)==null||E.handleSelectionChanged(g,b,k)}handleCursorMove(){var g;(g=this._renderer.value)==null||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)==null||g.clear()}};l.RenderService=y=f([m(2,v.IOptionsService),m(3,x.ICharSizeService),m(4,v.IDecorationService),m(5,v.IBufferService),m(6,x.ICoreBrowserService),m(7,x.IThemeService)],y)},9312:function(u,l,d){var f=this&&this.__decorate||function(N,M,I,L){var B,H=arguments.length,q=H<3?M:L===null?L=Object.getOwnPropertyDescriptor(M,I):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(N,M,I,L);else for(var z=N.length-1;z>=0;z--)(B=N[z])&&(q=(H<3?B(q):H>3?B(M,I,q):B(M,I))||q);return H>3&&q&&Object.defineProperty(M,I,q),q},m=this&&this.__param||function(N,M){return function(I,L){M(I,L,N)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=d(9806),x=d(9504),w=d(456),j=d(4725),C=d(8460),v=d(844),y=d(6114),g=d(4841),b=d(511),k=d(2585),E="",P=new RegExp(E,"g");let T=l.SelectionService=class extends v.Disposable{constructor(N,M,I,L,B,H,q,z,G){super(),this._element=N,this._screenElement=M,this._linkifier=I,this._bufferService=L,this._coreService=B,this._mouseService=H,this._optionsService=q,this._renderService=z,this._coreBrowserService=G,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new b.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=J=>this._handleMouseMove(J),this._mouseUpListener=J=>this._handleMouseUp(J),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((J=>this._handleTrim(J))),this.register(this._bufferService.buffers.onBufferActivate((J=>this._handleBufferActivate(J)))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,v.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const N=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!N||!M||N[0]===M[0]&&N[1]===M[1])}get selectionText(){const N=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;if(!N||!M)return"";const I=this._bufferService.buffer,L=[];if(this._activeSelectionMode===3){if(N[0]===M[0])return"";const B=N[0]<M[0]?N[0]:M[0],H=N[0]<M[0]?M[0]:N[0];for(let q=N[1];q<=M[1];q++){const z=I.translateBufferLineToString(q,!0,B,H);L.push(z)}}else{const B=N[1]===M[1]?M[0]:void 0;L.push(I.translateBufferLineToString(N[1],!0,N[0],B));for(let H=N[1]+1;H<=M[1]-1;H++){const q=I.lines.get(H),z=I.translateBufferLineToString(H,!0);q!=null&&q.isWrapped?L[L.length-1]+=z:L.push(z)}if(N[1]!==M[1]){const H=I.lines.get(M[1]),q=I.translateBufferLineToString(M[1],!0,0,M[0]);H&&H.isWrapped?L[L.length-1]+=q:L.push(q)}}return L.map((B=>B.replace(P," "))).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(N){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),y.isLinux&&N&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(N){const M=this._getMouseBufferCoords(N),I=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!!(I&&L&&M)&&this._areCoordsInSelection(M,I,L)}isCellInSelection(N,M){const I=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!I||!L)&&this._areCoordsInSelection([N,M],I,L)}_areCoordsInSelection(N,M,I){return N[1]>M[1]&&N[1]<I[1]||M[1]===I[1]&&N[1]===M[1]&&N[0]>=M[0]&&N[0]<I[0]||M[1]<I[1]&&N[1]===I[1]&&N[0]<I[0]||M[1]<I[1]&&N[1]===M[1]&&N[0]>=M[0]}_selectWordAtCursor(N,M){var B,H;const I=(H=(B=this._linkifier.currentLink)==null?void 0:B.link)==null?void 0:H.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const L=this._getMouseBufferCoords(N);return!!L&&(this._selectWordAt(L,M),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(N,M){this._model.clearSelection(),N=Math.max(N,0),M=Math.min(M,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,N],this._model.selectionEnd=[this._bufferService.cols,M],this.refresh(),this._onSelectionChange.fire()}_handleTrim(N){this._model.handleTrim(N)&&this.refresh()}_getMouseBufferCoords(N){const M=this._mouseService.getCoords(N,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(M)return M[0]--,M[1]--,M[1]+=this._bufferService.buffer.ydisp,M}_getMouseEventScrollAmount(N){let M=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,N,this._screenElement)[1];const I=this._renderService.dimensions.css.canvas.height;return M>=0&&M<=I?0:(M>I&&(M-=I),M=Math.min(Math.max(M,-50),50),M/=50,M/Math.abs(M)+Math.round(14*M))}shouldForceSelection(N){return y.isMac?N.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:N.shiftKey}handleMouseDown(N){if(this._mouseDownTimeStamp=N.timeStamp,(N.button!==2||!this.hasSelection)&&N.button===0){if(!this._enabled){if(!this.shouldForceSelection(N))return;N.stopPropagation()}N.preventDefault(),this._dragScrollAmount=0,this._enabled&&N.shiftKey?this._handleIncrementalClick(N):N.detail===1?this._handleSingleClick(N):N.detail===2?this._handleDoubleClick(N):N.detail===3&&this._handleTripleClick(N),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(N){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(N))}_handleSingleClick(N){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(N)?3:0,this._model.selectionStart=this._getMouseBufferCoords(N),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const M=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);M&&M.length!==this._model.selectionStart[0]&&M.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(N){this._selectWordAtCursor(N,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(N){const M=this._getMouseBufferCoords(N);M&&(this._activeSelectionMode=2,this._selectLineAt(M[1]))}shouldColumnSelect(N){return N.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(N){if(N.stopImmediatePropagation(),!this._model.selectionStart)return;const M=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(N),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(N),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const I=this._bufferService.buffer;if(this._model.selectionEnd[1]<I.lines.length){const L=I.lines.get(this._model.selectionEnd[1]);L&&L.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}M&&M[0]===this._model.selectionEnd[0]&&M[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const N=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(N.ydisp+this._bufferService.rows,N.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=N.ydisp),this.refresh()}}_handleMouseUp(N){const M=N.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&M<500&&N.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const I=this._mouseService.getCoords(N,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(I&&I[0]!==void 0&&I[1]!==void 0){const L=(0,x.moveToCellSequence)(I[0]-1,I[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(L,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const N=this._model.finalSelectionStart,M=this._model.finalSelectionEnd,I=!(!N||!M||N[0]===M[0]&&N[1]===M[1]);I?N&&M&&(this._oldSelectionStart&&this._oldSelectionEnd&&N[0]===this._oldSelectionStart[0]&&N[1]===this._oldSelectionStart[1]&&M[0]===this._oldSelectionEnd[0]&&M[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(N,M,I)):this._oldHasSelection&&this._fireOnSelectionChange(N,M,I)}_fireOnSelectionChange(N,M,I){this._oldSelectionStart=N,this._oldSelectionEnd=M,this._oldHasSelection=I,this._onSelectionChange.fire()}_handleBufferActivate(N){this.clearSelection(),this._trimListener.dispose(),this._trimListener=N.activeBuffer.lines.onTrim((M=>this._handleTrim(M)))}_convertViewportColToCharacterIndex(N,M){let I=M;for(let L=0;M>=L;L++){const B=N.loadCell(L,this._workCell).getChars().length;this._workCell.getWidth()===0?I--:B>1&&M!==L&&(I+=B-1)}return I}setSelection(N,M,I){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[N,M],this._model.selectionStartLength=I,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(N){this._isClickInSelection(N)||(this._selectWordAtCursor(N,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(N,M,I=!0,L=!0){if(N[0]>=this._bufferService.cols)return;const B=this._bufferService.buffer,H=B.lines.get(N[1]);if(!H)return;const q=B.translateBufferLineToString(N[1],!1);let z=this._convertViewportColToCharacterIndex(H,N[0]),G=z;const J=N[0]-z;let K=0,F=0,R=0,O=0;if(q.charAt(z)===" "){for(;z>0&&q.charAt(z-1)===" ";)z--;for(;G<q.length&&q.charAt(G+1)===" ";)G++}else{let se=N[0],de=N[0];H.getWidth(se)===0&&(K++,se--),H.getWidth(de)===2&&(F++,de++);const pe=H.getString(de).length;for(pe>1&&(O+=pe-1,G+=pe-1);se>0&&z>0&&!this._isCharWordSeparator(H.loadCell(se-1,this._workCell));){H.loadCell(se-1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===0?(K++,se--):X>1&&(R+=X-1,z-=X-1),z--,se--}for(;de<H.length&&G+1<q.length&&!this._isCharWordSeparator(H.loadCell(de+1,this._workCell));){H.loadCell(de+1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===2?(F++,de++):X>1&&(O+=X-1,G+=X-1),G++,de++}}G++;let V=z+J-K+R,$=Math.min(this._bufferService.cols,G-z+K+F-R-O);if(M||q.slice(z,G).trim()!==""){if(I&&V===0&&H.getCodePoint(0)!==32){const se=B.lines.get(N[1]-1);if(se&&H.isWrapped&&se.getCodePoint(this._bufferService.cols-1)!==32){const de=this._getWordAt([this._bufferService.cols-1,N[1]-1],!1,!0,!1);if(de){const pe=this._bufferService.cols-de.start;V-=pe,$+=pe}}}if(L&&V+$===this._bufferService.cols&&H.getCodePoint(this._bufferService.cols-1)!==32){const se=B.lines.get(N[1]+1);if(se!=null&&se.isWrapped&&se.getCodePoint(0)!==32){const de=this._getWordAt([0,N[1]+1],!1,!1,!0);de&&($+=de.length)}}return{start:V,length:$}}}_selectWordAt(N,M){const I=this._getWordAt(N,M);if(I){for(;I.start<0;)I.start+=this._bufferService.cols,N[1]--;this._model.selectionStart=[I.start,N[1]],this._model.selectionStartLength=I.length}}_selectToWordAt(N){const M=this._getWordAt(N,!0);if(M){let I=N[1];for(;M.start<0;)M.start+=this._bufferService.cols,I--;if(!this._model.areSelectionValuesReversed())for(;M.start+M.length>this._bufferService.cols;)M.length-=this._bufferService.cols,I++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?M.start:M.start+M.length,I]}}_isCharWordSeparator(N){return N.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(N.getChars())>=0}_selectLineAt(N){const M=this._bufferService.buffer.getWrappedRangeForLine(N),I={start:{x:0,y:M.first},end:{x:this._bufferService.cols-1,y:M.last}};this._model.selectionStart=[0,M.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(I,this._bufferService.cols)}};l.SelectionService=T=f([m(3,k.IBufferService),m(4,k.ICoreService),m(5,j.IMouseService),m(6,k.IOptionsService),m(7,j.IRenderService),m(8,j.ICoreBrowserService)],T)},4725:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ILinkProviderService=l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const f=d(8343);l.ICharSizeService=(0,f.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),l.IMouseService=(0,f.createDecorator)("MouseService"),l.IRenderService=(0,f.createDecorator)("RenderService"),l.ISelectionService=(0,f.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,f.createDecorator)("ThemeService"),l.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(u,l,d){var f=this&&this.__decorate||function(T,N,M,I){var L,B=arguments.length,H=B<3?N:I===null?I=Object.getOwnPropertyDescriptor(N,M):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(T,N,M,I);else for(var q=T.length-1;q>=0;q--)(L=T[q])&&(H=(B<3?L(H):B>3?L(N,M,H):L(N,M))||H);return B>3&&H&&Object.defineProperty(N,M,H),H},m=this&&this.__param||function(T,N){return function(M,I){N(M,I,T)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=d(7239),x=d(8055),w=d(8460),j=d(844),C=d(2585),v=x.css.toColor("#ffffff"),y=x.css.toColor("#000000"),g=x.css.toColor("#ffffff"),b=x.css.toColor("#000000"),k={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[x.css.toColor("#2e3436"),x.css.toColor("#cc0000"),x.css.toColor("#4e9a06"),x.css.toColor("#c4a000"),x.css.toColor("#3465a4"),x.css.toColor("#75507b"),x.css.toColor("#06989a"),x.css.toColor("#d3d7cf"),x.css.toColor("#555753"),x.css.toColor("#ef2929"),x.css.toColor("#8ae234"),x.css.toColor("#fce94f"),x.css.toColor("#729fcf"),x.css.toColor("#ad7fa8"),x.css.toColor("#34e2e2"),x.css.toColor("#eeeeec")],N=[0,95,135,175,215,255];for(let M=0;M<216;M++){const I=N[M/36%6|0],L=N[M/6%6|0],B=N[M%6];T.push({css:x.channels.toCss(I,L,B),rgba:x.channels.toRgba(I,L,B)})}for(let M=0;M<24;M++){const I=8+10*M;T.push({css:x.channels.toCss(I,I,I),rgba:x.channels.toRgba(I,I,I)})}return T})());let E=l.ThemeService=class extends j.Disposable{get colors(){return this._colors}constructor(T){super(),this._optionsService=T,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:y,cursor:g,cursorAccent:b,selectionForeground:void 0,selectionBackgroundTransparent:k,selectionBackgroundOpaque:x.color.blend(y,k),selectionInactiveBackgroundTransparent:k,selectionInactiveBackgroundOpaque:x.color.blend(y,k),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(T={}){const N=this._colors;if(N.foreground=P(T.foreground,v),N.background=P(T.background,y),N.cursor=P(T.cursor,g),N.cursorAccent=P(T.cursorAccent,b),N.selectionBackgroundTransparent=P(T.selectionBackground,k),N.selectionBackgroundOpaque=x.color.blend(N.background,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundTransparent=P(T.selectionInactiveBackground,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundOpaque=x.color.blend(N.background,N.selectionInactiveBackgroundTransparent),N.selectionForeground=T.selectionForeground?P(T.selectionForeground,x.NULL_COLOR):void 0,N.selectionForeground===x.NULL_COLOR&&(N.selectionForeground=void 0),x.color.isOpaque(N.selectionBackgroundTransparent)&&(N.selectionBackgroundTransparent=x.color.opacity(N.selectionBackgroundTransparent,.3)),x.color.isOpaque(N.selectionInactiveBackgroundTransparent)&&(N.selectionInactiveBackgroundTransparent=x.color.opacity(N.selectionInactiveBackgroundTransparent,.3)),N.ansi=l.DEFAULT_ANSI_COLORS.slice(),N.ansi[0]=P(T.black,l.DEFAULT_ANSI_COLORS[0]),N.ansi[1]=P(T.red,l.DEFAULT_ANSI_COLORS[1]),N.ansi[2]=P(T.green,l.DEFAULT_ANSI_COLORS[2]),N.ansi[3]=P(T.yellow,l.DEFAULT_ANSI_COLORS[3]),N.ansi[4]=P(T.blue,l.DEFAULT_ANSI_COLORS[4]),N.ansi[5]=P(T.magenta,l.DEFAULT_ANSI_COLORS[5]),N.ansi[6]=P(T.cyan,l.DEFAULT_ANSI_COLORS[6]),N.ansi[7]=P(T.white,l.DEFAULT_ANSI_COLORS[7]),N.ansi[8]=P(T.brightBlack,l.DEFAULT_ANSI_COLORS[8]),N.ansi[9]=P(T.brightRed,l.DEFAULT_ANSI_COLORS[9]),N.ansi[10]=P(T.brightGreen,l.DEFAULT_ANSI_COLORS[10]),N.ansi[11]=P(T.brightYellow,l.DEFAULT_ANSI_COLORS[11]),N.ansi[12]=P(T.brightBlue,l.DEFAULT_ANSI_COLORS[12]),N.ansi[13]=P(T.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),N.ansi[14]=P(T.brightCyan,l.DEFAULT_ANSI_COLORS[14]),N.ansi[15]=P(T.brightWhite,l.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const M=Math.min(N.ansi.length-16,T.extendedAnsi.length);for(let I=0;I<M;I++)N.ansi[I+16]=P(T.extendedAnsi[I],l.DEFAULT_ANSI_COLORS[I+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let N=0;N<this._restoreColors.ansi.length;++N)this._colors.ansi[N]=this._restoreColors.ansi[N]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function P(T,N){if(T!==void 0)try{return x.css.toColor(T)}catch{}return N}l.ThemeService=E=f([m(0,C.IOptionsService)],E)},6349:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const f=d(8460),m=d(844);class h extends m.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const j=new Array(w);for(let C=0;C<Math.min(w,this.length);C++)j[C]=this._array[this._getCyclicIndex(C)];this._array=j,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let j=this._length;j<w;j++)this._array[j]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,j){this._array[this._getCyclicIndex(w)]=j}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,j,...C){if(j){for(let v=w;v<this._length-j;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+j)];this._length-=j,this.onDeleteEmitter.fire({index:w,amount:j})}for(let v=this._length-1;v>=w;v--)this._array[this._getCyclicIndex(v+C.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<C.length;v++)this._array[this._getCyclicIndex(w+v)]=C[v];if(C.length&&this.onInsertEmitter.fire({index:w,amount:C.length}),this._length+C.length>this._maxLength){const v=this._length+C.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=C.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,j,C){if(!(j<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let y=j-1;y>=0;y--)this.set(w+y+C,this.get(w+y));const v=w+j+C-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<j;v++)this.set(w+v+C,this.get(w+v))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}l.CircularList=h},1439:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function d(f,m=5){if(typeof f!="object")return f;const h=Array.isArray(f)?[]:{};for(const x in f)h[x]=m<=1?f[x]:f[x]&&d(f[x],m-1);return h}},8055:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;let d=0,f=0,m=0,h=0;var x,w,j,C,v;function y(b){const k=b.toString(16);return k.length<2?"0"+k:k}function g(b,k){return b<k?(k+.05)/(b+.05):(b+.05)/(k+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(function(b){b.toCss=function(k,E,P,T){return T!==void 0?`#${y(k)}${y(E)}${y(P)}${y(T)}`:`#${y(k)}${y(E)}${y(P)}`},b.toRgba=function(k,E,P,T=255){return(k<<24|E<<16|P<<8|T)>>>0},b.toColor=function(k,E,P,T){return{css:b.toCss(k,E,P,T),rgba:b.toRgba(k,E,P,T)}}})(x||(l.channels=x={})),(function(b){function k(E,P){return h=Math.round(255*P),[d,f,m]=v.toChannels(E.rgba),{css:x.toCss(d,f,m,h),rgba:x.toRgba(d,f,m,h)}}b.blend=function(E,P){if(h=(255&P.rgba)/255,h===1)return{css:P.css,rgba:P.rgba};const T=P.rgba>>24&255,N=P.rgba>>16&255,M=P.rgba>>8&255,I=E.rgba>>24&255,L=E.rgba>>16&255,B=E.rgba>>8&255;return d=I+Math.round((T-I)*h),f=L+Math.round((N-L)*h),m=B+Math.round((M-B)*h),{css:x.toCss(d,f,m),rgba:x.toRgba(d,f,m)}},b.isOpaque=function(E){return(255&E.rgba)==255},b.ensureContrastRatio=function(E,P,T){const N=v.ensureContrastRatio(E.rgba,P.rgba,T);if(N)return x.toColor(N>>24&255,N>>16&255,N>>8&255)},b.opaque=function(E){const P=(255|E.rgba)>>>0;return[d,f,m]=v.toChannels(P),{css:x.toCss(d,f,m),rgba:P}},b.opacity=k,b.multiplyOpacity=function(E,P){return h=255&E.rgba,k(E,h*P/255)},b.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}})(w||(l.color=w={})),(function(b){let k,E;try{const P=document.createElement("canvas");P.width=1,P.height=1;const T=P.getContext("2d",{willReadFrequently:!0});T&&(k=T,k.globalCompositeOperation="copy",E=k.createLinearGradient(0,0,1,1))}catch{}b.toColor=function(P){if(P.match(/#[\da-f]{3,8}/i))switch(P.length){case 4:return d=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),m=parseInt(P.slice(3,4).repeat(2),16),x.toColor(d,f,m);case 5:return d=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),m=parseInt(P.slice(3,4).repeat(2),16),h=parseInt(P.slice(4,5).repeat(2),16),x.toColor(d,f,m,h);case 7:return{css:P,rgba:(parseInt(P.slice(1),16)<<8|255)>>>0};case 9:return{css:P,rgba:parseInt(P.slice(1),16)>>>0}}const T=P.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return d=parseInt(T[1]),f=parseInt(T[2]),m=parseInt(T[3]),h=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),x.toColor(d,f,m,h);if(!k||!E)throw new Error("css.toColor: Unsupported css format");if(k.fillStyle=E,k.fillStyle=P,typeof k.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(k.fillRect(0,0,1,1),[d,f,m,h]=k.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:x.toRgba(d,f,m,h),css:P}}})(j||(l.css=j={})),(function(b){function k(E,P,T){const N=E/255,M=P/255,I=T/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}b.relativeLuminance=function(E){return k(E>>16&255,E>>8&255,255&E)},b.relativeLuminance2=k})(C||(l.rgb=C={})),(function(b){function k(P,T,N){const M=P>>24&255,I=P>>16&255,L=P>>8&255;let B=T>>24&255,H=T>>16&255,q=T>>8&255,z=g(C.relativeLuminance2(B,H,q),C.relativeLuminance2(M,I,L));for(;z<N&&(B>0||H>0||q>0);)B-=Math.max(0,Math.ceil(.1*B)),H-=Math.max(0,Math.ceil(.1*H)),q-=Math.max(0,Math.ceil(.1*q)),z=g(C.relativeLuminance2(B,H,q),C.relativeLuminance2(M,I,L));return(B<<24|H<<16|q<<8|255)>>>0}function E(P,T,N){const M=P>>24&255,I=P>>16&255,L=P>>8&255;let B=T>>24&255,H=T>>16&255,q=T>>8&255,z=g(C.relativeLuminance2(B,H,q),C.relativeLuminance2(M,I,L));for(;z<N&&(B<255||H<255||q<255);)B=Math.min(255,B+Math.ceil(.1*(255-B))),H=Math.min(255,H+Math.ceil(.1*(255-H))),q=Math.min(255,q+Math.ceil(.1*(255-q))),z=g(C.relativeLuminance2(B,H,q),C.relativeLuminance2(M,I,L));return(B<<24|H<<16|q<<8|255)>>>0}b.blend=function(P,T){if(h=(255&T)/255,h===1)return T;const N=T>>24&255,M=T>>16&255,I=T>>8&255,L=P>>24&255,B=P>>16&255,H=P>>8&255;return d=L+Math.round((N-L)*h),f=B+Math.round((M-B)*h),m=H+Math.round((I-H)*h),x.toRgba(d,f,m)},b.ensureContrastRatio=function(P,T,N){const M=C.relativeLuminance(P>>8),I=C.relativeLuminance(T>>8);if(g(M,I)<N){if(I<M){const H=k(P,T,N),q=g(M,C.relativeLuminance(H>>8));if(q<N){const z=E(P,T,N);return q>g(M,C.relativeLuminance(z>>8))?H:z}return H}const L=E(P,T,N),B=g(M,C.relativeLuminance(L>>8));if(B<N){const H=k(P,T,N);return B>g(M,C.relativeLuminance(H>>8))?L:H}return L}},b.reduceLuminance=k,b.increaseLuminance=E,b.toChannels=function(P){return[P>>24&255,P>>16&255,P>>8&255,255&P]}})(v||(l.rgba=v={})),l.toPaddedHex=y,l.contrastRatio=g},8969:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const f=d(844),m=d(2585),h=d(4348),x=d(7866),w=d(744),j=d(7302),C=d(6975),v=d(8460),y=d(1753),g=d(1480),b=d(7994),k=d(9282),E=d(5435),P=d(5981),T=d(2660);let N=!1;class M extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new v.EventEmitter),this._onScroll.event((L=>{var B;(B=this._onScrollApi)==null||B.fire(L.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(L){for(const B in L)this.optionsService.options[B]=L[B]}constructor(L){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new v.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new j.OptionsService(L)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(x.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(b.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,v.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,v.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,v.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,v.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new P.WriteBuffer(((B,H)=>this._inputHandler.parse(B,H)))),this.register((0,v.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(L,B){this._writeBuffer.write(L,B)}writeSync(L,B){this._logService.logLevel<=m.LogLevelEnum.WARN&&!N&&(this._logService.warn("writeSync is unreliable and will be removed soon."),N=!0),this._writeBuffer.writeSync(L,B)}input(L,B=!0){this.coreService.triggerDataEvent(L,B)}resize(L,B){isNaN(L)||isNaN(B)||(L=Math.max(L,w.MINIMUM_COLS),B=Math.max(B,w.MINIMUM_ROWS),this._bufferService.resize(L,B))}scroll(L,B=!1){this._bufferService.scroll(L,B)}scrollLines(L,B,H){this._bufferService.scrollLines(L,B,H)}scrollPages(L){this.scrollLines(L*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(L){const B=L-this._bufferService.buffer.ydisp;B!==0&&this.scrollLines(B)}registerEscHandler(L,B){return this._inputHandler.registerEscHandler(L,B)}registerDcsHandler(L,B){return this._inputHandler.registerDcsHandler(L,B)}registerCsiHandler(L,B){return this._inputHandler.registerCsiHandler(L,B)}registerOscHandler(L,B){return this._inputHandler.registerOscHandler(L,B)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let L=!1;const B=this.optionsService.rawOptions.windowsPty;B&&B.buildNumber!==void 0&&B.buildNumber!==void 0?L=B.backend==="conpty"&&B.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(L=!0),L?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const L=[];L.push(this.onLineFeed(k.updateWindowsModeWrappedState.bind(null,this._bufferService))),L.push(this.registerCsiHandler({final:"H"},(()=>((0,k.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)((()=>{for(const B of L)B.dispose()}))}}}l.CoreTerminal=M},8460:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=d=>(this._listeners.push(d),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===d)return void this._listeners.splice(f,1)}}})),this._event}fire(d,f){const m=[];for(let h=0;h<this._listeners.length;h++)m.push(this._listeners[h]);for(let h=0;h<m.length;h++)m[h].call(void 0,d,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(d,f){return d((m=>f.fire(m)))},l.runAndSubscribe=function(d,f){return f(void 0),d((m=>f(m)))}},5435:function(u,l,d){var f=this&&this.__decorate||function(K,F,R,O){var V,$=arguments.length,se=$<3?F:O===null?O=Object.getOwnPropertyDescriptor(F,R):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(K,F,R,O);else for(var de=K.length-1;de>=0;de--)(V=K[de])&&(se=($<3?V(se):$>3?V(F,R,se):V(F,R))||se);return $>3&&se&&Object.defineProperty(F,R,se),se},m=this&&this.__param||function(K,F){return function(R,O){F(R,O,K)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=d(2584),x=d(7116),w=d(2015),j=d(844),C=d(482),v=d(8437),y=d(8460),g=d(643),b=d(511),k=d(3734),E=d(2585),P=d(1480),T=d(6242),N=d(6351),M=d(5941),I={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function B(K,F){if(K>24)return F.setWinLines||!1;switch(K){case 1:return!!F.restoreWin;case 2:return!!F.minimizeWin;case 3:return!!F.setWinPosition;case 4:return!!F.setWinSizePixels;case 5:return!!F.raiseWin;case 6:return!!F.lowerWin;case 7:return!!F.refreshWin;case 8:return!!F.setWinSizeChars;case 9:return!!F.maximizeWin;case 10:return!!F.fullscreenWin;case 11:return!!F.getWinState;case 13:return!!F.getWinPosition;case 14:return!!F.getWinSizePixels;case 15:return!!F.getScreenSizePixels;case 16:return!!F.getCellSizePixels;case 18:return!!F.getWinSizeChars;case 19:return!!F.getScreenSizeChars;case 20:return!!F.getIconTitle;case 21:return!!F.getWinTitle;case 22:return!!F.pushTitle;case 23:return!!F.popTitle;case 24:return!!F.setWinLines}return!1}var H;(function(K){K[K.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",K[K.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(l.WindowsOptionsReportType=H={}));let q=0;class z extends j.Disposable{getAttrData(){return this._curAttrData}constructor(F,R,O,V,$,se,de,pe,X=new w.EscapeSequenceParser){super(),this._bufferService=F,this._charsetService=R,this._coreService=O,this._logService=V,this._optionsService=$,this._oscLinkService=se,this._coreMouseService=de,this._unicodeService=pe,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new b.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((W=>this._activeBuffer=W.activeBuffer))),this._parser.setCsiHandlerFallback(((W,ce)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(W),params:ce.toArray()})})),this._parser.setEscHandlerFallback((W=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(W)})})),this._parser.setExecuteHandlerFallback((W=>{this._logService.debug("Unknown EXECUTE code: ",{code:W})})),this._parser.setOscHandlerFallback(((W,ce,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:W,action:ce,data:ie})})),this._parser.setDcsHandlerFallback(((W,ce,ie)=>{ce==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(W),action:ce,payload:ie})})),this._parser.setPrintHandler(((W,ce,ie)=>this.print(W,ce,ie))),this._parser.registerCsiHandler({final:"@"},(W=>this.insertChars(W))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(W=>this.scrollLeft(W))),this._parser.registerCsiHandler({final:"A"},(W=>this.cursorUp(W))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(W=>this.scrollRight(W))),this._parser.registerCsiHandler({final:"B"},(W=>this.cursorDown(W))),this._parser.registerCsiHandler({final:"C"},(W=>this.cursorForward(W))),this._parser.registerCsiHandler({final:"D"},(W=>this.cursorBackward(W))),this._parser.registerCsiHandler({final:"E"},(W=>this.cursorNextLine(W))),this._parser.registerCsiHandler({final:"F"},(W=>this.cursorPrecedingLine(W))),this._parser.registerCsiHandler({final:"G"},(W=>this.cursorCharAbsolute(W))),this._parser.registerCsiHandler({final:"H"},(W=>this.cursorPosition(W))),this._parser.registerCsiHandler({final:"I"},(W=>this.cursorForwardTab(W))),this._parser.registerCsiHandler({final:"J"},(W=>this.eraseInDisplay(W,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(W=>this.eraseInDisplay(W,!0))),this._parser.registerCsiHandler({final:"K"},(W=>this.eraseInLine(W,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(W=>this.eraseInLine(W,!0))),this._parser.registerCsiHandler({final:"L"},(W=>this.insertLines(W))),this._parser.registerCsiHandler({final:"M"},(W=>this.deleteLines(W))),this._parser.registerCsiHandler({final:"P"},(W=>this.deleteChars(W))),this._parser.registerCsiHandler({final:"S"},(W=>this.scrollUp(W))),this._parser.registerCsiHandler({final:"T"},(W=>this.scrollDown(W))),this._parser.registerCsiHandler({final:"X"},(W=>this.eraseChars(W))),this._parser.registerCsiHandler({final:"Z"},(W=>this.cursorBackwardTab(W))),this._parser.registerCsiHandler({final:"`"},(W=>this.charPosAbsolute(W))),this._parser.registerCsiHandler({final:"a"},(W=>this.hPositionRelative(W))),this._parser.registerCsiHandler({final:"b"},(W=>this.repeatPrecedingCharacter(W))),this._parser.registerCsiHandler({final:"c"},(W=>this.sendDeviceAttributesPrimary(W))),this._parser.registerCsiHandler({prefix:">",final:"c"},(W=>this.sendDeviceAttributesSecondary(W))),this._parser.registerCsiHandler({final:"d"},(W=>this.linePosAbsolute(W))),this._parser.registerCsiHandler({final:"e"},(W=>this.vPositionRelative(W))),this._parser.registerCsiHandler({final:"f"},(W=>this.hVPosition(W))),this._parser.registerCsiHandler({final:"g"},(W=>this.tabClear(W))),this._parser.registerCsiHandler({final:"h"},(W=>this.setMode(W))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(W=>this.setModePrivate(W))),this._parser.registerCsiHandler({final:"l"},(W=>this.resetMode(W))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(W=>this.resetModePrivate(W))),this._parser.registerCsiHandler({final:"m"},(W=>this.charAttributes(W))),this._parser.registerCsiHandler({final:"n"},(W=>this.deviceStatus(W))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(W=>this.deviceStatusPrivate(W))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(W=>this.softReset(W))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(W=>this.setCursorStyle(W))),this._parser.registerCsiHandler({final:"r"},(W=>this.setScrollRegion(W))),this._parser.registerCsiHandler({final:"s"},(W=>this.saveCursor(W))),this._parser.registerCsiHandler({final:"t"},(W=>this.windowOptions(W))),this._parser.registerCsiHandler({final:"u"},(W=>this.restoreCursor(W))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(W=>this.insertColumns(W))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(W=>this.deleteColumns(W))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(W=>this.selectProtected(W))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(W=>this.requestMode(W,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(W=>this.requestMode(W,!1))),this._parser.setExecuteHandler(h.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(h.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(h.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(h.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(h.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(h.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(h.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(h.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(h.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new T.OscHandler((W=>(this.setTitle(W),this.setIconName(W),!0)))),this._parser.registerOscHandler(1,new T.OscHandler((W=>this.setIconName(W)))),this._parser.registerOscHandler(2,new T.OscHandler((W=>this.setTitle(W)))),this._parser.registerOscHandler(4,new T.OscHandler((W=>this.setOrReportIndexedColor(W)))),this._parser.registerOscHandler(8,new T.OscHandler((W=>this.setHyperlink(W)))),this._parser.registerOscHandler(10,new T.OscHandler((W=>this.setOrReportFgColor(W)))),this._parser.registerOscHandler(11,new T.OscHandler((W=>this.setOrReportBgColor(W)))),this._parser.registerOscHandler(12,new T.OscHandler((W=>this.setOrReportCursorColor(W)))),this._parser.registerOscHandler(104,new T.OscHandler((W=>this.restoreIndexedColor(W)))),this._parser.registerOscHandler(110,new T.OscHandler((W=>this.restoreFgColor(W)))),this._parser.registerOscHandler(111,new T.OscHandler((W=>this.restoreBgColor(W)))),this._parser.registerOscHandler(112,new T.OscHandler((W=>this.restoreCursorColor(W)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const W in x.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:W},(()=>this.selectCharset("("+W))),this._parser.registerEscHandler({intermediates:")",final:W},(()=>this.selectCharset(")"+W))),this._parser.registerEscHandler({intermediates:"*",final:W},(()=>this.selectCharset("*"+W))),this._parser.registerEscHandler({intermediates:"+",final:W},(()=>this.selectCharset("+"+W))),this._parser.registerEscHandler({intermediates:"-",final:W},(()=>this.selectCharset("-"+W))),this._parser.registerEscHandler({intermediates:".",final:W},(()=>this.selectCharset("."+W))),this._parser.registerEscHandler({intermediates:"/",final:W},(()=>this.selectCharset("/"+W)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((W=>(this._logService.error("Parsing error: ",W),W))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new N.DcsHandler(((W,ce)=>this.requestStatusString(W,ce))))}_preserveStack(F,R,O,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=F,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=O,this._parseStack.position=V}_logSlowResolvingAsync(F){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([F,new Promise(((R,O)=>setTimeout((()=>O("#SLOW_TIMEOUT")),5e3)))]).catch((R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(F,R){let O,V=this._activeBuffer.x,$=this._activeBuffer.y,se=0;const de=this._parseStack.paused;if(de){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(O),O;V=this._parseStack.cursorStartX,$=this._parseStack.cursorStartY,this._parseStack.paused=!1,F.length>L&&(se=this._parseStack.position+L)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof F=="string"?` "${F}"`:` "${Array.prototype.map.call(F,(W=>String.fromCharCode(W))).join("")}"`),typeof F=="string"?F.split("").map((W=>W.charCodeAt(0))):F),this._parseBuffer.length<F.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(F.length,L))),de||this._dirtyRowTracker.clearRange(),F.length>L)for(let W=se;W<F.length;W+=L){const ce=W+L<F.length?W+L:F.length,ie=typeof F=="string"?this._stringDecoder.decode(F.substring(W,ce),this._parseBuffer):this._utf8Decoder.decode(F.subarray(W,ce),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(V,$,ie,W),this._logSlowResolvingAsync(O),O}else if(!de){const W=typeof F=="string"?this._stringDecoder.decode(F,this._parseBuffer):this._utf8Decoder.decode(F,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,W))return this._preserveStack(V,$,W,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===V&&this._activeBuffer.y===$||this._onCursorMove.fire();const pe=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),X=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);X<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(X,this._bufferService.rows-1),Math.min(pe,this._bufferService.rows-1))}print(F,R,O){let V,$;const se=this._charsetService.charset,de=this._optionsService.rawOptions.screenReaderMode,pe=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,W=this._coreService.modes.insertMode,ce=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-R>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodepoint(this._activeBuffer.x-1,0,1,ce);let Q=this._parser.precedingJoinState;for(let le=R;le<O;++le){if(V=F[le],V<127&&se){const fe=se[String.fromCharCode(V)];fe&&(V=fe.charCodeAt(0))}const we=this._unicodeService.charProperties(V,Q);$=P.UnicodeService.extractWidth(we);const Le=P.UnicodeService.extractShouldJoin(we),Ke=Le?P.UnicodeService.extractWidth(Q):0;if(Q=we,de&&this._onA11yChar.fire((0,C.stringFromCodePoint)(V)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+$-Ke>pe){if(X){const fe=ie;let ye=this._activeBuffer.x-Ke;for(this._activeBuffer.x=Ke,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ke>0&&ie instanceof v.BufferLine&&ie.copyCellsFrom(fe,ye,0,Ke,!1);ye<pe;)fe.setCellFromCodepoint(ye++,0,1,ce)}else if(this._activeBuffer.x=pe-1,$===2)continue}if(Le&&this._activeBuffer.x){const fe=ie.getWidth(this._activeBuffer.x-1)?1:2;ie.addCodepointToCell(this._activeBuffer.x-fe,V,$);for(let ye=$-Ke;--ye>=0;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,ce)}else if(W&&(ie.insertCells(this._activeBuffer.x,$-Ke,this._activeBuffer.getNullCell(ce)),ie.getWidth(pe-1)===2&&ie.setCellFromCodepoint(pe-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,ce)),ie.setCellFromCodepoint(this._activeBuffer.x++,V,$,ce),$>0)for(;--$;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,ce)}this._parser.precedingJoinState=Q,this._activeBuffer.x<pe&&O-R>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodepoint(this._activeBuffer.x,0,1,ce),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(F,R){return F.final!=="t"||F.prefix||F.intermediates?this._parser.registerCsiHandler(F,R):this._parser.registerCsiHandler(F,(O=>!B(O.params[0],this._optionsService.rawOptions.windowOptions)||R(O)))}registerDcsHandler(F,R){return this._parser.registerDcsHandler(F,new N.DcsHandler(R))}registerEscHandler(F,R){return this._parser.registerEscHandler(F,R)}registerOscHandler(F,R){return this._parser.registerOscHandler(F,new T.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var F;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&F.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const F=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-F),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(F=this._bufferService.cols-1){this._activeBuffer.x=Math.min(F,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(F,R){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=F,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=F,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(F,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+F,this._activeBuffer.y+R)}cursorUp(F){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,F.params[0]||1)):this._moveCursor(0,-(F.params[0]||1)),!0}cursorDown(F){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,F.params[0]||1)):this._moveCursor(0,F.params[0]||1),!0}cursorForward(F){return this._moveCursor(F.params[0]||1,0),!0}cursorBackward(F){return this._moveCursor(-(F.params[0]||1),0),!0}cursorNextLine(F){return this.cursorDown(F),this._activeBuffer.x=0,!0}cursorPrecedingLine(F){return this.cursorUp(F),this._activeBuffer.x=0,!0}cursorCharAbsolute(F){return this._setCursor((F.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(F){return this._setCursor(F.length>=2?(F.params[1]||1)-1:0,(F.params[0]||1)-1),!0}charPosAbsolute(F){return this._setCursor((F.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(F){return this._moveCursor(F.params[0]||1,0),!0}linePosAbsolute(F){return this._setCursor(this._activeBuffer.x,(F.params[0]||1)-1),!0}vPositionRelative(F){return this._moveCursor(0,F.params[0]||1),!0}hVPosition(F){return this.cursorPosition(F),!0}tabClear(F){const R=F.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(F){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=F.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(F){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=F.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(F){const R=F.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(F,R,O,V=!1,$=!1){const se=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);se.replaceCells(R,O,this._activeBuffer.getNullCell(this._eraseAttrData()),$),V&&(se.isWrapped=!1)}_resetBufferLine(F,R=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+F),O.isWrapped=!1)}eraseInDisplay(F,R=!1){let O;switch(this._restrictCursor(this._bufferService.cols),F.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);O<this._bufferService.rows;O++)this._resetBufferLine(O,R);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,R);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,R);this._dirtyRowTracker.markDirty(0);break;case 3:const V=this._activeBuffer.lines.length-this._bufferService.rows;V>0&&(this._activeBuffer.lines.trimStart(V),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-V,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-V,0),this._onScroll.fire(0))}return!0}eraseInLine(F,R=!1){switch(this._restrictCursor(this._bufferService.cols),F.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(F){this._restrictCursor();let R=F.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,$=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;for(;R--;)this._activeBuffer.lines.splice($-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(F){this._restrictCursor();let R=F.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let V;for(V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-V;R--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(V,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(F){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,F.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(F){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,F.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(F){let R=F.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(F){let R=F.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(v.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(F){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=F.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);V.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(F){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=F.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);V.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(F){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=F.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);V.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(F){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=F.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);V.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(F){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(F.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(F){const R=this._parser.precedingJoinState;if(!R)return!0;const O=F.params[0]||1,V=P.UnicodeService.extractWidth(R),$=this._activeBuffer.x-V,se=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString($),de=new Uint32Array(se.length*O);let pe=0;for(let W=0;W<se.length;){const ce=se.codePointAt(W)||0;de[pe++]=ce,W+=ce>65535?2:1}let X=pe;for(let W=1;W<O;++W)de.copyWithin(X,0,pe),X+=pe;return this.print(de,0,X),!0}sendDeviceAttributesPrimary(F){return F.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(F){return F.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(F.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(F){return(this._optionsService.rawOptions.termName+"").indexOf(F)===0}setMode(F){for(let R=0;R<F.length;R++)switch(F.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(F){for(let R=0;R<F.length;R++)switch(F.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),this._charsetService.setgCharset(1,x.DEFAULT_CHARSET),this._charsetService.setgCharset(2,x.DEFAULT_CHARSET),this._charsetService.setgCharset(3,x.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(F){for(let R=0;R<F.length;R++)switch(F.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(F){for(let R=0;R<F.length;R++)switch(F.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),F.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(F,R){const O=this._coreService.decPrivateModes,{activeProtocol:V,activeEncoding:$}=this._coreMouseService,se=this._coreService,{buffers:de,cols:pe}=this._bufferService,{active:X,alt:W}=de,ce=this._optionsService.rawOptions,ie=Le=>Le?1:2,Q=F.params[0];return le=Q,we=R?Q===2?4:Q===4?ie(se.modes.insertMode):Q===12?3:Q===20?ie(ce.convertEol):0:Q===1?ie(O.applicationCursorKeys):Q===3?ce.windowOptions.setWinLines?pe===80?2:pe===132?1:0:0:Q===6?ie(O.origin):Q===7?ie(O.wraparound):Q===8?3:Q===9?ie(V==="X10"):Q===12?ie(ce.cursorBlink):Q===25?ie(!se.isCursorHidden):Q===45?ie(O.reverseWraparound):Q===66?ie(O.applicationKeypad):Q===67?4:Q===1e3?ie(V==="VT200"):Q===1002?ie(V==="DRAG"):Q===1003?ie(V==="ANY"):Q===1004?ie(O.sendFocus):Q===1005?4:Q===1006?ie($==="SGR"):Q===1015?4:Q===1016?ie($==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?ie(X===W):Q===2004?ie(O.bracketedPasteMode):0,se.triggerDataEvent(`${h.C0.ESC}[${R?"":"?"}${le};${we}$y`),!0;var le,we}_updateAttrColor(F,R,O,V,$){return R===2?(F|=50331648,F&=-16777216,F|=k.AttributeData.fromColorRGB([O,V,$])):R===5&&(F&=-50331904,F|=33554432|255&O),F}_extractColor(F,R,O){const V=[0,0,-1,0,0,0];let $=0,se=0;do{if(V[se+$]=F.params[R+se],F.hasSubParams(R+se)){const de=F.getSubParams(R+se);let pe=0;do V[1]===5&&($=1),V[se+pe+1+$]=de[pe];while(++pe<de.length&&pe+se+1+$<V.length);break}if(V[1]===5&&se+$>=2||V[1]===2&&se+$>=5)break;V[1]&&($=1)}while(++se+R<F.length&&se+$<V.length);for(let de=2;de<V.length;++de)V[de]===-1&&(V[de]=0);switch(V[0]){case 38:O.fg=this._updateAttrColor(O.fg,V[1],V[3],V[4],V[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,V[1],V[3],V[4],V[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,V[1],V[3],V[4],V[5])}return se}_processUnderline(F,R){R.extended=R.extended.clone(),(!~F||F>5)&&(F=1),R.extended.underlineStyle=F,R.fg|=268435456,F===0&&(R.fg&=-268435457),R.updateExtended()}_processSGR0(F){F.fg=v.DEFAULT_ATTR_DATA.fg,F.bg=v.DEFAULT_ATTR_DATA.bg,F.extended=F.extended.clone(),F.extended.underlineStyle=0,F.extended.underlineColor&=-67108864,F.updateExtended()}charAttributes(F){if(F.length===1&&F.params[0]===0)return this._processSGR0(this._curAttrData),!0;const R=F.length;let O;const V=this._curAttrData;for(let $=0;$<R;$++)O=F.params[$],O>=30&&O<=37?(V.fg&=-50331904,V.fg|=16777216|O-30):O>=40&&O<=47?(V.bg&=-50331904,V.bg|=16777216|O-40):O>=90&&O<=97?(V.fg&=-50331904,V.fg|=16777224|O-90):O>=100&&O<=107?(V.bg&=-50331904,V.bg|=16777224|O-100):O===0?this._processSGR0(V):O===1?V.fg|=134217728:O===3?V.bg|=67108864:O===4?(V.fg|=268435456,this._processUnderline(F.hasSubParams($)?F.getSubParams($)[0]:1,V)):O===5?V.fg|=536870912:O===7?V.fg|=67108864:O===8?V.fg|=1073741824:O===9?V.fg|=2147483648:O===2?V.bg|=134217728:O===21?this._processUnderline(2,V):O===22?(V.fg&=-134217729,V.bg&=-134217729):O===23?V.bg&=-67108865:O===24?(V.fg&=-268435457,this._processUnderline(0,V)):O===25?V.fg&=-536870913:O===27?V.fg&=-67108865:O===28?V.fg&=-1073741825:O===29?V.fg&=2147483647:O===39?(V.fg&=-67108864,V.fg|=16777215&v.DEFAULT_ATTR_DATA.fg):O===49?(V.bg&=-67108864,V.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?$+=this._extractColor(F,$,V):O===53?V.bg|=1073741824:O===55?V.bg&=-1073741825:O===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):O===100?(V.fg&=-67108864,V.fg|=16777215&v.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(F){switch(F.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${R};${O}R`)}return!0}deviceStatusPrivate(F){if(F.params[0]===6){const R=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${R};${O}R`)}return!0}softReset(F){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(F){const R=F.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=R%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(F){const R=F.params[0]||1;let O;return(F.length<2||(O=F.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(F){if(!B(F.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=F.length>1?F.params[1]:0;switch(F.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(F){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(F){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(F){return this._windowTitle=F,this._onTitleChange.fire(F),!0}setIconName(F){return this._iconName=F,!0}setOrReportIndexedColor(F){const R=[],O=F.split(";");for(;O.length>1;){const V=O.shift(),$=O.shift();if(/^\d+$/.exec(V)){const se=parseInt(V);if(J(se))if($==="?")R.push({type:0,index:se});else{const de=(0,M.parseColor)($);de&&R.push({type:1,index:se,color:de})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(F){const R=F.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(F,R){this._getCurrentLinkId()&&this._finishHyperlink();const O=F.split(":");let V;const $=O.findIndex((se=>se.startsWith("id=")));return $!==-1&&(V=O[$].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:V,uri:R}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(F,R){const O=F.split(";");for(let V=0;V<O.length&&!(R>=this._specialColors.length);++V,++R)if(O[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const $=(0,M.parseColor)(O[V]);$&&this._onColor.fire([{type:1,index:this._specialColors[R],color:$}])}return!0}setOrReportFgColor(F){return this._setOrReportSpecialColor(F,0)}setOrReportBgColor(F){return this._setOrReportSpecialColor(F,1)}setOrReportCursorColor(F){return this._setOrReportSpecialColor(F,2)}restoreIndexedColor(F){if(!F)return this._onColor.fire([{type:2}]),!0;const R=[],O=F.split(";");for(let V=0;V<O.length;++V)if(/^\d+$/.exec(O[V])){const $=parseInt(O[V]);J($)&&R.push({type:2,index:$})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(F){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(F){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(F){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),!0}selectCharset(F){return F.length!==2?(this.selectDefaultCharset(),!0):(F[0]==="/"||this._charsetService.setgCharset(I[F[0]],x.CHARSETS[F[1]]||x.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const F=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,F,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(F){return this._charsetService.setgLevel(F),!0}screenAlignmentPattern(){const F=new b.CellData;F.content=4194373,F.fg=this._curAttrData.fg,F.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const O=this._activeBuffer.ybase+this._activeBuffer.y+R,V=this._activeBuffer.lines.get(O);V&&(V.fill(F),V.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(F,R){const O=this._bufferService.buffer,V=this._optionsService.rawOptions;return($=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${$}${h.C0.ESC}\\`),!0))(F==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:F==='"p'?'P1$r61;1"p':F==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:F==="m"?"P1$r0m":F===" q"?`P1$r${{block:2,underline:4,bar:6}[V.cursorStyle]-(V.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(F,R){this._dirtyRowTracker.markRangeDirty(F,R)}}l.InputHandler=z;let G=class{constructor(K){this._bufferService=K,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(K){K<this.start?this.start=K:K>this.end&&(this.end=K)}markRangeDirty(K,F){K>F&&(q=K,K=F,F=q),K<this.start&&(this.start=K),F>this.end&&(this.end=F)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function J(K){return 0<=K&&K<256}G=f([m(0,E.IBufferService)],G)},844:(u,l)=>{function d(f){for(const m of f)m.dispose();f.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const m=this._disposables.indexOf(f);m!==-1&&this._disposables.splice(m,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var m;this._isDisposed||f===this._value||((m=this._value)==null||m.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},l.toDisposable=function(f){return{dispose:f}},l.disposeArray=d,l.getDisposeArrayDisposable=function(f){return{dispose:()=>d(f)}}},1505:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class d{constructor(){this._data={}}set(m,h,x){this._data[m]||(this._data[m]={}),this._data[m][h]=x}get(m,h){return this._data[m]?this._data[m][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=d,l.FourKeyMap=class{constructor(){this._data=new d}set(f,m,h,x,w){this._data.get(f,m)||this._data.set(f,m,new d),this._data.get(f,m).set(h,x,w)}get(f,m,h,x){var w;return(w=this._data.get(f,m))==null?void 0:w.get(h,x)}clear(){this._data.clear()}}},6114:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof process<"u"&&"title"in process;const d=l.isNode?"node":navigator.userAgent,f=l.isNode?"node":navigator.platform;l.isFirefox=d.includes("Firefox"),l.isLegacyEdge=d.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(d),l.getSafariVersion=function(){if(!l.isSafari)return 0;const m=d.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),l.isIpad=f==="iPad",l.isIphone=f==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),l.isLinux=f.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(d)},6106:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let d=0;l.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(d=this._search(this._getKey(f)),this._array.splice(d,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const m=this._getKey(f);if(m===void 0||(d=this._search(m),d===-1)||this._getKey(this._array[d])!==m)return!1;do if(this._array[d]===f)return this._array.splice(d,1),!0;while(++d<this._array.length&&this._getKey(this._array[d])===m);return!1}*getKeyIterator(f){if(this._array.length!==0&&(d=this._search(f),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===f))do yield this._array[d];while(++d<this._array.length&&this._getKey(this._array[d])===f)}forEachByKey(f,m){if(this._array.length!==0&&(d=this._search(f),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===f))do m(this._array[d]);while(++d<this._array.length&&this._getKey(this._array[d])===f)}values(){return[...this._array].values()}_search(f){let m=0,h=this._array.length-1;for(;h>=m;){let x=m+h>>1;const w=this._getKey(this._array[x]);if(w>f)h=x-1;else{if(!(w<f)){for(;x>0&&this._getKey(this._array[x-1])===f;)x--;return x}m=x+1}}return m}}},7226:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const f=d(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let j=0,C=0,v=w.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(j=Date.now(),this._tasks[this._i]()||this._i++,j=Math.max(1,Date.now()-j),C=Math.max(j,C),y=w.timeRemaining(),1.5*C>y)return v-j<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-j))}ms`),void this._start();v=y}this.clear()}}class h extends m{_requestCallback(w){return setTimeout((()=>w(this._createDeadline(16))))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const j=Date.now()+w;return{timeRemaining:()=>Math.max(0,j-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(x){return requestIdleCallback(x)}_cancelCallback(x){cancelIdleCallback(x)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(x){this._queue.clear(),this._queue.enqueue(x)}flush(){this._queue.flush()}}},9282:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const f=d(643);l.updateWindowsModeWrappedState=function(m){const h=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),x=h==null?void 0:h.get(m.cols-1),w=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);w&&x&&(w.isWrapped=x[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&x[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class d{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new d;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}l.AttributeData=d;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,x=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=x}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=f},9092:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const f=d(6349),m=d(7226),h=d(3734),x=d(8437),w=d(4634),j=d(511),C=d(643),v=d(4863),y=d(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(g,b,k){this._hasScrollback=g,this._optionsService=b,this._bufferService=k,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=x.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=j.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=j.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,b){return new x.BufferLine(this._bufferService.cols,this.getNullCell(g),b)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const b=g+this._optionsService.rawOptions.scrollback;return b>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:b}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=x.DEFAULT_ATTR_DATA);let b=this._rows;for(;b--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,b){const k=this.getNullCell(x.DEFAULT_ATTR_DATA);let E=0;const P=this._getCorrectBufferLength(b);if(P>this.lines.maxLength&&(this.lines.maxLength=P),this.lines.length>0){if(this._cols<g)for(let N=0;N<this.lines.length;N++)E+=+this.lines.get(N).resize(g,k);let T=0;if(this._rows<b)for(let N=this._rows;N<b;N++)this.lines.length<b+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new x.BufferLine(g,k)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new x.BufferLine(g,k)));else for(let N=this._rows;N>b;N--)this.lines.length>b+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(P<this.lines.maxLength){const N=this.lines.length-P;N>0&&(this.lines.trimStart(N),this.ybase=Math.max(this.ybase-N,0),this.ydisp=Math.max(this.ydisp-N,0),this.savedY=Math.max(this.savedY-N,0)),this.lines.maxLength=P}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,b-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=b-1,this._isReflowEnabled&&(this._reflow(g,b),this._cols>g))for(let T=0;T<this.lines.length;T++)E+=+this.lines.get(T).resize(g,k);this._cols=g,this._rows=b,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let b=0;for(;this._memoryCleanupPosition<this.lines.length;)if(b+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),b>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,b){this._cols!==g&&(g>this._cols?this._reflowLarger(g,b):this._reflowSmaller(g,b))}_reflowLarger(g,b){const k=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(x.DEFAULT_ATTR_DATA));if(k.length>0){const E=(0,w.reflowLargerCreateNewLayout)(this.lines,k);(0,w.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(g,b,E.countRemoved)}}_reflowLargerAdjustViewport(g,b,k){const E=this.getNullCell(x.DEFAULT_ATTR_DATA);let P=k;for(;P-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<b&&this.lines.push(new x.BufferLine(g,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-k,0)}_reflowSmaller(g,b){const k=this.getNullCell(x.DEFAULT_ATTR_DATA),E=[];let P=0;for(let T=this.lines.length-1;T>=0;T--){let N=this.lines.get(T);if(!N||!N.isWrapped&&N.getTrimmedLength()<=g)continue;const M=[N];for(;N.isWrapped&&T>0;)N=this.lines.get(--T),M.unshift(N);const I=this.ybase+this.y;if(I>=T&&I<T+M.length)continue;const L=M[M.length-1].getTrimmedLength(),B=(0,w.reflowSmallerGetNewLineLengths)(M,this._cols,g),H=B.length-M.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const z=[];for(let O=0;O<H;O++){const V=this.getBlankLine(x.DEFAULT_ATTR_DATA,!0);z.push(V)}z.length>0&&(E.push({start:T+M.length+P,newLines:z}),P+=z.length),M.push(...z);let G=B.length-1,J=B[G];J===0&&(G--,J=B[G]);let K=M.length-H-1,F=L;for(;K>=0;){const O=Math.min(F,J);if(M[G]===void 0)break;if(M[G].copyCellsFrom(M[K],F-O,J-O,O,!0),J-=O,J===0&&(G--,J=B[G]),F-=O,F===0){K--;const V=Math.max(K,0);F=(0,w.getWrappedLineTrimmedLength)(M,V,this._cols)}}for(let O=0;O<M.length;O++)B[O]<g&&M[O].setCell(B[O],k);let R=H-q;for(;R-- >0;)this.ybase===0?this.y<b-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+P)-b&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+b-1)}if(E.length>0){const T=[],N=[];for(let G=0;G<this.lines.length;G++)N.push(this.lines.get(G));const M=this.lines.length;let I=M-1,L=0,B=E[L];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+P);let H=0;for(let G=Math.min(this.lines.maxLength-1,M+P-1);G>=0;G--)if(B&&B.start>I+H){for(let J=B.newLines.length-1;J>=0;J--)this.lines.set(G--,B.newLines[J]);G++,T.push({index:I+1,amount:B.newLines.length}),H+=B.newLines.length,B=E[++L]}else this.lines.set(G,N[I--]);let q=0;for(let G=T.length-1;G>=0;G--)T[G].index+=q,this.lines.onInsertEmitter.fire(T[G]),q+=T[G].amount;const z=Math.max(0,M+P-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(g,b,k=0,E){const P=this.lines.get(g);return P?P.translateToString(b,k,E):""}getWrappedRangeForLine(g){let b=g,k=g;for(;b>0&&this.lines.get(b).isWrapped;)b--;for(;k+1<this.lines.length&&this.lines.get(k+1).isWrapped;)k++;return{first:b,last:k}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let b=0;b<this.markers.length;b++)this.markers[b].line===g&&(this.markers[b].dispose(),this.markers.splice(b--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const b=new v.Marker(g);return this.markers.push(b),b.register(this.lines.onTrim((k=>{b.line-=k,b.line<0&&b.dispose()}))),b.register(this.lines.onInsert((k=>{b.line>=k.index&&(b.line+=k.amount)}))),b.register(this.lines.onDelete((k=>{b.line>=k.index&&b.line<k.index+k.amount&&b.dispose(),b.line>k.index&&(b.line-=k.amount)}))),b.register(b.onDispose((()=>this._removeMarker(b)))),b}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const f=d(3734),m=d(511),h=d(643),x=d(482);l.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class j{constructor(v,y,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*v);const b=y||m.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let k=0;k<v;++k)this.setCell(k,b);this.length=v}get(v){const y=this._data[3*v+0],g=2097151&y;return[this._data[3*v+1],2097152&y?this._combined[v]:g?(0,x.stringFromCodePoint)(g):"",y>>22,2097152&y?this._combined[v].charCodeAt(this._combined[v].length-1):g]}set(v,y){this._data[3*v+1]=y[h.CHAR_DATA_ATTR_INDEX],y[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[v]=y[1],this._data[3*v+0]=2097152|v|y[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*v+0]=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(v){return this._data[3*v+0]>>22}hasWidth(v){return 12582912&this._data[3*v+0]}getFg(v){return this._data[3*v+1]}getBg(v){return this._data[3*v+2]}hasContent(v){return 4194303&this._data[3*v+0]}getCodePoint(v){const y=this._data[3*v+0];return 2097152&y?this._combined[v].charCodeAt(this._combined[v].length-1):2097151&y}isCombined(v){return 2097152&this._data[3*v+0]}getString(v){const y=this._data[3*v+0];return 2097152&y?this._combined[v]:2097151&y?(0,x.stringFromCodePoint)(2097151&y):""}isProtected(v){return 536870912&this._data[3*v+2]}loadCell(v,y){return w=3*v,y.content=this._data[w+0],y.fg=this._data[w+1],y.bg=this._data[w+2],2097152&y.content&&(y.combinedData=this._combined[v]),268435456&y.bg&&(y.extended=this._extendedAttrs[v]),y}setCell(v,y){2097152&y.content&&(this._combined[v]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[v]=y.extended),this._data[3*v+0]=y.content,this._data[3*v+1]=y.fg,this._data[3*v+2]=y.bg}setCellFromCodepoint(v,y,g,b){268435456&b.bg&&(this._extendedAttrs[v]=b.extended),this._data[3*v+0]=y|g<<22,this._data[3*v+1]=b.fg,this._data[3*v+2]=b.bg}addCodepointToCell(v,y,g){let b=this._data[3*v+0];2097152&b?this._combined[v]+=(0,x.stringFromCodePoint)(y):2097151&b?(this._combined[v]=(0,x.stringFromCodePoint)(2097151&b)+(0,x.stringFromCodePoint)(y),b&=-2097152,b|=2097152):b=y|4194304,g&&(b&=-12582913,b|=g<<22),this._data[3*v+0]=b}insertCells(v,y,g){if((v%=this.length)&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),y<this.length-v){const b=new m.CellData;for(let k=this.length-v-y-1;k>=0;--k)this.setCell(v+y+k,this.loadCell(v+k,b));for(let k=0;k<y;++k)this.setCell(v+k,g)}else for(let b=v;b<this.length;++b)this.setCell(b,g);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,g)}deleteCells(v,y,g){if(v%=this.length,y<this.length-v){const b=new m.CellData;for(let k=0;k<this.length-v-y;++k)this.setCell(v+k,this.loadCell(v+y+k,b));for(let k=this.length-y;k<this.length;++k)this.setCell(k,g)}else for(let b=v;b<this.length;++b)this.setCell(b,g);v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),this.getWidth(v)!==0||this.hasContent(v)||this.setCellFromCodepoint(v,0,1,g)}replaceCells(v,y,g,b=!1){if(b)for(v&&this.getWidth(v-1)===2&&!this.isProtected(v-1)&&this.setCellFromCodepoint(v-1,0,1,g),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodepoint(y,0,1,g);v<y&&v<this.length;)this.isProtected(v)||this.setCell(v,g),v++;else for(v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y,0,1,g);v<y&&v<this.length;)this.setCell(v++,g)}resize(v,y){if(v===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*v;if(v>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const b=new Uint32Array(g);b.set(this._data),this._data=b}for(let b=this.length;b<v;++b)this.setCell(b,y)}else{this._data=this._data.subarray(0,g);const b=Object.keys(this._combined);for(let E=0;E<b.length;E++){const P=parseInt(b[E],10);P>=v&&delete this._combined[P]}const k=Object.keys(this._extendedAttrs);for(let E=0;E<k.length;E++){const P=parseInt(k[E],10);P>=v&&delete this._extendedAttrs[P]}}return this.length=v,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const v=new Uint32Array(this._data.length);return v.set(this._data),this._data=v,1}return 0}fill(v,y=!1){if(y)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,v);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,v)}}copyFrom(v){this.length!==v.length?this._data=new Uint32Array(v._data):this._data.set(v._data),this.length=v.length,this._combined={};for(const y in v._combined)this._combined[y]=v._combined[y];this._extendedAttrs={};for(const y in v._extendedAttrs)this._extendedAttrs[y]=v._extendedAttrs[y];this.isWrapped=v.isWrapped}clone(){const v=new j(0);v._data=new Uint32Array(this._data),v.length=this.length;for(const y in this._combined)v._combined[y]=this._combined[y];for(const y in this._extendedAttrs)v._extendedAttrs[y]=this._extendedAttrs[y];return v.isWrapped=this.isWrapped,v}getTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0])return v+(this._data[3*v+0]>>22);return 0}getNoBgTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0]||50331648&this._data[3*v+2])return v+(this._data[3*v+0]>>22);return 0}copyCellsFrom(v,y,g,b,k){const E=v._data;if(k)for(let T=b-1;T>=0;T--){for(let N=0;N<3;N++)this._data[3*(g+T)+N]=E[3*(y+T)+N];268435456&E[3*(y+T)+2]&&(this._extendedAttrs[g+T]=v._extendedAttrs[y+T])}else for(let T=0;T<b;T++){for(let N=0;N<3;N++)this._data[3*(g+T)+N]=E[3*(y+T)+N];268435456&E[3*(y+T)+2]&&(this._extendedAttrs[g+T]=v._extendedAttrs[y+T])}const P=Object.keys(v._combined);for(let T=0;T<P.length;T++){const N=parseInt(P[T],10);N>=y&&(this._combined[N-y+g]=v._combined[N])}}translateToString(v,y,g,b){y=y??0,g=g??this.length,v&&(g=Math.min(g,this.getTrimmedLength())),b&&(b.length=0);let k="";for(;y<g;){const E=this._data[3*y+0],P=2097151&E,T=2097152&E?this._combined[y]:P?(0,x.stringFromCodePoint)(P):h.WHITESPACE_CELL_CHAR;if(k+=T,b)for(let N=0;N<T.length;++N)b.push(y);y+=E>>22||1}return b&&b.push(y),k}}l.BufferLine=j},4841:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(d,f){if(d.start.y>d.end.y)throw new Error(`Buffer range end (${d.end.x}, ${d.end.y}) cannot be before start (${d.start.x}, ${d.start.y})`);return f*(d.end.y-d.start.y)+(d.end.x-d.start.x+1)}},4634:(u,l)=>{function d(f,m,h){if(m===f.length-1)return f[m].getTrimmedLength();const x=!f[m].hasContent(h-1)&&f[m].getWidth(h-1)===1,w=f[m+1].getWidth(0)===2;return x&&w?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(f,m,h,x,w){const j=[];for(let C=0;C<f.length-1;C++){let v=C,y=f.get(++v);if(!y.isWrapped)continue;const g=[f.get(C)];for(;v<f.length&&y.isWrapped;)g.push(y),y=f.get(++v);if(x>=C&&x<v){C+=g.length-1;continue}let b=0,k=d(g,b,m),E=1,P=0;for(;E<g.length;){const N=d(g,E,m),M=N-P,I=h-k,L=Math.min(M,I);g[b].copyCellsFrom(g[E],P,k,L,!1),k+=L,k===h&&(b++,k=0),P+=L,P===N&&(E++,P=0),k===0&&b!==0&&g[b-1].getWidth(h-1)===2&&(g[b].copyCellsFrom(g[b-1],h-1,k++,1,!1),g[b-1].setCell(h-1,w))}g[b].replaceCells(k,h,w);let T=0;for(let N=g.length-1;N>0&&(N>b||g[N].getTrimmedLength()===0);N--)T++;T>0&&(j.push(C+g.length-T),j.push(T)),C+=g.length-1}return j},l.reflowLargerCreateNewLayout=function(f,m){const h=[];let x=0,w=m[x],j=0;for(let C=0;C<f.length;C++)if(w===C){const v=m[++x];f.onDeleteEmitter.fire({index:C-j,amount:v}),C+=v-1,j+=v,w=m[++x]}else h.push(C);return{layout:h,countRemoved:j}},l.reflowLargerApplyNewLayout=function(f,m){const h=[];for(let x=0;x<m.length;x++)h.push(f.get(m[x]));for(let x=0;x<h.length;x++)f.set(x,h[x]);f.length=m.length},l.reflowSmallerGetNewLineLengths=function(f,m,h){const x=[],w=f.map(((y,g)=>d(f,g,m))).reduce(((y,g)=>y+g));let j=0,C=0,v=0;for(;v<w;){if(w-v<h){x.push(w-v);break}j+=h;const y=d(f,C,m);j>y&&(j-=y,C++);const g=f[C].getWidth(j-1)===2;g&&j--;const b=g?h-1:h;x.push(b),v+=b}return x},l.getWrappedLineTrimmedLength=d},5295:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const f=d(8460),m=d(844),h=d(9092);class x extends m.Disposable{constructor(j,C){super(),this._optionsService=j,this._bufferService=C,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(j){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(j),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(j,C){this._normal.resize(j,C),this._alt.resize(j,C),this.setupTabStops(j)}setupTabStops(j){this._normal.setupTabStops(j),this._alt.setupTabStops(j)}}l.BufferSet=x},511:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const f=d(482),m=d(643),h=d(3734);class x extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(j){const C=new x;return C.setFromCharData(j),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(j){this.fg=j[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(j[m.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(j[m.CHAR_DATA_CHAR_INDEX].length===2){const v=j[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const y=j[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(v-55296)+y-56320+65536|j[m.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=j[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|j[m.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=j[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|j[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=x},643:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const f=d(8460),m=d(844);class h{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}l.Marker=h,h._nextId=1},7116:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(u,l)=>{var d,f,m;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""})(d||(l.C0=d={})),(function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""})(f||(l.C1=f={})),(function(h){h.ST=`${d.ESC}\\`})(m||(l.C1_ESCAPED=m={}))},7399:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const f=d(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,x,w,j){const C={type:0,cancel:!1,key:void 0},v=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?C.key=x?f.C0.ESC+"OA":f.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?C.key=x?f.C0.ESC+"OD":f.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?C.key=x?f.C0.ESC+"OC":f.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(C.key=x?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:C.key=h.ctrlKey?"\b":f.C0.DEL,h.altKey&&(C.key=f.C0.ESC+C.key);break;case 9:if(h.shiftKey){C.key=f.C0.ESC+"[Z";break}C.key=f.C0.HT,C.cancel=!0;break;case 13:C.key=h.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,C.cancel=!0;break;case 27:C.key=f.C0.ESC,h.altKey&&(C.key=f.C0.ESC+f.C0.ESC),C.cancel=!0;break;case 37:if(h.metaKey)break;v?(C.key=f.C0.ESC+"[1;"+(v+1)+"D",C.key===f.C0.ESC+"[1;3D"&&(C.key=f.C0.ESC+(w?"b":"[1;5D"))):C.key=x?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(h.metaKey)break;v?(C.key=f.C0.ESC+"[1;"+(v+1)+"C",C.key===f.C0.ESC+"[1;3C"&&(C.key=f.C0.ESC+(w?"f":"[1;5C"))):C.key=x?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(h.metaKey)break;v?(C.key=f.C0.ESC+"[1;"+(v+1)+"A",w||C.key!==f.C0.ESC+"[1;3A"||(C.key=f.C0.ESC+"[1;5A")):C.key=x?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(h.metaKey)break;v?(C.key=f.C0.ESC+"[1;"+(v+1)+"B",w||C.key!==f.C0.ESC+"[1;3B"||(C.key=f.C0.ESC+"[1;5B")):C.key=x?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(C.key=f.C0.ESC+"[2~");break;case 46:C.key=v?f.C0.ESC+"[3;"+(v+1)+"~":f.C0.ESC+"[3~";break;case 36:C.key=v?f.C0.ESC+"[1;"+(v+1)+"H":x?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:C.key=v?f.C0.ESC+"[1;"+(v+1)+"F":x?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:h.shiftKey?C.type=2:h.ctrlKey?C.key=f.C0.ESC+"[5;"+(v+1)+"~":C.key=f.C0.ESC+"[5~";break;case 34:h.shiftKey?C.type=3:h.ctrlKey?C.key=f.C0.ESC+"[6;"+(v+1)+"~":C.key=f.C0.ESC+"[6~";break;case 112:C.key=v?f.C0.ESC+"[1;"+(v+1)+"P":f.C0.ESC+"OP";break;case 113:C.key=v?f.C0.ESC+"[1;"+(v+1)+"Q":f.C0.ESC+"OQ";break;case 114:C.key=v?f.C0.ESC+"[1;"+(v+1)+"R":f.C0.ESC+"OR";break;case 115:C.key=v?f.C0.ESC+"[1;"+(v+1)+"S":f.C0.ESC+"OS";break;case 116:C.key=v?f.C0.ESC+"[15;"+(v+1)+"~":f.C0.ESC+"[15~";break;case 117:C.key=v?f.C0.ESC+"[17;"+(v+1)+"~":f.C0.ESC+"[17~";break;case 118:C.key=v?f.C0.ESC+"[18;"+(v+1)+"~":f.C0.ESC+"[18~";break;case 119:C.key=v?f.C0.ESC+"[19;"+(v+1)+"~":f.C0.ESC+"[19~";break;case 120:C.key=v?f.C0.ESC+"[20;"+(v+1)+"~":f.C0.ESC+"[20~";break;case 121:C.key=v?f.C0.ESC+"[21;"+(v+1)+"~":f.C0.ESC+"[21~";break;case 122:C.key=v?f.C0.ESC+"[23;"+(v+1)+"~":f.C0.ESC+"[23~";break;case 123:C.key=v?f.C0.ESC+"[24;"+(v+1)+"~":f.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(w&&!j||!h.altKey||h.metaKey)!w||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?C.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(C.key=f.C0.US),h.key==="@"&&(C.key=f.C0.NUL)):h.keyCode===65&&(C.type=1);else{const y=m[h.keyCode],g=y==null?void 0:y[h.shiftKey?1:0];if(g)C.key=f.C0.ESC+g;else if(h.keyCode>=65&&h.keyCode<=90){const b=h.ctrlKey?h.keyCode-64:h.keyCode+32;let k=String.fromCharCode(b);h.shiftKey&&(k=k.toUpperCase()),C.key=f.C0.ESC+k}else if(h.keyCode===32)C.key=f.C0.ESC+(h.ctrlKey?f.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let b=h.code.slice(3,4);h.shiftKey||(b=b.toLowerCase()),C.key=f.C0.ESC+b,C.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?C.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?C.key=f.C0.NUL:h.keyCode>=51&&h.keyCode<=55?C.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?C.key=f.C0.DEL:h.keyCode===219?C.key=f.C0.ESC:h.keyCode===220?C.key=f.C0.FS:h.keyCode===221&&(C.key=f.C0.GS)}return C}},482:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(d){return d>65535?(d-=65536,String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):String.fromCharCode(d)},l.utf32ToString=function(d,f=0,m=d.length){let h="";for(let x=f;x<m;++x){let w=d[x];w>65535?(w-=65536,h+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):h+=String.fromCharCode(w)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(d,f){const m=d.length;if(!m)return 0;let h=0,x=0;if(this._interim){const w=d.charCodeAt(x++);56320<=w&&w<=57343?f[h++]=1024*(this._interim-55296)+w-56320+65536:(f[h++]=this._interim,f[h++]=w),this._interim=0}for(let w=x;w<m;++w){const j=d.charCodeAt(w);if(55296<=j&&j<=56319){if(++w>=m)return this._interim=j,h;const C=d.charCodeAt(w);56320<=C&&C<=57343?f[h++]=1024*(j-55296)+C-56320+65536:(f[h++]=j,f[h++]=C)}else j!==65279&&(f[h++]=j)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(d,f){const m=d.length;if(!m)return 0;let h,x,w,j,C=0,v=0,y=0;if(this.interim[0]){let k=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let P,T=0;for(;(P=63&this.interim[++T])&&T<4;)E<<=6,E|=P;const N=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,M=N-T;for(;y<M;){if(y>=m)return 0;if(P=d[y++],(192&P)!=128){y--,k=!0;break}this.interim[T++]=P,E<<=6,E|=63&P}k||(N===2?E<128?y--:f[C++]=E:N===3?E<2048||E>=55296&&E<=57343||E===65279||(f[C++]=E):E<65536||E>1114111||(f[C++]=E)),this.interim.fill(0)}const g=m-4;let b=y;for(;b<m;){for(;!(!(b<g)||128&(h=d[b])||128&(x=d[b+1])||128&(w=d[b+2])||128&(j=d[b+3]));)f[C++]=h,f[C++]=x,f[C++]=w,f[C++]=j,b+=4;if(h=d[b++],h<128)f[C++]=h;else if((224&h)==192){if(b>=m)return this.interim[0]=h,C;if(x=d[b++],(192&x)!=128){b--;continue}if(v=(31&h)<<6|63&x,v<128){b--;continue}f[C++]=v}else if((240&h)==224){if(b>=m)return this.interim[0]=h,C;if(x=d[b++],(192&x)!=128){b--;continue}if(b>=m)return this.interim[0]=h,this.interim[1]=x,C;if(w=d[b++],(192&w)!=128){b--;continue}if(v=(15&h)<<12|(63&x)<<6|63&w,v<2048||v>=55296&&v<=57343||v===65279)continue;f[C++]=v}else if((248&h)==240){if(b>=m)return this.interim[0]=h,C;if(x=d[b++],(192&x)!=128){b--;continue}if(b>=m)return this.interim[0]=h,this.interim[1]=x,C;if(w=d[b++],(192&w)!=128){b--;continue}if(b>=m)return this.interim[0]=h,this.interim[1]=x,this.interim[2]=w,C;if(j=d[b++],(192&j)!=128){b--;continue}if(v=(7&h)<<18|(63&x)<<12|(63&w)<<6|63&j,v<65536||v>1114111)continue;f[C++]=v}}return C}}},225:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const f=d(1480),m=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let x;l.UnicodeV6=class{constructor(){if(this.version="6",!x){x=new Uint8Array(65536),x.fill(1),x[0]=0,x.fill(0,1,32),x.fill(0,127,160),x.fill(2,4352,4448),x[9001]=2,x[9002]=2,x.fill(2,11904,42192),x[12351]=1,x.fill(2,44032,55204),x.fill(2,63744,64256),x.fill(2,65040,65050),x.fill(2,65072,65136),x.fill(2,65280,65377),x.fill(2,65504,65511);for(let w=0;w<m.length;++w)x.fill(0,m[w][0],m[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?x[w]:(function(j,C){let v,y=0,g=C.length-1;if(j<C[0][0]||j>C[g][1])return!1;for(;g>=y;)if(v=y+g>>1,j>C[v][1])y=v+1;else{if(!(j<C[v][0]))return!0;g=v-1}return!1})(w,h)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,j){let C=this.wcwidth(w),v=C===0&&j!==0;if(v){const y=f.UnicodeService.extractWidth(j);y===0?v=!1:y>C&&(C=y)}return f.UnicodeService.createPropertyValue(0,C,v)}}},5981:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const f=d(8460),m=d(844);class h extends m.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,j){if(j!==void 0&&this._syncCalls>j)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const v=this._callbacks.shift();v&&v()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,j){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(j),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(j)}_innerWrite(w=0,j=!0){const C=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const v=this._writeBuffer[this._bufferOffset],y=this._action(v,j);if(y){const b=k=>Date.now()-C>=12?setTimeout((()=>this._innerWrite(0,k))):this._innerWrite(C,k);return void y.catch((k=>(queueMicrotask((()=>{throw k})),Promise.resolve(!1)))).then(b)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=v.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const d=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function m(h,x){const w=h.toString(16),j=w.length<2?"0"+w:w;switch(x){case 4:return w[0];case 8:return j;case 12:return(j+j).slice(0,3);default:return j+j}}l.parseColor=function(h){if(!h)return;let x=h.toLowerCase();if(x.indexOf("rgb:")===0){x=x.slice(4);const w=d.exec(x);if(w){const j=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/j*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/j*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/j*255)]}}else if(x.indexOf("#")===0&&(x=x.slice(1),f.exec(x)&&[3,6,9,12].includes(x.length))){const w=x.length/3,j=[0,0,0];for(let C=0;C<3;++C){const v=parseInt(x.slice(w*C,w*C+w),16);j[C]=w===1?v<<4:w===2?v:w===3?v>>4:v>>8}return j}},l.toRgbString=function(h,x=16){const[w,j,C]=h;return`rgb:${m(w,x)}/${m(j,x)}/${m(C,x)}`}},5770:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const f=d(482),m=d(8742),h=d(5770),x=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=x,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=x}registerHandler(j,C){this._handlers[j]===void 0&&(this._handlers[j]=[]);const v=this._handlers[j];return v.push(C),{dispose:()=>{const y=v.indexOf(C);y!==-1&&v.splice(y,1)}}}clearHandler(j){this._handlers[j]&&delete this._handlers[j]}setHandlerFallback(j){this._handlerFb=j}reset(){if(this._active.length)for(let j=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;j>=0;--j)this._active[j].unhook(!1);this._stack.paused=!1,this._active=x,this._ident=0}hook(j,C){if(this.reset(),this._ident=j,this._active=this._handlers[j]||x,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(j,C,v){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(j,C,v);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(j,C,v))}unhook(j,C=!0){if(this._active.length){let v=!1,y=this._active.length-1,g=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,v=C,g=this._stack.fallThrough,this._stack.paused=!1),!g&&v===!1){for(;y>=0&&(v=this._active[y].unhook(j),v!==!0);y--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,v;y--}for(;y>=0;y--)if(v=this._active[y].unhook(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,v}else this._handlerFb(this._ident,"UNHOOK",j);this._active=x,this._ident=0}};const w=new m.Params;w.addParam(0),l.DcsHandler=class{constructor(j){this._handler=j,this._data="",this._params=w,this._hitLimit=!1}hook(j){this._params=j.length>1||j.params[0]?j.clone():w,this._data="",this._hitLimit=!1}put(j,C,v){this._hitLimit||(this._data+=(0,f.utf32ToString)(j,C,v),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(j){let C=!1;if(this._hitLimit)C=!1;else if(j&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then((v=>(this._params=w,this._data="",this._hitLimit=!1,v)));return this._params=w,this._data="",this._hitLimit=!1,C}}},2015:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const f=d(844),m=d(8742),h=d(6242),x=d(6351);class w{constructor(y){this.table=new Uint8Array(y)}setDefault(y,g){this.table.fill(y<<4|g)}add(y,g,b,k){this.table[g<<8|y]=b<<4|k}addMany(y,g,b,k){for(let E=0;E<y.length;E++)this.table[g<<8|y[E]]=b<<4|k}}l.TransitionTable=w;const j=160;l.VT500_TRANSITION_TABLE=(function(){const v=new w(4095),y=Array.apply(null,Array(256)).map(((T,N)=>N)),g=(T,N)=>y.slice(T,N),b=g(32,127),k=g(0,24);k.push(25),k.push.apply(k,g(28,32));const E=g(0,14);let P;for(P in v.setDefault(1,0),v.addMany(b,0,2,0),E)v.addMany([24,26,153,154],P,3,0),v.addMany(g(128,144),P,3,0),v.addMany(g(144,152),P,3,0),v.add(156,P,0,0),v.add(27,P,11,1),v.add(157,P,4,8),v.addMany([152,158,159],P,0,7),v.add(155,P,11,3),v.add(144,P,11,9);return v.addMany(k,0,3,0),v.addMany(k,1,3,1),v.add(127,1,0,1),v.addMany(k,8,0,8),v.addMany(k,3,3,3),v.add(127,3,0,3),v.addMany(k,4,3,4),v.add(127,4,0,4),v.addMany(k,6,3,6),v.addMany(k,5,3,5),v.add(127,5,0,5),v.addMany(k,2,3,2),v.add(127,2,0,2),v.add(93,1,4,8),v.addMany(b,8,5,8),v.add(127,8,5,8),v.addMany([156,27,24,26,7],8,6,0),v.addMany(g(28,32),8,0,8),v.addMany([88,94,95],1,0,7),v.addMany(b,7,0,7),v.addMany(k,7,0,7),v.add(156,7,0,0),v.add(127,7,0,7),v.add(91,1,11,3),v.addMany(g(64,127),3,7,0),v.addMany(g(48,60),3,8,4),v.addMany([60,61,62,63],3,9,4),v.addMany(g(48,60),4,8,4),v.addMany(g(64,127),4,7,0),v.addMany([60,61,62,63],4,0,6),v.addMany(g(32,64),6,0,6),v.add(127,6,0,6),v.addMany(g(64,127),6,0,0),v.addMany(g(32,48),3,9,5),v.addMany(g(32,48),5,9,5),v.addMany(g(48,64),5,0,6),v.addMany(g(64,127),5,7,0),v.addMany(g(32,48),4,9,5),v.addMany(g(32,48),1,9,2),v.addMany(g(32,48),2,9,2),v.addMany(g(48,127),2,10,0),v.addMany(g(48,80),1,10,0),v.addMany(g(81,88),1,10,0),v.addMany([89,90,92],1,10,0),v.addMany(g(96,127),1,10,0),v.add(80,1,11,9),v.addMany(k,9,0,9),v.add(127,9,0,9),v.addMany(g(28,32),9,0,9),v.addMany(g(32,48),9,9,12),v.addMany(g(48,60),9,8,10),v.addMany([60,61,62,63],9,9,10),v.addMany(k,11,0,11),v.addMany(g(32,128),11,0,11),v.addMany(g(28,32),11,0,11),v.addMany(k,10,0,10),v.add(127,10,0,10),v.addMany(g(28,32),10,0,10),v.addMany(g(48,60),10,8,10),v.addMany([60,61,62,63],10,0,11),v.addMany(g(32,48),10,9,12),v.addMany(k,12,0,12),v.add(127,12,0,12),v.addMany(g(28,32),12,0,12),v.addMany(g(32,48),12,9,12),v.addMany(g(48,64),12,0,11),v.addMany(g(64,127),12,12,13),v.addMany(g(64,127),10,12,13),v.addMany(g(64,127),9,12,13),v.addMany(k,13,13,13),v.addMany(b,13,13,13),v.add(127,13,0,13),v.addMany([27,156,24,26],13,14,0),v.add(j,0,2,0),v.add(j,8,5,8),v.add(j,6,0,6),v.add(j,11,0,11),v.add(j,13,13,13),v})();class C extends f.Disposable{constructor(y=l.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(g,b,k)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,b)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new x.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(y,g=[64,126]){let b=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(b=y.prefix.charCodeAt(0),b&&60>b||b>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<y.intermediates.length;++E){const P=y.intermediates.charCodeAt(E);if(32>P||P>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");b<<=8,b|=P}}if(y.final.length!==1)throw new Error("final must be a single byte");const k=y.final.charCodeAt(0);if(g[0]>k||k>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return b<<=8,b|=k,b}identToString(y){const g=[];for(;y;)g.push(String.fromCharCode(255&y)),y>>=8;return g.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,g){const b=this._identifier(y,[48,126]);this._escHandlers[b]===void 0&&(this._escHandlers[b]=[]);const k=this._escHandlers[b];return k.push(g),{dispose:()=>{const E=k.indexOf(g);E!==-1&&k.splice(E,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,g){this._executeHandlers[y.charCodeAt(0)]=g}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,g){const b=this._identifier(y);this._csiHandlers[b]===void 0&&(this._csiHandlers[b]=[]);const k=this._csiHandlers[b];return k.push(g),{dispose:()=>{const E=k.indexOf(g);E!==-1&&k.splice(E,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,g){return this._dcsParser.registerHandler(this._identifier(y),g)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,g){return this._oscParser.registerHandler(y,g)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,g,b,k,E){this._parseStack.state=y,this._parseStack.handlers=g,this._parseStack.handlerPos=b,this._parseStack.transition=k,this._parseStack.chunkPos=E}parse(y,g,b){let k,E=0,P=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(b===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const N=this._parseStack.handlers;let M=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(b===!1&&M>-1){for(;M>=0&&(k=N[M](this._params),k!==!0);M--)if(k instanceof Promise)return this._parseStack.handlerPos=M,k}this._parseStack.handlers=[];break;case 4:if(b===!1&&M>-1){for(;M>=0&&(k=N[M](),k!==!0);M--)if(k instanceof Promise)return this._parseStack.handlerPos=M,k}this._parseStack.handlers=[];break;case 6:if(E=y[this._parseStack.chunkPos],k=this._dcsParser.unhook(E!==24&&E!==26,b),k)return k;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=y[this._parseStack.chunkPos],k=this._oscParser.end(E!==24&&E!==26,b),k)return k;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let N=T;N<g;++N){switch(E=y[N],P=this._transitions.table[this.currentState<<8|(E<160?E:j)],P>>4){case 2:for(let H=N+1;;++H){if(H>=g||(E=y[H])<32||E>126&&E<j){this._printHandler(y,N,H),N=H-1;break}if(++H>=g||(E=y[H])<32||E>126&&E<j){this._printHandler(y,N,H),N=H-1;break}if(++H>=g||(E=y[H])<32||E>126&&E<j){this._printHandler(y,N,H),N=H-1;break}if(++H>=g||(E=y[H])<32||E>126&&E<j){this._printHandler(y,N,H),N=H-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:N,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const M=this._csiHandlers[this._collect<<8|E];let I=M?M.length-1:-1;for(;I>=0&&(k=M[I](this._params),k!==!0);I--)if(k instanceof Promise)return this._preserveStack(3,M,I,P,N),k;I<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingJoinState=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++N<g&&(E=y[N])>47&&E<60);N--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const L=this._escHandlers[this._collect<<8|E];let B=L?L.length-1:-1;for(;B>=0&&(k=L[B](),k!==!0);B--)if(k instanceof Promise)return this._preserveStack(4,L,B,P,N),k;B<0&&this._escHandlerFb(this._collect<<8|E),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let H=N+1;;++H)if(H>=g||(E=y[H])===24||E===26||E===27||E>127&&E<j){this._dcsParser.put(y,N,H),N=H-1;break}break;case 14:if(k=this._dcsParser.unhook(E!==24&&E!==26),k)return this._preserveStack(6,[],0,P,N),k;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let H=N+1;;H++)if(H>=g||(E=y[H])<32||E>127&&E<j){this._oscParser.put(y,N,H),N=H-1;break}break;case 6:if(k=this._oscParser.end(E!==24&&E!==26),k)return this._preserveStack(5,[],0,P,N),k;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&P}}}l.EscapeSequenceParser=C},6242:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const f=d(5770),m=d(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(x,w){this._handlers[x]===void 0&&(this._handlers[x]=[]);const j=this._handlers[x];return j.push(w),{dispose:()=>{const C=j.indexOf(w);C!==-1&&j.splice(C,1)}}}clearHandler(x){this._handlers[x]&&delete this._handlers[x]}setHandlerFallback(x){this._handlerFb=x}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let x=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;x>=0;--x)this._active[x].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].start();else this._handlerFb(this._id,"START")}_put(x,w,j){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(x,w,j);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(x,w,j))}start(){this.reset(),this._state=1}put(x,w,j){if(this._state!==3){if(this._state===1)for(;w<j;){const C=x[w++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&j-w>0&&this._put(x,w,j)}}end(x,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let j=!1,C=this._active.length-1,v=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,j=w,v=this._stack.fallThrough,this._stack.paused=!1),!v&&j===!1){for(;C>=0&&(j=this._active[C].end(x),j!==!0);C--)if(j instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,j;C--}for(;C>=0;C--)if(j=this._active[C].end(!1),j instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,j}else this._handlerFb(this._id,"END",x);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(x){this._handler=x,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(x,w,j){this._hitLimit||(this._data+=(0,m.utf32ToString)(x,w,j),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(x){let w=!1;if(this._hitLimit)w=!1;else if(x&&(w=this._handler(this._data),w instanceof Promise))return w.then((j=>(this._data="",this._hitLimit=!1,j)));return this._data="",this._hitLimit=!1,w}}},8742:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const d=2147483647;class f{static fromArray(h){const x=new f;if(!h.length)return x;for(let w=Array.isArray(h[0])?1:0;w<h.length;++w){const j=h[w];if(Array.isArray(j))for(let C=0;C<j.length;++C)x.addSubParam(j[C]);else x.addParam(j)}return x}constructor(h=32,x=32){if(this.maxLength=h,this.maxSubParamsLength=x,x>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(x),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new f(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let x=0;x<this.length;++x){h.push(this.params[x]);const w=this._subParamsIdx[x]>>8,j=255&this._subParamsIdx[x];j-w>0&&h.push(Array.prototype.slice.call(this._subParams,w,j))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>d?d:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>d?d:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const x=this._subParamsIdx[h]>>8,w=255&this._subParamsIdx[h];return w-x>0?this._subParams.subarray(x,w):null}getSubParamsAll(){const h={};for(let x=0;x<this.length;++x){const w=this._subParamsIdx[x]>>8,j=255&this._subParamsIdx[x];j-w>0&&(h[x]=this._subParams.slice(w,j))}return h}addDigit(h){let x;if(this._rejectDigits||!(x=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,j=w[x-1];w[x-1]=~j?Math.min(10*j+h,d):h}}l.Params=f},5741:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let d=this._addons.length-1;d>=0;d--)this._addons[d].instance.dispose()}loadAddon(d,f){const m={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(m),f.dispose=()=>this._wrappedAddonDispose(m),f.activate(d)}_wrappedAddonDispose(d){if(d.isDisposed)return;let f=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===d){f=m;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");d.isDisposed=!0,d.dispose.apply(d.instance),this._addons.splice(f,1)}}},8771:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const f=d(3785),m=d(511);l.BufferApiView=class{constructor(h,x){this._buffer=h,this.type=x}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const x=this._buffer.lines.get(h);if(x)return new f.BufferLineApiView(x)}getNullCell(){return new m.CellData}}},3785:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const f=d(511);l.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,h){if(!(m<0||m>=this._line.length))return h?(this._line.loadCell(m,h),h):this._line.loadCell(m,new f.CellData)}translateToString(m,h,x){return this._line.translateToString(m,h,x)}}},8285:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const f=d(8771),m=d(8460),h=d(844);class x extends h.Disposable{constructor(j){super(),this._core=j,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=x},7975:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(d){this._core=d}registerCsiHandler(d,f){return this._core.registerCsiHandler(d,(m=>f(m.toArray())))}addCsiHandler(d,f){return this.registerCsiHandler(d,f)}registerDcsHandler(d,f){return this._core.registerDcsHandler(d,((m,h)=>f(m,h.toArray())))}addDcsHandler(d,f){return this.registerDcsHandler(d,f)}registerEscHandler(d,f){return this._core.registerEscHandler(d,f)}addEscHandler(d,f){return this.registerEscHandler(d,f)}registerOscHandler(d,f){return this._core.registerOscHandler(d,f)}addOscHandler(d,f){return this.registerOscHandler(d,f)}}},7090:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(d){this._core=d}register(d){this._core.unicodeService.register(d)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(d){this._core.unicodeService.activeVersion=d}}},744:function(u,l,d){var f=this&&this.__decorate||function(v,y,g,b){var k,E=arguments.length,P=E<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(v,y,g,b);else for(var T=v.length-1;T>=0;T--)(k=v[T])&&(P=(E<3?k(P):E>3?k(y,g,P):k(y,g))||P);return E>3&&P&&Object.defineProperty(y,g,P),P},m=this&&this.__param||function(v,y){return function(g,b){y(g,b,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=d(8460),x=d(844),w=d(5295),j=d(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let C=l.BufferService=class extends x.Disposable{get buffer(){return this.buffers.active}constructor(v){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(v.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(v.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(v,this))}resize(v,y){this.cols=v,this.rows=y,this.buffers.resize(v,y),this._onResize.fire({cols:v,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(v,y=!1){const g=this.buffer;let b;b=this._cachedBlankLine,b&&b.length===this.cols&&b.getFg(0)===v.fg&&b.getBg(0)===v.bg||(b=g.getBlankLine(v,y),this._cachedBlankLine=b),b.isWrapped=y;const k=g.ybase+g.scrollTop,E=g.ybase+g.scrollBottom;if(g.scrollTop===0){const P=g.lines.isFull;E===g.lines.length-1?P?g.lines.recycle().copyFrom(b):g.lines.push(b.clone()):g.lines.splice(E+1,0,b.clone()),P?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const P=E-k+1;g.lines.shiftElements(k+1,P-1,-1),g.lines.set(E,b.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(v,y,g){const b=this.buffer;if(v<0){if(b.ydisp===0)return;this.isUserScrolling=!0}else v+b.ydisp>=b.ybase&&(this.isUserScrolling=!1);const k=b.ydisp;b.ydisp=Math.max(Math.min(b.ydisp+v,b.ybase),0),k!==b.ydisp&&(y||this._onScroll.fire(b.ydisp))}};l.BufferService=C=f([m(0,j.IOptionsService)],C)},7994:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(d){this.glevel=d,this.charset=this._charsets[d]}setgCharset(d,f){this._charsets[d]=f,this.glevel===d&&(this.charset=f)}}},1753:function(u,l,d){var f=this&&this.__decorate||function(b,k,E,P){var T,N=arguments.length,M=N<3?k:P===null?P=Object.getOwnPropertyDescriptor(k,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(b,k,E,P);else for(var I=b.length-1;I>=0;I--)(T=b[I])&&(M=(N<3?T(M):N>3?T(k,E,M):T(k,E))||M);return N>3&&M&&Object.defineProperty(k,E,M),M},m=this&&this.__param||function(b,k){return function(E,P){k(E,P,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=d(2585),x=d(8460),w=d(844),j={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:b=>b.button!==4&&b.action===1&&(b.ctrl=!1,b.alt=!1,b.shift=!1,!0)},VT200:{events:19,restrict:b=>b.action!==32},DRAG:{events:23,restrict:b=>b.action!==32||b.button!==3},ANY:{events:31,restrict:b=>!0}};function C(b,k){let E=(b.ctrl?16:0)|(b.shift?4:0)|(b.alt?8:0);return b.button===4?(E|=64,E|=b.action):(E|=3&b.button,4&b.button&&(E|=64),8&b.button&&(E|=128),b.action===32?E|=32:b.action!==0||k||(E|=3)),E}const v=String.fromCharCode,y={DEFAULT:b=>{const k=[C(b,!1)+32,b.col+32,b.row+32];return k[0]>255||k[1]>255||k[2]>255?"":`\x1B[M${v(k[0])}${v(k[1])}${v(k[2])}`},SGR:b=>{const k=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${C(b,!0)};${b.col};${b.row}${k}`},SGR_PIXELS:b=>{const k=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${C(b,!0)};${b.x};${b.y}${k}`}};let g=l.CoreMouseService=class extends w.Disposable{constructor(b,k){super(),this._bufferService=b,this._coreService=k,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new x.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(j))this.addProtocol(E,j[E]);for(const E of Object.keys(y))this.addEncoding(E,y[E]);this.reset()}addProtocol(b,k){this._protocols[b]=k}addEncoding(b,k){this._encodings[b]=k}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(b){if(!this._protocols[b])throw new Error(`unknown protocol "${b}"`);this._activeProtocol=b,this._onProtocolChange.fire(this._protocols[b].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(b){if(!this._encodings[b])throw new Error(`unknown encoding "${b}"`);this._activeEncoding=b}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(b){if(b.col<0||b.col>=this._bufferService.cols||b.row<0||b.row>=this._bufferService.rows||b.button===4&&b.action===32||b.button===3&&b.action!==32||b.button!==4&&(b.action===2||b.action===3)||(b.col++,b.row++,b.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,b,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(b))return!1;const k=this._encodings[this._activeEncoding](b);return k&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(k):this._coreService.triggerDataEvent(k,!0)),this._lastEvent=b,!0}explainEvents(b){return{down:!!(1&b),up:!!(2&b),drag:!!(4&b),move:!!(8&b),wheel:!!(16&b)}}_equalEvents(b,k,E){if(E){if(b.x!==k.x||b.y!==k.y)return!1}else if(b.col!==k.col||b.row!==k.row)return!1;return b.button===k.button&&b.action===k.action&&b.ctrl===k.ctrl&&b.alt===k.alt&&b.shift===k.shift}};l.CoreMouseService=g=f([m(0,h.IBufferService),m(1,h.ICoreService)],g)},6975:function(u,l,d){var f=this&&this.__decorate||function(g,b,k,E){var P,T=arguments.length,N=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,k):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,k,E);else for(var M=g.length-1;M>=0;M--)(P=g[M])&&(N=(T<3?P(N):T>3?P(b,k,N):P(b,k))||N);return T>3&&N&&Object.defineProperty(b,k,N),N},m=this&&this.__param||function(g,b){return function(k,E){b(k,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=d(1439),x=d(8460),w=d(844),j=d(2585),C=Object.freeze({insertMode:!1}),v=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=l.CoreService=class extends w.Disposable{constructor(g,b,k){super(),this._bufferService=g,this._logService=b,this._optionsService=k,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new x.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new x.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new x.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new x.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(C),this.decPrivateModes=(0,h.clone)(v)}reset(){this.modes=(0,h.clone)(C),this.decPrivateModes=(0,h.clone)(v)}triggerDataEvent(g,b=!1){if(this._optionsService.rawOptions.disableStdin)return;const k=this._bufferService.buffer;b&&this._optionsService.rawOptions.scrollOnUserInput&&k.ybase!==k.ydisp&&this._onRequestScrollToBottom.fire(),b&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((E=>E.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((b=>b.charCodeAt(0))))),this._onBinary.fire(g))}};l.CoreService=y=f([m(0,j.IBufferService),m(1,j.ILogService),m(2,j.IOptionsService)],y)},9074:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const f=d(8055),m=d(8460),h=d(844),x=d(6106);let w=0,j=0;class C extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new x.SortedList((g=>g==null?void 0:g.marker.line)),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const b=new v(g);if(b){const k=b.marker.onDispose((()=>b.dispose()));b.onDispose((()=>{b&&(this._decorations.delete(b)&&this._onDecorationRemoved.fire(b),k.dispose())})),this._decorations.insert(b),this._onDecorationRegistered.fire(b)}return b}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,b,k){let E=0,P=0;for(const T of this._decorations.getKeyIterator(b))E=T.options.x??0,P=E+(T.options.width??1),g>=E&&g<P&&(!k||(T.options.layer??"bottom")===k)&&(yield T)}forEachDecorationAtCell(g,b,k,E){this._decorations.forEachByKey(b,(P=>{w=P.options.x??0,j=w+(P.options.width??1),g>=w&&g<j&&(!k||(P.options.layer??"bottom")===k)&&E(P)}))}}l.DecorationService=C;class v extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const f=d(2585),m=d(8343);class h{constructor(...w){this._entries=new Map;for(const[j,C]of w)this.set(j,C)}set(w,j){const C=this._entries.get(w);return this._entries.set(w,j),C}forEach(w){for(const[j,C]of this._entries.entries())w(j,C)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(f.IInstantiationService,this)}setService(x,w){this._services.set(x,w)}getService(x){return this._services.get(x)}createInstance(x,...w){const j=(0,m.getServiceDependencies)(x).sort(((y,g)=>y.index-g.index)),C=[];for(const y of j){const g=this._services.get(y.id);if(!g)throw new Error(`[createInstance] ${x.name} depends on UNKNOWN service ${y.id}.`);C.push(g)}const v=j.length>0?j[0].index:w.length;if(w.length!==v)throw new Error(`[createInstance] First service dependency of ${x.name} at position ${v+1} conflicts with ${w.length} static arguments`);return new x(...w,...C)}}},7866:function(u,l,d){var f=this&&this.__decorate||function(v,y,g,b){var k,E=arguments.length,P=E<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(v,y,g,b);else for(var T=v.length-1;T>=0;T--)(k=v[T])&&(P=(E<3?k(P):E>3?k(y,g,P):k(y,g))||P);return E>3&&P&&Object.defineProperty(y,g,P),P},m=this&&this.__param||function(v,y){return function(g,b){y(g,b,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=d(844),x=d(2585),w={trace:x.LogLevelEnum.TRACE,debug:x.LogLevelEnum.DEBUG,info:x.LogLevelEnum.INFO,warn:x.LogLevelEnum.WARN,error:x.LogLevelEnum.ERROR,off:x.LogLevelEnum.OFF};let j,C=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=x.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),j=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let y=0;y<v.length;y++)typeof v[y]=="function"&&(v[y]=v[y]())}_log(v,y,g){this._evalLazyOptionalParams(g),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...g)}trace(v,...y){var g;this._logLevel<=x.LogLevelEnum.TRACE&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.trace.bind(this._optionsService.options.logger))??console.log,v,y)}debug(v,...y){var g;this._logLevel<=x.LogLevelEnum.DEBUG&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.debug.bind(this._optionsService.options.logger))??console.log,v,y)}info(v,...y){var g;this._logLevel<=x.LogLevelEnum.INFO&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.info.bind(this._optionsService.options.logger))??console.info,v,y)}warn(v,...y){var g;this._logLevel<=x.LogLevelEnum.WARN&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.warn.bind(this._optionsService.options.logger))??console.warn,v,y)}error(v,...y){var g;this._logLevel<=x.LogLevelEnum.ERROR&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.error.bind(this._optionsService.options.logger))??console.error,v,y)}};l.LogService=C=f([m(0,x.IOptionsService)],C),l.setTraceLogger=function(v){j=v},l.traceCall=function(v,y,g){if(typeof g.value!="function")throw new Error("not supported");const b=g.value;g.value=function(...k){if(j.logLevel!==x.LogLevelEnum.TRACE)return b.apply(this,k);j.trace(`GlyphRenderer#${b.name}(${k.map((P=>JSON.stringify(P))).join(", ")})`);const E=b.apply(this,k);return j.trace(`GlyphRenderer#${b.name} return`,E),E}}},7302:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const f=d(8460),m=d(844),h=d(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const x=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends m.Disposable{constructor(C){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const v={...l.DEFAULT_OPTIONS};for(const y in C)if(y in v)try{const g=C[y];v[y]=this._sanitizeAndValidateOption(y,g)}catch(g){console.error(g)}this.rawOptions=v,this.options={...v},this._setupOptions(),this.register((0,m.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(C,v){return this.onOptionChange((y=>{y===C&&v(this.rawOptions[C])}))}onMultipleOptionChange(C,v){return this.onOptionChange((y=>{C.indexOf(y)!==-1&&v()}))}_setupOptions(){const C=y=>{if(!(y in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},v=(y,g)=>{if(!(y in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);g=this._sanitizeAndValidateOption(y,g),this.rawOptions[y]!==g&&(this.rawOptions[y]=g,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const g={get:C.bind(this,y),set:v.bind(this,y)};Object.defineProperty(this.options,y,g)}}_sanitizeAndValidateOption(C,v){switch(C){case"cursorStyle":if(v||(v=l.DEFAULT_OPTIONS[C]),!(function(y){return y==="block"||y==="underline"||y==="bar"})(v))throw new Error(`"${v}" is not a valid value for ${C}`);break;case"wordSeparator":v||(v=l.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=x.includes(v)?v:l.DEFAULT_OPTIONS[C];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${C} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${v}`);break;case"rows":case"cols":if(!v&&v!==0)throw new Error(`${C} must be numeric, value: ${v}`);break;case"windowsPty":v=v??{}}return v}}l.OptionsService=w},2660:function(u,l,d){var f=this&&this.__decorate||function(w,j,C,v){var y,g=arguments.length,b=g<3?j:v===null?v=Object.getOwnPropertyDescriptor(j,C):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(w,j,C,v);else for(var k=w.length-1;k>=0;k--)(y=w[k])&&(b=(g<3?y(b):g>3?y(j,C,b):y(j,C))||b);return g>3&&b&&Object.defineProperty(j,C,b),b},m=this&&this.__param||function(w,j){return function(C,v){j(C,v,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=d(2585);let x=l.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const j=this._bufferService.buffer;if(w.id===void 0){const k=j.addMarker(j.ybase+j.y),E={data:w,id:this._nextId++,lines:[k]};return k.onDispose((()=>this._removeMarkerFromLink(E,k))),this._dataByLinkId.set(E.id,E),E.id}const C=w,v=this._getEntryIdKey(C),y=this._entriesWithId.get(v);if(y)return this.addLineToLink(y.id,j.ybase+j.y),y.id;const g=j.addMarker(j.ybase+j.y),b={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(b,g))),this._entriesWithId.set(b.key,b),this._dataByLinkId.set(b.id,b),b.id}addLineToLink(w,j){const C=this._dataByLinkId.get(w);if(C&&C.lines.every((v=>v.line!==j))){const v=this._bufferService.buffer.addMarker(j);C.lines.push(v),v.onDispose((()=>this._removeMarkerFromLink(C,v)))}}getLinkData(w){var j;return(j=this._dataByLinkId.get(w))==null?void 0:j.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,j){const C=w.lines.indexOf(j);C!==-1&&(w.lines.splice(C,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};l.OscLinkService=x=f([m(0,h.IBufferService)],x)},8343:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const d="di$target",f="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(m){return m[f]||[]},l.createDecorator=function(m){if(l.serviceRegistry.has(m))return l.serviceRegistry.get(m);const h=function(x,w,j){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,v,y){v[d]===v?v[f].push({id:C,index:y}):(v[f]=[{id:C,index:y}],v[d]=v)})(h,x,j)};return h.toString=()=>m,l.serviceRegistry.set(m,h),h}},2585:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const f=d(8343);var m;l.IBufferService=(0,f.createDecorator)("BufferService"),l.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),l.ICoreService=(0,f.createDecorator)("CoreService"),l.ICharsetService=(0,f.createDecorator)("CharsetService"),l.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"})(m||(l.LogLevelEnum=m={})),l.ILogService=(0,f.createDecorator)("LogService"),l.IOptionsService=(0,f.createDecorator)("OptionsService"),l.IOscLinkService=(0,f.createDecorator)("OscLinkService"),l.IUnicodeService=(0,f.createDecorator)("UnicodeService"),l.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(u,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const f=d(8460),m=d(225);class h{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,j,C=!1){return(16777215&w)<<3|(3&j)<<1|(C?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const w=new m.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let j=0,C=0;const v=w.length;for(let y=0;y<v;++y){let g=w.charCodeAt(y);if(55296<=g&&g<=56319){if(++y>=v)return j+this.wcwidth(g);const E=w.charCodeAt(y);56320<=E&&E<=57343?g=1024*(g-55296)+E-56320+65536:j+=this.wcwidth(E)}const b=this.charProperties(g,C);let k=h.extractWidth(b);h.extractShouldJoin(b)&&(k-=h.extractWidth(C)),j+=k,C=b}return j}charProperties(w,j){return this._activeProvider.charProperties(w,j)}}l.UnicodeService=h}},n={};function o(u){var l=n[u];if(l!==void 0)return l.exports;var d=n[u]={exports:{}};return s[u].call(d.exports,d,d.exports,o),d.exports}var c={};return(()=>{var u=c;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const l=o(9042),d=o(3236),f=o(844),m=o(5741),h=o(8285),x=o(7975),w=o(7090),j=["cols","rows"];class C extends f.Disposable{constructor(y){super(),this._core=this.register(new d.Terminal(y)),this._addonManager=this.register(new m.AddonManager),this._publicOptions={...this._core.options};const g=k=>this._core.options[k],b=(k,E)=>{this._checkReadonlyOptions(k),this._core.options[k]=E};for(const k in this._core.options){const E={get:g.bind(this,k),set:b.bind(this,k)};Object.defineProperty(this._publicOptions,k,E)}}_checkReadonlyOptions(y){if(j.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new x.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const g in y)this._publicOptions[g]=y[g]}blur(){this._core.blur()}focus(){this._core.focus()}input(y,g=!0){this._core.input(y,g)}resize(y,g){this._verifyIntegers(y,g),this._core.resize(y,g)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}attachCustomWheelEventHandler(y){this._core.attachCustomWheelEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){return this._checkProposedApi(),this._verifyPositiveIntegers(y.x??0,y.width??0,y.height??0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,g,b){this._verifyIntegers(y,g,b),this._core.select(y,g,b)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,g){this._verifyIntegers(y,g),this._core.selectLines(y,g)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,g){this._core.write(y,g)}writeln(y,g){this._core.write(y),this._core.write(`\r
`,g)}paste(y){this._core.paste(y)}refresh(y,g){this._verifyIntegers(y,g),this._core.refresh(y,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return l}_verifyIntegers(...y){for(const g of y)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const g of y)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}u.Terminal=C})(),c})()))})(Lm)),Lm.exports}var oB=iB(),Om={exports:{}},yw;function aB(){return yw||(yw=1,(function(e,t){(function(s,n){e.exports=n()})(self,(()=>(()=>{var s={};return(()=>{var n=s;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const c=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(c._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,c=o._renderService.dimensions;if(c.css.cell.width===0||c.css.cell.height===0)return;const u=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(l.getPropertyValue("height")),f=Math.max(0,parseInt(l.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),h=d-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),x=f-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(x/c.css.cell.width)),rows:Math.max(1,Math.floor(h/c.css.cell.height))}}}})(),s})()))})(Om)),Om.exports}var lB=aB(),Fm={exports:{}},bw;function cB(){return bw||(bw=1,(function(e,t){(function(s,n){e.exports=n()})(self,(()=>(()=>{var s={6:(u,l)=>{function d(m){try{const h=new URL(m),x=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return m.toLocaleLowerCase().startsWith(x.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(l,"__esModule",{value:!0}),l.LinkComputer=l.WebLinkProvider=void 0,l.WebLinkProvider=class{constructor(m,h,x,w={}){this._terminal=m,this._regex=h,this._handler=x,this._options=w}provideLinks(m,h){const x=f.computeLink(m,this._regex,this._terminal,this._handler);h(this._addCallbacks(x))}_addCallbacks(m){return m.map((h=>(h.leave=this._options.leave,h.hover=(x,w)=>{if(this._options.hover){const{range:j}=h;this._options.hover(x,w,j)}},h)))}};class f{static computeLink(h,x,w,j){const C=new RegExp(x.source,(x.flags||"")+"g"),[v,y]=f._getWindowedLineStrings(h-1,w),g=v.join("");let b;const k=[];for(;b=C.exec(g);){const E=b[0];if(!d(E))continue;const[P,T]=f._mapStrIdx(w,y,0,b.index),[N,M]=f._mapStrIdx(w,P,T,E.length);if(P===-1||T===-1||N===-1||M===-1)continue;const I={start:{x:T+1,y:P+1},end:{x:M,y:N+1}};k.push({range:I,text:E,activate:j})}return k}static _getWindowedLineStrings(h,x){let w,j=h,C=h,v=0,y="";const g=[];if(w=x.buffer.active.getLine(h)){const b=w.translateToString(!0);if(w.isWrapped&&b[0]!==" "){for(v=0;(w=x.buffer.active.getLine(--j))&&v<2048&&(y=w.translateToString(!0),v+=y.length,g.push(y),w.isWrapped&&y.indexOf(" ")===-1););g.reverse()}for(g.push(b),v=0;(w=x.buffer.active.getLine(++C))&&w.isWrapped&&v<2048&&(y=w.translateToString(!0),v+=y.length,g.push(y),y.indexOf(" ")===-1););}return[g,j]}static _mapStrIdx(h,x,w,j){const C=h.buffer.active,v=C.getNullCell();let y=w;for(;j;){const g=C.getLine(x);if(!g)return[-1,-1];for(let b=y;b<g.length;++b){g.getCell(b,v);const k=v.getChars();if(v.getWidth()&&(j-=k.length||1,b===g.length-1&&k==="")){const E=C.getLine(x+1);E&&E.isWrapped&&(E.getCell(0,v),v.getWidth()===2&&(j+=1))}if(j<0)return[x,b]}x++,y=0}return[x,y]}}l.LinkComputer=f}},n={};function o(u){var l=n[u];if(l!==void 0)return l.exports;var d=n[u]={exports:{}};return s[u](d,d.exports,o),d.exports}var c={};return(()=>{var u=c;Object.defineProperty(u,"__esModule",{value:!0}),u.WebLinksAddon=void 0;const l=o(6),d=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function f(m,h){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}u.WebLinksAddon=class{constructor(m=f,h={}){this._handler=m,this._options=h}activate(m){this._terminal=m;const h=this._options,x=h.urlRegex||d;this._linkProvider=this._terminal.registerLinkProvider(new l.WebLinkProvider(this._terminal,x,this._handler,h))}dispose(){var m;(m=this._linkProvider)==null||m.dispose()}}})(),c})()))})(Fm)),Fm.exports}var dB=cB();function xh({cwd:e,initialCommand:t,delayedCommand:s,delayedCommandDelay:n=2e3,env:o={},onExit:c,onReady:u,className:l="",height:d="400px"}){const f=_.useRef(null),m=_.useRef(null),h=_.useRef(null),x=_.useRef(null),[w,j]=_.useState(!1),[C,v]=_.useState(null);_.useEffect(()=>{if(!f.current||m.current)return;const k=new oB.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', 'Consolas', monospace",theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),E=new lB.FitAddon;k.loadAddon(E),h.current=E;const P=new dB.WebLinksAddon;return k.loadAddon(P),k.open(f.current),m.current=k,setTimeout(()=>{E.fit(),k.focus()},0),y(k),()=>{x.current&&x.current.close(),k.dispose(),m.current=null}},[]);const y=_.useCallback(k=>{const E=window.location.protocol==="https:"?"wss:":"ws:",P=window.location.hostname,T=3333,N=new URLSearchParams;if(e&&N.set("cwd",e),t&&N.set("cmd",t),s&&(N.set("delayedCmd",s),N.set("delayedCmdDelay",String(n))),o&&typeof o=="object")for(const[L,B]of Object.entries(o))N.set(`env_${L}`,B);const M=`${E}//${P}:${T}/ws/terminal?${N.toString()}`;console.log("Connecting to terminal WebSocket:",M);const I=new WebSocket(M);x.current=I,I.onopen=()=>{console.log("Terminal WebSocket connected"),j(!0)},I.onmessage=L=>{try{const B=JSON.parse(L.data);switch(B.type){case"session":v(B.sessionId),u&&u(B.sessionId);break;case"output":k.write(B.data);break;case"exit":k.write(`\r
\x1B[33m[Process exited]\x1B[0m\r
`),c&&c(B.exitCode,B.signal);break;case"error":k.write(`\r
\x1B[31m[Error: ${B.message}]\x1B[0m\r
`),k.write(`\x1B[33mTip: The terminal requires a working shell. Try running the command manually.\x1B[0m\r
`);break}}catch{k.write(L.data)}},I.onclose=()=>{console.log("Terminal WebSocket closed"),j(!1),k.write(`\r
\x1B[31m[Disconnected]\x1B[0m\r
`)},I.onerror=L=>{console.error("Terminal WebSocket error:",L),k.write(`\r
\x1B[31m[Connection error]\x1B[0m\r
`)},k.onData(L=>{I.readyState===WebSocket.OPEN&&I.send(JSON.stringify({type:"input",data:L}))}),k.onResize(({cols:L,rows:B})=>{I.readyState===WebSocket.OPEN&&I.send(JSON.stringify({type:"resize",cols:L,rows:B}))})},[e,t,s,n,o,u,c]);_.useEffect(()=>{const k=()=>{h.current&&m.current&&h.current.fit()};window.addEventListener("resize",k);const E=new ResizeObserver(k);return f.current&&E.observe(f.current),()=>{window.removeEventListener("resize",k),E.disconnect()}},[]),_.useCallback(k=>{x.current&&x.current.readyState===WebSocket.OPEN&&x.current.send(JSON.stringify({type:"input",data:k+"\r"}))},[]),_.useCallback(()=>{x.current&&x.current.readyState===WebSocket.OPEN&&x.current.send(JSON.stringify({type:"kill"}))},[]);const g=_.useCallback(()=>{m.current&&m.current.focus()},[]);_.useCallback(()=>{m.current&&m.current.clear()},[]);const b=_.useCallback(()=>{if(m.current){const E=m.current.buffer.active;let P="";for(let T=0;T<E.length;T++){const N=E.getLine(T);N&&(P+=N.translateToString(!0)+`
`)}navigator.clipboard.writeText(P.trim()).then(()=>{const T=document.getElementById("terminal-copy-btn");T&&(T.classList.add("bg-green-600"),setTimeout(()=>T.classList.remove("bg-green-600"),500))})}},[]);return r.jsxs("div",{className:`relative ${l}`,style:{height:d},children:[r.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[r.jsx("button",{id:"terminal-copy-btn",onClick:b,className:"px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy terminal output",children:"Copy"}),r.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-xs text-gray-400",children:w?"Connected":"Disconnected"})]}),r.jsx("div",{ref:f,className:"w-full h-full rounded-lg overflow-hidden",style:{backgroundColor:"#1e1e1e"},onClick:g})]})}xh.sendCommand=(e,t)=>{e&&e.sendCommand&&e.sendCommand(t)};function Oj({open:e,onOpenChange:t,title:s="Terminal",description:n,cwd:o,initialCommand:c,delayedCommand:u,delayedCommandDelay:l=2e3,env:d={},onExit:f,autoCloseOnExit:m=!1,autoCloseDelay:h=1500,headerExtra:x=null}){const w=_.useRef(null),j=_.useRef(null),[C,v]=_.useState(!1),[y,g]=_.useState(!1),[b,k]=_.useState({x:null,y:null}),[E,P]=_.useState({width:1100,height:650}),[T,N]=_.useState(!1),[M,I]=_.useState(!1),L=_.useRef({x:0,y:0}),B=_.useRef({x:0,y:0,width:0,height:0});_.useEffect(()=>{e&&b.x===null&&k({x:Math.max(20,(window.innerWidth-E.width)/2),y:Math.max(20,(window.innerHeight-E.height)/2)})},[e,b.x,E.width,E.height]),_.useEffect(()=>{e&&v(!1)},[e]);const H=_.useCallback(($,se)=>{v(!0),f&&f($,se),m&&setTimeout(()=>{t(!1)},h)},[f,m,h,t]),q=_.useCallback($=>{if(y)return;$.preventDefault(),N(!0);const se=j.current.getBoundingClientRect();L.current={x:$.clientX-se.left,y:$.clientY-se.top}},[y]),z=_.useCallback($=>{if(!T)return;const se=Math.max(0,Math.min(window.innerWidth-100,$.clientX-L.current.x)),de=Math.max(0,Math.min(window.innerHeight-50,$.clientY-L.current.y));k({x:se,y:de})},[T]),G=_.useCallback(()=>{N(!1)},[]),J=_.useCallback($=>{y||($.preventDefault(),$.stopPropagation(),I(!0),B.current={x:$.clientX,y:$.clientY,width:E.width,height:E.height})},[y,E]),K=_.useCallback($=>{if(!M)return;const se=$.clientX-B.current.x,de=$.clientY-B.current.y;P({width:Math.max(400,B.current.width+se),height:Math.max(300,B.current.height+de)})},[M]),F=_.useCallback(()=>{I(!1)},[]);_.useEffect(()=>{if(T)return window.addEventListener("mousemove",z),window.addEventListener("mouseup",G),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",G)}},[T,z,G]),_.useEffect(()=>{if(M)return window.addEventListener("mousemove",K),window.addEventListener("mouseup",F),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",F)}},[M,K,F]);const R=_.useCallback(()=>{g($=>!$)},[]),O=_.useCallback($=>{$.key!=="Escape"&&$.stopPropagation()},[]);if(!e)return null;const V=y?{left:0,top:0,width:"100vw",height:"100vh"}:{left:b.x,top:b.y,width:E.width,height:E.height};return r.jsxs("div",{ref:j,className:Ne("fixed z-50 flex flex-col","border bg-background shadow-2xl rounded-lg overflow-hidden",T&&"cursor-grabbing select-none",M&&"select-none"),style:V,onKeyDown:O,children:[r.jsx("div",{className:Ne("px-4 py-2 border-b flex-shrink-0 bg-muted/50",!y&&"cursor-grab"),onMouseDown:q,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(mM,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold leading-none tracking-tight truncate",children:s}),n&&r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:n})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[x,r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:R,tabIndex:-1,children:y?r.jsx(kM,{className:"h-3.5 w-3.5"}):r.jsx(CM,{className:"h-3.5 w-3.5"})}),r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>t(!1),tabIndex:-1,children:r.jsx(oi,{className:"h-3.5 w-3.5"})})]})]})}),r.jsx("div",{ref:w,className:"flex-1 p-2 min-h-0 bg-black",children:r.jsx(xh,{cwd:o,initialCommand:c,delayedCommand:u,delayedCommandDelay:l,env:d,onExit:H,height:"100%",className:"h-full"})}),!y&&r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize",onMouseDown:J,children:r.jsx("svg",{className:"w-full h-full text-muted-foreground/50",viewBox:"0 0 16 16",fill:"currentColor",children:r.jsx("path",{d:"M14 14H10V10H14V14ZM14 6H12V8H14V6ZM6 14H8V12H6V14Z"})})})]})}const gc={mcps:{icon:zs,color:"text-blue-600",bgColor:"bg-blue-50",label:"MCP Servers"},settings:{icon:sn,color:"text-gray-600 dark:text-slate-400",bgColor:"bg-gray-50 dark:bg-slate-800",label:"Settings"},command:{icon:qt,color:"text-green-600",bgColor:"bg-green-50",label:"Skill"},rule:{icon:ko,color:"text-purple-600",bgColor:"bg-purple-50",label:"Rule"},workflow:{icon:nS,color:"text-cyan-600",bgColor:"bg-cyan-50",label:"Workflow"},claudemd:{icon:Br,color:"text-orange-600",bgColor:"bg-orange-50",label:"CLAUDE.md"},geminimd:{icon:Br,color:"text-blue-600",bgColor:"bg-blue-50",label:"GEMINI.md"},env:{icon:Ku,color:"text-yellow-600",bgColor:"bg-yellow-50",label:".env"},memory:{icon:jo,color:"text-pink-600",bgColor:"bg-pink-50",label:"Memory"},folder:{icon:Kr,color:"text-yellow-600",bgColor:"bg-yellow-50",label:"Folder"}};function pu({item:e,level:t=0,selectedPath:s,onSelect:n,onContextMenu:o,expandedFolders:c,onToggleFolder:u}){const l=gc[e.type]||gc.folder,d=l.icon,f=s===e.path,m=e.type==="folder",h=c[e.path];return r.jsxs("div",{children:[r.jsxs("div",{className:Ne("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm","hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",f&&"bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/30"),style:{paddingLeft:`${t*16+8}px`},onClick:()=>m?u(e.path):n(e),onContextMenu:x=>o(x,e),children:[m&&r.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:h?r.jsx(Er,{className:"w-3 h-3"}):r.jsx(us,{className:"w-3 h-3"})}),!m&&r.jsx("span",{className:"w-4"}),r.jsx(d,{className:Ne("w-4 h-4",l.color)}),r.jsx("span",{className:"flex-1 truncate",children:e.name}),e.mcpCount>0&&r.jsx(et,{variant:"secondary",className:"text-xs px-1.5 py-0",children:e.mcpCount})]}),m&&h&&e.children&&r.jsx("div",{children:e.children.map(x=>r.jsx(pu,{item:x,level:t+1,selectedPath:s,onSelect:n,onContextMenu:o,expandedFolders:c,onToggleFolder:u},x.path))})]})}function uB({folder:e,isExpanded:t,isHome:s,isProject:n,isSubproject:o,depth:c=0,onToggle:u,onCreateFile:l,onInstallPlugin:d,onSelectItem:f,selectedPath:m,onContextMenu:h,expandedFolders:x,onToggleFolder:w,hasSubprojects:j,onAddSubproject:C,onRemoveSubproject:v,onHideSubproject:y,enabledTools:g=["claude"]}){var H,q,z,G,J,K,F;const b=(H=e.files)==null?void 0:H.some(R=>R.name==="mcps.json"),k=(q=e.files)==null?void 0:q.some(R=>R.name==="settings.json"),E=(z=e.files)==null?void 0:z.some(R=>R.name==="CLAUDE.md"||R.name==="CLAUDE.md (root)"),P=(G=e.files)==null?void 0:G.some(R=>R.name===".env"),T=()=>s?"bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":o&&c>1?"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700":o?"bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30":n?"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30":"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700",N=()=>s?"text-indigo-700 dark:text-indigo-400":o&&c>1?"text-gray-600 dark:text-slate-400":o?"text-amber-700 dark:text-amber-400":n?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-slate-300",I=s?Dg:t?Wi:Kr,L=s?"Home":e.label,B=(g.includes("claude")&&((J=e.files)==null?void 0:J.length)||0)+(g.includes("gemini")&&((K=e.geminiFiles)==null?void 0:K.length)||0)+(g.includes("antigravity")&&((F=e.agentFiles)==null?void 0:F.length)||0);return r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:Ne("flex items-center gap-2 py-2 cursor-pointer transition-colors",T()),style:{paddingLeft:`${12+c*16}px`,paddingRight:"24px"},onClick:u,children:[r.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-gray-500",children:t?r.jsx(Er,{className:"w-4 h-4"}):r.jsx(us,{className:"w-4 h-4"})}),r.jsx(I,{className:Ne("w-4 h-4",N())}),r.jsx("span",{className:Ne("flex-1 min-w-0 font-medium text-sm truncate",N()),children:L}),r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,onClick:R=>R.stopPropagation(),children:r.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mr-1 hover:bg-white/50 dark:hover:bg-slate-900/50",children:r.jsx(Rt,{className:"w-4 h-4"})})}),r.jsxs(Hn,{align:"end",className:"w-48",children:[r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 border-b mb-1",children:[n&&j&&r.jsx(et,{variant:"outline",className:"text-[10px] px-1 py-0 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-300 dark:border-green-700",children:"root"}),!e.exists&&!s&&r.jsx(et,{variant:"outline",className:"text-[10px] px-1 py-0",children:"no config"}),!o&&e.exists&&B===0&&r.jsx("span",{className:"text-[10px] text-muted-foreground",children:"configured"})]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"mcps")},disabled:b,className:b?"opacity-50":"",children:[r.jsx(zs,{className:"w-4 h-4 mr-2"}),"mcps.json",b&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"settings")},disabled:k,className:k?"opacity-50":"",children:[r.jsx(sn,{className:"w-4 h-4 mr-2"}),"settings.json",k&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"env")},disabled:P,className:P?"opacity-50":"",children:[r.jsx(Ku,{className:"w-4 h-4 mr-2"}),".env",P&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsx(ds,{}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"command")},children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"New Skill"]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"rule")},children:[r.jsx(ko,{className:"w-4 h-4 mr-2"}),"New Rule"]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"workflow")},children:[r.jsx(nS,{className:"w-4 h-4 mr-2"}),"New Workflow"]}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"memory")},children:[r.jsx(jo,{className:"w-4 h-4 mr-2"}),"New Memory"]}),r.jsx(ds,{}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),d(e.dir,e.name||e.dir.split("/").pop())},children:[r.jsx(Po,{className:"w-4 h-4 mr-2"}),"Install Plugins"]}),r.jsx(ds,{}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),l(e.dir,"claudemd")},disabled:E,className:E?"opacity-50":"",children:[r.jsx(Br,{className:"w-4 h-4 mr-2"}),"CLAUDE.md",E&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),(n||o)&&C&&r.jsxs(r.Fragment,{children:[r.jsx(ds,{}),r.jsxs(zt,{onClick:R=>{R.stopPropagation(),C(e.dir)},children:[r.jsx(ii,{className:"w-4 h-4 mr-2"}),"Add Sub-project"]})]}),o&&y&&r.jsxs(zt,{onClick:R=>{R.stopPropagation(),y(e.dir)},children:[r.jsx(sS,{className:"w-4 h-4 mr-2"}),"Hide"]}),e.isManual&&v&&r.jsxs(zt,{onClick:R=>{R.stopPropagation(),v(e.dir)},className:"text-destructive focus:text-destructive",children:[r.jsx(js,{className:"w-4 h-4 mr-2"}),"Remove"]})]})]})]}),t&&r.jsxs("div",{className:"bg-white dark:bg-slate-950 py-1",children:[g.includes("claude")&&e.files&&e.files.length>0&&r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Yt,{className:"w-3 h-3"}),"Claude Code"]}),e.files.map(R=>r.jsx(pu,{item:R,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},R.path))]}),g.includes("gemini")&&e.geminiFiles&&e.geminiFiles.length>0&&r.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Yt,{className:"w-3 h-3"}),"Gemini CLI"]}),e.geminiFiles.map(R=>r.jsx(pu,{item:R,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},R.path))]}),g.includes("antigravity")&&e.agentFiles&&e.agentFiles.length>0&&r.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Yt,{className:"w-3 h-3"}),"Antigravity"]}),e.agentFiles.map(R=>r.jsx(pu,{item:R,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},R.path))]}),(!g.includes("claude")||!e.files||e.files.length===0)&&(!g.includes("gemini")||!e.geminiFiles||e.geminiFiles.length===0)&&(!g.includes("antigravity")||!e.agentFiles||e.agentFiles.length===0)&&r.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 dark:text-slate-500 italic text-center",children:"No config files. Use + to create."})]})]})}const Ct=_.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:Ne("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Ct.displayName="Textarea";var vh="Tabs",[hB]=Ns(vh,[fh]),Fj=fh(),[fB,Cx]=hB(vh),Bj=_.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:l,activationMode:d="automatic",...f}=e,m=Ec(l),[h,x]=$n({prop:n,onChange:o,defaultProp:c??"",caller:vh});return r.jsx(fB,{scope:s,baseId:tn(),value:h,onValueChange:x,orientation:u,dir:m,activationMode:d,children:r.jsx(st.div,{dir:m,"data-orientation":u,...f,ref:t})})});Bj.displayName=vh;var $j="TabsList",zj=_.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...o}=e,c=Cx($j,s),u=Fj(s);return r.jsx(zk,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:n,children:r.jsx(st.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});zj.displayName=$j;var Hj="TabsTrigger",Wj=_.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:o=!1,...c}=e,u=Cx(Hj,s),l=Fj(s),d=Gj(u.baseId,n),f=Kj(u.baseId,n),m=n===u.value;return r.jsx(Hk,{asChild:!0,...l,focusable:!o,active:m,children:r.jsx(st.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...c,ref:t,onMouseDown:Fe(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?u.onValueChange(n):h.preventDefault()}),onKeyDown:Fe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&u.onValueChange(n)}),onFocus:Fe(e.onFocus,()=>{const h=u.activationMode!=="manual";!m&&!o&&h&&u.onValueChange(n)})})})});Wj.displayName=Hj;var Vj="TabsContent",Uj=_.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:o,children:c,...u}=e,l=Cx(Vj,s),d=Gj(l.baseId,n),f=Kj(l.baseId,n),m=n===l.value,h=_.useRef(m);return _.useEffect(()=>{const x=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Yr,{present:o||m,children:({present:x})=>r.jsx(st.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:f,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:x&&c})})});Uj.displayName=Vj;function Gj(e,t){return`${e}-trigger-${t}`}function Kj(e,t){return`${e}-content-${t}`}var mB=Bj,qj=zj,Yj=Wj,Xj=Uj;const yh=mB,Ic=_.forwardRef(({className:e,...t},s)=>r.jsx(qj,{ref:s,className:Ne("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ic.displayName=qj.displayName;const bn=_.forwardRef(({className:e,...t},s)=>r.jsx(Yj,{ref:s,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));bn.displayName=Yj.displayName;const ai=_.forwardRef(({className:e,...t},s)=>r.jsx(Xj,{ref:s,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ai.displayName=Xj.displayName;var pB=Symbol("radix.slottable");function gB(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=pB,t}var[bh]=Ns("Tooltip",[Za]),wh=Za(),Jj="TooltipProvider",xB=700,Ip="tooltip.open",[vB,Sx]=bh(Jj),Qj=e=>{const{__scopeTooltip:t,delayDuration:s=xB,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:c}=e,u=_.useRef(!0),l=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),r.jsx(vB,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(f=>{l.current=f},[]),disableHoverableContent:o,children:c})};Qj.displayName=Jj;var xc="Tooltip",[yB,Lc]=bh(xc),Zj=e=>{const{__scopeTooltip:t,children:s,open:n,defaultOpen:o,onOpenChange:c,disableHoverableContent:u,delayDuration:l}=e,d=Sx(xc,e.__scopeTooltip),f=wh(t),[m,h]=_.useState(null),x=tn(),w=_.useRef(0),j=u??d.disableHoverableContent,C=l??d.delayDuration,v=_.useRef(!1),[y,g]=$n({prop:n,defaultProp:o??!1,onChange:T=>{T?(d.onOpen(),document.dispatchEvent(new CustomEvent(Ip))):d.onClose(),c==null||c(T)},caller:xc}),b=_.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),k=_.useCallback(()=>{window.clearTimeout(w.current),w.current=0,v.current=!1,g(!0)},[g]),E=_.useCallback(()=>{window.clearTimeout(w.current),w.current=0,g(!1)},[g]),P=_.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{v.current=!0,g(!0),w.current=0},C)},[C,g]);return _.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),r.jsx(dx,{...f,children:r.jsx(yB,{scope:t,contentId:x,open:y,stateAttribute:b,trigger:m,onTriggerChange:h,onTriggerEnter:_.useCallback(()=>{d.isOpenDelayedRef.current?P():k()},[d.isOpenDelayedRef,P,k]),onTriggerLeave:_.useCallback(()=>{j?E():(window.clearTimeout(w.current),w.current=0)},[E,j]),onOpen:k,onClose:E,disableHoverableContent:j,children:s})})};Zj.displayName=xc;var Lp="TooltipTrigger",eN=_.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=Lc(Lp,s),c=Sx(Lp,s),u=wh(s),l=_.useRef(null),d=ht(t,l,o.onTriggerChange),f=_.useRef(!1),m=_.useRef(!1),h=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(ux,{asChild:!0,...u,children:r.jsx(st.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:d,onPointerMove:Fe(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Fe(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Fe(e.onBlur,o.onClose),onClick:Fe(e.onClick,o.onClose)})})});eN.displayName=Lp;var kx="TooltipPortal",[bB,wB]=bh(kx,{forceMount:void 0}),tN=e=>{const{__scopeTooltip:t,forceMount:s,children:n,container:o}=e,c=Lc(kx,t);return r.jsx(bB,{scope:t,forceMount:s,children:r.jsx(Yr,{present:s||c.open,children:r.jsx(Ac,{asChild:!0,container:o,children:n})})})};tN.displayName=kx;var Va="TooltipContent",rN=_.forwardRef((e,t)=>{const s=wB(Va,e.__scopeTooltip),{forceMount:n=s.forceMount,side:o="top",...c}=e,u=Lc(Va,e.__scopeTooltip);return r.jsx(Yr,{present:n||u.open,children:u.disableHoverableContent?r.jsx(sN,{side:o,...c,ref:t}):r.jsx(_B,{side:o,...c,ref:t})})}),_B=_.forwardRef((e,t)=>{const s=Lc(Va,e.__scopeTooltip),n=Sx(Va,e.__scopeTooltip),o=_.useRef(null),c=ht(t,o),[u,l]=_.useState(null),{trigger:d,onClose:f}=s,m=o.current,{onPointerInTransitChange:h}=n,x=_.useCallback(()=>{l(null),h(!1)},[h]),w=_.useCallback((j,C)=>{const v=j.currentTarget,y={x:j.clientX,y:j.clientY},g=NB(y,v.getBoundingClientRect()),b=EB(y,g),k=PB(C.getBoundingClientRect()),E=TB([...b,...k]);l(E),h(!0)},[h]);return _.useEffect(()=>()=>x(),[x]),_.useEffect(()=>{if(d&&m){const j=v=>w(v,m),C=v=>w(v,d);return d.addEventListener("pointerleave",j),m.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",j),m.removeEventListener("pointerleave",C)}}},[d,m,w,x]),_.useEffect(()=>{if(u){const j=C=>{const v=C.target,y={x:C.clientX,y:C.clientY},g=(d==null?void 0:d.contains(v))||(m==null?void 0:m.contains(v)),b=!AB(y,u);g?x():b&&(x(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,m,u,f,x]),r.jsx(sN,{...e,ref:c})}),[CB,SB]=bh(xc,{isInside:!1}),kB=gB("TooltipContent"),sN=_.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:u,...l}=e,d=Lc(Va,s),f=wh(s),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(Ip,m),()=>document.removeEventListener(Ip,m)),[m]),_.useEffect(()=>{if(d.trigger){const h=x=>{const w=x.target;w!=null&&w.contains(d.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,m]),r.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:r.jsxs(hx,{"data-state":d.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(kB,{children:n}),r.jsx(CB,{scope:s,isInside:!0,children:r.jsx(GO,{id:d.contentId,role:"tooltip",children:o||n})})]})})});rN.displayName=Va;var nN="TooltipArrow",jB=_.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=wh(s);return SB(nN,s).isInside?null:r.jsx(fx,{...o,...n,ref:t})});jB.displayName=nN;function NB(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,n,o,c)){case c:return"left";case o:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function EB(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function PB(e){const{top:t,right:s,bottom:n,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:n},{x:o,y:n}]}function AB(e,t){const{x:s,y:n}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const l=t[c],d=t[u],f=l.x,m=l.y,h=d.x,x=d.y;m>n!=x>n&&s<(h-f)*(n-m)/(x-m)+f&&(o=!o)}return o}function TB(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),RB(t)}function RB(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(o.y-u.y)>=(c.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var MB=Qj,DB=Zj,IB=eN,LB=tN,iN=rN;const cr=MB,Ft=DB,Bt=IB,Mt=_.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(LB,{children:r.jsx(iN,{ref:n,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Mt.displayName=iN.displayName;function OB({content:e,parsed:t,onSave:s,registry:n,configDir:o}){const[c,u]=_.useState(t||{include:[],exclude:[],mcpServers:{}}),[l,d]=_.useState("rich"),[f,m]=_.useState(JSON.stringify(t||{},null,2)),[h,x]=_.useState(!1),[w,j]=_.useState({open:!1,json:""}),[C,v]=_.useState([]),[y,g]=_.useState(!1),[b,k]=_.useState(!1);_.useEffect(()=>{u(t||{include:[],exclude:[],mcpServers:{}}),m(JSON.stringify(t||{},null,2))},[t]),_.useEffect(()=>{o?ue.getInheritedMcps(o).then(B=>{v(B.inherited||[]),g(B.needsApply||!1)}).catch(()=>{v([]),g(!1)}):(v([]),g(!1))},[o,t]);const E=async B=>{x(!0);try{await s(JSON.stringify(B,null,2))}catch(H){Y.error("Failed to save: "+H.message)}finally{x(!1)}},P=B=>{var z;const H=(z=c.include)!=null&&z.includes(B)?c.include.filter(G=>G!==B):[...c.include||[],B],q={...c,include:H};u(q),m(JSON.stringify(q,null,2)),E(q)},T=B=>{const H=c.exclude||[],q=H.includes(B),z=q?H.filter(J=>J!==B):[...H,B],G=z.length>0?{...c,exclude:z}:{...c};z.length===0&&delete G.exclude,u(G),m(JSON.stringify(G,null,2)),E(G),Y.success(q?`Unblocked ${B}`:`Blocked ${B}`)},N=()=>{try{const B=JSON.parse(f);u(B),E(B)}catch{Y.error("Invalid JSON")}},M=()=>{if(!w.json.trim()){Y.error("Please paste the MCP JSON configuration");return}try{let B;try{B=JSON.parse(w.json)}catch{Y.error("Invalid JSON format");return}let H={};if(B.mcpServers&&typeof B.mcpServers=="object")H=B.mcpServers;else if(typeof B=="object"&&!Array.isArray(B)){if(Object.keys(B).includes("command")){Y.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}H=B}if(Object.keys(H).length===0){Y.error("No MCP configurations found in the JSON");return}for(const[J,K]of Object.entries(H))if(!K.command){Y.error(`MCP "${J}" is missing required "command" field`);return}const q={...c.mcpServers||{},...H},z={...c,mcpServers:q};u(z),m(JSON.stringify(z,null,2)),E(z);const G=Object.keys(H).length;Y.success(`Added ${G} MCP${G>1?"s":""}`),j({open:!1,json:""})}catch(B){Y.error("Failed to add: "+B.message)}},I=n!=null&&n.mcpServers?Object.keys(n.mcpServers):[],L=async()=>{if(o){k(!0);try{const B=await ue.applyCascade(o);if(B.success){const H=B.applied>1?`Applied to ${B.applied} projects`:"Generated .mcp.json";Y.success(H),g(!1)}else B.applied===0&&B.skipped>0?(Y.info("No changes needed"),g(!1)):Y.error(B.error||"Failed to apply")}catch(B){Y.error("Failed to apply: "+B.message)}finally{k(!1)}}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[r.jsx(yh,{value:l,onValueChange:d,children:r.jsxs(Ic,{className:"h-8",children:[r.jsx(bn,{value:"rich",className:"text-xs px-3",children:"Rich Editor"}),r.jsx(bn,{value:"json",className:"text-xs px-3",children:"JSON"})]})}),r.jsxs("div",{className:"flex gap-2 items-center",children:[h&&r.jsx(et,{variant:"outline",className:"text-xs text-blue-600",children:"Saving..."}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>j({open:!0,json:""}),children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Add MCP"]}),l==="json"&&r.jsxs(re,{size:"sm",onClick:N,disabled:h,children:[r.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Apply JSON"]})]})]}),y&&r.jsxs("div",{className:"mx-3 mt-3 p-3 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($s,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800 dark:text-amber-200",children:["No ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900 px-1 rounded",children:".mcp.json"})," generated yet. Apply to enable MCPs."]})]}),r.jsx(re,{size:"sm",variant:"outline",onClick:L,disabled:b,className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900",children:b?r.jsx("span",{className:"animate-pulse",children:"Applying..."}):r.jsxs(r.Fragment,{children:[r.jsx(So,{className:"w-3 h-3 mr-1"}),"Apply"]})})]}),r.jsx(nn,{className:"flex-1",children:l==="rich"?r.jsx(cr,{children:r.jsxs("div",{className:"p-4 space-y-2",children:[Object.entries(c.mcpServers||{}).map(([B,H])=>{var q;return r.jsxs("div",{className:"p-2 rounded border bg-white dark:bg-slate-950 group",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:B})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:"outline",className:"text-xs",children:"inline"}),r.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>{const{[B]:z,...G}=c.mcpServers,J={...c,mcpServers:G};u(J),m(JSON.stringify(J,null,2)),E(J),Y.success(`Removed ${B}`)},children:r.jsx(js,{className:"w-3.5 h-3.5"})})]})]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 font-mono",children:[H.command," ",(q=H.args)==null?void 0:q.join(" ")]})]},`inline-${B}`)}),C.map(B=>{var q;const H=(q=c.exclude)==null?void 0:q.includes(B.name);return r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${H?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-slate-900 border-gray-200 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zs,{className:`w-4 h-4 ${H?"text-red-400":"text-gray-400"}`}),r.jsx("span",{className:`text-sm ${H?"text-red-500 line-through":"text-gray-500 dark:text-slate-400"}`,children:B.name}),r.jsxs(et,{variant:"outline",className:"text-[10px] text-gray-400 border-gray-300 dark:border-slate-600",children:["from ",B.source]})]}),r.jsx(gt,{checked:!H,onCheckedChange:()=>{H||Y.warning(`Blocking "${B.name}" inherited from ${B.source}`),T(B.name)},className:"data-[state=checked]:bg-gray-400 dark:data-[state=checked]:bg-slate-600"})]})}),r.jsxs(Mt,{children:[r.jsxs("p",{children:["Inherited from ",r.jsx("strong",{children:B.source})]}),r.jsx("p",{className:"text-xs text-gray-400",children:H?"Blocked at this level":"Toggle off to block"})]})]},`inherited-${B.name}`)}),I.map(B=>{var z,G;const H=C.some(J=>J.name===B),q=(z=c.mcpServers)==null?void 0:z[B];return H||q?null:r.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-white dark:bg-slate-950",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:B})]}),r.jsx(gt,{checked:(G=c.include)==null?void 0:G.includes(B),onCheckedChange:()=>P(B)})]},B)}),I.length===0&&C.length===0&&Object.keys(c.mcpServers||{}).length===0&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:'No MCPs configured. Click "Add MCP" to add one.'})]})}):r.jsx(Ct,{className:"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none resize-none",value:f,onChange:B=>m(B.target.value)})}),r.jsx(wt,{open:w.open,onOpenChange:B=>j({...w,open:B}),children:r.jsxs(xt,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add MCP to Config"}),r.jsx(ur,{children:"Paste the MCP JSON configuration to add to this config file."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Ct,{value:w.json,onChange:B=>j({...w,json:B.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>j({open:!1,json:""}),children:"Cancel"}),r.jsxs(re,{onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function ww({content:e,onSave:t,fileType:s}){const[n,o]=_.useState(e||""),[c,u]=_.useState(!1),l=_.useRef(null),d=_.useRef(null),f=_.useRef(e);_.useEffect(()=>{o(e||""),e!==f.current&&(f.current=e,setTimeout(()=>{if(d.current){d.current.focus();const w=(e||"").length;d.current.setSelectionRange(w,w)}},100))},[e]);const m=_.useCallback(w=>{l.current&&clearTimeout(l.current),l.current=setTimeout(async()=>{u(!0);try{await t(w)}finally{u(!1)}},2500)},[t]),h=w=>{const j=w.target.value;o(j),m(j)},x=gc[s]||gc.claudemd;return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(x.icon,{className:Ne("w-4 h-4",x.color)}),r.jsx("span",{className:"text-sm font-medium",children:x.label})]}),r.jsx("div",{className:"flex gap-2",children:c&&r.jsxs(et,{variant:"outline",className:"text-xs text-blue-600",children:[r.jsx(Tr,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]})})]}),r.jsx(Ct,{ref:d,className:"flex-1 w-full font-mono text-sm border-0 rounded-none resize-none p-4",value:n,onChange:h,placeholder:`Enter ${x.label.toLowerCase()} content...`})]})}var FB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BB=FB.reduce((e,t)=>{const s=Xu(`Primitive.${t}`),n=_.forwardRef((o,c)=>{const{asChild:u,...l}=o,d=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$B="Label",oN=_.forwardRef((e,t)=>r.jsx(BB.label,{...e,ref:t,onMouseDown:s=>{var o;s.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));oN.displayName=$B;var aN=oN;const zB=Ju("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nr=_.forwardRef(({className:e,...t},s)=>r.jsx(aN,{ref:s,className:Ne(zB(),e),...t}));nr.displayName=aN.displayName;const HB=Ju("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ua=_.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:Ne(HB({variant:t}),e),...s}));Ua.displayName="Alert";const WB=_.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:Ne("mb-1 font-medium leading-none tracking-tight",e),...t}));WB.displayName="AlertTitle";const Ga=_.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Ne("text-sm [&_p]:leading-relaxed",e),...t}));Ga.displayName="AlertDescription";var _h="Collapsible",[VB]=Ns(_h),[UB,jx]=VB(_h),lN=_.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:n,defaultOpen:o,disabled:c,onOpenChange:u,...l}=e,[d,f]=$n({prop:n,defaultProp:o??!1,onChange:u,caller:_h});return r.jsx(UB,{scope:s,disabled:c,contentId:tn(),open:d,onOpenToggle:_.useCallback(()=>f(m=>!m),[f]),children:r.jsx(st.div,{"data-state":Ex(d),"data-disabled":c?"":void 0,...l,ref:t})})});lN.displayName=_h;var cN="CollapsibleTrigger",dN=_.forwardRef((e,t)=>{const{__scopeCollapsible:s,...n}=e,o=jx(cN,s);return r.jsx(st.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Ex(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:Fe(e.onClick,o.onOpenToggle)})});dN.displayName=cN;var Nx="CollapsibleContent",uN=_.forwardRef((e,t)=>{const{forceMount:s,...n}=e,o=jx(Nx,e.__scopeCollapsible);return r.jsx(Yr,{present:s||o.open,children:({present:c})=>r.jsx(GB,{...n,ref:t,present:c})})});uN.displayName=Nx;var GB=_.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:n,children:o,...c}=e,u=jx(Nx,s),[l,d]=_.useState(n),f=_.useRef(null),m=ht(t,f),h=_.useRef(0),x=h.current,w=_.useRef(0),j=w.current,C=u.open||l,v=_.useRef(C),y=_.useRef(void 0);return _.useEffect(()=>{const g=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(g)},[]),$r(()=>{const g=f.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();h.current=b.height,w.current=b.width,v.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),d(n)}},[u.open,n]),r.jsx(st.div,{"data-state":Ex(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!C,...c,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:C&&o})});function Ex(e){return e?"open":"closed"}var KB=lN;const Oc=KB,Fc=dN,Bc=uN,Op=[{name:"Bash",icon:qt,description:"Shell commands",color:"text-purple-600",bgColor:"bg-purple-50",badgeClass:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Read",icon:Br,description:"Read file contents",color:"text-blue-600",bgColor:"bg-blue-50",badgeClass:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Edit",icon:Rg,description:"Edit existing files",color:"text-amber-600",bgColor:"bg-amber-50",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},{name:"Write",icon:Yu,description:"Create/write files",color:"text-orange-600",bgColor:"bg-orange-50",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},{name:"WebFetch",icon:Eo,description:"Fetch web content",color:"text-green-600",bgColor:"bg-green-50",badgeClass:"bg-green-100 text-green-700 border-green-200"},{name:"WebSearch",icon:jc,description:"Web search capability",color:"text-teal-600",bgColor:"bg-teal-50",badgeClass:"bg-teal-100 text-teal-700 border-teal-200"},{name:"mcp",icon:za,description:"MCP server tools",color:"text-indigo-600",bgColor:"bg-indigo-50",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200"}],_w=[{category:"Git",name:"Git Status",pattern:"Bash(git status:*)",description:"Check repository status",icon:qt},{category:"Git",name:"Git Add",pattern:"Bash(git add:*)",description:"Stage files for commit",icon:qt},{category:"Git",name:"Git Commit",pattern:"Bash(git commit:*)",description:"Create commits",icon:qt},{category:"Git",name:"Git Push",pattern:"Bash(git push:*)",description:"Push to remote repository",icon:qt},{category:"Git",name:"Git Diff",pattern:"Bash(git diff:*)",description:"Show changes",icon:qt},{category:"NPM",name:"NPM Install",pattern:"Bash(npm install:*)",description:"Install dependencies",icon:qt},{category:"NPM",name:"NPM Run Scripts",pattern:"Bash(npm run:*)",description:"Run package scripts",icon:qt},{category:"NPM",name:"NPM Test",pattern:"Bash(npm test:*)",description:"Run tests",icon:qt},{category:"Files",name:"Read All Files",pattern:"Read(**)",description:"Read any file in the project",icon:Br},{category:"Files",name:"Edit All Files",pattern:"Edit(**)",description:"Edit any file in the project",icon:Rg},{category:"Security",name:"Deny .env Files",pattern:"Read(./.env)",description:"Block reading environment files",icon:Br,suggestedCategory:"deny"},{category:"Security",name:"Deny All .env",pattern:"Read(**/.env*)",description:"Block all environment files",icon:Br,suggestedCategory:"deny"},{category:"Commands",name:"List Files",pattern:"Bash(ls:*)",description:"List directory contents",icon:qt},{category:"Commands",name:"Find Files",pattern:"Bash(find:*)",description:"Find files and directories",icon:qt},{category:"MCP",name:"Filesystem Operations",pattern:"mcp__filesystem__*",description:"All filesystem MCP operations",icon:za},{category:"MCP",name:"GitHub Operations",pattern:"mcp__github__*",description:"All GitHub MCP operations",icon:za}];function Ch(e){if(!e)return{type:"unknown",value:"",hasWildcard:!1,description:""};if(e.startsWith("mcp__")){const s=e.split("__");return{type:"mcp",value:e,server:s[1]||"",tool:s[2]||"",hasWildcard:e.includes("*"),description:`MCP tool: ${s.slice(1).join("/")}`}}if(e==="WebSearch")return{type:"WebSearch",value:"",hasWildcard:!1,description:"Web search capability"};const t=e.match(/^(\w+)\((.+)\)$/);if(t){const[,s,n]=t,o=n.includes("*");return{type:s,value:n,hasWildcard:o,description:XB(s,n)}}return{type:"unknown",value:e,hasWildcard:e.includes("*"),description:e}}function qB(e,t){return e==="WebSearch"?"WebSearch":e==="mcp"?t:t?`${e}(${t})`:""}function YB(e){if(!e)return"Rule cannot be empty";if(e==="WebSearch")return null;if(e.startsWith("mcp__"))return e.includes("*")||e.match(/^mcp__\w+__\w+$/)?null:"MCP pattern must be: mcp__server__tool";const t=e.match(/^(\w+)\((.+)\)$/);if(!t)return"Invalid pattern format. Expected: Type(value) or mcp__server__tool";const[,s]=t,n=["Bash","Read","Edit","Write","WebFetch"];return n.includes(s)?null:`Unknown permission type: ${s}. Valid types: ${n.join(", ")}`}function XB(e,t){switch(e){case"Bash":if(t.includes(":")){const[s,n]=t.split(":");return n==="*"?`Run "${s}" with any arguments`:`Run "${s} ${n}"`}return`Run "${t}"`;case"Read":return t==="**"?"Read all files":t.includes("**")?`Read files matching ${t}`:`Read ${t}`;case"Edit":return t==="**"?"Edit all files":t.includes("**")?`Edit files matching ${t}`:`Edit ${t}`;case"Write":return t==="**"?"Write to any file":t.includes("**")?`Write files matching ${t}`:`Write to ${t}`;case"WebFetch":return t==="*"?"Fetch any URL":`Fetch URLs matching ${t}`;default:return t}}function JB(e){return Op.find(s=>s.name===e)||Op[0]}function QB(e){return{allow:'Rules in "Allow" will execute automatically without prompting. Use wildcards (*) for flexible matching.',ask:'Rules in "Ask" will prompt for confirmation each time. Good for potentially destructive operations.',deny:'Rules in "Deny" are blocked entirely. Use this to prevent access to sensitive files or dangerous operations.'}[e]}function Cw(e){return{allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeColor:"bg-green-100 text-green-700",description:"Operations that run without asking"},ask:{label:"Ask",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",badgeColor:"bg-amber-100 text-amber-700",description:"Operations that require confirmation"},deny:{label:"Deny",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",description:"Operations that are blocked"}}[e]}function ZB(e,t){const s=Ch(e),{type:n,value:o}=s,c={allow:{prefix:" Allowed automatically",meaning:"Claude will do this without asking you first"},ask:{prefix:"? Requires approval",meaning:"Claude will ask for your permission each time"},deny:{prefix:" Blocked",meaning:"Claude cannot do this at all"}},u=c[t]||c.ask;let l="",d="",f=[];switch(n){case"Bash":if(o.includes(":")){const[w,j]=o.split(":");j==="*"?(l=`Run "${w}" command`,d=`Allows running the ${w} command with any arguments`,f=[`${w} build`,`${w} test`,`${w} --help`]):(l=`Run "${w} ${j}"`,d="Allows running this specific command",f=[`${w} ${j}`])}else o==="*"?(l="Run any terminal command",d="Allows executing any command in the terminal. Use with caution!",f=["npm install","git push","rm files"]):(l=`Run "${o}" command`,d="Allows running this specific command",f=[o]);break;case"Read":if(o==="**")l="Read any file",d="Allows reading the contents of any file in the project",f=["package.json","src/index.ts",".env"];else if(o.includes("**/*.")){const w=o.split("**.")[1];l=`Read ${w} files`,d=`Allows reading any file ending in .${w}`,f=[`file.${w}`,`src/component.${w}`]}else o.startsWith("./")?(l=`Read files in ${o}`,d=`Allows reading files in the ${o.replace("./","")} directory`):(l=`Read "${o}"`,d="Allows reading files matching this pattern");break;case"Edit":if(o==="**")l="Edit any file",d="Allows modifying the contents of any file. Changes can be undone with git.",f=["package.json","src/index.ts"];else if(o.includes("**/*.")){const w=o.split("**.")[1];l=`Edit ${w} files`,d=`Allows modifying any file ending in .${w}`}else o.startsWith("./")?(l=`Edit files in ${o}`,d=`Allows modifying files in the ${o.replace("./","")} directory`):(l=`Edit "${o}"`,d="Allows modifying files matching this pattern");break;case"Write":o==="**"?(l="Create any file",d="Allows creating new files anywhere in the project"):(l=`Create files in "${o}"`,d="Allows creating new files matching this pattern");break;case"WebFetch":o==="*"?(l="Fetch any URL",d="Allows making HTTP requests to any website",f=["api.github.com","docs.example.com"]):(l=`Fetch from ${o}`,d="Allows making HTTP requests to URLs matching this pattern");break;case"WebSearch":l="Search the web",d="Allows Claude to search the internet for information";break;case"mcp":const m=e.split("__"),h=m[1]||"unknown",x=m[2]||"*";x==="*"||e.endsWith("*")?(l=`Use ${h} tools`,d=`Allows using any tool from the ${h} MCP server`):(l=`Use ${h}/${x}`,d=`Allows using the ${x} tool from the ${h} MCP server`);break;default:l=e,d="Custom permission rule"}return{summary:l,detail:d,examples:f,categoryMeaning:`${u.prefix}  ${u.meaning}`}}function e8(e){const t={Bash:[],Read:[],Edit:[],Write:[],WebFetch:[],WebSearch:[],mcp:[],other:[]};for(const n of e){const c=Ch(n).type;t[c]?t[c].push(n):t.other.push(n)}return["Bash","Read","Edit","Write","WebFetch","WebSearch","mcp","other"].filter(n=>t[n].length>0).map(n=>({type:n,rules:t[n]}))}function t8({rule:e,category:t,onEdit:s,onDelete:n,readOnly:o}){const[c,u]=_.useState(!1),l=Ch(e);JB(l.type);const d=ZB(e,t),f=e.length>25?e.substring(0,22)+"...":e;return r.jsxs("div",{className:"inline-flex items-center group",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx("span",{className:"inline-block",children:r.jsx(et,{variant:"secondary",className:Ne("cursor-default transition-all text-xs font-mono py-1 px-2 h-7",t==="allow"&&"bg-green-100 dark:bg-green-950 text-green-800 dark:text-green-300",t==="ask"&&"bg-amber-100 dark:bg-amber-950 text-amber-800 dark:text-amber-300",t==="deny"&&"bg-red-100 dark:bg-red-950 text-red-800 dark:text-red-300",!o&&"rounded-r-none"),children:f})})}),r.jsx(Mt,{side:"bottom",className:"max-w-md p-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:d.summary}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.detail})]}),r.jsx("div",{className:Ne("text-xs px-2 py-1 rounded",t==="allow"&&"bg-green-500/20 text-green-700 dark:text-green-300",t==="ask"&&"bg-amber-500/20 text-amber-700 dark:text-amber-300",t==="deny"&&"bg-red-500/20 text-red-700 dark:text-red-300"),children:d.categoryMeaning}),d.examples&&d.examples.length>0&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Examples: "}),d.examples.join(", ")]}),r.jsxs("code",{className:"text-[10px] text-muted-foreground/70 block break-all",children:["Pattern: ",e]})]})})]}),!o&&r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsx("button",{className:Ne("h-7 px-1 rounded-r transition-all border-l","hover:bg-black/10 dark:hover:bg-white/10",t==="allow"&&"bg-green-200 dark:bg-green-900 border-green-300 dark:border-green-800",t==="ask"&&"bg-amber-200 dark:bg-amber-900 border-amber-300 dark:border-amber-800",t==="deny"&&"bg-red-200 dark:bg-red-900 border-red-300 dark:border-red-800",c?"opacity-100":"opacity-0"),children:r.jsx(K5,{className:"w-3 h-3"})})}),r.jsxs(Hn,{align:"end",className:"w-32",children:[r.jsx(zt,{onClick:s,children:"Edit"}),r.jsx(ds,{}),r.jsx(zt,{onClick:n,className:"text-red-600",children:"Delete"})]})]})]})}const Sw={Bash:{label:"Bash",color:"text-purple-600 dark:text-purple-400"},Read:{label:"Read",color:"text-blue-600 dark:text-blue-400"},Edit:{label:"Edit",color:"text-orange-600 dark:text-orange-400"},Write:{label:"Write",color:"text-green-600 dark:text-green-400"},WebFetch:{label:"WebFetch",color:"text-cyan-600 dark:text-cyan-400"},WebSearch:{label:"WebSearch",color:"text-teal-600 dark:text-teal-400"},mcp:{label:"MCP",color:"text-indigo-600 dark:text-indigo-400"},other:{label:"Other",color:"text-gray-600 dark:text-gray-400"}};function r8({type:e,rules:t,category:s,onEdit:n,onDelete:o,onAddRule:c,readOnly:u,defaultExpanded:l=!1}){const[d,f]=_.useState(l||t.length<=5),m=Sw[e]||Sw.other;return t.length===0?null:r.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>f(!d),className:Ne("w-full flex items-center gap-2 px-3 py-2 text-left","bg-gray-50 dark:bg-slate-800/50 hover:bg-gray-100 dark:hover:bg-slate-800","transition-colors"),children:[r.jsx(us,{className:Ne("w-4 h-4 text-gray-400 transition-transform",d&&"rotate-90")}),r.jsx("span",{className:Ne("font-medium text-sm",m.color),children:m.label}),r.jsx(et,{variant:"secondary",className:"text-xs",children:t.length}),!d&&t.length>0&&r.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500 truncate flex-1 ml-2",children:[t.slice(0,3).join(", "),t.length>3&&"..."]})]}),d&&r.jsx("div",{className:"p-3 bg-white dark:bg-slate-900",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(h=>r.jsx(t8,{rule:h,category:s,onEdit:()=>n(h),onDelete:()=>o(h),readOnly:u},h)),!u&&r.jsxs(re,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:c,children:[r.jsx(Rt,{className:"w-3 h-3 mr-1"}),"Add"]})]})})]})}function s8({open:e,onOpenChange:t,onSubmit:s,defaultCategory:n="allow",defaultRule:o="",isEditing:c=!1,existingRules:u=[]}){const[l,d]=_.useState("preset"),[f,m]=_.useState(n),[h,x]=_.useState("Bash"),[w,j]=_.useState(""),[C,v]=_.useState(o),[y,g]=_.useState(new Set),[b,k]=_.useState(""),[E,P]=_.useState(null);_.useEffect(()=>{if(e)if(m(n),g(new Set),k(""),o&&c){const G=Ch(o);x(G.type==="unknown"?"Bash":G.type),j(G.value),v(o),d("builder")}else x("Bash"),j(""),v(""),d("preset")},[e,o,n,c]);const T=G=>{g(J=>{const K=new Set(J);return K.has(G)?K.delete(G):K.add(G),K})},N=()=>{const G=L.filter(J=>!u.includes(J.pattern)).map(J=>J.pattern);g(new Set(G))},M=()=>{g(new Set)},I=_.useMemo(()=>l==="freeform"?C:l==="builder"?qB(h,w):"",[l,h,w,C]);_.useEffect(()=>{if(l!=="preset"){const G=YB(I);P(G)}else P(null)},[I,l]);const L=_.useMemo(()=>{if(!b)return _w;const G=b.toLowerCase();return _w.filter(J=>J.name.toLowerCase().includes(G)||J.pattern.toLowerCase().includes(G)||J.description.toLowerCase().includes(G)||J.category.toLowerCase().includes(G))},[b]),B=_.useMemo(()=>{const G={};return L.forEach(J=>{G[J.category]||(G[J.category]=[]),G[J.category].push(J)}),G},[L]),H=()=>{if(l==="preset"){const G=Array.from(y);if(G.length===0)return;for(const J of G)s(f,J);t(!1)}else{if(E||!I)return;s(f,I),t(!1)}},q=l==="preset"?y.size===0:!I||!!E,z=o8(h);return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs(vt,{children:[r.jsx(yt,{className:"flex items-center gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Yu,{className:"w-5 h-5 text-indigo-600"}),"Edit Permission Rule"]}):r.jsxs(r.Fragment,{children:[r.jsx(os,{className:"w-5 h-5 text-indigo-600"}),"Add Permission Rule"]})}),r.jsx(ur,{children:"Create a permission rule to control Claude Code's behavior."})]}),r.jsxs("div",{className:"flex-1 overflow-auto space-y-6 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{children:"Permission Category"}),r.jsxs(Or,{value:f,onValueChange:m,children:[r.jsx(Pr,{children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"allow",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Allow - Execute without asking"]})}),r.jsx(Dt,{value:"ask",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),"Ask - Require confirmation"]})}),r.jsx(Dt,{value:"deny",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Deny - Block entirely"]})})]})]})]}),r.jsxs(yh,{value:l,onValueChange:d,children:[r.jsxs(Ic,{className:"grid w-full grid-cols-3",children:[r.jsxs(bn,{value:"preset",children:[r.jsx(os,{className:"w-4 h-4 mr-2"}),"Presets"]}),r.jsxs(bn,{value:"builder",children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Builder"]}),r.jsxs(bn,{value:"freeform",children:[r.jsx(Rg,{className:"w-4 h-4 mr-2"}),"Freeform"]})]}),r.jsxs(ai,{value:"preset",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ct,{placeholder:"Search presets...",value:b,onChange:G=>k(G.target.value),className:"flex-1"}),r.jsx(re,{variant:"outline",size:"sm",onClick:N,disabled:L.length===0,children:"Select All"}),r.jsx(re,{variant:"ghost",size:"sm",onClick:M,disabled:y.size===0,children:"Clear"})]}),y.size>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-400",children:[r.jsx($t,{className:"w-4 h-4"}),y.size," preset",y.size!==1?"s":""," selected"]}),r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg max-h-[220px] overflow-auto",children:Object.entries(B).map(([G,J])=>r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[r.jsx("div",{className:"px-3 py-1.5 bg-gray-50 dark:bg-slate-800 font-medium text-xs text-gray-600 dark:text-slate-300 sticky top-0",children:G}),J.map(K=>{const F=K.icon,R=y.has(K.pattern),O=u.includes(K.pattern);return r.jsxs("label",{className:Ne("flex items-start gap-2 px-3 py-2 cursor-pointer transition-colors",O?"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-slate-800":R?"bg-indigo-50 dark:bg-indigo-950/50":"hover:bg-gray-50 dark:hover:bg-slate-800"),children:[r.jsx(To,{checked:R,onCheckedChange:()=>!O&&T(K.pattern),disabled:O,className:"mt-0.5"}),r.jsx(F,{className:"w-4 h-4 mt-0.5 text-gray-400 dark:text-slate-500 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:K.name}),O&&r.jsx(et,{variant:"secondary",className:"text-xs",children:"Added"})]}),r.jsx("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate",children:K.pattern})]})]},K.pattern)})]},G))})]}),r.jsxs(ai,{value:"builder",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{children:"Permission Type"}),r.jsxs(Or,{value:h,onValueChange:x,children:[r.jsx(Pr,{children:r.jsx(Fr,{})}),r.jsx(Ar,{children:Op.map(G=>{const J=G.icon;return r.jsx(Dt,{value:G.name,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(J,{className:"w-4 h-4"}),G.name,r.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:["- ",G.description]})]})},G.name)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(nr,{children:n8(h)}),r.jsxs(Ft,{children:[r.jsx(Bt,{children:r.jsx(Aa,{className:"w-4 h-4 text-gray-400"})}),r.jsx(Mt,{className:"max-w-xs",children:i8(h)})]})]}),h==="WebSearch"?r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"WebSearch does not require a value pattern."}):r.jsx(ct,{value:w,onChange:G=>j(G.target.value),placeholder:h==="Bash"?"command:arguments":"path/pattern",className:"font-mono"})]}),z.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{className:"text-xs text-gray-500 dark:text-slate-400",children:"Quick examples:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(G=>r.jsx(re,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>j(G.value),children:G.label},G.value))})]})]}),r.jsx(ai,{value:"freeform",className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{children:"Rule Pattern"}),r.jsx(Ct,{value:C,onChange:G=>v(G.target.value),placeholder:"e.g., Bash(npm run build), Read(**/*.ts)",className:"font-mono text-sm",rows:3}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Enter the full permission pattern. Use * for wildcards and : for Bash argument separation."})]})})]}),l!=="preset"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{children:"Generated Rule"}),r.jsx("div",{className:Ne("p-3 rounded-lg border font-mono text-sm",E?"bg-red-50 dark:bg-red-950/50 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400":"bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-700 dark:text-slate-300"),children:I||r.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"No rule configured"})}),E&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[r.jsx($s,{className:"w-4 h-4"}),E]})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),r.jsx(re,{onClick:H,disabled:q,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:c?"Update Rule":l==="preset"&&y.size>1?`Add ${y.size} Rules`:"Add Rule"})]})]})})}function n8(e){return{Bash:"Command Pattern",Read:"File Path Pattern",Edit:"File Path Pattern",Write:"File Path Pattern",WebFetch:"URL Pattern",WebSearch:"N/A",mcp:"Tool Name"}[e]||"Value"}function i8(e){return{Bash:"Format: command:arguments. Use * for wildcards. Example: npm run:* matches npm run build, npm run test, etc.",Read:"File path pattern. Use ** for recursive matching. Example: **/*.ts matches all TypeScript files.",Edit:"File path pattern. Use ** for recursive matching.",Write:"File path pattern. Use ** for recursive matching.",WebFetch:"URL pattern. Example: https://api.github.com/* matches all GitHub API calls.",WebSearch:"No value needed - this enables/disables web search entirely.",mcp:"MCP tool name in format: mcp__server__tool"}[e]||""}function o8(e){return{Bash:[{label:"npm run *",value:"npm run:*"},{label:"git add *",value:"git add:*"},{label:"git commit *",value:"git commit:*"},{label:"ls *",value:"ls:*"}],Read:[{label:"All files",value:"**"},{label:"TypeScript",value:"**/*.ts"},{label:"Source only",value:"./src/**"}],Edit:[{label:"All files",value:"**"},{label:"Source only",value:"./src/**"}],Write:[{label:"All files",value:"**"}],WebFetch:[{label:"Any URL",value:"*"},{label:"GitHub API",value:"https://api.github.com/*"}],mcp:[{label:"Filesystem read",value:"mcp__filesystem__read_file"},{label:"GitHub PR",value:"mcp__github__create_pull_request"}]}[e]||[]}function a8({open:e,onOpenChange:t,mode:s,permissions:n,onImport:o}){const[c,u]=_.useState(""),[l,d]=_.useState(null),[f,m]=_.useState(!1);_.useEffect(()=>{e&&s==="export"?(u(JSON.stringify({permissions:n},null,2)),d(null)):e&&s==="import"&&(u(""),d(null))},[e,s,n]);const h=()=>{navigator.clipboard.writeText(c),m(!0),setTimeout(()=>m(!1),2e3),Y.success("Copied to clipboard")},x=()=>{try{const w=JSON.parse(c);if(!w.permissions){d('JSON must have a "permissions" key');return}const{allow:j=[],ask:C=[],deny:v=[]}=w.permissions;if(!Array.isArray(j)||!Array.isArray(C)||!Array.isArray(v)){d("allow, ask, and deny must be arrays");return}if([...j,...C,...v].some(g=>typeof g!="string")){d("All permission rules must be strings");return}o(w.permissions),t(!1)}catch(w){d("Invalid JSON: "+w.message)}};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsxs(vt,{children:[r.jsx(yt,{className:"flex items-center gap-2",children:s==="export"?r.jsxs(r.Fragment,{children:[r.jsx(ui,{className:"w-5 h-5 text-indigo-600"}),"Export Permissions"]}):r.jsxs(r.Fragment,{children:[r.jsx(bp,{className:"w-5 h-5 text-indigo-600"}),"Import Permissions"]})}),r.jsx(ur,{children:s==="export"?"Copy this JSON to save or share your permission configuration.":"Paste a JSON permission configuration to import."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsx(Ct,{value:c,onChange:w=>{u(w.target.value),d(null)},placeholder:s==="import"?"Paste JSON here...":"",className:"font-mono text-sm min-h-[300px]",readOnly:s==="export"}),l&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[r.jsx($s,{className:"w-4 h-4"}),l]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),s==="export"?r.jsxs(re,{onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f?r.jsx($t,{className:"w-4 h-4 mr-2"}):r.jsx($a,{className:"w-4 h-4 mr-2"}),f?"Copied!":"Copy to Clipboard"]}):r.jsxs(re,{onClick:x,disabled:!c.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[r.jsx(bp,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})})}function l8({open:e,onOpenChange:t,serverName:s,serverConfig:n={},permissions:o={allow:[],ask:[],deny:[]},onUpdatePermissions:c}){var T,N;const[u,l]=_.useState([]),[d,f]=_.useState(!1),[m,h]=_.useState(null),[x,w]=_.useState("");_.useEffect(()=>{e&&s&&j()},[e,s]);const j=async()=>{f(!0),h(null);try{const M=await ue.getMcpServerTools(s);M.error?(h(M.error),l([])):l(M.tools||[])}catch(M){h(M.message),l([])}finally{f(!1)}},C=async()=>{await ue.clearMcpToolsCache(s),await j()},v=_.useMemo(()=>{var B,H,q,z;const M=`mcp__${s}__`,I=`${M}*`,L={allowAll:((B=o.allow)==null?void 0:B.includes(I))||!1,toolPermissions:{}};return(H=o.allow)==null||H.forEach(G=>{G.startsWith(M)&&G!==I&&(L.toolPermissions[G.replace(M,"")]="allow")}),(q=o.ask)==null||q.forEach(G=>{G.startsWith(M)&&G!==I&&(L.toolPermissions[G.replace(M,"")]="ask")}),(z=o.deny)==null||z.forEach(G=>{G.startsWith(M)&&G!==I&&(L.toolPermissions[G.replace(M,"")]="deny")}),L},[s,o]),y=_.useMemo(()=>{const M=new Set;return u.forEach(I=>M.add(I.name)),Object.keys(v.toolPermissions).forEach(I=>M.add(I)),Array.from(M).sort().map(I=>{const L=u.find(B=>B.name===I);return{name:I,description:(L==null?void 0:L.description)||"",discovered:!!L}})},[u,v.toolPermissions]),g=M=>{const I=`mcp__${s}__*`;c==null||c(s,I,M?"allow":"remove")},b=(M,I)=>{const L=`mcp__${s}__${M}`;v.toolPermissions[M]===I?c==null||c(s,L,"remove"):c==null||c(s,L,I)},k=()=>{const M=x.trim();if(!M)return;const I=`mcp__${s}__${M}`;c==null||c(s,I,"allow"),w("")},E=M=>{const I=`mcp__${s}__${M}`;c==null||c(s,I,"remove")},P=n!=null&&n.command?"stdio":n!=null&&n.url?"sse":"unknown";return r.jsx(cr,{children:r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"sm:max-w-[550px] max-h-[85vh] flex flex-col",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(za,{className:"w-5 h-5 text-purple-600"}),"Configure ",s]}),r.jsxs(ur,{children:[P==="stdio"&&n.command&&r.jsxs("code",{className:"text-xs bg-gray-100 dark:bg-slate-800 px-2 py-1 rounded",children:[n.command," ",(T=n.args)==null?void 0:T.slice(0,2).join(" "),((N=n.args)==null?void 0:N.length)>2&&"..."]}),P==="sse"&&n.url&&r.jsx("code",{className:"text-xs bg-gray-100 dark:bg-slate-800 px-2 py-1 rounded",children:n.url})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vn,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx(nr,{className:"font-medium",children:"Allow all tools"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Grant permission for all tools from this server"})]})]}),r.jsx(gt,{checked:v.allowAll,onCheckedChange:g})]}),v.allowAll&&r.jsxs(Ua,{children:[r.jsx(qu,{className:"w-4 h-4"}),r.jsx(Ga,{className:"text-sm",children:"All tools are allowed. Individual tool settings below are informational only."})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(nr,{className:"text-sm font-medium",children:"Available Tools"}),r.jsxs(re,{variant:"ghost",size:"sm",onClick:C,disabled:d,className:"h-7",children:[r.jsx(Tr,{className:Ne("w-3 h-3 mr-1",d&&"animate-spin")}),"Refresh"]})]}),m&&r.jsxs(Ua,{variant:"destructive",children:[r.jsx($s,{className:"w-4 h-4"}),r.jsxs(Ga,{className:"text-sm",children:[m,r.jsx("p",{className:"text-xs mt-1 opacity-80",children:"You can still add tools manually below."})]})]}),d&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Tr,{className:"w-5 h-5 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Discovering tools..."})]}),!d&&r.jsx(nn,{className:"flex-1 min-h-0 rounded-md border border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:y.length>0?y.map(M=>{const I=v.toolPermissions[M.name];return r.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[r.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm font-mono truncate",children:M.name}),!M.discovered&&r.jsx(et,{variant:"outline",className:"text-xs",children:"manual"})]}),M.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:M.description})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:I==="allow"?"default":"ghost",size:"sm",className:Ne("h-7 w-7 p-0",I==="allow"&&"bg-green-600 hover:bg-green-700"),onClick:()=>b(M.name,"allow"),children:r.jsx($t,{className:"w-3 h-3"})})}),r.jsx(Mt,{children:"Allow"})]}),r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:I==="ask"?"default":"ghost",size:"sm",className:Ne("h-7 w-7 p-0",I==="ask"&&"bg-amber-600 hover:bg-amber-700"),onClick:()=>b(M.name,"ask"),children:"?"})}),r.jsx(Mt,{children:"Ask"})]}),r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:I==="deny"?"default":"ghost",size:"sm",className:Ne("h-7 w-7 p-0",I==="deny"&&"bg-red-600 hover:bg-red-700"),onClick:()=>b(M.name,"deny"),children:r.jsx(oi,{className:"w-3 h-3"})})}),r.jsx(Mt,{children:"Deny"})]}),!M.discovered&&I&&r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-red-600",onClick:()=>E(M.name),children:r.jsx(js,{className:"w-3 h-3"})})}),r.jsx(Mt,{children:"Remove"})]})]})]},M.name)}):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx("p",{className:"text-sm",children:"No tools discovered"}),r.jsx("p",{className:"text-xs mt-1",children:"Add tools manually below"})]})})}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:[r.jsx(ct,{value:x,onChange:M=>w(M.target.value),placeholder:"Add tool manually...",className:"flex-1 text-sm",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),k())}}),r.jsx(re,{size:"sm",onClick:k,disabled:!x.trim(),children:r.jsx(Rt,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-400 pt-2 border-t border-gray-200 dark:border-slate-700",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-green-600"}),"Allow"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-amber-600"}),"Ask"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-red-600"}),"Deny"]}),r.jsx("span",{className:"flex items-center gap-1 ml-auto",children:r.jsx("span",{className:"text-gray-400",children:"Click again to remove"})})]})]}),r.jsx(kt,{children:r.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})})}function c8({mcpServers:e={},permissions:t={allow:[],ask:[],deny:[]},onToggle:s,onUpdatePermission:n,readOnly:o=!1}){const[c,u]=_.useState(!0),[l,d]=_.useState(!1),[f,m]=_.useState(null),h=_.useMemo(()=>Object.keys(e).sort(),[e]),x=v=>{var g;const y=`mcp__${v}__*`;return((g=t.allow)==null?void 0:g.includes(y))||!1},w=v=>{var k,E,P;const y=`mcp__${v}__`,g=`${y}*`;let b=0;return(k=t.allow)==null||k.forEach(T=>{T.startsWith(y)&&T!==g&&b++}),(E=t.ask)==null||E.forEach(T=>{T.startsWith(y)&&T!==g&&b++}),(P=t.deny)==null||P.forEach(T=>{T.startsWith(y)&&T!==g&&b++}),b},j=(v,y)=>{const g=`mcp__${v}__*`;s==null||s(v,g,y)},C=(v,y)=>{y.stopPropagation(),m(v),d(!0)};return h.length===0?null:r.jsxs(r.Fragment,{children:[r.jsxs(Oc,{open:c,onOpenChange:u,className:"mb-6",children:[r.jsx(Fc,{asChild:!0,children:r.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-950 flex items-center justify-center",children:r.jsx(za,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Quick MCP Permissions"}),r.jsxs(et,{variant:"secondary",className:"ml-2 text-xs",children:[h.length," server",h.length!==1?"s":""]})]})]}),r.jsx(Er,{className:Ne("w-4 h-4 text-gray-500 transition-transform",c&&"rotate-180")})]})}),r.jsx(Bc,{children:r.jsxs("div",{className:"mt-2 rounded-lg border border-gray-200 dark:border-slate-700 divide-y divide-gray-200 dark:divide-slate-700",children:[h.map(v=>{const y=x(v),g=e[v],b=g!=null&&g.command?"stdio":g!=null&&g.url?"sse":"unknown",k=w(v);return r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[r.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v}),y&&r.jsxs(et,{variant:"outline",className:"text-xs bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",children:[r.jsx($t,{className:"w-3 h-3 mr-1"}),"All"]}),!y&&k>0&&r.jsxs(et,{variant:"outline",className:"text-xs",children:[k," tool",k!==1?"s":""]})]}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:[b==="stdio"&&g.command,b==="sse"&&g.url]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:E=>C(v,E),disabled:o,children:r.jsx(yp,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400 whitespace-nowrap",children:"Allow all"}),r.jsx(gt,{checked:y,onCheckedChange:E=>j(v,E),disabled:o})]})]})]},v)}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex items-start gap-2",children:[r.jsx(qu,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["Click ",r.jsx(yp,{className:"w-3 h-3 inline mx-0.5"})," to configure specific tool permissions"]})]})]})})]}),f&&r.jsx(l8,{open:l,onOpenChange:d,serverName:f,serverConfig:e[f],permissions:t,onUpdatePermissions:n})]})}function d8({permissions:e,onSave:t,loading:s,readOnly:n=!1,mcpServers:o={}}){const[c,u]=_.useState({allow:[],ask:[],deny:[]}),[l,d]=_.useState("allow"),[f,m]=_.useState(!1),[h,x]=_.useState(!1),[w,j]=_.useState(!1),[C,v]=_.useState(null),[y,g]=_.useState(!1),[b,k]=_.useState("export");_.useEffect(()=>{e&&u({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]})},[e]);const E=_.useCallback(async z=>{if(!(!t||n)){m(!0);try{await t(z)}catch(G){Y.error("Failed to save: "+G.message)}finally{m(!1)}}},[t,n]),P=_.useCallback((z,G)=>{u(J=>{if([...J.allow,...J.ask,...J.deny].includes(G))return Y.error("This rule already exists"),J;const F={...J,[z]:[...J[z],G]};return E(F),Y.success(`Rule added to ${z}`),F})},[E]),T=_.useCallback((z,G,J,K)=>{u(F=>{const R={...F};return R[z]=R[z].filter(O=>O!==G),R[J]=[...R[J],K],E(R),Y.success("Rule updated"),R})},[E]),N=_.useCallback((z,G)=>{u(J=>{const K={...J,[z]:J[z].filter(F=>F!==G)};return E(K),Y.success("Rule deleted"),K})},[E]);_.useCallback((z,G,J)=>{u(K=>{const F={...K,[z]:K[z].filter(R=>R!==G),[J]:[...K[J],G]};return E(F),Y.success(`Moved to ${J}`),F})},[E]);const M=_.useCallback(z=>{const G={allow:z.allow||[],ask:z.ask||[],deny:z.deny||[]};u(G),E(G),Y.success("Permissions imported")},[E]),I=_.useCallback((z,G,J)=>{J?P("allow",G):N("allow",G)},[P,N]),L=_.useCallback((z,G,J)=>{u(K=>{const F={allow:[...K.allow||[]],ask:[...K.ask||[]],deny:[...K.deny||[]]};return F.allow=F.allow.filter(R=>R!==G),F.ask=F.ask.filter(R=>R!==G),F.deny=F.deny.filter(R=>R!==G),J==="allow"?F.allow.push(G):J==="ask"?F.ask.push(G):J==="deny"&&F.deny.push(G),E(F),F})},[E]),B=z=>{v(null),d(z),j(!0)},H=(z,G)=>{v({category:z,rule:G}),j(!0)},q=c.allow.length+c.ask.length+c.deny.length;return r.jsx(cr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:r.jsx(Vn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Permissions"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure what Claude Code can do automatically"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(et,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",children:[r.jsx(Tr,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]}),r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"outline",size:"sm",onClick:()=>{k("export"),g(!0)},children:r.jsx(ui,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Export permissions"})]}),r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"outline",size:"sm",onClick:()=>{k("import"),g(!0)},disabled:n,children:r.jsx(bp,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Import permissions"})]})]})]}),r.jsxs(Oc,{open:h,onOpenChange:x,children:[r.jsx(Fc,{asChild:!0,children:r.jsxs(re,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-slate-400",children:[r.jsx(Aa,{className:"w-4 h-4 mr-2"}),"How permissions work",r.jsx(Er,{className:Ne("w-4 h-4 ml-2 transition-transform",h&&"rotate-180")})]})}),r.jsx(Bc,{children:r.jsxs(Ua,{className:"mt-2",children:[r.jsx(qu,{className:"w-4 h-4"}),r.jsxs(Ga,{className:"text-sm",children:[r.jsxs("p",{className:"mb-2",children:["Permissions control what Claude Code can do automatically vs. what requires your approval. These settings are stored in ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded text-xs",children:"~/.claude/settings.json"}),"."]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[r.jsxs("div",{children:[r.jsx(et,{className:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400 mb-1",children:"Allow"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Operations run without asking"})]}),r.jsxs("div",{children:[r.jsx(et,{className:"bg-amber-100 dark:bg-amber-950 text-amber-700 dark:text-amber-400 mb-1",children:"Ask"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Prompts for confirmation each time"})]}),r.jsxs("div",{children:[r.jsx(et,{className:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-400 mb-1",children:"Deny"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Blocked entirely"})]})]}),r.jsxs("p",{className:"mt-3 text-xs text-gray-500 dark:text-slate-400",children:["Use wildcards: ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"*"})," matches anything,"," ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"**"})," matches recursively in paths."]})]})]})})]}),!s&&Object.keys(o).length>0&&r.jsx(c8,{mcpServers:o,permissions:c,onToggle:I,onUpdatePermission:L,readOnly:n}),s&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Tr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!s&&q===0&&r.jsxs(Ua,{children:[r.jsx(Nc,{className:"w-4 h-4"}),r.jsxs(Ga,{children:["No permission rules configured. Claude Code will use default behavior and ask for permission on sensitive operations.",r.jsx(re,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>B("allow"),children:"Add your first rule"})]})]}),!s&&r.jsxs(yh,{value:l,onValueChange:d,children:[r.jsx(Ic,{className:"grid w-full grid-cols-3",children:["allow","ask","deny"].map(z=>{var K;const G=Cw(z),J=((K=c[z])==null?void 0:K.length)||0;return r.jsxs(bn,{value:z,className:"flex items-center gap-2",children:[r.jsx("div",{className:Ne("w-2 h-2 rounded-full",z==="allow"&&"bg-green-500",z==="ask"&&"bg-amber-500",z==="deny"&&"bg-red-500")}),G.label,J>0&&r.jsx(et,{variant:"secondary",className:"ml-1 text-xs",children:J})]},z)})}),["allow","ask","deny"].map(z=>{const G=Cw(z),J=c[z]||[],K=e8(J);return r.jsxs(ai,{value:z,className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 cursor-help",children:G.description})}),r.jsx(Mt,{className:"max-w-xs",children:QB(z)})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>B(z),disabled:n,children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Add Rules"]})]}),J.length===0?r.jsxs("div",{className:Ne("text-center py-8 rounded-lg border-2 border-dashed",G.borderColor),children:[r.jsxs("p",{className:"text-gray-500 dark:text-slate-400",children:["No rules in ",z]}),r.jsx(re,{variant:"link",size:"sm",onClick:()=>B(z),disabled:n,children:"Add rules"})]}):r.jsx("div",{className:"space-y-2",children:K.map(({type:F,rules:R})=>r.jsx(r8,{type:F,rules:R,category:z,onEdit:O=>H(z,O),onDelete:O=>N(z,O),onAddRule:()=>B(z),readOnly:n},F))})]},z)})]}),r.jsx(s8,{open:w,onOpenChange:j,onSubmit:(z,G)=>{C?T(C.category,C.rule,z,G):P(z,G)},defaultCategory:(C==null?void 0:C.category)||l,defaultRule:(C==null?void 0:C.rule)||"",isEditing:!!C,existingRules:[...c.allow,...c.ask,...c.deny]}),r.jsx(a8,{open:y,onOpenChange:g,mode:b,permissions:c,onImport:M})]})})}const u8=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Best balance of speed and capability",tier:"sonnet",recommended:!0},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks",tier:"opus"},{id:"claude-haiku-4-5-20251001",name:"Claude Haiku 4.5",description:"Fastest, best for simple tasks",tier:"haiku"}],h8=[{key:"ANTHROPIC_SMALL_FAST_MODEL",label:"Small/Fast Model",description:"Model for background tasks and quick operations",placeholder:"claude-haiku-4-5-20251001"},{key:"CLAUDE_CODE_SUBAGENT_MODEL",label:"Subagent Model",description:"Model used for subagent/background processing",placeholder:"claude-haiku-4-20241022"}];function hN({settings:e,onSave:t,loading:s,settingsPath:n="~/.claude/settings.json",mcpServers:o={}}){const[c,u]=_.useState({}),[l,d]=_.useState("permissions"),[f,m]=_.useState(!1),[h,x]=_.useState(!1),[w,j]=_.useState(""),[C,v]=_.useState(null),y=_.useRef(null);_.useEffect(()=>{e&&(u(e),j(JSON.stringify(e,null,2)))},[e]),_.useEffect(()=>{h||j(JSON.stringify(c,null,2))},[c,h]);const g=_.useCallback(async N=>{if(t){m(!0);try{await t(N)}catch(M){Y.error("Failed to save: "+M.message)}finally{m(!1)}}},[t]),b=_.useCallback(N=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{g(N)},800)},[g]),k=_.useCallback((N,M,I=!1)=>{u(L=>{const B={...L,[N]:M};return(M===""||M===null||M===void 0)&&delete B[N],I?g(B):b(B),B})},[g,b]),E=_.useCallback(async N=>{const M={...c,permissions:N};u(M),await g(M)},[c,g]),P=N=>{j(N);try{JSON.parse(N),v(null)}catch(M){v(M.message)}},T=async()=>{if(C){Y.error("Fix JSON errors before saving");return}try{const N=JSON.parse(w);u(N),await g(N),Y.success("Settings applied")}catch{Y.error("Invalid JSON")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:r.jsx(sn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Settings"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure Claude Code behavior globally"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(et,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",children:[r.jsx(Tr,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"outline",size:"sm",onClick:()=>x(!h),children:h?r.jsx(Tg,{className:"w-4 h-4"}):r.jsx(B5,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:h?"Show UI":"Show JSON"})]})})]})]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Settings file: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded text-xs",children:n})]}),s&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Tr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!s&&h&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(nr,{children:"Raw JSON"}),r.jsxs("div",{className:"flex items-center gap-2",children:[C&&r.jsx(et,{variant:"destructive",className:"text-xs",children:C}),r.jsxs(re,{size:"sm",onClick:T,disabled:f||!!C,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[r.jsx($t,{className:"w-4 h-4 mr-1"}),"Apply JSON"]})]})]}),r.jsx(Ct,{value:w,onChange:N=>P(N.target.value),className:Ne("font-mono text-sm min-h-[400px]",C&&"border-red-300 focus:border-red-500")})]}),!s&&!h&&r.jsxs(yh,{value:l,onValueChange:d,children:[r.jsxs(Ic,{className:"grid w-full grid-cols-4",children:[r.jsxs(bn,{value:"permissions",className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4"}),"Permissions"]}),r.jsxs(bn,{value:"model",className:"flex items-center gap-2",children:[r.jsx(So,{className:"w-4 h-4"}),"Model"]}),r.jsxs(bn,{value:"behavior",className:"flex items-center gap-2",children:[r.jsx(sn,{className:"w-4 h-4"}),"Behavior"]}),r.jsxs(bn,{value:"advanced",className:"flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Advanced"]})]}),r.jsx(ai,{value:"permissions",className:"pt-4",children:r.jsx(d8,{permissions:c.permissions,onSave:E,loading:!1,mcpServers:o})}),r.jsx(ai,{value:"model",className:"space-y-6 pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(nr,{className:"text-base font-medium",children:"Default Model"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Select the default model for Claude Code sessions"}),r.jsx("div",{className:"grid gap-3",children:u8.map(N=>r.jsx("button",{onClick:()=>k("model",N.id,!0),className:Ne("w-full p-4 rounded-lg border text-left transition-all",c.model===N.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/50":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:N.name}),N.recommended&&r.jsx(et,{variant:"secondary",className:"text-xs",children:"Recommended"}),r.jsx(et,{variant:"outline",className:Ne("text-xs",N.tier==="opus"&&"border-purple-300 text-purple-700",N.tier==="sonnet"&&"border-blue-300 text-blue-700",N.tier==="haiku"&&"border-green-300 text-green-700"),children:N.tier})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:N.description})]}),c.model===N.id&&r.jsx($t,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})]})},N.id))})]}),r.jsxs("div",{children:[r.jsx(nr,{children:"Custom Model ID"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:"Override with a specific model ID (for AWS Bedrock, etc.)"}),r.jsx(ct,{value:c.model||"",onChange:N=>k("model",N.target.value),placeholder:"claude-sonnet-4-20250514",className:"font-mono"})]})]})}),r.jsx(ai,{value:"behavior",className:"space-y-6 pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(nr,{children:"Auto-accept Edits"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Automatically accept file edits without confirmation"})]}),r.jsx(gt,{checked:c.autoAcceptEdits??!1,onCheckedChange:N=>k("autoAcceptEdits",N,!0)})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(nr,{children:"Verbose Output"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Show detailed output for operations"})]}),r.jsx(gt,{checked:c.verbose??!1,onCheckedChange:N=>k("verbose",N,!0)})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(nr,{children:"Enable MCP Servers"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Allow Claude Code to use MCP server connections"})]}),r.jsx(gt,{checked:c.enableMcp??!0,onCheckedChange:N=>k("enableMcp",N,!0)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{children:"API Base URL"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Custom API endpoint (for proxies or enterprise deployments)"}),r.jsx(ct,{value:c.apiBaseUrl||"",onChange:N=>k("apiBaseUrl",N.target.value),placeholder:"https://api.anthropic.com",className:"font-mono"})]})]})}),r.jsxs(ai,{value:"advanced",className:"space-y-6 pt-4",children:[r.jsxs(Ua,{children:[r.jsx(Nc,{className:"w-4 h-4"}),r.jsx(Ga,{children:"Advanced settings for power users. Incorrect values may cause Claude Code to malfunction."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(nr,{className:"text-base font-medium",children:"Environment Variables"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Configure model-related environment variables"}),r.jsx("div",{className:"space-y-3",children:h8.map(N=>{var M;return r.jsxs("div",{className:"space-y-1",children:[r.jsx(nr,{className:"text-sm",children:N.label}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:N.description}),r.jsx(ct,{value:((M=c.env)==null?void 0:M[N.key])||"",onChange:I=>{const L={...c.env||{},[N.key]:I.target.value};I.target.value||delete L[N.key],k("env",Object.keys(L).length?L:void 0)},placeholder:N.placeholder,className:"font-mono text-sm"})]},N.key)})})]}),r.jsxs("div",{children:[r.jsx(nr,{className:"text-base font-medium",children:"Hooks"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Scripts to run before/after tool executions (JSON format)"}),r.jsx(Ct,{value:c.hooks?JSON.stringify(c.hooks,null,2):"",onChange:N=>{try{const M=N.target.value?JSON.parse(N.target.value):void 0;k("hooks",M)}catch{}},placeholder:`{
  "preToolExecution": "~/.claude/hooks/pre.sh",
  "postToolExecution": "~/.claude/hooks/post.sh"
}`,className:"font-mono text-sm min-h-[120px]"})]}),r.jsxs("div",{children:[r.jsx(nr,{className:"text-base font-medium",children:"Custom Settings"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Add any additional settings as JSON key-value pairs"}),r.jsx(Ct,{value:(()=>{const N=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"],M=Object.keys(c).filter(I=>!N.includes(I)).reduce((I,L)=>({...I,[L]:c[L]}),{});return Object.keys(M).length?JSON.stringify(M,null,2):""})(),onChange:N=>{try{const M=N.target.value?JSON.parse(N.target.value):{},L=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"].reduce((B,H)=>(c[H]!==void 0&&(B[H]=c[H]),B),{});u({...L,...M}),setHasChanges(!0)}catch{}},placeholder:`{
  "customKey": "customValue"
}`,className:"font-mono text-sm min-h-[100px]"})]})]})]})]})]})}const f8=[{id:"Default",name:"Default"},{id:"GitHub",name:"GitHub"},{id:"Monokai",name:"Monokai"},{id:"SolarizedDark",name:"Solarized Dark"},{id:"SolarizedLight",name:"Solarized Light"}],m8=[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Most capable"},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"Fast and efficient"},{id:"gemini-2.0-pro",name:"Gemini 2.0 Pro",description:"Previous generation"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Previous generation fast"}];function fN({settings:e,onSave:t,loading:s,settingsPath:n}){var T,N,M,I;const[o,c]=_.useState(e||{}),[u,l]=_.useState(!1),[d,f]=_.useState("rich"),[m,h]=_.useState(JSON.stringify(e||{},null,2)),[x,w]=_.useState({open:!1,name:"",json:""}),[j,C]=_.useState({}),v=async()=>{l(!0);try{if(d==="json")try{const L=JSON.parse(m);await t(L),c(L)}catch{Y.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));Y.success("Settings saved")}finally{l(!1)}},y=(L,B,H)=>{c(q=>({...q,[L]:{...q[L],[B]:H}}))},g=(L,B,H=!1)=>{var q;return((q=o==null?void 0:o[L])==null?void 0:q[B])??H},b=o.mcpServers||{},k=()=>{const{name:L,json:B}=x;if(!L.trim()){Y.error("Please enter a name for the MCP");return}let H;try{H=JSON.parse(B)}catch{Y.error("Invalid JSON configuration");return}if(!H.command){Y.error('MCP config must have a "command" field');return}c(q=>({...q,mcpServers:{...q.mcpServers,[L.trim()]:H}})),w({open:!1,name:"",json:""}),Y.success(`Added MCP: ${L}`)},E=L=>{c(B=>{const{[L]:H,...q}=B.mcpServers||{};return{...B,mcpServers:q}}),Y.success(`Removed MCP: ${L}`)},P=L=>{C(B=>({...B,[L]:!B[L]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:r.jsx(qt,{className:"w-5 h-5 text-blue-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Gemini CLI Settings",r.jsxs(et,{variant:"outline",className:"text-xs font-normal text-blue-600 border-blue-300 dark:border-blue-700",children:[r.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Google"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:n})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${d==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${d==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),r.jsxs(re,{onClick:v,disabled:u||s,children:[u?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),d==="json"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(Ct,{value:m,onChange:L=>h(L.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4 text-blue-500"}),"MCP Servers",r.jsx(et,{variant:"secondary",className:"text-xs",children:Object.keys(b).length})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>w({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(b).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(b).map(([L,B])=>r.jsxs(Oc,{open:j[L],onOpenChange:()=>P(L),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fc,{className:"flex items-center gap-2 flex-1 text-left",children:[j[L]?r.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(zs,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"font-medium text-sm",children:L}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:B.command})]}),r.jsx(re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>E(L),children:r.jsx(js,{className:"w-4 h-4"})})]}),r.jsx(Bc,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(B,null,2)})})})]},L))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-blue-500"}),"Model"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Model"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Model used for Gemini CLI sessions"})]}),r.jsxs(Or,{value:g("model","name",""),onValueChange:L=>y("model","name",L),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{placeholder:"Select model"})}),r.jsx(Ar,{children:m8.map(L=>r.jsx(Dt,{value:L.id,children:r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{children:L.name})})},L.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preview Features"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable access to experimental models and features"})]}),r.jsx(gt,{checked:g("general","previewFeatures",!1),onCheckedChange:L=>y("general","previewFeatures",L)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(MM,{className:"w-4 h-4 text-blue-500"}),"Appearance"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Theme"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Color theme for the CLI interface"})]}),r.jsxs(Or,{value:g("ui","theme","Default"),onValueChange:L=>y("ui","theme",L),children:[r.jsx(Pr,{className:"w-40",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:f8.map(L=>r.jsx(Dt,{value:L.id,children:L.name},L.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Output Format"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Format for CLI output"})]}),r.jsxs(Or,{value:g("output","format","text"),onValueChange:L=>y("output","format",L),children:[r.jsx(Pr,{className:"w-40",children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"text",children:"Text"}),r.jsx(Dt,{value:"json",children:"JSON"})]})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(iS,{className:"w-4 h-4 text-blue-500"}),"Display Options"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Dynamic Window Title"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Update title with status icons (Ready, Working, etc.)"})]}),r.jsx(gt,{checked:g("ui","dynamicWindowTitle",!0),onCheckedChange:L=>y("ui","dynamicWindowTitle",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Line Numbers"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Display line numbers in chat"})]}),r.jsx(gt,{checked:g("ui","showLineNumbers",!0),onCheckedChange:L=>y("ui","showLineNumbers",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Citations"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Display citations for generated text"})]}),r.jsx(gt,{checked:g("ui","showCitations",!1),onCheckedChange:L=>y("ui","showCitations",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Context Summary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide GEMINI.md and MCP servers above input"})]}),r.jsx(gt,{checked:g("ui","hideContextSummary",!1),onCheckedChange:L=>y("ui","hideContextSummary",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Footer"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove footer entirely from the UI"})]}),r.jsx(gt,{checked:g("ui","hideFooter",!1),onCheckedChange:L=>y("ui","hideFooter",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Screen Reader Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Render output in plain-text for accessibility"})]}),r.jsx(gt,{checked:((N=(T=o==null?void 0:o.ui)==null?void 0:T.accessibility)==null?void 0:N.screenReader)??!1,onCheckedChange:L=>c(B=>{var H;return{...B,ui:{...B.ui,accessibility:{...(H=B.ui)==null?void 0:H.accessibility,screenReader:L}}}})})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(sn,{className:"w-4 h-4 text-blue-500"}),"General"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Vim Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable Vim keybindings in the prompt editor"})]}),r.jsx(gt,{checked:g("general","vimMode",!1),onCheckedChange:L=>y("general","vimMode",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto Update"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow automatic updates to Gemini CLI"})]}),r.jsx(gt,{checked:g("general","enableAutoUpdate",!0),onCheckedChange:L=>y("general","enableAutoUpdate",L)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Checkpointing"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable session recovery support"})]}),r.jsx(gt,{checked:((I=(M=o==null?void 0:o.general)==null?void 0:M.checkpointing)==null?void 0:I.enabled)??!1,onCheckedChange:L=>c(B=>{var H;return{...B,general:{...B.general,checkpointing:{...(H=B.general)==null?void 0:H.checkpointing,enabled:L}}}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Respect .gitignore"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Exclude files matching .gitignore patterns"})]}),r.jsx(gt,{checked:g("general","respectGitignore",!0),onCheckedChange:L=>y("general","respectGitignore",L)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-blue-500"}),"Privacy"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Statistics"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow collection of anonymous usage data"})]}),r.jsx(gt,{checked:g("privacy","usageStatisticsEnabled",!0),onCheckedChange:L=>y("privacy","usageStatisticsEnabled",L)})]})})]})]}),r.jsx(wt,{open:x.open,onOpenChange:L=>w({...x,open:L}),children:r.jsxs(xt,{className:"bg-card",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add MCP Server"}),r.jsx(ur,{children:"Add a new MCP server to Gemini CLI"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(ct,{value:x.name,onChange:L=>w({...x,name:L.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(Ct,{value:x.json,onChange:L=>w({...x,json:L.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>w({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(re,{onClick:k,children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function p8({content:e,parsed:t,onSave:s,filePath:n}){const o=async l=>{const d=JSON.stringify(l,null,2);s(d)},c=(n==null?void 0:n.includes(".gemini"))||(n==null?void 0:n.includes("/.gemini/")),u=(n==null?void 0:n.includes(".agent"))||(n==null?void 0:n.includes("/antigravity/"));return c&&!u?r.jsx("div",{className:"h-full overflow-auto p-4",children:r.jsx(fN,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.gemini/settings.json"})}):r.jsx("div",{className:"h-full overflow-auto p-4",children:r.jsx(hN,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.claude/settings.json"})})}function g8({open:e,onClose:t,item:s,intermediatePaths:n,onMove:o}){const[c,u]=_.useState("copy"),[l,d]=_.useState(null),[f,m]=_.useState(""),[h,x]=_.useState(!1),w=()=>{const j=f.trim()||l;if(!j){Y.error("Please select or enter a target path");return}o(s.path,j,c,h)};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-md",children:[r.jsxs(vt,{children:[r.jsxs(yt,{children:[c==="copy"?"Copy":"Move"," ",s==null?void 0:s.name]}),r.jsx(ur,{children:"Select a destination for this file"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{variant:c==="copy"?"default":"outline",size:"sm",onClick:()=>u("copy"),children:[r.jsx($a,{className:"w-4 h-4 mr-1"})," Copy"]}),r.jsxs(re,{variant:c==="move"?"default":"outline",size:"sm",onClick:()=>u("move"),children:[r.jsx(oS,{className:"w-4 h-4 mr-1"})," Move"]})]}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n==null?void 0:n.map(j=>r.jsxs("div",{className:Ne("flex items-center justify-between p-2 rounded border cursor-pointer",l===j.dir?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-slate-800"),onClick:()=>{d(j.dir),m("")},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[j.isHome?r.jsx(Dg,{className:"w-4 h-4"}):r.jsx(Kr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:j.label})]}),j.hasClaudeFolder?r.jsx(et,{variant:"secondary",className:"text-xs",children:"exists"}):r.jsx(et,{variant:"outline",className:"text-xs",children:"create"})]},j.dir))}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Or enter custom path:"}),r.jsx(ct,{className:"mt-1 font-mono text-sm",placeholder:"/path/to/directory",value:f,onChange:j=>{m(j.target.value),d(null)}})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gt,{checked:h,onCheckedChange:x}),r.jsx("span",{className:"text-sm",children:"Merge if target exists"})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(re,{onClick:w,children:c==="copy"?"Copy":"Move"})]})]})})}function x8({open:e,onClose:t,item:s,onRename:n}){const[o,c]=_.useState("");_.useEffect(()=>{s!=null&&s.name&&c(s.name.replace(/\.md$/,""))},[s,e]);const u=()=>{if(!o.trim()){Y.error("Please enter a name");return}n(s,o.trim())};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsxs(yt,{children:["Rename ",s==null?void 0:s.type]})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"New name"}),r.jsx(ct,{className:"mt-1",placeholder:"new-name",value:o,onChange:l=>c(l.target.value),onKeyDown:l=>l.key==="Enter"&&u()}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:".md extension will be added automatically"})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(re,{onClick:u,children:"Rename"})]})]})})}function v8({open:e,onClose:t,dir:s,type:n,onCreate:o}){const[c,u]=_.useState("");_.useEffect(()=>{u("")},[e]);const l=()=>{if((n==="command"||n==="rule"||n==="workflow"||n==="memory")&&!c.trim()){Y.error("Please enter a name");return}const m=n==="command"||n==="rule"||n==="workflow"||n==="memory"?c.endsWith(".md")?c:`${c}.md`:c;o(s,m,n)},d=gc[n]||{},f=n==="command"||n==="rule"||n==="workflow"||n==="memory";return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"max-w-sm",children:[r.jsx(vt,{children:r.jsxs(yt,{children:["Create ",d.label||n]})}),f&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(ct,{className:"mt-1",placeholder:n==="command"?"my-skill.md":n==="workflow"?"my-workflow.md":n==="memory"?"context.md":"my-rule.md",value:c,onChange:m=>u(m.target.value),onKeyDown:m=>m.key==="Enter"&&l()})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(re,{onClick:l,children:"Create"})]})]})})}function y8({project:e,onRefresh:t}){var Je,Ye,ot;const[s,n]=_.useState([]),[o,c]=_.useState([]),[u,l]=_.useState(null),[d,f]=_.useState(null),[m,h]=_.useState(null),[x,w]=_.useState(()=>{try{return localStorage.getItem("claude-config-expanded-folder")||null}catch{return null}}),[j,C]=_.useState({}),[v,y]=_.useState(!0),[g,b]=_.useState({open:!1,item:null}),[k,E]=_.useState({open:!1,dir:null,type:null}),[P,T]=_.useState({open:!1,item:null}),[N,M]=_.useState(!1),[I,L]=_.useState({open:!1,projectDir:null}),[B,H]=_.useState({open:!1,dir:null,name:null}),[q,z]=_.useState({open:!1,dir:null}),[G,J]=_.useState({x:0,y:0,item:null}),[K,F]=_.useState(["claude"]),R=_.useCallback(async()=>{var ke;try{y(!0);const[be,Oe,Ee,_e]=await Promise.all([ue.getClaudeFolders(),ue.getIntermediatePaths(),ue.getRegistry(),ue.getConfig()]);if(n(be),c(Oe),l(Ee),F(((ke=_e.config)==null?void 0:ke.enabledTools)||["claude"]),be.length>0){const oe=localStorage.getItem("claude-config-expanded-folder");if(!oe||!be.find(ve=>ve.dir===oe)){const ve=be.filter(ze=>!ze.isSubproject),De=ve.length>1?ve[ve.length-1]:ve[0],Be=(De==null?void 0:De.dir)||be[0].dir;w(Be);try{localStorage.setItem("claude-config-expanded-folder",Be)}catch{}}}}catch(be){Y.error("Failed to load data: "+be.message)}finally{y(!1)}},[]);_.useEffect(()=>{R(),f(null),h(null)},[R,e==null?void 0:e.dir]);const O=ke=>{const be=x===ke?null:ke;w(be);try{be?localStorage.setItem("claude-config-expanded-folder",be):localStorage.removeItem("claude-config-expanded-folder")}catch{}},V=async ke=>{f(ke);try{const be=await ue.getClaudeFile(ke.path);h(be)}catch(be){Y.error("Failed to load file: "+be.message)}},$=async ke=>{if(d)try{await ue.saveClaudeFile(d.path,ke),Y.success("Saved");const be=await ue.getClaudeFile(d.path);h(be),R()}catch(be){Y.error("Failed to save: "+be.message)}},se=ke=>{C(be=>({...be,[ke]:!be[ke]}))},de=(ke,be)=>{ke.preventDefault(),J({x:ke.clientX,y:ke.clientY,item:be})},pe=async(ke,be)=>{be==="command"||be==="rule"||be==="workflow"||be==="memory"?E({open:!0,dir:ke,type:be}):be==="claudemd"?z({open:!0,dir:ke}):X(ke,be==="mcps"?"mcps.json":be==="settings"?"settings.json":be==="env"?".env":"CLAUDE.md",be)},X=async(ke,be,Oe)=>{try{const Ee=await ue.createClaudeFile(ke,be,Oe);if(Y.success("Created"),E({open:!1,dir:null,type:null}),await R(),Ee.path){const _e={path:Ee.path,name:be,type:["command","rule","workflow","env","mcps","settings","claudemd","memory"].includes(Oe)?Oe:"file"};f(_e),h({content:Ee.content||"",parsed:null})}}catch(Ee){Y.error("Failed to create: "+Ee.message)}},W=async(ke,be)=>{try{const Oe=await ue.renameClaudeFile(ke.path,be);Oe.success?(Y.success("Renamed"),T({open:!1,item:null}),await R(),f({...ke,path:Oe.newPath,name:be.endsWith(".md")?be:`${be}.md`})):Y.error(Oe.error||"Failed to rename")}catch(Oe){Y.error("Failed to rename: "+Oe.message)}},ce=async ke=>{if(confirm(`Delete ${ke.name}?`))try{await ue.deleteClaudeFile(ke.path),Y.success("Deleted"),(d==null?void 0:d.path)===ke.path&&(f(null),h(null)),R()}catch(be){Y.error("Failed to delete: "+be.message)}},ie=async(ke,be,Oe,Ee)=>{try{await ue.moveClaudeItem(ke,be,Oe,Ee),Y.success(Oe==="copy"?"Copied":"Moved"),b({open:!1,item:null}),R()}catch(_e){Y.error("Failed: "+_e.message)}},Q=async ke=>{if(ke)try{const be=await ue.addManualSubproject(I.projectDir,ke);be.success?(Y.success(`Added sub-project: ${ke.split("/").pop()}`),L({open:!1,projectDir:null}),R()):Y.error(be.error||"Failed to add sub-project")}catch(be){Y.error("Failed to add sub-project: "+be.message)}},le=async ke=>{const be=s.find(Oe=>!Oe.isSubproject&&!Oe.isHome);if(be)try{const Oe=await ue.removeManualSubproject(be.dir,ke);Oe.success?(Y.success("Removed sub-project"),R()):Y.error(Oe.error||"Failed to remove sub-project")}catch(Oe){Y.error("Failed to remove sub-project: "+Oe.message)}},we=async ke=>{const be=s.find(Oe=>!Oe.isSubproject&&!Oe.isHome);if(be)try{const Oe=await ue.hideSubproject(be.dir,ke);Oe.success?(Y.success("Sub-project hidden"),R()):Y.error(Oe.error||"Failed to hide sub-project")}catch(Oe){Y.error("Failed to hide sub-project: "+Oe.message)}},Le=()=>{if(!d||!m)return r.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-slate-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Select a file to edit"})]})});const ke=d.path?d.path.replace(/\/.claude\/mcps\.json$/,""):null;switch(d.type){case"mcps":return r.jsx(OB,{content:m.content,parsed:m.parsed,onSave:$,registry:u,configDir:ke});case"settings":return r.jsx(p8,{content:m.content,parsed:m.parsed,onSave:$,filePath:d==null?void 0:d.path});case"command":case"rule":case"workflow":case"claudemd":case"env":return r.jsx(ww,{content:m.content,onSave:$,fileType:d.type});default:return r.jsx(ww,{content:m.content,onSave:$,fileType:"claudemd"})}};if(v)return r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsx(Tr,{className:"w-6 h-6 animate-spin text-gray-400"})});const Ke=s.some(ke=>ke.isSubproject),fe=(ke,be)=>be===0,ye=(ke,be)=>{const Oe=s.findIndex(Ee=>Ee.isSubproject);return!ke.isSubproject&&(Oe>=0?be===Oe-1:be===s.length-1)};return r.jsxs("div",{className:"h-full flex",children:[r.jsxs("div",{className:"w-76 border-r flex flex-col bg-white dark:bg-slate-950",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[r.jsx("h2",{className:"font-semibold text-sm",children:"Project Config"}),r.jsxs("div",{className:"flex gap-1",children:[K.includes("claude")&&K.includes("antigravity")&&r.jsxs(re,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>M(!0),title:"Sync rules between tools",children:[r.jsx(m5,{className:"w-4 h-4 mr-1"}),"Sync"]}),r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:R,children:r.jsx(Tr,{className:"w-4 h-4"})})]})]}),r.jsx(nn,{className:"flex-1",children:s.map((ke,be)=>r.jsx(uB,{folder:ke,isExpanded:x===ke.dir,isHome:fe(ke,be),isProject:ye(ke,be),isSubproject:ke.isSubproject,depth:ke.depth||0,onToggle:()=>O(ke.dir),onCreateFile:pe,onInstallPlugin:(Oe,Ee)=>H({open:!0,dir:Oe,name:Ee}),onSelectItem:V,selectedPath:d==null?void 0:d.path,onContextMenu:de,expandedFolders:j,onToggleFolder:se,hasSubprojects:Ke,onAddSubproject:Oe=>L({open:!0,projectDir:Oe}),onRemoveSubproject:le,onHideSubproject:we,enabledTools:K},ke.dir))})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-slate-900",children:[d&&r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-white dark:bg-slate-950",children:[r.jsx("div",{className:"flex items-center gap-2 text-sm",children:r.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-mono truncate max-w-md",children:d.path})}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>b({open:!0,item:d}),children:r.jsx($a,{className:"w-4 h-4"})}),r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>ce(d),children:r.jsx(js,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1",children:Le()})]}),G.item&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>J({x:0,y:0,item:null})}),r.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-950 rounded-md shadow-lg border py-1 min-w-[160px]",style:{left:G.x,top:G.y},children:[(((Je=G.item)==null?void 0:Je.type)==="rule"||((Ye=G.item)==null?void 0:Ye.type)==="command"||((ot=G.item)==null?void 0:ot.type)==="workflow")&&r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{T({open:!0,item:G.item}),J({x:0,y:0,item:null})},children:[r.jsx(aS,{className:"w-4 h-4 mr-2"})," Rename"]}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{b({open:!0,item:G.item}),J({x:0,y:0,item:null})},children:[r.jsx($a,{className:"w-4 h-4 mr-2"})," Copy to..."]}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{b({open:!0,item:G.item}),J({x:0,y:0,item:null})},children:[r.jsx(oS,{className:"w-4 h-4 mr-2"})," Move to..."]}),r.jsx("div",{className:"border-t my-1"}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center text-red-600",onClick:()=>{ce(G.item),J({x:0,y:0,item:null})},children:[r.jsx(js,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),r.jsx(g8,{open:g.open,onClose:()=>b({open:!1,item:null}),item:g.item,intermediatePaths:o,onMove:ie}),r.jsx(v8,{open:k.open,onClose:()=>E({open:!1,dir:null,type:null}),dir:k.dir,type:k.type,onCreate:X}),r.jsx(x8,{open:P.open,onClose:()=>T({open:!1,item:null}),item:P.item,onRename:W}),r.jsx(C6,{open:N,onOpenChange:M,projectDir:e==null?void 0:e.dir,onSynced:R}),r.jsx(nB,{open:B.open,onOpenChange:ke=>H({...B,open:ke}),projectDir:B.dir,projectName:B.name}),r.jsx(px,{open:I.open,onOpenChange:ke=>L({...I,open:ke}),onSelect:Q,type:"directory",title:"Add Sub-project",initialPath:I.projectDir||"~"}),r.jsx(Oj,{open:q.open,onOpenChange:ke=>{z({...q,open:ke}),ke||R()},title:"Initialize CLAUDE.md",description:"Running claude -p /init to generate project-aware CLAUDE.md",cwd:q.dir,initialCommand:"claude -p /init; exit",autoCloseOnExit:!0,autoCloseDelay:2e3})]})}function b8({projects:e=[],activeProject:t=null,onSwitch:s,onAddClick:n,onManageClick:o,disabled:c=!1}){const u=(t==null?void 0:t.name)||"No Project";return r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"outline",className:"gap-2 max-w-[220px] h-9",disabled:c,children:[r.jsx(Wi,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),r.jsx("span",{className:"truncate font-medium",children:u}),r.jsx(Er,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),r.jsxs(Hn,{align:"start",className:"w-72",children:[r.jsx(pc,{className:"text-xs text-gray-500 font-normal",children:"Projects"}),r.jsx(ds,{}),e.length===0?r.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 text-center",children:[r.jsx(Kr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No projects registered"}),r.jsx("p",{className:"text-xs mt-1",children:"Add a project to get started"})]}):r.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(l=>r.jsxs(zt,{onClick:()=>!l.isActive&&s(l.id),className:`flex items-start gap-2 py-2 cursor-pointer ${l.isActive?"bg-indigo-50":""}`,disabled:l.isActive,children:[r.jsx("div",{className:"mt-0.5 flex-shrink-0",children:l.isActive?r.jsx($t,{className:"w-4 h-4 text-indigo-600"}):l.exists?r.jsx(Kr,{className:"w-4 h-4 text-gray-400"}):r.jsx(Nc,{className:"w-4 h-4 text-amber-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`truncate font-medium ${l.isActive?"text-indigo-700":""}`,children:l.name}),r.jsx("div",{className:"truncate text-xs text-gray-400 font-mono",children:l.path.replace(/^\/Users\/[^/]+/,"~")}),!l.exists&&r.jsx("div",{className:"text-xs text-amber-600 mt-0.5",children:"Path not found"})]}),l.hasClaudeConfig&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400",title:"Has .claude config"})})]},l.id))}),r.jsx(ds,{}),r.jsxs(zt,{onClick:n,className:"gap-2 cursor-pointer",children:[r.jsx(Rt,{className:"w-4 h-4"}),"Add Project"]}),e.length>0&&r.jsxs(zt,{onClick:o,className:"gap-2 cursor-pointer",children:[r.jsx(yp,{className:"w-4 h-4"}),"Manage Projects"]})]})]})}const Bm="claude-config-welcome-seen";function w8({onStartTutorial:e}){const[t,s]=_.useState(!1),[n,o]=_.useState(!0);_.useEffect(()=>{if(!localStorage.getItem(Bm)){const d=setTimeout(()=>s(!0),500);return()=>clearTimeout(d)}},[]);const c=()=>{n&&localStorage.setItem(Bm,"true"),s(!1)},u=()=>{n&&localStorage.setItem(Bm,"true"),s(!1),e==null||e()};return r.jsx(wt,{open:t,onOpenChange:s,children:r.jsxs(xt,{className:"sm:max-w-lg",children:[r.jsxs(vt,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx(sn,{className:"w-6 h-6 text-white"})}),r.jsx(yt,{className:"text-2xl",children:"Welcome to Coder Config"})]}),r.jsx(ur,{className:"text-base pt-2",children:"Your control center for Claude Code and AI coding tools."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"We built Coder Config because managing AI coding assistants shouldn't require editing JSON files or memorizing command-line flags. You deserve a visual interface that makes configuration easy."}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 py-2",children:[r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(Bn,{className:"w-5 h-5 mx-auto mb-2 text-indigo-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"MCP Servers"})]}),r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(Vn,{className:"w-5 h-5 mx-auto mb-2 text-green-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Permissions"})]}),r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(Yt,{className:"w-5 h-5 mx-auto mb-2 text-amber-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Rules & Memory"})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Take our guided tutorial to learn the basics, or dive in and explore on your own."}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(To,{id:"dont-ask",checked:n,onCheckedChange:o}),r.jsx(nr,{htmlFor:"dont-ask",className:"text-sm text-muted-foreground cursor-pointer",children:"Don't show this again"})]})]}),r.jsxs(kt,{className:"flex gap-2 sm:gap-2",children:[r.jsx(re,{variant:"ghost",onClick:c,children:"Skip for now"}),r.jsxs(re,{onClick:u,className:"gap-2",children:[r.jsx(Su,{className:"w-4 h-4"}),"Start Tutorial",r.jsx(Ag,{className:"w-4 h-4"})]})]})]})})}const $m="claude-config:claude-init-preference";function mN({open:e,onOpenChange:t,onAdded:s}){const[n,o]=_.useState(""),[c,u]=_.useState(""),[l,d]=_.useState(!1),[f,m]=_.useState(!1),[h,x]=_.useState(!0),[w,j]=_.useState([]),[C,v]=_.useState(null),y=_.useRef(null);_.useEffect(()=>{const E=localStorage.getItem($m);E==="never"?x(!1):E==="always"&&x(!0)},[]),_.useEffect(()=>{if(e){o(""),u(""),j([]),v(null);const E=localStorage.getItem($m);x(E!=="never")}},[e]),_.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[w]),_.useEffect(()=>{if(n&&!c){const E=n.split("/").pop();u(E||"")}},[n]);const g=E=>{o(E),d(!1)},b=async()=>{if(!n){Y.error("Please select a project path");return}m(!0),j([]),v(null);try{if(h){v("running");const P=await new Promise(T=>{const N=new EventSource(`/api/projects/init-stream?path=${encodeURIComponent(n)}`);N.onmessage=M=>{const I=JSON.parse(M.data);I.type==="output"?j(L=>[...L,I.text]):I.type==="status"?j(L=>[...L,I.message+`
`]):I.type==="skip"?j(L=>[...L,I.message+`
`]):I.type==="done"?(N.close(),v(I.success?"success":"error"),T(I.success)):I.type==="error"&&(j(L=>[...L,`Error: ${I.message}
`]),N.close(),v("error"),T(!1))},N.onerror=()=>{N.close(),j(M=>[...M,`Connection error - is Claude Code installed?
`]),v("error"),T(!1)}});await new Promise(T=>setTimeout(T,500))}const E=await ue.addProject(n,c||void 0,!1);E.error?Y.error(E.error):(Y.success(`Added project: ${E.project.name}`),s==null||s(E.project),t(!1))}catch(E){Y.error("Failed to add project: "+E.message)}finally{m(!1)}},k=E=>{localStorage.setItem($m,E),E==="never"?x(!1):E==="always"&&x(!0),Y.success(`Preference saved: ${E==="always"?"Always":E==="never"?"Never":"Ask each time"} run claude /init`)};return r.jsxs(r.Fragment,{children:[r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"w-5 h-5 text-indigo-500"}),"Add Project"]}),r.jsx(ur,{children:"Register a project folder to quickly switch between projects in the UI."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{htmlFor:"path",children:"Project Path"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ct,{id:"path",value:n,onChange:E=>o(E.target.value),placeholder:"/path/to/project",className:"font-mono text-sm flex-1"}),r.jsx(re,{variant:"outline",size:"icon",onClick:()=>d(!0),title:"Browse",children:r.jsx(Wi,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(nr,{htmlFor:"name",children:"Display Name"}),r.jsx(ct,{id:"name",value:c,onChange:E=>u(E.target.value),placeholder:"Auto-filled from folder name"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Optional. Leave empty to use folder name."})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(To,{id:"claudeInit",checked:h,onCheckedChange:x,className:"mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(nr,{htmlFor:"claudeInit",className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Yt,{className:"w-4 h-4 text-orange-500"}),"Initialize with Claude Code"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Run ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"claude /init"})," to create CLAUDE.md"]})]})]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx(re,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>k("always"),children:"Always"}),r.jsx(re,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>k("never"),children:"Never"}),r.jsx(re,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>k("ask"),children:"Ask each time"})]})]})]}),C&&r.jsxs("div",{className:"border rounded-lg overflow-hidden bg-slate-950",children:[r.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-900 border-b border-slate-800",children:C==="running"?r.jsxs(r.Fragment,{children:[r.jsx(Ze,{className:"w-4 h-4 animate-spin text-blue-400"}),r.jsx("span",{className:"text-sm text-slate-300",children:"Running claude -p /init..."})]}):C==="success"?r.jsxs(r.Fragment,{children:[r.jsx(No,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-sm text-green-400",children:"Initialized successfully"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-sm text-red-400",children:"Initialization failed"})]})}),r.jsxs("div",{ref:y,className:"p-3 font-mono text-xs text-slate-300 max-h-48 overflow-y-auto whitespace-pre-wrap",children:[w.map((E,P)=>r.jsx("span",{children:E},P)),C==="running"&&r.jsx("span",{className:"animate-pulse",children:"_"})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:C==="running",children:"Cancel"}),r.jsx(re,{onClick:b,disabled:f||!n,children:f?r.jsxs(r.Fragment,{children:[r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}),C==="running"?"Initializing...":"Adding..."]}):"Add Project"})]})]})}),r.jsx(px,{open:l,onOpenChange:d,onSelect:g,type:"directory",initialPath:"~",title:"Select Project Folder"})]})}const pN=_.createContext({theme:"auto",setTheme:()=>{},resolvedTheme:"light"});function _8({children:e}){const[t,s]=_.useState(()=>{try{return localStorage.getItem("claude-config-theme")||"auto"}catch{return"auto"}}),[n,o]=_.useState("light");_.useEffect(()=>{const u=window.document.documentElement,l=m=>{let h;m==="auto"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=m,o(h),h==="dark"?u.classList.add("dark"):u.classList.remove("dark")};l(t);const d=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{t==="auto"&&l("auto")};return d.addEventListener("change",f),()=>d.removeEventListener("change",f)},[t]);const c=u=>{s(u);try{localStorage.setItem("claude-config-theme",u)}catch{}};return r.jsx(pN.Provider,{value:{theme:t,setTheme:c,resolvedTheme:n},children:e})}function C8(){return _.useContext(pN)}function S8(){const{theme:e,setTheme:t,resolvedTheme:s}=C8(),n=s==="dark"?Db:Lb;return r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[r.jsx(n,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),r.jsxs(Hn,{align:"end",children:[r.jsxs(zt,{onClick:()=>t("light"),className:e==="light"?"bg-accent":"",children:[r.jsx(Lb,{className:"mr-2 h-4 w-4"}),"Light"]}),r.jsxs(zt,{onClick:()=>t("dark"),className:e==="dark"?"bg-accent":"",children:[r.jsx(Db,{className:"mr-2 h-4 w-4"}),"Dark"]}),r.jsxs(zt,{onClick:()=>t("auto"),className:e==="auto"?"bg-accent":"",children:[r.jsx(iS,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var k8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j8=k8.reduce((e,t)=>{const s=Xu(`Primitive.${t}`),n=_.forwardRef((o,c)=>{const{asChild:u,...l}=o,d=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),N8="Separator",kw="horizontal",E8=["horizontal","vertical"],gN=_.forwardRef((e,t)=>{const{decorative:s,orientation:n=kw,...o}=e,c=P8(n)?n:kw,l=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return r.jsx(j8.div,{"data-orientation":c,...l,...o,ref:t})});gN.displayName=N8;function P8(e){return E8.includes(e)}var xN=gN;const vN=_.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...n},o)=>r.jsx(xN,{ref:o,decorative:s,orientation:t,className:Ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));vN.displayName=xN.displayName;const jw=e=>{let t;const s=new Set,n=(f,m)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const x=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),s.forEach(w=>w(t,x))}},o=()=>t,l={setState:n,getState:o,getInitialState:()=>d,subscribe:f=>(s.add(f),()=>s.delete(f))},d=t=e(n,o,l);return l},A8=(e=>e?jw(e):jw),T8=e=>e;function R8(e,t=T8){const s=Pe.useSyncExternalStore(e.subscribe,Pe.useCallback(()=>t(e.getState()),[e,t]),Pe.useCallback(()=>t(e.getInitialState()),[e,t]));return Pe.useDebugValue(s),s}const Nw=e=>{const t=A8(e),s=n=>R8(t,n);return Object.assign(s,t),s},Sh=(e=>e?Nw(e):Nw),Px=Sh((e,t)=>({projects:[],activeProject:null,loading:!1,error:null,fetch:async()=>{e({loading:!0,error:null});try{const n=(await ue.getProjects()).projects||[],o=n.find(c=>c.isActive)||null;return e({projects:n,activeProject:o,loading:!1}),n}catch(s){return e({error:s.message,loading:!1}),[]}},add:async(s,n,o=!1)=>{try{const c=await ue.addProject(s,n,o);if(c.success||c.project){const u=c.project||{path:s,name:n,exists:!0};return e(l=>({projects:[...l.projects,u]})),{success:!0,project:u}}return{success:!1,error:c.error}}catch(c){return{success:!1,error:c.message}}},remove:async s=>{try{const n=await ue.removeProject(s);return n.success?(e(o=>{var c;return{projects:o.projects.filter(u=>u.id!==s),activeProject:((c=o.activeProject)==null?void 0:c.id)===s?null:o.activeProject}}),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},update:async(s,n)=>{try{const o=await ue.updateProject(s,n);return o.success?(e(c=>({projects:c.projects.map(u=>u.id===s?{...u,...o.project}:u)})),{success:!0,project:o.project}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},setActive:async s=>{try{const n=await ue.setActiveProject(s);return n.success?(e(o=>({projects:o.projects.map(c=>({...c,isActive:c.id===s})),activeProject:n.project})),n):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},clearActive:()=>{e(s=>({projects:s.projects.map(n=>({...n,isActive:!1})),activeProject:null}))}})),yN=Sh((e,t)=>({workstreams:[],activeId:null,loading:!1,error:null,fetch:async()=>{e({loading:!0,error:null});try{const s=await ue.getWorkstreams();return e({workstreams:s.workstreams||[],activeId:s.activeId||null,loading:!1}),s.workstreams||[]}catch(s){return e({error:s.message,loading:!1}),[]}},getActiveWorkstream:()=>{const{workstreams:s,activeId:n}=t();return n?s.find(o=>o.id===n):null},create:async(s,n=[],o="")=>{try{const c=await ue.createWorkstream({name:s,projects:n,rules:o});return c.success||c.workstream?(e(u=>({workstreams:[...u.workstreams,c.workstream]})),{success:!0,workstream:c.workstream}):{success:!1,error:c.error}}catch(c){return{success:!1,error:c.message}}},update:async(s,n)=>{try{const o=await ue.updateWorkstream(s,n);return o.success||o.workstream?(e(c=>({workstreams:c.workstreams.map(u=>u.id===s?{...u,...o.workstream}:u)})),{success:!0,workstream:o.workstream}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},delete:async s=>{try{const n=await ue.deleteWorkstream(s);return n.success?(e(o=>({workstreams:o.workstreams.filter(c=>c.id!==s),activeId:o.activeId===s?null:o.activeId})),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},setActive:async s=>{try{const n=await ue.setActiveWorkstream(s);return n.success?(e({activeId:s}),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},addProject:async(s,n)=>{try{const o=await ue.addProjectToWorkstream(s,n);return o.success?(e(c=>({workstreams:c.workstreams.map(u=>u.id===s?{...u,projects:[...u.projects||[],n]}:u)})),{success:!0}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},removeProject:async(s,n)=>{try{const o=await ue.removeProjectFromWorkstream(s,n);return o.success?(e(c=>({workstreams:c.workstreams.map(u=>u.id===s?{...u,projects:(u.projects||[]).filter(l=>l!==n)}:u)})),{success:!0}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},getWorkstreamsForProject:s=>t().workstreams.filter(n=>{var o;return(o=n.projects)==null?void 0:o.includes(s)}),countWorkstreamsForProject:s=>t().getWorkstreamsForProject(s).length}));Sh((e,t)=>({loops:[],activeLoop:null,config:{},history:[],loading:!1,error:null,fetch:async()=>{var s;e({loading:!0,error:null});try{const n=await ue.getLoops();return e({loops:n.loops||[],activeLoop:n.activeId?(s=n.loops)==null?void 0:s.find(o=>o.id===n.activeId):null,config:n.config||{},loading:!1}),n.loops||[]}catch(n){return e({error:n.message,loading:!1}),[]}},fetchOne:async s=>{try{const n=await ue.getLoop(s);return n.loop?(e(o=>({loops:o.loops.map(c=>c.id===s?n.loop:c)})),n):{error:n.error}}catch(n){return{error:n.message}}},create:async(s,n={})=>{try{const o=await ue.createLoop({task:s,...n});return o.loop?(e(c=>({loops:[...c.loops,o.loop]})),{success:!0,loop:o.loop}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},update:async(s,n)=>{try{const o=await ue.updateLoop(s,n);return o.loop?(e(c=>{var u;return{loops:c.loops.map(l=>l.id===s?o.loop:l),activeLoop:((u=c.activeLoop)==null?void 0:u.id)===s?o.loop:c.activeLoop}}),{success:!0,loop:o.loop}):{success:!1,error:o.error}}catch(o){return{success:!1,error:o.message}}},delete:async s=>{try{const n=await ue.deleteLoop(s);return n.success?(e(o=>{var c;return{loops:o.loops.filter(u=>u.id!==s),activeLoop:((c=o.activeLoop)==null?void 0:c.id)===s?null:o.activeLoop}}),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},start:async s=>{try{const n=await ue.startLoop(s);return n.loop?(e(o=>({loops:o.loops.map(c=>c.id===s?n.loop:c),activeLoop:n.loop})),{success:!0,loop:n.loop}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},pause:async s=>{try{const n=await ue.pauseLoop(s);return n.loop?(e(o=>{var c;return{loops:o.loops.map(u=>u.id===s?n.loop:u),activeLoop:((c=o.activeLoop)==null?void 0:c.id)===s?n.loop:o.activeLoop}}),{success:!0,loop:n.loop}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},cancel:async s=>{try{const n=await ue.cancelLoop(s);return n.loop?(e(o=>{var c;return{loops:o.loops.map(u=>u.id===s?n.loop:u),activeLoop:((c=o.activeLoop)==null?void 0:c.id)===s?null:o.activeLoop}}),{success:!0,loop:n.loop}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},complete:async s=>{try{const n=await ue.completeLoop(s);return n.loop?(e(o=>{var c;return{loops:o.loops.filter(u=>u.id!==s),activeLoop:((c=o.activeLoop)==null?void 0:c.id)===s?null:o.activeLoop}}),{success:!0,loop:n.loop}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},fetchHistory:async()=>{try{const s=await ue.getLoopHistory();return e({history:s.history||[]}),s.history||[]}catch{return[]}},updateConfig:async s=>{try{const n=await ue.updateLoopConfig(s);return n.config?(e({config:n.config}),{success:!0,config:n.config}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},setActiveLoop:s=>{e({activeLoop:s})},clearActiveLoop:()=>{e({activeLoop:null})}}));const Ew=Sh((e,t)=>({appConfig:null,loading:!1,error:null,version:null,latestVersion:null,updateAvailable:!1,fetch:async()=>{e({loading:!0,error:null});try{const s=await ue.getConfig();return e({appConfig:s.config||{},loading:!1}),s.config}catch(s){return e({error:s.message,loading:!1}),null}},save:async s=>{try{const n=await ue.saveConfig(s);return n.success?(e({appConfig:s}),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},update:async s=>{const o={...t().appConfig||{},...s};return t().save(o)},checkVersion:async()=>{try{const s=await ue.checkVersion();return e({version:s.installedVersion,latestVersion:s.latestVersion,updateAvailable:s.updateAvailable||!1}),s}catch(s){return{error:s.message}}},isFeatureEnabled:s=>{var o;const n=t().appConfig;return((o=n==null?void 0:n.experimental)==null?void 0:o[s])===!0},isToolEnabled:s=>{const n=t().appConfig;return((n==null?void 0:n.enabledTools)||["claude"]).includes(s)},getEnabledTools:()=>{const s=t().appConfig;return(s==null?void 0:s.enabledTools)||["claude"]},setExperimentalFeature:async(s,n)=>{const o=t().appConfig||{},c={...o.experimental||{},[s]:n};return t().save({...o,experimental:c})},setEnabledTools:async s=>{const n=t().appConfig||{};return t().save({...n,enabledTools:s})}}));function M8(e,t){const s={};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const D8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,I8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L8={};function Pw(e,t){return(L8.jsx?I8:D8).test(e)}const O8=/[ \t\n\f\r]/g;function F8(e){return typeof e=="object"?e.type==="text"?Aw(e.value):!1:Aw(e)}function Aw(e){return e.replace(O8,"")===""}class $c{constructor(t,s,n){this.normal=s,this.property=t,n&&(this.space=n)}}$c.prototype.normal={};$c.prototype.property={};$c.prototype.space=void 0;function bN(e,t){const s={},n={};for(const o of e)Object.assign(s,o.property),Object.assign(n,o.normal);return new $c(s,n,t)}function Fp(e){return e.toLowerCase()}class Es{constructor(t,s){this.attribute=s,this.property=t}}Es.prototype.attribute="";Es.prototype.booleanish=!1;Es.prototype.boolean=!1;Es.prototype.commaOrSpaceSeparated=!1;Es.prototype.commaSeparated=!1;Es.prototype.defined=!1;Es.prototype.mustUseProperty=!1;Es.prototype.number=!1;Es.prototype.overloadedBoolean=!1;Es.prototype.property="";Es.prototype.spaceSeparated=!1;Es.prototype.space=void 0;let B8=0;const mt=Fo(),br=Fo(),Bp=Fo(),Te=Fo(),Kt=Fo(),Da=Fo(),Ls=Fo();function Fo(){return 2**++B8}const $p=Object.freeze(Object.defineProperty({__proto__:null,boolean:mt,booleanish:br,commaOrSpaceSeparated:Ls,commaSeparated:Da,number:Te,overloadedBoolean:Bp,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),zm=Object.keys($p);class Ax extends Es{constructor(t,s,n,o){let c=-1;if(super(t,s),Tw(this,"space",o),typeof n=="number")for(;++c<zm.length;){const u=zm[c];Tw(this,zm[c],(n&$p[u])===$p[u])}}}Ax.prototype.defined=!0;function Tw(e,t,s){s&&(e[t]=s)}function tl(e){const t={},s={};for(const[n,o]of Object.entries(e.properties)){const c=new Ax(n,e.transform(e.attributes||{},n),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(c.mustUseProperty=!0),t[n]=c,s[Fp(n)]=n,s[Fp(c.attribute)]=n}return new $c(t,s,e.space)}const wN=tl({properties:{ariaActiveDescendant:null,ariaAtomic:br,ariaAutoComplete:null,ariaBusy:br,ariaChecked:br,ariaColCount:Te,ariaColIndex:Te,ariaColSpan:Te,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:br,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:br,ariaFlowTo:Kt,ariaGrabbed:br,ariaHasPopup:null,ariaHidden:br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:Te,ariaLive:null,ariaModal:br,ariaMultiLine:br,ariaMultiSelectable:br,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:Te,ariaPressed:br,ariaReadOnly:br,ariaRelevant:null,ariaRequired:br,ariaRoleDescription:Kt,ariaRowCount:Te,ariaRowIndex:Te,ariaRowSpan:Te,ariaSelected:br,ariaSetSize:Te,ariaSort:null,ariaValueMax:Te,ariaValueMin:Te,ariaValueNow:Te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _N(e,t){return t in e?e[t]:t}function CN(e,t){return _N(e,t.toLowerCase())}const $8=tl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Da,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:mt,allowPaymentRequest:mt,allowUserMedia:mt,alt:null,as:null,async:mt,autoCapitalize:null,autoComplete:Kt,autoFocus:mt,autoPlay:mt,blocking:Kt,capture:null,charSet:null,checked:mt,cite:null,className:Kt,cols:Te,colSpan:null,content:null,contentEditable:br,controls:mt,controlsList:Kt,coords:Te|Da,crossOrigin:null,data:null,dateTime:null,decoding:null,default:mt,defer:mt,dir:null,dirName:null,disabled:mt,download:Bp,draggable:br,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:mt,formTarget:null,headers:Kt,height:Te,hidden:Bp,high:Te,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:mt,inputMode:null,integrity:null,is:null,isMap:mt,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:mt,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:mt,low:Te,manifest:null,max:null,maxLength:Te,media:null,method:null,min:null,minLength:Te,multiple:mt,muted:mt,name:null,nonce:null,noModule:mt,noValidate:mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:mt,optimum:Te,pattern:null,ping:Kt,placeholder:null,playsInline:mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:mt,referrerPolicy:null,rel:Kt,required:mt,reversed:mt,rows:Te,rowSpan:Te,sandbox:Kt,scope:null,scoped:mt,seamless:mt,selected:mt,shadowRootClonable:mt,shadowRootDelegatesFocus:mt,shadowRootMode:null,shape:null,size:Te,sizes:null,slot:null,span:Te,spellCheck:br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Te,step:null,style:null,tabIndex:Te,target:null,title:null,translate:null,type:null,typeMustMatch:mt,useMap:null,value:br,width:Te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:Te,borderColor:null,bottomMargin:Te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:mt,declare:mt,event:null,face:null,frame:null,frameBorder:null,hSpace:Te,leftMargin:Te,link:null,longDesc:null,lowSrc:null,marginHeight:Te,marginWidth:Te,noResize:mt,noHref:mt,noShade:mt,noWrap:mt,object:null,profile:null,prompt:null,rev:null,rightMargin:Te,rules:null,scheme:null,scrolling:br,standby:null,summary:null,text:null,topMargin:Te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:mt,disableRemotePlayback:mt,prefix:null,property:null,results:Te,security:null,unselectable:null},space:"html",transform:CN}),z8=tl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ls,accentHeight:Te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Te,amplitude:Te,arabicForm:null,ascent:Te,attributeName:null,attributeType:null,azimuth:Te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Te,by:null,calcMode:null,capHeight:Te,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Te,diffuseConstant:Te,direction:null,display:null,dur:null,divisor:Te,dominantBaseline:null,download:mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Te,enableBackground:null,end:null,event:null,exponent:Te,externalResourcesRequired:null,fill:null,fillOpacity:Te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Da,g2:Da,glyphName:Da,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Te,horizOriginX:Te,horizOriginY:Te,id:null,ideographic:Te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Te,k:Te,k1:Te,k2:Te,k3:Te,k4:Te,kernelMatrix:Ls,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Te,overlineThickness:Te,paintOrder:null,panose1:null,path:null,pathLength:Te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Te,pointsAtY:Te,pointsAtZ:Te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ls,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ls,rev:Ls,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ls,requiredFeatures:Ls,requiredFonts:Ls,requiredFormats:Ls,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Te,specularExponent:Te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Te,strikethroughThickness:Te,string:null,stroke:null,strokeDashArray:Ls,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Te,strokeOpacity:Te,strokeWidth:null,style:null,surfaceScale:Te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ls,tabIndex:Te,tableValues:null,target:null,targetX:Te,targetY:Te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ls,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Te,underlineThickness:Te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Te,values:null,vAlphabetic:Te,vMathematical:Te,vectorEffect:null,vHanging:Te,vIdeographic:Te,version:null,vertAdvY:Te,vertOriginX:Te,vertOriginY:Te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_N}),SN=tl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),kN=tl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:CN}),jN=tl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),H8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},W8=/[A-Z]/g,Rw=/-[a-z]/g,V8=/^data[-\w.:]+$/i;function U8(e,t){const s=Fp(t);let n=t,o=Es;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&V8.test(t)){if(t.charAt(4)==="-"){const c=t.slice(5).replace(Rw,K8);n="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=t.slice(4);if(!Rw.test(c)){let u=c.replace(W8,G8);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=Ax}return new o(n,t)}function G8(e){return"-"+e.toLowerCase()}function K8(e){return e.charAt(1).toUpperCase()}const q8=bN([wN,$8,SN,kN,jN],"html"),Tx=bN([wN,z8,SN,kN,jN],"svg");function Y8(e){return e.join(" ").trim()}var wa={},Hm,Mw;function X8(){if(Mw)return Hm;Mw=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,s=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,l=/^\s+|\s+$/g,d=`
`,f="/",m="*",h="",x="comment",w="declaration";function j(v,y){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];y=y||{};var g=1,b=1;function k(q){var z=q.match(t);z&&(g+=z.length);var G=q.lastIndexOf(d);b=~G?q.length-G:b+q.length}function E(){var q={line:g,column:b};return function(z){return z.position=new P(q),M(),z}}function P(q){this.start=q,this.end={line:g,column:b},this.source=y.source}P.prototype.content=v;function T(q){var z=new Error(y.source+":"+g+":"+b+": "+q);if(z.reason=q,z.filename=y.source,z.line=g,z.column=b,z.source=v,!y.silent)throw z}function N(q){var z=q.exec(v);if(z){var G=z[0];return k(G),v=v.slice(G.length),z}}function M(){N(s)}function I(q){var z;for(q=q||[];z=L();)z!==!1&&q.push(z);return q}function L(){var q=E();if(!(f!=v.charAt(0)||m!=v.charAt(1))){for(var z=2;h!=v.charAt(z)&&(m!=v.charAt(z)||f!=v.charAt(z+1));)++z;if(z+=2,h===v.charAt(z-1))return T("End of comment missing");var G=v.slice(2,z-2);return b+=2,k(G),v=v.slice(z),b+=2,q({type:x,comment:G})}}function B(){var q=E(),z=N(n);if(z){if(L(),!N(o))return T("property missing ':'");var G=N(c),J=q({type:w,property:C(z[0].replace(e,h)),value:G?C(G[0].replace(e,h)):h});return N(u),J}}function H(){var q=[];I(q);for(var z;z=B();)z!==!1&&(q.push(z),I(q));return q}return M(),H()}function C(v){return v?v.replace(l,h):h}return Hm=j,Hm}var Dw;function J8(){if(Dw)return wa;Dw=1;var e=wa&&wa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=s;const t=e(X8());function s(n,o){let c=null;if(!n||typeof n!="string")return c;const u=(0,t.default)(n),l=typeof o=="function";return u.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:m}=d;l?o(f,m,d):m&&(c=c||{},c[f]=m)}),c}return wa}var $l={},Iw;function Q8(){if(Iw)return $l;Iw=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,s=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,c=function(f){return!f||s.test(f)||e.test(f)},u=function(f,m){return m.toUpperCase()},l=function(f,m){return"".concat(m,"-")},d=function(f,m){return m===void 0&&(m={}),c(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,l):f=f.replace(n,l),f.replace(t,u))};return $l.camelCase=d,$l}var zl,Lw;function Z8(){if(Lw)return zl;Lw=1;var e=zl&&zl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(J8()),s=Q8();function n(o,c){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(l,d){l&&d&&(u[(0,s.camelCase)(l,c)]=d)}),u}return n.default=n,zl=n,zl}var e7=Z8();const t7=yc(e7),NN=EN("end"),Rx=EN("start");function EN(e){return t;function t(s){const n=s&&s.position&&s.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function r7(e){const t=Rx(e),s=NN(e);if(t&&s)return{start:t,end:s}}function tc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ow(e.position):"start"in e||"end"in e?Ow(e):"line"in e||"column"in e?zp(e):""}function zp(e){return Fw(e&&e.line)+":"+Fw(e&&e.column)}function Ow(e){return zp(e&&e.start)+"-"+zp(e&&e.end)}function Fw(e){return e&&typeof e=="number"?e:1}class as extends Error{constructor(t,s,n){super(),typeof s=="string"&&(n=s,s=void 0);let o="",c={},u=!1;if(s&&("line"in s&&"column"in s?c={place:s}:"start"in s&&"end"in s?c={place:s}:"type"in s?c={ancestors:[s],place:s.position}:c={...s}),typeof t=="string"?o=t:!c.cause&&t&&(u=!0,o=t.message,c.cause=t),!c.ruleId&&!c.source&&typeof n=="string"){const d=n.indexOf(":");d===-1?c.ruleId=n:(c.source=n.slice(0,d),c.ruleId=n.slice(d+1))}if(!c.place&&c.ancestors&&c.ancestors){const d=c.ancestors[c.ancestors.length-1];d&&(c.place=d.position)}const l=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=tc(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=u&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}as.prototype.file="";as.prototype.name="";as.prototype.reason="";as.prototype.message="";as.prototype.stack="";as.prototype.column=void 0;as.prototype.line=void 0;as.prototype.ancestors=void 0;as.prototype.cause=void 0;as.prototype.fatal=void 0;as.prototype.place=void 0;as.prototype.ruleId=void 0;as.prototype.source=void 0;const Mx={}.hasOwnProperty,s7=new Map,n7=/[A-Z]/g,i7=new Set(["table","tbody","thead","tfoot","tr"]),o7=new Set(["td","th"]),PN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function a7(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=p7(s,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=m7(s,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Tx:q8,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},c=AN(o,e,void 0);return c&&typeof c!="string"?c:o.create(e,o.Fragment,{children:c||void 0},void 0)}function AN(e,t,s){if(t.type==="element")return l7(e,t,s);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return c7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return u7(e,t,s);if(t.type==="mdxjsEsm")return d7(e,t);if(t.type==="root")return h7(e,t,s);if(t.type==="text")return f7(e,t)}function l7(e,t,s){const n=e.schema;let o=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(o=Tx,e.schema=o),e.ancestors.push(t);const c=RN(e,t.tagName,!1),u=g7(e,t);let l=Ix(e,t);return i7.has(t.tagName)&&(l=l.filter(function(d){return typeof d=="string"?!F8(d):!0})),TN(e,u,c,t),Dx(u,l),e.ancestors.pop(),e.schema=n,e.create(t,c,u,s)}function c7(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}vc(e,t.position)}function d7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vc(e,t.position)}function u7(e,t,s){const n=e.schema;let o=n;t.name==="svg"&&n.space==="html"&&(o=Tx,e.schema=o),e.ancestors.push(t);const c=t.name===null?e.Fragment:RN(e,t.name,!0),u=x7(e,t),l=Ix(e,t);return TN(e,u,c,t),Dx(u,l),e.ancestors.pop(),e.schema=n,e.create(t,c,u,s)}function h7(e,t,s){const n={};return Dx(n,Ix(e,t)),e.create(t,e.Fragment,n,s)}function f7(e,t){return t.value}function TN(e,t,s,n){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(t.node=n)}function Dx(e,t){if(t.length>0){const s=t.length>1?t:t[0];s&&(e.children=s)}}function m7(e,t,s){return n;function n(o,c,u,l){const f=Array.isArray(u.children)?s:t;return l?f(c,u,l):f(c,u)}}function p7(e,t){return s;function s(n,o,c,u){const l=Array.isArray(c.children),d=Rx(n);return t(o,c,u,l,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function g7(e,t){const s={};let n,o;for(o in t.properties)if(o!=="children"&&Mx.call(t.properties,o)){const c=v7(e,o,t.properties[o]);if(c){const[u,l]=c;e.tableCellAlignToStyle&&u==="align"&&typeof l=="string"&&o7.has(t.tagName)?n=l:s[u]=l}}if(n){const c=s.style||(s.style={});c[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return s}function x7(e,t){const s={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const c=n.data.estree.body[0];c.type;const u=c.expression;u.type;const l=u.properties[0];l.type,Object.assign(s,e.evaluater.evaluateExpression(l.argument))}else vc(e,t.position);else{const o=n.name;let c;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,c=e.evaluater.evaluateExpression(l.expression)}else vc(e,t.position);else c=n.value===null?!0:n.value;s[o]=c}return s}function Ix(e,t){const s=[];let n=-1;const o=e.passKeys?new Map:s7;for(;++n<t.children.length;){const c=t.children[n];let u;if(e.passKeys){const d=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(d){const f=o.get(d)||0;u=d+"-"+f,o.set(d,f+1)}}const l=AN(e,c,u);l!==void 0&&s.push(l)}return s}function v7(e,t,s){const n=U8(e.schema,t);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=n.commaSeparated?M8(s):Y8(s)),n.property==="style"){let o=typeof s=="object"?s:y7(e,String(s));return e.stylePropertyNameCase==="css"&&(o=b7(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&n.space?H8[n.property]||n.property:n.attribute,s]}}function y7(e,t){try{return t7(t,{reactCompat:!0})}catch(s){if(e.ignoreInvalidStyle)return{};const n=s,o=new as("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=PN+"#cannot-parse-style-attribute",o}}function RN(e,t,s){let n;if(!s)n={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let c=-1,u;for(;++c<o.length;){const l=Pw(o[c])?{type:"Identifier",name:o[c]}:{type:"Literal",value:o[c]};u=u?{type:"MemberExpression",object:u,property:l,computed:!!(c&&l.type==="Literal"),optional:!1}:l}n=u}else n=Pw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const o=n.value;return Mx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(n);vc(e)}function vc(e,t){const s=new as("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=PN+"#cannot-handle-mdx-estrees-without-createevaluater",s}function b7(e){const t={};let s;for(s in e)Mx.call(e,s)&&(t[w7(s)]=e[s]);return t}function w7(e){let t=e.replace(n7,_7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _7(e){return"-"+e.toLowerCase()}const Wm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},C7={};function S7(e,t){const s=C7,n=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,o=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return MN(e,n,o)}function MN(e,t,s){if(k7(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Bw(e.children,t,s)}return Array.isArray(e)?Bw(e,t,s):""}function Bw(e,t,s){const n=[];let o=-1;for(;++o<e.length;)n[o]=MN(e[o],t,s);return n.join("")}function k7(e){return!!(e&&typeof e=="object")}const $w=document.createElement("i");function Lx(e){const t="&"+e+";";$w.innerHTML=t;const s=$w.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===t?!1:s}function Wn(e,t,s,n){const o=e.length;let c=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,s=s>0?s:0,n.length<1e4)u=Array.from(n),u.unshift(t,s),e.splice(...u);else for(s&&e.splice(t,s);c<n.length;)u=n.slice(c,c+1e4),u.unshift(t,0),e.splice(...u),c+=1e4,t+=1e4}function en(e,t){return e.length>0?(Wn(e,e.length,0,t),e):t}const zw={}.hasOwnProperty;function j7(e){const t={};let s=-1;for(;++s<e.length;)N7(t,e[s]);return t}function N7(e,t){let s;for(s in t){const o=(zw.call(e,s)?e[s]:void 0)||(e[s]={}),c=t[s];let u;if(c)for(u in c){zw.call(o,u)||(o[u]=[]);const l=c[u];E7(o[u],Array.isArray(l)?l:l?[l]:[])}}}function E7(e,t){let s=-1;const n=[];for(;++s<t.length;)(t[s].add==="after"?e:n).push(t[s]);Wn(e,0,0,n)}function DN(e,t){const s=Number.parseInt(e,t);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function Ia(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dn=Yi(/[A-Za-z]/),Fs=Yi(/[\dA-Za-z]/),P7=Yi(/[#-'*+\--9=?A-Z^-~]/);function Hp(e){return e!==null&&(e<32||e===127)}const Wp=Yi(/\d/),A7=Yi(/[\dA-Fa-f]/),T7=Yi(/[!-/:-@[-`{-~]/);function lt(e){return e!==null&&e<-2}function ks(e){return e!==null&&(e<0||e===32)}function It(e){return e===-2||e===-1||e===32}const R7=Yi(new RegExp("\\p{P}|\\p{S}","u")),M7=Yi(/\s/);function Yi(e){return t;function t(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function rl(e){const t=[];let s=-1,n=0,o=0;for(;++s<e.length;){const c=e.charCodeAt(s);let u="";if(c===37&&Fs(e.charCodeAt(s+1))&&Fs(e.charCodeAt(s+2)))o=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(u=String.fromCharCode(c));else if(c>55295&&c<57344){const l=e.charCodeAt(s+1);c<56320&&l>56319&&l<57344?(u=String.fromCharCode(c,l),o=1):u=""}else u=String.fromCharCode(c);u&&(t.push(e.slice(n,s),encodeURIComponent(u)),n=s+o+1,u=""),o&&(s+=o,o=0)}return t.join("")+e.slice(n)}function Xt(e,t,s,n){const o=n?n-1:Number.POSITIVE_INFINITY;let c=0;return u;function u(d){return It(d)?(e.enter(s),l(d)):t(d)}function l(d){return It(d)&&c++<o?(e.consume(d),l):(e.exit(s),t(d))}}const D7={tokenize:I7};function I7(e){const t=e.attempt(this.parser.constructs.contentInitial,n,o);let s;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Xt(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),c(l)}function c(l){const d=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=d),s=d,u(l)}function u(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return lt(l)?(e.consume(l),e.exit("chunkText"),c):(e.consume(l),u)}}const L7={tokenize:O7},Hw={tokenize:F7};function O7(e){const t=this,s=[];let n=0,o,c,u;return l;function l(b){if(n<s.length){const k=s[n];return t.containerState=k[1],e.attempt(k[0].continuation,d,f)(b)}return f(b)}function d(b){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&g();const k=t.events.length;let E=k,P;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){P=t.events[E][1].end;break}y(n);let T=k;for(;T<t.events.length;)t.events[T][1].end={...P},T++;return Wn(t.events,E+1,0,t.events.slice(k)),t.events.length=T,f(b)}return l(b)}function f(b){if(n===s.length){if(!o)return x(b);if(o.currentConstruct&&o.currentConstruct.concrete)return j(b);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Hw,m,h)(b)}function m(b){return o&&g(),y(n),x(b)}function h(b){return t.parser.lazy[t.now().line]=n!==s.length,u=t.now().offset,j(b)}function x(b){return t.containerState={},e.attempt(Hw,w,j)(b)}function w(b){return n++,s.push([t.currentConstruct,t.containerState]),x(b)}function j(b){if(b===null){o&&g(),y(0),e.consume(b);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:c}),C(b)}function C(b){if(b===null){v(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return lt(b)?(e.consume(b),v(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(b),C)}function v(b,k){const E=t.sliceStream(b);if(k&&E.push(null),b.previous=c,c&&(c.next=b),c=b,o.defineSkip(b.start),o.write(E),t.parser.lazy[b.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<u&&(!o.events[P][1].end||o.events[P][1].end.offset>u))return;const T=t.events.length;let N=T,M,I;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(M){I=t.events[N][1].end;break}M=!0}for(y(n),P=T;P<t.events.length;)t.events[P][1].end={...I},P++;Wn(t.events,N+1,0,t.events.slice(T)),t.events.length=P}}function y(b){let k=s.length;for(;k-- >b;){const E=s[k];t.containerState=E[1],E[0].exit.call(t,e)}s.length=b}function g(){o.write([null]),c=void 0,o=void 0,t.containerState._closeFlow=void 0}}function F7(e,t,s){return Xt(e,e.attempt(this.parser.constructs.document,t,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ww(e){if(e===null||ks(e)||M7(e))return 1;if(R7(e))return 2}function Ox(e,t,s){const n=[];let o=-1;for(;++o<e.length;){const c=e[o].resolveAll;c&&!n.includes(c)&&(t=c(t,s),n.push(c))}return t}const Vp={name:"attention",resolveAll:B7,tokenize:$7};function B7(e,t){let s=-1,n,o,c,u,l,d,f,m;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(n=s;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[n][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;d=e[n][1].end.offset-e[n][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const h={...e[n][1].end},x={...e[s][1].start};Vw(h,-d),Vw(x,d),u={type:d>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},l={type:d>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:x},c={type:d>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[s][1].start}},o={type:d>1?"strong":"emphasis",start:{...u.start},end:{...l.end}},e[n][1].end={...u.start},e[s][1].start={...l.end},f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=en(f,[["enter",e[n][1],t],["exit",e[n][1],t]])),f=en(f,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",c,t]]),f=en(f,Ox(t.parser.constructs.insideSpan.null,e.slice(n+1,s),t)),f=en(f,[["exit",c,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[s][1].end.offset-e[s][1].start.offset?(m=2,f=en(f,[["enter",e[s][1],t],["exit",e[s][1],t]])):m=0,Wn(e,n-1,s-n+3,f),s=n+f.length-m-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function $7(e,t){const s=this.parser.constructs.attentionMarkers.null,n=this.previous,o=Ww(n);let c;return u;function u(d){return c=d,e.enter("attentionSequence"),l(d)}function l(d){if(d===c)return e.consume(d),l;const f=e.exit("attentionSequence"),m=Ww(d),h=!m||m===2&&o||s.includes(d),x=!o||o===2&&m||s.includes(n);return f._open=!!(c===42?h:h&&(o||!x)),f._close=!!(c===42?x:x&&(m||!h)),t(d)}}function Vw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const z7={name:"autolink",tokenize:H7};function H7(e,t,s){let n=0;return o;function o(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),c}function c(w){return Dn(w)?(e.consume(w),u):w===64?s(w):f(w)}function u(w){return w===43||w===45||w===46||Fs(w)?(n=1,l(w)):f(w)}function l(w){return w===58?(e.consume(w),n=0,d):(w===43||w===45||w===46||Fs(w))&&n++<32?(e.consume(w),l):(n=0,f(w))}function d(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||Hp(w)?s(w):(e.consume(w),d)}function f(w){return w===64?(e.consume(w),m):P7(w)?(e.consume(w),f):s(w)}function m(w){return Fs(w)?h(w):s(w)}function h(w){return w===46?(e.consume(w),n=0,m):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):x(w)}function x(w){if((w===45||Fs(w))&&n++<63){const j=w===45?x:h;return e.consume(w),j}return s(w)}}const kh={partial:!0,tokenize:W7};function W7(e,t,s){return n;function n(c){return It(c)?Xt(e,o,"linePrefix")(c):o(c)}function o(c){return c===null||lt(c)?t(c):s(c)}}const IN={continuation:{tokenize:U7},exit:G7,name:"blockQuote",tokenize:V7};function V7(e,t,s){const n=this;return o;function o(u){if(u===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),c}return s(u)}function c(u){return It(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function U7(e,t,s){const n=this;return o;function o(u){return It(u)?Xt(e,c,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):c(u)}function c(u){return e.attempt(IN,t,s)(u)}}function G7(e){e.exit("blockQuote")}const LN={name:"characterEscape",tokenize:K7};function K7(e,t,s){return n;function n(c){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(c),e.exit("escapeMarker"),o}function o(c){return T7(c)?(e.enter("characterEscapeValue"),e.consume(c),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):s(c)}}const ON={name:"characterReference",tokenize:q7};function q7(e,t,s){const n=this;let o=0,c,u;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),d}function d(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),c=31,u=Fs,m(h))}function f(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),c=6,u=A7,m):(e.enter("characterReferenceValue"),c=7,u=Wp,m(h))}function m(h){if(h===59&&o){const x=e.exit("characterReferenceValue");return u===Fs&&!Lx(n.sliceSerialize(x))?s(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(h)&&o++<c?(e.consume(h),m):s(h)}}const Uw={partial:!0,tokenize:X7},Gw={concrete:!0,name:"codeFenced",tokenize:Y7};function Y7(e,t,s){const n=this,o={partial:!0,tokenize:E};let c=0,u=0,l;return d;function d(P){return f(P)}function f(P){const T=n.events[n.events.length-1];return c=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===l?(u++,e.consume(P),m):u<3?s(P):(e.exit("codeFencedFenceSequence"),It(P)?Xt(e,h,"whitespace")(P):h(P))}function h(P){return P===null||lt(P)?(e.exit("codeFencedFence"),n.interrupt?t(P):e.check(Uw,C,k)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(P))}function x(P){return P===null||lt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(P)):It(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xt(e,w,"whitespace")(P)):P===96&&P===l?s(P):(e.consume(P),x)}function w(P){return P===null||lt(P)?h(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),j(P))}function j(P){return P===null||lt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(P)):P===96&&P===l?s(P):(e.consume(P),j)}function C(P){return e.attempt(o,k,v)(P)}function v(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),y}function y(P){return c>0&&It(P)?Xt(e,g,"linePrefix",c+1)(P):g(P)}function g(P){return P===null||lt(P)?e.check(Uw,C,k)(P):(e.enter("codeFlowValue"),b(P))}function b(P){return P===null||lt(P)?(e.exit("codeFlowValue"),g(P)):(e.consume(P),b)}function k(P){return e.exit("codeFenced"),t(P)}function E(P,T,N){let M=0;return I;function I(z){return P.enter("lineEnding"),P.consume(z),P.exit("lineEnding"),L}function L(z){return P.enter("codeFencedFence"),It(z)?Xt(P,B,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):B(z)}function B(z){return z===l?(P.enter("codeFencedFenceSequence"),H(z)):N(z)}function H(z){return z===l?(M++,P.consume(z),H):M>=u?(P.exit("codeFencedFenceSequence"),It(z)?Xt(P,q,"whitespace")(z):q(z)):N(z)}function q(z){return z===null||lt(z)?(P.exit("codeFencedFence"),T(z)):N(z)}}}function X7(e,t,s){const n=this;return o;function o(u){return u===null?s(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c)}function c(u){return n.parser.lazy[n.now().line]?s(u):t(u)}}const Vm={name:"codeIndented",tokenize:Q7},J7={partial:!0,tokenize:Z7};function Q7(e,t,s){const n=this;return o;function o(f){return e.enter("codeIndented"),Xt(e,c,"linePrefix",5)(f)}function c(f){const m=n.events[n.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(f):s(f)}function u(f){return f===null?d(f):lt(f)?e.attempt(J7,u,d)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||lt(f)?(e.exit("codeFlowValue"),u(f)):(e.consume(f),l)}function d(f){return e.exit("codeIndented"),t(f)}}function Z7(e,t,s){const n=this;return o;function o(u){return n.parser.lazy[n.now().line]?s(u):lt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):Xt(e,c,"linePrefix",5)(u)}function c(u){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(u):lt(u)?o(u):s(u)}}const e9={name:"codeText",previous:r9,resolve:t9,tokenize:s9};function t9(e){let t=e.length-4,s=3,n,o;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=s;++n<t;)if(e[n][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[t][1].type="codeTextPadding",s+=2,t-=2;break}}for(n=s-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="codeTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function r9(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s9(e,t,s){let n=0,o,c;return u;function u(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),n++,l):(e.exit("codeTextSequence"),d(h))}function d(h){return h===null?s(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),d):h===96?(c=e.enter("codeTextSequence"),o=0,m(h)):lt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||lt(h)?(e.exit("codeTextData"),d(h)):(e.consume(h),f)}function m(h){return h===96?(e.consume(h),o++,m):o===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(c.type="codeTextData",f(h))}}class n9{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,s){const n=s??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,s,n){const o=s||0;this.setCursor(Math.trunc(t));const c=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return n&&Hl(this.left,n),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const s=this.left.splice(t,Number.POSITIVE_INFINITY);Hl(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hl(this.left,s.reverse())}}}function Hl(e,t){let s=0;if(t.length<1e4)e.push(...t);else for(;s<t.length;)e.push(...t.slice(s,s+1e4)),s+=1e4}function FN(e){const t={};let s=-1,n,o,c,u,l,d,f;const m=new n9(e);for(;++s<m.length;){for(;s in t;)s=t[s];if(n=m.get(s),s&&n[1].type==="chunkFlow"&&m.get(s-1)[1].type==="listItemPrefix"&&(d=n[1]._tokenizer.events,c=0,c<d.length&&d[c][1].type==="lineEndingBlank"&&(c+=2),c<d.length&&d[c][1].type==="content"))for(;++c<d.length&&d[c][1].type!=="content";)d[c][1].type==="chunkText"&&(d[c][1]._isInFirstContentOfListItem=!0,c++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,i9(m,s)),s=t[s],f=!0);else if(n[1]._container){for(c=s,o=void 0;c--;)if(u=m.get(c),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=c);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(n[1].end={...m.get(o)[1].start},l=m.slice(o,s),l.unshift(n),m.splice(o,s-o+1,l))}}return Wn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function i9(e,t){const s=e.get(t)[1],n=e.get(t)[2];let o=t-1;const c=[];let u=s._tokenizer;u||(u=n.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const l=u.events,d=[],f={};let m,h,x=-1,w=s,j=0,C=0;const v=[C];for(;w;){for(;e.get(++o)[1]!==w;);c.push(o),w._tokenizer||(m=n.sliceStream(w),w.next||m.push(null),h&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),h=w,w=w.next}for(w=s;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(C=x+1,v.push(C),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):v.pop(),x=v.length;x--;){const y=l.slice(v[x],v[x+1]),g=c.pop();d.push([g,g+y.length-1]),e.splice(g,2,y)}for(d.reverse(),x=-1;++x<d.length;)f[j+d[x][0]]=j+d[x][1],j+=d[x][1]-d[x][0]-1;return f}const o9={resolve:l9,tokenize:c9},a9={partial:!0,tokenize:d9};function l9(e){return FN(e),e}function c9(e,t){let s;return n;function n(l){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?c(l):lt(l)?e.check(a9,u,c)(l):(e.consume(l),o)}function c(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function u(l){return e.consume(l),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,o}}function d9(e,t,s){const n=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Xt(e,c,"linePrefix")}function c(u){if(u===null||lt(u))return s(u);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(u):e.interrupt(n.parser.constructs.flow,s,t)(u)}}function BN(e,t,s,n,o,c,u,l,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return h;function h(y){return y===60?(e.enter(n),e.enter(o),e.enter(c),e.consume(y),e.exit(c),x):y===null||y===32||y===41||Hp(y)?s(y):(e.enter(n),e.enter(u),e.enter(l),e.enter("chunkString",{contentType:"string"}),C(y))}function x(y){return y===62?(e.enter(c),e.consume(y),e.exit(c),e.exit(o),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),w(y))}function w(y){return y===62?(e.exit("chunkString"),e.exit(l),x(y)):y===null||y===60||lt(y)?s(y):(e.consume(y),y===92?j:w)}function j(y){return y===60||y===62||y===92?(e.consume(y),w):w(y)}function C(y){return!m&&(y===null||y===41||ks(y))?(e.exit("chunkString"),e.exit(l),e.exit(u),e.exit(n),t(y)):m<f&&y===40?(e.consume(y),m++,C):y===41?(e.consume(y),m--,C):y===null||y===32||y===40||Hp(y)?s(y):(e.consume(y),y===92?v:C)}function v(y){return y===40||y===41||y===92?(e.consume(y),C):C(y)}}function $N(e,t,s,n,o,c){const u=this;let l=0,d;return f;function f(w){return e.enter(n),e.enter(o),e.consume(w),e.exit(o),e.enter(c),m}function m(w){return l>999||w===null||w===91||w===93&&!d||w===94&&!l&&"_hiddenFootnoteSupport"in u.parser.constructs?s(w):w===93?(e.exit(c),e.enter(o),e.consume(w),e.exit(o),e.exit(n),t):lt(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||w===91||w===93||lt(w)||l++>999?(e.exit("chunkString"),m(w)):(e.consume(w),d||(d=!It(w)),w===92?x:h)}function x(w){return w===91||w===92||w===93?(e.consume(w),l++,h):h(w)}}function zN(e,t,s,n,o,c){let u;return l;function l(x){return x===34||x===39||x===40?(e.enter(n),e.enter(o),e.consume(x),e.exit(o),u=x===40?41:x,d):s(x)}function d(x){return x===u?(e.enter(o),e.consume(x),e.exit(o),e.exit(n),t):(e.enter(c),f(x))}function f(x){return x===u?(e.exit(c),d(u)):x===null?s(x):lt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Xt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===u||x===null||lt(x)?(e.exit("chunkString"),f(x)):(e.consume(x),x===92?h:m)}function h(x){return x===u||x===92?(e.consume(x),m):m(x)}}function rc(e,t){let s;return n;function n(o){return lt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s=!0,n):It(o)?Xt(e,n,s?"linePrefix":"lineSuffix")(o):t(o)}}const u9={name:"definition",tokenize:f9},h9={partial:!0,tokenize:m9};function f9(e,t,s){const n=this;let o;return c;function c(w){return e.enter("definition"),u(w)}function u(w){return $N.call(n,e,l,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function l(w){return o=Ia(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),d):s(w)}function d(w){return ks(w)?rc(e,f)(w):f(w)}function f(w){return BN(e,m,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function m(w){return e.attempt(h9,h,h)(w)}function h(w){return It(w)?Xt(e,x,"whitespace")(w):x(w)}function x(w){return w===null||lt(w)?(e.exit("definition"),n.parser.defined.push(o),t(w)):s(w)}}function m9(e,t,s){return n;function n(l){return ks(l)?rc(e,o)(l):s(l)}function o(l){return zN(e,c,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function c(l){return It(l)?Xt(e,u,"whitespace")(l):u(l)}function u(l){return l===null||lt(l)?t(l):s(l)}}const p9={name:"hardBreakEscape",tokenize:g9};function g9(e,t,s){return n;function n(c){return e.enter("hardBreakEscape"),e.consume(c),o}function o(c){return lt(c)?(e.exit("hardBreakEscape"),t(c)):s(c)}}const x9={name:"headingAtx",resolve:v9,tokenize:y9};function v9(e,t){let s=e.length-2,n=3,o,c;return e[n][1].type==="whitespace"&&(n+=2),s-2>n&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(n===s-1||s-4>n&&e[s-2][1].type==="whitespace")&&(s-=n+1===s?2:4),s>n&&(o={type:"atxHeadingText",start:e[n][1].start,end:e[s][1].end},c={type:"chunkText",start:e[n][1].start,end:e[s][1].end,contentType:"text"},Wn(e,n,s-n+1,[["enter",o,t],["enter",c,t],["exit",c,t],["exit",o,t]])),e}function y9(e,t,s){let n=0;return o;function o(m){return e.enter("atxHeading"),c(m)}function c(m){return e.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&n++<6?(e.consume(m),u):m===null||ks(m)?(e.exit("atxHeadingSequence"),l(m)):s(m)}function l(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||lt(m)?(e.exit("atxHeading"),t(m)):It(m)?Xt(e,l,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),l(m))}function f(m){return m===null||m===35||ks(m)?(e.exit("atxHeadingText"),l(m)):(e.consume(m),f)}}const b9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kw=["pre","script","style","textarea"],w9={concrete:!0,name:"htmlFlow",resolveTo:S9,tokenize:k9},_9={partial:!0,tokenize:N9},C9={partial:!0,tokenize:j9};function S9(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function k9(e,t,s){const n=this;let o,c,u,l,d;return f;function f($){return m($)}function m($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),h}function h($){return $===33?(e.consume($),x):$===47?(e.consume($),c=!0,C):$===63?(e.consume($),o=3,n.interrupt?t:R):Dn($)?(e.consume($),u=String.fromCharCode($),v):s($)}function x($){return $===45?(e.consume($),o=2,w):$===91?(e.consume($),o=5,l=0,j):Dn($)?(e.consume($),o=4,n.interrupt?t:R):s($)}function w($){return $===45?(e.consume($),n.interrupt?t:R):s($)}function j($){const se="CDATA[";return $===se.charCodeAt(l++)?(e.consume($),l===se.length?n.interrupt?t:B:j):s($)}function C($){return Dn($)?(e.consume($),u=String.fromCharCode($),v):s($)}function v($){if($===null||$===47||$===62||ks($)){const se=$===47,de=u.toLowerCase();return!se&&!c&&Kw.includes(de)?(o=1,n.interrupt?t($):B($)):b9.includes(u.toLowerCase())?(o=6,se?(e.consume($),y):n.interrupt?t($):B($)):(o=7,n.interrupt&&!n.parser.lazy[n.now().line]?s($):c?g($):b($))}return $===45||Fs($)?(e.consume($),u+=String.fromCharCode($),v):s($)}function y($){return $===62?(e.consume($),n.interrupt?t:B):s($)}function g($){return It($)?(e.consume($),g):I($)}function b($){return $===47?(e.consume($),I):$===58||$===95||Dn($)?(e.consume($),k):It($)?(e.consume($),b):I($)}function k($){return $===45||$===46||$===58||$===95||Fs($)?(e.consume($),k):E($)}function E($){return $===61?(e.consume($),P):It($)?(e.consume($),E):b($)}function P($){return $===null||$===60||$===61||$===62||$===96?s($):$===34||$===39?(e.consume($),d=$,T):It($)?(e.consume($),P):N($)}function T($){return $===d?(e.consume($),d=null,M):$===null||lt($)?s($):(e.consume($),T)}function N($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||ks($)?E($):(e.consume($),N)}function M($){return $===47||$===62||It($)?b($):s($)}function I($){return $===62?(e.consume($),L):s($)}function L($){return $===null||lt($)?B($):It($)?(e.consume($),L):s($)}function B($){return $===45&&o===2?(e.consume($),G):$===60&&o===1?(e.consume($),J):$===62&&o===4?(e.consume($),O):$===63&&o===3?(e.consume($),R):$===93&&o===5?(e.consume($),F):lt($)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(_9,V,H)($)):$===null||lt($)?(e.exit("htmlFlowData"),H($)):(e.consume($),B)}function H($){return e.check(C9,q,V)($)}function q($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),z}function z($){return $===null||lt($)?H($):(e.enter("htmlFlowData"),B($))}function G($){return $===45?(e.consume($),R):B($)}function J($){return $===47?(e.consume($),u="",K):B($)}function K($){if($===62){const se=u.toLowerCase();return Kw.includes(se)?(e.consume($),O):B($)}return Dn($)&&u.length<8?(e.consume($),u+=String.fromCharCode($),K):B($)}function F($){return $===93?(e.consume($),R):B($)}function R($){return $===62?(e.consume($),O):$===45&&o===2?(e.consume($),R):B($)}function O($){return $===null||lt($)?(e.exit("htmlFlowData"),V($)):(e.consume($),O)}function V($){return e.exit("htmlFlow"),t($)}}function j9(e,t,s){const n=this;return o;function o(u){return lt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):s(u)}function c(u){return n.parser.lazy[n.now().line]?s(u):t(u)}}function N9(e,t,s){return n;function n(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(kh,t,s)}}const E9={name:"htmlText",tokenize:P9};function P9(e,t,s){const n=this;let o,c,u;return l;function l(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),d}function d(R){return R===33?(e.consume(R),f):R===47?(e.consume(R),E):R===63?(e.consume(R),b):Dn(R)?(e.consume(R),N):s(R)}function f(R){return R===45?(e.consume(R),m):R===91?(e.consume(R),c=0,j):Dn(R)?(e.consume(R),g):s(R)}function m(R){return R===45?(e.consume(R),w):s(R)}function h(R){return R===null?s(R):R===45?(e.consume(R),x):lt(R)?(u=h,J(R)):(e.consume(R),h)}function x(R){return R===45?(e.consume(R),w):h(R)}function w(R){return R===62?G(R):R===45?x(R):h(R)}function j(R){const O="CDATA[";return R===O.charCodeAt(c++)?(e.consume(R),c===O.length?C:j):s(R)}function C(R){return R===null?s(R):R===93?(e.consume(R),v):lt(R)?(u=C,J(R)):(e.consume(R),C)}function v(R){return R===93?(e.consume(R),y):C(R)}function y(R){return R===62?G(R):R===93?(e.consume(R),y):C(R)}function g(R){return R===null||R===62?G(R):lt(R)?(u=g,J(R)):(e.consume(R),g)}function b(R){return R===null?s(R):R===63?(e.consume(R),k):lt(R)?(u=b,J(R)):(e.consume(R),b)}function k(R){return R===62?G(R):b(R)}function E(R){return Dn(R)?(e.consume(R),P):s(R)}function P(R){return R===45||Fs(R)?(e.consume(R),P):T(R)}function T(R){return lt(R)?(u=T,J(R)):It(R)?(e.consume(R),T):G(R)}function N(R){return R===45||Fs(R)?(e.consume(R),N):R===47||R===62||ks(R)?M(R):s(R)}function M(R){return R===47?(e.consume(R),G):R===58||R===95||Dn(R)?(e.consume(R),I):lt(R)?(u=M,J(R)):It(R)?(e.consume(R),M):G(R)}function I(R){return R===45||R===46||R===58||R===95||Fs(R)?(e.consume(R),I):L(R)}function L(R){return R===61?(e.consume(R),B):lt(R)?(u=L,J(R)):It(R)?(e.consume(R),L):M(R)}function B(R){return R===null||R===60||R===61||R===62||R===96?s(R):R===34||R===39?(e.consume(R),o=R,H):lt(R)?(u=B,J(R)):It(R)?(e.consume(R),B):(e.consume(R),q)}function H(R){return R===o?(e.consume(R),o=void 0,z):R===null?s(R):lt(R)?(u=H,J(R)):(e.consume(R),H)}function q(R){return R===null||R===34||R===39||R===60||R===61||R===96?s(R):R===47||R===62||ks(R)?M(R):(e.consume(R),q)}function z(R){return R===47||R===62||ks(R)?M(R):s(R)}function G(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):s(R)}function J(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),K}function K(R){return It(R)?Xt(e,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):F(R)}function F(R){return e.enter("htmlTextData"),u(R)}}const Fx={name:"labelEnd",resolveAll:M9,resolveTo:D9,tokenize:I9},A9={tokenize:L9},T9={tokenize:O9},R9={tokenize:F9};function M9(e){let t=-1;const s=[];for(;++t<e.length;){const n=e[t][1];if(s.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const o=n.type==="labelImage"?4:2;n.type="data",t+=o}}return e.length!==s.length&&Wn(e,0,e.length,s),e}function D9(e,t){let s=e.length,n=0,o,c,u,l;for(;s--;)if(o=e[s][1],c){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[s][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[s][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(c=s,o.type!=="labelLink")){n=2;break}}else o.type==="labelEnd"&&(u=s);const d={type:e[c][1].type==="labelLink"?"link":"image",start:{...e[c][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[c][1].start},end:{...e[u][1].end}},m={type:"labelText",start:{...e[c+n+2][1].end},end:{...e[u-2][1].start}};return l=[["enter",d,t],["enter",f,t]],l=en(l,e.slice(c+1,c+n+3)),l=en(l,[["enter",m,t]]),l=en(l,Ox(t.parser.constructs.insideSpan.null,e.slice(c+n+4,u-3),t)),l=en(l,[["exit",m,t],e[u-2],e[u-1],["exit",f,t]]),l=en(l,e.slice(u+1)),l=en(l,[["exit",d,t]]),Wn(e,c,e.length,l),e}function I9(e,t,s){const n=this;let o=n.events.length,c,u;for(;o--;)if((n.events[o][1].type==="labelImage"||n.events[o][1].type==="labelLink")&&!n.events[o][1]._balanced){c=n.events[o][1];break}return l;function l(x){return c?c._inactive?h(x):(u=n.parser.defined.includes(Ia(n.sliceSerialize({start:c.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),d):s(x)}function d(x){return x===40?e.attempt(A9,m,u?m:h)(x):x===91?e.attempt(T9,m,u?f:h)(x):u?m(x):h(x)}function f(x){return e.attempt(R9,m,h)(x)}function m(x){return t(x)}function h(x){return c._balanced=!0,s(x)}}function L9(e,t,s){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),o}function o(h){return ks(h)?rc(e,c)(h):c(h)}function c(h){return h===41?m(h):BN(e,u,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function u(h){return ks(h)?rc(e,d)(h):m(h)}function l(h){return s(h)}function d(h){return h===34||h===39||h===40?zN(e,f,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):m(h)}function f(h){return ks(h)?rc(e,m)(h):m(h)}function m(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):s(h)}}function O9(e,t,s){const n=this;return o;function o(l){return $N.call(n,e,c,u,"reference","referenceMarker","referenceString")(l)}function c(l){return n.parser.defined.includes(Ia(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):s(l)}function u(l){return s(l)}}function F9(e,t,s){return n;function n(c){return e.enter("reference"),e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),o}function o(c){return c===93?(e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),e.exit("reference"),t):s(c)}}const B9={name:"labelStartImage",resolveAll:Fx.resolveAll,tokenize:$9};function $9(e,t,s){const n=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),c}function c(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),u):s(l)}function u(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?s(l):t(l)}}const z9={name:"labelStartLink",resolveAll:Fx.resolveAll,tokenize:H9};function H9(e,t,s){const n=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),c}function c(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?s(u):t(u)}}const Um={name:"lineEnding",tokenize:W9};function W9(e,t){return s;function s(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Xt(e,t,"linePrefix")}}const gu={name:"thematicBreak",tokenize:V9};function V9(e,t,s){let n=0,o;return c;function c(f){return e.enter("thematicBreak"),u(f)}function u(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):n>=3&&(f===null||lt(f))?(e.exit("thematicBreak"),t(f)):s(f)}function d(f){return f===o?(e.consume(f),n++,d):(e.exit("thematicBreakSequence"),It(f)?Xt(e,l,"whitespace")(f):l(f))}}const Cs={continuation:{tokenize:q9},exit:X9,name:"list",tokenize:K9},U9={partial:!0,tokenize:J9},G9={partial:!0,tokenize:Y9};function K9(e,t,s){const n=this,o=n.events[n.events.length-1];let c=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return l;function l(w){const j=n.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!n.containerState.marker||w===n.containerState.marker:Wp(w)){if(n.containerState.type||(n.containerState.type=j,e.enter(j,{_container:!0})),j==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(gu,s,f)(w):f(w);if(!n.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(w)}return s(w)}function d(w){return Wp(w)&&++u<10?(e.consume(w),d):(!n.interrupt||u<2)&&(n.containerState.marker?w===n.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),f(w)):s(w)}function f(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||w,e.check(kh,n.interrupt?s:m,e.attempt(U9,x,h))}function m(w){return n.containerState.initialBlankLine=!0,c++,x(w)}function h(w){return It(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),x):s(w)}function x(w){return n.containerState.size=c+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function q9(e,t,s){const n=this;return n.containerState._closeFlow=void 0,e.check(kh,o,c);function o(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Xt(e,t,"listItemIndent",n.containerState.size+1)(l)}function c(l){return n.containerState.furtherBlankLines||!It(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,u(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(G9,t,u)(l))}function u(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,Xt(e,e.attempt(Cs,t,s),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Y9(e,t,s){const n=this;return Xt(e,o,"listItemIndent",n.containerState.size+1);function o(c){const u=n.events[n.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===n.containerState.size?t(c):s(c)}}function X9(e){e.exit(this.containerState.type)}function J9(e,t,s){const n=this;return Xt(e,o,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(c){const u=n.events[n.events.length-1];return!It(c)&&u&&u[1].type==="listItemPrefixWhitespace"?t(c):s(c)}}const qw={name:"setextUnderline",resolveTo:Q9,tokenize:Z9};function Q9(e,t){let s=e.length,n,o,c;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){n=s;break}e[s][1].type==="paragraph"&&(o=s)}else e[s][1].type==="content"&&e.splice(s,1),!c&&e[s][1].type==="definition"&&(c=s);const u={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",c?(e.splice(o,0,["enter",u,t]),e.splice(c+1,0,["exit",e[n][1],t]),e[n][1].end={...e[c][1].end}):e[n][1]=u,e.push(["exit",u,t]),e}function Z9(e,t,s){const n=this;let o;return c;function c(f){let m=n.events.length,h;for(;m--;)if(n.events[m][1].type!=="lineEnding"&&n.events[m][1].type!=="linePrefix"&&n.events[m][1].type!=="content"){h=n.events[m][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),o=f,u(f)):s(f)}function u(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),It(f)?Xt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||lt(f)?(e.exit("setextHeadingLine"),t(f)):s(f)}}const e$={tokenize:t$};function t$(e){const t=this,s=e.attempt(kh,n,e.attempt(this.parser.constructs.flowInitial,o,Xt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(o9,o)),"linePrefix")));return s;function n(c){if(c===null){e.consume(c);return}return e.enter("lineEndingBlank"),e.consume(c),e.exit("lineEndingBlank"),t.currentConstruct=void 0,s}function o(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),t.currentConstruct=void 0,s}}const r$={resolveAll:WN()},s$=HN("string"),n$=HN("text");function HN(e){return{resolveAll:WN(e==="text"?i$:void 0),tokenize:t};function t(s){const n=this,o=this.parser.constructs[e],c=s.attempt(o,u,l);return u;function u(m){return f(m)?c(m):l(m)}function l(m){if(m===null){s.consume(m);return}return s.enter("data"),s.consume(m),d}function d(m){return f(m)?(s.exit("data"),c(m)):(s.consume(m),d)}function f(m){if(m===null)return!0;const h=o[m];let x=-1;if(h)for(;++x<h.length;){const w=h[x];if(!w.previous||w.previous.call(n,n.previous))return!0}return!1}}}function WN(e){return t;function t(s,n){let o=-1,c;for(;++o<=s.length;)c===void 0?s[o]&&s[o][1].type==="data"&&(c=o,o++):(!s[o]||s[o][1].type!=="data")&&(o!==c+2&&(s[c][1].end=s[o-1][1].end,s.splice(c+2,o-c-2),o=c+2),c=void 0);return e?e(s,n):s}}function i$(e,t){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const n=e[s-1][1],o=t.sliceStream(n);let c=o.length,u=-1,l=0,d;for(;c--;){const f=o[c];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)l++,u--;if(u)break;u=-1}else if(f===-2)d=!0,l++;else if(f!==-1){c++;break}}if(t._contentTypeTextTrailing&&s===e.length&&(l=0),l){const f={type:s===e.length||d||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?u:n.start._bufferIndex+u,_index:n.start._index+c,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(e.splice(s,0,["enter",f,t],["exit",f,t]),s+=2)}s++}return e}const o$={42:Cs,43:Cs,45:Cs,48:Cs,49:Cs,50:Cs,51:Cs,52:Cs,53:Cs,54:Cs,55:Cs,56:Cs,57:Cs,62:IN},a$={91:u9},l$={[-2]:Vm,[-1]:Vm,32:Vm},c$={35:x9,42:gu,45:[qw,gu],60:w9,61:qw,95:gu,96:Gw,126:Gw},d$={38:ON,92:LN},u$={[-5]:Um,[-4]:Um,[-3]:Um,33:B9,38:ON,42:Vp,60:[z7,E9],91:z9,92:[p9,LN],93:Fx,95:Vp,96:e9},h$={null:[Vp,r$]},f$={null:[42,95]},m$={null:[]},p$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:f$,contentInitial:a$,disable:m$,document:o$,flow:c$,flowInitial:l$,insideSpan:h$,string:d$,text:u$},Symbol.toStringTag,{value:"Module"}));function g$(e,t,s){let n={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const o={},c=[];let u=[],l=[];const d={attempt:T(E),check:T(P),consume:g,enter:b,exit:k,interrupt:T(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:j,parser:e,previous:null,sliceSerialize:x,sliceStream:w,write:h};let m=t.tokenize.call(f,d);return t.resolveAll&&c.push(t),f;function h(L){return u=en(u,L),v(),u[u.length-1]!==null?[]:(N(t,0),f.events=Ox(c,f.events,f),f.events)}function x(L,B){return v$(w(L),B)}function w(L){return x$(u,L)}function j(){const{_bufferIndex:L,_index:B,line:H,column:q,offset:z}=n;return{_bufferIndex:L,_index:B,line:H,column:q,offset:z}}function C(L){o[L.line]=L.column,I()}function v(){let L;for(;n._index<u.length;){const B=u[n._index];if(typeof B=="string")for(L=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===L&&n._bufferIndex<B.length;)y(B.charCodeAt(n._bufferIndex));else y(B)}}function y(L){m=m(L)}function g(L){lt(L)?(n.line++,n.column=1,n.offset+=L===-3?2:1,I()):L!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===u[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=L}function b(L,B){const H=B||{};return H.type=L,H.start=j(),f.events.push(["enter",H,f]),l.push(H),H}function k(L){const B=l.pop();return B.end=j(),f.events.push(["exit",B,f]),B}function E(L,B){N(L,B.from)}function P(L,B){B.restore()}function T(L,B){return H;function H(q,z,G){let J,K,F,R;return Array.isArray(q)?V(q):"tokenize"in q?V([q]):O(q);function O(pe){return X;function X(W){const ce=W!==null&&pe[W],ie=W!==null&&pe.null,Q=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return V(Q)(W)}}function V(pe){return J=pe,K=0,pe.length===0?G:$(pe[K])}function $(pe){return X;function X(W){return R=M(),F=pe,pe.partial||(f.currentConstruct=pe),pe.name&&f.parser.constructs.disable.null.includes(pe.name)?de():pe.tokenize.call(B?Object.assign(Object.create(f),B):f,d,se,de)(W)}}function se(pe){return L(F,R),z}function de(pe){return R.restore(),++K<J.length?$(J[K]):G}}}function N(L,B){L.resolveAll&&!c.includes(L)&&c.push(L),L.resolve&&Wn(f.events,B,f.events.length-B,L.resolve(f.events.slice(B),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function M(){const L=j(),B=f.previous,H=f.currentConstruct,q=f.events.length,z=Array.from(l);return{from:q,restore:G};function G(){n=L,f.previous=B,f.currentConstruct=H,f.events.length=q,l=z,I()}}function I(){n.line in o&&n.column<2&&(n.column=o[n.line],n.offset+=o[n.line]-1)}}function x$(e,t){const s=t.start._index,n=t.start._bufferIndex,o=t.end._index,c=t.end._bufferIndex;let u;if(s===o)u=[e[s].slice(n,c)];else{if(u=e.slice(s,o),n>-1){const l=u[0];typeof l=="string"?u[0]=l.slice(n):u.shift()}c>0&&u.push(e[o].slice(0,c))}return u}function v$(e,t){let s=-1;const n=[];let o;for(;++s<e.length;){const c=e[s];let u;if(typeof c=="string")u=c;else switch(c){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(c)}o=c===-2,n.push(u)}return n.join("")}function y$(e){const n={constructs:j7([p$,...(e||{}).extensions||[]]),content:o(D7),defined:[],document:o(L7),flow:o(e$),lazy:{},string:o(s$),text:o(n$)};return n;function o(c){return u;function u(l){return g$(n,c,l)}}}function b$(e){for(;!FN(e););return e}const Yw=/[\0\t\n\r]/g;function w$(){let e=1,t="",s=!0,n;return o;function o(c,u,l){const d=[];let f,m,h,x,w;for(c=t+(typeof c=="string"?c.toString():new TextDecoder(u||void 0).decode(c)),h=0,t="",s&&(c.charCodeAt(0)===65279&&h++,s=void 0);h<c.length;){if(Yw.lastIndex=h,f=Yw.exec(c),x=f&&f.index!==void 0?f.index:c.length,w=c.charCodeAt(x),!f){t=c.slice(h);break}if(w===10&&h===x&&n)d.push(-3),n=void 0;else switch(n&&(d.push(-5),n=void 0),h<x&&(d.push(c.slice(h,x)),e+=x-h),w){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:n=!0,e=1}h=x+1}return l&&(n&&d.push(-5),t&&d.push(t),d.push(null)),d}}const _$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function C$(e){return e.replace(_$,S$)}function S$(e,t,s){if(t)return t;if(s.charCodeAt(0)===35){const o=s.charCodeAt(1),c=o===120||o===88;return DN(s.slice(c?2:1),c?16:10)}return Lx(s)||e}const VN={}.hasOwnProperty;function k$(e,t,s){return typeof t!="string"&&(s=t,t=void 0),j$(s)(b$(y$(s).document().write(w$()(e,t,!0))))}function j$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Ye),autolinkProtocol:M,autolinkEmail:M,atxHeading:c(Ke),blockQuote:c(ie),characterEscape:M,characterReference:M,codeFenced:c(Q),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:c(Q,u),codeText:c(le,u),codeTextData:M,data:M,codeFlowValue:M,definition:c(we),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:c(Le),hardBreakEscape:c(fe),hardBreakTrailing:c(fe),htmlFlow:c(ye,u),htmlFlowData:M,htmlText:c(ye,u),htmlTextData:M,image:c(Je),label:u,link:c(Ye),listItem:c(ke),listItemValue:x,listOrdered:c(ot,h),listUnordered:c(ot),paragraph:c(be),reference:$,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:c(Ke),strong:c(Oe),thematicBreak:c(_e)},exit:{atxHeading:d(),atxHeadingSequence:E,autolink:d(),autolinkEmail:ce,autolinkProtocol:W,blockQuote:d(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:pe,characterReference:X,codeFenced:d(v),codeFencedFence:C,codeFencedFenceInfo:w,codeFencedFenceMeta:j,codeFlowValue:I,codeIndented:d(y),codeText:d(z),codeTextData:I,data:I,definition:d(),definitionDestinationString:k,definitionLabelString:g,definitionTitleString:b,emphasis:d(),hardBreakEscape:d(B),hardBreakTrailing:d(B),htmlFlow:d(H),htmlFlowData:I,htmlText:d(q),htmlTextData:I,image:d(J),label:F,labelText:K,lineEnding:L,link:d(G),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:se,resourceDestinationString:R,resourceTitleString:O,resource:V,setextHeading:d(N),setextHeadingLineSequence:T,setextHeadingText:P,strong:d(),thematicBreak:d()}};UN(t,(e||{}).mdastExtensions||[]);const s={};return n;function n(oe){let ve={type:"root",children:[]};const De={stack:[ve],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:m,data:s},Be=[];let ze=-1;for(;++ze<oe.length;)if(oe[ze][1].type==="listOrdered"||oe[ze][1].type==="listUnordered")if(oe[ze][0]==="enter")Be.push(ze);else{const St=Be.pop();ze=o(oe,St,ze)}for(ze=-1;++ze<oe.length;){const St=t[oe[ze][0]];VN.call(St,oe[ze][1].type)&&St[oe[ze][1].type].call(Object.assign({sliceSerialize:oe[ze][2].sliceSerialize},De),oe[ze][1])}if(De.tokenStack.length>0){const St=De.tokenStack[De.tokenStack.length-1];(St[1]||Xw).call(De,void 0,St[0])}for(ve.position={start:Oi(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Oi(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)ve=t.transforms[ze](ve)||ve;return ve}function o(oe,ve,De){let Be=ve-1,ze=-1,St=!1,dt,er,wr,zr;for(;++Be<=De;){const Ht=oe[Be];switch(Ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ht[0]==="enter"?ze++:ze--,zr=void 0;break}case"lineEndingBlank":{Ht[0]==="enter"&&(dt&&!zr&&!ze&&!wr&&(wr=Be),zr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zr=void 0}if(!ze&&Ht[0]==="enter"&&Ht[1].type==="listItemPrefix"||ze===-1&&Ht[0]==="exit"&&(Ht[1].type==="listUnordered"||Ht[1].type==="listOrdered")){if(dt){let _r=Be;for(er=void 0;_r--;){const hr=oe[_r];if(hr[1].type==="lineEnding"||hr[1].type==="lineEndingBlank"){if(hr[0]==="exit")continue;er&&(oe[er][1].type="lineEndingBlank",St=!0),hr[1].type="lineEnding",er=_r}else if(!(hr[1].type==="linePrefix"||hr[1].type==="blockQuotePrefix"||hr[1].type==="blockQuotePrefixWhitespace"||hr[1].type==="blockQuoteMarker"||hr[1].type==="listItemIndent"))break}wr&&(!er||wr<er)&&(dt._spread=!0),dt.end=Object.assign({},er?oe[er][1].start:Ht[1].end),oe.splice(er||Be,0,["exit",dt,Ht[2]]),Be++,De++}if(Ht[1].type==="listItemPrefix"){const _r={type:"listItem",_spread:!1,start:Object.assign({},Ht[1].start),end:void 0};dt=_r,oe.splice(Be,0,["enter",_r,Ht[2]]),Be++,De++,wr=void 0,zr=!0}}}return oe[ve][1]._spread=St,De}function c(oe,ve){return De;function De(Be){l.call(this,oe(Be),Be),ve&&ve.call(this,Be)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(oe,ve,De){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ve,De||void 0]),oe.position={start:Oi(ve.start),end:void 0}}function d(oe){return ve;function ve(De){oe&&oe.call(this,De),f.call(this,De)}}function f(oe,ve){const De=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==oe.type&&(ve?ve.call(this,oe,Be[0]):(Be[1]||Xw).call(this,oe,Be[0]));else throw new Error("Cannot close `"+oe.type+"` ("+tc({start:oe.start,end:oe.end})+"): its not open");De.position.end=Oi(oe.end)}function m(){return S7(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function x(oe){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function w(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=oe}function j(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=oe}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/(\r?\n|\r)$/g,"")}function g(oe){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=Ia(this.sliceSerialize(oe)).toLowerCase()}function b(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function k(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function E(oe){const ve=this.stack[this.stack.length-1];if(!ve.depth){const De=this.sliceSerialize(oe).length;ve.depth=De}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function T(oe){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function M(oe){const De=this.stack[this.stack.length-1].children;let Be=De[De.length-1];(!Be||Be.type!=="text")&&(Be=Ee(),Be.position={start:Oi(oe.start),end:void 0},De.push(Be)),this.stack.push(Be)}function I(oe){const ve=this.stack.pop();ve.value+=this.sliceSerialize(oe),ve.position.end=Oi(oe.end)}function L(oe){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=ve.children[ve.children.length-1];De.position.end=Oi(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ve.type)&&(M.call(this,oe),I.call(this,oe))}function B(){this.data.atHardBreak=!0}function H(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function q(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function z(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function G(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function J(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function K(oe){const ve=this.sliceSerialize(oe),De=this.stack[this.stack.length-2];De.label=C$(ve),De.identifier=Ia(ve).toLowerCase()}function F(){const oe=this.stack[this.stack.length-1],ve=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Be=oe.children;De.children=Be}else De.alt=ve}function R(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function O(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function V(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function se(oe){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=Ia(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function de(oe){this.data.characterReferenceType=oe.type}function pe(oe){const ve=this.sliceSerialize(oe),De=this.data.characterReferenceType;let Be;De?(Be=DN(ve,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=Lx(ve);const ze=this.stack[this.stack.length-1];ze.value+=Be}function X(oe){const ve=this.stack.pop();ve.position.end=Oi(oe.end)}function W(oe){I.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(oe)}function ce(oe){I.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(oe)}function ie(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function Ye(){return{type:"link",title:null,url:"",children:[]}}function ot(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function ke(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function be(){return{type:"paragraph",children:[]}}function Oe(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function _e(){return{type:"thematicBreak"}}}function Oi(e){return{line:e.line,column:e.column,offset:e.offset}}function UN(e,t){let s=-1;for(;++s<t.length;){const n=t[s];Array.isArray(n)?UN(e,n):N$(e,n)}}function N$(e,t){let s;for(s in t)if(VN.call(t,s))switch(s){case"canContainEols":{const n=t[s];n&&e[s].push(...n);break}case"transforms":{const n=t[s];n&&e[s].push(...n);break}case"enter":case"exit":{const n=t[s];n&&Object.assign(e[s],n);break}}}function Xw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+tc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+tc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+tc({start:t.start,end:t.end})+") is still open")}function E$(e){const t=this;t.parser=s;function s(n){return k$(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function P$(e,t){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,s),e.applyData(t,s)}function A$(e,t){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,s),[e.applyData(t,s),{type:"text",value:`
`}]}function T$(e,t){const s=t.value?t.value+`
`:"",n={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(n.className=["language-"+o[0]]);let c={type:"element",tagName:"code",properties:n,children:[{type:"text",value:s}]};return t.meta&&(c.data={meta:t.meta}),e.patch(t,c),c=e.applyData(t,c),c={type:"element",tagName:"pre",properties:{},children:[c]},e.patch(t,c),c}function R$(e,t){const s={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function M$(e,t){const s={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function D$(e,t){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),o=rl(n.toLowerCase()),c=e.footnoteOrder.indexOf(n);let u,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),u=e.footnoteOrder.length):u=c+1,l+=1,e.footnoteCounts.set(n,l);const d={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+o,id:s+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function I$(e,t){const s={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function L$(e,t){if(e.options.allowDangerousHtml){const s={type:"raw",value:t.value};return e.patch(t,s),e.applyData(t,s)}}function GN(e,t){const s=t.referenceType;let n="]";if(s==="collapsed"?n+="[]":s==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const o=e.all(t),c=o[0];c&&c.type==="text"?c.value="["+c.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=n:o.push({type:"text",value:n}),o}function O$(e,t){const s=String(t.identifier).toUpperCase(),n=e.definitionById.get(s);if(!n)return GN(e,t);const o={src:rl(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const c={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,c),e.applyData(t,c)}function F$(e,t){const s={src:rl(t.url)};t.alt!==null&&t.alt!==void 0&&(s.alt=t.alt),t.title!==null&&t.title!==void 0&&(s.title=t.title);const n={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,n),e.applyData(t,n)}function B$(e,t){const s={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,s);const n={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(t,n),e.applyData(t,n)}function $$(e,t){const s=String(t.identifier).toUpperCase(),n=e.definitionById.get(s);if(!n)return GN(e,t);const o={href:rl(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const c={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,c),e.applyData(t,c)}function z$(e,t){const s={href:rl(t.url)};t.title!==null&&t.title!==void 0&&(s.title=t.title);const n={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H$(e,t,s){const n=e.all(t),o=s?W$(s):KN(t),c={},u=[];if(typeof t.checked=="boolean"){const m=n[0];let h;m&&m.type==="element"&&m.tagName==="p"?h=m:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const m=n[l];(o||l!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?u.push(...m.children):u.push(m)}const d=n[n.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:c,children:u};return e.patch(t,f),e.applyData(t,f)}function W$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const s=e.children;let n=-1;for(;!t&&++n<s.length;)t=KN(s[n])}return t}function KN(e){const t=e.spread;return t??e.children.length>1}function V$(e,t){const s={},n=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(s.start=t.start);++o<n.length;){const u=n[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const c={type:"element",tagName:t.ordered?"ol":"ul",properties:s,children:e.wrap(n,!0)};return e.patch(t,c),e.applyData(t,c)}function U$(e,t){const s={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function G$(e,t){const s={type:"root",children:e.wrap(e.all(t))};return e.patch(t,s),e.applyData(t,s)}function K$(e,t){const s={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function q$(e,t){const s=e.all(t),n=s.shift(),o=[];if(n){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],u),o.push(u)}if(s.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},l=Rx(t.children[1]),d=NN(t.children[t.children.length-1]);l&&d&&(u.position={start:l,end:d}),o.push(u)}const c={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,c),e.applyData(t,c)}function Y$(e,t,s){const n=s?s.children:void 0,c=(n?n.indexOf(t):1)===0?"th":"td",u=s&&s.type==="table"?s.align:void 0,l=u?u.length:t.children.length;let d=-1;const f=[];for(;++d<l;){const h=t.children[d],x={},w=u?u[d]:void 0;w&&(x.align=w);let j={type:"element",tagName:c,properties:x,children:[]};h&&(j.children=e.all(h),e.patch(h,j),j=e.applyData(h,j)),f.push(j)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function X$(e,t){const s={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}const Jw=9,Qw=32;function J$(e){const t=String(e),s=/\r?\n|\r/g;let n=s.exec(t),o=0;const c=[];for(;n;)c.push(Zw(t.slice(o,n.index),o>0,!0),n[0]),o=n.index+n[0].length,n=s.exec(t);return c.push(Zw(t.slice(o),o>0,!1)),c.join("")}function Zw(e,t,s){let n=0,o=e.length;if(t){let c=e.codePointAt(n);for(;c===Jw||c===Qw;)n++,c=e.codePointAt(n)}if(s){let c=e.codePointAt(o-1);for(;c===Jw||c===Qw;)o--,c=e.codePointAt(o-1)}return o>n?e.slice(n,o):""}function Q$(e,t){const s={type:"text",value:J$(String(t.value))};return e.patch(t,s),e.applyData(t,s)}function Z$(e,t){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,s),e.applyData(t,s)}const ez={blockquote:P$,break:A$,code:T$,delete:R$,emphasis:M$,footnoteReference:D$,heading:I$,html:L$,imageReference:O$,image:F$,inlineCode:B$,linkReference:$$,link:z$,listItem:H$,list:V$,paragraph:U$,root:G$,strong:K$,table:q$,tableCell:X$,tableRow:Y$,text:Q$,thematicBreak:Z$,toml:nu,yaml:nu,definition:nu,footnoteDefinition:nu};function nu(){}const qN=-1,jh=0,sc=1,Fu=2,Bx=3,$x=4,zx=5,Hx=6,YN=7,XN=8,e_=typeof self=="object"?self:globalThis,tz=(e,t)=>{const s=(o,c)=>(e.set(c,o),o),n=o=>{if(e.has(o))return e.get(o);const[c,u]=t[o];switch(c){case jh:case qN:return s(u,o);case sc:{const l=s([],o);for(const d of u)l.push(n(d));return l}case Fu:{const l=s({},o);for(const[d,f]of u)l[n(d)]=n(f);return l}case Bx:return s(new Date(u),o);case $x:{const{source:l,flags:d}=u;return s(new RegExp(l,d),o)}case zx:{const l=s(new Map,o);for(const[d,f]of u)l.set(n(d),n(f));return l}case Hx:{const l=s(new Set,o);for(const d of u)l.add(n(d));return l}case YN:{const{name:l,message:d}=u;return s(new e_[l](d),o)}case XN:return s(BigInt(u),o);case"BigInt":return s(Object(BigInt(u)),o);case"ArrayBuffer":return s(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:l}=new Uint8Array(u);return s(new DataView(l),u)}}return s(new e_[c](u),o)};return n},t_=e=>tz(new Map,e)(0),_a="",{toString:rz}={},{keys:sz}=Object,Wl=e=>{const t=typeof e;if(t!=="object"||!e)return[jh,t];const s=rz.call(e).slice(8,-1);switch(s){case"Array":return[sc,_a];case"Object":return[Fu,_a];case"Date":return[Bx,_a];case"RegExp":return[$x,_a];case"Map":return[zx,_a];case"Set":return[Hx,_a];case"DataView":return[sc,s]}return s.includes("Array")?[sc,s]:s.includes("Error")?[YN,s]:[Fu,s]},iu=([e,t])=>e===jh&&(t==="function"||t==="symbol"),nz=(e,t,s,n)=>{const o=(u,l)=>{const d=n.push(u)-1;return s.set(l,d),d},c=u=>{if(s.has(u))return s.get(u);let[l,d]=Wl(u);switch(l){case jh:{let m=u;switch(d){case"bigint":l=XN,m=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return o([qN],u)}return o([l,m],u)}case sc:{if(d){let x=u;return d==="DataView"?x=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(x=new Uint8Array(u)),o([d,[...x]],u)}const m=[],h=o([l,m],u);for(const x of u)m.push(c(x));return h}case Fu:{if(d)switch(d){case"BigInt":return o([d,u.toString()],u);case"Boolean":case"Number":case"String":return o([d,u.valueOf()],u)}if(t&&"toJSON"in u)return c(u.toJSON());const m=[],h=o([l,m],u);for(const x of sz(u))(e||!iu(Wl(u[x])))&&m.push([c(x),c(u[x])]);return h}case Bx:return o([l,u.toISOString()],u);case $x:{const{source:m,flags:h}=u;return o([l,{source:m,flags:h}],u)}case zx:{const m=[],h=o([l,m],u);for(const[x,w]of u)(e||!(iu(Wl(x))||iu(Wl(w))))&&m.push([c(x),c(w)]);return h}case Hx:{const m=[],h=o([l,m],u);for(const x of u)(e||!iu(Wl(x)))&&m.push(c(x));return h}}const{message:f}=u;return o([l,{name:d,message:f}],u)};return c},r_=(e,{json:t,lossy:s}={})=>{const n=[];return nz(!(t||s),!!t,new Map,n)(e),n},Bu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?t_(r_(e,t)):structuredClone(e):(e,t)=>t_(r_(e,t));function iz(e,t){const s=[{type:"text",value:""}];return t>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),s}function oz(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function az(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||iz,n=e.options.footnoteBackLabel||oz,o=e.options.footnoteLabel||"Footnotes",c=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const m=e.all(f),h=String(f.identifier).toUpperCase(),x=rl(h.toLowerCase());let w=0;const j=[],C=e.footnoteCounts.get(h);for(;C!==void 0&&++w<=C;){j.length>0&&j.push({type:"text",value:" "});let g=typeof s=="string"?s:s(d,w);typeof g=="string"&&(g={type:"text",value:g}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(d,w),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const v=m[m.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const g=v.children[v.children.length-1];g&&g.type==="text"?g.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...j)}else m.push(...j);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(m,!0)};e.patch(f,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...Bu(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const JN=(function(e){if(e==null)return uz;if(typeof e=="function")return Nh(e);if(typeof e=="object")return Array.isArray(e)?lz(e):cz(e);if(typeof e=="string")return dz(e);throw new Error("Expected function, string, or object as test")});function lz(e){const t=[];let s=-1;for(;++s<e.length;)t[s]=JN(e[s]);return Nh(n);function n(...o){let c=-1;for(;++c<t.length;)if(t[c].apply(this,o))return!0;return!1}}function cz(e){const t=e;return Nh(s);function s(n){const o=n;let c;for(c in e)if(o[c]!==t[c])return!1;return!0}}function dz(e){return Nh(t);function t(s){return s&&s.type===e}}function Nh(e){return t;function t(s,n,o){return!!(hz(s)&&e.call(this,s,typeof n=="number"?n:void 0,o||void 0))}}function uz(){return!0}function hz(e){return e!==null&&typeof e=="object"&&"type"in e}const QN=[],fz=!0,s_=!1,mz="skip";function pz(e,t,s,n){let o;typeof t=="function"&&typeof s!="function"?(n=s,s=t):o=t;const c=JN(o),u=n?-1:1;l(e,void 0,[])();function l(d,f,m){const h=d&&typeof d=="object"?d:{};if(typeof h.type=="string"){const w=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(d.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=QN,j,C,v;if((!t||c(d,f,m[m.length-1]||void 0))&&(w=gz(s(d,m)),w[0]===s_))return w;if("children"in d&&d.children){const y=d;if(y.children&&w[0]!==mz)for(C=(n?y.children.length:-1)+u,v=m.concat(y);C>-1&&C<y.children.length;){const g=y.children[C];if(j=l(g,C,v)(),j[0]===s_)return j;C=typeof j[1]=="number"?j[1]:C+u}}return w}}}function gz(e){return Array.isArray(e)?e:typeof e=="number"?[fz,e]:e==null?QN:[e]}function ZN(e,t,s,n){let o,c,u;typeof t=="function"&&typeof s!="function"?(c=void 0,u=t,o=s):(c=t,u=s,o=n),pz(e,c,l,o);function l(d,f){const m=f[f.length-1],h=m?m.children.indexOf(d):void 0;return u(d,h,m)}}const Up={}.hasOwnProperty,xz={};function vz(e,t){const s=t||xz,n=new Map,o=new Map,c=new Map,u={...ez,...s.handlers},l={all:f,applyData:bz,definitionById:n,footnoteById:o,footnoteCounts:c,footnoteOrder:[],handlers:u,one:d,options:s,patch:yz,wrap:_z};return ZN(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const h=m.type==="definition"?n:o,x=String(m.identifier).toUpperCase();h.has(x)||h.set(x,m)}}),l;function d(m,h){const x=m.type,w=l.handlers[x];if(Up.call(l.handlers,x)&&w)return w(l,m,h);if(l.options.passThrough&&l.options.passThrough.includes(x)){if("children"in m){const{children:C,...v}=m,y=Bu(v);return y.children=l.all(m),y}return Bu(m)}return(l.options.unknownHandler||wz)(l,m,h)}function f(m){const h=[];if("children"in m){const x=m.children;let w=-1;for(;++w<x.length;){const j=l.one(x[w],m);if(j){if(w&&x[w-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=n_(j.value)),!Array.isArray(j)&&j.type==="element")){const C=j.children[0];C&&C.type==="text"&&(C.value=n_(C.value))}Array.isArray(j)?h.push(...j):h.push(j)}}}return h}}function yz(e,t){e.position&&(t.position=r7(e))}function bz(e,t){let s=t;if(e&&e.data){const n=e.data.hName,o=e.data.hChildren,c=e.data.hProperties;if(typeof n=="string")if(s.type==="element")s.tagName=n;else{const u="children"in s?s.children:[s];s={type:"element",tagName:n,properties:{},children:u}}s.type==="element"&&c&&Object.assign(s.properties,Bu(c)),"children"in s&&s.children&&o!==null&&o!==void 0&&(s.children=o)}return s}function wz(e,t){const s=t.data||{},n="value"in t&&!(Up.call(s,"hProperties")||Up.call(s,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _z(e,t){const s=[];let n=-1;for(t&&s.push({type:"text",value:`
`});++n<e.length;)n&&s.push({type:"text",value:`
`}),s.push(e[n]);return t&&e.length>0&&s.push({type:"text",value:`
`}),s}function n_(e){let t=0,s=e.charCodeAt(t);for(;s===9||s===32;)t++,s=e.charCodeAt(t);return e.slice(t)}function i_(e,t){const s=vz(e,t),n=s.one(e,void 0),o=az(s),c=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return o&&c.children.push({type:"text",value:`
`},o),c}function Cz(e,t){return e&&"run"in e?async function(s,n){const o=i_(s,{file:n,...t});await e.run(o,n)}:function(s,n){return i_(s,{file:n,...e||t})}}function o_(e){if(e)throw e}var Gm,a_;function Sz(){if(a_)return Gm;a_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},c=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),h=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!h)return!1;var x;for(x in f);return typeof x>"u"||e.call(f,x)},u=function(f,m){s&&m.name==="__proto__"?s(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},l=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(n)return n(f,m).value}else return;return f[m]};return Gm=function d(){var f,m,h,x,w,j,C=arguments[0],v=1,y=arguments.length,g=!1;for(typeof C=="boolean"&&(g=C,C=arguments[1]||{},v=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});v<y;++v)if(f=arguments[v],f!=null)for(m in f)h=l(C,m),x=l(f,m),C!==x&&(g&&x&&(c(x)||(w=o(x)))?(w?(w=!1,j=h&&o(h)?h:[]):j=h&&c(h)?h:{},u(C,{name:m,newValue:d(g,j,x)})):typeof x<"u"&&u(C,{name:m,newValue:x}));return C},Gm}var kz=Sz();const Km=yc(kz);function Gp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jz(){const e=[],t={run:s,use:n};return t;function s(...o){let c=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);l(null,...o);function l(d,...f){const m=e[++c];let h=-1;if(d){u(d);return}for(;++h<o.length;)(f[h]===null||f[h]===void 0)&&(f[h]=o[h]);o=f,m?Nz(m,l)(...f):u(null,...f)}}function n(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Nz(e,t){let s;return n;function n(...u){const l=e.length>u.length;let d;l&&u.push(o);try{d=e.apply(this,u)}catch(f){const m=f;if(l&&s)throw m;return o(m)}l||(d&&d.then&&typeof d.then=="function"?d.then(c,o):d instanceof Error?o(d):c(d))}function o(u,...l){s||(s=!0,t(u,...l))}function c(u){o(null,u)}}const Tn={basename:Ez,dirname:Pz,extname:Az,join:Tz,sep:"/"};function Ez(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zc(e);let s=0,n=-1,o=e.length,c;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(c){s=o+1;break}}else n<0&&(c=!0,n=o+1);return n<0?"":e.slice(s,n)}if(t===e)return"";let u=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(c){s=o+1;break}}else u<0&&(c=!0,u=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(n=o):(l=-1,n=u));return s===n?n=u:n<0&&(n=e.length),e.slice(s,n)}function Pz(e){if(zc(e),e.length===0)return".";let t=-1,s=e.length,n;for(;--s;)if(e.codePointAt(s)===47){if(n){t=s;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Az(e){zc(e);let t=e.length,s=-1,n=0,o=-1,c=0,u;for(;t--;){const l=e.codePointAt(t);if(l===47){if(u){n=t+1;break}continue}s<0&&(u=!0,s=t+1),l===46?o<0?o=t:c!==1&&(c=1):o>-1&&(c=-1)}return o<0||s<0||c===0||c===1&&o===s-1&&o===n+1?"":e.slice(o,s)}function Tz(...e){let t=-1,s;for(;++t<e.length;)zc(e[t]),e[t]&&(s=s===void 0?e[t]:s+"/"+e[t]);return s===void 0?".":Rz(s)}function Rz(e){zc(e);const t=e.codePointAt(0)===47;let s=Mz(e,!t);return s.length===0&&!t&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),t?"/"+s:s}function Mz(e,t){let s="",n=0,o=-1,c=0,u=-1,l,d;for(;++u<=e.length;){if(u<e.length)l=e.codePointAt(u);else{if(l===47)break;l=47}if(l===47){if(!(o===u-1||c===1))if(o!==u-1&&c===2){if(s.length<2||n!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(d=s.lastIndexOf("/"),d!==s.length-1){d<0?(s="",n=0):(s=s.slice(0,d),n=s.length-1-s.lastIndexOf("/")),o=u,c=0;continue}}else if(s.length>0){s="",n=0,o=u,c=0;continue}}t&&(s=s.length>0?s+"/..":"..",n=2)}else s.length>0?s+="/"+e.slice(o+1,u):s=e.slice(o+1,u),n=u-o-1;o=u,c=0}else l===46&&c>-1?c++:c=-1}return s}function zc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Dz={cwd:Iz};function Iz(){return"/"}function Kp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Lz(e){if(typeof e=="string")e=new URL(e);else if(!Kp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Oz(e)}function Oz(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let s=-1;for(;++s<t.length;)if(t.codePointAt(s)===37&&t.codePointAt(s+1)===50){const n=t.codePointAt(s+2);if(n===70||n===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const qm=["history","path","basename","stem","extname","dirname"];class e2{constructor(t){let s;t?Kp(t)?s={path:t}:typeof t=="string"||Fz(t)?s={value:t}:s=t:s={},this.cwd="cwd"in s?"":Dz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<qm.length;){const c=qm[n];c in s&&s[c]!==void 0&&s[c]!==null&&(this[c]=c==="history"?[...s[c]]:s[c])}let o;for(o in s)qm.includes(o)||(this[o]=s[o])}get basename(){return typeof this.path=="string"?Tn.basename(this.path):void 0}set basename(t){Xm(t,"basename"),Ym(t,"basename"),this.path=Tn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Tn.dirname(this.path):void 0}set dirname(t){l_(this.basename,"dirname"),this.path=Tn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Tn.extname(this.path):void 0}set extname(t){if(Ym(t,"extname"),l_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Kp(t)&&(t=Lz(t)),Xm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Tn.basename(this.path,this.extname):void 0}set stem(t){Xm(t,"stem"),Ym(t,"stem"),this.path=Tn.join(this.dirname||"",t+(this.extname||""))}fail(t,s,n){const o=this.message(t,s,n);throw o.fatal=!0,o}info(t,s,n){const o=this.message(t,s,n);return o.fatal=void 0,o}message(t,s,n){const o=new as(t,s,n);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ym(e,t){if(e&&e.includes(Tn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Tn.sep+"`")}function Xm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function l_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Fz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bz=(function(e){const n=this.constructor.prototype,o=n[e],c=function(){return o.apply(c,arguments)};return Object.setPrototypeOf(c,n),c}),$z={}.hasOwnProperty;class Wx extends Bz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=jz()}copy(){const t=new Wx;let s=-1;for(;++s<this.attachers.length;){const n=this.attachers[s];t.use(...n)}return t.data(Km(!0,{},this.namespace)),t}data(t,s){return typeof t=="string"?arguments.length===2?(Zm("data",this.frozen),this.namespace[t]=s,this):$z.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Zm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const o=s.call(t,...n);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const s=ou(t),n=this.parser||this.Parser;return Jm("parse",n),n(String(s),s)}process(t,s){const n=this;return this.freeze(),Jm("process",this.parser||this.Parser),Qm("process",this.compiler||this.Compiler),s?o(void 0,s):new Promise(o);function o(c,u){const l=ou(t),d=n.parse(l);n.run(d,l,function(m,h,x){if(m||!h||!x)return f(m);const w=h,j=n.stringify(w,x);Wz(j)?x.value=j:x.result=j,f(m,x)});function f(m,h){m||!h?u(m):c?c(h):s(void 0,h)}}}processSync(t){let s=!1,n;return this.freeze(),Jm("processSync",this.parser||this.Parser),Qm("processSync",this.compiler||this.Compiler),this.process(t,o),d_("processSync","process",s),n;function o(c,u){s=!0,o_(c),n=u}}run(t,s,n){c_(t),this.freeze();const o=this.transformers;return!n&&typeof s=="function"&&(n=s,s=void 0),n?c(void 0,n):new Promise(c);function c(u,l){const d=ou(s);o.run(t,d,f);function f(m,h,x){const w=h||t;m?l(m):u?u(w):n(void 0,w,x)}}}runSync(t,s){let n=!1,o;return this.run(t,s,c),d_("runSync","run",n),o;function c(u,l){o_(u),o=l,n=!0}}stringify(t,s){this.freeze();const n=ou(s),o=this.compiler||this.Compiler;return Qm("stringify",o),c_(t),o(t,n)}use(t,...s){const n=this.attachers,o=this.namespace;if(Zm("use",this.frozen),t!=null)if(typeof t=="function")d(t,s);else if(typeof t=="object")Array.isArray(t)?l(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function c(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...h]=f;d(m,h)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=Km(!0,o.settings,f.settings))}function l(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const h=f[m];c(h)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,m){let h=-1,x=-1;for(;++h<n.length;)if(n[h][0]===f){x=h;break}if(x===-1)n.push([f,...m]);else if(m.length>0){let[w,...j]=m;const C=n[x][1];Gp(C)&&Gp(w)&&(w=Km(!0,C,w)),n[x]=[f,w,...j]}}}}const zz=new Wx().freeze();function Jm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Qm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c_(e){if(!Gp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function d_(e,t,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ou(e){return Hz(e)?e:new e2(e)}function Hz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Wz(e){return typeof e=="string"||Vz(e)}function Vz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Uz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u_=[],h_={allowDangerousHtml:!0},Gz=/^(https?|ircs?|mailto|xmpp)$/i,Kz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qz(e){const t=Yz(e),s=Xz(e);return Jz(t.runSync(t.parse(s),s),e)}function Yz(e){const t=e.rehypePlugins||u_,s=e.remarkPlugins||u_,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...h_}:h_;return zz().use(E$).use(s).use(Cz,n).use(t)}function Xz(e){const t=e.children||"",s=new e2;return typeof t=="string"&&(s.value=t),s}function Jz(e,t){const s=t.allowedElements,n=t.allowElement,o=t.components,c=t.disallowedElements,u=t.skipHtml,l=t.unwrapDisallowed,d=t.urlTransform||Qz;for(const m of Kz)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Uz+m.id,void 0);return ZN(e,f),a7(e,{Fragment:r.Fragment,components:o,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function f(m,h,x){if(m.type==="raw"&&x&&typeof h=="number")return u?x.children.splice(h,1):x.children[h]={type:"text",value:m.value},h;if(m.type==="element"){let w;for(w in Wm)if(Object.hasOwn(Wm,w)&&Object.hasOwn(m.properties,w)){const j=m.properties[w],C=Wm[w];(C===null||C.includes(m.tagName))&&(m.properties[w]=d(String(j||""),w,m))}}if(m.type==="element"){let w=s?!s.includes(m.tagName):c?c.includes(m.tagName):!1;if(!w&&n&&typeof h=="number"&&(w=!n(m,h,x)),w&&x&&typeof h=="number")return l&&m.children?x.children.splice(h,1,...m.children):x.children.splice(h,1),h}}}function Qz(e){const t=e.indexOf(":"),s=e.indexOf("?"),n=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||s!==-1&&t>s||n!==-1&&t>n||Gz.test(e.slice(0,t))?e:""}function Zz({onConfigChange:e}){var K,F,R;const[t,s]=_.useState(null),[n,o]=_.useState(""),[c,u]=_.useState({open:!1,field:null,type:"directory"}),[l,d]=_.useState(!0),[f,m]=_.useState(!1),[h,x]=_.useState(null),[w,j]=_.useState(!1),[C,v]=_.useState(null),[y,g]=_.useState([]),[b,k]=_.useState({open:!1,content:"",loading:!1}),[E,P]=_.useState({open:!1,feature:null});_.useEffect(()=>{H(),T(),N()},[]);const T=async()=>{try{const O=await ue.checkVersion();x(O)}catch(O){console.error("Failed to load version info:",O)}},N=async()=>{try{const O=await ue.getProject();v(O.dir),M(O.dir)}catch(O){console.error("Failed to load project info:",O)}},M=async O=>{if(O)try{const V=await ue.getHiddenSubprojects(O);g(V.hidden||[])}catch(V){console.error("Failed to load hidden sub-projects:",V)}},I=async O=>{if(C)try{const V=await ue.unhideSubproject(C,O);V.success?(Y.success("Sub-project unhidden"),M(C)):Y.error(V.error||"Failed to unhide")}catch(V){Y.error("Failed to unhide: "+V.message)}},L=async()=>{if(!(h!=null&&h.updateAvailable)){Y.error("No update available");return}j(!0);try{const O=await ue.performUpdate({updateMethod:h.updateMethod,sourcePath:h.sourcePath});if(O.success){Y.success(`Updated to v${O.newVersion}! Restarting server...`);try{await ue.restartServer()}catch{}let V=0;const $=setInterval(async()=>{V++;try{await ue.checkVersion(),clearInterval($),Y.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{V>30&&(clearInterval($),Y.info("Server restarting. Please refresh the page."),j(!1))}},500)}else Y.error("Update failed: "+O.error),j(!1)}catch(O){Y.error("Update failed: "+O.message),j(!1)}},B=async()=>{k(O=>({...O,open:!0,loading:!0}));try{const O=await ue.getChangelog();O.success?k(V=>({...V,content:O.content,loading:!1})):(Y.error("Failed to load changelog"),k(V=>({...V,open:!1,loading:!1})))}catch(O){Y.error("Failed to load changelog: "+O.message),k(V=>({...V,open:!1,loading:!1}))}},H=async()=>{try{d(!0);const O=await ue.getConfig();s(O.config),o(O.path)}catch{Y.error("Failed to load settings")}finally{d(!1)}},q=async()=>{m(!0);try{await ue.saveConfig(t),Y.success("Preferences saved!")}catch{Y.error("Failed to save preferences")}finally{m(!1)}},z=(O,V)=>{s($=>({...$,[O]:V}))},G=(O,V,$)=>{s(se=>({...se,[O]:{...se[O],[V]:$}}))},J=async O=>{const V=(t==null?void 0:t.enabledTools)||["claude"];let $;if(V.includes(O)){if(V.length<=1){Y.error("At least one tool must be enabled");return}$=V.filter(de=>de!==O)}else $=[...V,O];const se={...t,enabledTools:$};s(se);try{await ue.saveConfig(se),e==null||e(se);const de={claude:"Claude Code",gemini:"Gemini CLI",antigravity:"Antigravity",codex:"Codex CLI"}[O]||O;Y.success(`${de} ${$.includes(O)?"enabled":"disabled"}`)}catch{s(t),Y.error("Failed to save preference")}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:r.jsx(dS,{className:"w-5 h-5 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"coder-config Preferences"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool settings for this configuration manager"})]})]}),r.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-2 py-0.5 rounded",children:n})]})}),r.jsxs(re,{onClick:q,disabled:f,children:[f?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save"]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"}),"Directories"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"MCP Tools Directories"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Folders containing local MCP tool repositories for discovery"}),r.jsxs("div",{className:"space-y-2",children:[((t==null?void 0:t.toolsDirs)||(t!=null&&t.toolsDir?[t.toolsDir]:[])).map((O,V)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ct,{value:O||"",onChange:$=>{const se=[...(t==null?void 0:t.toolsDirs)||(t!=null&&t.toolsDir?[t.toolsDir]:[])];se[V]=$.target.value,z("toolsDirs",se),t!=null&&t.toolsDir&&s(de=>{const{toolsDir:pe,...X}=de;return{...X,toolsDirs:se}})},placeholder:"~/mcp-tools",className:"font-mono flex-1"}),r.jsx(re,{variant:"outline",size:"icon",onClick:()=>u({open:!0,field:"toolsDirs",type:"directory",index:V}),title:"Browse...",children:r.jsx(Wi,{className:"w-4 h-4"})}),r.jsx(re,{variant:"outline",size:"icon",onClick:()=>{const se=((t==null?void 0:t.toolsDirs)||(t!=null&&t.toolsDir?[t.toolsDir]:[])).filter((de,pe)=>pe!==V);s(de=>{const{toolsDir:pe,...X}=de;return{...X,toolsDirs:se.length>0?se:void 0}})},title:"Remove",className:"text-destructive hover:text-destructive",children:r.jsx(oi,{className:"w-4 h-4"})})]},V)),r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>u({open:!0,field:"toolsDirs",type:"directory",index:-1}),className:"mt-2",children:[r.jsx(ii,{className:"w-4 h-4 mr-2"}),"Add Tools Folder"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Global Registry Path"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Path to the global MCP registry file"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ct,{value:(t==null?void 0:t.registryPath)||"",onChange:O=>z("registryPath",O.target.value),placeholder:"~/.claude/registry.json",className:"font-mono flex-1"}),r.jsx(re,{variant:"outline",size:"icon",onClick:()=>u({open:!0,field:"registryPath",type:"file"}),title:"Browse...",children:r.jsx(Wi,{className:"w-4 h-4"})})]})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(IM,{className:"w-4 h-4"}),"User Interface"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Port"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Port for the web UI server"}),r.jsx(ct,{type:"number",value:((K=t==null?void 0:t.ui)==null?void 0:K.port)||3333,onChange:O=>G("ui","port",parseInt(O.target.value)||3333),placeholder:"3333",className:"w-32"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Open Browser on Start"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically open browser when starting the UI"})]}),r.jsx(gt,{checked:((F=t==null?void 0:t.ui)==null?void 0:F.openBrowser)??!0,onCheckedChange:O=>G("ui","openBrowser",O)})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(v5,{className:"w-4 h-4"}),"AI Assistant"]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose which AI assistant to use for features like MCP creation and tool import."}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${((t==null?void 0:t.aiAssistant)||"claude")==="claude"?"border-orange-500 bg-orange-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>z("aiAssistant","claude"),children:[r.jsx("input",{type:"radio",name:"aiAssistant",value:"claude",checked:((t==null?void 0:t.aiAssistant)||"claude")==="claude",onChange:()=>z("aiAssistant","claude"),className:"sr-only"}),r.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Command: ",r.jsx("code",{className:"text-xs",children:"claude"})]})]}),((t==null?void 0:t.aiAssistant)||"claude")==="claude"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"})]}),r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${(t==null?void 0:t.aiAssistant)==="gemini"?"border-blue-500 bg-blue-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>z("aiAssistant","gemini"),children:[r.jsx("input",{type:"radio",name:"aiAssistant",value:"gemini",checked:(t==null?void 0:t.aiAssistant)==="gemini",onChange:()=>z("aiAssistant","gemini"),className:"sr-only"}),r.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:r.jsx(qt,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI coding assistant  Command: ",r.jsx("code",{className:"text-xs",children:"gemini"})]})]}),(t==null?void 0:t.aiAssistant)==="gemini"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(H5,{className:"w-4 h-4"}),"Enabled AI Tools"]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Select which AI coding tools to generate MCP configurations for. The Apply button will update all enabled tools."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:".mcp.json"})]})]})]}),r.jsx(gt,{checked:((t==null?void 0:t.enabledTools)||["claude"]).includes("claude"),onCheckedChange:()=>J("claude")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's terminal AI coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:"~/.gemini/settings.json"})]})]})]}),r.jsx(gt,{checked:((t==null?void 0:t.enabledTools)||["claude"]).includes("gemini"),onCheckedChange:()=>J("gemini")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-purple-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Antigravity"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI IDE  Output: ",r.jsx("code",{className:"text-xs",children:"~/.gemini/antigravity/mcp_config.json"})]})]})]}),r.jsx(gt,{checked:((t==null?void 0:t.enabledTools)||["claude"]).includes("antigravity"),onCheckedChange:()=>J("antigravity")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-green-500/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Codex CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["OpenAI's terminal coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:".codex/mcp.json"})]})]})]}),r.jsx(gt,{checked:((t==null?void 0:t.enabledTools)||["claude"]).includes("codex"),onCheckedChange:()=>J("codex")})]}),r.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Note: Antigravity does not support environment variable interpolation (",r.jsx("code",{children:"${VAR}"}),"). Variables are resolved to actual values when generating its config."]})]})]}),y.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(sS,{className:"w-4 h-4"}),"Hidden Sub-projects"]}),r.jsx("div",{className:"space-y-2",children:y.map(O=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Kr,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:O.name}),r.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:O.dir.replace(C+"/","")})]})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>I(O.dir),className:"h-7",children:[r.jsx(Tg,{className:"w-3 h-3 mr-1"}),"Unhide"]})]},O.dir))})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(wm,{className:"w-4 h-4"}),"Experimental Features"]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"These features are experimental and may change or be removed in future versions."}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg border border-yellow-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-yellow-500/10 flex items-center justify-center",children:r.jsx(wm,{className:"w-4 h-4 text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ralph Loops"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Autonomous development loops with Claude Code"})]})]}),r.jsx(gt,{checked:((R=t==null?void 0:t.experimental)==null?void 0:R.ralphLoops)||!1,onCheckedChange:O=>{if(O)P({open:!0,feature:"ralphLoops"});else{const V={...t,experimental:{...t==null?void 0:t.experimental,ralphLoops:!1}};s(V),ue.saveConfig(V),e==null||e(V),Y.success("Ralph Loops disabled")}}})]})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Br,{className:"w-4 h-4"}),"About"]}),r.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Installed Version"}),r.jsx("span",{className:"font-medium font-mono text-foreground",children:(h==null?void 0:h.installedVersion)||"Loading..."})]}),(h==null?void 0:h.updateAvailable)&&r.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Update Available!"}),r.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Version ",h.latestVersion," via ",h.updateMethod==="npm"?"npm":h.sourcePath]})]}),r.jsxs(re,{size:"sm",onClick:L,disabled:w,className:"bg-green-600 hover:bg-green-700 text-white",children:[w?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(ui,{className:"w-4 h-4 mr-2"}),"Update Now"]})]})}),!(h!=null&&h.updateAvailable)&&(h==null?void 0:h.latestVersion)&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Latest Version"}),r.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[h.latestVersion," "]})]}),(h==null?void 0:h.sourcePath)&&!(h!=null&&h.updateAvailable)&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Dev Source"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-xs text-muted-foreground",children:h.sourcePath}),r.jsx(re,{size:"sm",variant:"outline",onClick:L,disabled:w,className:"h-7",children:w?r.jsx(Ze,{className:"w-3 h-3 animate-spin"}):r.jsx(Tr,{className:"w-3 h-3"})})]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Install Location"}),r.jsx("code",{className:"text-xs text-muted-foreground",children:(h==null?void 0:h.installDir)||"~/.coder-config"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm pt-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto-Update"}),r.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Automatically install updates when available"})]}),r.jsx(gt,{checked:(t==null?void 0:t.autoUpdate)||!1,onCheckedChange:O=>{z("autoUpdate",O),ue.saveConfig({...t,autoUpdate:O}),Y.success(O?"Auto-update enabled":"Auto-update disabled")}})]}),r.jsxs("div",{className:"border-t border-border pt-3 mt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Documentation"}),r.jsx("a",{href:"https://github.com/regression-io/coder-config",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GitHub"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"What's New"}),r.jsxs("button",{onClick:B,className:"text-primary hover:underline flex items-center gap-1",children:[r.jsx(ku,{className:"w-3 h-3"}),"Changelog"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["After updating, restart the server with ",r.jsx("code",{className:"bg-muted-foreground/10 px-1 rounded",children:"coder-config ui"})]})]})]})]})]})]}),r.jsx(px,{open:c.open,onOpenChange:O=>u(V=>({...V,open:O})),onSelect:O=>{if(c.field==="toolsDirs"){const V=(t==null?void 0:t.toolsDirs)||(t!=null&&t.toolsDir?[t.toolsDir]:[]);if(c.index===-1)s($=>{const{toolsDir:se,...de}=$;return{...de,toolsDirs:[...V,O]}});else{const $=[...V];$[c.index]=O,s(se=>{const{toolsDir:de,...pe}=se;return{...pe,toolsDirs:$}})}}else c.field&&z(c.field,O)},type:c.type,initialPath:c.field==="toolsDirs"&&c.index>=0?((t==null?void 0:t.toolsDirs)||(t!=null&&t.toolsDir?[t.toolsDir]:[]))[c.index]||"~":(t==null?void 0:t[c.field])||"~",title:c.type==="directory"?"Select Directory":"Select File"}),r.jsx(wt,{open:b.open,onOpenChange:O=>k(V=>({...V,open:O})),children:r.jsxs(xt,{className:"max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[r.jsx(vt,{className:"flex-shrink-0",children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(ku,{className:"w-5 h-5"}),"Changelog"]})}),b.loading?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Ze,{className:"w-6 h-6 animate-spin text-primary"})}):r.jsx(nn,{className:"h-[60vh]",children:r.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none pr-4",children:r.jsx(qz,{components:{h1:({children:O})=>r.jsx("h1",{className:"text-xl font-bold text-foreground mb-4",children:O}),h2:({children:O})=>r.jsx("h2",{className:"text-lg font-semibold text-foreground mt-6 mb-3 pb-2 border-b border-border",children:O}),h3:({children:O})=>r.jsx("h3",{className:"text-base font-medium text-foreground mt-4 mb-2",children:O}),p:({children:O})=>r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:O}),ul:({children:O})=>r.jsx("ul",{className:"text-sm text-muted-foreground list-disc pl-5 mb-3 space-y-1",children:O}),li:({children:O})=>r.jsx("li",{className:"text-sm",children:O}),code:({children:O})=>r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:O}),hr:()=>r.jsx("hr",{className:"my-4 border-border"}),strong:({children:O})=>r.jsx("strong",{className:"font-semibold text-foreground",children:O})},children:b.content})})})]})}),r.jsx(wt,{open:E.open,onOpenChange:O=>P(V=>({...V,open:O})),children:r.jsxs(xt,{className:"max-w-md",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[r.jsx(Nc,{className:"w-5 h-5"}),"Experimental Feature Warning"]}),r.jsx(ur,{className:"pt-2",children:r.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-foreground",children:"Ralph Loops"})," is an experimental feature that enables autonomous development loops with Claude Code."]}),r.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:[r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 font-medium mb-2",children:"Please be aware:"}),r.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-yellow-600 dark:text-yellow-400",children:[r.jsx("li",{children:"This feature runs Claude autonomously with minimal intervention"}),r.jsx("li",{children:"It may make many API calls and incur costs"}),r.jsx("li",{children:"Always review generated code before committing"}),r.jsx("li",{children:"This feature may change or be removed in future versions"})]})]}),r.jsx("p",{children:"Do you want to enable Ralph Loops?"})]})})]}),r.jsxs(kt,{className:"gap-2 sm:gap-0",children:[r.jsx(re,{variant:"outline",onClick:()=>P({open:!1,feature:null}),children:"Cancel"}),r.jsxs(re,{variant:"default",className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:()=>{const O={...t,experimental:{...t==null?void 0:t.experimental,ralphLoops:!0}};s(O),ue.saveConfig(O),e==null||e(O),Y.success("Ralph Loops enabled"),P({open:!1,feature:null})},children:[r.jsx(wm,{className:"w-4 h-4 mr-2"}),"Enable Feature"]})]})]})})]})}function eH(){const[e,t]=_.useState(null),[s,n]=_.useState({}),[o,c]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const[d,f]=await Promise.all([ue.getClaudeSettings(),ue.getRegistry()]);t(d.settings),n(f.mcpServers||{})}catch(d){console.error("Failed to load Claude settings:",d)}finally{c(!1)}},l=async d=>{try{await ue.saveClaudeSettings(d),t(d),Y.success("Claude Code settings saved!")}catch(f){Y.error("Failed to save settings: "+f.message)}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(hN,{settings:e,onSave:l,loading:o,settingsPath:"~/.claude/settings.json",mcpServers:s})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config init                  # Initialize project"}),r.jsx("p",{children:"coder-config apply                 # Generate .mcp.json from config"}),r.jsx("p",{children:"coder-config show                  # Show current project config"})]})]})]})}function tH(){const[e,t]=_.useState(null),[s,n]=_.useState(!0);_.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const u=await ue.getGeminiSettings();t(u.settings)}catch(u){console.error("Failed to load Gemini settings:",u)}finally{n(!1)}},c=async u=>{try{await ue.saveGeminiSettings(u),t(u),Y.success("Gemini CLI settings saved!")}catch(l){Y.error("Failed to save settings: "+l.message)}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(fN,{settings:e,onSave:c,loading:s,settingsPath:"~/.gemini/settings.json"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config apply                 # Generate settings for all tools"}),r.jsx("p",{children:"coder-config apply --gemini        # Generate Gemini settings only"})]})]})]})}const rH=[{id:"off",name:"Off",description:"Never auto-execute; requires allow list"},{id:"auto",name:"Auto",description:"Safety model determines execution"},{id:"turbo",name:"Turbo",description:"Auto-execute unless in deny list",dangerous:!0}],sH=[{id:"always-proceed",name:"Always Proceed",description:"Agent never requests review"},{id:"agent-decides",name:"Agent Decides",description:"Agent determines when review is needed"},{id:"request-review",name:"Request Review",description:"Agent always requests review"}],nH=[{id:"always-proceed",name:"Always Proceed",description:"Maximum autonomy",dangerous:!0},{id:"request-review",name:"Request Review",description:"Ask before browser JavaScript"},{id:"disabled",name:"Disabled",description:"Never run browser JavaScript"}];function iH({settings:e,onSave:t,loading:s,settingsPath:n}){const[o,c]=_.useState(e||{}),[u,l]=_.useState(!1),[d,f]=_.useState("rich"),[m,h]=_.useState(JSON.stringify(e||{},null,2)),[x,w]=_.useState({open:!1,name:"",json:""}),[j,C]=_.useState({}),v=async()=>{l(!0);try{if(d==="json")try{const T=JSON.parse(m);await t(T),c(T)}catch{Y.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));Y.success("Settings saved")}finally{l(!1)}},y=(T,N)=>{c(M=>({...M,[T]:N}))},g=(T,N)=>(o==null?void 0:o[T])??N,b=o.mcpServers||{},k=()=>{const{name:T,json:N}=x;if(!T.trim()){Y.error("Please enter a name for the MCP");return}let M;try{M=JSON.parse(N)}catch{Y.error("Invalid JSON configuration");return}if(!M.command){Y.error('MCP config must have a "command" field');return}c(I=>({...I,mcpServers:{...I.mcpServers,[T.trim()]:M}})),w({open:!1,name:"",json:""}),Y.success(`Added MCP: ${T}`)},E=T=>{c(N=>{const{[T]:M,...I}=N.mcpServers||{};return{...N,mcpServers:I}}),Y.success(`Removed MCP: ${T}`)},P=T=>{C(N=>({...N,[T]:!N[T]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:r.jsx(kc,{className:"w-5 h-5 text-purple-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Antigravity Settings",r.jsx(et,{variant:"outline",className:"text-xs font-normal text-purple-600 border-purple-300 dark:border-purple-700",children:"Google"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:n})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${d==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${d==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),r.jsxs(re,{onClick:v,disabled:u||s,children:[u?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),d==="json"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(Ct,{value:m,onChange:T=>h(T.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-purple-500"}),"Security Policies"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Terminal Command Execution"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Control how the agent executes shell commands"})]}),r.jsxs(Or,{value:g("terminalPolicy","auto"),onValueChange:T=>y("terminalPolicy",T),children:[r.jsx(Pr,{className:"w-44",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:rH.map(T=>r.jsx(Dt,{value:T.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:T.name}),T.dangerous&&r.jsx(et,{variant:"destructive",className:"text-xs",children:"Risk"})]})},T.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Review Policy"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"When the agent should request human review"})]}),r.jsxs(Or,{value:g("reviewPolicy","agent-decides"),onValueChange:T=>y("reviewPolicy",T),children:[r.jsx(Pr,{className:"w-44",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:sH.map(T=>r.jsx(Dt,{value:T.id,children:T.name},T.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"JavaScript Execution"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Control browser JavaScript execution"})]}),r.jsxs(Or,{value:g("jsPolicy","request-review"),onValueChange:T=>y("jsPolicy",T),children:[r.jsx(Pr,{className:"w-44",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:nH.map(T=>r.jsx(Dt,{value:T.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:T.name}),T.dangerous&&r.jsx(et,{variant:"destructive",className:"text-xs",children:"Risk"})]})},T.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4 text-purple-500"}),"MCP Servers",r.jsx(et,{variant:"secondary",className:"text-xs",children:Object.keys(b).length})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>w({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(b).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(b).map(([T,N])=>r.jsxs(Oc,{open:j[T],onOpenChange:()=>P(T),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fc,{className:"flex items-center gap-2 flex-1 text-left",children:[j[T]?r.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(zs,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"font-medium text-sm",children:T}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:N.command})]}),r.jsx(re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>E(T),children:r.jsx(js,{className:"w-4 h-4"})})]}),r.jsx(Bc,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(N,null,2)})})})]},T))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Eo,{className:"w-4 h-4 text-purple-500"}),"Browser Settings"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"URL Allowlist"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Domains the agent can visit (one per line)"}),r.jsx(Ct,{value:g("browserAllowlist",""),onChange:T=>y("browserAllowlist",T.target.value),placeholder:`github.com
stackoverflow.com
docs.python.org`,className:"font-mono text-sm",rows:4})]})})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(sn,{className:"w-4 h-4 text-purple-500"}),"Agent Behavior"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Planning mode uses structured plans; Fast mode executes directly"})]}),r.jsxs(Or,{value:g("agentMode","planning"),onValueChange:T=>y("agentMode",T),children:[r.jsx(Pr,{className:"w-36",children:r.jsx(Fr,{})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"planning",children:"Planning"}),r.jsx(Dt,{value:"fast",children:"Fast"})]})]})]})})]})]}),r.jsx(wt,{open:x.open,onOpenChange:T=>w({...x,open:T}),children:r.jsxs(xt,{className:"bg-card",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add MCP Server"}),r.jsx(ur,{children:"Add a new MCP server to Antigravity"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(ct,{value:x.name,onChange:T=>w({...x,name:T.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(Ct,{value:x.json,onChange:T=>w({...x,json:T.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>w({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(re,{onClick:k,children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function oH(){const[e,t]=_.useState(null),[s,n]=_.useState(!0);_.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const u=await ue.getAntigravitySettings();t(u.settings)}catch(u){console.error("Failed to load Antigravity settings:",u)}finally{n(!1)}},c=async u=>{try{await ue.saveAntigravitySettings(u),t(u),Y.success("Antigravity settings saved!")}catch(l){Y.error("Failed to save settings: "+l.message)}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-purple-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(iH,{settings:e,onSave:c,loading:s,settingsPath:"~/.gemini/antigravity/settings.json"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config apply                    # Generate settings for all tools"}),r.jsx("p",{children:"coder-config apply --antigravity      # Generate Antigravity settings only"})]})]})]})}const aH=[{id:"gpt-5.2-codex",name:"GPT-5.2 Codex",description:"Latest and most capable"},{id:"gpt-5-codex",name:"GPT-5 Codex",description:"Previous generation"},{id:"gpt-5",name:"GPT-5",description:"General purpose"},{id:"o3-mini",name:"o3-mini",description:"Fast reasoning model"}],lH=[{id:"on-request",name:"On Request",description:"Ask before running commands (default)"},{id:"untrusted",name:"Untrusted",description:"Ask for everything"},{id:"on-failure",name:"On Failure",description:"Ask only when commands fail"},{id:"never",name:"Never",description:"Never ask (use with caution)"}],cH=[{id:"read-only",name:"Read Only",description:"Can only read files (default)"},{id:"workspace-write",name:"Workspace Write",description:"Can write within workspace"},{id:"danger-full-access",name:"Full Access",description:"Full filesystem access (dangerous)"}],dH=[{id:"minimal",name:"Minimal",description:"Fastest, least thorough"},{id:"low",name:"Low",description:"Quick responses"},{id:"medium",name:"Medium",description:"Balanced (default)"},{id:"high",name:"High",description:"More thorough"},{id:"xhigh",name:"Extra High",description:"Most thorough"}],uH=[{id:"save-all",name:"Save All",description:"Keep all session history"},{id:"none",name:"None",description:"Do not persist history"}];function hH({settings:e,rawToml:t,onSave:s,loading:n,settingsPath:o}){const[c,u]=_.useState(e||{}),[l,d]=_.useState(!1),[f,m]=_.useState("rich"),[h,x]=_.useState(t||""),[w,j]=_.useState({open:!1,name:"",json:""}),[C,v]=_.useState({}),y=async()=>{d(!0);try{f==="toml"?await s(null,h):await s(c),Y.success("Settings saved")}catch(I){Y.error("Failed to save: "+I.message)}finally{d(!1)}},g=(I,L)=>{u(B=>({...B,[I]:L}))},b=(I,L,B)=>{u(H=>({...H,[I]:{...H[I],[L]:B}}))},k=(I,L="")=>(c==null?void 0:c[I])??L,E=(I,L,B=!1)=>{var H;return((H=c==null?void 0:c[I])==null?void 0:H[L])??B},P=c.mcp_servers||{},T=()=>{const{name:I,json:L}=w;if(!I.trim()){Y.error("Please enter a name for the MCP server");return}let B;try{B=JSON.parse(L)}catch{Y.error("Invalid JSON configuration");return}if(!B.command){Y.error('MCP config must have a "command" field');return}u(H=>({...H,mcp_servers:{...H.mcp_servers,[I.trim()]:B}})),j({open:!1,name:"",json:""}),Y.success(`Added MCP: ${I}`)},N=I=>{u(L=>{const{[I]:B,...H}=L.mcp_servers||{};return{...L,mcp_servers:H}}),Y.success(`Removed MCP: ${I}`)},M=I=>{v(L=>({...L,[I]:!L[I]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:r.jsx(qt,{className:"w-5 h-5 text-green-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Codex CLI Settings",r.jsxs(et,{variant:"outline",className:"text-xs font-normal text-green-600 border-green-300 dark:border-green-700",children:[r.jsx(Yt,{className:"w-3 h-3 mr-1"}),"OpenAI"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:o})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>m("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="toml"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>m("toml"),children:"TOML"})]}),r.jsxs(re,{onClick:y,disabled:l||n,children:[l?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),f==="toml"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(Ct,{value:h,onChange:I=>x(I.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"# Codex CLI config.toml"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-green-500"}),"Model"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Model"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Model used for Codex CLI sessions"})]}),r.jsxs(Or,{value:k("model",""),onValueChange:I=>g("model",I),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{placeholder:"Select model"})}),r.jsx(Ar,{children:aH.map(I=>r.jsx(Dt,{value:I.id,children:r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{children:I.name})})},I.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Reasoning Effort"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"How thoroughly the model should reason"})]}),r.jsxs(Or,{value:k("model_reasoning_effort","medium"),onValueChange:I=>g("model_reasoning_effort",I),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:dH.map(I=>r.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-green-500"}),"Security"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Approval Policy"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"When to ask for command approval"})]}),r.jsxs(Or,{value:k("approval_policy","on-request"),onValueChange:I=>g("approval_policy",I),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:lH.map(I=>r.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sandbox Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Filesystem and network access level"})]}),r.jsxs(Or,{value:k("sandbox_mode","read-only"),onValueChange:I=>g("sandbox_mode",I),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:cH.map(I=>r.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4 text-green-500"}),"MCP Servers",r.jsx(et,{variant:"secondary",className:"text-xs",children:Object.keys(P).length})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>j({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"],
  "enabled": true
}`}),children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(P).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(P).map(([I,L])=>r.jsxs(Oc,{open:C[I],onOpenChange:()=>M(I),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fc,{className:"flex items-center gap-2 flex-1 text-left",children:[C[I]?r.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(zs,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"font-medium text-sm",children:I}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:L.command}),L.enabled===!1&&r.jsx(et,{variant:"secondary",className:"text-xs",children:"Disabled"})]}),r.jsx(re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>N(I),children:r.jsx(js,{className:"w-4 h-4"})})]}),r.jsx(Bc,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(L,null,2)})})})]},I))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(So,{className:"w-4 h-4 text-green-500"}),"Features"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Shell Snapshot"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Speed up repeated commands (Beta)"})]}),r.jsx(gt,{checked:E("features","shell_snapshot",!0),onCheckedChange:I=>b("features","shell_snapshot",I)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Web Search"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow the model to search the web"})]}),r.jsx(gt,{checked:E("features","web_search_request",!0),onCheckedChange:I=>b("features","web_search_request",I)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(sn,{className:"w-4 h-4 text-green-500"}),"Display"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Animations"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable UI animations"})]}),r.jsx(gt,{checked:E("tui","animations",!0),onCheckedChange:I=>b("tui","animations",I)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Notifications"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Show system notifications"})]}),r.jsx(gt,{checked:E("tui","notifications",!0),onCheckedChange:I=>b("tui","notifications",I)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(ku,{className:"w-4 h-4 text-green-500"}),"History"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Persistence"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"How session history is saved"})]}),r.jsxs(Or,{value:E("history","persistence","save-all"),onValueChange:I=>b("history","persistence",I),children:[r.jsx(Pr,{className:"w-48",children:r.jsx(Fr,{})}),r.jsx(Ar,{children:uH.map(I=>r.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]})})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(rS,{className:"w-4 h-4 text-green-500"}),"Analytics"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Metrics"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Send anonymous usage data to OpenAI"})]}),r.jsx(gt,{checked:E("analytics","enabled",!0),onCheckedChange:I=>b("analytics","enabled",I)})]})})]})]}),r.jsx(wt,{open:w.open,onOpenChange:I=>j({...w,open:I}),children:r.jsxs(xt,{className:"bg-card",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add MCP Server"}),r.jsx(ur,{children:"Add a new MCP server to Codex CLI"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(ct,{value:w.name,onChange:I=>j({...w,name:I.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(Ct,{value:w.json,onChange:I=>j({...w,json:I.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>j({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(re,{onClick:T,children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function fH(){const[e,t]=_.useState(null),[s,n]=_.useState(""),[o,c]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=await ue.getCodexSettings();t(d.settings),n(d.raw||"")}catch(d){console.error("Failed to load Codex settings:",d)}finally{c(!1)}},l=async(d,f=void 0)=>{try{const m=await ue.saveCodexSettings(d,f);m.success?(t(m.settings),Y.success("Codex CLI settings saved!")):Y.error("Failed to save: "+m.error)}catch(m){Y.error("Failed to save settings: "+m.message)}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-green-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(hH,{settings:e,rawToml:s,onSave:l,loading:o,settingsPath:"~/.codex/config.toml"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"codex                        # Start Codex CLI"}),r.jsx("p",{children:"codex --model gpt-5.2-codex  # Use specific model"}),r.jsx("p",{children:"codex --full-auto            # Low-friction mode"})]})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[r.jsx("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-1",children:"Documentation"}),r.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["See the full configuration reference at"," ",r.jsx("a",{href:"https://developers.openai.com/codex/config-reference/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"developers.openai.com/codex"})]})]})]})}const mH="~/reg/tools",f_={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function pH({project:e}){const[t,s]=_.useState(""),[n,o]=_.useState(""),[c,u]=_.useState(mH),[l,d]=_.useState(!1),[f,m]=_.useState(null),[h,x]=_.useState(!1),[w,j]=_.useState("claude");_.useEffect(()=>{C()},[]);const C=async()=>{var E;try{const P=await ue.getConfig();j(((E=P.config)==null?void 0:E.aiAssistant)||"claude")}catch(P){console.error("Failed to load preferences:",P)}},v=f_[w]||f_.claude,y=()=>{if(!t.trim()){Y.error("Please enter an MCP name");return}const E=`Create a new MCP server project called "${t}" with the following:
- Use Python with uv for package management
- Use FastMCP framework
- Description: ${n||"A custom MCP server"}
- Create a single mcp_server.py file with basic structure
- Include a pyproject.toml configured for uv
- Add a README.md with usage instructions`;m(`cd "${c}" && ${v.command} "${E}"`),d(!0),x(!0)},g=E=>{console.log("Terminal session ready:",E)},b=(E,P)=>{console.log("Terminal exited:",E,P),x(!1),E===0&&Y.success("MCP project created successfully!")},k=()=>{d(!1),m(null),x(!1),s(""),o("")};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"flex-none p-6 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(os,{className:"w-7 h-7 text-purple-600"}),"Create MCP Server"]}),r.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:["Generate a new MCP server project with ",v.name," assistance"]})]}),l&&r.jsxs(re,{variant:"outline",onClick:k,className:"text-gray-600 dark:text-slate-300",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"New Project"]})]})}),r.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[r.jsx("div",{className:`${l?"w-1/3 border-r border-gray-200 dark:border-slate-700":"w-full max-w-2xl mx-auto"} p-6 overflow-auto`,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"MCP Name *"}),r.jsx(ct,{value:t,onChange:E=>s(E.target.value),placeholder:"my-awesome-mcp",disabled:h}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"This will be the project folder name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Description"}),r.jsx(Ct,{value:n,onChange:E=>o(E.target.value),placeholder:"Describe what your MCP server will do...",className:"min-h-[100px]",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Output Directory"}),r.jsx(ct,{value:c,onChange:E=>u(E.target.value),placeholder:"/path/to/projects",className:"font-mono text-sm",disabled:h}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Where to create the new MCP project"})]}),r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-purple-900 dark:text-purple-300 mb-2",children:"What will be created:"}),r.jsxs("ul",{className:"text-sm text-purple-700 dark:text-purple-400 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Ku,{className:"w-4 h-4"}),"Python project with uv package manager"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(za,{className:"w-4 h-4"}),"FastMCP framework setup"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Br,{className:"w-4 h-4"}),"mcp_server.py with basic structure"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Bn,{className:"w-4 h-4"}),"pyproject.toml configured for uv"]})]})]}),!l&&r.jsxs(re,{onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!t.trim(),children:[r.jsx(os,{className:"w-4 h-4 mr-2"}),"Create & Launch ",v.name]})]})}),l&&r.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900",children:[r.jsxs("div",{className:"flex-none px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-300",children:[v.name," Terminal"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:h&&r.jsxs(et,{variant:"outline",className:"bg-green-900/50 text-green-400 border-green-700",children:[r.jsx(Ze,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]})})]}),r.jsx("div",{className:"flex-1",children:r.jsx(xh,{cwd:c,initialCommand:f,onReady:g,onExit:b,height:"100%"})})]})]})]})}var gH=Symbol("radix.slottable");function xH(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=gH,t}var vH="AlertDialog",[yH]=Ns(vH,[ZS]),Xi=ZS(),bH="AlertDialogTrigger",wH=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,o=Xi(s);return r.jsx(dL,{...o,...n,ref:t})});wH.displayName=bH;var _H="AlertDialogPortal",t2=e=>{const{__scopeAlertDialog:t,...s}=e,n=Xi(t);return r.jsx(p1,{...n,...s})};t2.displayName=_H;var CH="AlertDialogOverlay",r2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,o=Xi(s);return r.jsx(Gg,{...o,...n,ref:t})});r2.displayName=CH;var La="AlertDialogContent",[SH,kH]=yH(La),jH=xH("AlertDialogContent"),s2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:n,...o}=e,c=Xi(s),u=_.useRef(null),l=ht(t,u),d=_.useRef(null);return r.jsx(iL,{contentName:La,titleName:n2,docsSlug:"alert-dialog",children:r.jsx(SH,{scope:s,cancelRef:d,children:r.jsxs(Kg,{role:"alertdialog",...c,...o,ref:l,onOpenAutoFocus:Fe(o.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[r.jsx(jH,{children:n}),r.jsx(EH,{contentRef:u})]})})})});s2.displayName=La;var n2="AlertDialogTitle",i2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,o=Xi(s);return r.jsx(qg,{...o,...n,ref:t})});i2.displayName=n2;var o2="AlertDialogDescription",a2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,o=Xi(s);return r.jsx(Yg,{...o,...n,ref:t})});a2.displayName=o2;var NH="AlertDialogAction",l2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,o=Xi(s);return r.jsx(Xg,{...o,...n,ref:t})});l2.displayName=NH;var c2="AlertDialogCancel",d2=_.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,{cancelRef:o}=kH(c2,s),c=Xi(s),u=ht(t,o);return r.jsx(Xg,{...c,...n,ref:u})});d2.displayName=c2;var EH=({contentRef:e})=>{const t=`\`${La}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${La}\` by passing a \`${o2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${La}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},PH=t2,u2=r2,h2=s2,f2=l2,m2=d2,p2=i2,g2=a2;const AH=PH,x2=_.forwardRef(({className:e,...t},s)=>r.jsx(u2,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));x2.displayName=u2.displayName;const TH=_.forwardRef(({className:e,...t},s)=>r.jsxs(AH,{children:[r.jsx(x2,{}),r.jsx(h2,{ref:s,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));TH.displayName=h2.displayName;const RH=_.forwardRef(({className:e,...t},s)=>r.jsx(p2,{ref:s,className:Ne("text-lg font-semibold",e),...t}));RH.displayName=p2.displayName;const MH=_.forwardRef(({className:e,...t},s)=>r.jsx(g2,{ref:s,className:Ne("text-sm text-muted-foreground",e),...t}));MH.displayName=g2.displayName;const DH=_.forwardRef(({className:e,...t},s)=>r.jsx(f2,{ref:s,className:Ne(Lg(),e),...t}));DH.displayName=f2.displayName;const IH=_.forwardRef(({className:e,...t},s)=>r.jsx(m2,{ref:s,className:Ne(Lg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));IH.displayName=m2.displayName;const LH=(e,t)=>{try{const s=localStorage.getItem(`claude-config-${e}`);return s?JSON.parse(s):t}catch{return t}},OH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}},m_={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function FH({registry:e,searchQuery:t,setSearchQuery:s,onUpdate:n}){var ie;const[o,c]=_.useState(()=>LH("registrySearchMode","local")),u=Q=>{c(Q),OH("registrySearchMode",Q)},[l,d]=_.useState([]),[f,m]=_.useState(!1),[h,x]=_.useState({open:!1,name:"",mcp:null,isNew:!1}),[w,j]=_.useState({name:"",command:"npx",args:"",env:"",description:""}),[C,v]=_.useState(!1),[y,g]=_.useState([]),[b,k]=_.useState(""),[E,P]=_.useState({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),[T,N]=_.useState(""),[M,I]=_.useState("claude");_.useEffect(()=>{(async()=>{var le;try{const we=await ue.getConfig();I(((le=we.config)==null?void 0:le.aiAssistant)||"claude")}catch(we){console.error("Failed to load preferences:",we)}})()},[]);const L=m_[M]||m_.claude,B=Object.entries(e.mcpServers||{}),H=B.filter(([Q])=>Q.toLowerCase().includes(t.toLowerCase()));_.useEffect(()=>{(async()=>{try{const le=await ue.getMcpTools();g(le.tools||[]),k(le.dir||"")}catch(le){console.error("Failed to load MCP tools:",le)}})()},[]);const q=y.filter(Q=>{var le;return!((le=e.mcpServers)!=null&&le[Q.name])&&Q.name.toLowerCase().includes(t.toLowerCase())}),z=(Q,le)=>{j({name:Q,command:le.command||"npx",args:JSON.stringify(le.args||[],null,2),env:JSON.stringify(le.env||{},null,2),description:le.description||""}),x({open:!0,name:Q,mcp:le,isNew:!1})},[G,J]=_.useState({open:!1,json:""}),K=()=>{J({open:!0,json:""})},F=async()=>{if(!G.json.trim()){Y.error("Please paste the MCP JSON configuration");return}try{let Q;try{Q=JSON.parse(G.json)}catch{Y.error("Invalid JSON format");return}let le={};if(Q.mcpServers&&typeof Q.mcpServers=="object")le=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).includes("command")){Y.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}le=Q}if(Object.keys(le).length===0){Y.error("No MCP configurations found in the JSON");return}for(const[Ke,fe]of Object.entries(le))if(!fe.command){Y.error(`MCP "${Ke}" is missing required "command" field`);return}const we={...e};we.mcpServers||(we.mcpServers={});for(const[Ke,fe]of Object.entries(le))we.mcpServers[Ke]=fe;await ue.updateRegistry(we);const Le=Object.keys(le).length;Y.success(`Added ${Le} MCP${Le>1?"s":""} to registry!`),J({open:!1,json:""}),n()}catch(Q){Y.error("Failed to add: "+Q.message)}},R=Q=>{const we={[Q.name.replace("@modelcontextprotocol/server-","").replace("mcp-server-","").replace("mcp-","").replace(/-/g,"_")]:{command:Q.suggestedCommand||"npx",args:Q.suggestedArgs||["-y",Q.name],...Q.description&&{description:Q.description}}};J({open:!0,json:JSON.stringify(we,null,2)})},O=Q=>{let le,we;Q.type==="python"?(le="uv",we=["run","--directory",Q.path,"python",Q.entryPoint||"mcp_server.py"]):(le="node",we=[Q.path+"/index.js"]);const Le={[Q.name]:{command:le,args:we,...Q.description&&{description:Q.description}}};J({open:!0,json:JSON.stringify(Le,null,2)})},V=()=>{if(!E.url.trim()){Y.error("Please enter a URL");return}P(Q=>({...Q,showTerminal:!0}))},$=()=>{if(E.localTool){const we=E.localTool,Le=`Analyze the MCP server at ${we.path}. Read the README and source files to understand how to run it. Output a JSON config block with name, command, args array, and description for the MCP registry. Be specific about the exact command needed.`;return`cd '${we.path}' && ${L.command} '${Le}'`}const le=`Clone ${E.url.trim()} into ~/reg/tools. Read the README, determine if Python or Node MCP server, and output a JSON config block with name, command, args, and description.`;return`cd ~/reg/tools && ${L.command} '${le}'`},se=Q=>{P({open:!0,url:"",showTerminal:!0,localTool:Q,pastedConfig:""})},de=Q=>{Q===0&&(Y.success("Import completed! Paste the JSON config below to add it to the registry."),ue.getMcpTools().then(le=>{g(le.tools||[])}))},pe=async()=>{if(!E.pastedConfig.trim()){Y.error("Please paste the JSON config first");return}try{let Q;try{Q=JSON.parse(E.pastedConfig)}catch{Y.error("Invalid JSON format");return}let le={};if(Q.mcpServers&&typeof Q.mcpServers=="object")le=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q))if(Object.keys(Q).includes("command")){Y.error('JSON is missing the MCP name. Expected format: { "name": { "command": "...", "args": [...] } }');return}else le=Q;if(Object.keys(le).length===0){Y.error("No MCP configurations found in the pasted JSON");return}for(const[Ke,fe]of Object.entries(le))if(!fe.command){Y.error(`MCP "${Ke}" is missing required "command" field`);return}const we={...e};we.mcpServers||(we.mcpServers={});for(const[Ke,fe]of Object.entries(le))we.mcpServers[Ke]=fe;await ue.updateRegistry(we);const Le=Object.keys(le).length;Y.success(`Added ${Le} MCP${Le>1?"s":""} to registry!`),P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),n()}catch(Q){Y.error("Failed to add config: "+Q.message)}},X=async()=>{v(!0);try{let Q,le;try{Q=JSON.parse(w.args),le=JSON.parse(w.env)}catch{Y.error("Invalid JSON in args or env"),v(!1);return}const we={...e};we.mcpServers||(we.mcpServers={});const Le={command:w.command,args:Q,...Object.keys(le).length>0&&{env:le},...w.description&&{description:w.description}};we.mcpServers[h.name]=Le,await ue.updateRegistry(we),Y.success("MCP updated"),x({open:!1,name:"",mcp:null,isNew:!1}),n()}catch(Q){Y.error("Failed to save: "+Q.message)}finally{v(!1)}},W=async Q=>{try{const le={...e};delete le.mcpServers[Q],await ue.updateRegistry(le),Y.success(`Removed ${Q} from registry`),n()}catch(le){Y.error("Failed to delete: "+le.message)}},ce=async()=>{if(t.trim()){m(!0);try{const Q=o==="github"?await ue.searchGithub(t):await ue.searchNpm(t);d(Q.results||[])}catch(Q){Y.error("Search failed: "+Q.message),d([])}finally{m(!1)}}};return _.useEffect(()=>{o!=="local"&&d([])},[o]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white dark:text-white flex items-center gap-2",children:[r.jsx(Bn,{className:"w-5 h-5 text-blue-600"}),"MCP Registry"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"folder"}),className:"border-green-300 dark:border-green-700 text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-950/30",children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Import Folder"]}),r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[r.jsx(uu,{className:"w-4 h-4 mr-2"}),"Import URL"]}),r.jsxs(re,{variant:"outline",size:"sm",onClick:K,className:"border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs(re,{variant:o==="local"?"default":"outline",size:"sm",onClick:()=>u("local"),className:o==="local"?"bg-blue-600":"",children:[r.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Registry (",B.length,")"]}),r.jsxs(re,{variant:o==="tools"?"default":"outline",size:"sm",onClick:()=>u("tools"),className:o==="tools"?"bg-purple-600":"",children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Tools (",y.length,")"]}),r.jsxs(re,{variant:o==="github"?"default":"outline",size:"sm",onClick:()=>u("github"),className:o==="github"?"bg-gray-800":"",children:[r.jsx(dM,{className:"w-4 h-4 mr-2"}),"GitHub"]}),r.jsxs(re,{variant:o==="npm"?"default":"outline",size:"sm",onClick:()=>u("npm"),className:o==="npm"?"bg-red-600":"",children:[r.jsx(Eo,{className:"w-4 h-4 mr-2"}),"npm"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jc,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(ct,{value:t,onChange:Q=>s(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&!["local","tools"].includes(o)&&ce(),placeholder:o==="local"?"Filter registry...":o==="tools"?"Filter discovered tools...":`Search ${o} for MCPs...`,className:"pl-9 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"})]}),!["local","tools"].includes(o)&&r.jsx(re,{onClick:ce,disabled:f,children:f?r.jsx(Ze,{className:"w-4 h-4 animate-spin"}):"Search"})]})]}),o==="local"&&r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[H.map(([Q,le],we)=>{var Le;return r.jsxs(Pa.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:we*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q}),r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100",children:r.jsx(U5,{className:"w-4 h-4 text-gray-400"})})}),r.jsxs(Hn,{children:[r.jsxs(zt,{onClick:()=>z(Q,le),children:[r.jsx(aS,{className:"w-4 h-4 mr-2"}),"Edit"]}),r.jsxs(zt,{className:"text-red-600",onClick:()=>W(Q),children:[r.jsx(js,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3",children:le.description||"MCP server"}),r.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded",children:[le.command," ",(Le=le.args)==null?void 0:Le.join(" ")]}),le.env&&Object.keys(le.env).length>0&&r.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Requires: ",Object.keys(le.env).join(", ")]})]},Q)}),H.length===0&&r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No MCPs match your search.":"Registry is empty. Add MCPs or search online."})]}),o==="tools"&&r.jsxs("div",{className:"p-4",children:[b&&r.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-slate-400 flex items-center gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"}),"Scanning: ",b]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[q.map((Q,le)=>r.jsxs(Pa.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:le*.03},className:"bg-purple-50 dark:bg-purple-950/30 rounded-lg border border-purple-200 dark:border-purple-800 p-4 hover:border-purple-400 dark:hover:border-purple-600 hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-200",children:Q.name}),r.jsx(et,{variant:"outline",className:"text-purple-600 dark:text-purple-400 border-purple-300 dark:border-purple-700",children:Q.type==="python"?"Python":"Node"})]}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-3",children:Q.description||"MCP tool"}),r.jsx("code",{className:"text-xs text-purple-600 dark:text-purple-400 block truncate bg-purple-100 dark:bg-purple-900/50 px-2 py-1 rounded mb-3",children:Q.path}),Q.framework&&r.jsxs("div",{className:"text-xs text-purple-500 dark:text-purple-400 mb-3",children:["Framework: ",Q.framework]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>O(Q),className:"flex-1 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/50",children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Quick"]}),r.jsxs(re,{size:"sm",onClick:()=>se(Q),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(os,{className:"w-4 h-4 mr-1"}),"Smart"]})]})]},Q.name)),q.length===0&&y.length>0&&r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"All discovered tools are already in the registry."}),y.length===0&&r.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:["No MCP tools found in ",b,". Create one using the Developer > Create MCP view."]})]})]}),!["local","tools"].includes(o)&&r.jsx("div",{className:"p-4",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),r.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-2",children:["Searching ",o,"..."]})]}):l.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((Q,le)=>{var we;return r.jsxs(Pa.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:le*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:Q.name}),Q.stars!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[r.jsx(iD,{className:"w-3 h-3"}),Q.stars]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:Q.description||"No description"}),r.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded mb-3",children:[Q.suggestedCommand," ",(we=Q.suggestedArgs)==null?void 0:we.join(" ")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{size:"sm",onClick:()=>R(Q),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(Rt,{className:"w-3 h-3 mr-1"}),"Add to Registry"]}),Q.url&&r.jsx(re,{size:"sm",variant:"outline",onClick:()=>window.open(Q.url,"_blank"),children:r.jsx(uu,{className:"w-3 h-3"})})]})]},Q.name||le)})}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No results found. Try a different search term.":`Enter a search term to find MCPs on ${o}.`})})]}),r.jsx(wt,{open:G.open,onOpenChange:Q=>J({...G,open:Q}),children:r.jsxs(xt,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add MCP to Registry"}),r.jsx(ur,{children:"Paste the MCP JSON configuration block to add to your registry."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Ct,{value:G.json,onChange:Q=>J({...G,json:Q.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>J({open:!1,json:""}),children:"Cancel"}),r.jsxs(re,{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})}),r.jsx(wt,{open:h.open,onOpenChange:Q=>x({...h,open:Q}),children:r.jsxs(xt,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[r.jsxs(vt,{children:[r.jsxs(yt,{children:["Edit MCP: ",h.name]}),r.jsx(ur,{children:"Edit the MCP server configuration."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(ct,{value:w.description,onChange:Q=>j({...w,description:Q.target.value}),placeholder:"What does this MCP do?",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Command"}),r.jsx(ct,{value:w.command,onChange:Q=>j({...w,command:Q.target.value}),placeholder:"npx",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Args (JSON array)"}),r.jsx(Ct,{value:w.args,onChange:Q=>j({...w,args:Q.target.value}),placeholder:'["-y", "@modelcontextprotocol/server-xxx"]',className:"mt-1 font-mono text-sm",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Environment Variables (JSON object)"}),r.jsx(Ct,{value:w.env,onChange:Q=>j({...w,env:Q.target.value}),placeholder:'{"API_KEY": "${API_KEY}"}',className:"mt-1 font-mono text-sm",rows:3}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:["Use $","{VAR_NAME}"," syntax for variables from .env file"]})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>x({...h,open:!1}),children:"Cancel"}),r.jsxs(re,{onClick:X,disabled:C,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[C?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),r.jsx(wt,{open:E.open,onOpenChange:Q=>P({open:Q,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:r.jsxs(xt,{className:`bg-white dark:bg-slate-950 ${E.showTerminal?"max-w-4xl h-[80vh] max-h-[800px]":"max-w-lg"}`,children:[r.jsxs(vt,{children:[r.jsx(yt,{className:"flex items-center gap-2",children:E.localTool?r.jsxs(r.Fragment,{children:[r.jsx(os,{className:"w-5 h-5 text-purple-600"})," Configure ",E.localTool.name]}):E.mode==="folder"?r.jsxs(r.Fragment,{children:[r.jsx(Kr,{className:"w-5 h-5 text-green-600"})," Import MCP from Folder"]}):r.jsxs(r.Fragment,{children:[r.jsx(uu,{className:"w-5 h-5 text-purple-600"})," Import MCP from URL"]})}),r.jsx(ur,{children:E.localTool?`${L.name} will analyze ${E.localTool.name} and generate the correct configuration.`:E.mode==="folder"?`Enter the path to a local MCP server folder. ${L.name} will analyze it and generate the configuration.`:`Enter a GitHub repository URL. ${L.name} will clone it, read the README, and help configure it.`})]}),!E.showTerminal&&!E.localTool?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"py-4",children:E.mode==="folder"?r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Folder Path"}),r.jsx(ct,{value:T,onChange:Q=>N(Q.target.value),placeholder:"/path/to/mcp-server or ~/projects/my-mcp",className:"mt-1 font-mono",onKeyDown:Q=>Q.key==="Enter"&&T.trim()&&P({...E,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}})}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Enter the full path to an existing MCP server project"})]}):r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL"}),r.jsx(ct,{value:E.url,onChange:Q=>P({...E,url:Q.target.value}),placeholder:"https://github.com/user/mcp-server-example",className:"mt-1",onKeyDown:Q=>Q.key==="Enter"&&V()}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["The repository will be cloned to ",b||"~/mcp-tools"]})]})}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Cancel"}),E.mode==="folder"?r.jsxs(re,{onClick:()=>T.trim()&&P({...E,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}}),disabled:!T.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(os,{className:"w-4 h-4 mr-2"}),"Analyze with ",L.name]}):r.jsxs(re,{onClick:V,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(os,{className:"w-4 h-4 mr-2"}),"Import with ",L.name]})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[E.localTool&&r.jsx("div",{className:"mb-3 p-3 bg-purple-50 dark:bg-purple-950/30 rounded-lg border border-purple-200 dark:border-purple-800",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Kr,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),r.jsx("code",{className:"text-purple-700 dark:text-purple-300",children:E.localTool.path})]})}),r.jsx("div",{className:"flex-1 bg-gray-900 rounded-lg overflow-hidden",style:{minHeight:"200px"},children:r.jsx(xh,{cwd:((ie=E.localTool)==null?void 0:ie.path)||b||"~/reg/tools",initialCommand:$(),onExit:de,height:"100%"})}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[r.jsx(L5,{className:"w-4 h-4"}),"Paste MCP Config JSON"]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 mb-2",children:"Copy the JSON config from the terminal output above and paste it here to add to your registry."}),r.jsx(Ct,{value:E.pastedConfig,onChange:Q=>P({...E,pastedConfig:Q.target.value}),placeholder:`{
  "mcpServers": {
    "example": {
      "command": "npx",
      "args": ["-y", "@example/mcp-server"]
    }
  }
}`,className:"font-mono text-sm bg-white dark:bg-slate-900",rows:6})]}),r.jsxs("div",{className:"mt-4 flex justify-between",children:[r.jsx(re,{variant:"outline",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Close"}),r.jsxs(re,{onClick:pe,disabled:!E.pastedConfig.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config list                       # List available MCPs ( = active)"}),r.jsx("p",{children:"coder-config add <mcp> [mcp...]         # Add MCP(s) to project"}),r.jsx("p",{children:"coder-config remove <mcp> [mcp...]      # Remove MCP(s) from project"}),r.jsx("p",{children:"coder-config registry                    # List MCPs in registry"}),r.jsx("p",{children:"coder-config registry add <name> '...'  # Add MCP to registry"}),r.jsx("p",{children:"coder-config registry remove <name>     # Remove from registry"})]})]})]})}function BH({project:e,onUpdate:t}){var L,B,H,q;const[s,n]=_.useState(null),[o,c]=_.useState(!0),[u,l]=_.useState(null),[d,f]=_.useState(""),[m,h]=_.useState(!1),[x,w]=_.useState("global"),[j,C]=_.useState(""),[v,y]=_.useState([]),[g,b]=_.useState({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""});_.useEffect(()=>{k()},[]);const k=async()=>{try{c(!0);const z=await ue.getMemory();n(z)}catch{Y.error("Failed to load memory")}finally{c(!1)}};_.useEffect(()=>{u&&E(u.path)},[u]);const E=async z=>{try{const G=await ue.getMemoryFile(z);f(G.content||"")}catch{Y.error("Failed to load file")}},P=async()=>{if(u){h(!0);try{await ue.saveMemoryFile(u.path,d),Y.success("Saved!"),k()}catch{Y.error("Failed to save")}finally{h(!1)}}},T=async()=>{if(!j.trim()){y([]);return}try{const z=await ue.searchMemory(j);y(z.results||[])}catch{Y.error("Search failed")}},N=async()=>{let z="";const{type:G}=g;switch(G){case"preference":if(!g.name.trim()){Y.error("Name required");return}z=`**${g.name}**: ${g.description}`;break;case"correction":if(!g.wrong.trim()||!g.right.trim()){Y.error('Both "wrong" and "right" are required');return}z=`**Wrong**: ${g.wrong}
**Right**: ${g.right}`;break;case"fact":if(!g.category.trim()){Y.error("Category required");return}z=`**${g.category}**: ${g.details}`;break;case"pattern":if(!g.name.trim()){Y.error("Name required");return}z=`**${g.name}**
${g.description}`;break;case"decision":if(!g.title.trim()){Y.error("Title required");return}z=`**${g.title}**

**Context**: ${g.context}

**Decision**: ${g.decision}

**Rationale**: ${g.rationale}`;break;case"issue":if(!g.title.trim()){Y.error("Title required");return}z=`**${g.title}**

${g.description}`;break;case"history":case"context":default:if(!g.content.trim()){Y.error("Content required");return}z=g.content;break}try{const J=["pattern","decision","issue","history","context"].includes(G)?"project":"global";await ue.addMemoryEntry(G,z,J),Y.success(`Added ${G} entry`),b({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),k()}catch{Y.error("Failed to add entry")}},M=async()=>{try{await ue.initProjectMemory(e.dir),Y.success("Project memory initialized!"),k()}catch(z){Y.error(z.message||"Failed to initialize")}};if(o)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-indigo-600"})});const I={global:[{id:"preference",label:"Preference",icon:sn,desc:"User preferences (tools, style, etc.)"},{id:"correction",label:"Correction",icon:$s,desc:"Mistakes to avoid"},{id:"fact",label:"Fact",icon:ko,desc:"Facts about your environment"}],project:[{id:"context",label:"Context",icon:Br,desc:"Project overview and conventions"},{id:"pattern",label:"Pattern",icon:Ku,desc:"Code patterns in this project"},{id:"decision",label:"Decision",icon:So,desc:"Architecture decisions"},{id:"issue",label:"Issue",icon:$s,desc:"Known issues and workarounds"},{id:"history",label:"History",icon:ec,desc:"Session work log"}]};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(jo,{className:"w-5 h-5 text-purple-600"}),"Memory System"]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>b({open:!0,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Entry"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ct,{placeholder:"Search memory...",value:j,onChange:z=>C(z.target.value),onKeyDown:z=>z.key==="Enter"&&T(),className:"flex-1"}),r.jsx(re,{variant:"outline",onClick:T,children:r.jsx(jc,{className:"w-4 h-4"})})]}),v.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-900 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Search Results"}),r.jsx("div",{className:"space-y-2",children:v.map((z,G)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:z.scope==="global"?"default":"secondary",children:z.scope}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:z.file})]}),z.matches.map((J,K)=>r.jsxs("div",{className:"ml-4 text-gray-600 dark:text-slate-400 text-xs mt-1",children:["Line ",J.line,": ",J.text]},K))]},G))})]})]}),r.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:["global","project","sync"].map(z=>r.jsxs("button",{onClick:()=>w(z),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${x===z?"bg-white dark:bg-slate-950 border border-b-white dark:border-b-slate-950 border-gray-200 dark:border-slate-700 -mb-[1px] text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:[z.charAt(0).toUpperCase()+z.slice(1)," Memory"]},z))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[x==="global"&&"Global Memory Files",x==="project"&&"Project Memory Files",x==="sync"&&"Sync State"]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[x==="global"&&"~/.claude/memory/",x==="project"&&`${e.dir}/.claude/memory/`,x==="sync"&&"~/.claude/sync/"]})]}),r.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[x==="global"&&((L=s==null?void 0:s.global)==null?void 0:L.files.map(z=>r.jsxs("button",{onClick:()=>z.exists&&l(z),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(u==null?void 0:u.path)===z.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${z.exists?"":"opacity-50"}`,children:[r.jsx(Br,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:z.type})]}),z.exists?r.jsx($t,{className:"w-4 h-4 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},z.name))),x==="project"&&r.jsx(r.Fragment,{children:(B=s==null?void 0:s.project)!=null&&B.initialized?(H=s==null?void 0:s.project)==null?void 0:H.files.map(z=>r.jsxs("button",{onClick:()=>z.exists&&l(z),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(u==null?void 0:u.path)===z.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${z.exists?"":"opacity-50"}`,children:[r.jsx(Br,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:z.type})]}),z.exists?r.jsx($t,{className:"w-4 h-4 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},z.name)):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(jo,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Project memory not initialized"}),r.jsxs(re,{onClick:M,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Initialize Project Memory"]})]})}),x==="sync"&&r.jsx("div",{className:"p-4",children:(q=s==null?void 0:s.sync)!=null&&q.state?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current State"}),r.jsx("pre",{className:"text-xs bg-gray-50 dark:bg-slate-900 p-3 rounded overflow-auto max-h-48 text-gray-800 dark:text-slate-300",children:JSON.stringify(s.sync.state,null,2)})]}),s.sync.history.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["History (",s.sync.history.length,")"]}),r.jsx("div",{className:"space-y-1",children:s.sync.history.map((z,G)=>r.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400 flex items-center gap-2",children:[r.jsx(ec,{className:"w-3 h-3"}),z.name]},G))})]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(ec,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No sync state"}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"State is created by session hooks"})]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:u?u.name:"Select a file"}),u&&r.jsxs(re,{size:"sm",onClick:P,disabled:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[m?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save"]})]}),r.jsx("div",{className:"p-4",children:u?r.jsx(Ct,{value:d,onChange:z=>f(z.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"File content..."}):r.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400 dark:text-slate-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Br,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Select a file to edit"})]})})})]})]}),r.jsx(wt,{open:g.open,onOpenChange:z=>b({...g,open:z}),children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Add Memory Entry"}),r.jsx(ur,{children:"Add a new entry to the appropriate memory file."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Entry Type"}),r.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[...I.global,...I.project].map(z=>{const G=z.icon,J=I.global.some(K=>K.id===z.id);return r.jsxs("button",{onClick:()=>b({...g,type:z.id}),className:`p-2 rounded-lg border text-left transition-colors ${g.type===z.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.label})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:J?"Global":"Project"})]},z.id)})})]}),g.type==="preference"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Name"}),r.jsx(ct,{value:g.name,onChange:z=>b({...g,name:z.target.value}),placeholder:"e.g., package-manager",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(ct,{value:g.description,onChange:z=>b({...g,description:z.target.value}),placeholder:"e.g., Always use pnpm instead of npm",className:"mt-1"})]})]}),g.type==="correction"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Wrong (what to avoid)"}),r.jsx(Ct,{value:g.wrong,onChange:z=>b({...g,wrong:z.target.value}),placeholder:"e.g., Using npm install",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Right (what to do instead)"}),r.jsx(Ct,{value:g.right,onChange:z=>b({...g,right:z.target.value}),placeholder:"e.g., Use pnpm install",className:"mt-1",rows:2})]})]}),g.type==="fact"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Category"}),r.jsx(ct,{value:g.category,onChange:z=>b({...g,category:z.target.value}),placeholder:"e.g., shell, editor, system",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Details"}),r.jsx(Ct,{value:g.details,onChange:z=>b({...g,details:z.target.value}),placeholder:"e.g., Using zsh with oh-my-zsh",className:"mt-1",rows:2})]})]}),g.type==="pattern"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pattern Name"}),r.jsx(ct,{value:g.name,onChange:z=>b({...g,name:z.target.value}),placeholder:"e.g., API Response Format",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(Ct,{value:g.description,onChange:z=>b({...g,description:z.target.value}),placeholder:"Describe the pattern and when to use it...",className:"mt-1",rows:3})]})]}),g.type==="decision"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Title"}),r.jsx(ct,{value:g.title,onChange:z=>b({...g,title:z.target.value}),placeholder:"e.g., Use React Query for data fetching",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context"}),r.jsx(Ct,{value:g.context,onChange:z=>b({...g,context:z.target.value}),placeholder:"What problem were we solving?",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Decision"}),r.jsx(Ct,{value:g.decision,onChange:z=>b({...g,decision:z.target.value}),placeholder:"What did we decide?",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rationale"}),r.jsx(Ct,{value:g.rationale,onChange:z=>b({...g,rationale:z.target.value}),placeholder:"Why this choice over alternatives?",className:"mt-1",rows:2})]})]}),g.type==="issue"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Issue Title"}),r.jsx(ct,{value:g.title,onChange:z=>b({...g,title:z.target.value}),placeholder:"e.g., Memory leak in useEffect",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description / Workaround"}),r.jsx(Ct,{value:g.description,onChange:z=>b({...g,description:z.target.value}),placeholder:"Describe the issue and any workarounds...",className:"mt-1",rows:3})]})]}),(g.type==="history"||g.type==="context")&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Content"}),r.jsx(Ct,{value:g.content,onChange:z=>b({...g,content:z.target.value}),placeholder:g.type==="history"?"What work was done this session?":"Project context and overview...",className:"mt-1",rows:4})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>b({...g,open:!1}),children:"Cancel"}),r.jsxs(re,{onClick:N,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config memory                         # Show memory status"}),r.jsx("p",{children:"coder-config memory init                    # Initialize project memory"}),r.jsx("p",{children:'coder-config memory add <type> "<content>"  # Add entry'}),r.jsx("p",{children:"coder-config memory search <query>          # Search all memory"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 text-xs mt-2",children:"# Types: preference, correction, fact (global) | context, pattern, decision, issue, history (project)"})]})]})]})}function $H({icon:e,iconColor:t="indigo",title:s,subtitle:n,actions:o,className:c}){const u={indigo:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",amber:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",red:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",gray:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"};return r.jsxs("div",{className:Ne("flex items-center justify-between",c),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e&&r.jsx("div",{className:Ne("w-10 h-10 rounded-lg flex items-center justify-center",u[t]),children:e}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s}),n&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:n})]})]}),o&&r.jsx("div",{className:"flex gap-2",children:o})]})}function zH({icon:e,title:t,description:s,action:n,className:o}){return r.jsxs("div",{className:Ne("p-12 text-center",o),children:[e&&r.jsx("div",{className:"mx-auto mb-4 text-gray-300 dark:text-slate-600",children:e}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:t}),s&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:s}),n]})}function p_({className:e,size:t="default"}){const s={sm:"w-4 h-4",default:"w-6 h-6",lg:"w-8 h-8"};return r.jsx(Ze,{className:Ne("animate-spin",s[t],e)})}function HH(e={}){const[t,s]=_.useState(!1);return{execute:_.useCallback(async o=>{var c,u,l,d;s(!0);try{const f=await o();if(f&&typeof f=="object"){if(f.success===!1){const m=f.error||"Operation failed";return(c=e.onError)==null||c.call(e,m),f}if(f.success===!0||f.success===void 0)return(u=e.onSuccess)==null||u.call(e,f),f}return(l=e.onSuccess)==null||l.call(e,f),f}catch(f){const m=f.message||"Operation failed";return(d=e.onError)==null||d.call(e,m),{success:!1,error:m}}finally{s(!1)}},[e.onSuccess,e.onError]),loading:t}}function WH(e=null){const[t,s]=_.useState(!1),[n,o]=_.useState(e),c=_.useCallback((d=null)=>{o(d),s(!0)},[]),u=_.useCallback(()=>{s(!1),setTimeout(()=>o(null),150)},[]),l=_.useCallback(d=>{d?s(!0):u()},[u]);return{isOpen:t,data:n,open:c,close:u,onOpenChange:l,setData:o}}function VH({onProjectSwitch:e}){const{projects:t,loading:s,fetch:n,remove:o,update:c}=Px(),[u,l]=_.useState(!1),d=WH(),[f,m]=_.useState(""),{execute:h,loading:x}=HH({onSuccess:()=>{Y.success("Project updated"),d.close()},onError:v=>Y.error(v||"Failed to update project")});_.useEffect(()=>{n()},[n]);const w=v=>{m(v.name),d.open(v)},j=()=>{!d.data||!f.trim()||h(()=>c(d.data.id,{name:f.trim()}))},C=async v=>{if(!confirm(`Remove "${v.name}" from the registry?

This won't delete any files.`))return;const y=await o(v.id);y.success?Y.success(`Removed project: ${v.name}`):Y.error(y.error||"Failed to remove project")};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(p_,{size:"lg",className:"text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx($H,{icon:r.jsx(Wi,{className:"w-5 h-5"}),iconColor:"indigo",title:"Projects",subtitle:"Registered projects for quick switching",actions:r.jsxs(r.Fragment,{children:[r.jsxs(re,{variant:"outline",onClick:()=>n(),size:"sm",children:[r.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(re,{onClick:()=>l(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-700 dark:text-blue-400",children:r.jsx("p",{children:"Projects registered here can be quickly switched in the header dropdown. The UI will update to show the selected project's configuration."})}),r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:t.length===0?r.jsx(zH,{icon:r.jsx(Kr,{className:"w-12 h-12"}),title:"No Projects Yet",description:"Add your first project to get started with quick switching.",action:r.jsxs(re,{onClick:()=>l(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Your First Project"]})}):r.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:t.map(v=>r.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${v.isActive?"bg-indigo-50 dark:bg-indigo-950/30":"hover:bg-gray-50 dark:hover:bg-slate-900"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${v.isActive?"bg-indigo-100 dark:bg-indigo-900/50":v.exists?"bg-gray-100 dark:bg-slate-800":"bg-amber-100 dark:bg-amber-900/30"}`,children:v.isActive?r.jsx($t,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}):v.exists?r.jsx(Kr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}):r.jsx(Nc,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:`font-medium truncate ${v.isActive?"text-indigo-700 dark:text-indigo-400":"text-gray-900 dark:text-white"}`,children:v.name}),v.hasClaudeConfig&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded",children:".claude"}),v.isActive&&r.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Active"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-mono truncate",children:v.path.replace(/^\/Users\/[^/]+/,"~")}),!v.exists&&r.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Path not found - the directory may have been moved or deleted"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>w(v),className:"text-gray-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Edit project name",children:r.jsx(Yu,{className:"w-4 h-4"})}),r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>C(v),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Remove from registry",children:r.jsx(js,{className:"w-4 h-4"})})]})]},v.id))})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config project add [path]        # Add project"}),r.jsx("p",{children:"coder-config project remove <name>    # Remove project"}),r.jsx("p",{children:"coder-config project                   # List projects"})]})]}),r.jsx(mN,{open:u,onOpenChange:l,onAdded:n}),r.jsx(wt,{open:d.isOpen,onOpenChange:d.onOpenChange,children:r.jsxs(xt,{className:"bg-card",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Edit Project"}),r.jsx(ur,{children:"Update the project name displayed in the registry."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Project Name"}),r.jsx(ct,{value:f,onChange:v=>m(v.target.value),placeholder:"My Project",className:"mt-1",onKeyDown:v=>v.key==="Enter"&&j()}),d.data&&r.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:d.data.path.replace(/^\/Users\/[^/]+/,"~")})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:d.close,children:"Cancel"}),r.jsxs(re,{onClick:j,disabled:x||!f.trim(),children:[x?r.jsx(p_,{size:"sm",className:"mr-2"}):null,"Save"]})]})]})})]})}const UH=[{id:"getting-started",title:"Getting Started",icon:ko,subsections:[{id:"installation",title:"Installation"},{id:"quick-start",title:"Quick Start"},{id:"updating",title:"Updating"}]},{id:"projects",title:"Project Management",icon:Rn,subsections:[{id:"project-registry",title:"Project Registry"},{id:"project-switching",title:"Switching Projects"},{id:"project-structure",title:"Project Structure"}]},{id:"file-explorer",title:"Project Explorer",icon:Kr,subsections:[{id:"claude-folders",title:".claude Folders"},{id:"rules",title:"Rules"},{id:"skills",title:"Skills"},{id:"workflows",title:"Workflows"},{id:"hierarchy",title:"Configuration Hierarchy"},{id:"subprojects",title:"Sub-Projects"}]},{id:"workstreams",title:"Workstreams",icon:Rn,subsections:[{id:"workstreams-overview",title:"Overview"},{id:"creating-workstreams",title:"Creating Workstreams"},{id:"workstream-hooks",title:"Hook Integration"},{id:"activity-tracking",title:"Activity Tracking"}]},{id:"loops",title:"Ralph Loops",icon:cc,isExperimental:!0,subsections:[{id:"loops-overview",title:"Overview"},{id:"creating-loops",title:"Creating Loops"},{id:"loop-phases",title:"Loop Phases"},{id:"loop-controls",title:"Controls"},{id:"loop-configuration",title:"Configuration"}]},{id:"plugins",title:"Plugins",icon:Bn,subsections:[{id:"plugins-overview",title:"Overview"},{id:"installing-plugins",title:"Installing Plugins"},{id:"plugin-marketplaces",title:"Marketplaces"}]},{id:"mcp-registry",title:"MCP Registry",icon:Bn,subsections:[{id:"mcp-overview",title:"Overview"},{id:"adding-mcps",title:"Adding MCPs"},{id:"configuring-mcps",title:"Configuring MCPs"},{id:"environment-vars",title:"Environment Variables"}]},{id:"memory",title:"Memory System",icon:jo,subsections:[{id:"memory-overview",title:"Overview"},{id:"global-memory",title:"Global Memory"},{id:"project-memory",title:"Project Memory"},{id:"memory-entries",title:"Memory Entry Types"}]},{id:"sessions",title:"Session Persistence",icon:Vs,isNew:!0,subsections:[{id:"sessions-overview",title:"Overview"},{id:"sessions-usage",title:"Using Sessions"},{id:"sessions-storage",title:"Storage"}]},{id:"claude-settings",title:"Claude Code Settings",icon:Vn,subsections:[{id:"permissions",title:"Permissions"},{id:"model-selection",title:"Model Selection"},{id:"behavior",title:"Behavior Settings"},{id:"hooks",title:"Hooks"}]},{id:"gemini-settings",title:"Gemini CLI Settings",icon:qt,subsections:[{id:"gemini-model",title:"Model Selection"},{id:"gemini-display",title:"Display Options"},{id:"gemini-general",title:"General Settings"},{id:"gemini-sandbox",title:"Sandbox Mode"}]},{id:"codex-settings",title:"Codex CLI Settings",icon:qt,subsections:[{id:"codex-overview",title:"Overview"},{id:"codex-model",title:"Model Selection"},{id:"codex-security",title:"Security Settings"},{id:"codex-mcp",title:"MCP Servers"},{id:"codex-features",title:"Features & Display"}]},{id:"antigravity-settings",title:"Antigravity Settings",icon:kc,subsections:[{id:"antigravity-security",title:"Security Policies"},{id:"antigravity-mcp",title:"MCP Servers"},{id:"antigravity-browser",title:"Browser Allowlist"},{id:"antigravity-agent",title:"Agent Mode"}]},{id:"cli",title:"CLI Reference",icon:qt,subsections:[{id:"cli-overview",title:"Overview"},{id:"cli-commands",title:"All Commands"},{id:"daemon-mode",title:"Daemon Mode"}]},{id:"multi-tool",title:"Multi-Tool Support",icon:Yt,subsections:[{id:"supported-tools",title:"Supported Tools"},{id:"gemini-cli",title:"Gemini CLI"},{id:"antigravity",title:"Antigravity"},{id:"tool-differences",title:"Tool Differences"},{id:"enabling-tools",title:"Enabling Tools"},{id:"syncing-rules",title:"Syncing Rules"}]},{id:"keyboard",title:"Keyboard Shortcuts",icon:yM,subsections:[]},{id:"troubleshooting",title:"Troubleshooting",icon:Aa,subsections:[{id:"common-issues",title:"Common Issues"},{id:"getting-help",title:"Getting Help"}]}],GH={installation:{title:"Installation",content:`
## Installation

Choose your preferred installation method:

### Option A: Desktop App (Recommended)

Download the native app from [GitHub Releases](https://github.com/regression-io/coder-config/releases):

| Platform | Download |
|----------|----------|
| **macOS (Apple Silicon)** | \`Claude.Config_*_aarch64.dmg\` |
| **macOS (Intel)** | \`Claude.Config_*_x64.dmg\` |
| **Windows** | \`Claude.Config_*_x64-setup.exe\` |
| **Linux** | \`Claude.Config_*_amd64.deb\` or \`.AppImage\` |

The desktop app bundles everything - no Node.js or npm required. Just download, install, and run.

### Option B: npm Package (CLI)

Install globally via npm:

\`\`\`bash
npm install -g coder-config
\`\`\`

**Requirements:** Node.js 18+

Verify installation:

\`\`\`bash
coder-config --version
\`\`\`

Then start the UI:

\`\`\`bash
coder-config ui
\`\`\`
    `},"quick-start":{title:"Quick Start",content:`
## Quick Start

Claude Code works great out of the box. This tool helps you manage its configuration visually.

### 1. Launch Coder Config

**Desktop App:** Double-click the app after installing from GitHub Releases.

**CLI:** Run \`coder-config ui\` in your terminal.

### 2. Add Your Projects

Click "Add Project" to register directories where you use Claude Code.

### 3. Configure as Needed

| Feature | Description |
|---------|-------------|
| **Rules** | Guidelines Claude follows in this project |
| **Skills** | Reusable prompts (slash commands) |
| **MCPs** | External tools Claude can use |
| **Permissions** | What Claude can do automatically |

### 4. Use Claude Code Normally

\`\`\`bash
cd ~/your-project
claude
\`\`\`

Claude Code automatically reads configuration from the \`.claude/\` folder.

### Optional: Install as PWA

Using the CLI version? The UI is a PWA - install it to your taskbar via Chrome/Edge's install button or Safari's Share  Add to Dock.
    `},updating:{title:"Updating",content:`
## Updating

### Desktop App

Download the latest version from [GitHub Releases](https://github.com/regression-io/coder-config/releases) and install over your existing installation.

### npm Package

The UI automatically checks npm for new versions. When an update is available, you'll see a notification in the Preferences page.

**Manual update:**

\`\`\`bash
npm install -g coder-config@latest
\`\`\`

**After updating (if using daemon mode):**

\`\`\`bash
coder-config ui stop
coder-config ui
\`\`\`
    `}},KH={"project-registry":{title:"Project Registry",content:`
## Project Registry

The project registry keeps track of all your Claude-enabled projects. It's stored in \`~/.coder-config/projects.json\` (or \`~/.claude-config/projects.json\` for legacy installs).

### Adding Projects

**Via UI:**
1. Click "Add Project" in the header
2. Select a directory

**Via CLI:**
\`\`\`bash
coder-config project add /path/to/project
coder-config project add /path/to/project --name "My Project"
\`\`\`

### Listing Projects

\`\`\`bash
coder-config project
\`\`\`

### Removing Projects

\`\`\`bash
coder-config project remove "My Project"
coder-config project remove /path/to/project
\`\`\`

Note: Removing a project from the registry does not delete the project files.
    `},"project-switching":{title:"Switching Projects",content:`
## Switching Projects

### In Claude Code

To work on a project with Claude Code, simply run \`claude\` from the project directory:

\`\`\`bash
cd ~/projects/my-app
claude
\`\`\`

Claude Code automatically uses the configuration from the current directory's \`.claude/\` folder.

### In the Config UI

The project dropdown in the header switches which project's **configuration** you're editing. This doesn't affect Claude Code sessions - it just changes what the UI displays.

\`\`\`bash
# Start UI for a specific project
coder-config ui /path/to/project
\`\`\`

The UI remembers your last active project between sessions.
    `},"project-structure":{title:"Project Structure",content:`
## Project Structure

A Claude-enabled project has a \`.claude\` folder with this structure:

\`\`\`
your-project/
 .claude/
    mcps.json       # MCP configuration
    settings.json   # Project-specific settings
    CLAUDE.md       # Project instructions
    rules/          # Rule files (*.md)
       style.md
       patterns.md
    commands/       # Skill files (*.md)
       review.md
       test.md
    workflows/      # Workflow files (*.md)
       deploy.md
    memory/         # Project memory (optional)
        context.md
        patterns.md
 .mcp.json           # Generated - Claude Code reads this
\`\`\`

### Generated Files

The \`.mcp.json\` file in your project root is generated by running \`coder-config apply\`. Claude Code reads this file to configure MCPs.
    `}},qH={"claude-folders":{title:".claude Folders",content:`
## .claude Folders

The \`.claude\` folder contains all Claude Code configuration for a directory.

### Creating .claude Folders

In the Project Explorer, click "+ .claude" on any directory in the hierarchy to create a new configuration folder.

### Hierarchy

Configuration is inherited from parent directories:

\`\`\`
~/.claude/              # Global - applies everywhere
~/projects/.claude/     # Workspace - applies to all projects here
~/projects/my-app/      # Project - specific to this project
\`\`\`

Settings merge from global to project, with more specific settings taking precedence.
    `},rules:{title:"Rules",content:`
## Rules

Rules are markdown files that provide guidelines and instructions for Claude.

### Creating Rules

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "rules"
3. Enter a name (e.g., "coding-style")

### Rule Content

Rules should be written in markdown and contain:
- Guidelines for code style
- Project-specific patterns
- Do's and don'ts
- Architecture decisions

### Example Rule

\`\`\`markdown
# Coding Style

## TypeScript
- Use strict mode
- Prefer interfaces over types
- Use named exports

## React
- Use functional components
- Prefer hooks over HOCs
- Keep components small and focused
\`\`\`

### Rule Priority

Rules are loaded in order from global to project. Project rules can override global rules.
    `},skills:{title:"Skills",content:`
## Skills

Skills are reusable prompts that can be invoked in Claude Code via slash commands.

### Creating Skills

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button and select "New Skill"
3. Enter a name (e.g., "review")

### Skill Content

Skills are markdown files containing a prompt template. They can include:
- Instructions for Claude
- Templates with placeholders
- Multi-step workflows

### Example Skill

\`\`\`markdown
# Code Review

Review the selected code for:

1. **Bugs** - Logic errors, edge cases
2. **Security** - Vulnerabilities, input validation
3. **Performance** - Inefficiencies, memory leaks
4. **Style** - Consistency, readability

Provide specific suggestions with code examples.
\`\`\`

### Using Skills

In Claude Code, use \`/skill-name\` to invoke a skill.

### Note on Commands

Claude Code previously called these "commands" and stored them in \`.claude/commands/\`. Both locations still work - skills and commands have been merged into one system.
    `},workflows:{title:"Workflows",content:`
## Workflows

Workflows are markdown files that define multi-step processes or cross-repository operations.

### Location

Workflows are stored in \`.claude/workflows/\` in your project root.

### Creating Workflows

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button and select "New Workflow"
3. Enter a name (e.g., "deploy-all")

### Workflow Content

Workflows typically include:
- Step-by-step instructions
- Cross-repository coordination
- Environment setup
- Deployment processes

### Example Workflow

\`\`\`markdown
# Deploy All Services

## Steps

1. Build auth-service first
2. Then build api-gateway
3. Run integration tests
4. Deploy to staging
5. Deploy to production
\`\`\`

### Use Cases

- Multi-repo deployments
- Complex build processes
- Onboarding procedures
- Release workflows
    `},subprojects:{title:"Sub-Projects",content:`
## Sub-Projects

Sub-projects are nested git repositories within your main project (monorepos, workspaces).

### Detection

Sub-projects are automatically detected by scanning for \`.git\` directories within your project.

### Sub-Projects View

Access via **Sub-Projects** in the sidebar (only appears if sub-projects exist).

The view shows:
- All detected sub-projects
- Which have \`.claude\` folders configured
- MCP count per sub-project

### Managing Sub-Projects

**Initialize .claude folder:**
Click the folder+ icon on a sub-project without configuration.

**Delete .claude folder:**
Click the trash icon (with confirmation) to remove configuration.

**Switch to sub-project:**
Click a sub-project card to switch context and manage it in Project Explorer.

### Sticky Navigation

When inside a sub-project, the Sub-Projects menu remains visible showing all sub-projects from the root project. Use "Back to Root" to return.

### Configuration Inheritance

Sub-projects inherit configuration from parent directories. Each sub-project can have its own \`.claude\` folder that extends the parent configuration.
    `},hierarchy:{title:"Configuration Hierarchy",content:`
## Configuration Hierarchy

Coder Config uses a hierarchical configuration system where settings cascade from global to local.

### Levels

1. **Global** (\`~/.claude/\`) - Applies to all projects
2. **Workspace** (intermediate directories) - Applies to projects in that directory
3. **Project** (your project's \`.claude/\`) - Specific to one project

### Merging Behavior

- **MCPs**: Merged, with local configs overriding global
- **Rules**: All rules are loaded, local rules can override
- **Skills**: All skills are available, local takes precedence
- **Settings**: Deep merged, local values override

### Viewing the Hierarchy

In the Project Explorer, you'll see all \`.claude\` folders in the hierarchy from your project up to home. You can manage configuration at each level.
    `}},YH={"workstreams-overview":{title:"Workstreams Overview",content:`
## Workstreams

Workstreams are **virtual projects** that group multiple repos belonging to the same product or system.

### The Problem

Many products are split across multiple repositories:
- Frontend repo
- Backend/API repo
- Shared libraries or types
- Infrastructure configs

When you work on "Product X", you're jumping between repos that are all part of the same product.

### The Solution

A workstream groups these repos together so Claude understands they're related:

\`\`\`
"Acme App" workstream:
  - acme-frontend (React app)
  - acme-api (Node.js backend)
  - acme-shared (TypeScript types)
\`\`\`

### Workstream Structure

Each workstream has:
- **Name** - Product or system name (e.g., "Acme App", "Customer Portal")
- **Projects** - List of repos that belong to this product
- **Rules** - Context and guidelines for the entire product
- **Active Status** - Only one workstream can be active at a time
    `},"creating-workstreams":{title:"Creating Workstreams",content:`
## Creating Workstreams

### Via UI

1. Go to **Workstreams** in the sidebar
2. Click **New Workstream**
3. Name it after your product (e.g., "Acme App")
4. Add the repos that belong to this product
5. Write rules for Claude to follow
6. Click **Create**

### Via CLI

\`\`\`bash
# Create a workstream for your product
coder-config workstream create "Acme App"

# Add repos to it
coder-config workstream add "Acme App" ~/projects/acme-frontend
coder-config workstream add "Acme App" ~/projects/acme-api
coder-config workstream add "Acme App" ~/projects/acme-shared

# Activate it
coder-config workstream use "Acme App"
\`\`\`

### Managing Workstreams

**List all workstreams:**
\`\`\`bash
coder-config workstream
\`\`\`

**Show active workstream:**
\`\`\`bash
coder-config workstream active
\`\`\`

**Delete a workstream:**
\`\`\`bash
coder-config workstream delete "Acme App"
\`\`\`

### Editing Rules

In the UI, click a workstream to expand it and edit rules. Rules are markdown text that gets injected into Claude sessions:

\`\`\`markdown
# Acme App

Full-stack TypeScript application.
- Frontend: React 18 with Vite
- Backend: Node.js with Express
- Shared types in @acme/shared package

All repos follow the same code style and conventions.
\`\`\`
    `},"workstream-hooks":{title:"Workstream Hook Integration",content:`
## Hook Integration

For workstream rules to be automatically injected into Claude sessions, you need to install a pre-prompt hook.

### One-Click Install (Recommended)

1. Open Web UI  **Workstreams**
2. Click **Install Hook Automatically**
3. Done! A green "Hook Installed" badge will appear

### Manual Installation

Add to \`~/.claude/hooks/pre-prompt.sh\`:

\`\`\`bash
#!/bin/bash
coder-config workstream inject --silent
\`\`\`

Make it executable:
\`\`\`bash
chmod +x ~/.claude/hooks/pre-prompt.sh
\`\`\`

### How It Works

1. When you start a Claude session, the pre-prompt hook runs
2. It checks for an active workstream
3. If found, it outputs the workstream's rules
4. These rules are prepended to your Claude session context

### Testing the Hook

\`\`\`bash
# See what would be injected
coder-config workstream inject

# Silent mode (no output if no workstream)
coder-config workstream inject --silent
\`\`\`

### Auto-Detection

Claude-config can also detect which workstream to use based on your current directory:

\`\`\`bash
coder-config workstream detect /path/to/project
\`\`\`
    `},"activity-tracking":{title:"Activity Tracking",content:`
## Activity Tracking

Activity tracking observes which files and projects you work with during Claude sessions, enabling intelligent workstream suggestions.

### How It Works

1. A post-response hook logs file paths accessed during Claude sessions
2. Co-activity patterns are detected (projects frequently worked on together)
3. Workstream suggestions appear in the UI based on these patterns

### Setting Up Activity Tracking

Add to \`~/.claude/hooks/post-response.sh\`:

\`\`\`bash
#!/bin/bash
source /path/to/coder-config/hooks/activity-track.sh
\`\`\`

Or use the one-click install in the Workstreams view.

### Activity Insights Panel

In the **Workstreams** view, the Activity Insights panel shows:
- **Sessions tracked** - Number of Claude sessions logged
- **Files tracked** - Total file accesses recorded
- **Active projects** - Projects with recent activity
- **Top projects** - Most frequently accessed projects

### Workstream Suggestions

Based on co-activity patterns, coder-config suggests workstreams:

- **Co-activity score** - Percentage showing how often projects are worked on together
- **Create button** - Opens pre-filled dialog (tweak projects as needed)
- **Dismiss button** - Hide suggestions you don't want (persists to localStorage)

### Privacy

- Activity data is stored locally in \`~/.coder-config/activity.json\`
- Only file paths are logged (not file contents)
- You can delete the activity file at any time
- Activity tracking is read-only and never modifies your code
    `}},XH={"loops-overview":{title:"Ralph Loops Overview",content:`
## Ralph Loops

> **Experimental Feature:** Ralph Loops must be enabled in **Preferences > Experimental Features** before use.

Ralph Loops enable **autonomous development** - Claude Code runs continuously until a task is completed, without requiring manual intervention between iterations.

### The Problem

Complex development tasks often require multiple Claude sessions:
- Start task, Claude makes progress
- Review output, provide more context
- Continue, hit a blocker
- Clarify requirements, continue again
- Repeat until done

This back-and-forth is tedious and breaks your flow.

### The Solution

A Ralph Loop automates this workflow:

1. **Clarify** - Claude asks questions to understand requirements
2. **Plan** - Claude creates an implementation plan (you approve)
3. **Execute** - Claude implements the plan autonomously

The loop continues until the task is complete or budget limits are reached.

### Key Features

- **Three-phase workflow** - Ensures requirements are clear before implementation
- **Iteration limits** - Prevents runaway loops (default: 50 iterations)
- **Cost budgets** - Caps spending (default: $10)
- **Phase gates** - Manual plan approval before execution
- **Graceful pausing** - Stop at any time, resume later
    `},"creating-loops":{title:"Creating Loops",content:`
## Creating Loops

### First: Enable the Feature

Go to **Preferences > Experimental Features** and enable **Ralph Loops**.

### Via UI

1. Go to **Ralph Loops** in the sidebar (under Developer)
2. Click **New Loop**
3. Describe the task you want completed
4. Optionally select a workstream context
5. Click **Create Loop**

### Via CLI

\`\`\`bash
# Create a loop with a task description
coder-config loop create "Add user authentication with JWT tokens"

# Create within a workstream context
coder-config loop create "Fix API rate limiting" --workstream "Backend Services"
\`\`\`

### Task Description Tips

Be specific about what you want accomplished:

**Good task descriptions:**
- "Add user authentication using JWT tokens with refresh token support"
- "Refactor the payment module to use the new Stripe API v3"
- "Create unit tests for the user service with 80% coverage"

**Less effective:**
- "Fix the bug" (which bug?)
- "Make it better" (what specifically?)
- "Add features" (which features?)

### Starting a Loop

After creation, start the loop:

\`\`\`bash
coder-config loop start <loop-id>
\`\`\`

Then run Claude with the loop context:

\`\`\`bash
export CODER_LOOP_ID=<loop-id>
claude --continue "Your task description"
\`\`\`
    `},"loop-phases":{title:"Loop Phases",content:`
## Loop Phases

Every Ralph Loop progresses through three phases:

### Phase 1: Clarify

**Purpose:** Ensure requirements are fully understood before planning.

In this phase, Claude:
- Asks clarifying questions about the task
- Identifies ambiguities or missing information
- Documents Q&A in \`clarifications.md\`

**Advances when:** Claude determines requirements are clear (max 5 clarification iterations by default).

### Phase 2: Plan

**Purpose:** Create a detailed implementation plan.

In this phase, Claude:
- Analyzes the clarified requirements
- Creates a step-by-step implementation plan
- Saves the plan to \`plan.md\`

**Advances when:** You approve the plan (or auto-approve is enabled).

To approve a plan:
\`\`\`bash
coder-config loop approve <loop-id>
\`\`\`

Or click the approve button in the UI.

### Phase 3: Execute

**Purpose:** Implement the plan.

In this phase, Claude:
- Follows the implementation plan step by step
- Makes code changes, runs tests, etc.
- Continues until the task is complete

**Completes when:** Claude sets \`taskComplete=true\` in the loop state.

### Phase Indicators

In the UI, phases are color-coded:
- **Blue** - Clarify phase
- **Purple** - Plan phase
- **Green** - Execute phase
    `},"loop-controls":{title:"Loop Controls",content:`
## Controlling Loops

### Start / Resume

\`\`\`bash
coder-config loop start <loop-id>
\`\`\`

Starts a pending loop or resumes a paused one.

### Pause

\`\`\`bash
coder-config loop pause <loop-id>
\`\`\`

Pauses at the next safe point. The loop can be resumed later.

### Resume

\`\`\`bash
coder-config loop resume <loop-id>
\`\`\`

Same as \`start\` - continues a paused loop.

### Cancel

\`\`\`bash
coder-config loop cancel <loop-id>
\`\`\`

Stops the loop permanently. Can be deleted after cancellation.

### Approve Plan

\`\`\`bash
coder-config loop approve <loop-id>
\`\`\`

Approves the plan (when in plan phase), advancing to execute phase.

### Mark Complete

\`\`\`bash
coder-config loop complete <loop-id>
\`\`\`

Manually marks a loop as complete.

### Delete

\`\`\`bash
coder-config loop delete <loop-id>
\`\`\`

Deletes the loop and all its data.

### Status Commands

\`\`\`bash
# Show current active loop
coder-config loop status

# Show specific loop details
coder-config loop status <loop-id>

# List all loops
coder-config loop list

# Show completed loops history
coder-config loop history
\`\`\`
    `},"loop-configuration":{title:"Loop Configuration",content:`
## Configuration

Configure default limits for all new loops:

### Via UI

1. Go to **Ralph Loops**
2. Click **Config** button
3. Adjust settings
4. Click **Save**

### Via CLI

\`\`\`bash
# View current configuration
coder-config loop config

# Set max iterations (default: 50)
coder-config loop config --max-iterations 100

# Enable auto-approve for plans
coder-config loop config --auto-approve-plan

# Disable auto-approve
coder-config loop config --no-auto-approve-plan
\`\`\`

### Configuration Options

| Setting | Default | Description |
|---------|---------|-------------|
| Max Iterations | 50 | Loop pauses after this many iterations |
| Max Cost | $10.00 | Loop pauses when estimated cost exceeds this |
| Auto-Approve Plan | false | Skip manual plan approval |
| Max Clarify Iterations | 5 | Max questions before auto-advancing to plan |

### Safety Mechanisms

**Iteration Limits:** Prevents infinite loops. When reached, the loop pauses with reason "max_iterations".

**Cost Budgets:** Estimates token costs per iteration. Pauses with reason "budget" when exceeded.

**Phase Gates:** By default, you must manually approve plans. This ensures you review the approach before Claude starts implementing.

### Data Storage

Loop data is stored in:
\`\`\`
~/.coder-config/loops/
 loops.json           # Loop registry
 history.json         # Completed loops
 <loop-id>/
     state.json       # Current state
     plan.md          # Implementation plan
     clarifications.md # Q&A from clarify phase
     iterations/      # Per-iteration logs
\`\`\`
    `}},JH={"plugins-overview":{title:"Plugins Overview",content:`
## Plugins

Claude Code plugins extend functionality with LSP servers, MCP servers, and skills.

### What Are Plugins?

Plugins are packages that add capabilities to Claude Code:

- **LSP Servers** - Language Server Protocol servers for code intelligence
- **MCP Servers** - Model Context Protocol servers for additional tools
- **Skills** - Reusable prompts and workflows

### Plugin Directory

The **Plugins** page shows all available plugins with:

- **Search** - Find plugins by name or description
- **Category filter** - Filter by plugin category
- **Source filter** - Anthropic official vs Community plugins
- **Installed filter** - Show only installed or available plugins

### Plugin Types

| Type | Badge | Description |
|------|-------|-------------|
| LSP | \`LSP\` | Language server providing code intelligence |
| MCP | \`MCP\` | Model context protocol server |
| Skills | \`CMD\` | Custom skills and prompts |
    `},"installing-plugins":{title:"Installing Plugins",content:`
## Installing Plugins

### From Project Explorer

The recommended way to install plugins:

1. Open **Project Explorer**
2. Click the **+** menu on any project folder
3. Select **Install Plugins**
4. Browse available plugins
5. Toggle plugins on/off
6. Select scope (Project/Global/Local)

### Scope Options

| Scope | Location | Description |
|-------|----------|-------------|
| Project | \`.claude/plugins.json\` | Only for this project |
| Global | \`~/.claude/plugins.json\` | All projects |
| Local | Project-specific | Scoped to workspace |

### From Plugin Directory

1. Go to **Plugins** in the sidebar
2. Find a plugin you want
3. Click **Install** button
4. Select target project and scope

### Via CLI

\`\`\`bash
# Install a plugin to current project
claude plugin install plugin-name

# Install globally
claude plugin install plugin-name --global
\`\`\`
    `},"plugin-marketplaces":{title:"Plugin Marketplaces",content:`
## Plugin Marketplaces

Plugins are distributed through marketplaces (Git repositories).

### Default Marketplace

**claude-plugins-official** - Anthropic's official plugins

### Adding Marketplaces

1. Go to **Plugins** page
2. Click **Add Marketplace** button
3. Enter marketplace URL or shorthand

### Supported Formats

- \`owner/repo\`  GitHub shorthand
- \`https://github.com/owner/repo\`  Full URL
- \`/local/path\`  Local directory

### Managing Marketplaces

- **Refresh** - Update plugin list from all marketplaces
- **Remove** - Remove a marketplace (plugins remain installed)
- **View external** - Toggle to see external marketplace plugins

### Creating a Marketplace

A marketplace is a Git repo with:

\`\`\`
marketplace/
 plugins.json      # Plugin registry
 plugins/
     plugin-a/
        plugin.json
        ...
     plugin-b/
         ...
\`\`\`

### plugins.json Format

\`\`\`json
{
  "plugins": [
    {
      "name": "my-plugin",
      "description": "Does something useful",
      "category": "utilities",
      "source": "community"
    }
  ]
}
\`\`\`
    `}},QH={"mcp-overview":{title:"MCP Overview",content:`
## MCP Overview

MCPs (Model Context Protocol servers) extend Claude's capabilities by providing additional tools and context.

### What are MCPs?

MCPs are servers that implement the Model Context Protocol, providing:
- **Tools** - Additional commands Claude can execute
- **Resources** - Data and context Claude can access
- **Prompts** - Pre-defined prompt templates

### Common MCPs

- **filesystem** - File system access
- **github** - GitHub integration
- **postgres** - PostgreSQL database access
- **memory** - Persistent memory storage

### Configuration

MCPs are configured in \`.claude/mcps.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`
    `},"adding-mcps":{title:"Adding MCPs",content:`
## Adding MCPs

### Via UI - Registry

1. Go to **MCP Registry** in the sidebar
2. Click **Add MCP** button
3. Paste JSON configuration:

\`\`\`json
{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}
\`\`\`

4. Click "Add to Registry"

### Via UI - Config Editor

1. Go to **Project Explorer**
2. Select an \`mcps.json\` file
3. Click **Add MCP** in the editor header
4. Paste JSON to add inline MCP to that config level

### Accepted JSON Formats

Both formats work:

**Simple format:**
\`\`\`json
{ "name": { "command": "...", "args": [...] } }
\`\`\`

**Full format:**
\`\`\`json
{ "mcpServers": { "name": { "command": "...", "args": [...] } } }
\`\`\`

### Via CLI

\`\`\`bash
coder-config add filesystem github postgres
\`\`\`

### From Search Results

Search GitHub or npm in the Registry view. Click "Add" to pre-fill the JSON with suggested configuration.
    `},"configuring-mcps":{title:"Configuring MCPs",content:`
## Configuring MCPs

### Required Fields

- **command** - The executable to run (e.g., "npx", "node", "python")
- **args** - Array of command-line arguments

### Optional Fields

- **env** - Environment variables for the MCP
- **cwd** - Working directory

### Example Configuration

\`\`\`json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "\${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "\${DATABASE_URL}"
      }
    }
  }
}
\`\`\`

### Per-Level Configuration

You can enable/disable MCPs at different hierarchy levels. An MCP enabled globally can be disabled for a specific project.
    `},"environment-vars":{title:"Environment Variables",content:`
## Environment Variables

### Syntax

Use \`\${VAR_NAME}\` syntax in your MCP configuration:

\`\`\`json
{
  "env": {
    "API_KEY": "\${MY_API_KEY}"
  }
}
\`\`\`

### .env Files

Create a \`.claude/.env\` file in your project:

\`\`\`
GITHUB_TOKEN=ghp_xxxxx
DATABASE_URL=postgresql://localhost/mydb
\`\`\`

### Environment View

Use the **Environment** view in the sidebar to manage environment variables for your project.

### Security

- Never commit \`.claude/.env\` to version control
- Add it to your \`.gitignore\`
- Use different values for development and production
    `}},ZH={"memory-overview":{title:"Memory Overview",content:`
## Memory System

The memory system allows Claude to retain knowledge across sessions.

### Types of Memory

1. **Global Memory** (\`~/.claude/memory/\`)
   - Preferences - Your personal preferences
   - Corrections - Mistakes to avoid
   - Facts - Facts about your environment

2. **Project Memory** (\`project/.claude/memory/\`)
   - Context - Project overview
   - Patterns - Code patterns
   - Decisions - Architecture decisions
   - Issues - Known issues
   - History - Session history

### How It Works

Memory files are markdown documents that Claude reads at the start of each session, providing context and learned knowledge.
    `},"global-memory":{title:"Global Memory",content:`
## Global Memory

Global memory applies to all your Claude interactions.

### Location

\`~/.claude/memory/\`

### Files

- **preferences.md** - Your coding preferences, tool choices, style preferences
- **corrections.md** - Things Claude got wrong that it should remember
- **facts.md** - Facts about your environment, setup, tools

### Example: preferences.md

\`\`\`markdown
# Preferences

## Code Style
- Use 2 spaces for indentation
- Prefer functional programming patterns
- Always add TypeScript types

## Tools
- Use pnpm instead of npm
- Prefer Vite over webpack
\`\`\`
    `},"project-memory":{title:"Project Memory",content:`
## Project Memory

Project memory is specific to a single project.

### Location

\`project/.claude/memory/\`

### Files

- **context.md** - Project overview, tech stack, architecture
- **patterns.md** - Code patterns specific to this project
- **decisions.md** - Architectural decisions and rationale
- **issues.md** - Known issues and workarounds
- **history.md** - Log of work done in sessions

### Initializing Project Memory

In the Memory view, click "Initialize" to create memory files from templates.

### Example: context.md

\`\`\`markdown
# Project Context

## Overview
E-commerce platform built with Next.js and Prisma.

## Tech Stack
- Frontend: Next.js 14, React 18, Tailwind CSS
- Backend: Next.js API routes, Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js

## Key Directories
- /app - Next.js app router pages
- /components - React components
- /lib - Utilities and helpers
\`\`\`
    `},"memory-entries":{title:"Memory Entry Types",content:`
## Memory Entry Types

### Preference

User preferences for tools, style, and workflow.

\`\`\`markdown
## [Category]
- Preference description
- Another preference
\`\`\`

### Correction

Something Claude got wrong that should be remembered.

\`\`\`markdown
## [Topic]
- **Wrong**: What Claude did wrong
- **Right**: What to do instead
\`\`\`

### Pattern

A code pattern specific to the project.

\`\`\`markdown
## Pattern Name
Description of when to use this pattern.

\\\`\\\`\\\`typescript
// Code example
\\\`\\\`\\\`
\`\`\`

### Decision

An architectural decision with context.

\`\`\`markdown
## Decision Title
**Context**: Why this decision was needed
**Decision**: What was decided
**Rationale**: Why this was chosen
\`\`\`

### Issue

A known issue with workaround.

\`\`\`markdown
## Issue Title
**Problem**: Description of the issue
**Workaround**: How to work around it
\`\`\`
    `}},eW={"sessions-overview":{title:"Session Persistence",content:`
## Session Persistence

Save context from a Claude Code session and restore it on the next session start.

### The Problem

When a Claude Code session ends (context limit, exit, crash), you lose all the context Claude had about your task. Starting a new session means re-explaining everything.

### The Solution

Session persistence lets you:
1. Save context before exiting with \`/flush\`
2. Automatically restore that context when you start a new session in the same project

Context is stored locally in each project's \`.claude/session-context.md\` - each project has its own context.

### Quick Setup

**From the UI:** Go to **Settings > Sessions** and click "Install All"

**From the CLI:**
\`\`\`bash
coder-config session install
\`\`\`

This installs:
- **SessionStart hook** - Restores saved context from project
- **/flush command** - Tells Claude to save context
    `},"sessions-usage":{title:"Using Session Persistence",content:`
## Using Session Persistence

### Saving Context

Before exiting Claude Code, run:

\`\`\`
/flush
\`\`\`

Claude will write a summary to \`.claude/session-context.md\` including:
- Task summary and current state
- Key decisions made
- Files modified
- Pending work
- Important context

### Restoring Context

Just start a new Claude Code session in the same project. If you have saved context, it's automatically injected.

### Checking Status

\`\`\`bash
coder-config session
\`\`\`

Shows whether saved context exists for the current project.

### Clearing Context

\`\`\`bash
coder-config session clear
\`\`\`

Removes saved context for the current project.
    `},"sessions-storage":{title:"Session Storage",content:`
## Session Storage

Session context is stored in each project:

\`\`\`
<project>/.claude/session-context.md
\`\`\`

Each project has its own session context. /flush saves to the current project, and the next session in that project restores it.

### Context Expiration

Saved context is automatically restored if it's less than 7 days old.

### Manual Context

You can manually edit \`.claude/session-context.md\` to inject custom context into your next session.
    `}},tW={permissions:{title:"Permissions",content:`
## Permissions

Control what Claude Code can do automatically.

### Permission Levels

- **Allow** - Tools that run without asking
- **Ask** - Tools that require confirmation
- **Deny** - Tools that are blocked

### Pattern Syntax

\`\`\`
Tool(pattern)
\`\`\`

Examples:
- \`Bash(npm run build)\` - Specific command
- \`Bash(npm:*)\` - Prefix match (npm anything)
- \`Read(**)\` - All file reads
- \`Edit(src/**)\` - Edit files in src/
- \`mcp__github__*\` - All GitHub MCP tools

### Managing Permissions

In the **Claude Code** settings view:
1. Navigate to the Permissions tab
2. Add patterns to Allow, Ask, or Deny lists
3. Click Save to apply

### Best Practices

- Start restrictive, allow more as needed
- Use specific patterns over wildcards
- Review deny list for security-sensitive operations
    `},"model-selection":{title:"Model Selection",content:`
## Model Selection

Choose which Claude model to use.

### Available Models

- **Claude Sonnet 4** - Fast, capable, good for most tasks
- **Claude Opus 4** - Most capable, best for complex tasks
- **Claude Haiku** - Fastest, good for simple tasks

### Setting the Model

In **Claude Code** settings, use the Model dropdown to select your preferred model.

### Per-Task Model

Some tasks may benefit from different models:
- Use Haiku for quick edits
- Use Opus for complex refactoring
- Use Sonnet as a balanced default
    `},behavior:{title:"Behavior Settings",content:`
## Behavior Settings

Configure how Claude Code behaves.

### Available Settings

- **Auto-accept edits** - Automatically accept file changes
- **Verbose mode** - Show more detailed output
- **Enable MCPs** - Toggle MCP servers on/off

### Configuration

These settings are stored in \`~/.claude/settings.json\` and can be edited in the Claude Code settings view.
    `},hooks:{title:"Hooks",content:`
## Hooks

Hooks allow you to run custom commands at specific points.

### Available Hooks

- **preToolUse** - Before a tool is used
- **postToolUse** - After a tool is used
- **notification** - When Claude sends a notification

### Configuration

\`\`\`json
{
  "hooks": {
    "postToolUse": "echo 'Tool used'"
  }
}
\`\`\`

### Use Cases

- Run linters after file edits
- Log tool usage
- Custom notifications
    `}},rW={"gemini-model":{title:"Model Selection",content:`
## Model Selection

Choose which Gemini model to use.

### Available Models

| Model | Description |
|-------|-------------|
| **Gemini 2.5 Pro** | Most capable, best for complex tasks |
| **Gemini 2.5 Flash** | Fast and efficient, good balance |
| **Gemini 2.0 Pro** | Previous generation capable model |
| **Gemini 2.0 Flash** | Previous generation fast model |

### Preview Features

Enable **Preview Features** to access experimental models like Gemini 2.5 Pro Preview.
    `},"gemini-display":{title:"Display Options",content:`
## Display Options

Configure Gemini CLI's appearance and output.

### Settings

| Setting | Description |
|---------|-------------|
| **Theme** | Color theme (Dark, Light, System) |
| **Show Token Count** | Display token usage in responses |
| **Show Diff View** | Use diff format for file changes |
| **Streaming** | Enable real-time response streaming |
    `},"gemini-general":{title:"General Settings",content:`
## General Settings

Core Gemini CLI behavior options.

### Settings

| Setting | Description |
|---------|-------------|
| **Vim Keybindings** | Enable Vim mode in the CLI |
| **Auto-save** | Automatically save file changes |
| **Check for Updates** | Check for new Gemini CLI versions |

### Configuration File

Settings are stored in \`~/.gemini/settings.json\`:

\`\`\`json
{
  "general": {
    "vimMode": false,
    "autoSave": true,
    "checkForUpdates": true
  },
  "model": {
    "default": "gemini-2.5-flash",
    "previewFeatures": false
  }
}
\`\`\`
    `},"gemini-sandbox":{title:"Sandbox Mode",content:`
## Sandbox Mode

Control command execution safety.

### Options

| Mode | Description |
|------|-------------|
| **Enabled** | Commands run in isolated environment |
| **Disabled** | Commands run directly on system |

### When to Disable

Only disable sandbox mode when:
- Working with local development servers
- Running commands that need direct system access
- Debugging sandbox-related issues

**Warning**: Disabling sandbox mode reduces security isolation.
    `}},sW={"codex-overview":{title:"Codex CLI Overview",content:`
## Codex CLI

OpenAI's Codex CLI is an AI-powered coding assistant that runs in your terminal, similar to Claude Code.

### Configuration File

Codex settings are stored in:
\`\`\`
~/.codex/config.toml
\`\`\`

### Key Features

- **GPT-5.2 Codex** - Latest OpenAI coding model
- **Reasoning effort** - Control how thoroughly the model thinks
- **Sandbox modes** - Configurable filesystem access
- **MCP support** - Connect external tools and services
- **Web search** - Allow the model to search the web

### Quick Start

\`\`\`bash
# Install Codex CLI
npm install -g @openai/codex

# Start a session
codex

# Use a specific model
codex --model gpt-5.2-codex

# Full auto mode (minimal approvals)
codex --full-auto
\`\`\`

### In Coder Config

Navigate to **Configuration > Codex CLI** to manage settings through the UI, or edit the TOML file directly.
    `},"codex-model":{title:"Model Selection",content:`
## Codex Model Selection

Choose the AI model that powers your Codex CLI sessions.

### Available Models

| Model | Description |
|-------|-------------|
| **gpt-5.2-codex** | Latest and most capable (recommended) |
| **gpt-5-codex** | Previous generation, still very capable |
| **gpt-5** | General purpose model |
| **o3-mini** | Fast reasoning model for quick tasks |

### Reasoning Effort

Control how thoroughly the model reasons about problems:

| Level | Description |
|-------|-------------|
| **Minimal** | Fastest responses, least thorough |
| **Low** | Quick responses |
| **Medium** | Balanced (default) |
| **High** | More thorough reasoning |
| **Extra High** | Most thorough, slowest |

### Configuration

\`\`\`toml
# ~/.codex/config.toml

model = "gpt-5.2-codex"
model_reasoning_effort = "medium"
\`\`\`

### CLI Override

\`\`\`bash
# Use a specific model for one session
codex --model o3-mini
\`\`\`
    `},"codex-security":{title:"Security Settings",content:`
## Codex Security Settings

Configure how Codex handles permissions and approvals.

### Approval Policies

Control when Codex asks for permission to run commands:

| Policy | Description |
|--------|-------------|
| **On Request** | Ask before running commands (default) |
| **Untrusted** | Ask for everything |
| **On Failure** | Ask only when commands fail |
| **Never** | Never ask (use with caution) |

### Sandbox Modes

Control filesystem and network access:

| Mode | Description |
|------|-------------|
| **Read Only** | Can only read files (default, safest) |
| **Workspace Write** | Can write within workspace |
| **Full Access** | Full filesystem access (dangerous) |

### Configuration

\`\`\`toml
# ~/.codex/config.toml

approval_policy = "on-request"
sandbox_mode = "read-only"
\`\`\`

### Best Practices

1. **Start restrictive** - Use read-only sandbox until you trust the workflow
2. **Project-specific** - Consider workspace-write for active development
3. **Review commands** - Keep approval on "on-request" for learning
    `},"codex-mcp":{title:"MCP Servers",content:`
## Codex MCP Servers

Connect external tools and services to Codex via the Model Context Protocol.

### Adding MCP Servers

In Coder Config, click **Add MCP** in the Codex CLI settings, or edit the TOML directly:

\`\`\`toml
# ~/.codex/config.toml

[mcp_servers.filesystem]
command = "npx"
args = ["-y", "@anthropic/mcp-filesystem"]
enabled = true

[mcp_servers.github]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-github"]
enabled = true
env = { GITHUB_TOKEN = "your-token" }
\`\`\`

### MCP Server Format

Each MCP server needs:

- **command** - The executable to run (required)
- **args** - Command arguments (optional)
- **env** - Environment variables (optional)
- **enabled** - Whether the server is active (optional, defaults to true)

### Popular MCP Servers

| Server | Description |
|--------|-------------|
| **filesystem** | Read/write local files |
| **github** | Interact with GitHub repos |
| **postgres** | Query PostgreSQL databases |
| **fetch** | Make HTTP requests |

### Enabling/Disabling

Toggle servers on/off without removing the configuration:

\`\`\`toml
[mcp_servers.expensive-server]
command = "npx"
args = ["-y", "@example/expensive-mcp"]
enabled = false  # Disabled but config preserved
\`\`\`
    `},"codex-features":{title:"Features & Display",content:`
## Codex Features & Display

Configure Codex behavior and visual settings.

### Features

| Feature | Description | Default |
|---------|-------------|---------|
| **Shell Snapshot** | Speed up repeated commands (Beta) | On |
| **Web Search** | Allow the model to search the web | On |

### Display Settings

| Setting | Description | Default |
|---------|-------------|---------|
| **Animations** | Enable UI animations | On |
| **Notifications** | Show system notifications | On |

### History

| Option | Description |
|--------|-------------|
| **Save All** | Keep all session history |
| **None** | Do not persist history |

### Analytics

Control whether anonymous usage data is sent to OpenAI.

### Configuration

\`\`\`toml
# ~/.codex/config.toml

[features]
shell_snapshot = true
web_search_request = true

[tui]
animations = true
notifications = true

[history]
persistence = "save-all"

[analytics]
enabled = true
\`\`\`

### CLI Mode

For low-friction autonomous coding:

\`\`\`bash
# Full auto mode - minimal approvals
codex --full-auto
\`\`\`
    `}},nW={"antigravity-security":{title:"Security Policies",content:`
## Security Policies

Control Antigravity's execution behavior.

### Terminal Execution Policy

| Policy | Description |
|--------|-------------|
| **Off** | Never auto-execute; requires explicit allow list |
| **Auto** | Safety model determines execution |
| **Turbo** | Auto-execute unless in deny list (dangerous) |

### Code Review Policy

| Policy | Description |
|--------|-------------|
| **Enabled** | Review code changes before applying |
| **Disabled** | Apply code changes automatically |

### JavaScript Execution

| Policy | Description |
|--------|-------------|
| **Sandboxed** | Run JS in isolated environment |
| **Direct** | Run JS without sandboxing |

**Recommendation**: Use "Auto" for terminal and enable code review for safety.
    `},"antigravity-mcp":{title:"MCP Servers",content:`
## MCP Servers

Configure Model Context Protocol servers for Antigravity.

### Configuration Location

MCP config is stored at \`~/.gemini/antigravity/mcp_config.json\`.

### Important Limitation

**Antigravity does NOT support environment variable interpolation.**

Variables like \`\${HOME}\` are resolved to actual values when generating config.

### Managing Servers

Use the MCP Registry view to add/remove servers. When you apply config with Antigravity enabled, the config is generated at the correct location.
    `},"antigravity-browser":{title:"Browser Allowlist",content:`
## Browser Allowlist

Control which URLs Antigravity can access.

### Configuration

Add trusted domains to the allowlist:

\`\`\`json
{
  "browserAllowlist": [
    "github.com",
    "stackoverflow.com",
    "docs.google.com"
  ]
}
\`\`\`

### Security Note

Only add domains you trust. Antigravity will be able to access and interact with these sites during sessions.
    `},"antigravity-agent":{title:"Agent Mode",content:`
## Agent Mode

Configure Antigravity's autonomous capabilities.

### Settings

| Setting | Description |
|---------|-------------|
| **Enable Agent Mode** | Allow autonomous multi-step operations |
| **Max Iterations** | Limit on autonomous action steps |
| **Require Confirmation** | Ask before major changes |

### When to Use

Agent mode is useful for:
- Complex refactoring tasks
- Multi-file changes
- Automated testing workflows

### Caution

Agent mode can make many changes quickly. Use with code review policy enabled.
    `}},iW={"cli-overview":{title:"CLI Overview",content:`
## CLI Overview

The \`coder-config\` CLI provides command-line access to all features.

### Basic Usage

\`\`\`bash
coder-config [command] [options]
\`\`\`

### Getting Help

\`\`\`bash
coder-config --help
coder-config <command> --help
\`\`\`

### Global Options

- \`--version, -v\` - Show version
- \`--help, -h\` - Show help
    `},"cli-commands":{title:"All Commands",content:`
## All CLI Commands

### UI Commands

\`\`\`bash
coder-config ui                  # Start UI (daemon mode)
coder-config ui --foreground     # Run in foreground
coder-config ui --port 8080      # Custom port
coder-config ui status           # Check daemon status
coder-config ui stop             # Stop daemon
\`\`\`

### Project Commands

\`\`\`bash
coder-config init                # Initialize project
coder-config init --template X   # Initialize with template
coder-config apply               # Generate .mcp.json
coder-config show                # Show configuration
\`\`\`

### MCP Commands

\`\`\`bash
coder-config list                      # List available MCPs
coder-config add <mcp>                 # Add MCP to project
coder-config remove <mcp>              # Remove MCP
coder-config registry                  # List registry
coder-config registry add <name> '{}'  # Add to registry
coder-config registry remove <name>    # Remove from registry
\`\`\`

### Project Registry

\`\`\`bash
coder-config project             # List projects
coder-config project add         # Add project
coder-config project remove      # Remove project
\`\`\`

### Memory Commands

\`\`\`bash
coder-config memory              # Show memory status
coder-config memory init         # Initialize memory
coder-config memory add          # Add entry
coder-config memory search       # Search memory
\`\`\`

### Environment

\`\`\`bash
coder-config env                 # List variables
coder-config env set KEY value   # Set variable
coder-config env unset KEY       # Remove variable
\`\`\`

### Workstreams

\`\`\`bash
coder-config workstream              # List workstreams
coder-config workstream create "X"   # Create workstream
coder-config workstream delete "X"   # Delete workstream
coder-config workstream use "X"      # Set active
coder-config workstream active       # Show active
coder-config workstream deactivate   # Show how to deactivate
coder-config workstream add "X" /path     # Add project
coder-config workstream remove "X" /path  # Remove project
coder-config workstream inject       # Output rules for hooks
coder-config workstream detect       # Detect from directory
coder-config workstream install-hook      # Install Claude Code hook
coder-config workstream install-hook --all  # Install for all tools
\`\`\`

### Workstream Folder Auto-Activation

\`\`\`bash
coder-config workstream install-cd-hook    # Install cd hook
coder-config workstream uninstall-cd-hook  # Remove cd hook
coder-config workstream cd-hook-status     # Check hook status
coder-config workstream add-trigger "X" /folder    # Add trigger folder
coder-config workstream remove-trigger "X" /folder # Remove trigger
coder-config workstream auto-activate "X" on|off   # Set auto-activate
coder-config workstream check-folder /path  # Check for matches
\`\`\`

### Session Persistence

\`\`\`bash
coder-config session             # Show session status
coder-config session install     # Install hooks + /flush command
coder-config session clear       # Clear saved context
\`\`\`
    `},"daemon-mode":{title:"Daemon Mode",content:`
## Daemon Mode

By default, \`coder-config ui\` runs as a background daemon.

### Starting the Daemon

\`\`\`bash
coder-config ui
\`\`\`

The UI starts in the background and you can continue using your terminal.

### Checking Status

\`\`\`bash
coder-config ui status
\`\`\`

### Stopping the Daemon

\`\`\`bash
coder-config ui stop
\`\`\`

### Foreground Mode

To run in the foreground (blocking):

\`\`\`bash
coder-config ui --foreground
# or
coder-config ui -f
\`\`\`

### Logs

Daemon logs are stored in \`~/.coder-config/ui.log\`
    `}},oW={"supported-tools":{title:"Supported Tools",content:`
## Supported AI Coding Tools

coder-config supports multiple AI coding assistants:

| Tool | Type | Config Location |
|------|------|-----------------|
| **Claude Code** | Terminal CLI | \`.mcp.json\`, \`~/.claude/\` |
| **Gemini CLI** | Terminal CLI | \`.gemini/settings.json\`, \`~/.gemini/settings.json\` |
| **Codex CLI** | Terminal CLI | \`~/.codex/config.toml\` |
| **Antigravity** | Full IDE | \`~/.gemini/antigravity/mcp_config.json\` |

### Shared MCP Registry

All tools use the **MCP (Model Context Protocol)** for server configurations. coder-config maintains a shared registry and generates tool-specific output files.

### Enabling Tools

In **Preferences**, toggle which tools receive configuration updates:

- **Claude Code** - Anthropic's terminal AI assistant
- **Gemini CLI** - Google's terminal AI assistant
- **Codex CLI** - OpenAI's terminal AI assistant
- **Antigravity** - Google's AI-powered IDE

When you click **Apply Config**, enabled tools get updated configurations.
    `},"gemini-cli":{title:"Gemini CLI",content:`
## Gemini CLI Support

Gemini CLI is Google's terminal-based AI coding assistant, similar to Claude Code.

### Configuration

Gemini CLI settings are stored in two locations:
- **Global**: \`~/.gemini/settings.json\`
- **Per-project**: \`.gemini/settings.json\` (in project directory)

When you apply config, both files are generated:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`

### Key Differences from Claude Code

| Feature | Claude Code | Gemini CLI |
|---------|-------------|------------|
| MCP Config | Separate \`.mcp.json\` | Embedded in settings.json |
| Global Instructions | \`~/.claude/CLAUDE.md\` | \`~/.gemini/GEMINI.md\` |
| Project Instructions | \`CLAUDE.md\` | \`GEMINI.md\` |
| Skills | \`.claude/commands/\` | \`.gemini/commands/\` (TOML) |

### Gemini Settings Editor

Access via **Gemini CLI** in the sidebar to:

- Configure MCP servers
- Edit global settings
- Manage Gemini-specific options

### Project Files

| Purpose | File |
|---------|------|
| Project instructions | \`GEMINI.md\` or \`.gemini/GEMINI.md\` |
| Skills | \`.gemini/commands/*.toml\` |
| Config folder | \`.gemini/\` |
    `},antigravity:{title:"Antigravity Support",content:`
## Antigravity Support

Antigravity is Google's full AI-powered IDE (similar to Cursor/Windsurf).

### Configuration

Antigravity MCP config is stored at \`~/.gemini/antigravity/mcp_config.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/absolute/path"]
    }
  }
}
\`\`\`

### Key Difference: No Environment Variables

**Important**: Antigravity does NOT support \`\${VAR}\` interpolation.

When generating Antigravity configs, coder-config automatically resolves all environment variables to their actual values.

Example:
- Claude Code: \`"path": "\${HOME}/projects"\`
- Antigravity: \`"path": "/Users/you/projects"\`

### Project Files

| Purpose | Claude Code | Antigravity |
|---------|-------------|-------------|
| Config folder | \`.claude/\` | \`.agent/\` |
| Rules | \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` or \`AGENT.md\` |

### Known Limitation

Antigravity and Gemini CLI share \`~/.gemini/GEMINI.md\` for global instructions. This is a known conflict in Google's tools.
    `},"tool-differences":{title:"Tool Differences",content:`
## Tool Differences

### Configuration Formats

All tools use identical JSON format for MCP server definitions:

\`\`\`json
{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@some/server"],
      "env": { "API_KEY": "..." }
    }
  }
}
\`\`\`

### Feature Comparison

| Feature | Claude Code | Gemini CLI | Codex CLI | Antigravity |
|---------|-------------|------------|-----------|-------------|
| Type | Terminal CLI | Terminal CLI | Terminal CLI | Full IDE |
| MCP Config | \`.mcp.json\` | \`.gemini/settings.json\` | \`~/.codex/config.toml\` | \`~/.gemini/antigravity/\` |
| Config Format | JSON | JSON | TOML | JSON |
| Env Interpolation | Yes (\`\${VAR}\`) | Yes | Yes | No |
| Skills | \`.claude/commands/\` | \`.gemini/commands/\` | N/A | Unknown |
| Rules | \`.claude/rules/\` | \`.gemini/rules/\` | N/A | \`.agent/rules/\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` | N/A | \`GEMINI.md\` |

### What This Means

- Your MCP registry is shared between all tools
- When you click "Apply Config", all enabled tools get updated
- Rules can be synced between Claude Code, Gemini CLI, and Antigravity
- Gemini CLI and Antigravity share global instructions (known conflict)
    `},"enabling-tools":{title:"Enabling Tools",content:`
## Enabling Tools

Control which tools receive configuration updates.

### Via Preferences UI

1. Go to **Preferences** in the sidebar
2. Find the **Enabled AI Tools** section
3. Toggle tools on/off:
   - **Claude Code** - Writes to \`.mcp.json\`
   - **Gemini CLI** - Writes to \`~/.gemini/settings.json\`
   - **Codex CLI** - Writes to \`~/.codex/config.toml\`
   - **Antigravity** - Writes to \`~/.gemini/antigravity/mcp_config.json\`

### Apply Behavior

When you click **Apply Config**:
- Config is generated for ALL enabled tools
- Toast notification shows which tools were updated
- Each tool receives its format-specific output

### Config File

Tool preferences are stored in \`~/.coder-config/config.json\`:

\`\`\`json
{
  "enabledTools": ["claude", "gemini", "codex", "antigravity"]
}
\`\`\`
    `},"syncing-rules":{title:"Syncing Rules",content:`
## Syncing Rules Between Tools

Sync rules between Claude Code, Gemini CLI, and Antigravity to maintain consistency.

### Accessing Sync

1. Enable **multiple tools** in Preferences
2. Go to **Project Explorer**
3. Click the **Sync** button in the toolbar

### Sync Dialog

The sync dialog allows you to:

- **Choose direction**: Any tool  Any tool (Claude Code  Gemini CLI  Antigravity)
- **Preview changes**: See which files will be copied
- **Selective sync**: Choose specific files to sync
- **Status indicators**:
  - **New**: File doesn't exist in target
  - **Modified**: File differs from target
  - **Same**: Files are identical

### What Gets Synced

| Tool | Rules Location |
|------|----------------|
| Claude Code | \`.claude/rules/*.md\` |
| Gemini CLI | \`.gemini/rules/*.md\` |
| Antigravity | \`.agent/rules/*.md\` |

Rules can be synced in any direction between these three tools.

### Notes

- Syncing **copies** files (doesn't move them)
- Target files are **overwritten** if they exist
- Instructions files (CLAUDE.md / GEMINI.md) are not synced
- Skills and workflows are Claude-specific (not synced)
    `}},aW={keyboard:{title:"Keyboard Shortcuts",content:`
## Keyboard Shortcuts

### File Explorer

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save current file |
| \`Delete\` | Delete selected item |
| \`Enter\` | Open selected item |

### Editor

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save file |
| \`Ctrl/Cmd + Z\` | Undo |
| \`Ctrl/Cmd + Shift + Z\` | Redo |

### Navigation

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + 1-9\` | Switch sidebar sections |
    `}},lW={"common-issues":{title:"Common Issues",content:`
## Common Issues

### UI won't start

**Symptom**: \`coder-config ui\` shows "Started daemon" but the UI doesn't open.

**Solution**:
\`\`\`bash
coder-config ui stop
coder-config ui --foreground
\`\`\`

Check for errors in the output.

### Port already in use

**Symptom**: Error about port 3333 being in use.

**Solution**:
\`\`\`bash
coder-config ui --port 3334
\`\`\`

Or find and stop the process using port 3333.

### MCPs not loading

**Symptom**: MCPs show in config but aren't available in Claude Code.

**Solution**:
1. Run \`coder-config apply\` to regenerate .mcp.json
2. Restart Claude Code
3. Check environment variables are set

### npm install fails

**Symptom**: Errors during \`npm install -g\`

**Solution**:
\`\`\`bash
npm cache clean --force
npm install -g coder-config
\`\`\`
    `},"getting-help":{title:"Getting Help",content:`
## Getting Help

### Documentation

This documentation is available in the app under **Docs & Help**.

### GitHub Issues

Report bugs and request features:
https://github.com/regression-io/coder-config/issues

### Version Info

\`\`\`bash
coder-config --version
\`\`\`

### Debug Info

When reporting issues, include:
- coder-config version
- Node.js version (\`node --version\`)
- Operating system
- Error messages or logs
    `}},cW={...GH,...KH,...qH,...YH,...XH,...JH,...QH,...ZH,...eW,...tW,...rW,...sW,...nW,...iW,...oW,...aW,...lW};function v2(e){let t=e.replace(/```(\w*)\n([\s\S]*?)```/g,(s,n,o)=>`<pre class="bg-zinc-900 text-zinc-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm">${o.replace(/\\\`/g,"`").replace(/</g,"&lt;").replace(/>/g,"&gt;").trim()}</code></pre>`);return t=t.replace(/(\|[^\n]+\|\n\|[-| :]+\|\n(?:\|[^\n]+\|\n?)+)/g,s=>{const n=s.trim().split(`
`);if(n.length<2)return s;const o=n[0].split("|").filter(u=>u.trim()).map(u=>`<th class="border border-border px-3 py-2 bg-muted font-semibold text-left">${u.trim()}</th>`).join(""),c=n.slice(2).map(u=>`<tr>${u.split("|").filter(d=>d.trim()).map(d=>`<td class="border border-border px-3 py-2">${d.trim()}</td>`).join("")}</tr>`).join("");return`<table class="w-full border-collapse border border-border my-4"><thead><tr>${o}</tr></thead><tbody>${c}</tbody></table>`}),t.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-6 mb-2 text-foreground">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-8 mb-4 text-foreground">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mb-6 text-foreground">$1</h1>').replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" class="rounded-lg shadow-lg my-4 max-w-full border border-border" />').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono">$1</code>').replace(/^- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/(<li.*<\/li>\n?)+/g,'<ul class="list-disc my-2">$&</ul>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="my-3 text-foreground">').replace(/\n/g,"<br/>")}function dW(){const[e,t]=_.useState("installation"),[s,n]=_.useState({"getting-started":!0}),o=u=>{n(l=>({...l,[u]:!l[u]}))},c=cW[e];return r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-64 border-r border-border bg-muted/50 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-border",children:r.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-foreground",children:[r.jsx(ko,{className:"w-5 h-5"}),"Documentation"]})}),r.jsx(nn,{className:"flex-1",children:r.jsx("div",{className:"p-2",children:UH.map(u=>r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{className:Ne("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",(e===u.id||u.subsections.some(l=>l.id===e))&&"bg-accent"),onClick:()=>{u.subsections.length>0?(o(u.id),s[u.id]||t(u.subsections[0].id)):t(u.id)},children:[r.jsx(u.icon,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"flex-1",children:u.title}),u.isNew&&r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"}),u.subsections.length>0&&r.jsx(us,{className:Ne("w-4 h-4 text-muted-foreground transition-transform",s[u.id]&&"rotate-90")})]}),u.subsections.length>0&&s[u.id]&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:u.subsections.map(l=>r.jsx("button",{className:Ne("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground",e===l.id&&"bg-accent text-primary font-medium"),onClick:()=>t(l.id),children:l.title},l.id))})]},u.id))})})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(nn,{className:"h-full",children:r.jsx("div",{className:"max-w-3xl mx-auto p-8",children:c?r.jsx("div",{className:"prose prose-sm max-w-none",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:v2(c.content)}})}):r.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[r.jsx(ko,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a topic from the sidebar"})]})})})})]})}var uW={};const g_={development:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",productivity:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",integration:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",external:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",lsp:"bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",default:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"};function hW(){var ce,ie,Q,le,we,Le,Ke;const[e,t]=_.useState(!0),[s,n]=_.useState({allPlugins:[],categories:[],marketplaces:[],enabledPlugins:null}),[o,c]=_.useState(""),[u,l]=_.useState([]),[d,f]=_.useState([]),[m,h]=_.useState(!0),[x,w]=_.useState(!0),[j,C]=_.useState(!0),[v,y]=_.useState(!0),[g,b]=_.useState("name"),[k,E]=_.useState(null),[P,T]=_.useState({open:!1,repo:""}),[N,M]=_.useState(!1),[I,L]=_.useState({open:!1,plugin:null}),[B,H]=_.useState(!1),q=async()=>{t(!0);try{const fe=await ue.getPlugins();n(fe)}catch(fe){Y.error("Failed to load plugins: "+fe.message)}finally{t(!1)}};_.useEffect(()=>{q()},[]);const z=_.useMemo(()=>{let fe=s.allPlugins||[];if(o){const ye=o.toLowerCase();fe=fe.filter(Je=>{var Ye,ot,ke;return((Ye=Je.name)==null?void 0:Ye.toLowerCase().includes(ye))||((ot=Je.description)==null?void 0:ot.toLowerCase().includes(ye))||((ke=Je.category)==null?void 0:ke.toLowerCase().includes(ye))})}return fe=fe.filter(ye=>!(ye.sourceType==="external"&&!x||ye.sourceType==="internal"&&!m)),fe=fe.filter(ye=>!(ye.installed&&!j||!ye.installed&&!v)),u.length>0&&(fe=fe.filter(ye=>u.includes(ye.category))),d.length>0&&(fe=fe.filter(ye=>d.includes(ye.marketplace))),fe.sort((ye,Je)=>{if(g==="installed"){if(ye.installed&&!Je.installed)return-1;if(!ye.installed&&Je.installed)return 1}if(g==="category"){const Ye=(ye.category||"zzz").localeCompare(Je.category||"zzz");if(Ye!==0)return Ye}return ye.name.localeCompare(Je.name)}),fe},[s.allPlugins,o,x,m,j,v,u,d,g]),G=fe=>{l(ye=>ye.includes(fe)?ye.filter(Je=>Je!==fe):[...ye,fe])},J=fe=>{f(ye=>ye.includes(fe)?ye.filter(Je=>Je!==fe):[...ye,fe])},K=async fe=>{E(fe);try{const ye=await ue.refreshMarketplace(fe);ye.success?(Y.success(`Refreshed ${fe}`),await q()):Y.error(ye.error||"Failed to refresh marketplace")}catch(ye){Y.error("Failed to refresh: "+ye.message)}finally{E(null)}},F=async()=>{if(!P.repo.trim()){Y.error("Please enter a repository URL");return}try{const fe=await ue.addMarketplace("",P.repo.trim());fe.success?(Y.success("Marketplace added"),T({open:!1,repo:""}),await q()):Y.error(fe.error||"Failed to add marketplace")}catch(fe){Y.error("Failed to add marketplace: "+fe.message)}},R=async(fe,ye,Je)=>{H(!0);try{const Ye=Je!==!0,ot=await ue.setPluginEnabled(fe,ye,Ye);ot.success?(Y.success(`Plugin ${Ye?"enabled":"disabled"} for ${fe===uW.HOME?"~":fe}`),await q()):Y.error(ot.error||"Failed to update plugin state")}catch(Ye){Y.error("Failed to update plugin: "+Ye.message)}finally{H(!1)}},O=async(fe,ye)=>{H(!0);try{const Je=await ue.setPluginEnabled(fe,ye,null);Je.success?(Y.success("Plugin override removed"),await q()):Y.error(Je.error||"Failed to remove override")}catch(Je){Y.error("Failed to update plugin: "+Je.message)}finally{H(!1)}},V=fe=>{L({open:!0,plugin:fe})},$=(s.allPlugins||[]).filter(fe=>fe.installed).length,se=(s.allPlugins||[]).filter(fe=>!fe.installed).length,de=(s.allPlugins||[]).filter(fe=>fe.sourceType==="internal").length,pe=(s.allPlugins||[]).filter(fe=>fe.sourceType==="external").length,X=s.marketplaces||[],W=s.categories||[];return e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(qu,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-indigo-800 dark:text-indigo-300",children:[r.jsx("p",{className:"font-medium",children:"Install plugins from Project Explorer"}),r.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 mt-1",children:["Use the ",r.jsx("kbd",{className:"px-1.5 py-0.5 bg-indigo-100 dark:bg-indigo-900 rounded text-xs",children:"+"}),' menu on any project and select "Install Plugins" to add plugins with project-level scope control.']})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(Po,{className:"w-5 h-5 text-indigo-600"}),"Plugin Directory",r.jsxs(et,{variant:"outline",className:"ml-2 font-normal",children:[z.length," of ",((ce=s.allPlugins)==null?void 0:ce.length)||0]})]}),r.jsx(re,{variant:"ghost",size:"sm",onClick:q,disabled:e,children:r.jsx(Tr,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jc,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(ct,{value:o,onChange:fe=>c(fe.target.value),placeholder:"Search plugins...",className:"pl-9 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-700"})]}),r.jsxs(Or,{value:g,onValueChange:b,children:[r.jsx(Pr,{className:"w-40",children:r.jsx(Fr,{placeholder:"Sort by"})}),r.jsxs(Ar,{children:[r.jsx(Dt,{value:"name",children:"Name"}),r.jsx(Dt,{value:"installed",children:"Installed first"}),r.jsx(Dt,{value:"category",children:"Category"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[r.jsx(Yd,{className:"w-3 h-3"}),"Marketplace",d.length>0&&r.jsx(et,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:d.length}),r.jsx(Er,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Hn,{align:"start",className:"w-56",children:[r.jsx(pc,{className:"text-xs",children:"Filter by marketplace"}),r.jsx(ds,{}),X.length>0?X.map(fe=>r.jsx(mc,{checked:d.includes(fe.name),onCheckedChange:()=>J(fe.name),children:fe.name},fe.name)):r.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"No marketplaces"}),r.jsx(ds,{}),r.jsxs(zt,{onClick:()=>M(!0),children:[r.jsx(sn,{className:"w-3 h-3 mr-2"}),"Manage Marketplaces"]}),d.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(ds,{}),r.jsx(zt,{onClick:()=>f([]),children:"Clear filters"})]})]})]}),r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[r.jsx(Mg,{className:"w-3 h-3"}),"Category",u.length>0&&r.jsx(et,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:u.length}),r.jsx(Er,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Hn,{align:"start",className:"w-48",children:[r.jsx(pc,{className:"text-xs",children:"Filter by category"}),r.jsx(ds,{}),W.map(fe=>r.jsx(mc,{checked:u.includes(fe),onCheckedChange:()=>G(fe),children:fe},fe)),u.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(ds,{}),r.jsx(zt,{onClick:()=>l([]),children:"Clear filters"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:j,onCheckedChange:C,className:"h-4 w-7 data-[state=checked]:bg-green-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Installed (",$,")"]})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:v,onCheckedChange:y,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Available (",se,")"]})]}),r.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:m,onCheckedChange:h,className:"h-4 w-7 data-[state=checked]:bg-indigo-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[r.jsx(tS,{className:"w-3 h-3"})," Anthropic (",de,")"]})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(gt,{checked:x,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[r.jsx(Eo,{className:"w-3 h-3"})," Community (",pe,")"]})]})]})]})]}),r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[z.map((fe,ye)=>{const Je=g_[fe.category]||g_.default,Ye=fe.mcpServers?Object.keys(fe.mcpServers).length:0,ot=fe.lspServers?Object.keys(fe.lspServers).length:0,ke=`${fe.name}@${fe.marketplace}`,be=fe.enabledState,Oe=(be==null?void 0:be.merged)===!0;return(be==null?void 0:be.merged)!==null&&(be==null||be.merged),r.jsxs(Pa.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(ye*.02,.3)},className:`rounded-lg border p-4 transition-all hover:shadow-md ${Oe?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/20 dark:border-emerald-800":fe.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:fe.name}),fe.sourceType==="external"&&r.jsx(Eo,{className:"w-3.5 h-3.5 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),r.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[fe.installed&&r.jsxs(et,{variant:"outline",className:"text-green-600 border-green-300 dark:text-green-400 dark:border-green-700 text-[10px]",children:[r.jsx($t,{className:"w-2.5 h-2.5 mr-0.5"}),"Installed"]}),Oe&&r.jsxs(et,{variant:"outline",className:"text-emerald-600 border-emerald-300 dark:text-emerald-400 dark:border-emerald-700 text-[10px]",children:[r.jsx(Ib,{className:"w-2.5 h-2.5 mr-0.5"}),"Enabled"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[fe.installed&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>V(fe),children:r.jsx(sn,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:r.jsx("p",{children:"Configure per-directory"})})]})}),fe.homepage&&r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>window.open(fe.homepage,"_blank"),children:r.jsx(uu,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:fe.description||"No description available"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[fe.category&&r.jsx(et,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${Je}`,children:fe.category}),fe.version&&r.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",fe.version]})]}),(Ye>0||ot>0||fe.commands)&&r.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 dark:text-slate-500 pt-2 border-t border-gray-100 dark:border-slate-800",children:[ot>0&&r.jsxs("span",{className:"flex items-center gap-1 bg-cyan-50 dark:bg-cyan-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(Bn,{className:"w-3 h-3 text-cyan-600"}),ot," LSP"]}),Ye>0&&r.jsxs("span",{className:"flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(zs,{className:"w-3 h-3 text-blue-600"}),Ye," MCP"]}),fe.commands&&r.jsxs("span",{className:"flex items-center gap-1 bg-green-50 dark:bg-green-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(qt,{className:"w-3 h-3 text-green-600"}),"Commands"]})]})]},ke)}),z.length===0&&r.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-slate-400",children:[r.jsx(Po,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"font-medium",children:"No plugins found"}),r.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your filters or search query"}),(u.length>0||d.length>0||o)&&r.jsx(re,{variant:"link",size:"sm",onClick:()=>{l([]),f([]),c("")},className:"mt-2",children:"Clear all filters"})]})]})]}),r.jsx(wt,{open:P.open,onOpenChange:fe=>T({...P,open:fe}),children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Yd,{className:"w-5 h-5 text-purple-600"}),"Add Plugin Marketplace"]}),r.jsx(ur,{children:"Add a marketplace from a GitHub repository URL or local path."})]}),r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL or Path"}),r.jsx(ct,{value:P.repo,onChange:fe=>T({...P,repo:fe.target.value}),placeholder:"owner/repo or full GitHub URL",className:"mt-1"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Supported formats:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 space-y-1 ml-2",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"owner/repo"}),"  GitHub shorthand"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"https://github.com/owner/repo"}),"  Full URL"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"/local/path"}),"  Local directory"]})]}),r.jsxs("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2",children:["Search GitHub for ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"claude-plugins"})," to find community marketplaces."]})]})}),r.jsxs(kt,{children:[r.jsx(re,{variant:"ghost",onClick:()=>T({open:!1,repo:""}),children:"Cancel"}),r.jsxs(re,{onClick:F,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})}),r.jsx(wt,{open:N,onOpenChange:M,children:r.jsxs(xt,{className:"max-w-2xl",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Yd,{className:"w-5 h-5 text-purple-600"}),"Plugin Marketplaces",r.jsx(et,{variant:"outline",className:"ml-2 font-normal",children:X.length})]}),r.jsx(ur,{children:"Manage your plugin marketplaces. Add external marketplaces to discover more plugins."})]}),r.jsx("div",{className:"py-4",children:X.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:X.map(fe=>{var Je,Ye,ot;const ye=(((Je=fe.plugins)==null?void 0:Je.length)||0)+(((Ye=fe.externalPlugins)==null?void 0:Ye.length)||0);return r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-200",children:fe.name}),r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>K(fe.name),disabled:k===fe.name,className:"h-7 w-7 p-0",children:r.jsx(Tr,{className:`w-4 h-4 text-purple-600 dark:text-purple-400 ${k===fe.name?"animate-spin":""}`})})]}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-2 truncate",children:typeof fe.source=="string"?fe.source:((ot=fe.source)==null?void 0:ot.repo)||"Unknown source"}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-600 dark:text-purple-400",children:[r.jsxs("span",{children:[ye," plugins"]}),fe.lastUpdated&&r.jsxs("span",{children:["Updated: ",new Date(fe.lastUpdated).toLocaleDateString()]})]})]},fe.name)})}):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx(Yd,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No marketplaces configured."}),r.jsx("p",{className:"text-sm mt-1",children:"Add a marketplace to discover plugins."})]})}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>M(!1),children:"Close"}),r.jsxs(re,{onClick:()=>{M(!1),T({open:!0,repo:""})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})}),r.jsx(wt,{open:I.open,onOpenChange:fe=>L({...I,open:fe}),children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsxs(vt,{children:[r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Mb,{className:"w-5 h-5 text-emerald-600"}),"Configure Plugin: ",(ie=I.plugin)==null?void 0:ie.name]}),r.jsx(ur,{children:"Enable or disable this plugin for specific directories. Child directories inherit parent settings unless overridden."})]}),r.jsxs("div",{className:"space-y-3 py-4 max-h-[400px] overflow-y-auto",children:[(we=(le=(Q=I.plugin)==null?void 0:Q.enabledState)==null?void 0:le.perDir)==null?void 0:we.map((fe,ye)=>{const Je=`${I.plugin.name}@${I.plugin.marketplace}`,Ye=fe.enabled!==null&&fe.enabled!==void 0,ot=fe.enabled===!0,ke=fe.enabled===!1;let be=null;if(!Ye&&ye>0)for(let Oe=ye-1;Oe>=0;Oe--){const Ee=I.plugin.enabledState.perDir[Oe];if(Ee.enabled!==null&&Ee.enabled!==void 0){be=Ee.enabled;break}}return r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${ot?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/30 dark:border-emerald-800":ke?"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800":"bg-gray-50 border-gray-200 dark:bg-slate-800/50 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:fe.label}),!Ye&&be!==null&&r.jsxs(et,{variant:"outline",className:"text-[10px] text-gray-500",children:["inherited: ",be?"on":"off"]})]}),Ye&&r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mt-0.5",children:ot?"Explicitly enabled":"Explicitly disabled"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Ye&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",onClick:()=>O(fe.dir,Je),disabled:B,children:r.jsx(NM,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:r.jsx("p",{children:"Remove override (inherit from parent)"})})]})}),r.jsxs("div",{className:"flex items-center gap-1 border rounded-lg overflow-hidden",children:[r.jsx(re,{variant:ot?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${ot?"bg-emerald-600 hover:bg-emerald-700 text-white":""}`,onClick:()=>R(fe.dir,Je,!1),disabled:B||ot,children:r.jsx(Ib,{className:"w-3 h-3"})}),r.jsx(re,{variant:ke?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${ke?"bg-red-600 hover:bg-red-700 text-white":""}`,onClick:()=>R(fe.dir,Je,!0),disabled:B||ke,children:r.jsx(VM,{className:"w-3 h-3"})})]})]})]},fe.dir)}),(!((Ke=(Le=I.plugin)==null?void 0:Le.enabledState)!=null&&Ke.perDir)||I.plugin.enabledState.perDir.length===0)&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx(Mb,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No config hierarchy found."}),r.jsx("p",{className:"text-sm mt-1",children:"Create a .claude/mcps.json in your project first."})]})]}),r.jsx(kt,{children:r.jsx(re,{variant:"ghost",onClick:()=>L({open:!1,plugin:null}),children:"Done"})})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands (Claude Code)"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{className:"text-gray-400 dark:text-slate-500",children:"# Add marketplace (one-time)"}),r.jsx("p",{children:"claude plugin marketplace add regression-io/coder-config-plugins"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 mt-2",children:"# Install plugins from marketplace"}),r.jsx("p",{children:"claude plugin install <name>@coder-config-plugins"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 mt-2",children:"# Manage plugins"}),r.jsx("p",{children:"claude plugin list                    # List installed"}),r.jsx("p",{children:"claude plugin uninstall <name>       # Remove plugin"})]})]})]})}function fW({onWorkstreamChange:e}){var Ho,vi,Ut,Wo;const{projects:t,fetch:s}=Px(),{workstreams:n,loading:o,fetch:c,create:u,update:l,delete:d,addProject:f,removeProject:m,countWorkstreamsForProject:h}=yN(),[x,w]=_.useState(null),[j,C]=_.useState(!1),[v,y]=_.useState(null),[g,b]=_.useState(!1),[k,E]=_.useState(null),[P,T]=_.useState(new Set),[N,M]=_.useState(""),[I,L]=_.useState(""),[B,H]=_.useState([]),[q,z]=_.useState(!1),[G,J]=_.useState(!1),[K,F]=_.useState({}),[R,O]=_.useState({}),[V,$]=_.useState({}),[se,de]=_.useState({isInstalled:!1,loading:!0}),[pe,X]=_.useState(!1),[W,ce]=_.useState(null),[ie,Q]=_.useState([]),[le,we]=_.useState(!1),[Le,Ke]=_.useState(()=>{try{return JSON.parse(localStorage.getItem("dismissedWorkstreamSuggestions")||"[]")}catch{return[]}}),[fe,ye]=_.useState(!1),[Je,Ye]=_.useState(!1),[ot,ke]=_.useState(null),[be,Oe]=_.useState(""),[Ee,_e]=_.useState(!1),[oe,ve]=_.useState({installed:!1,loading:!0}),[De,Be]=_.useState({workstreamAutoActivate:!0}),[ze,St]=_.useState(!1),[dt,er]=_.useState(!1),[wr,zr]=_.useState(null),[Ht,_r]=_.useState("");_.useEffect(()=>{c(),s(),Us(),fs(),hr(),Hr()},[c,s]);const hr=async()=>{try{const ee=await ue.getCdHookStatus();ve({...ee,loading:!1})}catch(ee){ve({installed:!1,loading:!1,error:ee.message})}},Hr=async()=>{try{const ee=await ue.getWorkstreamSettings();Be(ee.settings||{workstreamAutoActivate:!0})}catch(ee){console.error("Failed to load global settings:",ee)}},Us=async()=>{try{const ee=await ue.getWorkstreamHookStatus();de({...ee,loading:!1})}catch(ee){de({isInstalled:!1,loading:!1,error:ee.message})}},fs=async()=>{try{we(!0);const[ee,Ie]=await Promise.all([ue.getActivitySummary(),ue.getWorkstreamSuggestions()]);ce(ee),Q(Ie.suggestions||[])}catch(ee){console.log("Activity data not available:",ee.message)}finally{we(!1)}},Ps=ee=>{M(ee.name),H([...ee.projects]),L(`# Auto-generated workstream based on activity patterns

These projects are frequently worked on together.`),C(!0)},As=ee=>{H(Ie=>Ie.filter(He=>He!==ee))},nt=ee=>{B.includes(ee)||H(Ie=>[...Ie,ee])},Lt=async ee=>{const Ie=K[ee];if(!Ie&&!R[ee]){$(He=>({...He,[ee]:!0}));try{const He=await ue.getSubprojects(ee);O(Ot=>({...Ot,[ee]:He.subprojects||[]}))}catch(He){console.error("Failed to load subprojects:",He),O(Ot=>({...Ot,[ee]:[]}))}finally{$(He=>({...He,[ee]:!1}))}}F(He=>({...He,[ee]:!Ie}))},ir=ee=>{const Ie=ee.projects.sort().join("|"),He=[...Le,Ie];Ke(He),localStorage.setItem("dismissedWorkstreamSuggestions",JSON.stringify(He)),Q(Ot=>Ot.filter(or=>or.projects.sort().join("|")!==Ie)),Y.success("Suggestion dismissed")},tr=ie.filter(ee=>{const Ie=ee.projects.sort().join("|");return!Le.includes(Ie)}),ms=async()=>{if(confirm("Clear activity data older than 30 days?"))try{const ee=await ue.clearActivity(30);ee.success&&(Y.success(`Cleared ${ee.cleared} old entries`),fs())}catch(ee){Y.error("Failed to clear activity: "+ee.message)}},Vt=async(ee,Ie)=>{if(!ee||ee.length===0){Y.error("Add projects first to generate rules");return}ye(!0);try{const He=await ue.generateWorkstreamRules(ee,Je);He.success&&He.rules?(Ie(He.rules),Y.success(Je?"Generated rules with Claude":"Generated rules from repos")):Y.error(He.error||"Failed to generate rules")}catch(He){Y.error("Failed to generate rules: "+He.message)}finally{ye(!1)}},rr=async()=>{X(!0);try{const ee=await ue.installWorkstreamHook();ee.success?(Y.success(ee.message),de(Ie=>({...Ie,isInstalled:!0}))):Y.error(ee.error||"Failed to install hook")}catch(ee){Y.error("Failed to install hook: "+ee.message)}finally{X(!1)}},Wr=async()=>{St(!0);try{const ee=await ue.installCdHook();ee.success?(Y.success("CD hook installed. Restart your shell to activate."),ve(Ie=>({...Ie,installed:!0}))):Y.error(ee.error||"Failed to install CD hook")}catch(ee){Y.error("Failed to install CD hook: "+ee.message)}finally{St(!1)}},ut=async()=>{St(!0);try{const ee=await ue.uninstallCdHook();ee.success?(Y.success("CD hook uninstalled. Restart your shell to apply."),ve(Ie=>({...Ie,installed:!1}))):Y.error(ee.error||"Failed to uninstall CD hook")}catch(ee){Y.error("Failed to uninstall CD hook: "+ee.message)}finally{St(!1)}},fr=async()=>{const ee=!De.workstreamAutoActivate;try{await ue.setGlobalAutoActivate(ee),Be(Ie=>({...Ie,workstreamAutoActivate:ee})),Y.success(`Auto-activation ${ee?"enabled":"disabled"}`)}catch(Ie){Y.error("Failed to update setting: "+Ie.message)}},Xr=async(ee,Ie)=>{try{(await ue.setWorkstreamAutoActivate(ee.id,Ie)).success&&(await c(),Y.success(`Auto-activate ${Ie} for ${ee.name}`))}catch(He){Y.error("Failed to update: "+He.message)}},Jr=async()=>{if(!(!wr||!Ht.trim()))try{(await ue.addTriggerFolder(wr.id,Ht.trim())).success&&(await c(),Y.success("Trigger folder added"),er(!1),_r(""),zr(null))}catch(ee){Y.error("Failed to add trigger folder: "+ee.message)}},Qe=async(ee,Ie)=>{try{(await ue.removeTriggerFolder(ee.id,Ie)).success&&(await c(),Y.success("Trigger folder removed"))}catch(He){Y.error("Failed to remove trigger folder: "+He.message)}},an=()=>c(),sl=async()=>{if(!N.trim()){Y.error("Name is required");return}z(!0);const ee=await u(N.trim(),B,I);ee.success?(Y.success(`Created workstream: ${N}`),C(!1),M(""),L(""),H([]),Q(Ie=>Ie.filter(He=>He.name!==N.trim()))):Y.error(ee.error||"Failed to create workstream"),z(!1)},ps=async ee=>{if(!confirm(`Delete workstream "${ee.name}"?

This cannot be undone.`))return;const Ie=await d(ee.id);Ie.success?Y.success(`Deleted workstream: ${ee.name}`):Y.error(Ie.error||"Failed to delete workstream")},xi=async()=>{if(!v)return;z(!0);const ee=await l(v.id,{name:v.name,rules:v.rules,projects:v.projects||[]});ee.success?(Y.success("Workstream updated"),y(null)):Y.error(ee.error||"Failed to update workstream"),z(!1)},Ts=ee=>{ke(ee.id),Oe(ee.rules||"")},Cr=()=>{ke(null),Oe("")},Ji=async ee=>{_e(!0);try{const Ie=await ue.updateWorkstream(ee.id,{name:ee.name,rules:be,projects:ee.projects||[]});Ie.success?(await c(),Y.success("Rules updated"),ke(null),Oe("")):Y.error(Ie.error||"Failed to update rules")}catch(Ie){Y.error("Failed to update rules: "+Ie.message)}finally{_e(!1)}},Qi=ee=>{T(Ie=>{const He=new Set(Ie);return He.has(ee)?He.delete(ee):He.add(ee),He})},Bo=async()=>{if(!k||P.size===0)return;z(!0);let ee=0,Ie=null;for(const He of P)try{const Ot=await ue.addProjectToWorkstream(k.id,He);Ot.success&&(Ie=Ot.workstream,ee++)}catch(Ot){console.error("Failed to add project:",He,Ot)}ee>0?(await c(),Y.success(`Added ${ee} project${ee>1?"s":""} to ${k.name}`)):Y.error("Failed to add projects"),z(!1),b(!1),E(null),T(new Set)},$o=async(ee,Ie)=>{const He=await m(ee.id,Ie);He.success?Y.success(`Removed project from ${ee.name}`):Y.error(He.error||"Failed to remove project")},zo=ee=>ee.split("/").pop()||ee,ln=(ee,Ie=null)=>{var or,jt;const He=h(ee),Ot=Ie?(jt=(or=n.find(Wt=>Wt.id===Ie))==null?void 0:or.projects)==null?void 0:jt.includes(ee):!1;return He===0?null:He===1?Ot?null:"in use":"shared"};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:r.jsx(Rn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Workstreams"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Context sets for multi-project workflows"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{variant:"outline",onClick:an,size:"sm",children:[r.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(re,{onClick:()=>C(!0),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"New Workstream"]})]})]}),r.jsx("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4 text-sm text-purple-700 dark:text-purple-400",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Workstreams"})," let you group related repos together so Claude sees them as one cohesive project. Perfect for microservices, monorepos, or any multi-repo setup where context matters. Your custom rules and context persist across sessions, and Claude stays scoped to only the directories you specify."]})}),r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:n.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Workstreams Yet"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Create your first workstream to organize multi-project contexts."}),r.jsxs(re,{onClick:()=>C(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Create Your First Workstream"]})]}):r.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:n.map(ee=>{var Ie,He,Ot,or;return r.jsxs("div",{className:"group",children:[r.jsxs("div",{className:"p-4 flex items-center gap-4 transition-colors cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-900",onClick:()=>w(x===ee.id?null:ee.id),children:[r.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400",children:x===ee.id?r.jsx(Er,{className:"w-4 h-4"}):r.jsx(us,{className:"w-4 h-4"})}),r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gray-100 dark:bg-slate-800",children:r.jsx(Rn,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium truncate text-gray-900 dark:text-white",children:ee.name}),((Ie=ee.projects)==null?void 0:Ie.length)>0&&r.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-1.5 py-0.5 rounded",children:[ee.projects.length," project",ee.projects.length!==1?"s":""]}),ee.rules&&r.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-1.5 py-0.5 rounded",children:[r.jsx(Br,{className:"w-3 h-3 inline mr-0.5"}),"Rules"]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 truncate",children:((He=ee.projects)==null?void 0:He.length)>0?ee.projects.map(jt=>zo(jt)).join(", "):"No projects added"})]}),r.jsxs("div",{className:"flex items-center gap-2",onClick:jt=>jt.stopPropagation(),children:[r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>y({...ee}),className:"text-gray-500 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Edit workstream",children:r.jsx(_m,{className:"w-4 h-4"})}),r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>ps(ee),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete workstream",children:r.jsx(js,{className:"w-4 h-4"})})]})]}),x===ee.id&&r.jsxs("div",{className:"px-4 pb-4 pl-16 space-y-4 bg-gray-50/50 dark:bg-slate-900/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>{E(ee),b(!0)},children:[r.jsx(ii,{className:"w-4 h-4 mr-1"}),"Add Project"]})]}),((Ot=ee.projects)==null?void 0:Ot.length)>0?r.jsx("div",{className:"space-y-1",children:ee.projects.map(jt=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:jt.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>$o(ee,jt),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(Rb,{className:"w-4 h-4"})})]},jt))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No projects added yet. Add projects to help organize your workstream."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Trigger Folders"}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(Aa,{className:"w-3.5 h-3.5 text-gray-400"})}),r.jsx(Mt,{children:r.jsx("p",{className:"max-w-xs text-xs",children:"Additional folders that activate this workstream when you cd into them. Projects are always trigger folders automatically."})})]})})]}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>{zr(ee),er(!0)},children:[r.jsx(ii,{className:"w-4 h-4 mr-1"}),"Add Folder"]})]}),((or=ee.triggerFolders)==null?void 0:or.length)>0?r.jsx("div",{className:"space-y-1",children:ee.triggerFolders.map(jt=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:jt.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>Qe(ee,jt),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(Rb,{className:"w-4 h-4"})})]},jt))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No extra trigger folders. Projects auto-trigger this workstream."})]}),r.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(So,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Auto-Activate on cd"})]}),r.jsxs(mi,{children:[r.jsx(pi,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",children:[ee.autoActivate===!0?"On":ee.autoActivate===!1?"Off":"Default",r.jsx(Er,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Hn,{align:"end",children:[r.jsxs(zt,{onClick:()=>Xr(ee,"on"),children:[r.jsx($t,{className:`w-4 h-4 mr-2 ${ee.autoActivate===!0?"opacity-100":"opacity-0"}`}),"On"]}),r.jsxs(zt,{onClick:()=>Xr(ee,"off"),children:[r.jsx($t,{className:`w-4 h-4 mr-2 ${ee.autoActivate===!1?"opacity-100":"opacity-0"}`}),"Off"]}),r.jsxs(zt,{onClick:()=>Xr(ee,"default"),children:[r.jsx($t,{className:`w-4 h-4 mr-2 ${ee.autoActivate===void 0?"opacity-100":"opacity-0"}`}),"Default (",De.workstreamAutoActivate?"On":"Off",")"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rules"}),ot===ee.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(re,{size:"sm",variant:"ghost",onClick:Cr,disabled:Ee,className:"text-gray-500 dark:text-slate-400 h-7",children:[r.jsx(oi,{className:"w-4 h-4 mr-1"}),"Cancel"]}),r.jsxs(re,{size:"sm",onClick:()=>Ji(ee),disabled:Ee,className:"bg-purple-600 hover:bg-purple-700 h-7",children:[Ee?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Save"]})]}):r.jsxs(re,{size:"sm",variant:"ghost",onClick:()=>Ts(ee),className:"text-gray-500 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 h-7",children:[r.jsx(_m,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),ot===ee.id?r.jsx(Ct,{value:be,onChange:jt=>Oe(jt.target.value),placeholder:"Context rules for this workstream. These will be injected into every Claude session when this workstream is active.",rows:8,className:"font-mono text-sm",autoFocus:!0}):ee.rules?r.jsx("pre",{className:"text-sm text-gray-600 dark:text-slate-400 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-3 overflow-auto max-h-40 whitespace-pre-wrap cursor-pointer hover:border-purple-300 dark:hover:border-purple-700 transition-colors",onClick:()=>Ts(ee),title:"Click to edit",children:ee.rules}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic cursor-pointer hover:text-purple-600 dark:hover:text-purple-400 transition-colors",onClick:()=>Ts(ee),children:"No rules defined. Click to add context rules for this workstream."})]})]})]},ee.id)})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Hook Integration"}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:r.jsx(Aa,{className:"w-4 h-4"})})}),r.jsx(Mt,{side:"right",className:"max-w-xs",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"What are hooks?"}),r.jsx("br",{}),r.jsx("br",{}),"Hooks are scripts that run automatically at specific points in Claude Code sessions. The workstream hook runs before each prompt and injects your active workstream's rules into the context.",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:"How it works:"}),r.jsx("br",{}),"1. You activate a workstream",r.jsx("br",{}),"2. Hook detects the active workstream",r.jsx("br",{}),"3. Rules are prepended to Claude's context",r.jsx("br",{}),"4. Claude understands your project context"]})})]})})]}),se.isInstalled?r.jsx("div",{className:"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4 text-sm text-green-700 dark:text-green-400",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(No,{className:"w-5 h-5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Hook Installed"}),r.jsx("p",{className:"text-green-600 dark:text-green-500",children:"Workstream rules will be automatically injected into every Claude session."})]})]})}):r.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg p-4 text-sm text-amber-700 dark:text-amber-400",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx($s,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium mb-1",children:"Hook Not Installed"}),r.jsx("p",{className:"mb-3",children:"Install the pre-prompt hook to automatically inject workstream rules into every Claude session."}),r.jsxs(re,{onClick:rr,disabled:pe||se.loading,size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white",children:[pe?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ui,{className:"w-4 h-4 mr-2"}),"Install Hook"]}),r.jsxs("p",{className:"text-xs mt-2 text-amber-600 dark:text-amber-500",children:["Creates ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"~/.claude/hooks/pre-prompt.sh"})]})]})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Folder Auto-Activation"}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(Aa,{className:"w-4 h-4 text-gray-400"})}),r.jsxs(Mt,{className:"max-w-sm",children:[r.jsx("p",{className:"text-sm mb-2",children:r.jsx("strong",{children:"How it works:"})}),r.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Install the CD hook to your shell"}),r.jsxs("li",{children:["When you ",r.jsx("code",{className:"bg-slate-700 px-1 rounded",children:"cd"})," into a folder matching a workstream, it auto-activates"]}),r.jsx("li",{children:"If multiple workstreams match, you'll be prompted to choose"})]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200 dark:border-slate-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(So,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Global Auto-Activate"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"(default for all workstreams)"})]}),r.jsx(re,{variant:De.workstreamAutoActivate?"default":"outline",size:"sm",onClick:fr,children:De.workstreamAutoActivate?"Enabled":"Disabled"})]}),oe.installed?r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx(No,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"CD Hook Installed"}),r.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["Shell: ",oe.shell,"  RC file: ",r.jsx("code",{className:"bg-green-100 dark:bg-green-900/50 px-1 rounded",children:(Ho=oe.rcFile)==null?void 0:Ho.replace(/^\/Users\/[^/]+/,"~")})]}),r.jsxs(re,{variant:"outline",size:"sm",className:"mt-2",onClick:ut,disabled:ze,children:[ze?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):null,"Uninstall"]})]})]}):r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[r.jsx($s,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-300 mb-1",children:"CD Hook Not Installed"}),r.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mb-2",children:"Install the hook to auto-activate workstreams when you cd into matching folders."}),r.jsxs(re,{variant:"default",size:"sm",onClick:Wr,disabled:ze||oe.loading,className:"bg-amber-600 hover:bg-amber-700 text-white",children:[ze?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ui,{className:"w-4 h-4 mr-2"}),"Install CD Hook"]}),r.jsxs("p",{className:"text-xs mt-2 text-amber-600 dark:text-amber-500",children:["Adds function to ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"~/.zshrc"})," or ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"~/.bashrc"})]})]})]})]})]}),W&&W.totalSessions>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(h5,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Activity Insights"})]}),r.jsxs(re,{variant:"ghost",size:"sm",onClick:ms,className:"text-gray-500 dark:text-slate-400 hover:text-red-500",children:[r.jsx(js,{className:"w-4 h-4 mr-1"}),"Clear Old"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(rS,{className:"w-3 h-3"}),"Sessions"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:W.totalSessions})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(Br,{className:"w-3 h-3"}),"Files Tracked"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:W.totalFiles})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(Rn,{className:"w-3 h-3"}),"Projects Active"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:W.projectCount})]})]}),((vi=W.topProjects)==null?void 0:vi.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Most Active Projects"}),r.jsx("div",{className:"space-y-1",children:W.topProjects.slice(0,5).map((ee,Ie)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-slate-400 truncate",title:ee.path,children:ee.path.split("/").pop()}),r.jsxs("span",{className:"text-gray-400 dark:text-slate-500 text-xs",children:[ee.fileCount," files"]})]},ee.path))})]})]}),tr.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 rounded-xl border border-indigo-200 dark:border-indigo-800 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Yt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),r.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-300",children:"Suggested Workstreams"}),r.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Based on activity patterns"})]}),r.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 mb-4",children:"These projects are frequently worked on together. Create a workstream to group them?"}),r.jsx("div",{className:"space-y-3",children:tr.map(ee=>r.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-indigo-200 dark:border-indigo-800 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(So,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.name}),ee.coActivityScore&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[ee.coActivityScore,"% co-activity"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{size:"sm",variant:"ghost",onClick:()=>ir(ee),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",title:"Dismiss suggestion",children:r.jsx(oi,{className:"w-4 h-4"})}),r.jsxs(re,{size:"sm",onClick:()=>Ps(ee),className:"bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Create"]})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:ee.projects.map(Ie=>r.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-2 py-0.5 rounded",children:Ie.split("/").pop()},Ie))})]},ee.name))})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config workstream                  # List workstreams"}),r.jsx("p",{children:'coder-config workstream use "Name"      # Set workstream for this tab'}),r.jsx("p",{children:'coder-config workstream create "Name"   # Create workstream'})]})]}),r.jsx(wt,{open:j,onOpenChange:ee=>{ee||(C(!1),M(""),L(""),H([]),J(!1),F({}))},children:r.jsxs(xt,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-purple-600"}),"Create Workstream"]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),r.jsx(ct,{value:N,onChange:ee=>M(ee.target.value),placeholder:"e.g., User Auth, Admin Dashboard",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(re,{type:"button",size:"sm",variant:"outline",onClick:()=>J(!G),children:[r.jsx(ii,{className:"w-4 h-4 mr-1"}),"Add"]})]}),B.length>0?r.jsx("div",{className:"space-y-1 mb-2",children:B.map(ee=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:ee.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(re,{type:"button",size:"sm",variant:"ghost",onClick:()=>As(ee),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(oi,{className:"w-4 h-4"})})]},ee))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects added. Add projects to help organize your workstream."}),G&&t.length>0&&r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-64 overflow-y-auto bg-white dark:bg-slate-900",children:t.map(ee=>{const Ie=ln(ee.path),He=K[ee.path],Ot=V[ee.path],or=R[ee.path]||[],jt=B.includes(ee.path);return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>Lt(ee.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:Ot?r.jsx(Ze,{className:"w-4 h-4 animate-spin text-gray-400"}):He?r.jsx(Er,{className:"w-4 h-4 text-gray-400"}):r.jsx(us,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>nt(ee.path),disabled:jt,className:`flex-1 text-left p-2 rounded transition-colors ${jt?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[Ie&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Ie==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Ie}),jt&&r.jsx($t,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:ee.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),He&&or.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:or.map(Wt=>{const gr=B.includes(Wt.dir),Pt=ln(Wt.dir);return r.jsxs("button",{type:"button",onClick:()=>nt(Wt.dir),disabled:gr,className:`w-full text-left p-2 rounded transition-colors ${gr?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:Wt.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[Pt&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Pt==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Pt}),gr&&r.jsx($t,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono",children:Wt.relativePath})]},Wt.dir)})}),He&&or.length===0&&!Ot&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},ee.id)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context (optional)"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-slate-400 cursor-pointer",children:[r.jsx(To,{checked:Je,onCheckedChange:Ye,className:"h-3.5 w-3.5"}),"Use Claude"]}),r.jsxs(re,{type:"button",size:"sm",variant:"ghost",onClick:()=>Vt(B,L),disabled:fe||B.length===0,className:"text-xs h-7 text-purple-600 hover:text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-950/30",title:Je?"Use Claude Code to analyze repos":"Extract from README, package.json, etc.",children:[fe?r.jsx(Ze,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(os,{className:"w-3 h-3 mr-1"}),"Generate"]})]})]}),r.jsx(Ct,{value:I,onChange:ee=>L(ee.target.value),placeholder:"Context rules for this workstream. These will be injected into every Claude session when this workstream is active.",rows:6}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:'Example: "Focus on user authentication. Use JWT tokens. React Query for state management."'})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>{C(!1),M(""),L(""),H([]),J(!1),F({})},children:"Cancel"}),r.jsxs(re,{onClick:sl,disabled:q||!N.trim(),className:"bg-purple-600 hover:bg-purple-700",children:[q?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Create"]})]})]})}),r.jsx(wt,{open:!!v,onOpenChange:ee=>!ee&&y(null),children:r.jsxs(xt,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(_m,{className:"w-5 h-5 text-purple-600"}),"Edit Workstream"]})}),v&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),r.jsx(ct,{value:v.name,onChange:ee=>y(Ie=>({...Ie,name:ee.target.value}))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(re,{type:"button",size:"sm",variant:"outline",onClick:()=>y(ee=>({...ee,showPicker:!ee.showPicker})),children:[r.jsx(ii,{className:"w-4 h-4 mr-1"}),"Add"]})]}),((Ut=v.projects)==null?void 0:Ut.length)>0?r.jsx("div",{className:"space-y-1 mb-2",children:v.projects.map(ee=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:ee.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(re,{type:"button",size:"sm",variant:"ghost",onClick:()=>y(Ie=>({...Ie,projects:Ie.projects.filter(He=>He!==ee)})),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(oi,{className:"w-4 h-4"})})]},ee))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects in this workstream."}),v.showPicker&&t.length>0&&r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-48 overflow-y-auto bg-white dark:bg-slate-900",children:t.map(ee=>{var Wt;const Ie=(Wt=v.projects)==null?void 0:Wt.includes(ee.path),He=ln(ee.path,v.id),Ot=K[ee.path],or=V[ee.path],jt=R[ee.path]||[];return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>Lt(ee.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:or?r.jsx(Ze,{className:"w-4 h-4 animate-spin text-gray-400"}):Ot?r.jsx(Er,{className:"w-4 h-4 text-gray-400"}):r.jsx(us,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>!Ie&&y(gr=>({...gr,projects:[...gr.projects||[],ee.path]})),disabled:Ie,className:`flex-1 text-left p-2 rounded transition-colors ${Ie?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[He&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${He==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:He}),Ie&&r.jsx($t,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:ee.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),Ot&&jt.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:jt.map(gr=>{var Sn;const Pt=(Sn=v.projects)==null?void 0:Sn.includes(gr.dir),gs=ln(gr.dir,v.id);return r.jsxs("button",{type:"button",onClick:()=>!Pt&&y(kn=>({...kn,projects:[...kn.projects||[],gr.dir]})),disabled:Pt,className:`w-full text-left p-2 rounded transition-colors ${Pt?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:gr.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[gs&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${gs==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:gs}),Pt&&r.jsx($t,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:gr.relativePath})]},gr.dir)})}),Ot&&jt.length===0&&!or&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},ee.id)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rules"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-slate-400 cursor-pointer",children:[r.jsx(To,{checked:Je,onCheckedChange:Ye,className:"h-3.5 w-3.5"}),"Use Claude"]}),r.jsxs(re,{type:"button",size:"sm",variant:"ghost",onClick:()=>Vt(v.projects,ee=>y(Ie=>({...Ie,rules:ee}))),disabled:fe||!((Wo=v.projects)!=null&&Wo.length),className:"text-xs h-7 text-purple-600 hover:text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-950/30",title:Je?"Use Claude Code to analyze repos":"Extract from README, package.json, etc.",children:[fe?r.jsx(Ze,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(os,{className:"w-3 h-3 mr-1"}),"Generate"]})]})]}),r.jsx(Ct,{value:v.rules||"",onChange:ee=>y(Ie=>({...Ie,rules:ee.target.value})),placeholder:"Context rules for this workstream...",rows:8})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>y(null),children:"Cancel"}),r.jsxs(re,{onClick:xi,disabled:q,className:"bg-purple-600 hover:bg-purple-700",children:[q?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),r.jsx(wt,{open:g,onOpenChange:ee=>{b(ee),ee||(F({}),T(new Set))},children:r.jsxs(xt,{className:"max-w-lg",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(ii,{className:"w-5 h-5 text-purple-600"}),"Add Project to ",k==null?void 0:k.name]})}),r.jsxs("div",{className:"py-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Select projects to add to this workstream (multi-select enabled):"}),t.length>0?r.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto border border-gray-200 dark:border-slate-700 rounded-lg p-2 bg-white dark:bg-slate-900",children:t.map(ee=>{var gr;const Ie=(gr=k==null?void 0:k.projects)==null?void 0:gr.includes(ee.path),He=P.has(ee.path),Ot=ln(ee.path,k==null?void 0:k.id),or=K[ee.path],jt=V[ee.path],Wt=R[ee.path]||[];return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>Lt(ee.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:jt?r.jsx(Ze,{className:"w-4 h-4 animate-spin text-gray-400"}):or?r.jsx(Er,{className:"w-4 h-4 text-gray-400"}):r.jsx(us,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>!Ie&&Qi(ee.path),disabled:Ie,className:`flex-1 text-left p-2 rounded transition-colors ${Ie?"bg-gray-100 dark:bg-slate-800 opacity-50 cursor-not-allowed":He?"bg-purple-100 dark:bg-purple-950/50 ring-2 ring-purple-500":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${Ie?"bg-gray-300 dark:bg-slate-600 border-gray-300 dark:border-slate-600":He?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600"}`,children:(Ie||He)&&r.jsx($t,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[Ot&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Ot==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Ot}),Ie&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"added"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate ml-6",children:ee.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),or&&Wt.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:Wt.map(Pt=>{var Kn;const gs=(Kn=k==null?void 0:k.projects)==null?void 0:Kn.includes(Pt.dir),Sn=P.has(Pt.dir),kn=ln(Pt.dir,k==null?void 0:k.id);return r.jsxs("button",{type:"button",onClick:()=>!gs&&Qi(Pt.dir),disabled:gs,className:`w-full text-left p-2 rounded transition-colors ${gs?"bg-gray-100 dark:bg-slate-800 opacity-50 cursor-not-allowed":Sn?"bg-purple-100 dark:bg-purple-950/50 ring-2 ring-purple-500":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${gs?"bg-gray-300 dark:bg-slate-600 border-gray-300 dark:border-slate-600":Sn?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600"}`,children:(gs||Sn)&&r.jsx($t,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:Pt.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[kn&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${kn==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:kn}),gs&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"added"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate ml-6",children:Pt.relativePath})]},Pt.dir)})}),or&&Wt.length===0&&!jt&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},ee.id)})}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"No projects registered. Add projects in the Projects view first."})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>{b(!1),T(new Set)},children:"Cancel"}),r.jsxs(re,{onClick:Bo,disabled:P.size===0||q,className:"bg-purple-600 hover:bg-purple-700",children:[q?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Selected (",P.size,")"]})]})]})}),r.jsx(wt,{open:dt,onOpenChange:ee=>{ee||(er(!1),_r(""),zr(null))},children:r.jsxs(xt,{children:[r.jsx(vt,{children:r.jsx(yt,{children:"Add Trigger Folder"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Add a folder that will trigger the workstream ",r.jsx("strong",{children:wr==null?void 0:wr.name})," when you cd into it."]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Folder Path"}),r.jsx(ct,{value:Ht,onChange:ee=>_r(ee.target.value),placeholder:"~/path/to/folder",className:"font-mono"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Use absolute path or ~ for home directory"})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>{er(!1),_r(""),zr(null)},children:"Cancel"}),r.jsxs(re,{onClick:Jr,disabled:!Ht.trim(),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(ii,{className:"w-4 h-4 mr-2"}),"Add Folder"]})]})]})})]})}const x_={clarify:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",plan:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",execute:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Ca={pending:r.jsx(ec,{className:"w-4 h-4 text-gray-500"}),running:r.jsx(lS,{className:"w-4 h-4 text-green-500"}),paused:r.jsx(vp,{className:"w-4 h-4 text-yellow-500"}),completed:r.jsx(No,{className:"w-4 h-4 text-green-600"}),failed:r.jsx(Ta,{className:"w-4 h-4 text-red-500"}),cancelled:r.jsx(Ta,{className:"w-4 h-4 text-gray-500"})};function mW({activeProject:e=null}){var ol,al,Ko,ll,cl,dl,qo,ro,cn,dn,un;const[t,s]=_.useState([]),[n,o]=_.useState(!0),[c,u]=_.useState(null),[l,d]=_.useState({}),{workstreams:f,activeId:m,fetch:h}=yN(),[x,w]=_.useState(""),[j,C]=_.useState(!1),[v,y]=_.useState(!1),[g,b]=_.useState(!1),[k,E]=_.useState(!1),[P,T]=_.useState(null),[N,M]=_.useState(!1),[I,L]=_.useState(null),[B,H]=_.useState(""),[q,z]=_.useState(""),[G,J]=_.useState(50),[K,F]=_.useState("DONE"),[R,O]=_.useState(!1),[V,$]=_.useState(!1),[se,de]=_.useState(!1),[pe,X]=_.useState(""),[W,ce]=_.useState(""),[ie,Q]=_.useState(!1),[le,we]=_.useState(!1),[Le,Ke]=_.useState(null),[fe,ye]=_.useState("create"),[Je,Ye]=_.useState(""),[ot,ke]=_.useState(""),[be,Oe]=_.useState(50),[Ee,_e]=_.useState("DONE"),[oe,ve]=_.useState(""),[De,Be]=_.useState(50),[ze,St]=_.useState(!1),[dt,er]=_.useState("DONE"),[wr,zr]=_.useState([]),[Ht,_r]=_.useState({stopHook:{},prepromptHook:{}}),[hr,Hr]=_.useState(!1),[Us,fs]=_.useState({needsInstall:!0}),[Ps,As]=_.useState(!1),[nt,Lt]=_.useState(null),[ir,tr]=_.useState(null),[ms,Vt]=_.useState(!1),[rr,Wr]=_.useState(!1),[ut,fr]=_.useState(null),[Xr,Jr]=_.useState(!0),[Qe,an]=_.useState(null),[sl,ps]=_.useState(!1);_.useEffect(()=>{Cr(),Ji(),Qi(),h(),Ts()},[h]);const xi=_.useRef(null);_.useEffect(()=>{if(!rr||!ut){xi.current=null;return}xi.current=ut.status;const te=setInterval(async()=>{var Me,At,Sr;try{const pt=(await ue.getLoop(ut.id)).loop,Rr=xi.current!==pt.status,Mr=["completed","paused","failed","cancelled"].includes(pt.status);if(Rr&&Mr){clearInterval(te);const Zr={id:pt.id,name:pt.name,task:(Me=pt.task)==null?void 0:Me.original,status:pt.status,pauseReason:pt.pauseReason,iterations:((At=pt.iterations)==null?void 0:At.current)||0,maxIterations:((Sr=pt.iterations)==null?void 0:Sr.max)||50,phase:pt.phase,startedAt:pt.startedAt,completedAt:pt.completedAt||new Date().toISOString(),duration:pt.startedAt?Math.round((Date.now()-new Date(pt.startedAt).getTime())/1e3):null};an(Zr),pt.status==="completed"?Y.success("Loop completed successfully!"):pt.status==="paused"?Y.info(`Loop paused: ${pt.pauseReason||"unknown reason"}`):pt.status==="failed"?Y.error("Loop failed"):pt.status==="cancelled"&&Y.warning("Loop cancelled"),Cr(),Xr&&pt.status==="completed"?setTimeout(()=>{Wr(!1),fr(null),ps(!0)},1500):ps(!0)}xi.current=pt.status}catch(Qr){console.error("Failed to poll loop status:",Qr)}},3e3);return()=>clearInterval(te)},[rr,ut,Xr]);const Ts=async()=>{try{const te=await ue.getRalphLoopPluginStatus();fs(te)}catch(te){console.error("Failed to load plugin status:",te)}};_.useEffect(()=>{j&&m&&z(m)},[j,m]);const Cr=async()=>{try{o(!0);const te=await ue.getLoops();s(te.loops||[]),d(te.config||{})}catch{Y.error("Failed to load loops")}finally{o(!1)}},Ji=async()=>{try{const Me=(await ue.getLoopConfig()).config||{};d(Me),Be(Me.maxIterations||50),St(Me.autoApprovePlan||!1),er(Me.completionPromise||"DONE"),J(Me.maxIterations||50),F(Me.completionPromise||"DONE")}catch(te){console.error("Failed to load config:",te)}},Qi=async()=>{try{const te=await ue.getLoopHookStatus();_r(te)}catch(te){console.error("Failed to load hook status:",te)}},Bo=async()=>{try{const te=await ue.getLoopHistory();zr(te.completed||[])}catch{Y.error("Failed to load history")}},$o=async()=>{if(!B.trim()){Y.error("Task description is required");return}await ee(B)},zo=async()=>{if(!B.trim()){Y.error("Enter a task description first");return}try{$(!0),ce(B),ye("create");const te=await ue.tuneLoopPrompt(B,(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null);te.success?(X(te.tunedPrompt),de(!0)):Y.error(te.error||"Failed to tune prompt")}catch(te){Y.error(te.message)}finally{$(!1)}},ln=()=>{fe==="edit"?ke(pe):(H(pe),Q(!0)),de(!1),Y.success("Tuned prompt applied")},Ho=()=>{de(!1)},vi=te=>{te.status==="failed"||te.status==="paused"||te.status==="cancelled"?(Ke(te),we(!0)):gr(te.id)},Ut=async()=>{var te,Me,At,Sr;if(Le)try{$(!0);const Qr=((te=Le.task)==null?void 0:te.original)||"",pt=await ue.getLoop(Le.id),Rr=pt.loop||Le,Mr={status:Rr.status,pauseReason:Rr.pauseReason,iterations:((Me=Rr.iterations)==null?void 0:Me.current)||0,maxIterations:((At=Rr.iterations)==null?void 0:At.max)||50,phase:Rr.phase,clarifications:pt.clarifications||"",plan:pt.plan||"",iterationHistory:(((Sr=Rr.iterations)==null?void 0:Sr.history)||[]).slice(-5).map(so=>`Iteration ${so.n}: ${so.summary||"no summary"}`).join(`
`)};let Zr="";Mr.clarifications&&(Zr+=`=== Clarifications ===
${Mr.clarifications}

`),Mr.plan&&(Zr+=`=== Plan ===
${Mr.plan}

`),Mr.iterationHistory&&(Zr+=`=== Recent Iterations ===
${Mr.iterationHistory}
`),Mr.transcript=Zr;const qn=await ue.tuneLoopPrompt(Qr,Le.projectPath||(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null,Mr);qn.success?(await ue.updateLoop(Le.id,{task:{original:qn.tunedPrompt}}),Y.success("Prompt tuned and loop updated"),we(!1),await Pt(Le.id),Cr()):Y.error(qn.error||"Failed to tune prompt")}catch(Qr){Y.error(Qr.message)}finally{$(!1),Ke(null)}},Wo=async()=>{Le&&(we(!1),await gr(Le.id),Ke(null))},ee=async te=>{try{O(!0);const Me=await ue.createLoop(te,{workstreamId:q||null,projectPath:(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null,maxIterations:parseInt(G,10)||50,completionPromise:K||"DONE"});Me.success?(Y.success("Loop created"),C(!1),H(""),z(""),J(De),F(dt),Q(!1),Cr()):Y.error(Me.error||"Failed to create loop")}catch(Me){Y.error(Me.message)}finally{O(!1)}},Ie=async te=>{if(Us.needsInstall){Lt(te),tr("start"),As(!0);return}await He(te)},He=async te=>{try{const Me=await ue.startLoop(te);Me.success&&Me.loop?(Y.success("Loop started - launching Claude Code"),fr(Me.loop),Wr(!0),Cr()):Y.error(Me.error||"Failed to start loop")}catch(Me){Y.error(Me.message)}},Ot=async()=>{try{Vt(!0);const te=await ue.installRalphLoopPlugin();te.success?(Y.success("ralph-loop plugin installed"),fs({installed:!0,scope:"user",needsInstall:!1}),As(!1),nt&&(ir==="resume"?await Pt(nt):await He(nt),Lt(null),tr(null))):Y.error(te.error||"Failed to install plugin")}catch(te){Y.error(te.message)}finally{Vt(!1)}},or=()=>{As(!1),Lt(null),tr(null)},jt=_.useCallback(async(te,Me)=>{var At,Sr,Qr,pt,Rr,Mr,Zr,qn,so,yi,bi,Yn,no,Vc;if(ut)try{const ft=(await ue.getLoop(ut.id)).loop;if(ft.taskComplete||ft.status==="completed")Y.success("Loop completed successfully!"),an({id:ft.id,name:ft.name,task:(At=ft.task)==null?void 0:At.original,status:"completed",iterations:((Sr=ft.iterations)==null?void 0:Sr.current)||0,maxIterations:((Qr=ft.iterations)==null?void 0:Qr.max)||50,phase:ft.phase,startedAt:ft.startedAt,completedAt:ft.completedAt||new Date().toISOString()}),ps(!0),Wr(!1),fr(null);else if(ft.status==="paused")Y.info(`Loop paused: ${ft.pauseReason||"user requested"}`),an({id:ft.id,name:ft.name,task:(pt=ft.task)==null?void 0:pt.original,status:"paused",pauseReason:ft.pauseReason,iterations:((Rr=ft.iterations)==null?void 0:Rr.current)||0,maxIterations:((Mr=ft.iterations)==null?void 0:Mr.max)||50,phase:ft.phase,startedAt:ft.startedAt,completedAt:new Date().toISOString()}),ps(!0);else if(te===0&&!Me)await ue.completeLoop(ft.id),Y.success("Loop completed successfully!"),an({id:ft.id,name:ft.name,task:(Zr=ft.task)==null?void 0:Zr.original,status:"completed",iterations:((qn=ft.iterations)==null?void 0:qn.current)||0,maxIterations:((so=ft.iterations)==null?void 0:so.max)||50,phase:"execute",startedAt:ft.startedAt,completedAt:new Date().toISOString()}),ps(!0),Wr(!1),fr(null);else if(((yi=ft.iterations)==null?void 0:yi.current)>=((bi=ft.iterations)==null?void 0:bi.max))Y.warning("Loop reached max iterations"),await ue.pauseLoop(ft.id);else{const Yo=Me?`Signal: ${Me}`:`Exit code: ${te}`;an({id:ft.id,name:ft.name,task:(Yn=ft.task)==null?void 0:Yn.original,status:"paused",pauseReason:Yo,iterations:((no=ft.iterations)==null?void 0:no.current)||0,maxIterations:((Vc=ft.iterations)==null?void 0:Vc.max)||50,phase:ft.phase,startedAt:ft.startedAt,completedAt:new Date().toISOString()}),ps(!0)}Cr()}catch(Uc){console.error("Failed to check loop status:",Uc)}},[ut]),Wt=async te=>{try{const Me=await ue.pauseLoop(te);Me.success?(Y.success("Loop paused"),Cr()):Y.error(Me.error||"Failed to pause loop")}catch(Me){Y.error(Me.message)}},gr=async te=>{if(Us.needsInstall){Lt(te),tr("resume"),As(!0);return}await Pt(te)},Pt=async te=>{try{const Me=await ue.resumeLoop(te);Me.success&&Me.loop?(Y.success("Loop resumed - launching Claude Code"),fr(Me.loop),Wr(!0),Cr()):Y.error(Me.error||"Failed to resume loop")}catch(Me){Y.error(Me.message)}},gs=async te=>{if(confirm("Cancel this loop?"))try{const Me=await ue.cancelLoop(te);Me.success?(Y.success("Loop cancelled"),Cr()):Y.error(Me.error||"Failed to cancel loop")}catch(Me){Y.error(Me.message)}},Sn=async te=>{if(confirm("Delete this loop and all its data?"))try{const Me=await ue.deleteLoop(te);Me.success?(Y.success("Loop deleted"),Cr()):Y.error(Me.error||"Failed to delete loop")}catch(Me){Y.error(Me.message)}},kn=te=>{var Me,At;L(te),Ye(te.name||""),ke(((Me=te.task)==null?void 0:Me.original)||""),Oe(((At=te.iterations)==null?void 0:At.max)||50),_e(te.completionPromise||"DONE"),ve(te.workstreamId||""),M(!0)},Kn=async()=>{if(I)try{O(!0);const te={name:Je,task:{original:ot},iterations:{max:parseInt(be,10)},completionPromise:Ee,workstreamId:oe||null},Me=await ue.updateLoop(I.id,te);Me.success?(Y.success("Loop updated"),M(!1),L(null),Cr()):Y.error(Me.error||"Failed to update loop")}catch(te){Y.error(te.message)}finally{O(!1)}},Vo=async te=>{var Me,At;try{O(!0);const Sr=await ue.createLoop(((Me=te.task)==null?void 0:Me.original)||"",{name:`${te.name} (copy)`,workstreamId:te.workstreamId||null,projectPath:te.projectPath||(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null,maxIterations:((At=te.iterations)==null?void 0:At.max)||50,completionPromise:te.completionPromise||"DONE"});Sr.success?(Y.success("Loop copied"),Cr()):Y.error(Sr.error||"Failed to copy loop")}catch(Sr){Y.error(Sr.message)}finally{O(!1)}},Zi=async te=>{try{const Me=await ue.approveLoop(te);Me.success?(Y.success("Plan approved"),Cr()):Y.error(Me.error||"Failed to approve plan")}catch(Me){Y.error(Me.message)}},Uo=async()=>{try{O(!0);const te=await ue.updateLoopConfig({maxIterations:parseInt(De,10),autoApprovePlan:ze,completionPromise:dt});te.success?(Y.success("Configuration saved"),y(!1),Ji()):Y.error(te.error||"Failed to save configuration")}catch(te){Y.error(te.message)}finally{O(!1)}},Eh=async()=>{try{Hr(!0);const te=await ue.installLoopHooks();te.success?(Y.success("Hooks installed successfully"),Qi()):Y.error(te.error||"Failed to install hooks")}catch(te){Y.error(te.message)}finally{Hr(!1)}},Hc=async te=>{try{const Me=await ue.getLoop(te.id);T({...Me.loop,clarifications:Me.clarifications,plan:Me.plan}),E(!0)}catch{Y.error("Failed to load loop details")}},nl=te=>{navigator.clipboard.writeText(te),Y.success("Copied to clipboard")},eo=te=>te?new Date(te).toLocaleString():"-",il=te=>te.iterations?Math.min(100,te.iterations.current/te.iterations.max*100):0,to=((ol=Ht.stopHook)==null?void 0:ol.registered)&&((al=Ht.prepromptHook)==null?void 0:al.registered),Wc=te=>{if(!te)return null;const Me=f.find(At=>At.id===te);return(Me==null?void 0:Me.name)||te},Go=x?t.filter(te=>te.workstreamId===x):t,Nt=(te,Me=!1)=>{var pt,Rr;const At=((pt=te.task)==null?void 0:pt.original)||"";if((Rr=te.iterations)!=null&&Rr.max,te.completionPromise,Me){const Mr=At.replace(/\n+/g," ").substring(0,100),Zr=At.length>100?"...":"";return`claude --dangerously-skip-permissions "${Mr.replace(/"/g,'\\"')}${Zr}"`}return{startCmd:"claude --dangerously-skip-permissions",skillCmd:At}};return r.jsxs("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(cc,{className:"w-6 h-6"}),"Ralph Loops"]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Autonomous development loops using the official ralph-loop plugin"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Mg,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("select",{className:"text-sm border rounded px-2 py-1 bg-background",value:x,onChange:te=>w(te.target.value),children:[r.jsx("option",{value:"",children:"All workstreams"}),f.map(te=>r.jsx("option",{value:te.id,children:te.name},te.id))]})]}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{Bo(),b(!0)},children:[r.jsx(ku,{className:"w-4 h-4 mr-1"}),"History"]})}),r.jsx(Mt,{children:"View completed loops"})]})}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(!0),children:[r.jsx(sn,{className:"w-4 h-4 mr-1"}),"Config"]})}),r.jsx(Mt,{children:"Configure loop defaults"})]})}),r.jsxs(re,{onClick:()=>C(!0),children:[r.jsx(Rt,{className:"w-4 h-4 mr-1"}),"New Loop"]})]})]}),!to&&r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($s,{className:"w-5 h-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Hooks not installed"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Install the Ralph Loop hooks to enable automatic loop continuation"})]})]}),r.jsxs(re,{variant:"outline",size:"sm",onClick:Eh,disabled:hr,children:[hr?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):null,"Install Hooks"]})]}),n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Ze,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Go.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(cc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:x?"No loops in this workstream":"No loops yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Create a loop to start autonomous development"})]}):r.jsx("div",{className:"space-y-3",children:Go.map(te=>{var Me,At,Sr,Qr,pt;return r.jsxs("div",{className:"border rounded-lg bg-card overflow-hidden",children:[r.jsxs("div",{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>u(c===te.id?null:te.id),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c===te.id?r.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),Ca[te.status]||Ca.pending,r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:te.name}),r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-md",children:((Me=te.task)==null?void 0:Me.original)||"No task"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[te.workstreamId&&r.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 flex items-center gap-1",children:[r.jsx(Rn,{className:"w-3 h-3"}),Wc(te.workstreamId)]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x_[te.phase]||"bg-gray-100 dark:bg-gray-800"}`,children:te.phase}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[((At=te.iterations)==null?void 0:At.current)||0,"/",((Sr=te.iterations)==null?void 0:Sr.max)||50]}),r.jsxs("div",{className:"flex items-center gap-1",onClick:Rr=>Rr.stopPropagation(),children:[te.status==="pending"&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Ie(te.id),children:r.jsx(lS,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Start loop"})]})}),te.status==="running"&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Wt(te.id),children:r.jsx(vp,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Pause loop"})]})}),te.status==="paused"&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>vi(te),children:r.jsx(qd,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Resume loop"})]})}),(te.status==="cancelled"||te.status==="failed")&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>vi(te),children:r.jsx(qd,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Restart loop"})]})}),te.phase==="plan"&&te.status==="running"&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Zi(te.id),children:r.jsx($t,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Approve plan"})]})}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>kn(te),children:r.jsx(Yu,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Edit loop"})]})}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Vo(te),children:r.jsx($a,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Duplicate loop"})]})}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Hc(te),children:r.jsx(Tg,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"View details"})]})}),(te.status==="running"||te.status==="paused")&&r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>gs(te.id),children:r.jsx(Ta,{className:"w-4 h-4"})})}),r.jsx(Mt,{children:"Cancel loop"})]})}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Sn(te.id),children:r.jsx(js,{className:"w-4 h-4 text-red-500"})})}),r.jsx(Mt,{children:"Delete loop"})]})})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[r.jsx("span",{children:"Iterations"}),r.jsxs("span",{children:[((Qr=te.iterations)==null?void 0:Qr.current)||0," / ",((pt=te.iterations)==null?void 0:pt.max)||50]})]}),r.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${il(te)}%`}})})]})]}),c===te.id&&r.jsxs("div",{className:"border-t p-4 bg-muted/30 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"ID:"}),r.jsx("span",{className:"ml-2 font-mono",children:te.id}),r.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",onClick:()=>nl(te.id),children:r.jsx($a,{className:"w-3 h-3"})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Status:"}),r.jsxs("span",{className:"ml-2",children:[te.status,te.pauseReason?` (${te.pauseReason})`:""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Created:"}),r.jsx("span",{className:"ml-2",children:eo(te.createdAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),r.jsx("span",{className:"ml-2",children:eo(te.updatedAt)})]}),te.workstreamId&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-muted-foreground",children:"Workstream:"}),r.jsxs("span",{className:"ml-2 inline-flex items-center gap-1",children:[r.jsx(Rn,{className:"w-3 h-3 text-purple-500"}),Wc(te.workstreamId)]})]})]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Run this loop (uses official ralph-loop plugin):"})]}),r.jsx("code",{className:"text-xs bg-background p-2 rounded block whitespace-pre-wrap",children:Nt(te,!0)})]})]})]},te.id)})}),r.jsx(wt,{open:j,onOpenChange:C,children:r.jsxs(xt,{className:"sm:max-w-lg",children:[r.jsx(vt,{children:r.jsx(yt,{children:"Create New Loop"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium",children:"Task Description"}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",onClick:zo,disabled:V||!B.trim(),className:"h-7 text-xs",children:[V?r.jsx(Ze,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(os,{className:"w-3 h-3 mr-1"}),"Tune with AI"]})}),r.jsx(Mt,{children:r.jsx("p",{className:"max-w-xs",children:"Use Claude to optimize your prompt for Ralph Loop execution - adds clear completion signals, verification steps, and acceptance criteria."})})]})})]}),r.jsx(Ct,{placeholder:"Describe what you want Claude to accomplish...",value:B,onChange:te=>{H(te.target.value),Q(!1)},rows:4}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Be specific about the goal. The loop will continue until this task is completed."}),ie&&r.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[r.jsx(Yt,{className:"w-3 h-3"}),"AI-tuned"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Project"}),r.jsx("div",{className:"text-sm p-2 bg-muted rounded-md",children:e?r.jsx("span",{className:"font-mono",children:e.name||e.path||e.dir}):r.jsx("span",{className:"text-muted-foreground",children:"No project selected - loop will run in server directory"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Max Iterations"}),r.jsx(ct,{type:"number",value:G,onChange:te=>J(te.target.value),min:1,max:1e3}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Safety limit for the loop"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Completion Promise"}),r.jsx(ct,{value:K,onChange:te=>F(te.target.value),placeholder:"DONE"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Text that signals completion"})]})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Workstream (optional)"}),r.jsxs("select",{className:"w-full border rounded-md p-2 bg-background",value:q,onChange:te=>z(te.target.value),children:[r.jsx("option",{value:"",children:"No workstream"}),f.map(te=>r.jsx("option",{value:te.id,children:te.name},te.id))]})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),r.jsxs(re,{onClick:$o,disabled:R||!B.trim(),children:[R?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):null,"Create Loop"]})]})]})}),r.jsx(wt,{open:N,onOpenChange:M,children:r.jsxs(xt,{className:"sm:max-w-lg",children:[r.jsx(vt,{children:r.jsx(yt,{children:"Edit Loop"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Name"}),r.jsx(ct,{placeholder:"Loop name",value:Je,onChange:te=>Ye(te.target.value)})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium",children:"Task Description"}),r.jsx(cr,{children:r.jsxs(Ft,{children:[r.jsx(Bt,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",onClick:async()=>{if(!ot.trim()){Y.error("Enter a task description first");return}try{$(!0),ce(ot),ye("edit");const te=await ue.tuneLoopPrompt(ot,(I==null?void 0:I.projectPath)||(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null);te.success?(X(te.tunedPrompt),de(!0)):Y.error(te.error||"Failed to tune prompt")}catch(te){Y.error(te.message)}finally{$(!1)}},disabled:V||!ot.trim(),className:"h-7 text-xs",children:[V?r.jsx(Ze,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(os,{className:"w-3 h-3 mr-1"}),"Tune with AI"]})}),r.jsx(Mt,{children:r.jsx("p",{className:"max-w-xs",children:"Use Claude to optimize your prompt for Ralph Loop execution."})})]})})]}),r.jsx(Ct,{placeholder:"Describe what you want Claude to accomplish...",value:ot,onChange:te=>ke(te.target.value),rows:4})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Max Iterations"}),r.jsx(ct,{type:"number",value:be,onChange:te=>Oe(te.target.value),min:1,max:1e3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Completion Promise"}),r.jsx(ct,{value:Ee,onChange:te=>_e(te.target.value),placeholder:"DONE"})]})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Workstream"}),r.jsxs("select",{className:"w-full border rounded-md p-2 bg-background",value:oe,onChange:te=>ve(te.target.value),children:[r.jsx("option",{value:"",children:"No workstream"}),f.map(te=>r.jsx("option",{value:te.id,children:te.name},te.id))]})]}),I&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsxs("span",{children:["ID: ",I.id]}),r.jsx("span",{className:"mx-2",children:"|"}),r.jsxs("span",{children:["Status: ",I.status]}),r.jsx("span",{className:"mx-2",children:"|"}),r.jsxs("span",{children:["Phase: ",I.phase]})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),r.jsxs(re,{onClick:Kn,disabled:R||!ot.trim(),children:[R?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):null,"Save Changes"]})]})]})}),r.jsx(wt,{open:v,onOpenChange:y,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsx(yt,{children:"Loop Configuration"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Max Iterations"}),r.jsx(ct,{type:"number",value:De,onChange:te=>Be(te.target.value),min:1,max:1e3}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Loop will pause after this many iterations"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Default Completion Promise"}),r.jsx(ct,{value:dt,onChange:te=>er(te.target.value),placeholder:"DONE"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Default text that signals loop completion (used with official ralph-loop plugin)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"autoApprovePlan",checked:ze,onChange:te=>St(te.target.checked),className:"rounded"}),r.jsx("label",{htmlFor:"autoApprovePlan",className:"text-sm",children:"Auto-approve plans (skip manual plan approval)"})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),r.jsxs(re,{onClick:Uo,disabled:R,children:[R?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):null,"Save"]})]})]})}),r.jsx(wt,{open:g,onOpenChange:b,children:r.jsxs(xt,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsx(yt,{children:"Loop History"})}),r.jsx("div",{className:"space-y-3 py-4",children:wr.length===0?r.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No completed loops yet"}):wr.slice().reverse().map(te=>r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[Ca[te.status]||Ca.completed,r.jsx("span",{className:"font-medium",children:te.name})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:eo(te.completedAt)})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:te.task}),r.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:r.jsxs("span",{children:["Iterations: ",te.totalIterations]})})]},te.id))})]})}),r.jsx(wt,{open:k,onOpenChange:E,children:r.jsxs(xt,{className:"sm:max-w-3xl max-h-[80vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsx(yt,{children:(P==null?void 0:P.name)||"Loop Details"})}),P&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Phase"}),r.jsx("span",{className:`text-sm px-2 py-0.5 rounded-full ${x_[P.phase]||""}`,children:P.phase})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-1",children:[Ca[P.status],r.jsx("span",{children:P.status})]})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Progress"}),r.jsxs("span",{children:[((Ko=P.iterations)==null?void 0:Ko.current)||0," / ",((ll=P.iterations)==null?void 0:ll.max)||50]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Task"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm",children:(cl=P.task)==null?void 0:cl.original})]}),P.clarifications&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Clarifications"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap max-h-40 overflow-y-auto",children:P.clarifications})]}),P.plan&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Plan"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap max-h-60 overflow-y-auto font-mono",children:P.plan})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Max Iterations"}),r.jsx("div",{className:"bg-muted p-2 rounded text-sm",children:((dl=P.iterations)==null?void 0:dl.max)||50})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Completion Promise"}),r.jsxs("div",{className:"bg-muted p-2 rounded text-sm font-mono",children:["<promise>",P.completionPromise||"DONE","</promise>"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Run Command (uses official ralph-loop plugin)"}),r.jsx("code",{className:"text-xs bg-muted p-3 rounded block whitespace-pre-wrap",children:Nt(P,!0)})]})]})]})}),r.jsx(wt,{open:Ps,onOpenChange:As,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(ui,{className:"w-5 h-5"}),"Install ralph-loop Plugin"]})}),r.jsxs("div",{className:"py-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["The ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"ralph-loop"})," plugin is required to run loops. This plugin provides the ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"/ralph-loop"})," command that enables autonomous iteration."]}),Us.scope==="project"&&r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Plugin is currently installed only for project: ",r.jsx("br",{}),r.jsx("code",{className:"text-xs",children:Us.projectPath})]})}),r.jsx("p",{className:"text-sm",children:"Install the plugin globally (user scope) to use loops from any project?"})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:or,disabled:ms,children:"Cancel"}),r.jsx(re,{onClick:Ot,disabled:ms,children:ms?r.jsxs(r.Fragment,{children:[r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}),"Installing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ui,{className:"w-4 h-4 mr-1"}),"Install Plugin"]})})]})]})}),r.jsx(Oj,{open:rr,onOpenChange:te=>{Wr(te),te||(fr(null),Cr())},title:ut?`Loop: ${ut.name}`:"Running Loop",description:ut?((ro=(qo=ut.task)==null?void 0:qo.original)==null?void 0:ro.substring(0,100))+(((dn=(cn=ut.task)==null?void 0:cn.original)==null?void 0:dn.length)>100?"...":""):"",cwd:ut==null?void 0:ut.projectPath,initialCommand:ut?Nt(ut).startCmd:"",delayedCommand:ut?Nt(ut).skillCmd:"",delayedCommandDelay:5e3,env:ut?{CODER_LOOP_ID:ut.id,...ut.workstreamId&&{CODER_WORKSTREAM:ut.workstreamId}}:{},onExit:jt,headerExtra:r.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[r.jsx("input",{type:"checkbox",checked:Xr,onChange:te=>Jr(te.target.checked),className:"rounded"}),"Auto-close when done"]})}),r.jsx(wt,{open:se,onOpenChange:de,children:r.jsxs(xt,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(os,{className:"w-5 h-5 text-purple-500"}),"AI-Tuned Prompt"]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2 text-muted-foreground",children:"Original Prompt"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap max-h-32 overflow-y-auto",children:W})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-purple-500"}),"Tuned Prompt"]}),r.jsx(Ct,{value:pe,onChange:te=>X(te.target.value),rows:10,className:"font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can edit the tuned prompt before accepting it."})]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:Ho,children:"Keep Original"}),r.jsxs(re,{onClick:ln,children:[r.jsx($t,{className:"w-4 h-4 mr-1"}),"Use Tuned Prompt"]})]})]})}),r.jsx(wt,{open:le,onOpenChange:we,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[r.jsx(qd,{className:"w-5 h-5"}),"Resume Loop"]})}),r.jsx("div",{className:"py-4",children:Le&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sm mb-4",children:["This loop ",Le.status==="failed"?"failed":Le.status==="cancelled"?"was cancelled":"was paused",Le.pauseReason&&`: ${Le.pauseReason}`]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Would you like to tune the prompt with AI before resuming? This can help add guardrails based on what went wrong."}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm max-h-32 overflow-y-auto",children:(un=Le.task)==null?void 0:un.original})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(re,{variant:"outline",onClick:()=>{we(!1),Ke(null)},children:"Cancel"}),r.jsx(re,{variant:"secondary",onClick:Wo,children:"Resume As-Is"}),r.jsxs(re,{onClick:Ut,disabled:V,children:[V?r.jsx(Ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(os,{className:"w-4 h-4 mr-1"}),"Tune & Resume"]})]})]})}),r.jsx(wt,{open:sl,onOpenChange:ps,children:r.jsxs(xt,{className:"sm:max-w-md",children:[r.jsx(vt,{children:r.jsxs(yt,{className:"flex items-center gap-2",children:[(Qe==null?void 0:Qe.status)==="completed"&&r.jsxs(r.Fragment,{children:[r.jsx(No,{className:"w-5 h-5 text-green-600"})," Loop Completed"]}),(Qe==null?void 0:Qe.status)==="paused"&&r.jsxs(r.Fragment,{children:[r.jsx(vp,{className:"w-5 h-5 text-yellow-500"})," Loop Paused"]}),(Qe==null?void 0:Qe.status)==="failed"&&r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-5 h-5 text-red-500"})," Loop Failed"]}),(Qe==null?void 0:Qe.status)==="cancelled"&&r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-5 h-5 text-gray-500"})," Loop Cancelled"]})]})}),Qe&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-1",children:"Task"}),r.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded",children:Qe.task})]}),Qe.pauseReason&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-1",children:"Reason"}),r.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded",children:Qe.pauseReason})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Status"}),r.jsxs("div",{className:"font-medium flex items-center gap-1",children:[Ca[Qe.status],r.jsx("span",{className:"capitalize",children:Qe.status})]})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Iterations"}),r.jsxs("div",{className:"font-medium",children:[Qe.iterations," / ",Qe.maxIterations]})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Duration"}),r.jsx("div",{className:"font-medium",children:Qe.duration!=null?Qe.duration<60?`${Qe.duration}s`:Qe.duration<3600?`${Math.floor(Qe.duration/60)}m ${Qe.duration%60}s`:`${Math.floor(Qe.duration/3600)}h ${Math.floor(Qe.duration%3600/60)}m`:"-"})]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[Qe.status==="completed"?"Completed":"Stopped"," at ",eo(Qe.completedAt)]})]}),r.jsxs(kt,{children:[r.jsx(re,{variant:"outline",onClick:()=>ps(!1),children:"Close"}),((Qe==null?void 0:Qe.status)==="paused"||(Qe==null?void 0:Qe.status)==="failed"||(Qe==null?void 0:Qe.status)==="cancelled")&&r.jsxs(re,{onClick:()=>{if(ps(!1),Qe!=null&&Qe.id){const te=t.find(Me=>Me.id===Qe.id);te&&vi(te)}},children:[r.jsx(qd,{className:"w-4 h-4 mr-1"}),(Qe==null?void 0:Qe.status)==="paused"?"Resume":"Restart"]}),r.jsx(re,{variant:"secondary",onClick:()=>{if(ps(!1),Qe!=null&&Qe.id){const te=t.find(Me=>Me.id===Qe.id);te&&Hc(te)}},children:"View Details"})]})]})})]})}function pW(e,t=[]){let s=[];function n(c,u){const l=_.createContext(u);l.displayName=c+"Context";const d=s.length;s=[...s,u];const f=h=>{var y;const{scope:x,children:w,...j}=h,C=((y=x==null?void 0:x[e])==null?void 0:y[d])||l,v=_.useMemo(()=>j,Object.values(j));return r.jsx(C.Provider,{value:v,children:w})};f.displayName=c+"Provider";function m(h,x){var C;const w=((C=x==null?void 0:x[e])==null?void 0:C[d])||l,j=_.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[f,m]}const o=()=>{const c=s.map(u=>_.createContext(u));return function(l){const d=(l==null?void 0:l[e])||c;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,gW(o,...t)]}function gW(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((l,{useScope:d,scopeName:f})=>{const h=d(c)[`__scope${f}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}var xW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y2=xW.reduce((e,t)=>{const s=Xu(`Primitive.${t}`),n=_.forwardRef((o,c)=>{const{asChild:u,...l}=o,d=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Vx="Progress",Ux=100,[vW]=pW(Vx),[yW,bW]=vW(Vx),b2=_.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:o,getValueLabel:c=wW,...u}=e;(o||o===0)&&!v_(o)&&console.error(_W(`${o}`,"Progress"));const l=v_(o)?o:Ux;n!==null&&!y_(n,l)&&console.error(CW(`${n}`,"Progress"));const d=y_(n,l)?n:null,f=$u(d)?c(d,l):void 0;return r.jsx(yW,{scope:s,value:d,max:l,children:r.jsx(y2.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":$u(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":C2(d,l),"data-value":d??void 0,"data-max":l,...u,ref:t})})});b2.displayName=Vx;var w2="ProgressIndicator",_2=_.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,o=bW(w2,s);return r.jsx(y2.div,{"data-state":C2(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});_2.displayName=w2;function wW(e,t){return`${Math.round(e/t*100)}%`}function C2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $u(e){return typeof e=="number"}function v_(e){return $u(e)&&!isNaN(e)&&e>0}function y_(e,t){return $u(e)&&!isNaN(e)&&e<=t&&e>=0}function _W(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ux}\`.`}function CW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ux} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var S2=b2,SW=_2;const k2=_.forwardRef(({className:e,value:t,...s},n)=>r.jsx(S2,{ref:n,className:Ne("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...s,children:r.jsx(SW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));k2.displayName=S2.displayName;const Vl=[{id:"welcome",title:"Welcome",icon:Yt,subsections:[{id:"intro",title:"What is Coder Config?"},{id:"what-youll-learn",title:"What You'll Learn"}]},{id:"first-project",title:"Your First Project",icon:ii,subsections:[{id:"adding-project",title:"Adding a Project"},{id:"exploring-project",title:"Exploring Your Project"},{id:"claude-folder",title:"The .claude Folder"}]},{id:"rules-guide",title:"Working with Rules",icon:Br,subsections:[{id:"what-are-rules",title:"What Are Rules?"},{id:"creating-rules",title:"Creating Your First Rule"},{id:"rule-tips",title:"Tips for Great Rules"}]},{id:"mcp-guide",title:"MCP Servers",icon:Bn,subsections:[{id:"what-are-mcps",title:"What Are MCPs?"},{id:"adding-mcp",title:"Adding Your First MCP"},{id:"mcp-config",title:"Configuring MCPs"}]},{id:"permissions-guide",title:"Permissions",icon:Vn,subsections:[{id:"understanding-permissions",title:"How Permissions Work"},{id:"setting-permissions",title:"Setting Up Permissions"},{id:"permission-patterns",title:"Permission Patterns"}]},{id:"memory-guide",title:"Memory System",icon:jo,subsections:[{id:"what-is-memory",title:"What is Memory?"},{id:"using-memory",title:"Using Memory"}]},{id:"plugins-guide",title:"Plugins",icon:Po,subsections:[{id:"what-are-plugins",title:"What Are Plugins?"},{id:"installing-plugin",title:"Installing a Plugin"}]},{id:"workstreams-guide",title:"Workstreams",icon:cS,subsections:[{id:"what-are-workstreams",title:"What Are Workstreams?"},{id:"creating-workstream",title:"Creating a Workstream"}]},{id:"loops-guide",title:"Ralph Loops",icon:cc,isExperimental:!0,subsections:[{id:"what-are-loops",title:"What Are Ralph Loops?"},{id:"creating-first-loop",title:"Your First Loop"}]},{id:"multi-tool-guide",title:"Multi-Tool Support",icon:os,subsections:[{id:"other-tools",title:"Beyond Claude Code"},{id:"syncing-tools",title:"Syncing Between Tools"}]},{id:"next-steps",title:"Next Steps",icon:kc,subsections:[]}],kW={intro:{title:"What is Coder Config?",content:`
Coder Config is your **control center** for Claude Code and other AI coding tools. Instead of manually editing JSON files or remembering command-line flags, you get a friendly UI to manage everything.

You might be running the desktop app (downloaded from [GitHub Releases](https://github.com/regression-io/coder-config/releases)), or you installed the npm package with \`npm install -g coder-config\` and ran \`coder-config ui\`. Either way works identicallythis tutorial applies to both.

### What problems does it solve?

When you use Claude Code, configuration is scattered across multiple files. Your MCP servers live in one place, permissions in another, rules in markdown files throughout your project. Making changes means hunting through dotfiles and JSON.

Coder Config brings it all together. You register a project once, then manage its rules, permissions, MCP servers, and memory from a single dashboard. When you work on multiple projects, you can switch between them without losing your place. When you work across multiple repos at once, workstreams let you group them together with shared context.

### Who is this for?

Anyone using Claude Code who wants more control. Maybe you're tired of Claude forgetting your preferences between sessions. Maybe you work on multiple projects with different conventions. Maybe you want to connect Claude to your database or GitHub without editing JSON by hand.

Whatever brought you here, this tutorial will show you how to get the most out of Coder Config.
    `},"what-youll-learn":{title:"What You'll Learn",content:`
This tutorial walks you through Coder Config step-by-step.

We'll start with the basics: adding a project and creating your first rule. Rules are simple markdown files that tell Claude about your preferencesthings like "always use TypeScript" or "never modify package-lock.json." Once you see how rules work, you'll understand why they're so powerful.

Then we'll move to MCP servers. These give Claude new abilitiesreading from your database, accessing your GitHub repos, persistent memory across sessions. You'll learn how to add them, configure them, and manage their credentials safely.

After that, we'll cover permissions (controlling what Claude can do without asking), memory (helping Claude remember things), and plugins (pre-built configurations you can install with a click).

Finally, we'll tackle workstreamsthe feature that makes working across multiple repos actually pleasant. If you've ever had to re-explain how your API and frontend connect every time you start a new session, workstreams solve that.

Each section takes about five minutes. You can stop anytime and pick up where you left off.

Ready? Click **"Adding a Project"** in the sidebar to begin.
    `}},jW={"adding-project":{title:"Adding a Project",content:`
In Coder Config, a "project" is just a folder on your computerusually one containing code. It might be a git repository, a single app, or any directory where you do development work.

### Finding the Add Project Button

Look at the top of the screen. There's a dropdown showing your current project (or "No project selected" if you're starting fresh). Click it, then click **Add Project**. Alternatively, go to **All Projects** in the sidebar and use the **Add Project** button there.

Either way, you'll be asked to enter a path. Type the full path to your project foldersomething like \`/Users/yourname/code/my-app\` on Mac or \`C:\\Projects\\my-app\` on Windows. The folder needs to exist already; Coder Config won't create it for you.

### What Happens When You Add a Project

Once you add a project, several things become possible. The project appears in your quick-switch dropdown so you can jump between projects without hunting through folders. Coder Config watches for a \`.claude\` folder inside that project, and if one exists, it loads the configuration automatically. When you use Claude Code in that directory, your rules and settings apply.

You can add as many projects as you want. They're stored in Coder Config's registry, and you can remove them later without affecting the actual files on disk.

### A Note on Git Repositories

While your project doesn't have to be a git repo, it helps. Git repos have natural boundaries, and most developers already organize their work this way. If you're working on a monorepo, you might add the root as one project, or add individual packages as separate projectswhatever makes sense for how you work.

Try adding a project now. Pick something you're actively working on, then move to the next section.
    `},"exploring-project":{title:"Exploring Your Project",content:`
With a project added, let's look at what you can do with it.

### The Project Explorer

Click **Project Explorer** in the sidebar. This is your window into your project's Claude configuration. If the project has a \`.claude\` folder, you'll see its contents laid out as a file tree. If there's no \`.claude\` folder yet, you'll see a prompt to create one.

The explorer shows the files Claude cares about: rules in the \`rules/\` folder, skills in \`commands/\`, MCP configurations, and local settings. You can click any file to view or edit it right in the browser. Right-click for more optionsrename, duplicate, delete.

### Project Information

Above the file tree, there's a summary panel. It shows the project's name, its path, and quick stats like how many rules you have configured. You'll also find buttons to open the project in VS Code or jump to it in your terminal.

### When There's No .claude Folder

New projects don't have Claude configuration yet. That's fine. The Project Explorer will offer to initialize one for you, creating the basic folder structure. Or you can create it manuallyit's just folders and files, nothing special about them.

### Editing Configuration Files

The built-in editor handles the file formats Claude uses: markdown for rules, JSON for MCP configs and settings. Changes save automatically when you navigate away, though you can also save explicitly. The editor is simple by designfor complex editing, use the "Open in VS Code" button.

Let's create the \`.claude\` folder in the next section, then start writing rules.
    `},"claude-folder":{title:"The .claude Folder",content:`
The \`.claude\` folder is where your project's Claude configuration lives. Everything Claude needs to know about your projecthow you want it to behave, what tools it can use, what patterns to followgoes here.

### Creating the Folder

If your project doesn't have a \`.claude\` folder yet, go to Project Explorer and click **Initialize .claude**. This creates the folder with a basic structure:

\`\`\`
.claude/
 rules/           # Markdown files with guidelines
 commands/        # Skills (reusable prompts)
 settings.local.json  # Project-specific settings
 mcps.json        # MCP server configurations
\`\`\`

You can also create this manually if you preferit's just regular folders and files.

### What Each Piece Does

The \`rules/\` folder contains markdown files that tell Claude about your project. These are instructions, conventions, things to avoidany guidance you'd give a new team member. Claude reads them at the start of every session.

The \`commands/\` folder holds skillsreusable prompts you can invoke with slash commands. If you find yourself typing the same instructions over and over, turn them into a skill.

The \`settings.local.json\` file stores project-specific settings that override global defaults. And \`mcps.json\` defines which MCP servers this project uses.

### The CLAUDE.md Alternative

There's another option: create a \`CLAUDE.md\` file in your project root (not inside \`.claude/\`). Claude reads this automatically too. Some developers prefer this because it's more visibleright there at the top level where everyone can see it.

You can use both. The \`CLAUDE.md\` file works well for high-level project context, while the \`.claude/rules/\` folder suits more detailed, categorized guidelines.

### Should You Commit It?

Generally, yes. Committing your \`.claude\` folder means everyone on your team gets the same Claude experience. The one exception is \`settings.local.json\`that's for personal preferences and should probably stay in your \`.gitignore\`.

Now that you have the structure in place, let's learn about rulesthe most powerful way to configure Claude for your project.
    `}},NW={"what-are-rules":{title:"What Are Rules?",content:`
Rules are instructions for Claude written in plain Markdown. They tell Claude things about your projecthow it's structured, what coding conventions to follow, what to avoid. Think of them as persistent context that Claude reads before every conversation.

### How Claude Uses Rules

When you start Claude Code in a project, it looks for configuration in the \`.claude/\` folder. Any Markdown files in the \`rules/\` subfolder get loaded automatically, along with any \`CLAUDE.md\` file in your project root. Claude treats all of this as background context that shapes how it thinks and responds.

This is different from just telling Claude something in conversation. If you say "use TypeScript" in chat, Claude knows that for the current conversation. But next time you start a session, it's forgotten. Rules persistevery new conversation in that project starts with Claude already knowing your preferences.

### A Simple Example

Say you create a file called \`.claude/rules/code-style.md\` with this content:

\`\`\`markdown
# Code Style

Use TypeScript for all new files. Prefer functional components with hooks.
Always add JSDoc comments for exported functions. Use absolute imports from @/.
\`\`\`

Now Claude follows these conventions automatically. You don't have to remind it every time. If you ask Claude to create a new component, it'll use TypeScript, make it functional, add JSDoc comments, and use \`@/\` importsbecause those are the rules.

### Why This Matters

Without rules, Claude makes reasonable guesses based on what it sees in your codebase. Usually that's fine. But when you have specific preferencesyour team's conventions, security requirements, patterns that aren't obvious from the code alonerules make Claude follow them consistently.
    `},"creating-rules":{title:"Creating Your First Rule",content:`
Let's create a rule file. This takes about a minute.

### Finding the Rules Folder

In the sidebar, click **Project Explorer**. You'll see your project's file tree. Look for a folder called \`.claude\`if it doesn't exist, create one. Inside that, create a \`rules\` folder if needed.

Click the **+** button and create a new file. Name it something descriptive like \`project-guidelines.md\`. The name doesn't matter to Claude; pick something that makes sense to you.

### Writing Your First Rule

Start with the basics. Describe your tech stack and any conventions Claude should know about. Here's a template to get you started:

\`\`\`markdown
# Project Guidelines

This is a React TypeScript project with a Node.js backend and PostgreSQL database.

## Coding Conventions

We use async/await instead of callbacks. Functions should be small and focusedif something
is getting long, break it into smaller pieces. All API calls need proper error handling.

## Things to Avoid

Don't use varalways const or let. Don't commit console.log statements (use our logger at
src/utils/logger.ts instead). Don't modify package-lock.json directly.
\`\`\`

Write in natural language. You're explaining things to Claude the same way you'd explain them to a new team member.

### Testing It Out

Save your file, then open Claude Code in your project. Ask Claude something related to your rulesmaybe "create a utility function for making API calls." Watch how it follows your guidelines. It should use async/await, add error handling, and use your logger instead of console.log.

If Claude isn't following a rule, the rule might be unclear. Try rephrasing it to be more specific.
    `},"rule-tips":{title:"Tips for Great Rules",content:`
Some rules work better than others. Here's what makes the difference.

### Be Specific

Vague rules get vague results. "Follow good CSS practices" doesn't tell Claude muchit probably already tries to do that. But "Use Tailwind CSS classes, never inline styles" is actionable. Claude knows exactly what to do.

The same applies to conventions. "Use consistent naming" is too abstract. "Use camelCase for variables, PascalCase for components, SCREAMING_SNAKE for constants" gives Claude clear guidance.

### Show, Don't Just Tell

Examples are powerful. If you want API responses in a specific format, show the format:

\`\`\`markdown
## API Response Format

Return responses like this:
\\\`\\\`\\\`json
{
  "success": true,
  "data": { ... },
  "error": null
}
\\\`\\\`\\\`
\`\`\`

Claude can read descriptions, but concrete examples leave no room for interpretation.

### Tell Claude What TO Do

"Don't use console.log" tells Claude what to avoid, but not what to do instead. "Use the logger from src/utils/logger.ts for all logging" is betternow Claude knows the alternative.

When you find yourself writing a rule about what NOT to do, add a sentence about what TO do instead.

### Keep Rules Updated

Rules should evolve with your project. When you change a convention, update the rules. When you add a new pattern, document it. Outdated rules confuse Claude more than no rules at all.

### Don't Over-Specify

Claude is smart. You don't need to specify obvious things or standard best practices. Focus your rules on things that are unique to your projectyour specific conventions, patterns that aren't obvious from the code, requirements that deviate from the norm.

If you find yourself writing a very long rules file, consider whether everything in it is truly specific to your project or just general good practice Claude already knows.
    `}},EW={"what-are-mcps":{title:"What Are MCPs?",content:`
MCP stands for Model Context Protocol. In practical terms, MCPs are plugins that give Claude new abilitiesways to interact with systems beyond just reading and writing files.

### What MCPs Can Do

By default, Claude can read files, run shell commands, and write code. MCPs extend this. A database MCP lets Claude query your PostgreSQL or MySQL database directly. A GitHub MCP lets it read issues, create pull requests, and manage repositories. A memory MCP gives Claude persistent storage across sessions.

The protocol is standardized, so MCPs work consistently regardless of who built them. Anthropic publishes official MCPs for common use cases, and there's a growing ecosystem of community-built ones for everything from Slack integration to Kubernetes management.

### How They Work

When you configure an MCP, you're telling Claude how to start a server that provides specific tools. Claude connects to that server and can then use whatever capabilities it offers. From your perspective, you just see Claude suddenly able to do things it couldn't do beforequery your database, post to Slack, read from a spreadsheet.

The server runs locally on your machine. Your data doesn't go anywhere unusual; the MCP just acts as a bridge between Claude and the system you're connecting to.

### A Practical Example

Say you add the filesystem MCP configured to access \`/var/logs/\`. Now Claude can read log files from that directory. You can ask "What errors happened in the last hour?" and Claude reads the actual logs to answer, rather than asking you to paste them.

Or add the GitHub MCP with your personal token. Claude can now list your repos, read issues, even create PRs on your behalf. The things you'd normally do through the GitHub UI or CLI, Claude can do directly.

### Where MCPs Come From

Anthropic maintains official MCPs for common integrations. The community has built many more, available through npm or GitHub. And if you have specific needs, you can build your ownthe protocol is documented and there are templates to start from.
    `},"adding-mcp":{title:"Adding Your First MCP",content:`
Let's add an MCP to see how it works. We'll use the filesystem MCP as an example since it's straightforward and immediately useful.

### Finding the MCP Registry

Click **MCP Registry** in the sidebar. This shows MCPs from the global registrya curated list of known, working servers. Use the search bar to find "filesystem" and click on it to see the details.

### Adding to Your Project

On the MCP detail page, you'll see an **Add to Project** button. Click it. This adds the MCP to your current project's configuration, stored in \`.claude/mcps.json\`.

### Configuration

After adding, you'll see the configuration panel. The filesystem MCP needs to know which directories Claude should be able to access. The default config looks like this:

\`\`\`json
{
  "command": "npx",
  "args": [
    "-y",
    "@anthropic/mcp-server-filesystem",
    "/path/to/allowed/directory"
  ]
}
\`\`\`

Change \`/path/to/allowed/directory\` to an actual path on your systemmaybe \`/var/logs\` or \`/Users/yourname/data\`. You can specify multiple paths by adding more entries to the args array.

### Applying the Configuration

After configuring, click **Re-apply Config** in the header. This updates the generated config files that Claude reads. If Claude Code is already running, restart it so it picks up the new MCP.

### Testing It Works

In Claude Code, try asking something that uses your new MCP. If you configured the filesystem MCP for \`/var/logs\`, ask "List files in /var/logs" or "Show me the most recent log entries." Claude should respond with actual content from those files.

If it doesn't work, check that the path exists and is readable, that you clicked Re-apply, and that Claude Code was restarted after the change.

### What Else to Try

Other popular MCPs worth exploring: the **memory** MCP for persistent storage, the **GitHub** MCP if you work with GitHub repos, and the **postgres** MCP if you have databases to query. Each one unlocks new capabilities.
    `},"mcp-config":{title:"Configuring MCPs",content:`
Each MCP has its own configuration needs. Some just need a command to run; others need API keys, database URLs, or other credentials. Here's how to manage all of that.

### The Configuration Panel

When you click an MCP that's been added to your project, you see its configuration panel. The **Command** field specifies the program to runusually \`npx\` for npm packages, or a direct path to an executable. The **Args** field contains arguments passed to that command, typically including the package name and any configuration values. The **Environment Variables** section holds key-value pairs made available to the MCP processthis is where secrets go.

### Environment Variables and Secrets

Many MCPs need authentication. The GitHub MCP needs a personal access token. Database MCPs need connection strings. API integrations need API keys.

Add these in the Environment Variables section:

\`\`\`
GITHUB_TOKEN=ghp_xxxxxxxxxxxx
DATABASE_URL=postgres://user:pass@localhost/mydb
\`\`\`

These values are stored locally in your \`.claude/.env\` file. They're never committed to git (add that file to \`.gitignore\` if it isn't already). The MCP sees them as environment variables when it starts.

### Global vs Project MCPs

You can configure MCPs at two levels. **Global MCPs** apply to all your projectsconfigure these in Preferences  MCP Servers. Good candidates include the memory MCP for persistent storage across everything, or tools you use universally regardless of project.

**Project MCPs** apply to one project onlyconfigure these in the MCP Registry when a project is selected. Good candidates include database connections specific to that project, or API integrations you only need in certain contexts.

When Claude starts in a project directory, it loads global MCPs first, then adds any project-specific ones.

### Removing and Disabling

To remove an MCP from a project, find it in your project's MCP list and click the delete icon. To temporarily disable without removing, look for the toggle switchdisabled MCPs stay in your config but don't load.

### Troubleshooting

When an MCP isn't working, start by checking whether environment variables are set correctlymissing tokens or credentials are the most common problem. If that looks fine, try running the MCP command manually in your terminal to see if the package is installed and working. Make sure you clicked Re-apply and restarted Claude, since config changes don't take effect until both happen. Finally, check Claude's output for error messagesthey usually point directly at the problem.

The MCP Registry includes troubleshooting notes for each MCP. Check there if you're stuck on a specific one.
    `}},PW={"understanding-permissions":{title:"How Permissions Work",content:`
Permissions control how much autonomy Claude has. Without them, Claude either asks permission for everything (slow and tedious) or runs in full trust mode (fast but risky). Permissions let you find the middle groundautomatic approval for safe operations, manual review for sensitive ones.

### The Three Levels

**Allow** means Claude proceeds without asking. Use this for operations that are safe and frequent. Reading source code files, running test suites, checking git statusthings you'd approve 100% of the time anyway. Allowing them saves you from constant "May I?" dialogs.

**Ask** means Claude pauses and requests permission. Use this for operations you want to review before they happen. Installing npm packages, editing configuration files, running database migrationsthings that could cause problems if done wrong. You see what Claude wants to do and decide whether to approve.

**Deny** means Claude cannot perform that operation at all. Use this for things that should never happen automatically. Deleting production files, pushing to main without review, exposing secretsoperations where the risk isn't worth the convenience.

### Finding the Balance

The goal is smooth flow for routine work while keeping guardrails on risky operations. Start by thinking about your typical development session. What does Claude do repeatedly that you always approve? Those operations should be allowed. What operations would you want to review before they happen? Those should be ask. What should never happen? Those should be denied.

Most developers land somewhere like this: allow reading files and running tests, ask before editing files or running arbitrary shell commands, deny operations that touch production or delete things.

### Why This Matters

Good permissions make Claude feel like a trusted collaborator rather than an overeager intern who needs constant supervision. You can give Claude a task and let it work without interrupting you every few seconds. But you still have oversight where it counts.

Bad permissionseither too restrictive or too loosecreate friction. Too restrictive and you're just clicking "approve" constantly. Too loose and you're anxious about what Claude might do while you're not looking.
    `},"setting-permissions":{title:"Setting Up Permissions",content:`
Let's configure permissions for your workflow.

### Getting to the Permissions Panel

Click **Claude Code** in the sidebar. Scroll to the **Permissions** section. You'll see three columns: Allow, Ask, and Deny. Each shows the rules currently configured for that level.

### Adding Rules

Click **Add Rules** on any column. A dialog appears with two options: choose from presets or write a custom rule.

Presets cover common casesreading all files, running npm commands, editing source files. These are tested patterns that work well for most developers. Start with presets unless you have specific needs.

Custom rules let you be more precise. Want to allow editing only TypeScript files? Allow bash commands only in certain directories? Custom rules give you that control.

### A Good Starting Point

If you're not sure where to begin, here's a sensible configuration. In the **Allow** column, add \`Read(**)\` so Claude can read any fileit needs to understand your code to help with it. Add \`Bash(npm:test)\` to let it run tests freely, and \`Bash(git:status)\` for checking git state. These are all read-only or safe operations.

In the **Ask** column, add \`Edit(**)\` and \`Write(**)\` so you review any file modifications before they happen. Add \`Bash(npm:install)\` to approve new dependencies before they're installed.

In the **Deny** column, add \`Edit(.env*)\` to protect your secrets from accidental exposure, and \`Bash(rm:*)\` to prevent delete commands entirely.

Adjust based on your comfort level. Some developers allow edits to speed things up. Others ask about everything and only allow pure reads.

### Understanding the Patterns

Permissions use glob patterns to match operations. The pattern \`**\` matches everything at any depth. The pattern \`*.js\` matches JavaScript files in the current directory. The pattern \`src/**\` matches anything under the src folder.

For bash commands, the colon separates the command from its arguments. The pattern \`npm:*\` matches any npm command. The pattern \`git:push\` matches exactly that command. A bare \`*\` matches any command at alluse that one carefully.

Hover over any rule chip in the UI to see what it matches. The interface explains each pattern in plain English.

### Testing Your Setup

After configuring, try working with Claude normally. If you find yourself approving the same thing repeatedly, consider allowing it. If something happens that makes you uncomfortable, add an ask or deny rule. Permissions are meant to be tuned over time as you learn what works for your workflow.
    `},"permission-patterns":{title:"Permission Patterns",content:"\nPermissions use pattern matching to determine what operations they cover. Understanding patterns lets you write precise rules.\n\n### File Patterns\n\nFile patterns control Read, Edit, and Write operations. The pattern `**` matches everything at any depth, so `Read(**)` means Claude can read any file anywhere in your project. The pattern `*.js` matches JavaScript files but only in the current directoryif you want all JavaScript files at any depth, use `**/*.js` instead. The pattern `src/**` matches everything under the src folder. For an exact file match, just use the filename: `.env` matches exactly that file and nothing else. You can also use brace expansion: `*.{ts,tsx}` matches both TypeScript and TSX files.\n\n### Bash Patterns\n\nBash patterns control what shell commands Claude can run. The format is `command:arguments` where the colon separates the base command from its arguments.\n\nThe pattern `npm:*` matches any npm command with any argumentsthat includes npm install, npm test, npm run build, and everything else npm can do. Similarly, `git:*` matches any git command. If you want to be more specific, `npm:test` matches exactly \"npm test\" and nothing else. A bare `*` matches any command at all, which is powerful but dangerous in the Allow column.\n\n### MCP Patterns\n\nMCP patterns control which tools from which MCP servers Claude can use. The format uses double underscores: `mcp__servername__toolname`.\n\nThe pattern `mcp__filesystem__*` matches any tool from the filesystem MCP. The pattern `mcp__github__*` matches any GitHub MCP tool. If you want to allow all MCP tools across all servers, `mcp__*__*` does thatthough it's quite broad.\n\n### How Patterns Combine\n\nYou can add multiple rules at each permission level. They combine logically: if any Allow rule matches an operation, it's allowed (unless a Deny rule also matches, since Deny always takes precedence).\n\nA typical setup might allow reading anything, allow editing source files specifically, deny editing env files absolutely, and ask about all other edits. The deny rule catches the env files even though Edit would otherwise be allowed for source.\n\n### Precision vs Simplicity\n\nMore precise patterns give finer control but require more maintenance. Simpler patterns are easier to understand but less flexible.\n\nStart simple. Allowing all reads is probably finereading files is rarely dangerous. Asking about all edits is a safe default. Add more specific rules when you notice patterns in what you're approving or denying repeatedly. The permission system is designed to evolve with your workflow.\n    "}},AW={"what-is-memory":{title:"What is Memory?",content:`
Memory lets Claude retain information across conversations. Without it, every session starts freshClaude doesn't know you prefer tabs over spaces, or that your team has specific naming conventions, or that last week you decided to use PostgreSQL instead of MySQL. With memory, you teach Claude once and it remembers.

### Two Kinds of Memory

**Global memory** applies everywhere you use Claude. Your general preferences, facts about your development environment, corrections to mistakes Claude keeps makingthese belong in global memory. It lives in \`~/.claude/memory/\` and Claude reads it no matter which project you're in.

**Project memory** applies to one project. The tech stack, architectural decisions, code patterns unique to this codebasethese belong in project memory. It lives in \`.claude/memory/\` inside your project folder.

### What Goes in Memory

Think about what you'd tell a new team member on their first day. That's memory material.

Preferences describe how you like things done: "I prefer functional components with hooks, never class components." Corrections fix recurring mistakes: "When I say 'deploy', I mean to staging unless I specifically say production." Facts provide context: "We use PostgreSQL 15, not MySQL." Decisions explain choices: "We chose Redux over Context because of the debugging tools." Patterns document code conventions: "API responses always use the \`{ success, data, error }\` format."

### How Memory Works Technically

Memory is just markdown files. Each file contains entries organized by typepreferences, corrections, facts, patterns, decisions. Claude reads these files when a session starts, incorporating them into its context.

Here's what an entry looks like:

\`\`\`markdown
## Preference: Testing
Always run tests before committing. Use Jest for unit tests, Playwright for e2e.
Learned: 2024-01-15
\`\`\`

The format is flexible. What matters is that the information is clear enough for Claude to understand and apply.

### Memory vs Rules

Memory and rules overlap in purpose but differ in intent. Rules are prescriptive"always do this, never do that." Memory is informational"here's context that might help." Use rules for non-negotiable conventions. Use memory for preferences, facts, and accumulated knowledge.
    `},"using-memory":{title:"Using Memory",content:`
Let's add some memory entries to make Claude smarter about how you work.

### Accessing the Memory View

Click **Memory** in the sidebar. You'll see two tabs: **Global** and **Project**. Global memory affects all your projects; project memory affects only the current project. Switch between them depending on where the information belongs.

### Adding an Entry

Click **Add Entry** and choose the type that fits what you want to record.

A **Preference** captures how you like things donesomething like "Use single quotes, not double quotes" or "Always add TypeScript types to function parameters."

A **Correction** fixes something Claude gets wrong repeatedly. If Claude keeps using console.log when you have a custom logger, add a correction: "Don't use console.log for debugging; use the logger at src/utils/logger.ts."

A **Fact** records objective information Claude should know: "This is a React 18 app" or "The database is PostgreSQL 15."

A **Pattern** documents code conventions specific to this project: "API errors return an object with success set to false and an error object containing code and message."

A **Decision** explains why you chose one approach over another: "We use Server Components by default. Client Components only for interactivity."

### Writing Good Entries

Be specific. "Follow good practices" doesn't help Claudeit already tries to do that. "Use Tailwind classes, never inline styles" is actionable.

Include context when it matters. If a pattern has exceptions, mention them. If a decision had alternatives, note why you rejected them.

Keep entries focused. One preference per entry is easier to maintain than a giant document covering everything.

### Maintaining Memory

Memory should evolve with your project. When conventions change, update the entries. When you discover Claude making a repeated mistake, add a correction. When entries become outdated, delete themstale memory confuses Claude more than no memory at all.

Check your memory files occasionally. Delete duplicates. Consolidate related entries. Keep things organized so you can actually find what's there.

### Where Files Live

Global memory lives at \`~/.claude/memory/\` and project memory at \`your-project/.claude/memory/\`. You can edit these files directly if you preferthey're just markdown. Coder Config's Memory view is a convenience, not a requirement.
    `}},TW={"what-are-plugins":{title:"What Are Plugins?",content:`
Plugins are pre-packaged configurations you can install with a click. Instead of writing rules from scratch, researching best practices, and figuring out which MCPs work well together, you install a plugin that someone else has already assembled.

### What's Inside a Plugin

A plugin can include any combination of configuration elements. It might have **rules**markdown files with guidelines for Claude, like a React plugin that includes rules about hooks, component structure, and testing patterns. It might have **skills**reusable prompts invoked via slash commands, like a testing plugin with skills for generating unit tests, integration tests, and test data. It might configure **MCPs**server connections, like a database plugin with pre-configured connections for PostgreSQL, MySQL, and SQLite.

### Why Use Plugins

Writing good Claude configuration takes time. You need to think through conventions, test what works, refine the wording. Plugin authors have done this work already. They've figured out which rules actually help, what patterns Claude follows well, and how to phrase things clearly.

Plugins also let you learn from others. When you install a React TypeScript plugin, you're getting someone's refined understanding of how Claude works best with that stack. Even if you customize it later, you start from a much better baseline.

### Where Plugins Come From

Plugins live in marketplacesgit repositories that contain plugin definitions. Coder Config ships with a default marketplace that has popular, vetted plugins. You can add additional marketplaces if you find collections you like, or create your own for private/team use.

### Plugins vs Writing Your Own

Start with plugins for well-established stacks. If you're using React, Next.js, FastAPI, or other popular frameworks, someone has probably created good plugins. Install those first, then customize with your own rules layered on top.

Write your own configuration for project-specific conventions that no plugin would coveryour team's particular patterns, your company's coding standards, integrations with internal tools.
    `},"installing-plugin":{title:"Installing a Plugin",content:`
Let's install a plugin to see how it works.

### Browsing Available Plugins

Click **Plugins** in the sidebar. You'll see cards for available plugins, organized by category. Browse around or use the search bar if you know what you're looking for.

Click on a plugin card to see its details: what rules it includes, any MCPs it configures, and a description of what it's for.

### Installing

Found one you want? Click **Install**. A dialog asks where to install it.

Choosing **project scope** puts the plugin's files into your current project's \`.claude/\` folder. Only this project uses itgood for project-specific plugins.

Choosing **user scope** installs to your global \`~/.claude/\` folder. All your projects can use itgood for plugins you want everywhere.

### What Happens After Installing

The plugin's files are copied to your chosen location. Rules become active immediatelyClaude reads them on the next session. Skills appear in your available slash commands list. MCPs might need additional setup; check the plugin's documentation for any environment variables or configuration needed.

### Managing Installed Plugins

Back on the Plugins view, you'll see a section showing what you've installed. You can toggle plugins on and off without uninstalling themuseful for temporarily disabling something. You can uninstall completely if you no longer need a plugin, which deletes the files it added. And when plugin authors release new versions, you can update to get the latest.

### Per-Directory Control

Here's a powerful feature: you can enable or disable plugins at different levels of your project hierarchy. Maybe you want a plugin globally but turned off for one specific project. Or enabled only for a particular subfolder. The Plugins view lets you set this up.

### Finding More Plugins

The default marketplace is just a starting point. You can add additional marketplaces in Settings  Plugin Marketplaces. Community marketplaces, company-internal collections, or your own curated setadd the git repo URL and refresh to see new plugins.

You can also create your own plugins. The format is straightforward: a git repo with a manifest file and your configuration files. The Plugins view links to documentation if you want to try this.
    `}},RW={"what-are-workstreams":{title:"What Are Workstreams?",content:`
Workstreams solve a problem that anyone working on multi-repo projects knows well: your code is split across several repositories, but mentally it's all one thing.

### The Multi-Repo Reality

Modern software often spans multiple repositories. You might have a React frontend in one repo, a Node.js API in another, shared TypeScript types in a third, and infrastructure configs in a fourth. These are all part of the same product, but they live in separate folders with separate Claude configurations.

Every time you switch repos, Claude loses context. It doesn't know that the API you're calling from the frontend lives in that other repo you were just working in. It doesn't remember the database schema you discussed yesterday while working on the backend.

### Workstreams Connect the Dots

A workstream groups related repositories together. You create a workstream called "Acme App" and add your frontend, backend, and shared repos to it. Now Claude understands these are all part of the same system.

When you're working in any repo that belongs to a workstream, Claude automatically knows about the workstream context. Rules you write at the workstream level apply to all member repos. Context about "Acme App" as a wholeits architecture, its conventions, how the pieces fit togetheris available everywhere.

### What This Means in Practice

Say you're in the frontend repo and ask Claude to call a new API endpoint. With workstreams, Claude knows the API repo's structure and conventions. It can suggest code that matches how endpoints are actually built there, not just guess based on what it sees in the frontend.

Or you're debugging an issue that spans both repos. Claude can reason about the full request flowfrom frontend component to API handler to databasebecause it has context about both sides.

### When You Need Workstreams

If you work on a single monorepo that contains everything, you probably don't need workstreamsyour project already has unified context.

If your work is split across multiple repos that represent one logical product or system, workstreams help. The more repos involved, the more valuable the unified context becomes.
    `},"creating-workstream":{title:"Creating a Workstream",content:`
Let's set up a workstream to connect your related repositories.

### Getting Started

Click **Workstreams** in the sidebar. If you haven't created any yet, you'll see an empty state with a button to create your first one. Click **New Workstream**.

### Naming Your Workstream

Pick a name that describes the product or system, not the technology. "Acme App" or "Customer Portal" rather than "React Frontend" or "Node Backend." The name should make sense when you see it in a list of workstreams.

Add an optional description if you wantsomething like "Full-stack app for acme customers. React frontend, Express API, PostgreSQL database."

### Adding Repositories

Now add the repos that belong together. Click **Add** and select from your registered projects. Only add repos that are genuinely part of this product. Don't mix unrelated projects just because you work on them at the same time.

The order doesn't matter much, but putting the "main" repo first can make things feel more organized.

### Writing Workstream Rules

This is where workstreams get powerful. Click into the rules section and write context that applies across all member repos:

\`\`\`markdown
# Acme App Context

This is a full-stack TypeScript application.

Frontend: React 18 with Vite, deployed to Vercel
Backend: Express.js API, deployed to Railway
Database: PostgreSQL 15, hosted on Neon

All repos use pnpm. Types are shared via the @acme/types package.
API calls go through /api prefix. Auth uses JWT tokens stored in httpOnly cookies.
\`\`\`

These rules load automatically whenever you're working in any member repo.

### Activating a Workstream

Workstreams activate based on which directory you're in. When you open Claude Code inside a workstream member repo, the workstream context applies automatically.

You can also manually activate a workstream with \`coder-config workstream use <name>\`. This sets the context for your current terminal session. The Workstreams view shows which workstream is active and lets you switch.

### One Product Per Workstream

Keep workstreams focused. Each workstream represents one product or system. If you work on multiple products, create separate workstreams. Mixing unrelated repos in one workstream dilutes the context and confuses Claude about what goes with what.
    `}},MW={"what-are-loops":{title:"What Are Ralph Loops?",content:`
> **Experimental Feature:** Ralph Loops must be enabled in **Preferences  Experimental Features** before use.

Ralph Loops let Claude work autonomously on larger tasks. Instead of the usual back-and-forth where you give Claude an instruction, it does some work, and you say "continue" over and over, loops let Claude keep going until the task is done.

### The Problem with Long Tasks

Normally, working with Claude on substantial tasks feels like pushing a boulder uphill. You ask for a feature, Claude makes progress, hits a natural stopping point, and waits. You say "keep going." It continues, stops again. "Continue." More progress. "Don't stop." This can go on for a while.

The overhead isn't just the typing. Each round trip breaks your flow. You're either watching Claude work, or you come back to find it waiting for permission to continue.

### What Loops Change

With a Ralph Loop, you describe the task once. Claude asks clarifying questions to make sure it understands. Then it drafts a plan. You review and approve the plan. Claude executes, iteration after iteration, until the task is complete. You can walk away and come back to finished work.

### The Three Phases

The loop progresses through three phases. In the **Clarify** phase, Claude asks questions about requirements, scope, and preferences. This happens at the startbetter to surface ambiguities now than discover them mid-implementation.

In the **Plan** phase, Claude creates a detailed implementation plan. You see exactly what it intends to do before any code changes. Approve to proceed, or ask Claude to revise the plan first.

In the **Execute** phase, Claude works through the plan step by step. Each iteration makes progress. The loop continues automatically until the task is done or a safety limit is reached.

### Built-in Safety

Autonomous execution raises valid concerns. What if Claude goes off track? What if it runs up a huge bill? What if it breaks something?

Loops have guardrails. Iteration limits cap how many rounds Claude can runthe default is 50. Cost budgets cap spendingthe default is $10. You can pause anytime and resume later. The plan approval step ensures you know what's coming before execution begins.

These aren't just safeguardsthey're part of the workflow. You stay in control of scope and cost while still getting the benefits of autonomous execution.
    `},"creating-first-loop":{title:"Creating Your First Loop",content:`
Let's create a loop to see how autonomous development works.

### Step 0: Enable the Feature

Loops are experimental. Go to **Preferences  Experimental Features** and enable **Ralph Loops**. Once enabled, you'll see "Ralph Loops" appear in the sidebar under Developer.

### Step 1: Open Ralph Loops

Click **Ralph Loops** in the sidebar. You'll see a list of loops (empty if this is your first) and a button to create a new one.

### Step 2: Describe Your Task

Click **New Loop**. A dialog asks for a task description. This is your chance to explain what you want Claude to accomplish.

Be specific. A good task description might be "Add a dark mode toggle to the settings page, storing the preference in localStorage and respecting the system preference by default." Or "Create unit tests for the UserService class, covering all public methods, using Jest." Or "Refactor the payment module to use async/await instead of callbacks, updating all calling code."

Vague descriptions lead to vague results. "Fix bugs" doesn't tell Claude which bugs. "Make it better" doesn't explain better how. The more specific your description, the better Claude can plan and execute.

### Step 3: Create and Start

Click **Create Loop**. The loop appears in your list with status "pending." Click the play button to start it, or note the command shown in the UI to start it from your terminal.

### Step 4: Run Through the Phases

Once started, the loop enters the Clarify phase. Claude might ask questions like "Should dark mode affect the entire app or just the settings page?" Answer these to help Claude understand your requirements fully.

After clarification, Claude moves to Plan. You'll see a detailed breakdown of what it intends to do. Review this carefully. If something looks wrong, ask for revisions. If it looks good, approve it.

With the plan approved, Claude enters Execute. Watch the progress indicators showing iterations completed and budget used. Claude works through the plan, making real changes to your codebase.

### Monitoring Progress

The UI shows real-time status. You can see which iteration Claude is on, what it's currently doing, and how much of the budget it's consumed. If something goes wrong, you can pause the loop immediately.

When the task completes, Claude reports what it accomplished. Review the changes, run your tests, and verify everything works as expected.

### When to Use Loops

Loops work best for well-defined tasks that take significant effort but don't require constant human judgment. Feature implementations, test coverage expansion, refactoring, migration workthings where the goal is clear but the execution is tedious.

For exploratory work where you're not sure what you want yet, the normal interactive mode might serve you better. Loops shine when you know the destination; they handle the journey.
    `}},DW={"other-tools":{title:"Beyond Claude Code",content:`
Coder Config started as a configuration manager for Claude Code, but it's grown to support other AI coding tools too. If you use multiple assistantsmaybe Claude for complex reasoning and Gemini for quick tasksyou can manage them all from one place.

### Supported Tools

**Claude Code** has full support. Everything in this tutorial applies, and Claude Code is the primary tool Coder Config is built around.

**Gemini CLI** from Google has good support. You can configure MCP servers, sync rules, and manage per-project settings. The configuration lives in \`.gemini/\` folders.

**Codex CLI** from OpenAI has similar support. MCP configuration, security policies, sandbox modes, and project settings. Configuration goes in \`.codex/\` folders.

**Antigravity** has basic support. MCP configuration and rule syncing work. The tool is less mature than the others, so support is correspondingly lighter.

### Why You'd Use Multiple Tools

Different AI assistants have different strengths. Claude excels at complex reasoning and careful analysis. Gemini is fast and well-integrated with Google services. Codex has particular strengths with certain languages and frameworks.

Some developers pick one tool and stick with it. Others switch based on the taskClaude for architecture decisions, Gemini for quick fixes, Codex for Python work. Coder Config supports either approach.

### The Unified Configuration Idea

The value proposition is simple: configure once, use everywhere. Your rules about code style, your MCP servers, your preferencesdefine them in Coder Config and they apply across all your tools.

In practice, there are limits. Each tool has its own configuration format and quirks. Not everything maps perfectly. But the common elementsrules, basic MCP setup, project organizationwork across tools without duplicating effort.

### Enabling Other Tools

By default, Coder Config focuses on Claude Code. To add other tools, go to **Preferences** in the sidebar. Find the **Enabled Tools** section and check the tools you want to manage. New menu items appear in the sidebar for each enabled tool.
    `},"syncing-tools":{title:"Syncing Between Tools",content:`
When you use multiple AI coding tools, keeping their configurations in sync becomes important. You don't want different rules telling Claude one thing and Gemini another.

### What Sync Does

Rule syncing copies your rule files between tool-specific folders. Claude Code rules live in \`.claude/rules/\`, Gemini CLI rules in \`.gemini/rules/\`, and Antigravity rules in \`.agent/rules/\`. When you write rules in Coder Config and sync, those rules appear in all enabled tools' configuration folders. Each tool reads from its own location, but the content is the same.

### How to Sync

Go to **Project Explorer** and look for the **Sync Rules** button. Click it, choose which tools to sync with, and the files are copied over.

You can also set up automatic syncing in Preferences. When enabled, changes to rules automatically propagate to other tools' folders.

### What Syncs and What Doesn't

Rulesmarkdown filessync well. They're just text with instructions, and that works the same everywhere.

MCP configurations don't sync automatically. Each tool has its own MCP formatslightly different JSON structures, different paths, different conventions. You configure MCPs separately for each tool.

Settings also stay tool-specific. Permission rules for Claude don't map to Gemini's security model. Each tool has unique settings that don't translate.

### Source of Truth

With syncing, you need a clear source of truth. The recommended approach: treat Coder Config as the primary location. Edit rules in Coder Config, then sync to other tools. Don't edit directly in \`.gemini/rules/\` or other tool foldersthose edits might get overwritten on the next sync.

If you need tool-specific rules that shouldn't sync, put them in a separate folder that the sync process ignores.

### Per-Tool Configuration

Each enabled tool has its own settings page in the sidebar. Claude Code has permissions and model preferences. Gemini CLI has display and sandbox settings. Codex CLI has security policies.

Configure each tool according to its capabilities and your needs. The unified rules give you consistency in coding conventions; the per-tool settings let you optimize each assistant's behavior.
    `}},IW={"next-steps":{title:"Next Steps",content:`
You've finished the Coder Config tutorial. At this point you know how to add projects, write rules, configure MCP servers, set up permissions, use the memory system, install plugins, work with workstreams, and sync across multiple tools.

That covers the core functionality. Here's how to go deeper.

### Explore on Your Own

The best way to learn is to use Coder Config on real projects. Add your main development project, write some rules, install a plugin or two. Pay attention to where Claude surprises youeither by not knowing something it should, or by doing something you'd prefer it didn't. Those moments are opportunities to refine your configuration.

### The Documentation

When you need details on specific features, check **Docs & Help** in the sidebar. It has comprehensive reference material for every part of Coder Configcommand syntax, configuration file formats, MCP protocol details.

### Creating Your Own

Once you understand how plugins work, consider creating your own. Your team's conventions, your company's patterns, integrations with your internal toolsthese make great plugins that you can share with colleagues.

Same goes for MCP servers. If you have internal systems that Claude should be able to access, you can build custom MCP servers. The protocol is documented, and templates exist to help you get started.

### Community and Feedback

Coder Config is actively developed. If you find bugs, want features, or have suggestions, the GitHub repository is the place to go. Issues and discussions welcome.

### Command Line Reference

For those who prefer the terminal, Coder Config has a full CLI:

\`\`\`bash
coder-config ui              # Start the web interface
coder-config ui stop         # Stop the daemon
coder-config apply           # Apply config to current project
coder-config mcp add <name>  # Add an MCP server
coder-config workstream use  # Activate a workstream
coder-config --help          # See all commands
\`\`\`

Everything you can do in the UI, you can do from the command line. Some power users prefer it.

### Thank You

Thanks for using Coder Config. The goal is to make AI coding assistants work the way you want them to, without the friction of scattered configuration files and forgotten context. Hopefully this tool helps.

Happy coding.
    `}},LW={...kW,...jW,...NW,...EW,...PW,...AW,...TW,...RW,...MW,...DW,...IW},au={welcome:{bg:"bg-violet-500",light:"bg-violet-100 dark:bg-violet-950",text:"text-violet-600 dark:text-violet-400"},"first-project":{bg:"bg-blue-500",light:"bg-blue-100 dark:bg-blue-950",text:"text-blue-600 dark:text-blue-400"},"rules-guide":{bg:"bg-emerald-500",light:"bg-emerald-100 dark:bg-emerald-950",text:"text-emerald-600 dark:text-emerald-400"},"mcp-guide":{bg:"bg-orange-500",light:"bg-orange-100 dark:bg-orange-950",text:"text-orange-600 dark:text-orange-400"},"permissions-guide":{bg:"bg-green-500",light:"bg-green-100 dark:bg-green-950",text:"text-green-600 dark:text-green-400"},"memory-guide":{bg:"bg-pink-500",light:"bg-pink-100 dark:bg-pink-950",text:"text-pink-600 dark:text-pink-400"},"plugins-guide":{bg:"bg-purple-500",light:"bg-purple-100 dark:bg-purple-950",text:"text-purple-600 dark:text-purple-400"},"workstreams-guide":{bg:"bg-cyan-500",light:"bg-cyan-100 dark:bg-cyan-950",text:"text-cyan-600 dark:text-cyan-400"},"loops-guide":{bg:"bg-teal-500",light:"bg-teal-100 dark:bg-teal-950",text:"text-teal-600 dark:text-teal-400"},"multi-tool-guide":{bg:"bg-amber-500",light:"bg-amber-100 dark:bg-amber-950",text:"text-amber-600 dark:text-amber-400"},"next-steps":{bg:"bg-rose-500",light:"bg-rose-100 dark:bg-rose-950",text:"text-rose-600 dark:text-rose-400"}},b_="claude-config-tutorial-visited";function OW(){const[e,t]=_.useState("intro"),[s,n]=_.useState({welcome:!0}),[o,c]=_.useState(()=>{try{return JSON.parse(localStorage.getItem(b_)||"[]")}catch{return[]}}),u=_.useRef(null);_.useEffect(()=>{if(u.current){const b=u.current.querySelector("[data-radix-scroll-area-viewport]");b&&(b.scrollTop=0)}},[e]),_.useEffect(()=>{if(e&&!o.includes(e)){const b=[...o,e];c(b),localStorage.setItem(b_,JSON.stringify(b))}},[e,o]);const l=b=>{n(k=>({...k,[b]:!k[b]}))},d=LW[e],f=Vl.flatMap(b=>b.subsections.length>0?b.subsections.map(k=>k.id):[b.id]),m=f.indexOf(e),h=m>0?f[m-1]:null,x=m<f.length-1?f[m+1]:null,w=Math.round(o.length/f.length*100),C=(()=>{for(const b of Vl)if(b.id===e||b.subsections.some(k=>k.id===e))return b;return Vl[0]})(),v=au[C.id]||au.welcome,y=b=>{for(const k of Vl){if(k.id===b)return k.title;const E=k.subsections.find(P=>P.id===b);if(E)return E.title}return""},g=b=>({__html:v2(b)});return r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-border bg-gradient-to-r from-indigo-500/10 to-purple-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx(Su,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-foreground",children:"Tutorial"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Step-by-step guide"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[w,"% complete"]})]}),r.jsx(k2,{value:w,className:"h-2"})]})]}),r.jsx(nn,{className:"flex-1",children:r.jsx("div",{className:"p-2",children:Vl.map((b,k)=>{const E=b.icon,P=au[b.id]||au.welcome,T=e===b.id||b.subsections.some(M=>M.id===e),N=b.subsections.length>0?b.subsections.every(M=>o.includes(M.id)):o.includes(b.id);return r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{className:Ne("w-full flex items-center gap-2 px-3 py-2.5 text-sm rounded-lg hover:bg-accent text-left transition-all",T&&"bg-accent"),onClick:()=>{b.subsections.length>0?(l(b.id),s[b.id]||t(b.subsections[0].id)):t(b.id)},children:[r.jsx("span",{className:Ne("w-7 h-7 rounded-lg flex items-center justify-center transition-colors",T?P.bg+" text-white":P.light),children:N?r.jsx(No,{className:"w-4 h-4"}):r.jsx(E,{className:Ne("w-4 h-4",!T&&P.text)})}),r.jsx("span",{className:Ne("flex-1",T&&"font-medium"),children:b.title}),b.subsections.length>0&&r.jsx(us,{className:Ne("w-4 h-4 text-muted-foreground transition-transform",s[b.id]&&"rotate-90")})]}),b.subsections.length>0&&s[b.id]&&r.jsx("div",{className:"ml-4 mt-1 space-y-0.5 border-l-2 border-border pl-3",children:b.subsections.map(M=>{const I=e===M.id,L=o.includes(M.id);return r.jsxs("button",{className:Ne("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground flex items-center gap-2",I&&"bg-accent font-medium",I&&P.text),onClick:()=>t(M.id),children:[L&&!I&&r.jsx(No,{className:"w-3 h-3 text-green-500"}),r.jsx("span",{className:Ne(!L&&!I&&"ml-5"),children:M.title})]},M.id)})})]},b.id)})})})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:Ne("px-8 py-4 border-b border-border",v.light),children:r.jsxs("div",{className:"max-w-3xl mx-auto flex items-center gap-3",children:[r.jsx("div",{className:Ne("w-10 h-10 rounded-xl flex items-center justify-center",v.bg,"text-white"),children:r.jsx(C.icon,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:Ne("text-sm font-medium",v.text),children:C.title}),r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:(d==null?void 0:d.title)||y(e)})]})]})}),r.jsx(nn,{className:"flex-1",ref:u,children:r.jsx("div",{className:"max-w-3xl mx-auto p-8",children:d?r.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:text-foreground prose-p:text-muted-foreground prose-strong:text-foreground prose-code:text-primary prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-muted prose-pre:border prose-pre:border-border",dangerouslySetInnerHTML:g(d.content)}):r.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[r.jsx(Su,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a topic from the sidebar"})]})})}),r.jsx("div",{className:"border-t border-border p-4 bg-muted/30",children:r.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[h?r.jsxs(re,{variant:"ghost",onClick:()=>t(h),className:"flex items-center gap-2",children:[r.jsx(k5,{className:"w-4 h-4"}),r.jsx("span",{className:"max-w-[150px] truncate",children:y(h)})]}):r.jsx("div",{}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[m+1," of ",f.length]}),x?r.jsxs(re,{onClick:()=>t(x),className:Ne("flex items-center gap-2",v.bg,"hover:opacity-90"),children:[r.jsx("span",{className:"max-w-[150px] truncate",children:y(x)}),r.jsx(Ag,{className:"w-4 h-4"})]}):r.jsx(re,{variant:"outline",onClick:()=>t("intro"),className:"flex items-center gap-2",children:"Start Over"})]})})]})]})}function FW(){const[e,t]=_.useState(null),[s,n]=_.useState(!0),[o,c]=_.useState(!1),[u,l]=_.useState(!1),[d,f]=_.useState(!1),[m,h]=_.useState(null);_.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const k=await ue.getSessionStatus();t(k)}catch{Y.error("Failed to load session status")}finally{n(!1)}},w=async()=>{var k,E;c(!0);try{const P=await ue.installSessionAll();P.success?(Y.success("Session persistence installed!"),x()):Y.error(((k=P.hooks)==null?void 0:k.error)||((E=P.command)==null?void 0:E.error)||"Installation failed")}catch{Y.error("Installation failed")}finally{c(!1)}},j=async()=>{c(!0);try{const k=await ue.installSessionHooks();k.success?(Y.success("Session hooks installed!"),x()):Y.error(k.error||"Failed to install hooks")}catch{Y.error("Failed to install hooks")}finally{c(!1)}},C=async()=>{c(!0);try{const k=await ue.installFlushCommand();k.success?(Y.success(k.alreadyInstalled?"/flush command already installed":"/flush command installed!"),x()):Y.error(k.error||"Failed to install command")}catch{Y.error("Failed to install command")}finally{c(!1)}},v=async()=>{l(!0);try{const k=await ue.clearSessionContext();k.success?(Y.success(k.cleared?"Session context cleared":"No context to clear"),x()):Y.error("Failed to clear context")}catch{Y.error("Failed to clear context")}finally{l(!1)}},y=async()=>{try{const k=await ue.getSessionContext();h(k.content),f(!0)}catch{Y.error("Failed to load context")}},g=k=>k===null?"Unknown":k<60?`${k} minutes ago`:k<1440?`${Math.floor(k/60)} hours ago`:`${Math.floor(k/1440)} days ago`;if(s)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Ze,{className:"w-8 h-8 animate-spin text-indigo-600"})});const b=(e==null?void 0:e.hooksInstalled)&&(e==null?void 0:e.flushCommandInstalled)&&(e==null?void 0:e.permissionInstalled);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-950",children:r.jsx(Vs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Session Persistence"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Save and restore Claude Code session context"})]})]}),r.jsx(re,{variant:"ghost",size:"sm",onClick:x,children:r.jsx(Tr,{className:"w-4 h-4"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Session persistence allows you to save your current Claude Code context using the ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-indigo-600 dark:text-indigo-400",children:"/flush"})," command, and automatically restore it when you start a new session."]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Installation Status"})}),r.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.hooksInstalled?r.jsx($t,{className:"w-5 h-5 text-green-500"}):r.jsx($s,{className:"w-5 h-5 text-amber-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Session Hooks"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Auto-restore context on session start, preserve on session end"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:e!=null&&e.hooksInstalled?"default":"secondary",children:e!=null&&e.hooksInstalled?"Installed":"Not Installed"}),!(e!=null&&e.hooksInstalled)&&r.jsx(re,{variant:"outline",size:"sm",onClick:j,disabled:o,children:o?r.jsx(Ze,{className:"w-4 h-4 animate-spin"}):"Install"})]})]}),r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.flushCommandInstalled?r.jsx($t,{className:"w-5 h-5 text-green-500"}):r.jsx($s,{className:"w-5 h-5 text-amber-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"/flush Command"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Adds the /flush command to save session context"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:e!=null&&e.flushCommandInstalled?"default":"secondary",children:e!=null&&e.flushCommandInstalled?"Installed":"Not Installed"}),!(e!=null&&e.flushCommandInstalled)&&r.jsx(re,{variant:"outline",size:"sm",onClick:C,disabled:o,children:o?r.jsx(Ze,{className:"w-4 h-4 animate-spin"}):"Install"})]})]}),r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.permissionInstalled?r.jsx($t,{className:"w-5 h-5 text-green-500"}):r.jsx($s,{className:"w-5 h-5 text-amber-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Write Permission"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Allows Claude to write session context without prompting"})]})]}),r.jsx(et,{variant:e!=null&&e.permissionInstalled?"default":"secondary",children:e!=null&&e.permissionInstalled?"Granted":"Not Granted"})]})]}),!b&&r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-900 border-t border-gray-200 dark:border-slate-800",children:r.jsxs(re,{onClick:w,disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[o?r.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(ui,{className:"w-4 h-4 mr-2"}),"Install All"]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Saved Context"}),(e==null?void 0:e.hasSavedContext)&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(re,{variant:"outline",size:"sm",onClick:y,children:[r.jsx(Br,{className:"w-4 h-4 mr-2"}),"View"]}),r.jsx(re,{variant:"outline",size:"sm",onClick:v,disabled:u,className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",children:u?r.jsx(Ze,{className:"w-4 h-4 animate-spin"}):r.jsx(js,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"p-4",children:e!=null&&e.hasSavedContext?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ec,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Last saved:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:g(e.contextAge)})]}),e.contextPreview&&r.jsx("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:r.jsx("pre",{className:"text-xs text-gray-600 dark:text-slate-400 whitespace-pre-wrap overflow-hidden",children:e.contextPreview})}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-500",children:["Storage: ",e.sessionDir]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Vs,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No saved context"}),r.jsxs("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:["Use ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-1 rounded",children:"/flush"})," in Claude Code to save your session"]})]})})]}),(e==null?void 0:e.lastSession)&&r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Last Session"})}),r.jsxs("div",{className:"p-4 space-y-2",children:[e.lastSession.session_id&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-slate-400 w-20",children:"ID:"}),r.jsx("code",{className:"text-xs bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded",children:e.lastSession.session_id})]}),e.lastSession.cwd&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-slate-400 w-20",children:"Directory:"}),r.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-xs",children:e.lastSession.cwd})]}),e.lastSession.timestamp&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-slate-400 w-20",children:"Ended:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.lastSession.timestamp})]}),e.lastSession.reason&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-slate-400 w-20",children:"Reason:"}),r.jsx(et,{variant:"secondary",children:e.lastSession.reason})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"How to Use"}),r.jsxs("ol",{className:"space-y-2 text-sm text-gray-600 dark:text-slate-400",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:"1."}),"Install session hooks and the /flush command above"]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:"2."}),"Use ",r.jsx("code",{className:"bg-white dark:bg-slate-800 px-1.5 py-0.5 rounded",children:"/flush"})," in Claude Code before ending a session"]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:"3."}),"Your context is automatically restored when you start a new session"]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config session                # Show session status"}),r.jsx("p",{children:"coder-config session install-hooks  # Install session hooks"}),r.jsx("p",{children:"coder-config session clear          # Clear saved context"})]})]}),r.jsx(wt,{open:d,onOpenChange:f,children:r.jsxs(xt,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsxs(vt,{children:[r.jsx(yt,{children:"Saved Context"}),r.jsx(ur,{children:"This context will be restored on your next Claude Code session"})]}),r.jsx("div",{className:"flex-1 overflow-auto py-4",children:r.jsx("pre",{className:"text-sm text-gray-700 dark:text-slate-300 whitespace-pre-wrap bg-gray-50 dark:bg-slate-900 p-4 rounded-lg",children:m||"No content"})}),r.jsx(kt,{children:r.jsx(re,{variant:"ghost",onClick:()=>f(!1),children:"Close"})})]})})]})}const BW=[{id:"projects",label:"All Projects",icon:Rn,section:"Projects"},{id:"explorer",label:"Project Explorer",icon:Wi,section:"Projects"},{id:"workstreams",label:"Workstreams",icon:cS,section:"Projects"},{id:"registry",label:"MCP Registry",icon:Bn,section:"Tools"},{id:"plugins",label:"Plugins",icon:Po,section:"Tools"},{id:"memory",label:"Memory",icon:jo,section:"Tools"},{id:"claude-settings",label:"Claude Code",icon:Vn,section:"Configuration",tool:"claude"},{id:"gemini-settings",label:"Gemini CLI",icon:qt,section:"Configuration",tool:"gemini"},{id:"codex-settings",label:"Codex CLI",icon:qt,section:"Configuration",isNew:!0,tool:"codex"},{id:"antigravity-settings",label:"Antigravity",icon:kc,section:"Configuration",tool:"antigravity"},{id:"create-mcp",label:"Create MCP",icon:os,section:"Developer"},{id:"loops",label:"Ralph Loops",icon:cc,section:"Developer",isNew:!0},{id:"sessions",label:"Sessions",icon:Vs,section:"System"},{id:"preferences",label:"Preferences",icon:dS,section:"System"},{id:"tutorial",label:"Tutorial",icon:Su,section:"Help"},{id:"docs",label:"Docs & Help",icon:ko,section:"Help"}],w_=(e,t)=>{try{const s=localStorage.getItem(`claude-config-${e}`);return s?JSON.parse(s):t}catch{return t}},$W=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function zW(){const{projects:e,activeProject:t,fetch:s,setActive:n}=Px(),{appConfig:o,version:c,fetch:u,checkVersion:l}=Ew(),[d,f]=_.useState(()=>w_("currentView","explorer")),[m,h]=_.useState(!0),[x,w]=_.useState({dir:"",subprojects:[],hierarchy:[]}),[j,C]=_.useState([]),[v,y]=_.useState({mcpServers:{}}),[g,b]=_.useState([]),[k,E]=_.useState([]),[P,T]=_.useState(null),[N,M]=_.useState(null),[I,L]=_.useState(!1),[B,H]=_.useState({title:"",type:""}),[q,z]=_.useState(""),[G,J]=_.useState(""),[K,F]=_.useState({}),[R,O]=_.useState(null),[V,$]=_.useState(!1),[se,de]=_.useState(!1),[pe,X]=_.useState(null),[W,ce]=_.useState(!1),ie=_.useRef(null);_.useEffect(()=>{$W("currentView",d)},[d]);const Q=_.useCallback(async()=>{try{const[Ee,_e,oe,ve,De]=await Promise.all([ue.getProject(),ue.getConfigs(),ue.getRegistry(),ue.getRules(),ue.getCommands()]);w(Ee),C(_e),y(oe),b(ve),E(De),_e.length>0&&!P&&T(_e[_e.length-1])}catch(Ee){Y.error("Failed to load data: "+Ee.message)}finally{h(!1)}},[P]),le=_.useCallback(async(Ee=!1)=>{try{const _e=await s(),oe=_e==null?void 0:_e.find(ve=>ve.isActive);if(Ee&&oe){const ve=await ue.getSubprojects(oe.path);X({dir:oe.path,subprojects:ve.subprojects||[]})}Ee&&!oe&&(w_("currentView",null)||f("projects"))}catch{console.log("Projects API not available")}},[s]),we=async Ee=>{try{const _e=await n(Ee);_e.success?(w({dir:_e.dir,hierarchy:_e.hierarchy,subprojects:_e.subprojects}),X({dir:_e.dir,subprojects:_e.subprojects}),await Q(),Y.success(`Switched to ${_e.project.name}`)):Y.error(_e.error||"Failed to switch project")}catch(_e){Y.error("Failed to switch project: "+_e.message)}},Le=()=>{s()};_.useEffect(()=>{Q(),le(!0),(async()=>{try{const[_e]=await Promise.all([l(),u()]);!ie.current&&(_e!=null&&_e.installedVersion)&&(ie.current=_e.installedVersion);const oe=Ew.getState().appConfig;if(_e!=null&&_e.updateAvailable&&(_e==null?void 0:_e.updateMethod)==="npm")if(oe!=null&&oe.autoUpdate){Y.info(`Auto-updating to v${_e.latestVersion}...`),$(!0);const ve=await ue.performUpdate({updateMethod:_e.updateMethod,targetVersion:_e.latestVersion});if(ve.success){Y.success(`Updated to v${ve.newVersion}! Restarting server...`);try{await ue.restartServer()}catch{}let De=0;const Be=setInterval(async()=>{De++;try{await ue.checkVersion(),clearInterval(Be),Y.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{De>30&&(clearInterval(Be),Y.info("Server restarting. Please refresh the page."),$(!1))}},500)}else Y.error("Auto-update failed: "+ve.error),$(!1),O(_e)}else O(_e)}catch{}})()},[]),_.useEffect(()=>{const _e=setInterval(async()=>{if(ie.current)try{const oe=await ue.checkVersion();oe!=null&&oe.installedVersion&&oe.installedVersion!==ie.current&&(console.log(`[stale-ui] Server updated to v${oe.installedVersion}, refreshing...`),window.location.reload())}catch{}},3e4);return()=>clearInterval(_e)},[]);const Ke=(Ee,_e)=>{if(!Ee||!_e)return!1;const oe=Be=>Be.split(".").map(ze=>parseInt(ze,10)||0),ve=oe(Ee),De=oe(_e);for(let Be=0;Be<Math.max(ve.length,De.length);Be++){if((ve[Be]||0)>(De[Be]||0))return!0;if((ve[Be]||0)<(De[Be]||0))return!1}return!1},fe=async(Ee,_e="npm")=>{$(!0);const oe=await ue.performUpdate({updateMethod:_e,targetVersion:Ee});if(oe.success){Y.success(`Updated to v${oe.newVersion}! Restarting server...`),O(null);try{await ue.restartServer()}catch{}let ve=0;const De=setInterval(async()=>{ve++;try{await ue.checkVersion(),clearInterval(De),Y.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{ve>30&&(clearInterval(De),Y.info("Server restarting. Please refresh the page."),$(!1))}},500);return!0}else return Y.error("Update failed: "+oe.error),$(!1),!1},ye=async()=>{ce(!0);try{const Ee=await ue.checkVersion(),_e=Ee==null?void 0:Ee.installedVersion,oe=Ee==null?void 0:Ee.latestVersion;if(_e&&ie.current&&_e!==ie.current){Y.info(`Refreshing to v${_e}...`),setTimeout(()=>window.location.reload(),500);return}Ke(oe,_e)&&(o!=null&&o.autoUpdate?(ce(!1),Y.info(`Auto-updating to v${oe}...`),await fe(oe,(Ee==null?void 0:Ee.updateMethod)||"npm")):(O({...Ee,updateAvailable:!0}),Y.info(`Update available: v${oe}`)))}catch{Y.error("Failed to check for updates")}finally{ce(!1)}},Je=async()=>{if(R!=null&&R.updateAvailable){$(!0);try{const Ee=await ue.performUpdate({updateMethod:R.updateMethod,sourcePath:R.sourcePath,targetVersion:R.latestVersion});if(Ee.success){Y.success(`Updated to v${Ee.newVersion}! Restarting server...`),O(null),setVersion(Ee.newVersion);try{await ue.restartServer()}catch{}let _e=0;const oe=setInterval(async()=>{_e++;try{await ue.checkVersion(),clearInterval(oe),Y.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{_e>30&&(clearInterval(oe),Y.info("Server restarting. Please refresh the page."),$(!1))}},500)}else Y.error("Update failed: "+Ee.error),$(!1)}catch(Ee){Y.error("Update failed: "+Ee.message),$(!1)}}};_.useEffect(()=>{const Ee=async()=>{try{const{hashes:oe}=await ue.getFileHashes(),ve=K,De=Object.keys(oe).some(ze=>ve[ze]!==oe[ze])||Object.keys(ve).some(ze=>!oe[ze]),Be=ve.__subprojects__!==oe.__subprojects__;if(De&&Object.keys(ve).length>0&&(Y.info("Files changed externally, reloading..."),await Q(),Be&&pe))try{const ze=await ue.getSubprojects(pe.dir);X(St=>({...St,subprojects:ze.subprojects||[]}))}catch{}F(oe)}catch{}},_e=setInterval(Ee,2e3);return Ee(),()=>clearInterval(_e)},[K,Q,pe]);const Ye=new Set;j.forEach(Ee=>{var _e,oe;(((_e=Ee.config)==null?void 0:_e.include)||[]).forEach(ve=>Ye.add(ve)),Object.keys(((oe=Ee.config)==null?void 0:oe.mcpServers)||{}).forEach(ve=>Ye.add(ve))});const ot={mcps:Ye.size,rules:g.length,commands:k.length},ke=async()=>{try{const Ee=await ue.applyConfig(x.dir);if(Ee.tools){const _e=Object.entries(Ee.tools).filter(([,oe])=>oe).map(([oe])=>oe==="claude"?"Claude Code":"Antigravity");_e.length>0?Y.success(`Config applied to: ${_e.join(", ")}`):Y.warning("No tools were updated")}else Y.success("Configuration applied successfully!")}catch(Ee){Y.error("Failed to apply config: "+Ee.message)}},be=async()=>{h(!0),await Q(),Y.success("Data refreshed")};if(m)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(Ze,{className:"w-8 h-8 animate-spin text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})});const Oe=()=>{switch(d){case"explorer":return r.jsx(y8,{project:x,onRefresh:Q});case"registry":return r.jsx(FH,{registry:v,searchQuery:q,setSearchQuery:z,onUpdate:Q});case"plugins":return r.jsx(hW,{});case"memory":return r.jsx(BH,{project:x,onUpdate:Q});case"create-mcp":return r.jsx(pH,{project:x});case"claude-settings":return r.jsx(eH,{});case"gemini-settings":return r.jsx(tH,{});case"codex-settings":return r.jsx(fH,{});case"antigravity-settings":return r.jsx(oH,{});case"sessions":return r.jsx(FW,{});case"preferences":return r.jsx(Zz,{onConfigChange:()=>u()});case"projects":return r.jsx(VH,{onProjectSwitch:Ee=>{w({dir:Ee.dir,hierarchy:Ee.hierarchy,subprojects:Ee.subprojects}),X({dir:Ee.dir,subprojects:Ee.subprojects}),Q(),le()}});case"workstreams":return r.jsx(fW,{onWorkstreamChange:Ee=>{Y.success(`Switched to workstream: ${Ee.name}`)}});case"loops":return r.jsx(mW,{activeProject:t});case"docs":return r.jsx(dW,{});case"tutorial":return r.jsx(OW,{});default:return null}};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"h-16 bg-card border-b border-border sticky top-0 z-50 shadow-sm",children:r.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:r.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 128 128",children:[r.jsx("circle",{cx:"64",cy:"64",r:"52",fill:"none",stroke:"white",strokeWidth:"10",strokeDasharray:"24 12"}),r.jsx("circle",{cx:"64",cy:"64",r:"28",fill:"white"}),r.jsx("circle",{cx:"64",cy:"64",r:"12",fill:"#7c3aed"})]})}),r.jsx("div",{children:r.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Coder ",r.jsx("span",{className:"text-primary",children:"Config"})]})}),R&&r.jsxs("button",{onClick:Je,disabled:V,className:"ml-3 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 hover:bg-green-200 rounded-full flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[V?r.jsx(Ze,{className:"w-3 h-3 animate-spin"}):r.jsx(ui,{className:"w-3 h-3"}),V?"Updating...":`Update to v${R.latestVersion}`]})]}),r.jsx(vN,{orientation:"vertical",className:"h-6"}),r.jsx(b8,{projects:e,activeProject:t,onSwitch:we,onAddClick:()=>de(!0),onManageClick:()=>f("projects")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(S8,{}),r.jsx(re,{variant:"ghost",size:"sm",onClick:be,children:r.jsx(Tr,{className:"w-4 h-4"})}),r.jsxs(re,{onClick:ke,variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground",title:"Config auto-applies on save. Click to manually re-apply.",children:[r.jsx(kc,{className:"w-4 h-4"}),"Re-apply"]})]})]})}),r.jsxs("div",{className:"flex",children:[r.jsxs("aside",{className:"w-64 h-[calc(100vh-64px)] border-r border-border bg-card sticky top-16 flex flex-col",children:[r.jsx(nn,{className:"flex-1 py-4",children:["Projects","Tools","Configuration","Developer","System","Help"].map(Ee=>r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"px-4 mb-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:Ee}),r.jsx("div",{className:"space-y-0.5",children:BW.filter(_e=>_e.section===Ee).filter(_e=>{var oe;return _e.id!=="loops"||((oe=o==null?void 0:o.experimental)==null?void 0:oe.ralphLoops)}).filter(_e=>!_e.tool||((o==null?void 0:o.enabledTools)||["claude"]).includes(_e.tool)).map(_e=>{const oe=_e.icon,ve=d===_e.id;return r.jsxs("button",{onClick:()=>f(_e.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-all duration-200 border-l-2 ${ve?"bg-accent border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(oe,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:_e.label}),_e.badge&&r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${ve?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:ot[_e.badge]}),_e.isNew&&r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"})]},_e.id)})})]},Ee))}),r.jsx("div",{className:"px-4 py-3 border-t border-border",children:r.jsxs("button",{onClick:ye,disabled:W,className:"text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",title:"Check for updates",children:[W?r.jsx(Ze,{className:"w-3 h-3 animate-spin"}):null,c?`v${c}`:""]})})]}),r.jsx("main",{style:["explorer","docs","tutorial"].includes(d)?{}:{zoom:.9},className:Ne("flex-1 overflow-auto",["explorer","docs","tutorial"].includes(d)?"h-[calc(100vh-64px)]":"p-6"),children:r.jsx(j_,{mode:"wait",children:r.jsx(Pa.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:["explorer","docs","tutorial"].includes(d)?"h-full":"",children:Oe()},d)})})]}),r.jsx(mN,{open:se,onOpenChange:de,onAdded:Le}),r.jsx(w8,{onStartTutorial:()=>f("tutorial")})]})}function HW(){const[e,t]=_.useState(!1),[s,n]=_.useState(!1),[o,c]=_.useState(!1),u=_.useCallback(async()=>{n(!0);try{await ue.restartServer(),Y.info("Server restarting... page will reload."),setTimeout(()=>{window.location.reload()},2e3)}catch(d){Y.error("Failed to restart: "+d.message),n(!1)}},[]),l=_.useCallback(()=>{c(!0),t(!1),Y.dismiss("update-available")},[]);return _.useEffect(()=>{let d;const f=async()=>{try{const m=await ue.getVersion();console.log("[Update Check]",m),m.needsRestart&&!o&&t(!0)}catch{}};return f(),d=setInterval(f,3e4),()=>clearInterval(d)},[o]),r.jsx(_8,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[e&&!s&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white px-4 py-2 flex items-center justify-center gap-2 shadow-lg cursor-pointer hover:bg-blue-700 transition-colors",onClick:u,children:[r.jsx(Tr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Update available  click to restart"}),r.jsx("button",{onClick:d=>{d.stopPropagation(),l()},className:"absolute right-3 p-1 hover:bg-blue-500 rounded",children:r.jsx(oi,{className:"w-4 h-4"})})]}),s&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-600 text-white px-4 py-2 flex items-center justify-center gap-2",children:[r.jsx(Tr,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm font-medium",children:"Restarting server..."})]}),r.jsx(zW,{}),r.jsx(IP,{position:"bottom-right",richColors:!0})]})})}lP.createRoot(document.getElementById("root")).render(r.jsx(HW,{}));
