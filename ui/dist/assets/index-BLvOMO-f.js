function w2(e,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const m=Object.getOwnPropertyDescriptor(i,l);m&&Object.defineProperty(e,l,m.get?m:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const m of l)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const m={};return l.integrity&&(m.integrity=l.integrity),l.referrerPolicy&&(m.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?m.credentials="include":l.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(l){if(l.ep)return;l.ep=!0;const m=s(l);fetch(l.href,m)}})();function sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Id={exports:{}},Mo={},Bd={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function S2(){if(cv)return $e;cv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),d=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function v(L,V,Y){this.props=L,this.context=V,this.refs=S,this.updater=Y||b}v.prototype.isReactComponent={},v.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function y(){}y.prototype=v.prototype;function p(L,V,Y){this.props=L,this.context=V,this.refs=S,this.updater=Y||b}var _=p.prototype=new y;_.constructor=p,k(_,v.prototype),_.isPureReactComponent=!0;var E=Array.isArray,R=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function j(L,V,Y){var J,q={},se=null,U=null;if(V!=null)for(J in V.ref!==void 0&&(U=V.ref),V.key!==void 0&&(se=""+V.key),V)R.call(V,J)&&!T.hasOwnProperty(J)&&(q[J]=V[J]);var O=arguments.length-2;if(O===1)q.children=Y;else if(1<O){for(var ne=Array(O),re=0;re<O;re++)ne[re]=arguments[re+2];q.children=ne}if(L&&L.defaultProps)for(J in O=L.defaultProps,O)q[J]===void 0&&(q[J]=O[J]);return{$$typeof:e,type:L,key:se,ref:U,props:q,_owner:N.current}}function M(L,V){return{$$typeof:e,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function F(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function H(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Y){return V[Y]})}var W=/\/+/g;function $(L,V){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):V.toString(36)}function Z(L,V,Y,J,q){var se=typeof L;(se==="undefined"||se==="boolean")&&(L=null);var U=!1;if(L===null)U=!0;else switch(se){case"string":case"number":U=!0;break;case"object":switch(L.$$typeof){case e:case t:U=!0}}if(U)return U=L,q=q(U),L=J===""?"."+$(U,0):J,E(q)?(Y="",L!=null&&(Y=L.replace(W,"$&/")+"/"),Z(q,V,Y,"",function(re){return re})):q!=null&&(F(q)&&(q=M(q,Y+(!q.key||U&&U.key===q.key?"":(""+q.key).replace(W,"$&/")+"/")+L)),V.push(q)),1;if(U=0,J=J===""?".":J+":",E(L))for(var O=0;O<L.length;O++){se=L[O];var ne=J+$(se,O);U+=Z(se,V,Y,ne,q)}else if(ne=x(L),typeof ne=="function")for(L=ne.call(L),O=0;!(se=L.next()).done;)se=se.value,ne=J+$(se,O++),U+=Z(se,V,Y,ne,q);else if(se==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return U}function K(L,V,Y){if(L==null)return L;var J=[],q=0;return Z(L,J,"","",function(se){return V.call(Y,se,q++)}),J}function G(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(Y){(L._status===0||L._status===-1)&&(L._status=1,L._result=Y)},function(Y){(L._status===0||L._status===-1)&&(L._status=2,L._result=Y)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var ee={current:null},z={transition:null},D={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:z,ReactCurrentOwner:N};function B(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:K,forEach:function(L,V,Y){K(L,function(){V.apply(this,arguments)},Y)},count:function(L){var V=0;return K(L,function(){V++}),V},toArray:function(L){return K(L,function(V){return V})||[]},only:function(L){if(!F(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$e.Component=v,$e.Fragment=s,$e.Profiler=l,$e.PureComponent=p,$e.StrictMode=i,$e.Suspense=c,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,$e.act=B,$e.cloneElement=function(L,V,Y){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var J=k({},L.props),q=L.key,se=L.ref,U=L._owner;if(V!=null){if(V.ref!==void 0&&(se=V.ref,U=N.current),V.key!==void 0&&(q=""+V.key),L.type&&L.type.defaultProps)var O=L.type.defaultProps;for(ne in V)R.call(V,ne)&&!T.hasOwnProperty(ne)&&(J[ne]=V[ne]===void 0&&O!==void 0?O[ne]:V[ne])}var ne=arguments.length-2;if(ne===1)J.children=Y;else if(1<ne){O=Array(ne);for(var re=0;re<ne;re++)O[re]=arguments[re+2];J.children=O}return{$$typeof:e,type:L.type,key:q,ref:se,props:J,_owner:U}},$e.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:m,_context:L},L.Consumer=L},$e.createElement=j,$e.createFactory=function(L){var V=j.bind(null,L);return V.type=L,V},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:o,render:L}},$e.isValidElement=F,$e.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:G}},$e.memo=function(L,V){return{$$typeof:h,type:L,compare:V===void 0?null:V}},$e.startTransition=function(L){var V=z.transition;z.transition={};try{L()}finally{z.transition=V}},$e.unstable_act=B,$e.useCallback=function(L,V){return ee.current.useCallback(L,V)},$e.useContext=function(L){return ee.current.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L){return ee.current.useDeferredValue(L)},$e.useEffect=function(L,V){return ee.current.useEffect(L,V)},$e.useId=function(){return ee.current.useId()},$e.useImperativeHandle=function(L,V,Y){return ee.current.useImperativeHandle(L,V,Y)},$e.useInsertionEffect=function(L,V){return ee.current.useInsertionEffect(L,V)},$e.useLayoutEffect=function(L,V){return ee.current.useLayoutEffect(L,V)},$e.useMemo=function(L,V){return ee.current.useMemo(L,V)},$e.useReducer=function(L,V,Y){return ee.current.useReducer(L,V,Y)},$e.useRef=function(L){return ee.current.useRef(L)},$e.useState=function(L){return ee.current.useState(L)},$e.useSyncExternalStore=function(L,V,Y){return ee.current.useSyncExternalStore(L,V,Y)},$e.useTransition=function(){return ee.current.useTransition()},$e.version="18.3.1",$e}var uv;function nf(){return uv||(uv=1,Bd.exports=S2()),Bd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function b2(){if(dv)return Mo;dv=1;var e=nf(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(o,c,h){var g,d={},x=null,b=null;h!==void 0&&(x=""+h),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(b=c.ref);for(g in c)i.call(c,g)&&!m.hasOwnProperty(g)&&(d[g]=c[g]);if(o&&o.defaultProps)for(g in c=o.defaultProps,c)d[g]===void 0&&(d[g]=c[g]);return{$$typeof:t,type:o,key:x,ref:b,props:d,_owner:l.current}}return Mo.Fragment=s,Mo.jsx=f,Mo.jsxs=f,Mo}var hv;function C2(){return hv||(hv=1,Id.exports=b2()),Id.exports}var a=C2(),C=nf();const ve=sf(C),of=w2({__proto__:null,default:ve},[C]);var Tl={},Fd={exports:{}},sr={},Hd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function E2(){return fv||(fv=1,(function(e){function t(z,D){var B=z.length;z.push(D);e:for(;0<B;){var L=B-1>>>1,V=z[L];if(0<l(V,D))z[L]=D,z[B]=V,B=L;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var D=z[0],B=z.pop();if(B!==D){z[0]=B;e:for(var L=0,V=z.length,Y=V>>>1;L<Y;){var J=2*(L+1)-1,q=z[J],se=J+1,U=z[se];if(0>l(q,B))se<V&&0>l(U,q)?(z[L]=U,z[se]=B,L=se):(z[L]=q,z[J]=B,L=J);else if(se<V&&0>l(U,B))z[L]=U,z[se]=B,L=se;else break e}}return D}function l(z,D){var B=z.sortIndex-D.sortIndex;return B!==0?B:z.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var f=Date,o=f.now();e.unstable_now=function(){return f.now()-o}}var c=[],h=[],g=1,d=null,x=3,b=!1,k=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var D=s(h);D!==null;){if(D.callback===null)i(h);else if(D.startTime<=z)i(h),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(h)}}function E(z){if(S=!1,_(z),!k)if(s(c)!==null)k=!0,G(R);else{var D=s(h);D!==null&&ee(E,D.startTime-z)}}function R(z,D){k=!1,S&&(S=!1,y(j),j=-1),b=!0;var B=x;try{for(_(D),d=s(c);d!==null&&(!(d.expirationTime>D)||z&&!H());){var L=d.callback;if(typeof L=="function"){d.callback=null,x=d.priorityLevel;var V=L(d.expirationTime<=D);D=e.unstable_now(),typeof V=="function"?d.callback=V:d===s(c)&&i(c),_(D)}else i(c);d=s(c)}if(d!==null)var Y=!0;else{var J=s(h);J!==null&&ee(E,J.startTime-D),Y=!1}return Y}finally{d=null,x=B,b=!1}}var N=!1,T=null,j=-1,M=5,F=-1;function H(){return!(e.unstable_now()-F<M)}function W(){if(T!==null){var z=e.unstable_now();F=z;var D=!0;try{D=T(!0,z)}finally{D?$():(N=!1,T=null)}}else N=!1}var $;if(typeof p=="function")$=function(){p(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=W,$=function(){K.postMessage(null)}}else $=function(){v(W,0)};function G(z){T=z,N||(N=!0,$())}function ee(z,D){j=v(function(){z(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,G(R))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var B=x;x=D;try{return z()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,D){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=x;x=z;try{return D()}finally{x=B}},e.unstable_scheduleCallback=function(z,D,B){var L=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?L+B:L):B=L,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,z={id:g++,callback:D,priorityLevel:z,startTime:B,expirationTime:V,sortIndex:-1},B>L?(z.sortIndex=B,t(h,z),s(c)===null&&z===s(h)&&(S?(y(j),j=-1):S=!0,ee(E,B-L))):(z.sortIndex=V,t(c,z),k||b||(k=!0,G(R))),z},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(z){var D=x;return function(){var B=x;x=D;try{return z.apply(this,arguments)}finally{x=B}}}})($d)),$d}var pv;function k2(){return pv||(pv=1,Hd.exports=E2()),Hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function j2(){if(mv)return sr;mv=1;var e=nf(),t=k2();function s(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)n+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function m(r,n){f(r,n),f(r+"Capture",n)}function f(r,n){for(l[r]=n,r=0;r<n.length;r++)i.add(n[r])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},d={};function x(r){return c.call(d,r)?!0:c.call(g,r)?!1:h.test(r)?d[r]=!0:(g[r]=!0,!1)}function b(r,n,u,w){if(u!==null&&u.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return w?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,n,u,w){if(n===null||typeof n>"u"||b(r,n,u,w))return!0;if(w)return!1;if(u!==null)switch(u.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function S(r,n,u,w,P,A,I){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=w,this.attributeNamespace=P,this.mustUseProperty=u,this.propertyName=r,this.type=n,this.sanitizeURL=A,this.removeEmptyString=I}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){v[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0];v[n]=new S(n,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){v[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){v[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){v[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){v[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){v[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){v[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){v[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function p(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var n=r.replace(y,p);v[n]=new S(n,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var n=r.replace(y,p);v[n]=new S(n,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(y,p);v[n]=new S(n,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){v[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),v.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){v[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,n,u,w){var P=v.hasOwnProperty(n)?v[n]:null;(P!==null?P.type!==0:w||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,u,P,w)&&(u=null),w||P===null?x(n)&&(u===null?r.removeAttribute(n):r.setAttribute(n,""+u)):P.mustUseProperty?r[P.propertyName]=u===null?P.type===3?!1:"":u:(n=P.attributeName,w=P.attributeNamespace,u===null?r.removeAttribute(n):(P=P.type,u=P===3||P===4&&u===!0?"":""+u,w?r.setAttributeNS(w,n,u):r.setAttribute(n,u))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),H=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),z=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var B=Object.assign,L;function V(r){if(L===void 0)try{throw Error()}catch(u){var n=u.stack.trim().match(/\n( *(at )?)/);L=n&&n[1]||""}return`
`+L+r}var Y=!1;function J(r,n){if(!r||Y)return"";Y=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ae){var w=ae}Reflect.construct(r,[],n)}else{try{n.call()}catch(ae){w=ae}r.call(n.prototype)}else{try{throw Error()}catch(ae){w=ae}r()}}catch(ae){if(ae&&w&&typeof ae.stack=="string"){for(var P=ae.stack.split(`
`),A=w.stack.split(`
`),I=P.length-1,X=A.length-1;1<=I&&0<=X&&P[I]!==A[X];)X--;for(;1<=I&&0<=X;I--,X--)if(P[I]!==A[X]){if(I!==1||X!==1)do if(I--,X--,0>X||P[I]!==A[X]){var Q=`
`+P[I].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=I&&0<=X);break}}}finally{Y=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?V(r):""}function q(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=J(r.type,!1),r;case 11:return r=J(r.type.render,!1),r;case 1:return r=J(r.type,!0),r;default:return""}}function se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case N:return"Portal";case M:return"Profiler";case j:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case H:return(r.displayName||"Context")+".Consumer";case F:return(r._context.displayName||"Context")+".Provider";case W:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return n=r.displayName||null,n!==null?n:se(r.type)||"Memo";case G:n=r._payload,r=r._init;try{return se(r(n))}catch{}}return null}function U(r){var n=r.type;switch(r.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=n.render,r=r.displayName||r.name||"",n.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function O(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ne(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function re(r){var n=ne(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),w=""+r[n];if(!r.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var P=u.get,A=u.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return P.call(this)},set:function(I){w=""+I,A.call(this,I)}}),Object.defineProperty(r,n,{enumerable:u.enumerable}),{getValue:function(){return w},setValue:function(I){w=""+I},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function ce(r){r._valueTracker||(r._valueTracker=re(r))}function le(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var u=n.getValue(),w="";return r&&(w=ne(r)?r.checked?"true":"false":r.value),r=w,r!==u?(n.setValue(r),!0):!1}function Pe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ie(r,n){var u=n.checked;return B({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function ze(r,n){var u=n.defaultValue==null?"":n.defaultValue,w=n.checked!=null?n.checked:n.defaultChecked;u=O(n.value!=null?n.value:u),r._wrapperState={initialChecked:w,initialValue:u,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ye(r,n){n=n.checked,n!=null&&_(r,"checked",n,!1)}function he(r,n){Ye(r,n);var u=O(n.value),w=n.type;if(u!=null)w==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(w==="submit"||w==="reset"){r.removeAttribute("value");return}n.hasOwnProperty("value")?Fe(r,n.type,u):n.hasOwnProperty("defaultValue")&&Fe(r,n.type,O(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(r.defaultChecked=!!n.defaultChecked)}function Me(r,n,u){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var w=n.type;if(!(w!=="submit"&&w!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+r._wrapperState.initialValue,u||n===r.value||(r.value=n),r.defaultValue=n}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Fe(r,n,u){(n!=="number"||Pe(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var qe=Array.isArray;function Et(r,n,u,w){if(r=r.options,n){n={};for(var P=0;P<u.length;P++)n["$"+u[P]]=!0;for(u=0;u<r.length;u++)P=n.hasOwnProperty("$"+r[u].value),r[u].selected!==P&&(r[u].selected=P),P&&w&&(r[u].defaultSelected=!0)}else{for(u=""+O(u),n=null,P=0;P<r.length;P++){if(r[P].value===u){r[P].selected=!0,w&&(r[P].defaultSelected=!0);return}n!==null||r[P].disabled||(n=r[P])}n!==null&&(n.selected=!0)}}function Xe(r,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return B({},n,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function at(r,n){var u=n.value;if(u==null){if(u=n.children,n=n.defaultValue,u!=null){if(n!=null)throw Error(s(92));if(qe(u)){if(1<u.length)throw Error(s(93));u=u[0]}n=u}n==null&&(n=""),u=n}r._wrapperState={initialValue:O(u)}}function Qr(r,n){var u=O(n.value),w=O(n.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),n.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),w!=null&&(r.defaultValue=""+w)}function qt(r){var n=r.textContent;n===r._wrapperState.initialValue&&n!==""&&n!==null&&(r.value=n)}function ar(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ms(r,n){return r==null||r==="http://www.w3.org/1999/xhtml"?ar(n):r==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Bt,Ir=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,u,w,P){MSApp.execUnsafeLocalFunction(function(){return r(n,u,w,P)})}:r})(function(r,n){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=n;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Bt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)r.appendChild(n.firstChild)}});function dt(r,n){if(n){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=n;return}}r.textContent=n}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},We=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(r){We.forEach(function(n){n=n+r.charAt(0).toUpperCase()+r.substring(1),Jt[n]=Jt[r]})});function Yn(r,n,u){return n==null||typeof n=="boolean"||n===""?"":u||typeof n!="number"||n===0||Jt.hasOwnProperty(r)&&Jt[r]?(""+n).trim():n+"px"}function ba(r,n){r=r.style;for(var u in n)if(n.hasOwnProperty(u)){var w=u.indexOf("--")===0,P=Yn(u,n[u],w);u==="float"&&(u="cssFloat"),w?r.setProperty(u,P):r[u]=P}}var Ca=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xn(r,n){if(n){if(Ca[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,r));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Yi(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=null;function Sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xi=null,Ls=null,gs=null;function Ji(r){if(r=yo(r)){if(typeof Xi!="function")throw Error(s(280));var n=r.stateNode;n&&(n=Wa(n),Xi(r.stateNode,r.type,n))}}function Be(r){Ls?gs?gs.push(r):gs=[r]:Ls=r}function ht(){if(Ls){var r=Ls,n=gs;if(gs=Ls=null,Ji(r),n)for(r=0;r<n.length;r++)Ji(n[r])}}function _t(r,n){return r(n)}function Ft(){}var Os=!1;function gt(r,n,u){if(Os)return r(n,u);Os=!0;try{return _t(r,n,u)}finally{Os=!1,(Ls!==null||gs!==null)&&(Ft(),ht())}}function kt(r,n){var u=r.stateNode;if(u===null)return null;var w=Wa(u);if(w===null)return null;u=w[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(r=r.type,w=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!w;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,n,typeof u));return u}var Is=!1;if(o)try{var At={};Object.defineProperty(At,"passive",{get:function(){Is=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{Is=!1}function lr(r,n,u,w,P,A,I,X,Q){var ae=Array.prototype.slice.call(arguments,3);try{n.apply(u,ae)}catch(fe){this.onError(fe)}}var Bs=!1,br=null,Qi=!1,ru=null,P1={onError:function(r){Bs=!0,br=r}};function R1(r,n,u,w,P,A,I,X,Q){Bs=!1,br=null,lr.apply(P1,arguments)}function T1(r,n,u,w,P,A,I,X,Q){if(R1.apply(this,arguments),Bs){if(Bs){var ae=br;Bs=!1,br=null}else throw Error(s(198));Qi||(Qi=!0,ru=ae)}}function xn(r){var n=r,u=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(u=n.return),r=n.return;while(r)}return n.tag===3?u:null}function Ap(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function Mp(r){if(xn(r)!==r)throw Error(s(188))}function N1(r){var n=r.alternate;if(!n){if(n=xn(r),n===null)throw Error(s(188));return n!==r?null:r}for(var u=r,w=n;;){var P=u.return;if(P===null)break;var A=P.alternate;if(A===null){if(w=P.return,w!==null){u=w;continue}break}if(P.child===A.child){for(A=P.child;A;){if(A===u)return Mp(P),r;if(A===w)return Mp(P),n;A=A.sibling}throw Error(s(188))}if(u.return!==w.return)u=P,w=A;else{for(var I=!1,X=P.child;X;){if(X===u){I=!0,u=P,w=A;break}if(X===w){I=!0,w=P,u=A;break}X=X.sibling}if(!I){for(X=A.child;X;){if(X===u){I=!0,u=A,w=P;break}if(X===w){I=!0,w=A,u=P;break}X=X.sibling}if(!I)throw Error(s(189))}}if(u.alternate!==w)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:n}function Dp(r){return r=N1(r),r!==null?Lp(r):null}function Lp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var n=Lp(r);if(n!==null)return n;r=r.sibling}return null}var Op=t.unstable_scheduleCallback,Ip=t.unstable_cancelCallback,A1=t.unstable_shouldYield,M1=t.unstable_requestPaint,ft=t.unstable_now,D1=t.unstable_getCurrentPriorityLevel,su=t.unstable_ImmediatePriority,Bp=t.unstable_UserBlockingPriority,Ea=t.unstable_NormalPriority,L1=t.unstable_LowPriority,Fp=t.unstable_IdlePriority,ka=null,Zr=null;function O1(r){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(ka,r,void 0,(r.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:F1,I1=Math.log,B1=Math.LN2;function F1(r){return r>>>=0,r===0?32:31-(I1(r)/B1|0)|0}var ja=64,Pa=4194304;function Zi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ra(r,n){var u=r.pendingLanes;if(u===0)return 0;var w=0,P=r.suspendedLanes,A=r.pingedLanes,I=u&268435455;if(I!==0){var X=I&~P;X!==0?w=Zi(X):(A&=I,A!==0&&(w=Zi(A)))}else I=u&~P,I!==0?w=Zi(I):A!==0&&(w=Zi(A));if(w===0)return 0;if(n!==0&&n!==w&&(n&P)===0&&(P=w&-w,A=n&-n,P>=A||P===16&&(A&4194240)!==0))return n;if((w&4)!==0&&(w|=u&16),n=r.entangledLanes,n!==0)for(r=r.entanglements,n&=w;0<n;)u=31-Br(n),P=1<<u,w|=r[u],n&=~P;return w}function H1(r,n){switch(r){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $1(r,n){for(var u=r.suspendedLanes,w=r.pingedLanes,P=r.expirationTimes,A=r.pendingLanes;0<A;){var I=31-Br(A),X=1<<I,Q=P[I];Q===-1?((X&u)===0||(X&w)!==0)&&(P[I]=H1(X,n)):Q<=n&&(r.expiredLanes|=X),A&=~X}}function nu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hp(){var r=ja;return ja<<=1,(ja&4194240)===0&&(ja=64),r}function iu(r){for(var n=[],u=0;31>u;u++)n.push(r);return n}function eo(r,n,u){r.pendingLanes|=n,n!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,n=31-Br(n),r[n]=u}function V1(r,n){var u=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n,n=r.entanglements;var w=r.eventTimes;for(r=r.expirationTimes;0<u;){var P=31-Br(u),A=1<<P;n[P]=0,w[P]=-1,r[P]=-1,u&=~A}}function ou(r,n){var u=r.entangledLanes|=n;for(r=r.entanglements;u;){var w=31-Br(u),P=1<<w;P&n|r[w]&n&&(r[w]|=n),u&=~P}}var Je=0;function $p(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Vp,au,zp,Up,Wp,lu=!1,Ta=[],Fs=null,Hs=null,$s=null,to=new Map,ro=new Map,Vs=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(r,n){switch(r){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":to.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function so(r,n,u,w,P,A){return r===null||r.nativeEvent!==A?(r={blockedOn:n,domEventName:u,eventSystemFlags:w,nativeEvent:A,targetContainers:[P]},n!==null&&(n=yo(n),n!==null&&au(n)),r):(r.eventSystemFlags|=w,n=r.targetContainers,P!==null&&n.indexOf(P)===-1&&n.push(P),r)}function U1(r,n,u,w,P){switch(n){case"focusin":return Fs=so(Fs,r,n,u,w,P),!0;case"dragenter":return Hs=so(Hs,r,n,u,w,P),!0;case"mouseover":return $s=so($s,r,n,u,w,P),!0;case"pointerover":var A=P.pointerId;return to.set(A,so(to.get(A)||null,r,n,u,w,P)),!0;case"gotpointercapture":return A=P.pointerId,ro.set(A,so(ro.get(A)||null,r,n,u,w,P)),!0}return!1}function Gp(r){var n=wn(r.target);if(n!==null){var u=xn(n);if(u!==null){if(n=u.tag,n===13){if(n=Ap(u),n!==null){r.blockedOn=n,Wp(r.priority,function(){zp(u)});return}}else if(n===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Na(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var u=uu(r.domEventName,r.eventSystemFlags,n[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var w=new u.constructor(u.type,u);_n=w,u.target.dispatchEvent(w),_n=null}else return n=yo(u),n!==null&&au(n),r.blockedOn=u,!1;n.shift()}return!0}function qp(r,n,u){Na(r)&&u.delete(n)}function W1(){lu=!1,Fs!==null&&Na(Fs)&&(Fs=null),Hs!==null&&Na(Hs)&&(Hs=null),$s!==null&&Na($s)&&($s=null),to.forEach(qp),ro.forEach(qp)}function no(r,n){r.blockedOn===n&&(r.blockedOn=null,lu||(lu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W1)))}function io(r){function n(P){return no(P,r)}if(0<Ta.length){no(Ta[0],r);for(var u=1;u<Ta.length;u++){var w=Ta[u];w.blockedOn===r&&(w.blockedOn=null)}}for(Fs!==null&&no(Fs,r),Hs!==null&&no(Hs,r),$s!==null&&no($s,r),to.forEach(n),ro.forEach(n),u=0;u<Vs.length;u++)w=Vs[u],w.blockedOn===r&&(w.blockedOn=null);for(;0<Vs.length&&(u=Vs[0],u.blockedOn===null);)Gp(u),u.blockedOn===null&&Vs.shift()}var Jn=E.ReactCurrentBatchConfig,Aa=!0;function K1(r,n,u,w){var P=Je,A=Jn.transition;Jn.transition=null;try{Je=1,cu(r,n,u,w)}finally{Je=P,Jn.transition=A}}function G1(r,n,u,w){var P=Je,A=Jn.transition;Jn.transition=null;try{Je=4,cu(r,n,u,w)}finally{Je=P,Jn.transition=A}}function cu(r,n,u,w){if(Aa){var P=uu(r,n,u,w);if(P===null)ju(r,n,w,Ma,u),Kp(r,w);else if(U1(P,r,n,u,w))w.stopPropagation();else if(Kp(r,w),n&4&&-1<z1.indexOf(r)){for(;P!==null;){var A=yo(P);if(A!==null&&Vp(A),A=uu(r,n,u,w),A===null&&ju(r,n,w,Ma,u),A===P)break;P=A}P!==null&&w.stopPropagation()}else ju(r,n,w,null,u)}}var Ma=null;function uu(r,n,u,w){if(Ma=null,r=Sr(w),r=wn(r),r!==null)if(n=xn(r),n===null)r=null;else if(u=n.tag,u===13){if(r=Ap(n),r!==null)return r;r=null}else if(u===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null);return Ma=r,null}function Yp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D1()){case su:return 1;case Bp:return 4;case Ea:case L1:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var zs=null,du=null,Da=null;function Xp(){if(Da)return Da;var r,n=du,u=n.length,w,P="value"in zs?zs.value:zs.textContent,A=P.length;for(r=0;r<u&&n[r]===P[r];r++);var I=u-r;for(w=1;w<=I&&n[u-w]===P[A-w];w++);return Da=P.slice(r,1<w?1-w:void 0)}function La(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function Oa(){return!0}function Jp(){return!1}function cr(r){function n(u,w,P,A,I){this._reactName=u,this._targetInst=P,this.type=w,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var X in r)r.hasOwnProperty(X)&&(u=r[X],this[X]=u?u(A):A[X]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Oa:Jp,this.isPropagationStopped=Jp,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=cr(Qn),oo=B({},Qn,{view:0,detail:0}),q1=cr(oo),fu,pu,ao,Ia=B({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ao&&(ao&&r.type==="mousemove"?(fu=r.screenX-ao.screenX,pu=r.screenY-ao.screenY):pu=fu=0,ao=r),fu)},movementY:function(r){return"movementY"in r?r.movementY:pu}}),Qp=cr(Ia),Y1=B({},Ia,{dataTransfer:0}),X1=cr(Y1),J1=B({},oo,{relatedTarget:0}),mu=cr(J1),Q1=B({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1=cr(Q1),eC=B({},Qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tC=cr(eC),rC=B({},Qn,{data:0}),Zp=cr(rC),sC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oC(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=iC[r])?!!n[r]:!1}function gu(){return oC}var aC=B({},oo,{key:function(r){if(r.key){var n=sC[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=La(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(r){return r.type==="keypress"?La(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?La(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lC=cr(aC),cC=B({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=cr(cC),uC=B({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),dC=cr(uC),hC=B({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=cr(hC),pC=B({},Ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mC=cr(pC),gC=[9,13,27,32],vu=o&&"CompositionEvent"in window,lo=null;o&&"documentMode"in document&&(lo=document.documentMode);var vC=o&&"TextEvent"in window&&!lo,tm=o&&(!vu||lo&&8<lo&&11>=lo),rm=" ",sm=!1;function nm(r,n){switch(r){case"keyup":return gC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zn=!1;function yC(r,n){switch(r){case"compositionend":return im(n);case"keypress":return n.which!==32?null:(sm=!0,rm);case"textInput":return r=n.data,r===rm&&sm?null:r;default:return null}}function _C(r,n){if(Zn)return r==="compositionend"||!vu&&nm(r,n)?(r=Xp(),Da=du=zs=null,Zn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tm&&n.locale!=="ko"?null:n.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!xC[r.type]:n==="textarea"}function am(r,n,u,w){Be(w),n=Va(n,"onChange"),0<n.length&&(u=new hu("onChange","change",null,u,w),r.push({event:u,listeners:n}))}var co=null,uo=null;function wC(r){Em(r,0)}function Ba(r){var n=ni(r);if(le(n))return r}function SC(r,n){if(r==="change")return n}var lm=!1;if(o){var yu;if(o){var _u="oninput"in document;if(!_u){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),_u=typeof cm.oninput=="function"}yu=_u}else yu=!1;lm=yu&&(!document.documentMode||9<document.documentMode)}function um(){co&&(co.detachEvent("onpropertychange",dm),uo=co=null)}function dm(r){if(r.propertyName==="value"&&Ba(uo)){var n=[];am(n,uo,r,Sr(r)),gt(wC,n)}}function bC(r,n,u){r==="focusin"?(um(),co=n,uo=u,co.attachEvent("onpropertychange",dm)):r==="focusout"&&um()}function CC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ba(uo)}function EC(r,n){if(r==="click")return Ba(n)}function kC(r,n){if(r==="input"||r==="change")return Ba(n)}function jC(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Fr=typeof Object.is=="function"?Object.is:jC;function ho(r,n){if(Fr(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var u=Object.keys(r),w=Object.keys(n);if(u.length!==w.length)return!1;for(w=0;w<u.length;w++){var P=u[w];if(!c.call(n,P)||!Fr(r[P],n[P]))return!1}return!0}function hm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fm(r,n){var u=hm(r);r=0;for(var w;u;){if(u.nodeType===3){if(w=r+u.textContent.length,r<=n&&w>=n)return{node:u,offset:n-r};r=w}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hm(u)}}function pm(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?pm(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function mm(){for(var r=window,n=Pe();n instanceof r.HTMLIFrameElement;){try{var u=typeof n.contentWindow.location.href=="string"}catch{u=!1}if(u)r=n.contentWindow;else break;n=Pe(r.document)}return n}function xu(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function PC(r){var n=mm(),u=r.focusedElem,w=r.selectionRange;if(n!==u&&u&&u.ownerDocument&&pm(u.ownerDocument.documentElement,u)){if(w!==null&&xu(u)){if(n=w.start,r=w.end,r===void 0&&(r=n),"selectionStart"in u)u.selectionStart=n,u.selectionEnd=Math.min(r,u.value.length);else if(r=(n=u.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var P=u.textContent.length,A=Math.min(w.start,P);w=w.end===void 0?A:Math.min(w.end,P),!r.extend&&A>w&&(P=w,w=A,A=P),P=fm(u,A);var I=fm(u,w);P&&I&&(r.rangeCount!==1||r.anchorNode!==P.node||r.anchorOffset!==P.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(n=n.createRange(),n.setStart(P.node,P.offset),r.removeAllRanges(),A>w?(r.addRange(n),r.extend(I.node,I.offset)):(n.setEnd(I.node,I.offset),r.addRange(n)))}}for(n=[],r=u;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<n.length;u++)r=n[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var RC=o&&"documentMode"in document&&11>=document.documentMode,ei=null,wu=null,fo=null,Su=!1;function gm(r,n,u){var w=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Su||ei==null||ei!==Pe(w)||(w=ei,"selectionStart"in w&&xu(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),fo&&ho(fo,w)||(fo=w,w=Va(wu,"onSelect"),0<w.length&&(n=new hu("onSelect","select",null,n,u),r.push({event:n,listeners:w}),n.target=ei)))}function Fa(r,n){var u={};return u[r.toLowerCase()]=n.toLowerCase(),u["Webkit"+r]="webkit"+n,u["Moz"+r]="moz"+n,u}var ti={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},bu={},vm={};o&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Ha(r){if(bu[r])return bu[r];if(!ti[r])return r;var n=ti[r],u;for(u in n)if(n.hasOwnProperty(u)&&u in vm)return bu[r]=n[u];return r}var ym=Ha("animationend"),_m=Ha("animationiteration"),xm=Ha("animationstart"),wm=Ha("transitionend"),Sm=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(r,n){Sm.set(r,n),m(n,[r])}for(var Cu=0;Cu<bm.length;Cu++){var Eu=bm[Cu],TC=Eu.toLowerCase(),NC=Eu[0].toUpperCase()+Eu.slice(1);Us(TC,"on"+NC)}Us(ym,"onAnimationEnd"),Us(_m,"onAnimationIteration"),Us(xm,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(wm,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Cm(r,n,u){var w=r.type||"unknown-event";r.currentTarget=u,T1(w,n,void 0,r),r.currentTarget=null}function Em(r,n){n=(n&4)!==0;for(var u=0;u<r.length;u++){var w=r[u],P=w.event;w=w.listeners;e:{var A=void 0;if(n)for(var I=w.length-1;0<=I;I--){var X=w[I],Q=X.instance,ae=X.currentTarget;if(X=X.listener,Q!==A&&P.isPropagationStopped())break e;Cm(P,X,ae),A=Q}else for(I=0;I<w.length;I++){if(X=w[I],Q=X.instance,ae=X.currentTarget,X=X.listener,Q!==A&&P.isPropagationStopped())break e;Cm(P,X,ae),A=Q}}}if(Qi)throw r=ru,Qi=!1,ru=null,r}function Ze(r,n){var u=n[Mu];u===void 0&&(u=n[Mu]=new Set);var w=r+"__bubble";u.has(w)||(km(n,r,2,!1),u.add(w))}function ku(r,n,u){var w=0;n&&(w|=4),km(u,r,w,n)}var $a="_reactListening"+Math.random().toString(36).slice(2);function mo(r){if(!r[$a]){r[$a]=!0,i.forEach(function(u){u!=="selectionchange"&&(AC.has(u)||ku(u,!1,r),ku(u,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[$a]||(n[$a]=!0,ku("selectionchange",!1,n))}}function km(r,n,u,w){switch(Yp(n)){case 1:var P=K1;break;case 4:P=G1;break;default:P=cu}u=P.bind(null,n,u,r),P=void 0,!Is||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(P=!0),w?P!==void 0?r.addEventListener(n,u,{capture:!0,passive:P}):r.addEventListener(n,u,!0):P!==void 0?r.addEventListener(n,u,{passive:P}):r.addEventListener(n,u,!1)}function ju(r,n,u,w,P){var A=w;if((n&1)===0&&(n&2)===0&&w!==null)e:for(;;){if(w===null)return;var I=w.tag;if(I===3||I===4){var X=w.stateNode.containerInfo;if(X===P||X.nodeType===8&&X.parentNode===P)break;if(I===4)for(I=w.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&(Q=I.stateNode.containerInfo,Q===P||Q.nodeType===8&&Q.parentNode===P))return;I=I.return}for(;X!==null;){if(I=wn(X),I===null)return;if(Q=I.tag,Q===5||Q===6){w=A=I;continue e}X=X.parentNode}}w=w.return}gt(function(){var ae=A,fe=Sr(u),me=[];e:{var de=Sm.get(r);if(de!==void 0){var _e=hu,we=r;switch(r){case"keypress":if(La(u)===0)break e;case"keydown":case"keyup":_e=lC;break;case"focusin":we="focus",_e=mu;break;case"focusout":we="blur",_e=mu;break;case"beforeblur":case"afterblur":_e=mu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=X1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=dC;break;case ym:case _m:case xm:_e=Z1;break;case wm:_e=fC;break;case"scroll":_e=q1;break;case"wheel":_e=mC;break;case"copy":case"cut":case"paste":_e=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=em}var Ce=(n&4)!==0,pt=!Ce&&r==="scroll",ie=Ce?de!==null?de+"Capture":null:de;Ce=[];for(var te=ae,oe;te!==null;){oe=te;var ge=oe.stateNode;if(oe.tag===5&&ge!==null&&(oe=ge,ie!==null&&(ge=kt(te,ie),ge!=null&&Ce.push(go(te,ge,oe)))),pt)break;te=te.return}0<Ce.length&&(de=new _e(de,we,null,u,fe),me.push({event:de,listeners:Ce}))}}if((n&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",_e=r==="mouseout"||r==="pointerout",de&&u!==_n&&(we=u.relatedTarget||u.fromElement)&&(wn(we)||we[vs]))break e;if((_e||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,_e?(we=u.relatedTarget||u.toElement,_e=ae,we=we?wn(we):null,we!==null&&(pt=xn(we),we!==pt||we.tag!==5&&we.tag!==6)&&(we=null)):(_e=null,we=ae),_e!==we)){if(Ce=Qp,ge="onMouseLeave",ie="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=em,ge="onPointerLeave",ie="onPointerEnter",te="pointer"),pt=_e==null?de:ni(_e),oe=we==null?de:ni(we),de=new Ce(ge,te+"leave",_e,u,fe),de.target=pt,de.relatedTarget=oe,ge=null,wn(fe)===ae&&(Ce=new Ce(ie,te+"enter",we,u,fe),Ce.target=oe,Ce.relatedTarget=pt,ge=Ce),pt=ge,_e&&we)t:{for(Ce=_e,ie=we,te=0,oe=Ce;oe;oe=ri(oe))te++;for(oe=0,ge=ie;ge;ge=ri(ge))oe++;for(;0<te-oe;)Ce=ri(Ce),te--;for(;0<oe-te;)ie=ri(ie),oe--;for(;te--;){if(Ce===ie||ie!==null&&Ce===ie.alternate)break t;Ce=ri(Ce),ie=ri(ie)}Ce=null}else Ce=null;_e!==null&&jm(me,de,_e,Ce,!1),we!==null&&pt!==null&&jm(me,pt,we,Ce,!0)}}e:{if(de=ae?ni(ae):window,_e=de.nodeName&&de.nodeName.toLowerCase(),_e==="select"||_e==="input"&&de.type==="file")var je=SC;else if(om(de))if(lm)je=kC;else{je=CC;var Re=bC}else(_e=de.nodeName)&&_e.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(je=EC);if(je&&(je=je(r,ae))){am(me,je,u,fe);break e}Re&&Re(r,de,ae),r==="focusout"&&(Re=de._wrapperState)&&Re.controlled&&de.type==="number"&&Fe(de,"number",de.value)}switch(Re=ae?ni(ae):window,r){case"focusin":(om(Re)||Re.contentEditable==="true")&&(ei=Re,wu=ae,fo=null);break;case"focusout":fo=wu=ei=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,gm(me,u,fe);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":gm(me,u,fe)}var Te;if(vu)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Zn?nm(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(tm&&u.locale!=="ko"&&(Zn||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Zn&&(Te=Xp()):(zs=fe,du="value"in zs?zs.value:zs.textContent,Zn=!0)),Re=Va(ae,Oe),0<Re.length&&(Oe=new Zp(Oe,r,null,u,fe),me.push({event:Oe,listeners:Re}),Te?Oe.data=Te:(Te=im(u),Te!==null&&(Oe.data=Te)))),(Te=vC?yC(r,u):_C(r,u))&&(ae=Va(ae,"onBeforeInput"),0<ae.length&&(fe=new Zp("onBeforeInput","beforeinput",null,u,fe),me.push({event:fe,listeners:ae}),fe.data=Te))}Em(me,n)})}function go(r,n,u){return{instance:r,listener:n,currentTarget:u}}function Va(r,n){for(var u=n+"Capture",w=[];r!==null;){var P=r,A=P.stateNode;P.tag===5&&A!==null&&(P=A,A=kt(r,u),A!=null&&w.unshift(go(r,A,P)),A=kt(r,n),A!=null&&w.push(go(r,A,P))),r=r.return}return w}function ri(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function jm(r,n,u,w,P){for(var A=n._reactName,I=[];u!==null&&u!==w;){var X=u,Q=X.alternate,ae=X.stateNode;if(Q!==null&&Q===w)break;X.tag===5&&ae!==null&&(X=ae,P?(Q=kt(u,A),Q!=null&&I.unshift(go(u,Q,X))):P||(Q=kt(u,A),Q!=null&&I.push(go(u,Q,X)))),u=u.return}I.length!==0&&r.push({event:n,listeners:I})}var MC=/\r\n?/g,DC=/\u0000|\uFFFD/g;function Pm(r){return(typeof r=="string"?r:""+r).replace(MC,`
`).replace(DC,"")}function za(r,n,u){if(n=Pm(n),Pm(r)!==n&&u)throw Error(s(425))}function Ua(){}var Pu=null,Ru=null;function Tu(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(r){return Rm.resolve(null).then(r).catch(IC)}:Nu;function IC(r){setTimeout(function(){throw r})}function Au(r,n){var u=n,w=0;do{var P=u.nextSibling;if(r.removeChild(u),P&&P.nodeType===8)if(u=P.data,u==="/$"){if(w===0){r.removeChild(P),io(n);return}w--}else u!=="$"&&u!=="$?"&&u!=="$!"||w++;u=P}while(u);io(n)}function Ws(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return r}function Tm(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(n===0)return r;n--}else u==="/$"&&n++}r=r.previousSibling}return null}var si=Math.random().toString(36).slice(2),es="__reactFiber$"+si,vo="__reactProps$"+si,vs="__reactContainer$"+si,Mu="__reactEvents$"+si,BC="__reactListeners$"+si,FC="__reactHandles$"+si;function wn(r){var n=r[es];if(n)return n;for(var u=r.parentNode;u;){if(n=u[vs]||u[es]){if(u=n.alternate,n.child!==null||u!==null&&u.child!==null)for(r=Tm(r);r!==null;){if(u=r[es])return u;r=Tm(r)}return n}r=u,u=r.parentNode}return null}function yo(r){return r=r[es]||r[vs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ni(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(s(33))}function Wa(r){return r[vo]||null}var Du=[],ii=-1;function Ks(r){return{current:r}}function et(r){0>ii||(r.current=Du[ii],Du[ii]=null,ii--)}function Qe(r,n){ii++,Du[ii]=r.current,r.current=n}var Gs={},Ht=Ks(Gs),Qt=Ks(!1),Sn=Gs;function oi(r,n){var u=r.type.contextTypes;if(!u)return Gs;var w=r.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===n)return w.__reactInternalMemoizedMaskedChildContext;var P={},A;for(A in u)P[A]=n[A];return w&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=P),P}function Zt(r){return r=r.childContextTypes,r!=null}function Ka(){et(Qt),et(Ht)}function Nm(r,n,u){if(Ht.current!==Gs)throw Error(s(168));Qe(Ht,n),Qe(Qt,u)}function Am(r,n,u){var w=r.stateNode;if(n=n.childContextTypes,typeof w.getChildContext!="function")return u;w=w.getChildContext();for(var P in w)if(!(P in n))throw Error(s(108,U(r)||"Unknown",P));return B({},u,w)}function Ga(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Gs,Sn=Ht.current,Qe(Ht,r),Qe(Qt,Qt.current),!0}function Mm(r,n,u){var w=r.stateNode;if(!w)throw Error(s(169));u?(r=Am(r,n,Sn),w.__reactInternalMemoizedMergedChildContext=r,et(Qt),et(Ht),Qe(Ht,r)):et(Qt),Qe(Qt,u)}var ys=null,qa=!1,Lu=!1;function Dm(r){ys===null?ys=[r]:ys.push(r)}function HC(r){qa=!0,Dm(r)}function qs(){if(!Lu&&ys!==null){Lu=!0;var r=0,n=Je;try{var u=ys;for(Je=1;r<u.length;r++){var w=u[r];do w=w(!0);while(w!==null)}ys=null,qa=!1}catch(P){throw ys!==null&&(ys=ys.slice(r+1)),Op(su,qs),P}finally{Je=n,Lu=!1}}return null}var ai=[],li=0,Ya=null,Xa=0,Cr=[],Er=0,bn=null,_s=1,xs="";function Cn(r,n){ai[li++]=Xa,ai[li++]=Ya,Ya=r,Xa=n}function Lm(r,n,u){Cr[Er++]=_s,Cr[Er++]=xs,Cr[Er++]=bn,bn=r;var w=_s;r=xs;var P=32-Br(w)-1;w&=~(1<<P),u+=1;var A=32-Br(n)+P;if(30<A){var I=P-P%5;A=(w&(1<<I)-1).toString(32),w>>=I,P-=I,_s=1<<32-Br(n)+P|u<<P|w,xs=A+r}else _s=1<<A|u<<P|w,xs=r}function Ou(r){r.return!==null&&(Cn(r,1),Lm(r,1,0))}function Iu(r){for(;r===Ya;)Ya=ai[--li],ai[li]=null,Xa=ai[--li],ai[li]=null;for(;r===bn;)bn=Cr[--Er],Cr[Er]=null,xs=Cr[--Er],Cr[Er]=null,_s=Cr[--Er],Cr[Er]=null}var ur=null,dr=null,rt=!1,Hr=null;function Om(r,n){var u=Rr(5,null,null,0);u.elementType="DELETED",u.stateNode=n,u.return=r,n=r.deletions,n===null?(r.deletions=[u],r.flags|=16):n.push(u)}function Im(r,n){switch(r.tag){case 5:var u=r.type;return n=n.nodeType!==1||u.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(r.stateNode=n,ur=r,dr=Ws(n.firstChild),!0):!1;case 6:return n=r.pendingProps===""||n.nodeType!==3?null:n,n!==null?(r.stateNode=n,ur=r,dr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(u=bn!==null?{id:_s,overflow:xs}:null,r.memoizedState={dehydrated:n,treeContext:u,retryLane:1073741824},u=Rr(18,null,null,0),u.stateNode=n,u.return=r,r.child=u,ur=r,dr=null,!0):!1;default:return!1}}function Bu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fu(r){if(rt){var n=dr;if(n){var u=n;if(!Im(r,n)){if(Bu(r))throw Error(s(418));n=Ws(u.nextSibling);var w=ur;n&&Im(r,n)?Om(w,u):(r.flags=r.flags&-4097|2,rt=!1,ur=r)}}else{if(Bu(r))throw Error(s(418));r.flags=r.flags&-4097|2,rt=!1,ur=r}}}function Bm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ur=r}function Ja(r){if(r!==ur)return!1;if(!rt)return Bm(r),rt=!0,!1;var n;if((n=r.tag!==3)&&!(n=r.tag!==5)&&(n=r.type,n=n!=="head"&&n!=="body"&&!Tu(r.type,r.memoizedProps)),n&&(n=dr)){if(Bu(r))throw Fm(),Error(s(418));for(;n;)Om(r,n),n=Ws(n.nextSibling)}if(Bm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(n===0){dr=Ws(r.nextSibling);break e}n--}else u!=="$"&&u!=="$!"&&u!=="$?"||n++}r=r.nextSibling}dr=null}}else dr=ur?Ws(r.stateNode.nextSibling):null;return!0}function Fm(){for(var r=dr;r;)r=Ws(r.nextSibling)}function ci(){dr=ur=null,rt=!1}function Hu(r){Hr===null?Hr=[r]:Hr.push(r)}var $C=E.ReactCurrentBatchConfig;function _o(r,n,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(s(309));var w=u.stateNode}if(!w)throw Error(s(147,r));var P=w,A=""+r;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===A?n.ref:(n=function(I){var X=P.refs;I===null?delete X[A]:X[A]=I},n._stringRef=A,n)}if(typeof r!="string")throw Error(s(284));if(!u._owner)throw Error(s(290,r))}return r}function Qa(r,n){throw r=Object.prototype.toString.call(n),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r))}function Hm(r){var n=r._init;return n(r._payload)}function $m(r){function n(ie,te){if(r){var oe=ie.deletions;oe===null?(ie.deletions=[te],ie.flags|=16):oe.push(te)}}function u(ie,te){if(!r)return null;for(;te!==null;)n(ie,te),te=te.sibling;return null}function w(ie,te){for(ie=new Map;te!==null;)te.key!==null?ie.set(te.key,te):ie.set(te.index,te),te=te.sibling;return ie}function P(ie,te){return ie=rn(ie,te),ie.index=0,ie.sibling=null,ie}function A(ie,te,oe){return ie.index=oe,r?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<te?(ie.flags|=2,te):oe):(ie.flags|=2,te)):(ie.flags|=1048576,te)}function I(ie){return r&&ie.alternate===null&&(ie.flags|=2),ie}function X(ie,te,oe,ge){return te===null||te.tag!==6?(te=Nd(oe,ie.mode,ge),te.return=ie,te):(te=P(te,oe),te.return=ie,te)}function Q(ie,te,oe,ge){var je=oe.type;return je===T?fe(ie,te,oe.props.children,ge,oe.key):te!==null&&(te.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Hm(je)===te.type)?(ge=P(te,oe.props),ge.ref=_o(ie,te,oe),ge.return=ie,ge):(ge=Sl(oe.type,oe.key,oe.props,null,ie.mode,ge),ge.ref=_o(ie,te,oe),ge.return=ie,ge)}function ae(ie,te,oe,ge){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=Ad(oe,ie.mode,ge),te.return=ie,te):(te=P(te,oe.children||[]),te.return=ie,te)}function fe(ie,te,oe,ge,je){return te===null||te.tag!==7?(te=An(oe,ie.mode,ge,je),te.return=ie,te):(te=P(te,oe),te.return=ie,te)}function me(ie,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Nd(""+te,ie.mode,oe),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return oe=Sl(te.type,te.key,te.props,null,ie.mode,oe),oe.ref=_o(ie,null,te),oe.return=ie,oe;case N:return te=Ad(te,ie.mode,oe),te.return=ie,te;case G:var ge=te._init;return me(ie,ge(te._payload),oe)}if(qe(te)||D(te))return te=An(te,ie.mode,oe,null),te.return=ie,te;Qa(ie,te)}return null}function de(ie,te,oe,ge){var je=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return je!==null?null:X(ie,te,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===je?Q(ie,te,oe,ge):null;case N:return oe.key===je?ae(ie,te,oe,ge):null;case G:return je=oe._init,de(ie,te,je(oe._payload),ge)}if(qe(oe)||D(oe))return je!==null?null:fe(ie,te,oe,ge,null);Qa(ie,oe)}return null}function _e(ie,te,oe,ge,je){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ie=ie.get(oe)||null,X(te,ie,""+ge,je);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case R:return ie=ie.get(ge.key===null?oe:ge.key)||null,Q(te,ie,ge,je);case N:return ie=ie.get(ge.key===null?oe:ge.key)||null,ae(te,ie,ge,je);case G:var Re=ge._init;return _e(ie,te,oe,Re(ge._payload),je)}if(qe(ge)||D(ge))return ie=ie.get(oe)||null,fe(te,ie,ge,je,null);Qa(te,ge)}return null}function we(ie,te,oe,ge){for(var je=null,Re=null,Te=te,Oe=te=0,Rt=null;Te!==null&&Oe<oe.length;Oe++){Te.index>Oe?(Rt=Te,Te=null):Rt=Te.sibling;var Ke=de(ie,Te,oe[Oe],ge);if(Ke===null){Te===null&&(Te=Rt);break}r&&Te&&Ke.alternate===null&&n(ie,Te),te=A(Ke,te,Oe),Re===null?je=Ke:Re.sibling=Ke,Re=Ke,Te=Rt}if(Oe===oe.length)return u(ie,Te),rt&&Cn(ie,Oe),je;if(Te===null){for(;Oe<oe.length;Oe++)Te=me(ie,oe[Oe],ge),Te!==null&&(te=A(Te,te,Oe),Re===null?je=Te:Re.sibling=Te,Re=Te);return rt&&Cn(ie,Oe),je}for(Te=w(ie,Te);Oe<oe.length;Oe++)Rt=_e(Te,ie,Oe,oe[Oe],ge),Rt!==null&&(r&&Rt.alternate!==null&&Te.delete(Rt.key===null?Oe:Rt.key),te=A(Rt,te,Oe),Re===null?je=Rt:Re.sibling=Rt,Re=Rt);return r&&Te.forEach(function(sn){return n(ie,sn)}),rt&&Cn(ie,Oe),je}function Ce(ie,te,oe,ge){var je=D(oe);if(typeof je!="function")throw Error(s(150));if(oe=je.call(oe),oe==null)throw Error(s(151));for(var Re=je=null,Te=te,Oe=te=0,Rt=null,Ke=oe.next();Te!==null&&!Ke.done;Oe++,Ke=oe.next()){Te.index>Oe?(Rt=Te,Te=null):Rt=Te.sibling;var sn=de(ie,Te,Ke.value,ge);if(sn===null){Te===null&&(Te=Rt);break}r&&Te&&sn.alternate===null&&n(ie,Te),te=A(sn,te,Oe),Re===null?je=sn:Re.sibling=sn,Re=sn,Te=Rt}if(Ke.done)return u(ie,Te),rt&&Cn(ie,Oe),je;if(Te===null){for(;!Ke.done;Oe++,Ke=oe.next())Ke=me(ie,Ke.value,ge),Ke!==null&&(te=A(Ke,te,Oe),Re===null?je=Ke:Re.sibling=Ke,Re=Ke);return rt&&Cn(ie,Oe),je}for(Te=w(ie,Te);!Ke.done;Oe++,Ke=oe.next())Ke=_e(Te,ie,Oe,Ke.value,ge),Ke!==null&&(r&&Ke.alternate!==null&&Te.delete(Ke.key===null?Oe:Ke.key),te=A(Ke,te,Oe),Re===null?je=Ke:Re.sibling=Ke,Re=Ke);return r&&Te.forEach(function(x2){return n(ie,x2)}),rt&&Cn(ie,Oe),je}function pt(ie,te,oe,ge){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var je=oe.key,Re=te;Re!==null;){if(Re.key===je){if(je=oe.type,je===T){if(Re.tag===7){u(ie,Re.sibling),te=P(Re,oe.props.children),te.return=ie,ie=te;break e}}else if(Re.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Hm(je)===Re.type){u(ie,Re.sibling),te=P(Re,oe.props),te.ref=_o(ie,Re,oe),te.return=ie,ie=te;break e}u(ie,Re);break}else n(ie,Re);Re=Re.sibling}oe.type===T?(te=An(oe.props.children,ie.mode,ge,oe.key),te.return=ie,ie=te):(ge=Sl(oe.type,oe.key,oe.props,null,ie.mode,ge),ge.ref=_o(ie,te,oe),ge.return=ie,ie=ge)}return I(ie);case N:e:{for(Re=oe.key;te!==null;){if(te.key===Re)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){u(ie,te.sibling),te=P(te,oe.children||[]),te.return=ie,ie=te;break e}else{u(ie,te);break}else n(ie,te);te=te.sibling}te=Ad(oe,ie.mode,ge),te.return=ie,ie=te}return I(ie);case G:return Re=oe._init,pt(ie,te,Re(oe._payload),ge)}if(qe(oe))return we(ie,te,oe,ge);if(D(oe))return Ce(ie,te,oe,ge);Qa(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(u(ie,te.sibling),te=P(te,oe),te.return=ie,ie=te):(u(ie,te),te=Nd(oe,ie.mode,ge),te.return=ie,ie=te),I(ie)):u(ie,te)}return pt}var ui=$m(!0),Vm=$m(!1),Za=Ks(null),el=null,di=null,$u=null;function Vu(){$u=di=el=null}function zu(r){var n=Za.current;et(Za),r._currentValue=n}function Uu(r,n,u){for(;r!==null;){var w=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,w!==null&&(w.childLanes|=n)):w!==null&&(w.childLanes&n)!==n&&(w.childLanes|=n),r===u)break;r=r.return}}function hi(r,n){el=r,$u=di=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&n)!==0&&(er=!0),r.firstContext=null)}function kr(r){var n=r._currentValue;if($u!==r)if(r={context:r,memoizedValue:n,next:null},di===null){if(el===null)throw Error(s(308));di=r,el.dependencies={lanes:0,firstContext:r}}else di=di.next=r;return n}var En=null;function Wu(r){En===null?En=[r]:En.push(r)}function zm(r,n,u,w){var P=n.interleaved;return P===null?(u.next=u,Wu(n)):(u.next=P.next,P.next=u),n.interleaved=u,ws(r,w)}function ws(r,n){r.lanes|=n;var u=r.alternate;for(u!==null&&(u.lanes|=n),u=r,r=r.return;r!==null;)r.childLanes|=n,u=r.alternate,u!==null&&(u.childLanes|=n),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ys=!1;function Ku(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ss(r,n){return{eventTime:r,lane:n,tag:0,payload:null,callback:null,next:null}}function Xs(r,n,u){var w=r.updateQueue;if(w===null)return null;if(w=w.shared,(Ue&2)!==0){var P=w.pending;return P===null?n.next=n:(n.next=P.next,P.next=n),w.pending=n,ws(r,u)}return P=w.interleaved,P===null?(n.next=n,Wu(w)):(n.next=P.next,P.next=n),w.interleaved=n,ws(r,u)}function tl(r,n,u){if(n=n.updateQueue,n!==null&&(n=n.shared,(u&4194240)!==0)){var w=n.lanes;w&=r.pendingLanes,u|=w,n.lanes=u,ou(r,u)}}function Wm(r,n){var u=r.updateQueue,w=r.alternate;if(w!==null&&(w=w.updateQueue,u===w)){var P=null,A=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};A===null?P=A=I:A=A.next=I,u=u.next}while(u!==null);A===null?P=A=n:A=A.next=n}else P=A=n;u={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:A,shared:w.shared,effects:w.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=n:r.next=n,u.lastBaseUpdate=n}function rl(r,n,u,w){var P=r.updateQueue;Ys=!1;var A=P.firstBaseUpdate,I=P.lastBaseUpdate,X=P.shared.pending;if(X!==null){P.shared.pending=null;var Q=X,ae=Q.next;Q.next=null,I===null?A=ae:I.next=ae,I=Q;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,X=fe.lastBaseUpdate,X!==I&&(X===null?fe.firstBaseUpdate=ae:X.next=ae,fe.lastBaseUpdate=Q))}if(A!==null){var me=P.baseState;I=0,fe=ae=Q=null,X=A;do{var de=X.lane,_e=X.eventTime;if((w&de)===de){fe!==null&&(fe=fe.next={eventTime:_e,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var we=r,Ce=X;switch(de=n,_e=u,Ce.tag){case 1:if(we=Ce.payload,typeof we=="function"){me=we.call(_e,me,de);break e}me=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ce.payload,de=typeof we=="function"?we.call(_e,me,de):we,de==null)break e;me=B({},me,de);break e;case 2:Ys=!0}}X.callback!==null&&X.lane!==0&&(r.flags|=64,de=P.effects,de===null?P.effects=[X]:de.push(X))}else _e={eventTime:_e,lane:de,tag:X.tag,payload:X.payload,callback:X.callback,next:null},fe===null?(ae=fe=_e,Q=me):fe=fe.next=_e,I|=de;if(X=X.next,X===null){if(X=P.shared.pending,X===null)break;de=X,X=de.next,de.next=null,P.lastBaseUpdate=de,P.shared.pending=null}}while(!0);if(fe===null&&(Q=me),P.baseState=Q,P.firstBaseUpdate=ae,P.lastBaseUpdate=fe,n=P.shared.interleaved,n!==null){P=n;do I|=P.lane,P=P.next;while(P!==n)}else A===null&&(P.shared.lanes=0);Pn|=I,r.lanes=I,r.memoizedState=me}}function Km(r,n,u){if(r=n.effects,n.effects=null,r!==null)for(n=0;n<r.length;n++){var w=r[n],P=w.callback;if(P!==null){if(w.callback=null,w=u,typeof P!="function")throw Error(s(191,P));P.call(w)}}}var xo={},ts=Ks(xo),wo=Ks(xo),So=Ks(xo);function kn(r){if(r===xo)throw Error(s(174));return r}function Gu(r,n){switch(Qe(So,n),Qe(wo,r),Qe(ts,xo),r=n.nodeType,r){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ms(null,"");break;default:r=r===8?n.parentNode:n,n=r.namespaceURI||null,r=r.tagName,n=ms(n,r)}et(ts),Qe(ts,n)}function fi(){et(ts),et(wo),et(So)}function Gm(r){kn(So.current);var n=kn(ts.current),u=ms(n,r.type);n!==u&&(Qe(wo,r),Qe(ts,u))}function qu(r){wo.current===r&&(et(ts),et(wo))}var nt=Ks(0);function sl(r){for(var n=r;n!==null;){if(n.tag===13){var u=n.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yu=[];function Xu(){for(var r=0;r<Yu.length;r++)Yu[r]._workInProgressVersionPrimary=null;Yu.length=0}var nl=E.ReactCurrentDispatcher,Ju=E.ReactCurrentBatchConfig,jn=0,it=null,xt=null,jt=null,il=!1,bo=!1,Co=0,VC=0;function $t(){throw Error(s(321))}function Qu(r,n){if(n===null)return!1;for(var u=0;u<n.length&&u<r.length;u++)if(!Fr(r[u],n[u]))return!1;return!0}function Zu(r,n,u,w,P,A){if(jn=A,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,nl.current=r===null||r.memoizedState===null?KC:GC,r=u(w,P),bo){A=0;do{if(bo=!1,Co=0,25<=A)throw Error(s(301));A+=1,jt=xt=null,n.updateQueue=null,nl.current=qC,r=u(w,P)}while(bo)}if(nl.current=ll,n=xt!==null&&xt.next!==null,jn=0,jt=xt=it=null,il=!1,n)throw Error(s(300));return r}function ed(){var r=Co!==0;return Co=0,r}function rs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?it.memoizedState=jt=r:jt=jt.next=r,jt}function jr(){if(xt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var n=jt===null?it.memoizedState:jt.next;if(n!==null)jt=n,xt=r;else{if(r===null)throw Error(s(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},jt===null?it.memoizedState=jt=r:jt=jt.next=r}return jt}function Eo(r,n){return typeof n=="function"?n(r):n}function td(r){var n=jr(),u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var w=xt,P=w.baseQueue,A=u.pending;if(A!==null){if(P!==null){var I=P.next;P.next=A.next,A.next=I}w.baseQueue=P=A,u.pending=null}if(P!==null){A=P.next,w=w.baseState;var X=I=null,Q=null,ae=A;do{var fe=ae.lane;if((jn&fe)===fe)Q!==null&&(Q=Q.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),w=ae.hasEagerState?ae.eagerState:r(w,ae.action);else{var me={lane:fe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Q===null?(X=Q=me,I=w):Q=Q.next=me,it.lanes|=fe,Pn|=fe}ae=ae.next}while(ae!==null&&ae!==A);Q===null?I=w:Q.next=X,Fr(w,n.memoizedState)||(er=!0),n.memoizedState=w,n.baseState=I,n.baseQueue=Q,u.lastRenderedState=w}if(r=u.interleaved,r!==null){P=r;do A=P.lane,it.lanes|=A,Pn|=A,P=P.next;while(P!==r)}else P===null&&(u.lanes=0);return[n.memoizedState,u.dispatch]}function rd(r){var n=jr(),u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var w=u.dispatch,P=u.pending,A=n.memoizedState;if(P!==null){u.pending=null;var I=P=P.next;do A=r(A,I.action),I=I.next;while(I!==P);Fr(A,n.memoizedState)||(er=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),u.lastRenderedState=A}return[A,w]}function qm(){}function Ym(r,n){var u=it,w=jr(),P=n(),A=!Fr(w.memoizedState,P);if(A&&(w.memoizedState=P,er=!0),w=w.queue,sd(Qm.bind(null,u,w,r),[r]),w.getSnapshot!==n||A||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,ko(9,Jm.bind(null,u,w,P,n),void 0,null),Pt===null)throw Error(s(349));(jn&30)!==0||Xm(u,n,P)}return P}function Xm(r,n,u){r.flags|=16384,r={getSnapshot:n,value:u},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[r]):(u=n.stores,u===null?n.stores=[r]:u.push(r))}function Jm(r,n,u,w){n.value=u,n.getSnapshot=w,Zm(n)&&eg(r)}function Qm(r,n,u){return u(function(){Zm(n)&&eg(r)})}function Zm(r){var n=r.getSnapshot;r=r.value;try{var u=n();return!Fr(r,u)}catch{return!0}}function eg(r){var n=ws(r,1);n!==null&&Ur(n,r,1,-1)}function tg(r){var n=rs();return typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:r},n.queue=r,r=r.dispatch=WC.bind(null,it,r),[n.memoizedState,r]}function ko(r,n,u,w){return r={tag:r,create:n,destroy:u,deps:w,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=r.next=r):(u=n.lastEffect,u===null?n.lastEffect=r.next=r:(w=u.next,u.next=r,r.next=w,n.lastEffect=r)),r}function rg(){return jr().memoizedState}function ol(r,n,u,w){var P=rs();it.flags|=r,P.memoizedState=ko(1|n,u,void 0,w===void 0?null:w)}function al(r,n,u,w){var P=jr();w=w===void 0?null:w;var A=void 0;if(xt!==null){var I=xt.memoizedState;if(A=I.destroy,w!==null&&Qu(w,I.deps)){P.memoizedState=ko(n,u,A,w);return}}it.flags|=r,P.memoizedState=ko(1|n,u,A,w)}function sg(r,n){return ol(8390656,8,r,n)}function sd(r,n){return al(2048,8,r,n)}function ng(r,n){return al(4,2,r,n)}function ig(r,n){return al(4,4,r,n)}function og(r,n){if(typeof n=="function")return r=r(),n(r),function(){n(null)};if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function ag(r,n,u){return u=u!=null?u.concat([r]):null,al(4,4,og.bind(null,n,r),u)}function nd(){}function lg(r,n){var u=jr();n=n===void 0?null:n;var w=u.memoizedState;return w!==null&&n!==null&&Qu(n,w[1])?w[0]:(u.memoizedState=[r,n],r)}function cg(r,n){var u=jr();n=n===void 0?null:n;var w=u.memoizedState;return w!==null&&n!==null&&Qu(n,w[1])?w[0]:(r=r(),u.memoizedState=[r,n],r)}function ug(r,n,u){return(jn&21)===0?(r.baseState&&(r.baseState=!1,er=!0),r.memoizedState=u):(Fr(u,n)||(u=Hp(),it.lanes|=u,Pn|=u,r.baseState=!0),n)}function zC(r,n){var u=Je;Je=u!==0&&4>u?u:4,r(!0);var w=Ju.transition;Ju.transition={};try{r(!1),n()}finally{Je=u,Ju.transition=w}}function dg(){return jr().memoizedState}function UC(r,n,u){var w=en(r);if(u={lane:w,action:u,hasEagerState:!1,eagerState:null,next:null},hg(r))fg(n,u);else if(u=zm(r,n,u,w),u!==null){var P=Xt();Ur(u,r,w,P),pg(u,n,w)}}function WC(r,n,u){var w=en(r),P={lane:w,action:u,hasEagerState:!1,eagerState:null,next:null};if(hg(r))fg(n,P);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var I=n.lastRenderedState,X=A(I,u);if(P.hasEagerState=!0,P.eagerState=X,Fr(X,I)){var Q=n.interleaved;Q===null?(P.next=P,Wu(n)):(P.next=Q.next,Q.next=P),n.interleaved=P;return}}catch{}finally{}u=zm(r,n,P,w),u!==null&&(P=Xt(),Ur(u,r,w,P),pg(u,n,w))}}function hg(r){var n=r.alternate;return r===it||n!==null&&n===it}function fg(r,n){bo=il=!0;var u=r.pending;u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n}function pg(r,n,u){if((u&4194240)!==0){var w=n.lanes;w&=r.pendingLanes,u|=w,n.lanes=u,ou(r,u)}}var ll={readContext:kr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},KC={readContext:kr,useCallback:function(r,n){return rs().memoizedState=[r,n===void 0?null:n],r},useContext:kr,useEffect:sg,useImperativeHandle:function(r,n,u){return u=u!=null?u.concat([r]):null,ol(4194308,4,og.bind(null,n,r),u)},useLayoutEffect:function(r,n){return ol(4194308,4,r,n)},useInsertionEffect:function(r,n){return ol(4,2,r,n)},useMemo:function(r,n){var u=rs();return n=n===void 0?null:n,r=r(),u.memoizedState=[r,n],r},useReducer:function(r,n,u){var w=rs();return n=u!==void 0?u(n):n,w.memoizedState=w.baseState=n,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:n},w.queue=r,r=r.dispatch=UC.bind(null,it,r),[w.memoizedState,r]},useRef:function(r){var n=rs();return r={current:r},n.memoizedState=r},useState:tg,useDebugValue:nd,useDeferredValue:function(r){return rs().memoizedState=r},useTransition:function(){var r=tg(!1),n=r[0];return r=zC.bind(null,r[1]),rs().memoizedState=r,[n,r]},useMutableSource:function(){},useSyncExternalStore:function(r,n,u){var w=it,P=rs();if(rt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=n(),Pt===null)throw Error(s(349));(jn&30)!==0||Xm(w,n,u)}P.memoizedState=u;var A={value:u,getSnapshot:n};return P.queue=A,sg(Qm.bind(null,w,A,r),[r]),w.flags|=2048,ko(9,Jm.bind(null,w,A,u,n),void 0,null),u},useId:function(){var r=rs(),n=Pt.identifierPrefix;if(rt){var u=xs,w=_s;u=(w&~(1<<32-Br(w)-1)).toString(32)+u,n=":"+n+"R"+u,u=Co++,0<u&&(n+="H"+u.toString(32)),n+=":"}else u=VC++,n=":"+n+"r"+u.toString(32)+":";return r.memoizedState=n},unstable_isNewReconciler:!1},GC={readContext:kr,useCallback:lg,useContext:kr,useEffect:sd,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:cg,useReducer:td,useRef:rg,useState:function(){return td(Eo)},useDebugValue:nd,useDeferredValue:function(r){var n=jr();return ug(n,xt.memoizedState,r)},useTransition:function(){var r=td(Eo)[0],n=jr().memoizedState;return[r,n]},useMutableSource:qm,useSyncExternalStore:Ym,useId:dg,unstable_isNewReconciler:!1},qC={readContext:kr,useCallback:lg,useContext:kr,useEffect:sd,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:cg,useReducer:rd,useRef:rg,useState:function(){return rd(Eo)},useDebugValue:nd,useDeferredValue:function(r){var n=jr();return xt===null?n.memoizedState=r:ug(n,xt.memoizedState,r)},useTransition:function(){var r=rd(Eo)[0],n=jr().memoizedState;return[r,n]},useMutableSource:qm,useSyncExternalStore:Ym,useId:dg,unstable_isNewReconciler:!1};function $r(r,n){if(r&&r.defaultProps){n=B({},n),r=r.defaultProps;for(var u in r)n[u]===void 0&&(n[u]=r[u]);return n}return n}function id(r,n,u,w){n=r.memoizedState,u=u(w,n),u=u==null?n:B({},n,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var cl={isMounted:function(r){return(r=r._reactInternals)?xn(r)===r:!1},enqueueSetState:function(r,n,u){r=r._reactInternals;var w=Xt(),P=en(r),A=Ss(w,P);A.payload=n,u!=null&&(A.callback=u),n=Xs(r,A,P),n!==null&&(Ur(n,r,P,w),tl(n,r,P))},enqueueReplaceState:function(r,n,u){r=r._reactInternals;var w=Xt(),P=en(r),A=Ss(w,P);A.tag=1,A.payload=n,u!=null&&(A.callback=u),n=Xs(r,A,P),n!==null&&(Ur(n,r,P,w),tl(n,r,P))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var u=Xt(),w=en(r),P=Ss(u,w);P.tag=2,n!=null&&(P.callback=n),n=Xs(r,P,w),n!==null&&(Ur(n,r,w,u),tl(n,r,w))}};function mg(r,n,u,w,P,A,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(w,A,I):n.prototype&&n.prototype.isPureReactComponent?!ho(u,w)||!ho(P,A):!0}function gg(r,n,u){var w=!1,P=Gs,A=n.contextType;return typeof A=="object"&&A!==null?A=kr(A):(P=Zt(n)?Sn:Ht.current,w=n.contextTypes,A=(w=w!=null)?oi(r,P):Gs),n=new n(u,A),r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=cl,r.stateNode=n,n._reactInternals=r,w&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=P,r.__reactInternalMemoizedMaskedChildContext=A),n}function vg(r,n,u,w){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(u,w),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(u,w),n.state!==r&&cl.enqueueReplaceState(n,n.state,null)}function od(r,n,u,w){var P=r.stateNode;P.props=u,P.state=r.memoizedState,P.refs={},Ku(r);var A=n.contextType;typeof A=="object"&&A!==null?P.context=kr(A):(A=Zt(n)?Sn:Ht.current,P.context=oi(r,A)),P.state=r.memoizedState,A=n.getDerivedStateFromProps,typeof A=="function"&&(id(r,n,A,u),P.state=r.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(n=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),n!==P.state&&cl.enqueueReplaceState(P,P.state,null),rl(r,u,P,w),P.state=r.memoizedState),typeof P.componentDidMount=="function"&&(r.flags|=4194308)}function pi(r,n){try{var u="",w=n;do u+=q(w),w=w.return;while(w);var P=u}catch(A){P=`
Error generating stack: `+A.message+`
`+A.stack}return{value:r,source:n,stack:P,digest:null}}function ad(r,n,u){return{value:r,source:null,stack:u??null,digest:n??null}}function ld(r,n){try{console.error(n.value)}catch(u){setTimeout(function(){throw u})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function yg(r,n,u){u=Ss(-1,u),u.tag=3,u.payload={element:null};var w=n.value;return u.callback=function(){gl||(gl=!0,bd=w),ld(r,n)},u}function _g(r,n,u){u=Ss(-1,u),u.tag=3;var w=r.type.getDerivedStateFromError;if(typeof w=="function"){var P=n.value;u.payload=function(){return w(P)},u.callback=function(){ld(r,n)}}var A=r.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(u.callback=function(){ld(r,n),typeof w!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var I=n.stack;this.componentDidCatch(n.value,{componentStack:I!==null?I:""})}),u}function xg(r,n,u){var w=r.pingCache;if(w===null){w=r.pingCache=new YC;var P=new Set;w.set(n,P)}else P=w.get(n),P===void 0&&(P=new Set,w.set(n,P));P.has(u)||(P.add(u),r=c2.bind(null,r,n,u),n.then(r,r))}function wg(r){do{var n;if((n=r.tag===13)&&(n=r.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return r;r=r.return}while(r!==null);return null}function Sg(r,n,u,w,P){return(r.mode&1)===0?(r===n?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(n=Ss(-1,1),n.tag=2,Xs(u,n,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=P,r)}var XC=E.ReactCurrentOwner,er=!1;function Yt(r,n,u,w){n.child=r===null?Vm(n,null,u,w):ui(n,r.child,u,w)}function bg(r,n,u,w,P){u=u.render;var A=n.ref;return hi(n,P),w=Zu(r,n,u,w,A,P),u=ed(),r!==null&&!er?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~P,bs(r,n,P)):(rt&&u&&Ou(n),n.flags|=1,Yt(r,n,w,P),n.child)}function Cg(r,n,u,w,P){if(r===null){var A=u.type;return typeof A=="function"&&!Td(A)&&A.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(n.tag=15,n.type=A,Eg(r,n,A,w,P)):(r=Sl(u.type,null,w,n,n.mode,P),r.ref=n.ref,r.return=n,n.child=r)}if(A=r.child,(r.lanes&P)===0){var I=A.memoizedProps;if(u=u.compare,u=u!==null?u:ho,u(I,w)&&r.ref===n.ref)return bs(r,n,P)}return n.flags|=1,r=rn(A,w),r.ref=n.ref,r.return=n,n.child=r}function Eg(r,n,u,w,P){if(r!==null){var A=r.memoizedProps;if(ho(A,w)&&r.ref===n.ref)if(er=!1,n.pendingProps=w=A,(r.lanes&P)!==0)(r.flags&131072)!==0&&(er=!0);else return n.lanes=r.lanes,bs(r,n,P)}return cd(r,n,u,w,P)}function kg(r,n,u){var w=n.pendingProps,P=w.children,A=r!==null?r.memoizedState:null;if(w.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(gi,hr),hr|=u;else{if((u&1073741824)===0)return r=A!==null?A.baseLanes|u:u,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:r,cachePool:null,transitions:null},n.updateQueue=null,Qe(gi,hr),hr|=r,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:u,Qe(gi,hr),hr|=w}else A!==null?(w=A.baseLanes|u,n.memoizedState=null):w=u,Qe(gi,hr),hr|=w;return Yt(r,n,P,u),n.child}function jg(r,n){var u=n.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(n.flags|=512,n.flags|=2097152)}function cd(r,n,u,w,P){var A=Zt(u)?Sn:Ht.current;return A=oi(n,A),hi(n,P),u=Zu(r,n,u,w,A,P),w=ed(),r!==null&&!er?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~P,bs(r,n,P)):(rt&&w&&Ou(n),n.flags|=1,Yt(r,n,u,P),n.child)}function Pg(r,n,u,w,P){if(Zt(u)){var A=!0;Ga(n)}else A=!1;if(hi(n,P),n.stateNode===null)dl(r,n),gg(n,u,w),od(n,u,w,P),w=!0;else if(r===null){var I=n.stateNode,X=n.memoizedProps;I.props=X;var Q=I.context,ae=u.contextType;typeof ae=="object"&&ae!==null?ae=kr(ae):(ae=Zt(u)?Sn:Ht.current,ae=oi(n,ae));var fe=u.getDerivedStateFromProps,me=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function";me||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==w||Q!==ae)&&vg(n,I,w,ae),Ys=!1;var de=n.memoizedState;I.state=de,rl(n,w,I,P),Q=n.memoizedState,X!==w||de!==Q||Qt.current||Ys?(typeof fe=="function"&&(id(n,u,fe,w),Q=n.memoizedState),(X=Ys||mg(n,u,X,w,de,Q,ae))?(me||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(n.flags|=4194308)):(typeof I.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=w,n.memoizedState=Q),I.props=w,I.state=Q,I.context=ae,w=X):(typeof I.componentDidMount=="function"&&(n.flags|=4194308),w=!1)}else{I=n.stateNode,Um(r,n),X=n.memoizedProps,ae=n.type===n.elementType?X:$r(n.type,X),I.props=ae,me=n.pendingProps,de=I.context,Q=u.contextType,typeof Q=="object"&&Q!==null?Q=kr(Q):(Q=Zt(u)?Sn:Ht.current,Q=oi(n,Q));var _e=u.getDerivedStateFromProps;(fe=typeof _e=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==me||de!==Q)&&vg(n,I,w,Q),Ys=!1,de=n.memoizedState,I.state=de,rl(n,w,I,P);var we=n.memoizedState;X!==me||de!==we||Qt.current||Ys?(typeof _e=="function"&&(id(n,u,_e,w),we=n.memoizedState),(ae=Ys||mg(n,u,ae,w,de,we,Q)||!1)?(fe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(w,we,Q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(w,we,Q)),typeof I.componentDidUpdate=="function"&&(n.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof I.componentDidUpdate!="function"||X===r.memoizedProps&&de===r.memoizedState||(n.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&de===r.memoizedState||(n.flags|=1024),n.memoizedProps=w,n.memoizedState=we),I.props=w,I.state=we,I.context=Q,w=ae):(typeof I.componentDidUpdate!="function"||X===r.memoizedProps&&de===r.memoizedState||(n.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&de===r.memoizedState||(n.flags|=1024),w=!1)}return ud(r,n,u,w,A,P)}function ud(r,n,u,w,P,A){jg(r,n);var I=(n.flags&128)!==0;if(!w&&!I)return P&&Mm(n,u,!1),bs(r,n,A);w=n.stateNode,XC.current=n;var X=I&&typeof u.getDerivedStateFromError!="function"?null:w.render();return n.flags|=1,r!==null&&I?(n.child=ui(n,r.child,null,A),n.child=ui(n,null,X,A)):Yt(r,n,X,A),n.memoizedState=w.state,P&&Mm(n,u,!0),n.child}function Rg(r){var n=r.stateNode;n.pendingContext?Nm(r,n.pendingContext,n.pendingContext!==n.context):n.context&&Nm(r,n.context,!1),Gu(r,n.containerInfo)}function Tg(r,n,u,w,P){return ci(),Hu(P),n.flags|=256,Yt(r,n,u,w),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function hd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ng(r,n,u){var w=n.pendingProps,P=nt.current,A=!1,I=(n.flags&128)!==0,X;if((X=I)||(X=r!==null&&r.memoizedState===null?!1:(P&2)!==0),X?(A=!0,n.flags&=-129):(r===null||r.memoizedState!==null)&&(P|=1),Qe(nt,P&1),r===null)return Fu(n),r=n.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((n.mode&1)===0?n.lanes=1:r.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(I=w.children,r=w.fallback,A?(w=n.mode,A=n.child,I={mode:"hidden",children:I},(w&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=bl(I,w,0,null),r=An(r,w,u,null),A.return=n,r.return=n,A.sibling=r,n.child=A,n.child.memoizedState=hd(u),n.memoizedState=dd,r):fd(n,I));if(P=r.memoizedState,P!==null&&(X=P.dehydrated,X!==null))return JC(r,n,I,w,X,P,u);if(A){A=w.fallback,I=n.mode,P=r.child,X=P.sibling;var Q={mode:"hidden",children:w.children};return(I&1)===0&&n.child!==P?(w=n.child,w.childLanes=0,w.pendingProps=Q,n.deletions=null):(w=rn(P,Q),w.subtreeFlags=P.subtreeFlags&14680064),X!==null?A=rn(X,A):(A=An(A,I,u,null),A.flags|=2),A.return=n,w.return=n,w.sibling=A,n.child=w,w=A,A=n.child,I=r.child.memoizedState,I=I===null?hd(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=r.childLanes&~u,n.memoizedState=dd,w}return A=r.child,r=A.sibling,w=rn(A,{mode:"visible",children:w.children}),(n.mode&1)===0&&(w.lanes=u),w.return=n,w.sibling=null,r!==null&&(u=n.deletions,u===null?(n.deletions=[r],n.flags|=16):u.push(r)),n.child=w,n.memoizedState=null,w}function fd(r,n){return n=bl({mode:"visible",children:n},r.mode,0,null),n.return=r,r.child=n}function ul(r,n,u,w){return w!==null&&Hu(w),ui(n,r.child,null,u),r=fd(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function JC(r,n,u,w,P,A,I){if(u)return n.flags&256?(n.flags&=-257,w=ad(Error(s(422))),ul(r,n,I,w)):n.memoizedState!==null?(n.child=r.child,n.flags|=128,null):(A=w.fallback,P=n.mode,w=bl({mode:"visible",children:w.children},P,0,null),A=An(A,P,I,null),A.flags|=2,w.return=n,A.return=n,w.sibling=A,n.child=w,(n.mode&1)!==0&&ui(n,r.child,null,I),n.child.memoizedState=hd(I),n.memoizedState=dd,A);if((n.mode&1)===0)return ul(r,n,I,null);if(P.data==="$!"){if(w=P.nextSibling&&P.nextSibling.dataset,w)var X=w.dgst;return w=X,A=Error(s(419)),w=ad(A,w,void 0),ul(r,n,I,w)}if(X=(I&r.childLanes)!==0,er||X){if(w=Pt,w!==null){switch(I&-I){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(w.suspendedLanes|I))!==0?0:P,P!==0&&P!==A.retryLane&&(A.retryLane=P,ws(r,P),Ur(w,r,P,-1))}return Rd(),w=ad(Error(s(421))),ul(r,n,I,w)}return P.data==="$?"?(n.flags|=128,n.child=r.child,n=u2.bind(null,r),P._reactRetry=n,null):(r=A.treeContext,dr=Ws(P.nextSibling),ur=n,rt=!0,Hr=null,r!==null&&(Cr[Er++]=_s,Cr[Er++]=xs,Cr[Er++]=bn,_s=r.id,xs=r.overflow,bn=n),n=fd(n,w.children),n.flags|=4096,n)}function Ag(r,n,u){r.lanes|=n;var w=r.alternate;w!==null&&(w.lanes|=n),Uu(r.return,n,u)}function pd(r,n,u,w,P){var A=r.memoizedState;A===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:w,tail:u,tailMode:P}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=u,A.tailMode=P)}function Mg(r,n,u){var w=n.pendingProps,P=w.revealOrder,A=w.tail;if(Yt(r,n,w.children,u),w=nt.current,(w&2)!==0)w=w&1|2,n.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ag(r,u,n);else if(r.tag===19)Ag(r,u,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}w&=1}if(Qe(nt,w),(n.mode&1)===0)n.memoizedState=null;else switch(P){case"forwards":for(u=n.child,P=null;u!==null;)r=u.alternate,r!==null&&sl(r)===null&&(P=u),u=u.sibling;u=P,u===null?(P=n.child,n.child=null):(P=u.sibling,u.sibling=null),pd(n,!1,P,u,A);break;case"backwards":for(u=null,P=n.child,n.child=null;P!==null;){if(r=P.alternate,r!==null&&sl(r)===null){n.child=P;break}r=P.sibling,P.sibling=u,u=P,P=r}pd(n,!0,u,null,A);break;case"together":pd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function dl(r,n){(n.mode&1)===0&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=2)}function bs(r,n,u){if(r!==null&&(n.dependencies=r.dependencies),Pn|=n.lanes,(u&n.childLanes)===0)return null;if(r!==null&&n.child!==r.child)throw Error(s(153));if(n.child!==null){for(r=n.child,u=rn(r,r.pendingProps),n.child=u,u.return=n;r.sibling!==null;)r=r.sibling,u=u.sibling=rn(r,r.pendingProps),u.return=n;u.sibling=null}return n.child}function QC(r,n,u){switch(n.tag){case 3:Rg(n),ci();break;case 5:Gm(n);break;case 1:Zt(n.type)&&Ga(n);break;case 4:Gu(n,n.stateNode.containerInfo);break;case 10:var w=n.type._context,P=n.memoizedProps.value;Qe(Za,w._currentValue),w._currentValue=P;break;case 13:if(w=n.memoizedState,w!==null)return w.dehydrated!==null?(Qe(nt,nt.current&1),n.flags|=128,null):(u&n.child.childLanes)!==0?Ng(r,n,u):(Qe(nt,nt.current&1),r=bs(r,n,u),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(w=(u&n.childLanes)!==0,(r.flags&128)!==0){if(w)return Mg(r,n,u);n.flags|=128}if(P=n.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Qe(nt,nt.current),w)break;return null;case 22:case 23:return n.lanes=0,kg(r,n,u)}return bs(r,n,u)}var Dg,md,Lg,Og;Dg=function(r,n){for(var u=n.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},md=function(){},Lg=function(r,n,u,w){var P=r.memoizedProps;if(P!==w){r=n.stateNode,kn(ts.current);var A=null;switch(u){case"input":P=Ie(r,P),w=Ie(r,w),A=[];break;case"select":P=B({},P,{value:void 0}),w=B({},w,{value:void 0}),A=[];break;case"textarea":P=Xe(r,P),w=Xe(r,w),A=[];break;default:typeof P.onClick!="function"&&typeof w.onClick=="function"&&(r.onclick=Ua)}Xn(u,w);var I;u=null;for(ae in P)if(!w.hasOwnProperty(ae)&&P.hasOwnProperty(ae)&&P[ae]!=null)if(ae==="style"){var X=P[ae];for(I in X)X.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(l.hasOwnProperty(ae)?A||(A=[]):(A=A||[]).push(ae,null));for(ae in w){var Q=w[ae];if(X=P!=null?P[ae]:void 0,w.hasOwnProperty(ae)&&Q!==X&&(Q!=null||X!=null))if(ae==="style")if(X){for(I in X)!X.hasOwnProperty(I)||Q&&Q.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in Q)Q.hasOwnProperty(I)&&X[I]!==Q[I]&&(u||(u={}),u[I]=Q[I])}else u||(A||(A=[]),A.push(ae,u)),u=Q;else ae==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,X=X?X.__html:void 0,Q!=null&&X!==Q&&(A=A||[]).push(ae,Q)):ae==="children"?typeof Q!="string"&&typeof Q!="number"||(A=A||[]).push(ae,""+Q):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(l.hasOwnProperty(ae)?(Q!=null&&ae==="onScroll"&&Ze("scroll",r),A||X===Q||(A=[])):(A=A||[]).push(ae,Q))}u&&(A=A||[]).push("style",u);var ae=A;(n.updateQueue=ae)&&(n.flags|=4)}},Og=function(r,n,u,w){u!==w&&(n.flags|=4)};function jo(r,n){if(!rt)switch(r.tailMode){case"hidden":n=r.tail;for(var u=null;n!==null;)n.alternate!==null&&(u=n),n=n.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var w=null;u!==null;)u.alternate!==null&&(w=u),u=u.sibling;w===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:w.sibling=null}}function Vt(r){var n=r.alternate!==null&&r.alternate.child===r.child,u=0,w=0;if(n)for(var P=r.child;P!==null;)u|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=r,P=P.sibling;else for(P=r.child;P!==null;)u|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=r,P=P.sibling;return r.subtreeFlags|=w,r.childLanes=u,n}function ZC(r,n,u){var w=n.pendingProps;switch(Iu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return Zt(n.type)&&Ka(),Vt(n),null;case 3:return w=n.stateNode,fi(),et(Qt),et(Ht),Xu(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(r===null||r.child===null)&&(Ja(n)?n.flags|=4:r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hr!==null&&(kd(Hr),Hr=null))),md(r,n),Vt(n),null;case 5:qu(n);var P=kn(So.current);if(u=n.type,r!==null&&n.stateNode!=null)Lg(r,n,u,w,P),r.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!w){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}if(r=kn(ts.current),Ja(n)){w=n.stateNode,u=n.type;var A=n.memoizedProps;switch(w[es]=n,w[vo]=A,r=(n.mode&1)!==0,u){case"dialog":Ze("cancel",w),Ze("close",w);break;case"iframe":case"object":case"embed":Ze("load",w);break;case"video":case"audio":for(P=0;P<po.length;P++)Ze(po[P],w);break;case"source":Ze("error",w);break;case"img":case"image":case"link":Ze("error",w),Ze("load",w);break;case"details":Ze("toggle",w);break;case"input":ze(w,A),Ze("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},Ze("invalid",w);break;case"textarea":at(w,A),Ze("invalid",w)}Xn(u,A),P=null;for(var I in A)if(A.hasOwnProperty(I)){var X=A[I];I==="children"?typeof X=="string"?w.textContent!==X&&(A.suppressHydrationWarning!==!0&&za(w.textContent,X,r),P=["children",X]):typeof X=="number"&&w.textContent!==""+X&&(A.suppressHydrationWarning!==!0&&za(w.textContent,X,r),P=["children",""+X]):l.hasOwnProperty(I)&&X!=null&&I==="onScroll"&&Ze("scroll",w)}switch(u){case"input":ce(w),Me(w,A,!0);break;case"textarea":ce(w),qt(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Ua)}w=P,n.updateQueue=w,w!==null&&(n.flags|=4)}else{I=P.nodeType===9?P:P.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ar(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof w.is=="string"?r=I.createElement(u,{is:w.is}):(r=I.createElement(u),u==="select"&&(I=r,w.multiple?I.multiple=!0:w.size&&(I.size=w.size))):r=I.createElementNS(r,u),r[es]=n,r[vo]=w,Dg(r,n,!1,!1),n.stateNode=r;e:{switch(I=Yi(u,w),u){case"dialog":Ze("cancel",r),Ze("close",r),P=w;break;case"iframe":case"object":case"embed":Ze("load",r),P=w;break;case"video":case"audio":for(P=0;P<po.length;P++)Ze(po[P],r);P=w;break;case"source":Ze("error",r),P=w;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),P=w;break;case"details":Ze("toggle",r),P=w;break;case"input":ze(r,w),P=Ie(r,w),Ze("invalid",r);break;case"option":P=w;break;case"select":r._wrapperState={wasMultiple:!!w.multiple},P=B({},w,{value:void 0}),Ze("invalid",r);break;case"textarea":at(r,w),P=Xe(r,w),Ze("invalid",r);break;default:P=w}Xn(u,P),X=P;for(A in X)if(X.hasOwnProperty(A)){var Q=X[A];A==="style"?ba(r,Q):A==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Ir(r,Q)):A==="children"?typeof Q=="string"?(u!=="textarea"||Q!=="")&&dt(r,Q):typeof Q=="number"&&dt(r,""+Q):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?Q!=null&&A==="onScroll"&&Ze("scroll",r):Q!=null&&_(r,A,Q,I))}switch(u){case"input":ce(r),Me(r,w,!1);break;case"textarea":ce(r),qt(r);break;case"option":w.value!=null&&r.setAttribute("value",""+O(w.value));break;case"select":r.multiple=!!w.multiple,A=w.value,A!=null?Et(r,!!w.multiple,A,!1):w.defaultValue!=null&&Et(r,!!w.multiple,w.defaultValue,!0);break;default:typeof P.onClick=="function"&&(r.onclick=Ua)}switch(u){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Vt(n),null;case 6:if(r&&n.stateNode!=null)Og(r,n,r.memoizedProps,w);else{if(typeof w!="string"&&n.stateNode===null)throw Error(s(166));if(u=kn(So.current),kn(ts.current),Ja(n)){if(w=n.stateNode,u=n.memoizedProps,w[es]=n,(A=w.nodeValue!==u)&&(r=ur,r!==null))switch(r.tag){case 3:za(w.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&za(w.nodeValue,u,(r.mode&1)!==0)}A&&(n.flags|=4)}else w=(u.nodeType===9?u:u.ownerDocument).createTextNode(w),w[es]=n,n.stateNode=w}return Vt(n),null;case 13:if(et(nt),w=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Fm(),ci(),n.flags|=98560,A=!1;else if(A=Ja(n),w!==null&&w.dehydrated!==null){if(r===null){if(!A)throw Error(s(318));if(A=n.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[es]=n}else ci(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),A=!1}else Hr!==null&&(kd(Hr),Hr=null),A=!0;if(!A)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=u,n):(w=w!==null,w!==(r!==null&&r.memoizedState!==null)&&w&&(n.child.flags|=8192,(n.mode&1)!==0&&(r===null||(nt.current&1)!==0?wt===0&&(wt=3):Rd())),n.updateQueue!==null&&(n.flags|=4),Vt(n),null);case 4:return fi(),md(r,n),r===null&&mo(n.stateNode.containerInfo),Vt(n),null;case 10:return zu(n.type._context),Vt(n),null;case 17:return Zt(n.type)&&Ka(),Vt(n),null;case 19:if(et(nt),A=n.memoizedState,A===null)return Vt(n),null;if(w=(n.flags&128)!==0,I=A.rendering,I===null)if(w)jo(A,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(I=sl(r),I!==null){for(n.flags|=128,jo(A,!1),w=I.updateQueue,w!==null&&(n.updateQueue=w,n.flags|=4),n.subtreeFlags=0,w=u,u=n.child;u!==null;)A=u,r=w,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=r,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,r=I.dependencies,A.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Qe(nt,nt.current&1|2),n.child}r=r.sibling}A.tail!==null&&ft()>vi&&(n.flags|=128,w=!0,jo(A,!1),n.lanes=4194304)}else{if(!w)if(r=sl(I),r!==null){if(n.flags|=128,w=!0,u=r.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),jo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!rt)return Vt(n),null}else 2*ft()-A.renderingStartTime>vi&&u!==1073741824&&(n.flags|=128,w=!0,jo(A,!1),n.lanes=4194304);A.isBackwards?(I.sibling=n.child,n.child=I):(u=A.last,u!==null?u.sibling=I:n.child=I,A.last=I)}return A.tail!==null?(n=A.tail,A.rendering=n,A.tail=n.sibling,A.renderingStartTime=ft(),n.sibling=null,u=nt.current,Qe(nt,w?u&1|2:u&1),n):(Vt(n),null);case 22:case 23:return Pd(),w=n.memoizedState!==null,r!==null&&r.memoizedState!==null!==w&&(n.flags|=8192),w&&(n.mode&1)!==0?(hr&1073741824)!==0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function e2(r,n){switch(Iu(n),n.tag){case 1:return Zt(n.type)&&Ka(),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return fi(),et(Qt),et(Ht),Xu(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 5:return qu(n),null;case 13:if(et(nt),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ci()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return et(nt),null;case 4:return fi(),null;case 10:return zu(n.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var hl=!1,zt=!1,t2=typeof WeakSet=="function"?WeakSet:Set,xe=null;function mi(r,n){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(w){lt(r,n,w)}else u.current=null}function gd(r,n,u){try{u()}catch(w){lt(r,n,w)}}var Ig=!1;function r2(r,n){if(Pu=Aa,r=mm(),xu(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var w=u.getSelection&&u.getSelection();if(w&&w.rangeCount!==0){u=w.anchorNode;var P=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{u.nodeType,A.nodeType}catch{u=null;break e}var I=0,X=-1,Q=-1,ae=0,fe=0,me=r,de=null;t:for(;;){for(var _e;me!==u||P!==0&&me.nodeType!==3||(X=I+P),me!==A||w!==0&&me.nodeType!==3||(Q=I+w),me.nodeType===3&&(I+=me.nodeValue.length),(_e=me.firstChild)!==null;)de=me,me=_e;for(;;){if(me===r)break t;if(de===u&&++ae===P&&(X=I),de===A&&++fe===w&&(Q=I),(_e=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=_e}u=X===-1||Q===-1?null:{start:X,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ru={focusedElem:r,selectionRange:u},Aa=!1,xe=n;xe!==null;)if(n=xe,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,xe=r;else for(;xe!==null;){n=xe;try{var we=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ce=we.memoizedProps,pt=we.memoizedState,ie=n.stateNode,te=ie.getSnapshotBeforeUpdate(n.elementType===n.type?Ce:$r(n.type,Ce),pt);ie.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=n.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ge){lt(n,n.return,ge)}if(r=n.sibling,r!==null){r.return=n.return,xe=r;break}xe=n.return}return we=Ig,Ig=!1,we}function Po(r,n,u){var w=n.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&r)===r){var A=P.destroy;P.destroy=void 0,A!==void 0&&gd(n,u,A)}P=P.next}while(P!==w)}}function fl(r,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var u=n=n.next;do{if((u.tag&r)===r){var w=u.create;u.destroy=w()}u=u.next}while(u!==n)}}function vd(r){var n=r.ref;if(n!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof n=="function"?n(r):n.current=r}}function Bg(r){var n=r.alternate;n!==null&&(r.alternate=null,Bg(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&(delete n[es],delete n[vo],delete n[Mu],delete n[BC],delete n[FC])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fg(r){return r.tag===5||r.tag===3||r.tag===4}function Hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yd(r,n,u){var w=r.tag;if(w===5||w===6)r=r.stateNode,n?u.nodeType===8?u.parentNode.insertBefore(r,n):u.insertBefore(r,n):(u.nodeType===8?(n=u.parentNode,n.insertBefore(r,u)):(n=u,n.appendChild(r)),u=u._reactRootContainer,u!=null||n.onclick!==null||(n.onclick=Ua));else if(w!==4&&(r=r.child,r!==null))for(yd(r,n,u),r=r.sibling;r!==null;)yd(r,n,u),r=r.sibling}function _d(r,n,u){var w=r.tag;if(w===5||w===6)r=r.stateNode,n?u.insertBefore(r,n):u.appendChild(r);else if(w!==4&&(r=r.child,r!==null))for(_d(r,n,u),r=r.sibling;r!==null;)_d(r,n,u),r=r.sibling}var Mt=null,Vr=!1;function Js(r,n,u){for(u=u.child;u!==null;)$g(r,n,u),u=u.sibling}function $g(r,n,u){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(ka,u)}catch{}switch(u.tag){case 5:zt||mi(u,n);case 6:var w=Mt,P=Vr;Mt=null,Js(r,n,u),Mt=w,Vr=P,Mt!==null&&(Vr?(r=Mt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(Vr?(r=Mt,u=u.stateNode,r.nodeType===8?Au(r.parentNode,u):r.nodeType===1&&Au(r,u),io(r)):Au(Mt,u.stateNode));break;case 4:w=Mt,P=Vr,Mt=u.stateNode.containerInfo,Vr=!0,Js(r,n,u),Mt=w,Vr=P;break;case 0:case 11:case 14:case 15:if(!zt&&(w=u.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){P=w=w.next;do{var A=P,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&gd(u,n,I),P=P.next}while(P!==w)}Js(r,n,u);break;case 1:if(!zt&&(mi(u,n),w=u.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=u.memoizedProps,w.state=u.memoizedState,w.componentWillUnmount()}catch(X){lt(u,n,X)}Js(r,n,u);break;case 21:Js(r,n,u);break;case 22:u.mode&1?(zt=(w=zt)||u.memoizedState!==null,Js(r,n,u),zt=w):Js(r,n,u);break;default:Js(r,n,u)}}function Vg(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new t2),n.forEach(function(w){var P=d2.bind(null,r,w);u.has(w)||(u.add(w),w.then(P,P))})}}function zr(r,n){var u=n.deletions;if(u!==null)for(var w=0;w<u.length;w++){var P=u[w];try{var A=r,I=n,X=I;e:for(;X!==null;){switch(X.tag){case 5:Mt=X.stateNode,Vr=!1;break e;case 3:Mt=X.stateNode.containerInfo,Vr=!0;break e;case 4:Mt=X.stateNode.containerInfo,Vr=!0;break e}X=X.return}if(Mt===null)throw Error(s(160));$g(A,I,P),Mt=null,Vr=!1;var Q=P.alternate;Q!==null&&(Q.return=null),P.return=null}catch(ae){lt(P,n,ae)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zg(n,r),n=n.sibling}function zg(r,n){var u=r.alternate,w=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zr(n,r),ss(r),w&4){try{Po(3,r,r.return),fl(3,r)}catch(Ce){lt(r,r.return,Ce)}try{Po(5,r,r.return)}catch(Ce){lt(r,r.return,Ce)}}break;case 1:zr(n,r),ss(r),w&512&&u!==null&&mi(u,u.return);break;case 5:if(zr(n,r),ss(r),w&512&&u!==null&&mi(u,u.return),r.flags&32){var P=r.stateNode;try{dt(P,"")}catch(Ce){lt(r,r.return,Ce)}}if(w&4&&(P=r.stateNode,P!=null)){var A=r.memoizedProps,I=u!==null?u.memoizedProps:A,X=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{X==="input"&&A.type==="radio"&&A.name!=null&&Ye(P,A),Yi(X,I);var ae=Yi(X,A);for(I=0;I<Q.length;I+=2){var fe=Q[I],me=Q[I+1];fe==="style"?ba(P,me):fe==="dangerouslySetInnerHTML"?Ir(P,me):fe==="children"?dt(P,me):_(P,fe,me,ae)}switch(X){case"input":he(P,A);break;case"textarea":Qr(P,A);break;case"select":var de=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!A.multiple;var _e=A.value;_e!=null?Et(P,!!A.multiple,_e,!1):de!==!!A.multiple&&(A.defaultValue!=null?Et(P,!!A.multiple,A.defaultValue,!0):Et(P,!!A.multiple,A.multiple?[]:"",!1))}P[vo]=A}catch(Ce){lt(r,r.return,Ce)}}break;case 6:if(zr(n,r),ss(r),w&4){if(r.stateNode===null)throw Error(s(162));P=r.stateNode,A=r.memoizedProps;try{P.nodeValue=A}catch(Ce){lt(r,r.return,Ce)}}break;case 3:if(zr(n,r),ss(r),w&4&&u!==null&&u.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(Ce){lt(r,r.return,Ce)}break;case 4:zr(n,r),ss(r);break;case 13:zr(n,r),ss(r),P=r.child,P.flags&8192&&(A=P.memoizedState!==null,P.stateNode.isHidden=A,!A||P.alternate!==null&&P.alternate.memoizedState!==null||(Sd=ft())),w&4&&Vg(r);break;case 22:if(fe=u!==null&&u.memoizedState!==null,r.mode&1?(zt=(ae=zt)||fe,zr(n,r),zt=ae):zr(n,r),ss(r),w&8192){if(ae=r.memoizedState!==null,(r.stateNode.isHidden=ae)&&!fe&&(r.mode&1)!==0)for(xe=r,fe=r.child;fe!==null;){for(me=xe=fe;xe!==null;){switch(de=xe,_e=de.child,de.tag){case 0:case 11:case 14:case 15:Po(4,de,de.return);break;case 1:mi(de,de.return);var we=de.stateNode;if(typeof we.componentWillUnmount=="function"){w=de,u=de.return;try{n=w,we.props=n.memoizedProps,we.state=n.memoizedState,we.componentWillUnmount()}catch(Ce){lt(w,u,Ce)}}break;case 5:mi(de,de.return);break;case 22:if(de.memoizedState!==null){Kg(me);continue}}_e!==null?(_e.return=de,xe=_e):Kg(me)}fe=fe.sibling}e:for(fe=null,me=r;;){if(me.tag===5){if(fe===null){fe=me;try{P=me.stateNode,ae?(A=P.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(X=me.stateNode,Q=me.memoizedProps.style,I=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,X.style.display=Yn("display",I))}catch(Ce){lt(r,r.return,Ce)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=ae?"":me.memoizedProps}catch(Ce){lt(r,r.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:zr(n,r),ss(r),w&4&&Vg(r);break;case 21:break;default:zr(n,r),ss(r)}}function ss(r){var n=r.flags;if(n&2){try{e:{for(var u=r.return;u!==null;){if(Fg(u)){var w=u;break e}u=u.return}throw Error(s(160))}switch(w.tag){case 5:var P=w.stateNode;w.flags&32&&(dt(P,""),w.flags&=-33);var A=Hg(r);_d(r,A,P);break;case 3:case 4:var I=w.stateNode.containerInfo,X=Hg(r);yd(r,X,I);break;default:throw Error(s(161))}}catch(Q){lt(r,r.return,Q)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function s2(r,n,u){xe=r,Ug(r)}function Ug(r,n,u){for(var w=(r.mode&1)!==0;xe!==null;){var P=xe,A=P.child;if(P.tag===22&&w){var I=P.memoizedState!==null||hl;if(!I){var X=P.alternate,Q=X!==null&&X.memoizedState!==null||zt;X=hl;var ae=zt;if(hl=I,(zt=Q)&&!ae)for(xe=P;xe!==null;)I=xe,Q=I.child,I.tag===22&&I.memoizedState!==null?Gg(P):Q!==null?(Q.return=I,xe=Q):Gg(P);for(;A!==null;)xe=A,Ug(A),A=A.sibling;xe=P,hl=X,zt=ae}Wg(r)}else(P.subtreeFlags&8772)!==0&&A!==null?(A.return=P,xe=A):Wg(r)}}function Wg(r){for(;xe!==null;){var n=xe;if((n.flags&8772)!==0){var u=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:zt||fl(5,n);break;case 1:var w=n.stateNode;if(n.flags&4&&!zt)if(u===null)w.componentDidMount();else{var P=n.elementType===n.type?u.memoizedProps:$r(n.type,u.memoizedProps);w.componentDidUpdate(P,u.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=n.updateQueue;A!==null&&Km(n,A,w);break;case 3:var I=n.updateQueue;if(I!==null){if(u=null,n.child!==null)switch(n.child.tag){case 5:u=n.child.stateNode;break;case 1:u=n.child.stateNode}Km(n,I,u)}break;case 5:var X=n.stateNode;if(u===null&&n.flags&4){u=X;var Q=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&u.focus();break;case"img":Q.src&&(u.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ae=n.alternate;if(ae!==null){var fe=ae.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&io(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}zt||n.flags&512&&vd(n)}catch(de){lt(n,n.return,de)}}if(n===r){xe=null;break}if(u=n.sibling,u!==null){u.return=n.return,xe=u;break}xe=n.return}}function Kg(r){for(;xe!==null;){var n=xe;if(n===r){xe=null;break}var u=n.sibling;if(u!==null){u.return=n.return,xe=u;break}xe=n.return}}function Gg(r){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var u=n.return;try{fl(4,n)}catch(Q){lt(n,u,Q)}break;case 1:var w=n.stateNode;if(typeof w.componentDidMount=="function"){var P=n.return;try{w.componentDidMount()}catch(Q){lt(n,P,Q)}}var A=n.return;try{vd(n)}catch(Q){lt(n,A,Q)}break;case 5:var I=n.return;try{vd(n)}catch(Q){lt(n,I,Q)}}}catch(Q){lt(n,n.return,Q)}if(n===r){xe=null;break}var X=n.sibling;if(X!==null){X.return=n.return,xe=X;break}xe=n.return}}var n2=Math.ceil,pl=E.ReactCurrentDispatcher,xd=E.ReactCurrentOwner,Pr=E.ReactCurrentBatchConfig,Ue=0,Pt=null,vt=null,Dt=0,hr=0,gi=Ks(0),wt=0,Ro=null,Pn=0,ml=0,wd=0,To=null,tr=null,Sd=0,vi=1/0,Cs=null,gl=!1,bd=null,Qs=null,vl=!1,Zs=null,yl=0,No=0,Cd=null,_l=-1,xl=0;function Xt(){return(Ue&6)!==0?ft():_l!==-1?_l:_l=ft()}function en(r){return(r.mode&1)===0?1:(Ue&2)!==0&&Dt!==0?Dt&-Dt:$C.transition!==null?(xl===0&&(xl=Hp()),xl):(r=Je,r!==0||(r=window.event,r=r===void 0?16:Yp(r.type)),r)}function Ur(r,n,u,w){if(50<No)throw No=0,Cd=null,Error(s(185));eo(r,u,w),((Ue&2)===0||r!==Pt)&&(r===Pt&&((Ue&2)===0&&(ml|=u),wt===4&&tn(r,Dt)),rr(r,w),u===1&&Ue===0&&(n.mode&1)===0&&(vi=ft()+500,qa&&qs()))}function rr(r,n){var u=r.callbackNode;$1(r,n);var w=Ra(r,r===Pt?Dt:0);if(w===0)u!==null&&Ip(u),r.callbackNode=null,r.callbackPriority=0;else if(n=w&-w,r.callbackPriority!==n){if(u!=null&&Ip(u),n===1)r.tag===0?HC(Yg.bind(null,r)):Dm(Yg.bind(null,r)),OC(function(){(Ue&6)===0&&qs()}),u=null;else{switch($p(w)){case 1:u=su;break;case 4:u=Bp;break;case 16:u=Ea;break;case 536870912:u=Fp;break;default:u=Ea}u=sv(u,qg.bind(null,r))}r.callbackPriority=n,r.callbackNode=u}}function qg(r,n){if(_l=-1,xl=0,(Ue&6)!==0)throw Error(s(327));var u=r.callbackNode;if(yi()&&r.callbackNode!==u)return null;var w=Ra(r,r===Pt?Dt:0);if(w===0)return null;if((w&30)!==0||(w&r.expiredLanes)!==0||n)n=wl(r,w);else{n=w;var P=Ue;Ue|=2;var A=Jg();(Pt!==r||Dt!==n)&&(Cs=null,vi=ft()+500,Tn(r,n));do try{a2();break}catch(X){Xg(r,X)}while(!0);Vu(),pl.current=A,Ue=P,vt!==null?n=0:(Pt=null,Dt=0,n=wt)}if(n!==0){if(n===2&&(P=nu(r),P!==0&&(w=P,n=Ed(r,P))),n===1)throw u=Ro,Tn(r,0),tn(r,w),rr(r,ft()),u;if(n===6)tn(r,w);else{if(P=r.current.alternate,(w&30)===0&&!i2(P)&&(n=wl(r,w),n===2&&(A=nu(r),A!==0&&(w=A,n=Ed(r,A))),n===1))throw u=Ro,Tn(r,0),tn(r,w),rr(r,ft()),u;switch(r.finishedWork=P,r.finishedLanes=w,n){case 0:case 1:throw Error(s(345));case 2:Nn(r,tr,Cs);break;case 3:if(tn(r,w),(w&130023424)===w&&(n=Sd+500-ft(),10<n)){if(Ra(r,0)!==0)break;if(P=r.suspendedLanes,(P&w)!==w){Xt(),r.pingedLanes|=r.suspendedLanes&P;break}r.timeoutHandle=Nu(Nn.bind(null,r,tr,Cs),n);break}Nn(r,tr,Cs);break;case 4:if(tn(r,w),(w&4194240)===w)break;for(n=r.eventTimes,P=-1;0<w;){var I=31-Br(w);A=1<<I,I=n[I],I>P&&(P=I),w&=~A}if(w=P,w=ft()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*n2(w/1960))-w,10<w){r.timeoutHandle=Nu(Nn.bind(null,r,tr,Cs),w);break}Nn(r,tr,Cs);break;case 5:Nn(r,tr,Cs);break;default:throw Error(s(329))}}}return rr(r,ft()),r.callbackNode===u?qg.bind(null,r):null}function Ed(r,n){var u=To;return r.current.memoizedState.isDehydrated&&(Tn(r,n).flags|=256),r=wl(r,n),r!==2&&(n=tr,tr=u,n!==null&&kd(n)),r}function kd(r){tr===null?tr=r:tr.push.apply(tr,r)}function i2(r){for(var n=r;;){if(n.flags&16384){var u=n.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var w=0;w<u.length;w++){var P=u[w],A=P.getSnapshot;P=P.value;try{if(!Fr(A(),P))return!1}catch{return!1}}}if(u=n.child,n.subtreeFlags&16384&&u!==null)u.return=n,n=u;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tn(r,n){for(n&=~wd,n&=~ml,r.suspendedLanes|=n,r.pingedLanes&=~n,r=r.expirationTimes;0<n;){var u=31-Br(n),w=1<<u;r[u]=-1,n&=~w}}function Yg(r){if((Ue&6)!==0)throw Error(s(327));yi();var n=Ra(r,0);if((n&1)===0)return rr(r,ft()),null;var u=wl(r,n);if(r.tag!==0&&u===2){var w=nu(r);w!==0&&(n=w,u=Ed(r,w))}if(u===1)throw u=Ro,Tn(r,0),tn(r,n),rr(r,ft()),u;if(u===6)throw Error(s(345));return r.finishedWork=r.current.alternate,r.finishedLanes=n,Nn(r,tr,Cs),rr(r,ft()),null}function jd(r,n){var u=Ue;Ue|=1;try{return r(n)}finally{Ue=u,Ue===0&&(vi=ft()+500,qa&&qs())}}function Rn(r){Zs!==null&&Zs.tag===0&&(Ue&6)===0&&yi();var n=Ue;Ue|=1;var u=Pr.transition,w=Je;try{if(Pr.transition=null,Je=1,r)return r()}finally{Je=w,Pr.transition=u,Ue=n,(Ue&6)===0&&qs()}}function Pd(){hr=gi.current,et(gi)}function Tn(r,n){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,LC(u)),vt!==null)for(u=vt.return;u!==null;){var w=u;switch(Iu(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ka();break;case 3:fi(),et(Qt),et(Ht),Xu();break;case 5:qu(w);break;case 4:fi();break;case 13:et(nt);break;case 19:et(nt);break;case 10:zu(w.type._context);break;case 22:case 23:Pd()}u=u.return}if(Pt=r,vt=r=rn(r.current,null),Dt=hr=n,wt=0,Ro=null,wd=ml=Pn=0,tr=To=null,En!==null){for(n=0;n<En.length;n++)if(u=En[n],w=u.interleaved,w!==null){u.interleaved=null;var P=w.next,A=u.pending;if(A!==null){var I=A.next;A.next=P,w.next=I}u.pending=w}En=null}return r}function Xg(r,n){do{var u=vt;try{if(Vu(),nl.current=ll,il){for(var w=it.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}il=!1}if(jn=0,jt=xt=it=null,bo=!1,Co=0,xd.current=null,u===null||u.return===null){wt=1,Ro=n,vt=null;break}e:{var A=r,I=u.return,X=u,Q=n;if(n=Dt,X.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ae=Q,fe=X,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var _e=wg(I);if(_e!==null){_e.flags&=-257,Sg(_e,I,X,A,n),_e.mode&1&&xg(A,ae,n),n=_e,Q=ae;var we=n.updateQueue;if(we===null){var Ce=new Set;Ce.add(Q),n.updateQueue=Ce}else we.add(Q);break e}else{if((n&1)===0){xg(A,ae,n),Rd();break e}Q=Error(s(426))}}else if(rt&&X.mode&1){var pt=wg(I);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Sg(pt,I,X,A,n),Hu(pi(Q,X));break e}}A=Q=pi(Q,X),wt!==4&&(wt=2),To===null?To=[A]:To.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,n&=-n,A.lanes|=n;var ie=yg(A,Q,n);Wm(A,ie);break e;case 1:X=Q;var te=A.type,oe=A.stateNode;if((A.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Qs===null||!Qs.has(oe)))){A.flags|=65536,n&=-n,A.lanes|=n;var ge=_g(A,X,n);Wm(A,ge);break e}}A=A.return}while(A!==null)}Zg(u)}catch(je){n=je,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function Jg(){var r=pl.current;return pl.current=ll,r===null?ll:r}function Rd(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||(Pn&268435455)===0&&(ml&268435455)===0||tn(Pt,Dt)}function wl(r,n){var u=Ue;Ue|=2;var w=Jg();(Pt!==r||Dt!==n)&&(Cs=null,Tn(r,n));do try{o2();break}catch(P){Xg(r,P)}while(!0);if(Vu(),Ue=u,pl.current=w,vt!==null)throw Error(s(261));return Pt=null,Dt=0,wt}function o2(){for(;vt!==null;)Qg(vt)}function a2(){for(;vt!==null&&!A1();)Qg(vt)}function Qg(r){var n=rv(r.alternate,r,hr);r.memoizedProps=r.pendingProps,n===null?Zg(r):vt=n,xd.current=null}function Zg(r){var n=r;do{var u=n.alternate;if(r=n.return,(n.flags&32768)===0){if(u=ZC(u,n,hr),u!==null){vt=u;return}}else{if(u=e2(u,n),u!==null){u.flags&=32767,vt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,vt=null;return}}if(n=n.sibling,n!==null){vt=n;return}vt=n=r}while(n!==null);wt===0&&(wt=5)}function Nn(r,n,u){var w=Je,P=Pr.transition;try{Pr.transition=null,Je=1,l2(r,n,u,w)}finally{Pr.transition=P,Je=w}return null}function l2(r,n,u,w){do yi();while(Zs!==null);if((Ue&6)!==0)throw Error(s(327));u=r.finishedWork;var P=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0;var A=u.lanes|u.childLanes;if(V1(r,A),r===Pt&&(vt=Pt=null,Dt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||vl||(vl=!0,sv(Ea,function(){return yi(),null})),A=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||A){A=Pr.transition,Pr.transition=null;var I=Je;Je=1;var X=Ue;Ue|=4,xd.current=null,r2(r,u),zg(u,r),PC(Ru),Aa=!!Pu,Ru=Pu=null,r.current=u,s2(u),M1(),Ue=X,Je=I,Pr.transition=A}else r.current=u;if(vl&&(vl=!1,Zs=r,yl=P),A=r.pendingLanes,A===0&&(Qs=null),O1(u.stateNode),rr(r,ft()),n!==null)for(w=r.onRecoverableError,u=0;u<n.length;u++)P=n[u],w(P.value,{componentStack:P.stack,digest:P.digest});if(gl)throw gl=!1,r=bd,bd=null,r;return(yl&1)!==0&&r.tag!==0&&yi(),A=r.pendingLanes,(A&1)!==0?r===Cd?No++:(No=0,Cd=r):No=0,qs(),null}function yi(){if(Zs!==null){var r=$p(yl),n=Pr.transition,u=Je;try{if(Pr.transition=null,Je=16>r?16:r,Zs===null)var w=!1;else{if(r=Zs,Zs=null,yl=0,(Ue&6)!==0)throw Error(s(331));var P=Ue;for(Ue|=4,xe=r.current;xe!==null;){var A=xe,I=A.child;if((xe.flags&16)!==0){var X=A.deletions;if(X!==null){for(var Q=0;Q<X.length;Q++){var ae=X[Q];for(xe=ae;xe!==null;){var fe=xe;switch(fe.tag){case 0:case 11:case 15:Po(8,fe,A)}var me=fe.child;if(me!==null)me.return=fe,xe=me;else for(;xe!==null;){fe=xe;var de=fe.sibling,_e=fe.return;if(Bg(fe),fe===ae){xe=null;break}if(de!==null){de.return=_e,xe=de;break}xe=_e}}}var we=A.alternate;if(we!==null){var Ce=we.child;if(Ce!==null){we.child=null;do{var pt=Ce.sibling;Ce.sibling=null,Ce=pt}while(Ce!==null)}}xe=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,xe=I;else e:for(;xe!==null;){if(A=xe,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Po(9,A,A.return)}var ie=A.sibling;if(ie!==null){ie.return=A.return,xe=ie;break e}xe=A.return}}var te=r.current;for(xe=te;xe!==null;){I=xe;var oe=I.child;if((I.subtreeFlags&2064)!==0&&oe!==null)oe.return=I,xe=oe;else e:for(I=te;xe!==null;){if(X=xe,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:fl(9,X)}}catch(je){lt(X,X.return,je)}if(X===I){xe=null;break e}var ge=X.sibling;if(ge!==null){ge.return=X.return,xe=ge;break e}xe=X.return}}if(Ue=P,qs(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(ka,r)}catch{}w=!0}return w}finally{Je=u,Pr.transition=n}}return!1}function ev(r,n,u){n=pi(u,n),n=yg(r,n,1),r=Xs(r,n,1),n=Xt(),r!==null&&(eo(r,1,n),rr(r,n))}function lt(r,n,u){if(r.tag===3)ev(r,r,u);else for(;n!==null;){if(n.tag===3){ev(n,r,u);break}else if(n.tag===1){var w=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Qs===null||!Qs.has(w))){r=pi(u,r),r=_g(n,r,1),n=Xs(n,r,1),r=Xt(),n!==null&&(eo(n,1,r),rr(n,r));break}}n=n.return}}function c2(r,n,u){var w=r.pingCache;w!==null&&w.delete(n),n=Xt(),r.pingedLanes|=r.suspendedLanes&u,Pt===r&&(Dt&u)===u&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>ft()-Sd?Tn(r,0):wd|=u),rr(r,n)}function tv(r,n){n===0&&((r.mode&1)===0?n=1:(n=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var u=Xt();r=ws(r,n),r!==null&&(eo(r,n,u),rr(r,u))}function u2(r){var n=r.memoizedState,u=0;n!==null&&(u=n.retryLane),tv(r,u)}function d2(r,n){var u=0;switch(r.tag){case 13:var w=r.stateNode,P=r.memoizedState;P!==null&&(u=P.retryLane);break;case 19:w=r.stateNode;break;default:throw Error(s(314))}w!==null&&w.delete(n),tv(r,u)}var rv;rv=function(r,n,u){if(r!==null)if(r.memoizedProps!==n.pendingProps||Qt.current)er=!0;else{if((r.lanes&u)===0&&(n.flags&128)===0)return er=!1,QC(r,n,u);er=(r.flags&131072)!==0}else er=!1,rt&&(n.flags&1048576)!==0&&Lm(n,Xa,n.index);switch(n.lanes=0,n.tag){case 2:var w=n.type;dl(r,n),r=n.pendingProps;var P=oi(n,Ht.current);hi(n,u),P=Zu(null,n,w,r,P,u);var A=ed();return n.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zt(w)?(A=!0,Ga(n)):A=!1,n.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Ku(n),P.updater=cl,n.stateNode=P,P._reactInternals=n,od(n,w,r,u),n=ud(null,n,w,!0,A,u)):(n.tag=0,rt&&A&&Ou(n),Yt(null,n,P,u),n=n.child),n;case 16:w=n.elementType;e:{switch(dl(r,n),r=n.pendingProps,P=w._init,w=P(w._payload),n.type=w,P=n.tag=f2(w),r=$r(w,r),P){case 0:n=cd(null,n,w,r,u);break e;case 1:n=Pg(null,n,w,r,u);break e;case 11:n=bg(null,n,w,r,u);break e;case 14:n=Cg(null,n,w,$r(w.type,r),u);break e}throw Error(s(306,w,""))}return n;case 0:return w=n.type,P=n.pendingProps,P=n.elementType===w?P:$r(w,P),cd(r,n,w,P,u);case 1:return w=n.type,P=n.pendingProps,P=n.elementType===w?P:$r(w,P),Pg(r,n,w,P,u);case 3:e:{if(Rg(n),r===null)throw Error(s(387));w=n.pendingProps,A=n.memoizedState,P=A.element,Um(r,n),rl(n,w,null,u);var I=n.memoizedState;if(w=I.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){P=pi(Error(s(423)),n),n=Tg(r,n,w,u,P);break e}else if(w!==P){P=pi(Error(s(424)),n),n=Tg(r,n,w,u,P);break e}else for(dr=Ws(n.stateNode.containerInfo.firstChild),ur=n,rt=!0,Hr=null,u=Vm(n,null,w,u),n.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ci(),w===P){n=bs(r,n,u);break e}Yt(r,n,w,u)}n=n.child}return n;case 5:return Gm(n),r===null&&Fu(n),w=n.type,P=n.pendingProps,A=r!==null?r.memoizedProps:null,I=P.children,Tu(w,P)?I=null:A!==null&&Tu(w,A)&&(n.flags|=32),jg(r,n),Yt(r,n,I,u),n.child;case 6:return r===null&&Fu(n),null;case 13:return Ng(r,n,u);case 4:return Gu(n,n.stateNode.containerInfo),w=n.pendingProps,r===null?n.child=ui(n,null,w,u):Yt(r,n,w,u),n.child;case 11:return w=n.type,P=n.pendingProps,P=n.elementType===w?P:$r(w,P),bg(r,n,w,P,u);case 7:return Yt(r,n,n.pendingProps,u),n.child;case 8:return Yt(r,n,n.pendingProps.children,u),n.child;case 12:return Yt(r,n,n.pendingProps.children,u),n.child;case 10:e:{if(w=n.type._context,P=n.pendingProps,A=n.memoizedProps,I=P.value,Qe(Za,w._currentValue),w._currentValue=I,A!==null)if(Fr(A.value,I)){if(A.children===P.children&&!Qt.current){n=bs(r,n,u);break e}}else for(A=n.child,A!==null&&(A.return=n);A!==null;){var X=A.dependencies;if(X!==null){I=A.child;for(var Q=X.firstContext;Q!==null;){if(Q.context===w){if(A.tag===1){Q=Ss(-1,u&-u),Q.tag=2;var ae=A.updateQueue;if(ae!==null){ae=ae.shared;var fe=ae.pending;fe===null?Q.next=Q:(Q.next=fe.next,fe.next=Q),ae.pending=Q}}A.lanes|=u,Q=A.alternate,Q!==null&&(Q.lanes|=u),Uu(A.return,u,n),X.lanes|=u;break}Q=Q.next}}else if(A.tag===10)I=A.type===n.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(s(341));I.lanes|=u,X=I.alternate,X!==null&&(X.lanes|=u),Uu(I,u,n),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===n){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Yt(r,n,P.children,u),n=n.child}return n;case 9:return P=n.type,w=n.pendingProps.children,hi(n,u),P=kr(P),w=w(P),n.flags|=1,Yt(r,n,w,u),n.child;case 14:return w=n.type,P=$r(w,n.pendingProps),P=$r(w.type,P),Cg(r,n,w,P,u);case 15:return Eg(r,n,n.type,n.pendingProps,u);case 17:return w=n.type,P=n.pendingProps,P=n.elementType===w?P:$r(w,P),dl(r,n),n.tag=1,Zt(w)?(r=!0,Ga(n)):r=!1,hi(n,u),gg(n,w,P),od(n,w,P,u),ud(null,n,w,!0,r,u);case 19:return Mg(r,n,u);case 22:return kg(r,n,u)}throw Error(s(156,n.tag))};function sv(r,n){return Op(r,n)}function h2(r,n,u,w){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(r,n,u,w){return new h2(r,n,u,w)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function f2(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===W)return 11;if(r===K)return 14}return 2}function rn(r,n){var u=r.alternate;return u===null?(u=Rr(r.tag,n,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=n,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,n=r.dependencies,u.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Sl(r,n,u,w,P,A){var I=2;if(w=r,typeof r=="function")Td(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case T:return An(u.children,P,A,n);case j:I=8,P|=8;break;case M:return r=Rr(12,u,n,P|2),r.elementType=M,r.lanes=A,r;case $:return r=Rr(13,u,n,P),r.elementType=$,r.lanes=A,r;case Z:return r=Rr(19,u,n,P),r.elementType=Z,r.lanes=A,r;case ee:return bl(u,P,A,n);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:I=10;break e;case H:I=9;break e;case W:I=11;break e;case K:I=14;break e;case G:I=16,w=null;break e}throw Error(s(130,r==null?r:typeof r,""))}return n=Rr(I,u,n,P),n.elementType=r,n.type=w,n.lanes=A,n}function An(r,n,u,w){return r=Rr(7,r,w,n),r.lanes=u,r}function bl(r,n,u,w){return r=Rr(22,r,w,n),r.elementType=ee,r.lanes=u,r.stateNode={isHidden:!1},r}function Nd(r,n,u){return r=Rr(6,r,null,n),r.lanes=u,r}function Ad(r,n,u){return n=Rr(4,r.children!==null?r.children:[],r.key,n),n.lanes=u,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}function p2(r,n,u,w,P){this.tag=n,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=w,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Md(r,n,u,w,P,A,I,X,Q){return r=new p2(r,n,u,X,Q),n===1?(n=1,A===!0&&(n|=8)):n=0,A=Rr(3,null,null,n),r.current=A,A.stateNode=r,A.memoizedState={element:w,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(A),r}function m2(r,n,u){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:w==null?null:""+w,children:r,containerInfo:n,implementation:u}}function nv(r){if(!r)return Gs;r=r._reactInternals;e:{if(xn(r)!==r||r.tag!==1)throw Error(s(170));var n=r;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(r.tag===1){var u=r.type;if(Zt(u))return Am(r,u,n)}return n}function iv(r,n,u,w,P,A,I,X,Q){return r=Md(u,w,!0,r,P,A,I,X,Q),r.context=nv(null),u=r.current,w=Xt(),P=en(u),A=Ss(w,P),A.callback=n??null,Xs(u,A,P),r.current.lanes=P,eo(r,P,w),rr(r,w),r}function Cl(r,n,u,w){var P=n.current,A=Xt(),I=en(P);return u=nv(u),n.context===null?n.context=u:n.pendingContext=u,n=Ss(A,I),n.payload={element:r},w=w===void 0?null:w,w!==null&&(n.callback=w),r=Xs(P,n,I),r!==null&&(Ur(r,P,I,A),tl(r,P,I)),I}function El(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ov(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<n?u:n}}function Dd(r,n){ov(r,n),(r=r.alternate)&&ov(r,n)}function g2(){return null}var av=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ld(r){this._internalRoot=r}kl.prototype.render=Ld.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(s(409));Cl(r,n,null,null)},kl.prototype.unmount=Ld.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;Rn(function(){Cl(null,r,null,null)}),n[vs]=null}};function kl(r){this._internalRoot=r}kl.prototype.unstable_scheduleHydration=function(r){if(r){var n=Up();r={blockedOn:null,target:r,priority:n};for(var u=0;u<Vs.length&&n!==0&&n<Vs[u].priority;u++);Vs.splice(u,0,r),u===0&&Gp(r)}};function Od(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function jl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function lv(){}function v2(r,n,u,w,P){if(P){if(typeof w=="function"){var A=w;w=function(){var ae=El(I);A.call(ae)}}var I=iv(n,w,r,0,null,!1,!1,"",lv);return r._reactRootContainer=I,r[vs]=I.current,mo(r.nodeType===8?r.parentNode:r),Rn(),I}for(;P=r.lastChild;)r.removeChild(P);if(typeof w=="function"){var X=w;w=function(){var ae=El(Q);X.call(ae)}}var Q=Md(r,0,!1,null,null,!1,!1,"",lv);return r._reactRootContainer=Q,r[vs]=Q.current,mo(r.nodeType===8?r.parentNode:r),Rn(function(){Cl(n,Q,u,w)}),Q}function Pl(r,n,u,w,P){var A=u._reactRootContainer;if(A){var I=A;if(typeof P=="function"){var X=P;P=function(){var Q=El(I);X.call(Q)}}Cl(n,I,r,P)}else I=v2(u,n,r,P,w);return El(I)}Vp=function(r){switch(r.tag){case 3:var n=r.stateNode;if(n.current.memoizedState.isDehydrated){var u=Zi(n.pendingLanes);u!==0&&(ou(n,u|1),rr(n,ft()),(Ue&6)===0&&(vi=ft()+500,qs()))}break;case 13:Rn(function(){var w=ws(r,1);if(w!==null){var P=Xt();Ur(w,r,1,P)}}),Dd(r,1)}},au=function(r){if(r.tag===13){var n=ws(r,134217728);if(n!==null){var u=Xt();Ur(n,r,134217728,u)}Dd(r,134217728)}},zp=function(r){if(r.tag===13){var n=en(r),u=ws(r,n);if(u!==null){var w=Xt();Ur(u,r,n,w)}Dd(r,n)}},Up=function(){return Je},Wp=function(r,n){var u=Je;try{return Je=r,n()}finally{Je=u}},Xi=function(r,n,u){switch(n){case"input":if(he(r,u),n=u.name,u.type==="radio"&&n!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<u.length;n++){var w=u[n];if(w!==r&&w.form===r.form){var P=Wa(w);if(!P)throw Error(s(90));le(w),he(w,P)}}}break;case"textarea":Qr(r,u);break;case"select":n=u.value,n!=null&&Et(r,!!u.multiple,n,!1)}},_t=jd,Ft=Rn;var y2={usingClientEntryPoint:!1,Events:[yo,ni,Wa,Be,ht,jd]},Ao={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_2={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Dp(r),r===null?null:r.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||g2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{ka=Rl.inject(_2),Zr=Rl}catch{}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2,sr.createPortal=function(r,n){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(n))throw Error(s(200));return m2(r,n,null,u)},sr.createRoot=function(r,n){if(!Od(r))throw Error(s(299));var u=!1,w="",P=av;return n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(w=n.identifierPrefix),n.onRecoverableError!==void 0&&(P=n.onRecoverableError)),n=Md(r,1,!1,null,null,u,!1,w,P),r[vs]=n.current,mo(r.nodeType===8?r.parentNode:r),new Ld(n)},sr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=Dp(n),r=r===null?null:r.stateNode,r},sr.flushSync=function(r){return Rn(r)},sr.hydrate=function(r,n,u){if(!jl(n))throw Error(s(200));return Pl(null,r,n,!0,u)},sr.hydrateRoot=function(r,n,u){if(!Od(r))throw Error(s(405));var w=u!=null&&u.hydratedSources||null,P=!1,A="",I=av;if(u!=null&&(u.unstable_strictMode===!0&&(P=!0),u.identifierPrefix!==void 0&&(A=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),n=iv(n,null,r,1,u??null,P,!1,A,I),r[vs]=n.current,mo(r),w)for(r=0;r<w.length;r++)u=w[r],P=u._getVersion,P=P(u._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[u,P]:n.mutableSourceEagerHydrationData.push(u,P);return new kl(n)},sr.render=function(r,n,u){if(!jl(n))throw Error(s(200));return Pl(null,r,n,!1,u)},sr.unmountComponentAtNode=function(r){if(!jl(r))throw Error(s(40));return r._reactRootContainer?(Rn(function(){Pl(null,null,r,!1,function(){r._reactRootContainer=null,r[vs]=null})}),!0):!1},sr.unstable_batchedUpdates=jd,sr.unstable_renderSubtreeIntoContainer=function(r,n,u,w){if(!jl(u))throw Error(s(200));if(r==null||r._reactInternals===void 0)throw Error(s(38));return Pl(r,n,u,!1,w)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var gv;function ky(){if(gv)return Fd.exports;gv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fd.exports=j2(),Fd.exports}var vv;function P2(){if(vv)return Tl;vv=1;var e=ky();return Tl.createRoot=e.createRoot,Tl.hydrateRoot=e.hydrateRoot,Tl}var R2=P2();const T2=sf(R2);var ia=ky();const jy=sf(ia);function N2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const A2=e=>{switch(e){case"success":return L2;case"info":return I2;case"warning":return O2;case"error":return B2;default:return null}},M2=Array(12).fill(0),D2=({visible:e,className:t})=>ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ve.createElement("div",{className:"sonner-spinner"},M2.map((s,i)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),L2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),I2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H2=()=>{const[e,t]=ve.useState(document.hidden);return ve.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let _h=1;class $2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:i,...l}=t,m=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:_h++,f=this.toasts.find(c=>c.id===m),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(m)&&this.dismissedToasts.delete(m),f?this.toasts=this.toasts.map(c=>c.id===m?(this.publish({...c,...t,id:m,title:i}),{...c,...t,id:m,dismissible:o,title:i}):c):this.addToast({title:i,...l,dismissible:o,id:m}),m},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const l=Promise.resolve(t instanceof Function?t():t);let m=i!==void 0,f;const o=l.then(async h=>{if(f=["resolve",h],ve.isValidElement(h))m=!1,this.create({id:i,type:"default",message:h});else if(z2(h)&&!h.ok){m=!1;const d=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description,k=typeof d=="object"&&!ve.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:x,...k})}else if(h instanceof Error){m=!1;const d=typeof s.error=="function"?await s.error(h):s.error,x=typeof s.description=="function"?await s.description(h):s.description,k=typeof d=="object"&&!ve.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:x,...k})}else if(s.success!==void 0){m=!1;const d=typeof s.success=="function"?await s.success(h):s.success,x=typeof s.description=="function"?await s.description(h):s.description,k=typeof d=="object"&&!ve.isValidElement(d)?d:{message:d};this.create({id:i,type:"success",description:x,...k})}}).catch(async h=>{if(f=["reject",h],s.error!==void 0){m=!1;const g=typeof s.error=="function"?await s.error(h):s.error,d=typeof s.description=="function"?await s.description(h):s.description,b=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:d,...b})}}).finally(()=>{m&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),c=()=>new Promise((h,g)=>o.then(()=>f[0]==="reject"?g(f[1]):h(f[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(t,s)=>{const i=(s==null?void 0:s.id)||_h++;return this.create({jsx:t(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nr=new $2,V2=(e,t)=>{const s=(t==null?void 0:t.id)||_h++;return nr.addToast({title:e,...t,id:s}),s},z2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",U2=V2,W2=()=>nr.toasts,K2=()=>nr.getActiveToasts(),ue=Object.assign(U2,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:W2,getToasts:K2});N2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nl(e){return e.label!==void 0}const G2=3,q2="24px",Y2="16px",yv=4e3,X2=356,J2=14,Q2=45,Z2=200;function ns(...e){return e.filter(Boolean).join(" ")}function eE(e){const[t,s]=e.split("-"),i=[];return t&&i.push(t),s&&i.push(s),i}const tE=e=>{var t,s,i,l,m,f,o,c,h;const{invert:g,toast:d,unstyled:x,interacting:b,setHeights:k,visibleToasts:S,heights:v,index:y,toasts:p,expanded:_,removeToast:E,defaultRichColors:R,closeButton:N,style:T,cancelButtonStyle:j,actionButtonStyle:M,className:F="",descriptionClassName:H="",duration:W,position:$,gap:Z,expandByDefault:K,classNames:G,icons:ee,closeButtonAriaLabel:z="Close toast"}=e,[D,B]=ve.useState(null),[L,V]=ve.useState(null),[Y,J]=ve.useState(!1),[q,se]=ve.useState(!1),[U,O]=ve.useState(!1),[ne,re]=ve.useState(!1),[ce,le]=ve.useState(!1),[Pe,Ie]=ve.useState(0),[ze,Ye]=ve.useState(0),he=ve.useRef(d.duration||W||yv),Me=ve.useRef(null),Fe=ve.useRef(null),qe=y===0,Et=y+1<=S,Xe=d.type,at=d.dismissible!==!1,Qr=d.className||"",qt=d.descriptionClassName||"",ar=ve.useMemo(()=>v.findIndex(Be=>Be.toastId===d.id)||0,[v,d.id]),ms=ve.useMemo(()=>{var Be;return(Be=d.closeButton)!=null?Be:N},[d.closeButton,N]),Bt=ve.useMemo(()=>d.duration||W||yv,[d.duration,W]),Ir=ve.useRef(0),dt=ve.useRef(0),Jt=ve.useRef(0),We=ve.useRef(null),[Yn,ba]=$.split("-"),Ca=ve.useMemo(()=>v.reduce((Be,ht,_t)=>_t>=ar?Be:Be+ht.height,0),[v,ar]),Xn=H2(),Yi=d.invert||g,_n=Xe==="loading";dt.current=ve.useMemo(()=>ar*Z+Ca,[ar,Ca]),ve.useEffect(()=>{he.current=Bt},[Bt]),ve.useEffect(()=>{J(!0)},[]),ve.useEffect(()=>{const Be=Fe.current;if(Be){const ht=Be.getBoundingClientRect().height;return Ye(ht),k(_t=>[{toastId:d.id,height:ht,position:d.position},..._t]),()=>k(_t=>_t.filter(Ft=>Ft.toastId!==d.id))}},[k,d.id]),ve.useLayoutEffect(()=>{if(!Y)return;const Be=Fe.current,ht=Be.style.height;Be.style.height="auto";const _t=Be.getBoundingClientRect().height;Be.style.height=ht,Ye(_t),k(Ft=>Ft.find(gt=>gt.toastId===d.id)?Ft.map(gt=>gt.toastId===d.id?{...gt,height:_t}:gt):[{toastId:d.id,height:_t,position:d.position},...Ft])},[Y,d.title,d.description,k,d.id,d.jsx,d.action,d.cancel]);const Sr=ve.useCallback(()=>{se(!0),Ie(dt.current),k(Be=>Be.filter(ht=>ht.toastId!==d.id)),setTimeout(()=>{E(d)},Z2)},[d,E,k,dt]);ve.useEffect(()=>{if(d.promise&&Xe==="loading"||d.duration===1/0||d.type==="loading")return;let Be;return _||b||Xn?(()=>{if(Jt.current<Ir.current){const Ft=new Date().getTime()-Ir.current;he.current=he.current-Ft}Jt.current=new Date().getTime()})():(()=>{he.current!==1/0&&(Ir.current=new Date().getTime(),Be=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Sr()},he.current))})(),()=>clearTimeout(Be)},[_,b,d,Xe,Xn,Sr]),ve.useEffect(()=>{d.delete&&(Sr(),d.onDismiss==null||d.onDismiss.call(d,d))},[Sr,d.delete]);function Xi(){var Be;if(ee!=null&&ee.loading){var ht;return ve.createElement("div",{className:ns(G==null?void 0:G.loader,d==null||(ht=d.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":Xe==="loading"},ee.loading)}return ve.createElement(D2,{className:ns(G==null?void 0:G.loader,d==null||(Be=d.classNames)==null?void 0:Be.loader),visible:Xe==="loading"})}const Ls=d.icon||(ee==null?void 0:ee[Xe])||A2(Xe);var gs,Ji;return ve.createElement("li",{tabIndex:0,ref:Fe,className:ns(F,Qr,G==null?void 0:G.toast,d==null||(t=d.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[Xe],d==null||(s=d.classNames)==null?void 0:s[Xe]),"data-sonner-toast":"","data-rich-colors":(gs=d.richColors)!=null?gs:R,"data-styled":!(d.jsx||d.unstyled||x),"data-mounted":Y,"data-promise":!!d.promise,"data-swiped":ce,"data-removed":q,"data-visible":Et,"data-y-position":Yn,"data-x-position":ba,"data-index":y,"data-front":qe,"data-swiping":U,"data-dismissible":at,"data-type":Xe,"data-invert":Yi,"data-swipe-out":ne,"data-swipe-direction":L,"data-expanded":!!(_||K&&Y),"data-testid":d.testId,style:{"--index":y,"--toasts-before":y,"--z-index":p.length-y,"--offset":`${q?Pe:dt.current}px`,"--initial-height":K?"auto":`${ze}px`,...T,...d.style},onDragEnd:()=>{O(!1),B(null),We.current=null},onPointerDown:Be=>{Be.button!==2&&(_n||!at||(Me.current=new Date,Ie(dt.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(O(!0),We.current={x:Be.clientX,y:Be.clientY})))},onPointerUp:()=>{var Be,ht,_t;if(ne||!at)return;We.current=null;const Ft=Number(((Be=Fe.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Os=Number(((ht=Fe.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((_t=Me.current)==null?void 0:_t.getTime()),kt=D==="x"?Ft:Os,Is=Math.abs(kt)/gt;if(Math.abs(kt)>=Q2||Is>.11){Ie(dt.current),d.onDismiss==null||d.onDismiss.call(d,d),V(D==="x"?Ft>0?"right":"left":Os>0?"down":"up"),Sr(),re(!0);return}else{var At,lr;(At=Fe.current)==null||At.style.setProperty("--swipe-amount-x","0px"),(lr=Fe.current)==null||lr.style.setProperty("--swipe-amount-y","0px")}le(!1),O(!1),B(null)},onPointerMove:Be=>{var ht,_t,Ft;if(!We.current||!at||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;const gt=Be.clientY-We.current.y,kt=Be.clientX-We.current.x;var Is;const At=(Is=e.swipeDirections)!=null?Is:eE($);!D&&(Math.abs(kt)>1||Math.abs(gt)>1)&&B(Math.abs(kt)>Math.abs(gt)?"x":"y");let lr={x:0,y:0};const Bs=br=>1/(1.5+Math.abs(br)/20);if(D==="y"){if(At.includes("top")||At.includes("bottom"))if(At.includes("top")&&gt<0||At.includes("bottom")&&gt>0)lr.y=gt;else{const br=gt*Bs(gt);lr.y=Math.abs(br)<Math.abs(gt)?br:gt}}else if(D==="x"&&(At.includes("left")||At.includes("right")))if(At.includes("left")&&kt<0||At.includes("right")&&kt>0)lr.x=kt;else{const br=kt*Bs(kt);lr.x=Math.abs(br)<Math.abs(kt)?br:kt}(Math.abs(lr.x)>0||Math.abs(lr.y)>0)&&le(!0),(_t=Fe.current)==null||_t.style.setProperty("--swipe-amount-x",`${lr.x}px`),(Ft=Fe.current)==null||Ft.style.setProperty("--swipe-amount-y",`${lr.y}px`)}},ms&&!d.jsx&&Xe!=="loading"?ve.createElement("button",{"aria-label":z,"data-disabled":_n,"data-close-button":!0,onClick:_n||!at?()=>{}:()=>{Sr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:ns(G==null?void 0:G.closeButton,d==null||(i=d.classNames)==null?void 0:i.closeButton)},(Ji=ee==null?void 0:ee.close)!=null?Ji:F2):null,(Xe||d.icon||d.promise)&&d.icon!==null&&((ee==null?void 0:ee[Xe])!==null||d.icon)?ve.createElement("div",{"data-icon":"",className:ns(G==null?void 0:G.icon,d==null||(l=d.classNames)==null?void 0:l.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Xi():null,d.type!=="loading"?Ls:null):null,ve.createElement("div",{"data-content":"",className:ns(G==null?void 0:G.content,d==null||(m=d.classNames)==null?void 0:m.content)},ve.createElement("div",{"data-title":"",className:ns(G==null?void 0:G.title,d==null||(f=d.classNames)==null?void 0:f.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?ve.createElement("div",{"data-description":"",className:ns(H,qt,G==null?void 0:G.description,d==null||(o=d.classNames)==null?void 0:o.description)},typeof d.description=="function"?d.description():d.description):null),ve.isValidElement(d.cancel)?d.cancel:d.cancel&&Nl(d.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||j,onClick:Be=>{Nl(d.cancel)&&at&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Be),Sr())},className:ns(G==null?void 0:G.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,ve.isValidElement(d.action)?d.action:d.action&&Nl(d.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||M,onClick:Be=>{Nl(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Be),!Be.defaultPrevented&&Sr())},className:ns(G==null?void 0:G.actionButton,d==null||(h=d.classNames)==null?void 0:h.actionButton)},d.action.label):null)};function _v(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rE(e,t){const s={};return[e,t].forEach((i,l)=>{const m=l===1,f=m?"--mobile-offset":"--offset",o=m?Y2:q2;function c(h){["top","right","bottom","left"].forEach(g=>{s[`${f}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(h=>{i[h]===void 0?s[`${f}-${h}`]=o:s[`${f}-${h}`]=typeof i[h]=="number"?`${i[h]}px`:i[h]}):c(o)}),s}const sE=ve.forwardRef(function(t,s){const{id:i,invert:l,position:m="bottom-right",hotkey:f=["altKey","KeyT"],expand:o,closeButton:c,className:h,offset:g,mobileOffset:d,theme:x="light",richColors:b,duration:k,style:S,visibleToasts:v=G2,toastOptions:y,dir:p=_v(),gap:_=J2,icons:E,containerAriaLabel:R="Notifications"}=t,[N,T]=ve.useState([]),j=ve.useMemo(()=>i?N.filter(Y=>Y.toasterId===i):N.filter(Y=>!Y.toasterId),[N,i]),M=ve.useMemo(()=>Array.from(new Set([m].concat(j.filter(Y=>Y.position).map(Y=>Y.position)))),[j,m]),[F,H]=ve.useState([]),[W,$]=ve.useState(!1),[Z,K]=ve.useState(!1),[G,ee]=ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=ve.useRef(null),D=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=ve.useRef(null),L=ve.useRef(!1),V=ve.useCallback(Y=>{T(J=>{var q;return(q=J.find(se=>se.id===Y.id))!=null&&q.delete||nr.dismiss(Y.id),J.filter(({id:se})=>se!==Y.id)})},[]);return ve.useEffect(()=>nr.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{T(J=>J.map(q=>q.id===Y.id?{...q,delete:!0}:q))});return}setTimeout(()=>{jy.flushSync(()=>{T(J=>{const q=J.findIndex(se=>se.id===Y.id);return q!==-1?[...J.slice(0,q),{...J[q],...Y},...J.slice(q+1)]:[Y,...J]})})})}),[N]),ve.useEffect(()=>{if(x!=="system"){ee(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:J})=>{ee(J?"dark":"light")})}catch{Y.addListener(({matches:q})=>{try{ee(q?"dark":"light")}catch(se){console.error(se)}})}},[x]),ve.useEffect(()=>{N.length<=1&&$(!1)},[N]),ve.useEffect(()=>{const Y=J=>{var q;if(f.every(O=>J[O]||J.code===O)){var U;$(!0),(U=z.current)==null||U.focus()}J.code==="Escape"&&(document.activeElement===z.current||(q=z.current)!=null&&q.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[f]),ve.useEffect(()=>{if(z.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,L.current=!1)}},[z.current]),ve.createElement("section",{ref:s,"aria-label":`${R} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((Y,J)=>{var q;const[se,U]=Y.split("-");return j.length?ve.createElement("ol",{key:Y,dir:p==="auto"?_v():p,tabIndex:-1,ref:z,className:h,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":se,"data-x-position":U,style:{"--front-toast-height":`${((q=F[0])==null?void 0:q.height)||0}px`,"--width":`${X2}px`,"--gap":`${_}px`,...S,...rE(g,d)},onBlur:O=>{L.current&&!O.currentTarget.contains(O.relatedTarget)&&(L.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||L.current||(L.current=!0,B.current=O.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{Z||$(!1)},onDragEnd:()=>$(!1),onPointerDown:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},j.filter(O=>!O.position&&J===0||O.position===Y).map((O,ne)=>{var re,ce;return ve.createElement(tE,{key:O.id,icons:E,index:ne,toast:O,defaultRichColors:b,duration:(re=y==null?void 0:y.duration)!=null?re:k,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:l,visibleToasts:v,closeButton:(ce=y==null?void 0:y.closeButton)!=null?ce:c,interacting:Z,position:Y,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:V,toasts:j.filter(le=>le.position==O.position),heights:F.filter(le=>le.position==O.position),setHeights:H,expandByDefault:o,gap:_,expanded:W,swipeDirections:t.swipeDirections})})):null}))}),af=C.createContext({});function lf(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const wc=C.createContext(null),cf=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nE extends C.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iE({children:e,isPresent:t}){const s=C.useId(),i=C.useRef(null),l=C.useRef({width:0,height:0,top:0,left:0}),{nonce:m}=C.useContext(cf);return C.useInsertionEffect(()=>{const{width:f,height:o,top:c,left:h}=l.current;if(t||!i.current||!f||!o)return;i.current.dataset.motionPopId=s;const g=document.createElement("style");return m&&(g.nonce=m),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),a.jsx(nE,{isPresent:t,childRef:i,sizeRef:l,children:C.cloneElement(e,{ref:i})})}const oE=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:m,mode:f})=>{const o=lf(aE),c=C.useId(),h=C.useCallback(d=>{o.set(d,!0);for(const x of o.values())if(!x)return;i&&i()},[o,i]),g=C.useMemo(()=>({id:c,initial:t,isPresent:s,custom:l,onExitComplete:h,register:d=>(o.set(d,!1),()=>o.delete(d))}),m?[Math.random(),h]:[s,h]);return C.useMemo(()=>{o.forEach((d,x)=>o.set(x,!1))},[s]),C.useEffect(()=>{!s&&!o.size&&i&&i()},[s]),f==="popLayout"&&(e=a.jsx(iE,{isPresent:s,children:e})),a.jsx(wc.Provider,{value:g,children:e})};function aE(){return new Map}function Py(e=!0){const t=C.useContext(wc);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,m=C.useId();C.useEffect(()=>{e&&l(m)},[e]);const f=C.useCallback(()=>e&&i&&i(m),[m,i,e]);return!s&&i?[!1,f]:[!0]}const Al=e=>e.key||"";function xv(e){const t=[];return C.Children.forEach(e,s=>{C.isValidElement(s)&&t.push(s)}),t}const uf=typeof window<"u",Ry=uf?C.useLayoutEffect:C.useEffect,Ty=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:m="sync",propagate:f=!1})=>{const[o,c]=Py(f),h=C.useMemo(()=>xv(e),[e]),g=f&&!o?[]:h.map(Al),d=C.useRef(!0),x=C.useRef(h),b=lf(()=>new Map),[k,S]=C.useState(h),[v,y]=C.useState(h);Ry(()=>{d.current=!1,x.current=h;for(let E=0;E<v.length;E++){const R=Al(v[E]);g.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[v,g.length,g.join("-")]);const p=[];if(h!==k){let E=[...h];for(let R=0;R<v.length;R++){const N=v[R],T=Al(N);g.includes(T)||(E.splice(R,0,N),p.push(N))}m==="wait"&&p.length&&(E=p),y(xv(E)),S(h);return}const{forceRender:_}=C.useContext(af);return a.jsx(a.Fragment,{children:v.map(E=>{const R=Al(E),N=f&&!o?!1:h===v||g.includes(R),T=()=>{if(b.has(R))b.set(R,!0);else return;let j=!0;b.forEach(M=>{M||(j=!1)}),j&&(_==null||_(),y(x.current),f&&(c==null||c()),i&&i())};return a.jsx(oE,{isPresent:N,initial:!d.current||s?void 0:!1,custom:N?void 0:t,presenceAffectsLayout:l,mode:m,onExitComplete:N?void 0:T,children:E},R)})})},pr=e=>e;let Ny=pr;function df(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ti=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i},Ps=e=>e*1e3,Rs=e=>e/1e3,lE={useManualTiming:!1};function cE(e){let t=new Set,s=new Set,i=!1,l=!1;const m=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function o(h){m.has(h)&&(c.schedule(h),e()),h(f)}const c={schedule:(h,g=!1,d=!1)=>{const b=d&&i?t:s;return g&&m.add(h),b.has(h)||b.add(h),h},cancel:h=>{s.delete(h),m.delete(h)},process:h=>{if(f=h,i){l=!0;return}i=!0,[t,s]=[s,t],t.forEach(o),t.clear(),i=!1,l&&(l=!1,c.process(h))}};return c}const Ml=["read","resolveKeyframes","update","preRender","render","postRender"],uE=40;function Ay(e,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},m=()=>s=!0,f=Ml.reduce((y,p)=>(y[p]=cE(m),y),{}),{read:o,resolveKeyframes:c,update:h,preRender:g,render:d,postRender:x}=f,b=()=>{const y=performance.now();s=!1,l.delta=i?1e3/60:Math.max(Math.min(y-l.timestamp,uE),1),l.timestamp=y,l.isProcessing=!0,o.process(l),c.process(l),h.process(l),g.process(l),d.process(l),x.process(l),l.isProcessing=!1,s&&t&&(i=!1,e(b))},k=()=>{s=!0,i=!0,l.isProcessing||e(b)};return{schedule:Ml.reduce((y,p)=>{const _=f[p];return y[p]=(E,R=!1,N=!1)=>(s||k(),_.schedule(E,R,N)),y},{}),cancel:y=>{for(let p=0;p<Ml.length;p++)f[Ml[p]].cancel(y)},state:l,steps:f}}const{schedule:tt,cancel:dn,state:Lt,steps:Vd}=Ay(typeof requestAnimationFrame<"u"?requestAnimationFrame:pr,!0),My=C.createContext({strict:!1}),wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const e in wv)Ni[e]={isEnabled:t=>wv[e].some(s=>!!t[s])};function dE(e){for(const t in e)Ni[t]={...Ni[t],...e[t]}}const hE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hE.has(e)}let Dy=e=>!Jl(e);function fE(e){e&&(Dy=t=>t.startsWith("on")?!Jl(t):e(t))}try{fE(require("@emotion/is-prop-valid").default)}catch{}function pE(e,t,s){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(Dy(l)||s===!0&&Jl(l)||!t&&!Jl(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}function mE(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...i)=>e(...i);return new Proxy(s,{get:(i,l)=>l==="create"?e:(t.has(l)||t.set(l,e(l)),t.get(l))})}const Sc=C.createContext({});function Ko(e){return typeof e=="string"||Array.isArray(e)}function bc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ff=["initial",...hf];function Cc(e){return bc(e.animate)||ff.some(t=>Ko(e[t]))}function Ly(e){return!!(Cc(e)||e.variants)}function gE(e,t){if(Cc(e)){const{initial:s,animate:i}=e;return{initial:s===!1||Ko(s)?s:void 0,animate:Ko(i)?i:void 0}}return e.inherit!==!1?t:{}}function vE(e){const{initial:t,animate:s}=gE(e,C.useContext(Sc));return C.useMemo(()=>({initial:t,animate:s}),[Sv(t),Sv(s)])}function Sv(e){return Array.isArray(e)?e.join(" "):e}const yE=Symbol.for("motionComponentSymbol");function bi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _E(e,t,s){return C.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):bi(s)&&(s.current=i))},[t])}const pf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xE="framerAppearId",Oy="data-"+pf(xE),{schedule:mf}=Ay(queueMicrotask,!1),Iy=C.createContext({});function wE(e,t,s,i,l){var m,f;const{visualElement:o}=C.useContext(Sc),c=C.useContext(My),h=C.useContext(wc),g=C.useContext(cf).reducedMotion,d=C.useRef(null);i=i||c.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:o,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const x=d.current,b=C.useContext(Iy);x&&!x.projection&&l&&(x.type==="html"||x.type==="svg")&&SE(d.current,s,l,b);const k=C.useRef(!1);C.useInsertionEffect(()=>{x&&k.current&&x.update(s,h)});const S=s[Oy],v=C.useRef(!!S&&!(!((m=window.MotionHandoffIsComplete)===null||m===void 0)&&m.call(window,S))&&((f=window.MotionHasOptimisedAnimation)===null||f===void 0?void 0:f.call(window,S)));return Ry(()=>{x&&(k.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),mf.render(x.render),v.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!v.current&&x.animationState&&x.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,S)}),v.current=!1))}),x}function SE(e,t,s,i){const{layoutId:l,layout:m,drag:f,dragConstraints:o,layoutScroll:c,layoutRoot:h}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:By(e.parent)),e.projection.setOptions({layoutId:l,layout:m,alwaysMeasureLayout:!!f||o&&bi(o),visualElement:e,animationType:typeof m=="string"?m:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:h})}function By(e){if(e)return e.options.allowProjection!==!1?e.projection:By(e.parent)}function bE({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:i,Component:l}){var m,f;e&&dE(e);function o(h,g){let d;const x={...C.useContext(cf),...h,layoutId:CE(h)},{isStatic:b}=x,k=vE(h),S=i(h,b);if(!b&&uf){EE();const v=kE(x);d=v.MeasureLayout,k.visualElement=wE(l,S,x,t,v.ProjectionNode)}return a.jsxs(Sc.Provider,{value:k,children:[d&&k.visualElement?a.jsx(d,{visualElement:k.visualElement,...x}):null,s(l,h,_E(S,k.visualElement,g),S,b,k.visualElement)]})}o.displayName=`motion.${typeof l=="string"?l:`create(${(f=(m=l.displayName)!==null&&m!==void 0?m:l.name)!==null&&f!==void 0?f:""})`}`;const c=C.forwardRef(o);return c[yE]=l,c}function CE({layoutId:e}){const t=C.useContext(af).id;return t&&e!==void 0?t+"-"+e:e}function EE(e,t){C.useContext(My).strict}function kE(e){const{drag:t,layout:s}=Ni;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const jE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gf(e){return typeof e!="string"||e.includes("-")?!1:!!(jE.indexOf(e)>-1||/[A-Z]/u.test(e))}function bv(e){const t=[{},{}];return e==null||e.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function vf(e,t,s,i){if(typeof t=="function"){const[l,m]=bv(i);t=t(s!==void 0?s:e.custom,l,m)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,m]=bv(i);t=t(s!==void 0?s:e.custom,l,m)}return t}const xh=e=>Array.isArray(e),PE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RE=e=>xh(e)?e[e.length-1]||0:e,Wt=e=>!!(e&&e.getVelocity);function Ul(e){const t=Wt(e)?e.get():e;return PE(t)?t.toValue():t}function TE({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},i,l,m){const f={latestValues:NE(i,l,m,e),renderState:t()};return s&&(f.onMount=o=>s({props:i,current:o,...f}),f.onUpdate=o=>s(o)),f}const Fy=e=>(t,s)=>{const i=C.useContext(Sc),l=C.useContext(wc),m=()=>TE(e,t,i,l);return s?m():lf(m)};function NE(e,t,s,i){const l={},m=i(e,{});for(const x in m)l[x]=Ul(m[x]);let{initial:f,animate:o}=e;const c=Cc(e),h=Ly(e);t&&h&&!c&&e.inherit!==!1&&(f===void 0&&(f=t.initial),o===void 0&&(o=t.animate));let g=s?s.initial===!1:!1;g=g||f===!1;const d=g?o:f;if(d&&typeof d!="boolean"&&!bc(d)){const x=Array.isArray(d)?d:[d];for(let b=0;b<x.length;b++){const k=vf(e,x[b]);if(k){const{transitionEnd:S,transition:v,...y}=k;for(const p in y){let _=y[p];if(Array.isArray(_)){const E=g?_.length-1:0;_=_[E]}_!==null&&(l[p]=_)}for(const p in S)l[p]=S[p]}}}return l}const Fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gn=new Set(Fi),Hy=e=>t=>typeof t=="string"&&t.startsWith(e),$y=Hy("--"),AE=Hy("var(--"),yf=e=>AE(e)?ME.test(e.split("/*")[0].trim()):!1,ME=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ns=(e,t,s)=>s>t?t:s<e?e:s,Hi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Go={...Hi,transform:e=>Ns(0,1,e)},Dl={...Hi,default:1},oa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),on=oa("deg"),as=oa("%"),De=oa("px"),DE=oa("vh"),LE=oa("vw"),Cv={...as,parse:e=>as.parse(e)/100,transform:e=>as.transform(e*100)},OE={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},IE={rotate:on,rotateX:on,rotateY:on,rotateZ:on,scale:Dl,scaleX:Dl,scaleY:Dl,scaleZ:Dl,skew:on,skewX:on,skewY:on,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Go,originX:Cv,originY:Cv,originZ:De},Ev={...Hi,transform:Math.round},_f={...OE,...IE,zIndex:Ev,size:De,fillOpacity:Go,strokeOpacity:Go,numOctaves:Ev},BE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FE=Fi.length;function HE(e,t,s){let i="",l=!0;for(let m=0;m<FE;m++){const f=Fi[m],o=e[f];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(f.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||s){const h=Vy(o,_f[f]);if(!c){l=!1;const g=BE[f]||f;i+=`${g}(${h}) `}s&&(t[f]=h)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function xf(e,t,s){const{style:i,vars:l,transformOrigin:m}=e;let f=!1,o=!1;for(const c in t){const h=t[c];if(Gn.has(c)){f=!0;continue}else if($y(c)){l[c]=h;continue}else{const g=Vy(h,_f[c]);c.startsWith("origin")?(o=!0,m[c]=g):i[c]=g}}if(t.transform||(f||s?i.transform=HE(t,e.transform,s):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:h="50%",originZ:g=0}=m;i.transformOrigin=`${c} ${h} ${g}`}}const $E={offset:"stroke-dashoffset",array:"stroke-dasharray"},VE={offset:"strokeDashoffset",array:"strokeDasharray"};function zE(e,t,s=1,i=0,l=!0){e.pathLength=1;const m=l?$E:VE;e[m.offset]=De.transform(-i);const f=De.transform(t),o=De.transform(s);e[m.array]=`${f} ${o}`}function kv(e,t,s){return typeof e=="string"?e:De.transform(t+s*e)}function UE(e,t,s){const i=kv(t,e.x,e.width),l=kv(s,e.y,e.height);return`${i} ${l}`}function wf(e,{attrX:t,attrY:s,attrScale:i,originX:l,originY:m,pathLength:f,pathSpacing:o=1,pathOffset:c=0,...h},g,d){if(xf(e,h,d),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:b,dimensions:k}=e;x.transform&&(k&&(b.transform=x.transform),delete x.transform),k&&(l!==void 0||m!==void 0||b.transform)&&(b.transformOrigin=UE(k,l!==void 0?l:.5,m!==void 0?m:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),f!==void 0&&zE(x,f,o,c,!1)}const Sf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zy=()=>({...Sf(),attrs:{}}),bf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Uy(e,{style:t,vars:s},i,l){Object.assign(e.style,t,l&&l.getProjectionStyles(i));for(const m in s)e.style.setProperty(m,s[m])}const Wy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ky(e,t,s,i){Uy(e,t,void 0,i);for(const l in t.attrs)e.setAttribute(Wy.has(l)?l:pf(l),t.attrs[l])}const Ql={};function WE(e){Object.assign(Ql,e)}function Gy(e,{layout:t,layoutId:s}){return Gn.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Ql[e]||e==="opacity")}function Cf(e,t,s){var i;const{style:l}=e,m={};for(const f in l)(Wt(l[f])||t.style&&Wt(t.style[f])||Gy(f,e)||((i=s==null?void 0:s.getValue(f))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(m[f]=l[f]);return m}function qy(e,t,s){const i=Cf(e,t,s);for(const l in e)if(Wt(e[l])||Wt(t[l])){const m=Fi.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[m]=e[l]}return i}function KE(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const jv=["x","y","width","height","cx","cy","r"],GE={useVisualState:Fy({scrapeMotionValuesFromProps:qy,createRenderState:zy,onUpdate:({props:e,prevProps:t,current:s,renderState:i,latestValues:l})=>{if(!s)return;let m=!!e.drag;if(!m){for(const o in l)if(Gn.has(o)){m=!0;break}}if(!m)return;let f=!t;if(t)for(let o=0;o<jv.length;o++){const c=jv[o];e[c]!==t[c]&&(f=!0)}f&&tt.read(()=>{KE(s,i),tt.render(()=>{wf(i,l,bf(s.tagName),e.transformTemplate),Ky(s,i)})})}})},qE={useVisualState:Fy({scrapeMotionValuesFromProps:Cf,createRenderState:Sf})};function Yy(e,t,s){for(const i in t)!Wt(t[i])&&!Gy(i,s)&&(e[i]=t[i])}function YE({transformTemplate:e},t){return C.useMemo(()=>{const s=Sf();return xf(s,t,e),Object.assign({},s.vars,s.style)},[t])}function XE(e,t){const s=e.style||{},i={};return Yy(i,s,e),Object.assign(i,YE(e,t)),i}function JE(e,t){const s={},i=XE(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}function QE(e,t,s,i){const l=C.useMemo(()=>{const m=zy();return wf(m,t,bf(i),e.transformTemplate),{...m.attrs,style:{...m.style}}},[t]);if(e.style){const m={};Yy(m,e.style,e),l.style={...m,...l.style}}return l}function ZE(e=!1){return(s,i,l,{latestValues:m},f)=>{const c=(gf(s)?QE:JE)(i,m,f,s),h=pE(i,typeof s=="string",e),g=s!==C.Fragment?{...h,...c,ref:l}:{},{children:d}=i,x=C.useMemo(()=>Wt(d)?d.get():d,[d]);return C.createElement(s,{...g,children:x})}}function ek(e,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const f={...gf(i)?GE:qE,preloadedFeatures:e,useRender:ZE(l),createVisualElement:t,Component:i};return bE(f)}}function Xy(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}function Ec(e,t,s){const i=e.getProps();return vf(i,t,s!==void 0?s:i.custom,e)}const tk=df(()=>window.ScrollTimeline!==void 0);class rk{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=s}attachTimeline(t,s){const i=this.animations.map(l=>{if(tk()&&l.attachTimeline)return l.attachTimeline(t);if(typeof s=="function")return s(l)});return()=>{i.forEach((l,m)=>{l&&l(),this.animations[m].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sk extends rk{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Ef(e,t){return e?e[t]||e.default||e:void 0}const wh=2e4;function Jy(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<wh;)t+=s,i=e.next(t);return t>=wh?1/0:t}function kf(e){return typeof e=="function"}function Pv(e,t){e.timeline=t,e.onfinish=null}const jf=e=>Array.isArray(e)&&typeof e[0]=="number",nk={linearEasing:void 0};function ik(e,t){const s=df(e);return()=>{var i;return(i=nk[t])!==null&&i!==void 0?i:s()}}const Zl=ik(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qy=(e,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let m=0;m<l;m++)i+=e(Ti(0,l-1,m))+", ";return`linear(${i.substring(0,i.length-2)})`};function Zy(e){return!!(typeof e=="function"&&Zl()||!e||typeof e=="string"&&(e in Sh||Zl())||jf(e)||Array.isArray(e)&&e.every(Zy))}const Oo=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,Sh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oo([0,.65,.55,1]),circOut:Oo([.55,0,1,.45]),backIn:Oo([.31,.01,.66,-.59]),backOut:Oo([.33,1.53,.69,.99])};function e_(e,t){if(e)return typeof e=="function"&&Zl()?Qy(e,t):jf(e)?Oo(e):Array.isArray(e)?e.map(s=>e_(s,t)||Sh.easeOut):Sh[e]}const Wr={x:!1,y:!1};function t_(){return Wr.x||Wr.y}function ok(e,t,s){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let l=document;const m=(i=void 0)!==null&&i!==void 0?i:l.querySelectorAll(e);return m?Array.from(m):[]}return Array.from(e)}function r_(e,t){const s=ok(e),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function Rv(e){return t=>{t.pointerType==="touch"||t_()||e(t)}}function ak(e,t,s={}){const[i,l,m]=r_(e,s),f=Rv(o=>{const{target:c}=o,h=t(o);if(typeof h!="function"||!c)return;const g=Rv(d=>{h(d),c.removeEventListener("pointerleave",g)});c.addEventListener("pointerleave",g,l)});return i.forEach(o=>{o.addEventListener("pointerenter",f,l)}),m}const s_=(e,t)=>t?e===t?!0:s_(e,t.parentElement):!1,Pf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ck(e){return lk.has(e.tagName)||e.tabIndex!==-1}const Io=new WeakSet;function Tv(e){return t=>{t.key==="Enter"&&e(t)}}function zd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uk=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=Tv(()=>{if(Io.has(s))return;zd(s,"down");const l=Tv(()=>{zd(s,"up")}),m=()=>zd(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",m,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function Nv(e){return Pf(e)&&!t_()}function dk(e,t,s={}){const[i,l,m]=r_(e,s),f=o=>{const c=o.currentTarget;if(!Nv(o)||Io.has(c))return;Io.add(c);const h=t(o),g=(b,k)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",x),!(!Nv(b)||!Io.has(c))&&(Io.delete(c),typeof h=="function"&&h(b,{success:k}))},d=b=>{g(b,s.useGlobalTarget||s_(c,b.target))},x=b=>{g(b,!1)};window.addEventListener("pointerup",d,l),window.addEventListener("pointercancel",x,l)};return i.forEach(o=>{!ck(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(s.useGlobalTarget?window:o).addEventListener("pointerdown",f,l),o.addEventListener("focus",h=>uk(h,l),l)}),m}function hk(e){return e==="x"||e==="y"?Wr[e]?null:(Wr[e]=!0,()=>{Wr[e]=!1}):Wr.x||Wr.y?null:(Wr.x=Wr.y=!0,()=>{Wr.x=Wr.y=!1})}const n_=new Set(["width","height","top","left","right","bottom",...Fi]);let Wl;function fk(){Wl=void 0}const ls={now:()=>(Wl===void 0&&ls.set(Lt.isProcessing||lE.useManualTiming?Lt.timestamp:performance.now()),Wl),set:e=>{Wl=e,queueMicrotask(fk)}};function Rf(e,t){e.indexOf(t)===-1&&e.push(t)}function Tf(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Nf{constructor(){this.subscriptions=[]}add(t){return Rf(this.subscriptions,t),()=>Tf(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let m=0;m<l;m++){const f=this.subscriptions[m];f&&f(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function i_(e,t){return t?e*(1e3/t):0}const Av=30,pk=e=>!isNaN(parseFloat(e));class mk{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const m=ls.now();this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=ls.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Nf);const i=this.events[t].add(s);return t==="change"?()=>{i(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Av)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Av);return i_(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qo(e,t){return new mk(e,t)}function gk(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,qo(s))}function vk(e,t){const s=Ec(e,t);let{transitionEnd:i={},transition:l={},...m}=s||{};m={...m,...i};for(const f in m){const o=RE(m[f]);gk(e,f,o)}}function yk(e){return!!(Wt(e)&&e.add)}function bh(e,t){const s=e.getValue("willChange");if(yk(s))return s.add(t)}function o_(e){return e.props[Oy]}const a_=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,_k=1e-7,xk=12;function wk(e,t,s,i,l){let m,f,o=0;do f=t+(s-t)/2,m=a_(f,i,l)-e,m>0?s=f:t=f;while(Math.abs(m)>_k&&++o<xk);return f}function aa(e,t,s,i){if(e===t&&s===i)return pr;const l=m=>wk(m,0,1,e,s);return m=>m===0||m===1?m:a_(l(m),t,i)}const l_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,c_=e=>t=>1-e(1-t),u_=aa(.33,1.53,.69,.99),Af=c_(u_),d_=l_(Af),h_=e=>(e*=2)<1?.5*Af(e):.5*(2-Math.pow(2,-10*(e-1))),Mf=e=>1-Math.sin(Math.acos(e)),f_=c_(Mf),p_=l_(Mf),m_=e=>/^0[^.\s]+$/u.test(e);function Sk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||m_(e):!0}const Vo=e=>Math.round(e*1e5)/1e5,Df=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bk(e){return e==null}const Ck=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lf=(e,t)=>s=>!!(typeof s=="string"&&Ck.test(s)&&s.startsWith(e)||t&&!bk(s)&&Object.prototype.hasOwnProperty.call(s,t)),g_=(e,t,s)=>i=>{if(typeof i!="string")return i;const[l,m,f,o]=i.match(Df);return{[e]:parseFloat(l),[t]:parseFloat(m),[s]:parseFloat(f),alpha:o!==void 0?parseFloat(o):1}},Ek=e=>Ns(0,255,e),Ud={...Hi,transform:e=>Math.round(Ek(e))},In={test:Lf("rgb","red"),parse:g_("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Ud.transform(e)+", "+Ud.transform(t)+", "+Ud.transform(s)+", "+Vo(Go.transform(i))+")"};function kk(e){let t="",s="",i="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Ch={test:Lf("#"),parse:kk,transform:In.transform},Ci={test:Lf("hsl","hue"),parse:g_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+as.transform(Vo(t))+", "+as.transform(Vo(s))+", "+Vo(Go.transform(i))+")"},Ut={test:e=>In.test(e)||Ch.test(e)||Ci.test(e),parse:e=>In.test(e)?In.parse(e):Ci.test(e)?Ci.parse(e):Ch.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?In.transform(e):Ci.transform(e)},jk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pk(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Df))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(jk))===null||s===void 0?void 0:s.length)||0)>0}const v_="number",y_="color",Rk="var",Tk="var(",Mv="${}",Nk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yo(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},l=[];let m=0;const o=t.replace(Nk,c=>(Ut.test(c)?(i.color.push(m),l.push(y_),s.push(Ut.parse(c))):c.startsWith(Tk)?(i.var.push(m),l.push(Rk),s.push(c)):(i.number.push(m),l.push(v_),s.push(parseFloat(c))),++m,Mv)).split(Mv);return{values:s,split:o,indexes:i,types:l}}function __(e){return Yo(e).values}function x_(e){const{split:t,types:s}=Yo(e),i=t.length;return l=>{let m="";for(let f=0;f<i;f++)if(m+=t[f],l[f]!==void 0){const o=s[f];o===v_?m+=Vo(l[f]):o===y_?m+=Ut.transform(l[f]):m+=l[f]}return m}}const Ak=e=>typeof e=="number"?0:e;function Mk(e){const t=__(e);return x_(e)(t.map(Ak))}const hn={test:Pk,parse:__,createTransformer:x_,getAnimatableNone:Mk},Dk=new Set(["brightness","contrast","saturate","opacity"]);function Lk(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(Df)||[];if(!i)return e;const l=s.replace(i,"");let m=Dk.has(t)?1:0;return i!==s&&(m*=100),t+"("+m+l+")"}const Ok=/\b([a-z-]*)\(.*?\)/gu,Eh={...hn,getAnimatableNone:e=>{const t=e.match(Ok);return t?t.map(Lk).join(" "):e}},Ik={..._f,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Eh,WebkitFilter:Eh},Of=e=>Ik[e];function w_(e,t){let s=Of(e);return s!==Eh&&(s=hn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Bk=new Set(["auto","none","0"]);function Fk(e,t,s){let i=0,l;for(;i<e.length&&!l;){const m=e[i];typeof m=="string"&&!Bk.has(m)&&Yo(m).values.length&&(l=e[i]),i++}if(l&&s)for(const m of t)e[m]=w_(s,l)}const Dv=e=>e===Hi||e===De,Lv=(e,t)=>parseFloat(e.split(", ")[t]),Ov=(e,t)=>(s,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return Lv(l[1],t);{const m=i.match(/^matrix\((.+)\)$/u);return m?Lv(m[1],e):0}},Hk=new Set(["x","y","z"]),$k=Fi.filter(e=>!Hk.has(e));function Vk(e){const t=[];return $k.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const Ai={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ov(4,13),y:Ov(5,14)};Ai.translateX=Ai.x;Ai.translateY=Ai.y;const Bn=new Set;let kh=!1,jh=!1;function S_(){if(jh){const e=Array.from(Bn).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=Vk(i);l.length&&(s.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([m,f])=>{var o;(o=i.getValue(m))===null||o===void 0||o.set(f)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}jh=!1,kh=!1,Bn.forEach(e=>e.complete()),Bn.clear()}function b_(){Bn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jh=!0)})}function zk(){b_(),S_()}class If{constructor(t,s,i,l,m,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=m,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bn.add(this),kh||(kh=!0,tt.read(b_),tt.resolveKeyframes(S_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;for(let m=0;m<t.length;m++)if(t[m]===null)if(m===0){const f=l==null?void 0:l.get(),o=t[t.length-1];if(f!==void 0)t[0]=f;else if(i&&s){const c=i.readValue(s,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),l&&f===void 0&&l.set(t[0])}else t[m]=t[m-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const C_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Uk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wk(e){const t=Uk.exec(e);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function E_(e,t,s=1){const[i,l]=Wk(e);if(!i)return;const m=window.getComputedStyle(t).getPropertyValue(i);if(m){const f=m.trim();return C_(f)?parseFloat(f):f}return yf(l)?E_(l,t,s+1):l}const k_=e=>t=>t.test(e),Kk={test:e=>e==="auto",parse:e=>e},j_=[Hi,De,as,on,LE,DE,Kk],Iv=e=>j_.find(k_(e));class P_ extends If{constructor(t,s,i,l,m){super(t,s,i,l,m,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let h=t[c];if(typeof h=="string"&&(h=h.trim(),yf(h))){const g=E_(h,s.current);g!==void 0&&(t[c]=g),c===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!n_.has(i)||t.length!==2)return;const[l,m]=t,f=Iv(l),o=Iv(m);if(f!==o)if(Dv(f)&&Dv(o))for(let c=0;c<t.length;c++){const h=t[c];typeof h=="string"&&(t[c]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)Sk(t[l])&&i.push(l);i.length&&Fk(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ai[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var t;const{element:s,name:i,unresolvedKeyframes:l}=this;if(!s||!s.current)return;const m=s.getValue(i);m&&m.jump(this.measuredOrigin,!1);const f=l.length-1,o=l[f];l[f]=Ai[i](s.measureViewportBox(),window.getComputedStyle(s.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,h])=>{s.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const Bv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hn.test(e)||e==="0")&&!e.startsWith("url("));function Gk(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function qk(e,t,s,i){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const m=e[e.length-1],f=Bv(l,t),o=Bv(m,t);return!f||!o?!1:Gk(e)||(s==="spring"||kf(s))&&i}const Yk=e=>e!==null;function kc(e,{repeat:t,repeatType:s="loop"},i){const l=e.filter(Yk),m=t&&s!=="loop"&&t%2===1?0:l.length-1;return!m||i===void 0?l[m]:i}const Xk=40;class R_{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:m=0,repeatType:f="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ls.now(),this.options={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:m,repeatType:f,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Xk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zk(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=ls.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:m,delay:f,onComplete:o,onUpdate:c,isGenerator:h}=this.options;if(!h&&!qk(t,i,l,m))if(f)this.options.duration=0;else{c&&c(kc(t,this.options,s)),o&&o(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,s);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...g},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ot=(e,t,s)=>e+(t-e)*s;function Wd(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Jk({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let l=0,m=0,f=0;if(!t)l=m=f=s;else{const o=s<.5?s*(1+t):s+t-s*t,c=2*s-o;l=Wd(c,o,e+1/3),m=Wd(c,o,e),f=Wd(c,o,e-1/3)}return{red:Math.round(l*255),green:Math.round(m*255),blue:Math.round(f*255),alpha:i}}function ec(e,t){return s=>s>0?t:e}const Kd=(e,t,s)=>{const i=e*e,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},Qk=[Ch,In,Ci],Zk=e=>Qk.find(t=>t.test(e));function Fv(e){const t=Zk(e);if(!t)return!1;let s=t.parse(e);return t===Ci&&(s=Jk(s)),s}const Hv=(e,t)=>{const s=Fv(e),i=Fv(t);if(!s||!i)return ec(e,t);const l={...s};return m=>(l.red=Kd(s.red,i.red,m),l.green=Kd(s.green,i.green,m),l.blue=Kd(s.blue,i.blue,m),l.alpha=ot(s.alpha,i.alpha,m),In.transform(l))},ej=(e,t)=>s=>t(e(s)),la=(...e)=>e.reduce(ej),Ph=new Set(["none","hidden"]);function tj(e,t){return Ph.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function rj(e,t){return s=>ot(e,t,s)}function Bf(e){return typeof e=="number"?rj:typeof e=="string"?yf(e)?ec:Ut.test(e)?Hv:ij:Array.isArray(e)?T_:typeof e=="object"?Ut.test(e)?Hv:sj:ec}function T_(e,t){const s=[...e],i=s.length,l=e.map((m,f)=>Bf(m)(m,t[f]));return m=>{for(let f=0;f<i;f++)s[f]=l[f](m);return s}}function sj(e,t){const s={...e,...t},i={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(i[l]=Bf(e[l])(e[l],t[l]));return l=>{for(const m in i)s[m]=i[m](l);return s}}function nj(e,t){var s;const i=[],l={color:0,var:0,number:0};for(let m=0;m<t.values.length;m++){const f=t.types[m],o=e.indexes[f][l[f]],c=(s=e.values[o])!==null&&s!==void 0?s:0;i[m]=c,l[f]++}return i}const ij=(e,t)=>{const s=hn.createTransformer(t),i=Yo(e),l=Yo(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Ph.has(e)&&!l.values.length||Ph.has(t)&&!i.values.length?tj(e,t):la(T_(nj(i,l),l.values),s):ec(e,t)};function N_(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ot(e,t,s):Bf(e)(e,t)}const oj=5;function A_(e,t,s){const i=Math.max(t-oj,0);return i_(s-e(i),t-i)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gd=.001;function aj({duration:e=ct.duration,bounce:t=ct.bounce,velocity:s=ct.velocity,mass:i=ct.mass}){let l,m,f=1-t;f=Ns(ct.minDamping,ct.maxDamping,f),e=Ns(ct.minDuration,ct.maxDuration,Rs(e)),f<1?(l=h=>{const g=h*f,d=g*e,x=g-s,b=Rh(h,f),k=Math.exp(-d);return Gd-x/b*k},m=h=>{const d=h*f*e,x=d*s+s,b=Math.pow(f,2)*Math.pow(h,2)*e,k=Math.exp(-d),S=Rh(Math.pow(h,2),f);return(-l(h)+Gd>0?-1:1)*((x-b)*k)/S}):(l=h=>{const g=Math.exp(-h*e),d=(h-s)*e+1;return-Gd+g*d},m=h=>{const g=Math.exp(-h*e),d=(s-h)*(e*e);return g*d});const o=5/e,c=cj(l,m,o);if(e=Ps(e),isNaN(c))return{stiffness:ct.stiffness,damping:ct.damping,duration:e};{const h=Math.pow(c,2)*i;return{stiffness:h,damping:f*2*Math.sqrt(i*h),duration:e}}}const lj=12;function cj(e,t,s){let i=s;for(let l=1;l<lj;l++)i=i-e(i)/t(i);return i}function Rh(e,t){return e*Math.sqrt(1-t*t)}const uj=["duration","bounce"],dj=["stiffness","damping","mass"];function $v(e,t){return t.some(s=>e[s]!==void 0)}function hj(e){let t={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...e};if(!$v(e,dj)&&$v(e,uj))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,m=2*Ns(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:ct.mass,stiffness:l,damping:m}}else{const s=aj(e);t={...t,...s,mass:ct.mass},t.isResolvedFromDuration=!0}return t}function M_(e=ct.visualDuration,t=ct.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:l}=s;const m=s.keyframes[0],f=s.keyframes[s.keyframes.length-1],o={done:!1,value:m},{stiffness:c,damping:h,mass:g,duration:d,velocity:x,isResolvedFromDuration:b}=hj({...s,velocity:-Rs(s.velocity||0)}),k=x||0,S=h/(2*Math.sqrt(c*g)),v=f-m,y=Rs(Math.sqrt(c/g)),p=Math.abs(v)<5;i||(i=p?ct.restSpeed.granular:ct.restSpeed.default),l||(l=p?ct.restDelta.granular:ct.restDelta.default);let _;if(S<1){const R=Rh(y,S);_=N=>{const T=Math.exp(-S*y*N);return f-T*((k+S*y*v)/R*Math.sin(R*N)+v*Math.cos(R*N))}}else if(S===1)_=R=>f-Math.exp(-y*R)*(v+(k+y*v)*R);else{const R=y*Math.sqrt(S*S-1);_=N=>{const T=Math.exp(-S*y*N),j=Math.min(R*N,300);return f-T*((k+S*y*v)*Math.sinh(j)+R*v*Math.cosh(j))/R}}const E={calculatedDuration:b&&d||null,next:R=>{const N=_(R);if(b)o.done=R>=d;else{let T=0;S<1&&(T=R===0?Ps(k):A_(_,R,N));const j=Math.abs(T)<=i,M=Math.abs(f-N)<=l;o.done=j&&M}return o.value=o.done?f:N,o},toString:()=>{const R=Math.min(Jy(E),wh),N=Qy(T=>E.next(R*T).value,R,30);return R+"ms "+N}};return E}function Vv({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:m=500,modifyTarget:f,min:o,max:c,restDelta:h=.5,restSpeed:g}){const d=e[0],x={done:!1,value:d},b=j=>o!==void 0&&j<o||c!==void 0&&j>c,k=j=>o===void 0?c:c===void 0||Math.abs(o-j)<Math.abs(c-j)?o:c;let S=s*t;const v=d+S,y=f===void 0?v:f(v);y!==v&&(S=y-d);const p=j=>-S*Math.exp(-j/i),_=j=>y+p(j),E=j=>{const M=p(j),F=_(j);x.done=Math.abs(M)<=h,x.value=x.done?y:F};let R,N;const T=j=>{b(x.value)&&(R=j,N=M_({keyframes:[x.value,k(x.value)],velocity:A_(_,j,x.value),damping:l,stiffness:m,restDelta:h,restSpeed:g}))};return T(0),{calculatedDuration:null,next:j=>{let M=!1;return!N&&R===void 0&&(M=!0,E(j),T(j)),R!==void 0&&j>=R?N.next(j-R):(!M&&E(j),x)}}}const fj=aa(.42,0,1,1),pj=aa(0,0,.58,1),D_=aa(.42,0,.58,1),mj=e=>Array.isArray(e)&&typeof e[0]!="number",gj={linear:pr,easeIn:fj,easeInOut:D_,easeOut:pj,circIn:Mf,circInOut:p_,circOut:f_,backIn:Af,backInOut:d_,backOut:u_,anticipate:h_},zv=e=>{if(jf(e)){Ny(e.length===4);const[t,s,i,l]=e;return aa(t,s,i,l)}else if(typeof e=="string")return gj[e];return e};function vj(e,t,s){const i=[],l=s||N_,m=e.length-1;for(let f=0;f<m;f++){let o=l(e[f],e[f+1]);if(t){const c=Array.isArray(t)?t[f]||pr:t;o=la(c,o)}i.push(o)}return i}function yj(e,t,{clamp:s=!0,ease:i,mixer:l}={}){const m=e.length;if(Ny(m===t.length),m===1)return()=>t[0];if(m===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[m-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=vj(t,i,l),c=o.length,h=g=>{if(f&&g<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(g<e[d+1]);d++);const x=Ti(e[d],e[d+1],g);return o[d](x)};return s?g=>h(Ns(e[0],e[m-1],g)):h}function _j(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const l=Ti(0,t,i);e.push(ot(s,1,l))}}function xj(e){const t=[0];return _j(t,e.length-1),t}function wj(e,t){return e.map(s=>s*t)}function Sj(e,t){return e.map(()=>t||D_).splice(0,e.length-1)}function tc({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=mj(i)?i.map(zv):zv(i),m={done:!1,value:t[0]},f=wj(s&&s.length===t.length?s:xj(t),e),o=yj(f,t,{ease:Array.isArray(l)?l:Sj(t,l)});return{calculatedDuration:e,next:c=>(m.value=o(c),m.done=c>=e,m)}}const bj=e=>{const t=({timestamp:s})=>e(s);return{start:()=>tt.update(t,!0),stop:()=>dn(t),now:()=>Lt.isProcessing?Lt.timestamp:ls.now()}},Cj={decay:Vv,inertia:Vv,tween:tc,keyframes:tc,spring:M_},Ej=e=>e/100;class Ff extends R_{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:i,element:l,keyframes:m}=this.options,f=(l==null?void 0:l.KeyframeResolver)||If,o=(c,h)=>this.onKeyframesResolved(c,h);this.resolver=new f(m,o,s,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:m,velocity:f=0}=this.options,o=kf(s)?s:Cj[s]||tc;let c,h;o!==tc&&typeof t[0]!="number"&&(c=la(Ej,N_(t[0],t[1])),t=[0,100]);const g=o({...this.options,keyframes:t});m==="mirror"&&(h=o({...this.options,keyframes:[...t].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=Jy(g));const{calculatedDuration:d}=g,x=d+l,b=x*(i+1)-l;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:x,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:i}=this;if(!i){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:l,generator:m,mirroredGenerator:f,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:h,totalDuration:g,resolvedDuration:d}=i;if(this.startTime===null)return m.next(0);const{delay:x,repeat:b,repeatType:k,repeatDelay:S,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-x*(this.speed>=0?1:-1),p=this.speed>=0?y<0:y>g;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let _=this.currentTime,E=m;if(b){const j=Math.min(this.currentTime,g)/d;let M=Math.floor(j),F=j%1;!F&&j>=1&&(F=1),F===1&&M--,M=Math.min(M,b+1),!!(M%2)&&(k==="reverse"?(F=1-F,S&&(F-=S/d)):k==="mirror"&&(E=f)),_=Ns(0,1,F)*d}const R=p?{done:!1,value:c[0]}:E.next(_);o&&(R.value=o(R.value));let{done:N}=R;!p&&h!==null&&(N=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&l!==void 0&&(R.value=kc(c,this.options,l)),v&&v(R.value),T&&this.finish(),R}get duration(){const{resolved:t}=this;return t?Rs(t.calculatedDuration):0}get time(){return Rs(this.currentTime)}set time(t){t=Ps(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bj,onPlay:s,startTime:i}=this.options;this.driver||(this.driver=t(m=>this.tick(m))),s&&s();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const kj=new Set(["opacity","clipPath","filter","transform"]);function jj(e,t,s,{delay:i=0,duration:l=300,repeat:m=0,repeatType:f="loop",ease:o="easeInOut",times:c}={}){const h={[t]:s};c&&(h.offset=c);const g=e_(o,l);return Array.isArray(g)&&(h.easing=g),e.animate(h,{delay:i,duration:l,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:m+1,direction:f==="reverse"?"alternate":"normal"})}const Pj=df(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rc=10,Rj=2e4;function Tj(e){return kf(e.type)||e.type==="spring"||!Zy(e.ease)}function Nj(e,t){const s=new Ff({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const l=[];let m=0;for(;!i.done&&m<Rj;)i=s.sample(m),l.push(i.value),m+=rc;return{times:void 0,keyframes:l,duration:m-rc,ease:"linear"}}const L_={anticipate:h_,backInOut:d_,circInOut:p_};function Aj(e){return e in L_}class Uv extends R_{constructor(t){super(t);const{name:s,motionValue:i,element:l,keyframes:m}=this.options;this.resolver=new P_(m,(f,o)=>this.onKeyframesResolved(f,o),s,i,l),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:i=300,times:l,ease:m,type:f,motionValue:o,name:c,startTime:h}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof m=="string"&&Zl()&&Aj(m)&&(m=L_[m]),Tj(this.options)){const{onComplete:d,onUpdate:x,motionValue:b,element:k,...S}=this.options,v=Nj(t,S);t=v.keyframes,t.length===1&&(t[1]=t[0]),i=v.duration,l=v.times,m=v.ease,f="keyframes"}const g=jj(o.owner.current,c,t,{...this.options,duration:i,times:l,ease:m});return g.startTime=h??this.calcStartTime(),this.pendingTimeline?(Pv(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:d}=this.options;o.set(kc(t,this.options,s)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:l,type:f,ease:m,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Rs(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Rs(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.currentTime=Ps(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return pr;const{animation:i}=s;Pv(i,t)}return pr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:i,duration:l,type:m,ease:f,times:o}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:d,element:x,...b}=this.options,k=new Ff({...b,keyframes:i,duration:l,type:m,ease:f,times:o,isGenerator:!0}),S=Ps(this.time);h.setWithVelocity(k.sample(S-rc).value,k.sample(S).value,rc)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:i,repeatDelay:l,repeatType:m,damping:f,type:o}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=s.owner.getProps();return Pj()&&i&&kj.has(i)&&!c&&!h&&!l&&m!=="mirror"&&f!==0&&o!=="inertia"}}const Mj={type:"spring",stiffness:500,damping:25,restSpeed:10},Dj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lj={type:"keyframes",duration:.8},Oj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ij=(e,{keyframes:t})=>t.length>2?Lj:Gn.has(e)?e.startsWith("scale")?Dj(t[1]):Mj:Oj;function Bj({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:m,repeatType:f,repeatDelay:o,from:c,elapsed:h,...g}){return!!Object.keys(g).length}const Hf=(e,t,s,i={},l,m)=>f=>{const o=Ef(i,e)||{},c=o.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ps(c);let g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-h,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{f(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:m?void 0:l};Bj(o)||(g={...g,...Ij(e,g)}),g.duration&&(g.duration=Ps(g.duration)),g.repeatDelay&&(g.repeatDelay=Ps(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let d=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(d=!0)),d&&!m&&t.get()!==void 0){const x=kc(g.keyframes,o);if(x!==void 0)return tt.update(()=>{g.onUpdate(x),g.onComplete()}),new sk([])}return!m&&Uv.supports(g)?new Uv(g):new Ff(g)};function Fj({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function O_(e,t,{delay:s=0,transitionOverride:i,type:l}={}){var m;let{transition:f=e.getDefaultTransition(),transitionEnd:o,...c}=t;i&&(f=i);const h=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const d in c){const x=e.getValue(d,(m=e.latestValues[d])!==null&&m!==void 0?m:null),b=c[d];if(b===void 0||g&&Fj(g,d))continue;const k={delay:s,...Ef(f||{},d)};let S=!1;if(window.MotionHandoffAnimation){const y=o_(e);if(y){const p=window.MotionHandoffAnimation(y,d,tt);p!==null&&(k.startTime=p,S=!0)}}bh(e,d),x.start(Hf(d,x,b,e.shouldReduceMotion&&n_.has(d)?{type:!1}:k,e,S));const v=x.animation;v&&h.push(v)}return o&&Promise.all(h).then(()=>{tt.update(()=>{o&&vk(e,o)})}),h}function Th(e,t,s={}){var i;const l=Ec(e,t,s.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:m=e.getDefaultTransition()||{}}=l||{};s.transitionOverride&&(m=s.transitionOverride);const f=l?()=>Promise.all(O_(e,l,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:d,staggerDirection:x}=m;return Hj(e,t,g+h,d,x,s)}:()=>Promise.resolve(),{when:c}=m;if(c){const[h,g]=c==="beforeChildren"?[f,o]:[o,f];return h().then(()=>g())}else return Promise.all([f(),o(s.delay)])}function Hj(e,t,s=0,i=0,l=1,m){const f=[],o=(e.variantChildren.size-1)*i,c=l===1?(h=0)=>h*i:(h=0)=>o-h*i;return Array.from(e.variantChildren).sort($j).forEach((h,g)=>{h.notify("AnimationStart",t),f.push(Th(h,t,{...m,delay:s+c(g)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(f)}function $j(e,t){return e.sortNodePosition(t)}function Vj(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(m=>Th(e,m,s));i=Promise.all(l)}else if(typeof t=="string")i=Th(e,t,s);else{const l=typeof t=="function"?Ec(e,t,s.custom):t;i=Promise.all(O_(e,l,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}const zj=ff.length;function I_(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?I_(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<zj;s++){const i=ff[s],l=e.props[i];(Ko(l)||l===!1)&&(t[i]=l)}return t}const Uj=[...hf].reverse(),Wj=hf.length;function Kj(e){return t=>Promise.all(t.map(({animation:s,options:i})=>Vj(e,s,i)))}function Gj(e){let t=Kj(e),s=Wv(),i=!0;const l=c=>(h,g)=>{var d;const x=Ec(e,g,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(x){const{transition:b,transitionEnd:k,...S}=x;h={...h,...S,...k}}return h};function m(c){t=c(e)}function f(c){const{props:h}=e,g=I_(e.parent)||{},d=[],x=new Set;let b={},k=1/0;for(let v=0;v<Wj;v++){const y=Uj[v],p=s[y],_=h[y]!==void 0?h[y]:g[y],E=Ko(_),R=y===c?p.isActive:null;R===!1&&(k=v);let N=_===g[y]&&_!==h[y]&&E;if(N&&i&&e.manuallyAnimateOnMount&&(N=!1),p.protectedKeys={...b},!p.isActive&&R===null||!_&&!p.prevProp||bc(_)||typeof _=="boolean")continue;const T=qj(p.prevProp,_);let j=T||y===c&&p.isActive&&!N&&E||v>k&&E,M=!1;const F=Array.isArray(_)?_:[_];let H=F.reduce(l(y),{});R===!1&&(H={});const{prevResolvedValues:W={}}=p,$={...W,...H},Z=ee=>{j=!0,x.has(ee)&&(M=!0,x.delete(ee)),p.needsAnimating[ee]=!0;const z=e.getValue(ee);z&&(z.liveStyle=!1)};for(const ee in $){const z=H[ee],D=W[ee];if(b.hasOwnProperty(ee))continue;let B=!1;xh(z)&&xh(D)?B=!Xy(z,D):B=z!==D,B?z!=null?Z(ee):x.add(ee):z!==void 0&&x.has(ee)?Z(ee):p.protectedKeys[ee]=!0}p.prevProp=_,p.prevResolvedValues=H,p.isActive&&(b={...b,...H}),i&&e.blockInitialAnimation&&(j=!1),j&&(!(N&&T)||M)&&d.push(...F.map(ee=>({animation:ee,options:{type:y}})))}if(x.size){const v={};x.forEach(y=>{const p=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),v[y]=p??null}),d.push({animation:v})}let S=!!d.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(d):Promise.resolve()}function o(c,h){var g;if(s[c].isActive===h)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(c,h)}),s[c].isActive=h;const d=f(c);for(const x in s)s[x].protectedKeys={};return d}return{animateChanges:f,setActive:o,setAnimateFunction:m,getState:()=>s,reset:()=>{s=Wv(),i=!0}}}function qj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xy(t,e):!1}function Mn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wv(){return{animate:Mn(!0),whileInView:Mn(),whileHover:Mn(),whileTap:Mn(),whileDrag:Mn(),whileFocus:Mn(),exit:Mn()}}class mn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Yj extends mn{constructor(t){super(t),t.animationState||(t.animationState=Gj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Xj=0;class Jj extends mn{constructor(){super(...arguments),this.id=Xj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Qj={animation:{Feature:Yj},exit:{Feature:Jj}};function Xo(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function ca(e){return{point:{x:e.pageX,y:e.pageY}}}const Zj=e=>t=>Pf(t)&&e(t,ca(t));function zo(e,t,s,i){return Xo(e,t,Zj(s),i)}const Kv=(e,t)=>Math.abs(e-t);function eP(e,t){const s=Kv(e.x,t.x),i=Kv(e.y,t.y);return Math.sqrt(s**2+i**2)}class B_{constructor(t,s,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:m=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Yd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=eP(d.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:k}=d,{timestamp:S}=Lt;this.history.push({...k,timestamp:S});const{onStart:v,onMove:y}=this.handlers;x||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,x)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=qd(x,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(d,x)=>{this.end();const{onEnd:b,onSessionEnd:k,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yd(d.type==="pointercancel"?this.lastMoveEventInfo:qd(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(d,v),k&&k(d,v)},!Pf(t))return;this.dragSnapToOrigin=m,this.handlers=s,this.transformPagePoint=i,this.contextWindow=l||window;const f=ca(t),o=qd(f,this.transformPagePoint),{point:c}=o,{timestamp:h}=Lt;this.history=[{...c,timestamp:h}];const{onSessionStart:g}=s;g&&g(t,Yd(o,this.history)),this.removeListeners=la(zo(this.contextWindow,"pointermove",this.handlePointerMove),zo(this.contextWindow,"pointerup",this.handlePointerUp),zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function qd(e,t){return t?{point:t(e.point)}:e}function Gv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yd({point:e},t){return{point:e,delta:Gv(e,F_(t)),offset:Gv(e,tP(t)),velocity:rP(t,.1)}}function tP(e){return e[0]}function F_(e){return e[e.length-1]}function rP(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const l=F_(e);for(;s>=0&&(i=e[s],!(l.timestamp-i.timestamp>Ps(t)));)s--;if(!i)return{x:0,y:0};const m=Rs(l.timestamp-i.timestamp);if(m===0)return{x:0,y:0};const f={x:(l.x-i.x)/m,y:(l.y-i.y)/m};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}const H_=1e-4,sP=1-H_,nP=1+H_,$_=.01,iP=0-$_,oP=0+$_;function vr(e){return e.max-e.min}function aP(e,t,s){return Math.abs(e-t)<=s}function qv(e,t,s,i=.5){e.origin=i,e.originPoint=ot(t.min,t.max,e.origin),e.scale=vr(s)/vr(t),e.translate=ot(s.min,s.max,e.origin)-e.originPoint,(e.scale>=sP&&e.scale<=nP||isNaN(e.scale))&&(e.scale=1),(e.translate>=iP&&e.translate<=oP||isNaN(e.translate))&&(e.translate=0)}function Uo(e,t,s,i){qv(e.x,t.x,s.x,i?i.originX:void 0),qv(e.y,t.y,s.y,i?i.originY:void 0)}function Yv(e,t,s){e.min=s.min+t.min,e.max=e.min+vr(t)}function lP(e,t,s){Yv(e.x,t.x,s.x),Yv(e.y,t.y,s.y)}function Xv(e,t,s){e.min=t.min-s.min,e.max=e.min+vr(t)}function Wo(e,t,s){Xv(e.x,t.x,s.x),Xv(e.y,t.y,s.y)}function cP(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?ot(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?ot(s,e,i.max):Math.min(e,s)),e}function Jv(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function uP(e,{top:t,left:s,bottom:i,right:l}){return{x:Jv(e.x,s,l),y:Jv(e.y,t,i)}}function Qv(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function dP(e,t){return{x:Qv(e.x,t.x),y:Qv(e.y,t.y)}}function hP(e,t){let s=.5;const i=vr(e),l=vr(t);return l>i?s=Ti(t.min,t.max-i,e.min):i>l&&(s=Ti(e.min,e.max-l,t.min)),Ns(0,1,s)}function fP(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Nh=.35;function pP(e=Nh){return e===!1?e=0:e===!0&&(e=Nh),{x:Zv(e,"left","right"),y:Zv(e,"top","bottom")}}function Zv(e,t,s){return{min:e0(e,t),max:e0(e,s)}}function e0(e,t){return typeof e=="number"?e:e[t]||0}const t0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ei=()=>({x:t0(),y:t0()}),r0=()=>({min:0,max:0}),mt=()=>({x:r0(),y:r0()});function Nr(e){return[e("x"),e("y")]}function V_({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function mP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gP(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Xd(e){return e===void 0||e===1}function Ah({scale:e,scaleX:t,scaleY:s}){return!Xd(e)||!Xd(t)||!Xd(s)}function Ln(e){return Ah(e)||z_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function z_(e){return s0(e.x)||s0(e.y)}function s0(e){return e&&e!=="0%"}function sc(e,t,s){const i=e-s,l=t*i;return s+l}function n0(e,t,s,i,l){return l!==void 0&&(e=sc(e,l,i)),sc(e,s,i)+t}function Mh(e,t=0,s=1,i,l){e.min=n0(e.min,t,s,i,l),e.max=n0(e.max,t,s,i,l)}function U_(e,{x:t,y:s}){Mh(e.x,t.translate,t.scale,t.originPoint),Mh(e.y,s.translate,s.scale,s.originPoint)}const i0=.999999999999,o0=1.0000000000001;function vP(e,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let m,f;for(let o=0;o<l;o++){m=s[o],f=m.projectionDelta;const{visualElement:c}=m.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ji(e,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,U_(e,f)),i&&Ln(m.latestValues)&&ji(e,m.latestValues))}t.x<o0&&t.x>i0&&(t.x=1),t.y<o0&&t.y>i0&&(t.y=1)}function ki(e,t){e.min=e.min+t,e.max=e.max+t}function a0(e,t,s,i,l=.5){const m=ot(e.min,e.max,l);Mh(e,t,s,m,i)}function ji(e,t){a0(e.x,t.x,t.scaleX,t.scale,t.originX),a0(e.y,t.y,t.scaleY,t.scale,t.originY)}function W_(e,t){return V_(gP(e.getBoundingClientRect(),t))}function yP(e,t,s){const i=W_(e,s),{scroll:l}=t;return l&&(ki(i.x,l.offset.x),ki(i.y,l.offset.y)),i}const K_=({current:e})=>e?e.ownerDocument.defaultView:null,_P=new WeakMap;class xP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ca(g).point)},m=(g,d)=>{const{drag:x,dragPropagation:b,onDragStart:k}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hk(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(v=>{let y=this.getAxisMotionValue(v).get()||0;if(as.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const _=p.layout.layoutBox[v];_&&(y=vr(_)*(parseFloat(y)/100))}}this.originPoint[v]=y}),k&&tt.postRender(()=>k(g,d)),bh(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},f=(g,d)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:k,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=d;if(b&&this.currentDirection===null){this.currentDirection=wP(v),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),S&&S(g,d)},o=(g,d)=>this.stop(g,d),c=()=>Nr(g=>{var d;return this.getAnimationState(g)==="paused"&&((d=this.getAxisMotionValue(g).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new B_(t,{onSessionStart:l,onStart:m,onMove:f,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:K_(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:m}=this.getProps();m&&tt.postRender(()=>m(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!Ll(t,l,this.currentDirection))return;const m=this.getAxisMotionValue(t);let f=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(f=cP(f,this.constraints[t],this.elastic[t])),m.set(f)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,m=this.constraints;s&&bi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&l?this.constraints=uP(l.layoutBox,s):this.constraints=!1,this.elastic=pP(i),m!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Nr(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=fP(l.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!bi(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const m=yP(i,l.root,this.visualElement.getTransformPagePoint());let f=dP(l.layout.layoutBox,m);if(s){const o=s(mP(f));this.hasMutatedConstraints=!!o,o&&(f=V_(o))}return f}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:m,dragSnapToOrigin:f,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},h=Nr(g=>{if(!Ll(g,s,this.currentDirection))return;let d=c&&c[g]||{};f&&(d={min:0,max:0});const x=l?200:1e6,b=l?40:1e7,k={type:"inertia",velocity:i?t[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...m,...d};return this.startAxisValueAnimation(g,k)});return Promise.all(h).then(o)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return bh(this.visualElement,t),i.start(Hf(t,i,0,s,this.visualElement,!1))}stopAnimation(){Nr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Nr(s=>{const{drag:i}=this.getProps();if(!Ll(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,m=this.getAxisMotionValue(s);if(l&&l.layout){const{min:f,max:o}=l.layout.layoutBox[s];m.set(t[s]-ot(f,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!bi(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Nr(f=>{const o=this.getAxisMotionValue(f);if(o&&this.constraints!==!1){const c=o.get();l[f]=hP({min:c,max:c},this.constraints[f])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nr(f=>{if(!Ll(f,t,null))return;const o=this.getAxisMotionValue(f),{min:c,max:h}=this.constraints[f];o.set(ot(c,h,l[f]))})}addListeners(){if(!this.visualElement.current)return;_P.set(this.visualElement,this);const t=this.visualElement.current,s=zo(t,"pointerdown",c=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,m=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),tt.read(i);const f=Xo(window,"resize",()=>this.scalePositionWithinConstraints()),o=l.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Nr(g=>{const d=this.getAxisMotionValue(g);d&&(this.originPoint[g]+=c[g].translate,d.set(d.get()+c[g].translate))}),this.visualElement.render())}));return()=>{f(),s(),m(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:m=!1,dragElastic:f=Nh,dragMomentum:o=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:m,dragElastic:f,dragMomentum:o}}}function Ll(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function wP(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class SP extends mn{constructor(t){super(t),this.removeGroupControls=pr,this.removeListeners=pr,this.controls=new xP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const l0=e=>(t,s)=>{e&&tt.postRender(()=>e(t,s))};class bP extends mn{constructor(){super(...arguments),this.removePointerDownListener=pr}onPointerDown(t){this.session=new B_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:l0(t),onStart:l0(s),onMove:i,onEnd:(m,f)=>{delete this.session,l&&tt.postRender(()=>l(m,f))}}}mount(){this.removePointerDownListener=zo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Do={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(De.test(e))e=parseFloat(e);else return e;const s=c0(e,t.target.x),i=c0(e,t.target.y);return`${s}% ${i}%`}},CP={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,l=hn.parse(e);if(l.length>5)return i;const m=hn.createTransformer(e),f=typeof l[0]!="number"?1:0,o=s.x.scale*t.x,c=s.y.scale*t.y;l[0+f]/=o,l[1+f]/=c;const h=ot(o,c,.5);return typeof l[2+f]=="number"&&(l[2+f]/=h),typeof l[3+f]=="number"&&(l[3+f]/=h),m(l)}};class EP extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:m}=t;WE(kP),m&&(s.group&&s.group.add(m),i&&i.register&&l&&i.register(m),m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,onExitComplete:()=>this.safeToRemove()})),Kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:m}=this.props,f=i.projection;return f&&(f.isPresent=m,l||t.layoutDependency!==s||s===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==m&&(m?f.promote():f.relegate()||tt.postRender(()=>{const o=f.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function G_(e){const[t,s]=Py(),i=C.useContext(af);return a.jsx(EP,{...e,layoutGroup:i,switchLayoutGroup:C.useContext(Iy),isPresent:t,safeToRemove:s})}const kP={borderRadius:{...Do,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Do,borderTopRightRadius:Do,borderBottomLeftRadius:Do,borderBottomRightRadius:Do,boxShadow:CP};function jP(e,t,s){const i=Wt(e)?e:qo(e);return i.start(Hf("",i,t,s)),i.animation}function PP(e){return e instanceof SVGElement&&e.tagName!=="svg"}const RP=(e,t)=>e.depth-t.depth;class TP{constructor(){this.children=[],this.isDirty=!1}add(t){Rf(this.children,t),this.isDirty=!0}remove(t){Tf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RP),this.isDirty=!1,this.children.forEach(t)}}function NP(e,t){const s=ls.now(),i=({timestamp:l})=>{const m=l-s;m>=t&&(dn(i),e(m-t))};return tt.read(i,!0),()=>dn(i)}const q_=["TopLeft","TopRight","BottomLeft","BottomRight"],AP=q_.length,u0=e=>typeof e=="string"?parseFloat(e):e,d0=e=>typeof e=="number"||De.test(e);function MP(e,t,s,i,l,m){l?(e.opacity=ot(0,s.opacity!==void 0?s.opacity:1,DP(i)),e.opacityExit=ot(t.opacity!==void 0?t.opacity:1,0,LP(i))):m&&(e.opacity=ot(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,i));for(let f=0;f<AP;f++){const o=`border${q_[f]}Radius`;let c=h0(t,o),h=h0(s,o);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||d0(c)===d0(h)?(e[o]=Math.max(ot(u0(c),u0(h),i),0),(as.test(h)||as.test(c))&&(e[o]+="%")):e[o]=h}(t.rotate||s.rotate)&&(e.rotate=ot(t.rotate||0,s.rotate||0,i))}function h0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DP=Y_(0,.5,f_),LP=Y_(.5,.95,pr);function Y_(e,t,s){return i=>i<e?0:i>t?1:s(Ti(e,t,i))}function f0(e,t){e.min=t.min,e.max=t.max}function Tr(e,t){f0(e.x,t.x),f0(e.y,t.y)}function p0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m0(e,t,s,i,l){return e-=t,e=sc(e,1/s,i),l!==void 0&&(e=sc(e,1/l,i)),e}function OP(e,t=0,s=1,i=.5,l,m=e,f=e){if(as.test(t)&&(t=parseFloat(t),t=ot(f.min,f.max,t/100)-f.min),typeof t!="number")return;let o=ot(m.min,m.max,i);e===m&&(o-=t),e.min=m0(e.min,t,s,o,l),e.max=m0(e.max,t,s,o,l)}function g0(e,t,[s,i,l],m,f){OP(e,t[s],t[i],t[l],t.scale,m,f)}const IP=["x","scaleX","originX"],BP=["y","scaleY","originY"];function v0(e,t,s,i){g0(e.x,t,IP,s?s.x:void 0,i?i.x:void 0),g0(e.y,t,BP,s?s.y:void 0,i?i.y:void 0)}function y0(e){return e.translate===0&&e.scale===1}function X_(e){return y0(e.x)&&y0(e.y)}function _0(e,t){return e.min===t.min&&e.max===t.max}function FP(e,t){return _0(e.x,t.x)&&_0(e.y,t.y)}function x0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function J_(e,t){return x0(e.x,t.x)&&x0(e.y,t.y)}function w0(e){return vr(e.x)/vr(e.y)}function S0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class HP{constructor(){this.members=[]}add(t){Rf(this.members,t),t.scheduleRender()}remove(t){if(Tf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const m=this.members[l];if(m.isPresent!==!1){i=m;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $P(e,t,s){let i="";const l=e.x.translate/t.x,m=e.y.translate/t.y,f=(s==null?void 0:s.z)||0;if((l||m||f)&&(i=`translate3d(${l}px, ${m}px, ${f}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:h,rotate:g,rotateX:d,rotateY:x,skewX:b,skewY:k}=s;h&&(i=`perspective(${h}px) ${i}`),g&&(i+=`rotate(${g}deg) `),d&&(i+=`rotateX(${d}deg) `),x&&(i+=`rotateY(${x}deg) `),b&&(i+=`skewX(${b}deg) `),k&&(i+=`skewY(${k}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const On={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bo=typeof window<"u"&&window.MotionDebug!==void 0,Jd=["","X","Y","Z"],VP={visibility:"hidden"},b0=1e3;let zP=0;function Qd(e,t,s,i){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Q_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=o_(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:m}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",tt,!(l||m))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Q_(i)}function Z_({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(f={},o=t==null?void 0:t()){this.id=zP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bo&&(On.totalNodes=On.resolvedTargetDeltas=On.recalculatedProjection=0),this.nodes.forEach(KP),this.nodes.forEach(JP),this.nodes.forEach(QP),this.nodes.forEach(GP),Bo&&window.MotionDebug.record(On)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new TP)}addEventListener(f,o){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Nf),this.eventHandlers.get(f).add(o)}notifyListeners(f,...o){const c=this.eventHandlers.get(f);c&&c.notify(...o)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PP(f),this.instance=f;const{layoutId:c,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(h||c)&&(this.isLayoutDirty=!0),e){let d;const x=()=>this.root.updateBlockedByResize=!1;e(f,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=NP(x,250),Kl.hasAnimatedSinceResize&&(Kl.hasAnimatedSinceResize=!1,this.nodes.forEach(E0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&g&&(c||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||sR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=g.getProps(),p=!this.targetLayout||!J_(this.targetLayout,k)||b,_=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||x&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const E={...Ef(S,"layout"),onPlay:v,onComplete:y};(g.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else x||E0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZP),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const d=this.path[g];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C0);return}this.isUpdating||this.nodes.forEach(YP),this.isUpdating=!1,this.nodes.forEach(XP),this.nodes.forEach(UP),this.nodes.forEach(WP),this.clearAllSnapshots();const o=ls.now();Lt.delta=Ns(0,1e3/60,o-Lt.timestamp),Lt.timestamp=o,Lt.isProcessing=!0,Vd.update.process(Lt),Vd.preRender.process(Lt),Vd.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qP),this.sharedNodes.forEach(eR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(o=!1),o){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!X_(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;f&&(o||Ln(this.latestValues)||g)&&(l(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return f&&(c=this.removeTransform(c)),nR(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return mt();const c=o.measureViewportBox();if(!(((f=this.scroll)===null||f===void 0?void 0:f.wasRoot)||this.path.some(iR))){const{scroll:g}=this.root;g&&(ki(c.x,g.offset.x),ki(c.y,g.offset.y))}return c}removeElementScroll(f){var o;const c=mt();if(Tr(c,f),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:d,options:x}=g;g!==this.root&&d&&x.layoutScroll&&(d.wasRoot&&Tr(c,f),ki(c.x,d.offset.x),ki(c.y,d.offset.y))}return c}applyTransform(f,o=!1){const c=mt();Tr(c,f);for(let h=0;h<this.path.length;h++){const g=this.path[h];!o&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ji(c,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ln(g.latestValues)&&ji(c,g.latestValues)}return Ln(this.latestValues)&&ji(c,this.latestValues),c}removeTransform(f){const o=mt();Tr(o,f);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Ln(h.latestValues))continue;Ah(h.latestValues)&&h.updateSnapshot();const g=mt(),d=h.measurePageBox();Tr(g,d),v0(o,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Ln(this.latestValues)&&v0(o,this.latestValues),o}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(f||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:x}=this.options;if(!(!this.layout||!(d||x))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Wo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),U_(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Wo(this.relativeTargetOrigin,this.target,b.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bo&&On.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ah(this.parent.latestValues)||z_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(h=!1),h)return;const{layout:g,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||d))return;Tr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;vP(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mt());const{target:k}=o;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p0(this.prevProjectionDelta.x,this.projectionDelta.x),p0(this.prevProjectionDelta.y,this.projectionDelta.y)),Uo(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!S0(this.projectionDelta.x,this.prevProjectionDelta.x)||!S0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Bo&&On.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),f){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ei(),this.projectionDelta=Ei(),this.projectionDeltaWithTransform=Ei()}setAnimationOrigin(f,o=!1){const c=this.snapshot,h=c?c.latestValues:{},g={...this.latestValues},d=Ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=mt(),b=c?c.source:void 0,k=this.layout?this.layout.source:void 0,S=b!==k,v=this.getStack(),y=!v||v.members.length<=1,p=!!(S&&!y&&this.options.crossfade===!0&&!this.path.some(rR));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const R=E/1e3;k0(d.x,f.x,R),k0(d.y,f.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wo(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tR(this.relativeTarget,this.relativeTargetOrigin,x,R),_&&FP(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=mt()),Tr(_,this.relativeTarget)),S&&(this.animationValues=g,MP(g,h,this.latestValues,R,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Kl.hasAnimatedSinceResize=!0,this.currentAnimation=jP(0,b0,{...f,onUpdate:o=>{this.mixTargetDelta(o),f.onUpdate&&f.onUpdate(o)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:o,target:c,layout:h,latestValues:g}=f;if(!(!o||!c||!h)){if(this!==f&&this.layout&&h&&ex(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||mt();const d=vr(this.layout.layoutBox.x);c.x.min=f.target.x.min,c.x.max=c.x.min+d;const x=vr(this.layout.layoutBox.y);c.y.min=f.target.y.min,c.y.max=c.y.min+x}Tr(o,c),ji(o,g),Uo(this.projectionDeltaWithTransform,this.layoutCorrected,o,g)}}registerSharedNode(f,o){this.sharedNodes.has(f)||this.sharedNodes.set(f,new HP),this.sharedNodes.get(f).add(o);const h=o.options.initialPromotionConfig;o.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(o):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:o}=this.options;return o?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:o}=this.options;return o?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:o,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),f&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let o=!1;const{latestValues:c}=f;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const h={};c.z&&Qd("z",f,h,this.animationValues);for(let g=0;g<Jd.length;g++)Qd(`rotate${Jd[g]}`,f,h,this.animationValues),Qd(`skew${Jd[g]}`,f,h,this.animationValues);f.render();for(const g in h)f.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);f.scheduleRender()}getProjectionStyles(f){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VP;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ul(f==null?void 0:f.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Ul(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const x=d.animationValues||d.latestValues;this.applyTransformsToTarget(),h.transform=$P(this.projectionDeltaWithTransform,this.treeScale,x),g&&(h.transform=g(x,h.transform));const{x:b,y:k}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${k.origin*100}% 0`,d.animationValues?h.opacity=d===this?(c=(o=x.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=d===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const S in Ql){if(x[S]===void 0)continue;const{correct:v,applyTo:y}=Ql[S],p=h.transform==="none"?x[S]:v(x[S],d);if(y){const _=y.length;for(let E=0;E<_;E++)h[y[E]]=p}else h[S]=p}return this.options.layoutId&&(h.pointerEvents=d===this?Ul(f==null?void 0:f.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var o;return(o=f.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(C0),this.root.sharedNodes.clear()}}}function UP(e){e.updateLayout()}function WP(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=e.layout,{animationType:m}=e.options,f=s.source!==e.layout.source;m==="size"?Nr(d=>{const x=f?s.measuredBox[d]:s.layoutBox[d],b=vr(x);x.min=i[d].min,x.max=x.min+b}):ex(m,s.layoutBox,i)&&Nr(d=>{const x=f?s.measuredBox[d]:s.layoutBox[d],b=vr(i[d]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+b)});const o=Ei();Uo(o,i,s.layoutBox);const c=Ei();f?Uo(c,e.applyTransform(l,!0),s.measuredBox):Uo(c,i,s.layoutBox);const h=!X_(o);let g=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:x,layout:b}=d;if(x&&b){const k=mt();Wo(k,s.layoutBox,x.layoutBox);const S=mt();Wo(S,i,b.layoutBox),J_(k,S)||(g=!0),d.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=k,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:h,hasRelativeTargetChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function KP(e){Bo&&On.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qP(e){e.clearSnapshot()}function C0(e){e.clearMeasurements()}function YP(e){e.isLayoutDirty=!1}function XP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JP(e){e.resolveTargetDelta()}function QP(e){e.calcProjection()}function ZP(e){e.resetSkewAndRotation()}function eR(e){e.removeLeadSnapshot()}function k0(e,t,s){e.translate=ot(t.translate,0,s),e.scale=ot(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function j0(e,t,s,i){e.min=ot(t.min,s.min,i),e.max=ot(t.max,s.max,i)}function tR(e,t,s,i){j0(e.x,t.x,s.x,i),j0(e.y,t.y,s.y,i)}function rR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sR={duration:.45,ease:[.4,0,.1,1]},P0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R0=P0("applewebkit/")&&!P0("chrome/")?Math.round:pr;function T0(e){e.min=R0(e.min),e.max=R0(e.max)}function nR(e){T0(e.x),T0(e.y)}function ex(e,t,s){return e==="position"||e==="preserve-aspect"&&!aP(w0(t),w0(s),.2)}function iR(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const oR=Z_({attachResizeListener:(e,t)=>Xo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zd={current:void 0},tx=Z_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zd.current){const e=new oR({});e.mount(window),e.setOptions({layoutScroll:!0}),Zd.current=e}return Zd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aR={pan:{Feature:bP},drag:{Feature:SP,ProjectionNode:tx,MeasureLayout:G_}};function N0(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,m=i[l];m&&tt.postRender(()=>m(t,ca(t)))}class lR extends mn{mount(){const{current:t}=this.node;t&&(this.unmount=ak(t,s=>(N0(this.node,s,"Start"),i=>N0(this.node,i,"End"))))}unmount(){}}class cR extends mn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=la(Xo(this.node.current,"focus",()=>this.onFocus()),Xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A0(e,t,s){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),m=i[l];m&&tt.postRender(()=>m(t,ca(t)))}class uR extends mn{mount(){const{current:t}=this.node;t&&(this.unmount=dk(t,s=>(A0(this.node,s,"Start"),(i,{success:l})=>A0(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dh=new WeakMap,eh=new WeakMap,dR=e=>{const t=Dh.get(e.target);t&&t(e)},hR=e=>{e.forEach(dR)};function fR({root:e,...t}){const s=e||document;eh.has(s)||eh.set(s,{});const i=eh.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(hR,{root:e,...t})),i[l]}function pR(e,t,s){const i=fR(t);return Dh.set(e,s),i.observe(e),()=>{Dh.delete(e),i.unobserve(e)}}const mR={some:0,all:1};class gR extends mn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:m}=t,f={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:mR[l]},o=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,m&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:d}=this.node.getProps(),x=h?g:d;x&&x(c)};return pR(this.node.current,f,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(vR(t,s))&&this.startObserver()}unmount(){}}function vR({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const yR={inView:{Feature:gR},tap:{Feature:uR},focus:{Feature:cR},hover:{Feature:lR}},_R={layout:{ProjectionNode:tx,MeasureLayout:G_}},Lh={current:null},rx={current:!1};function xR(){if(rx.current=!0,!!uf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lh.current=e.matches;e.addListener(t),t()}else Lh.current=!1}const wR=[...j_,Ut,hn],SR=e=>wR.find(k_(e)),M0=new WeakMap;function bR(e,t,s){for(const i in t){const l=t[i],m=s[i];if(Wt(l))e.addValue(i,l);else if(Wt(m))e.addValue(i,qo(l,{owner:e}));else if(m!==l)if(e.hasValue(i)){const f=e.getValue(i);f.liveStyle===!0?f.jump(l):f.hasAnimated||f.set(l)}else{const f=e.getStaticValue(i);e.addValue(i,qo(f!==void 0?f:l,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const D0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CR{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:m,visualState:f},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=If,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ls.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,tt.render(this.render,!1,!0))};const{latestValues:c,renderState:h,onUpdate:g}=f;this.onUpdate=g,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=h,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=o,this.blockInitialAnimation=!!m,this.isControllingVariants=Cc(s),this.isVariantNode=Ly(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in x){const k=x[b];c[b]!==void 0&&Wt(k)&&k.set(c[b],!1)}}mount(t){this.current=t,M0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),rx.current||xR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M0.delete(this.current),this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Gn.has(t),l=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),m=s.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),m(),f&&f(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ni){const s=Ni[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const m=this.features[t];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<D0.length;i++){const l=D0[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const m="on"+l,f=t[m];f&&(this.propEventSubscriptions[l]=this.on(l,f))}this.prevMotionValues=bR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=qo(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){var i;let l=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return l!=null&&(typeof l=="string"&&(C_(l)||m_(l))?l=parseFloat(l):!SR(l)&&hn.test(s)&&(l=w_(t,s)),this.setBaseTarget(t,Wt(l)?l.get():l)),Wt(l)?l.get():l}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const f=vf(this.props,i,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);f&&(l=f[t])}if(i&&l!==void 0)return l;const m=this.getBaseTargetFromProps(this.props,t);return m!==void 0&&!Wt(m)?m:this.initialValues[t]!==void 0&&l===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Nf),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class sx extends CR{constructor(){super(...arguments),this.KeyframeResolver=P_}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ER(e){return window.getComputedStyle(e)}class kR extends sx{constructor(){super(...arguments),this.type="html",this.renderInstance=Uy}readValueFromInstance(t,s){if(Gn.has(s)){const i=Of(s);return i&&i.default||0}else{const i=ER(t),l=($y(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return W_(t,s)}build(t,s,i){xf(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return Cf(t,s,i)}}class jR extends sx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Gn.has(s)){const i=Of(s);return i&&i.default||0}return s=Wy.has(s)?s:pf(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return qy(t,s,i)}build(t,s,i){wf(t,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,i,l){Ky(t,s,i,l)}mount(t){this.isSVGTag=bf(t.tagName),super.mount(t)}}const PR=(e,t)=>gf(e)?new jR(t):new kR(t,{allowProjection:e!==C.Fragment}),RR=ek({...Qj,...yR,...aR,..._R},PR),ln=mE(RR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=(...e)=>e.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:m,iconNode:f,...o},c)=>C.createElement("svg",{ref:c,...NR,width:t,height:t,stroke:e,strokeWidth:i?Number(s)*24/Number(t):s,className:nx("lucide",l),...o},[...f.map(([h,g])=>C.createElement(h,g)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const s=C.forwardRef(({className:i,...l},m)=>C.createElement(AR,{ref:m,iconNode:t,className:nx(`lucide-${TR(e)}`,i),...l}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DR=ke("ArrowRight",MR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hn=ke("BookOpen",LR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],nc=ke("Brain",OR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qr=ke("Check",IR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ua=ke("ChevronDown",BR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jc=ke("ChevronRight",FR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$R=ke("ChevronUp",HR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ic=ke("CircleAlert",VR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$f=ke("CircleHelp",zR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WR=ke("Circle",UR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],GR=ke("Clipboard",KR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],th=ke("Clock",qR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],XR=ke("Code",YR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mi=ke("Copy",JR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Pc=ke("Download",QR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ix=ke("EllipsisVertical",ZR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gl=ke("ExternalLink",eT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ox=ke("Eye",tT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],ax=ke("FileCode",rT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],Vf=ke("FilePen",sT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ar=ke("FileText",nT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Oh=ke("File",iT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],$n=ke("FolderOpen",oT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],lT=ke("FolderPlus",aT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],bt=ke("Folder",cT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],dT=ke("Github",uT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lx=ke("Globe",hT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zf=ke("House",fT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mT=ke("Info",pT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],vT=ke("Keyboard",gT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cx=ke("Layers",yT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ct=ke("LoaderCircle",_T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ux=ke("Lock",xT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ST=ke("Monitor",wT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],L0=ke("Moon",bT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],dx=ke("Move",CT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Jo=ke("Package",ET);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Rc=ke("PanelsTopLeft",kT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Uf=ke("PenLine",jT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hx=ke("Pencil",PT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],oc=ke("Plug",RT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ir=ke("Plus",TT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mr=ke("RefreshCw",NT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],MT=ke("Rocket",AT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$i=ke("Save",DT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wf=ke("Search",LT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Kf=ke("Server",OT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],BT=ke("Settings2",IT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Di=ke("Settings",FT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tc=ke("Shield",HT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fx=ke("Sparkles",$T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zT=ke("Star",VT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],O0=ke("Sun",UT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],Ot=ke("Terminal",WT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qo=ke("Trash2",KT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nc=ke("TriangleAlert",GT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ih=ke("Upload",qT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ks=ke("WandSparkles",YT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],px=ke("Wrench",XT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mx=ke("X",JT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gx=ke("Zap",QT),ZT="/api";async function Ne(e,t={}){const s=`${ZT}${e}`,i={headers:{"Content-Type":"application/json"},...t};t.body&&typeof t.body=="object"&&(i.body=JSON.stringify(t.body));const l=await fetch(s,i);if(!l.ok){const m=await l.json().catch(()=>({error:"Request failed"}));throw new Error(m.error||`HTTP ${l.status}`)}return l.json()}const Ae={async getProject(){return Ne("/project")},async switchProject(e){return Ne("/switch-project",{method:"POST",body:{dir:e}})},async getProjects(){return Ne("/projects")},async addProject(e,t=null){return Ne("/projects",{method:"POST",body:{path:e,name:t}})},async removeProject(e){return Ne(`/projects/${e}`,{method:"DELETE"})},async setActiveProject(e){return Ne("/projects/active",{method:"PUT",body:{id:e}})},async getConfigs(){return Ne("/configs")},async updateConfig(e,t){return Ne("/config",{method:"PUT",body:{dir:e,config:t}})},async getRegistry(){return Ne("/registry")},async updateRegistry(e){return Ne("/registry",{method:"PUT",body:e})},async getRules(){return Ne("/rules")},async getRule(e){return Ne(`/rule?path=${encodeURIComponent(e)}`)},async saveRule(e,t){return Ne("/rule",{method:"PUT",body:{path:e,content:t}})},async createRule(e,t,s=""){return Ne("/rule",{method:"POST",body:{dir:e,name:t,content:s}})},async deleteRule(e){return Ne(`/rule?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getCommands(){return Ne("/commands")},async getCommand(e){return Ne(`/command?path=${encodeURIComponent(e)}`)},async saveCommand(e,t){return Ne("/command",{method:"PUT",body:{path:e,content:t}})},async createCommand(e,t,s=""){return Ne("/command",{method:"POST",body:{dir:e,name:t,content:s}})},async deleteCommand(e){return Ne(`/command?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getTemplates(){return Ne("/templates")},async applyTemplate(e,t){return Ne("/apply-template",{method:"POST",body:{template:e,dir:t}})},async applyConfig(e){return Ne("/apply",{method:"POST",body:{dir:e}})},async getEnv(e){return Ne(`/env?dir=${encodeURIComponent(e)}`)},async saveEnv(e,t){return Ne("/env",{method:"PUT",body:{dir:e,content:t}})},async getFileHashes(){return Ne("/file-hashes")},async checkVersion(){return Ne("/version-check")},async performUpdate(e){return Ne("/update",{method:"POST",body:e})},async reload(){return Ne("/reload",{method:"POST"})},async searchGithub(e){return Ne(`/search/github?q=${encodeURIComponent(e)}`)},async searchNpm(e){return Ne(`/search/npm?q=${encodeURIComponent(e)}`)},async getMcpTools(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return Ne(`/mcp-tools${t}`)},async getClaudeFolders(){return Ne("/claude-folders")},async getIntermediatePaths(){return Ne("/intermediate-paths")},async getClaudeFile(e){return Ne(`/claude-file?path=${encodeURIComponent(e)}`)},async saveClaudeFile(e,t){return Ne("/claude-file",{method:"PUT",body:{path:e,content:t}})},async deleteClaudeFile(e){return Ne(`/claude-file?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async createClaudeFile(e,t,s,i=""){return Ne("/claude-file",{method:"POST",body:{dir:e,name:t,type:s,content:i}})},async moveClaudeItem(e,t,s="copy",i=!1){return Ne("/claude-move",{method:"POST",body:{sourcePath:e,targetDir:t,mode:s,merge:i}})},async renameClaudeFile(e,t){return Ne("/claude-rename",{method:"POST",body:{oldPath:e,newName:t}})},async getMemory(){return Ne("/memory")},async getMemoryFile(e){return Ne(`/memory/file?path=${encodeURIComponent(e)}`)},async saveMemoryFile(e,t){return Ne("/memory/file",{method:"PUT",body:{path:e,content:t}})},async addMemoryEntry(e,t,s="global"){return Ne("/memory/entry",{method:"POST",body:{type:e,content:t,scope:s}})},async initProjectMemory(e){return Ne("/memory/init",{method:"POST",body:{dir:e}})},async searchMemory(e){return Ne(`/memory/search?q=${encodeURIComponent(e)}`)},async getSyncState(){return Ne("/memory/sync")},async getClaudeSettings(){return Ne("/claude-settings")},async saveClaudeSettings(e){return Ne("/claude-settings",{method:"PUT",body:{settings:e}})},async getConfig(){return Ne("/preferences")},async saveConfig(e){return Ne("/preferences",{method:"PUT",body:e})},async browse(e,t="directory"){return Ne("/browse",{method:"POST",body:{path:e,type:t}})}};function vx(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(s=vx(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function yx(){for(var e,t,s=0,i="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=vx(e))&&(i&&(i+=" "),i+=t);return i}const eN=(e,t)=>{const s=new Array(e.length+t.length);for(let i=0;i<e.length;i++)s[i]=e[i];for(let i=0;i<t.length;i++)s[e.length+i]=t[i];return s},tN=(e,t)=>({classGroupId:e,validator:t}),_x=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),ac="-",I0=[],rN="arbitrary..",sN=e=>{const t=iN(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return nN(f);const o=f.split(ac),c=o[0]===""&&o.length>1?1:0;return xx(o,c,t)},getConflictingClassGroupIds:(f,o)=>{if(o){const c=i[f],h=s[f];return c?h?eN(h,c):c:h||I0}return s[f]||I0}}},xx=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const l=e[t],m=s.nextPart.get(l);if(m){const h=xx(e,t+1,m);if(h)return h}const f=s.validators;if(f===null)return;const o=t===0?e.join(ac):e.slice(t).join(ac),c=f.length;for(let h=0;h<c;h++){const g=f[h];if(g.validator(o))return g.classGroupId}},nN=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),i=t.slice(0,s);return i?rN+i:void 0})(),iN=e=>{const{theme:t,classGroups:s}=e;return oN(s,t)},oN=(e,t)=>{const s=_x();for(const i in e){const l=e[i];Gf(l,s,i,t)}return s},Gf=(e,t,s,i)=>{const l=e.length;for(let m=0;m<l;m++){const f=e[m];aN(f,t,s,i)}},aN=(e,t,s,i)=>{if(typeof e=="string"){lN(e,t,s);return}if(typeof e=="function"){cN(e,t,s,i);return}uN(e,t,s,i)},lN=(e,t,s)=>{const i=e===""?t:wx(t,e);i.classGroupId=s},cN=(e,t,s,i)=>{if(dN(e)){Gf(e(i),t,s,i);return}t.validators===null&&(t.validators=[]),t.validators.push(tN(s,e))},uN=(e,t,s,i)=>{const l=Object.entries(e),m=l.length;for(let f=0;f<m;f++){const[o,c]=l[f];Gf(c,wx(t,o),s,i)}},wx=(e,t)=>{let s=e;const i=t.split(ac),l=i.length;for(let m=0;m<l;m++){const f=i[m];let o=s.nextPart.get(f);o||(o=_x(),s.nextPart.set(f,o)),s=o}return s},dN=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,hN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),i=Object.create(null);const l=(m,f)=>{s[m]=f,t++,t>e&&(t=0,i=s,s=Object.create(null))};return{get(m){let f=s[m];if(f!==void 0)return f;if((f=i[m])!==void 0)return l(m,f),f},set(m,f){m in s?s[m]=f:l(m,f)}}},Bh="!",B0=":",fN=[],F0=(e,t,s,i,l)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:i,isExternal:l}),pN=e=>{const{prefix:t,experimentalParseClassName:s}=e;let i=l=>{const m=[];let f=0,o=0,c=0,h;const g=l.length;for(let S=0;S<g;S++){const v=l[S];if(f===0&&o===0){if(v===B0){m.push(l.slice(c,S)),c=S+1;continue}if(v==="/"){h=S;continue}}v==="["?f++:v==="]"?f--:v==="("?o++:v===")"&&o--}const d=m.length===0?l:l.slice(c);let x=d,b=!1;d.endsWith(Bh)?(x=d.slice(0,-1),b=!0):d.startsWith(Bh)&&(x=d.slice(1),b=!0);const k=h&&h>c?h-c:void 0;return F0(m,b,x,k)};if(t){const l=t+B0,m=i;i=f=>f.startsWith(l)?m(f.slice(l.length)):F0(fN,!1,f,void 0,!0)}if(s){const l=i;i=m=>s({className:m,parseClassName:l})}return i},mN=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,i)=>{t.set(s,1e6+i)}),s=>{const i=[];let l=[];for(let m=0;m<s.length;m++){const f=s[m],o=f[0]==="[",c=t.has(f);o||c?(l.length>0&&(l.sort(),i.push(...l),l=[]),i.push(f)):l.push(f)}return l.length>0&&(l.sort(),i.push(...l)),i}},gN=e=>({cache:hN(e.cacheSize),parseClassName:pN(e),sortModifiers:mN(e),...sN(e)}),vN=/\s+/,yN=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:l,sortModifiers:m}=t,f=[],o=e.trim().split(vN);let c="";for(let h=o.length-1;h>=0;h-=1){const g=o[h],{isExternal:d,modifiers:x,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:S}=s(g);if(d){c=g+(c.length>0?" "+c:c);continue}let v=!!S,y=i(v?k.substring(0,S):k);if(!y){if(!v){c=g+(c.length>0?" "+c:c);continue}if(y=i(k),!y){c=g+(c.length>0?" "+c:c);continue}v=!1}const p=x.length===0?"":x.length===1?x[0]:m(x).join(":"),_=b?p+Bh:p,E=_+y;if(f.indexOf(E)>-1)continue;f.push(E);const R=l(y,v);for(let N=0;N<R.length;++N){const T=R[N];f.push(_+T)}c=g+(c.length>0?" "+c:c)}return c},_N=(...e)=>{let t=0,s,i,l="";for(;t<e.length;)(s=e[t++])&&(i=Sx(s))&&(l&&(l+=" "),l+=i);return l},Sx=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=Sx(e[i]))&&(s&&(s+=" "),s+=t);return s},xN=(e,...t)=>{let s,i,l,m;const f=c=>{const h=t.reduce((g,d)=>d(g),e());return s=gN(h),i=s.cache.get,l=s.cache.set,m=o,o(c)},o=c=>{const h=i(c);if(h)return h;const g=yN(c,s);return l(c,g),g};return m=f,(...c)=>m(_N(...c))},wN=[],St=e=>{const t=s=>s[e]||wN;return t.isThemeGetter=!0,t},bx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SN=/^\d+\/\d+$/,bN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_i=e=>SN.test(e),He=e=>!!e&&!Number.isNaN(Number(e)),nn=e=>!!e&&Number.isInteger(Number(e)),rh=e=>e.endsWith("%")&&He(e.slice(0,-1)),Es=e=>bN.test(e),PN=()=>!0,RN=e=>CN.test(e)&&!EN.test(e),Ex=()=>!1,TN=e=>kN.test(e),NN=e=>jN.test(e),AN=e=>!Se(e)&&!be(e),MN=e=>Vi(e,Px,Ex),Se=e=>bx.test(e),Dn=e=>Vi(e,Rx,RN),sh=e=>Vi(e,BN,He),H0=e=>Vi(e,kx,Ex),DN=e=>Vi(e,jx,NN),Ol=e=>Vi(e,Tx,TN),be=e=>Cx.test(e),Lo=e=>zi(e,Rx),LN=e=>zi(e,FN),$0=e=>zi(e,kx),ON=e=>zi(e,Px),IN=e=>zi(e,jx),Il=e=>zi(e,Tx,!0),Vi=(e,t,s)=>{const i=bx.exec(e);return i?i[1]?t(i[1]):s(i[2]):!1},zi=(e,t,s=!1)=>{const i=Cx.exec(e);return i?i[1]?t(i[1]):s:!1},kx=e=>e==="position"||e==="percentage",jx=e=>e==="image"||e==="url",Px=e=>e==="length"||e==="size"||e==="bg-size",Rx=e=>e==="length",BN=e=>e==="number",FN=e=>e==="family-name",Tx=e=>e==="shadow",HN=()=>{const e=St("color"),t=St("font"),s=St("text"),i=St("font-weight"),l=St("tracking"),m=St("leading"),f=St("breakpoint"),o=St("container"),c=St("spacing"),h=St("radius"),g=St("shadow"),d=St("inset-shadow"),x=St("text-shadow"),b=St("drop-shadow"),k=St("blur"),S=St("perspective"),v=St("aspect"),y=St("ease"),p=St("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...E(),be,Se],N=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],j=()=>[be,Se,c],M=()=>[_i,"full","auto",...j()],F=()=>[nn,"none","subgrid",be,Se],H=()=>["auto",{span:["full",nn,be,Se]},nn,be,Se],W=()=>[nn,"auto",be,Se],$=()=>["auto","min","max","fr",be,Se],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...j()],ee=()=>[_i,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],z=()=>[e,be,Se],D=()=>[...E(),$0,H0,{position:[be,Se]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",ON,MN,{size:[be,Se]}],V=()=>[rh,Lo,Dn],Y=()=>["","none","full",h,be,Se],J=()=>["",He,Lo,Dn],q=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[He,rh,$0,H0],O=()=>["","none",k,be,Se],ne=()=>["none",He,be,Se],re=()=>["none",He,be,Se],ce=()=>[He,be,Se],le=()=>[_i,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Es],breakpoint:[Es],color:[PN],container:[Es],"drop-shadow":[Es],ease:["in","out","in-out"],font:[AN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Es],shadow:[Es],spacing:["px",He],text:[Es],"text-shadow":[Es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_i,Se,be,v]}],container:["container"],columns:[{columns:[He,Se,be,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[nn,"auto",be,Se]}],basis:[{basis:[_i,"full","auto",o,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,_i,"auto","initial","none",Se]}],grow:[{grow:["",He,be,Se]}],shrink:[{shrink:["",He,be,Se]}],order:[{order:[nn,"first","last","none",be,Se]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[o,"screen",...ee()]}],"min-w":[{"min-w":[o,"screen","none",...ee()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[f]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",s,Lo,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,be,sh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rh,Se]}],"font-family":[{font:[LN,Se,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,be,Se]}],"line-clamp":[{"line-clamp":[He,"none",be,sh]}],leading:[{leading:[m,...j()]}],"list-image":[{"list-image":["none",be,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",be,Dn]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[He,"auto",be,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},nn,be,Se],radial:["",be,Se],conic:[nn,be,Se]},IN,DN]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,be,Se]}],"outline-w":[{outline:["",He,Lo,Dn]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,Il,Ol]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",d,Il,Ol]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[He,Dn]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",x,Il,Ol]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[He,be,Se]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[be,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,Se]}],filter:[{filter:["","none",be,Se]}],blur:[{blur:O()}],brightness:[{brightness:[He,be,Se]}],contrast:[{contrast:[He,be,Se]}],"drop-shadow":[{"drop-shadow":["","none",b,Il,Ol]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",He,be,Se]}],"hue-rotate":[{"hue-rotate":[He,be,Se]}],invert:[{invert:["",He,be,Se]}],saturate:[{saturate:[He,be,Se]}],sepia:[{sepia:["",He,be,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",be,Se]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[He,be,Se]}],"backdrop-contrast":[{"backdrop-contrast":[He,be,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,be,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,be,Se]}],"backdrop-invert":[{"backdrop-invert":["",He,be,Se]}],"backdrop-opacity":[{"backdrop-opacity":[He,be,Se]}],"backdrop-saturate":[{"backdrop-saturate":[He,be,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",He,be,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",be,Se]}],ease:[{ease:["linear","initial",y,be,Se]}],delay:[{delay:[He,be,Se]}],animate:[{animate:["none",p,be,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,be,Se]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[be,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,Se]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[He,Lo,Dn,sh]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$N=xN(HN);function Ee(...e){return $N(yx(e))}function V0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ds(...e){return t=>{let s=!1;const i=e.map(l=>{const m=V0(l,t);return!s&&typeof m=="function"&&(s=!0),m});if(s)return()=>{for(let l=0;l<i.length;l++){const m=i[l];typeof m=="function"?m():V0(e[l],null)}}}}function Ve(...e){return C.useCallback(Ds(...e),e)}var VN=Symbol.for("react.lazy"),lc=of[" use ".trim().toString()];function zN(e){return typeof e=="object"&&e!==null&&"then"in e}function Nx(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===VN&&"_payload"in e&&zN(e._payload)}function qf(e){const t=WN(e),s=C.forwardRef((i,l)=>{let{children:m,...f}=i;Nx(m)&&typeof lc=="function"&&(m=lc(m._payload));const o=C.Children.toArray(m),c=o.find(GN);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}var UN=qf("Slot");function WN(e){const t=C.forwardRef((s,i)=>{let{children:l,...m}=s;if(Nx(l)&&typeof lc=="function"&&(l=lc(l._payload)),C.isValidElement(l)){const f=YN(l),o=qN(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KN=Symbol("radix.slottable");function GN(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KN}function qN(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function YN(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const z0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U0=yx,Ac=(e,t)=>s=>{var i;if((t==null?void 0:t.variants)==null)return U0(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:l,defaultVariants:m}=t,f=Object.keys(l).map(h=>{const g=s==null?void 0:s[h],d=m==null?void 0:m[h];if(g===null)return null;const x=z0(g)||z0(d);return l[h][x]}),o=s&&Object.entries(s).reduce((h,g)=>{let[d,x]=g;return x===void 0||(h[d]=x),h},{}),c=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,g)=>{let{class:d,className:x,...b}=g;return Object.entries(b).every(k=>{let[S,v]=k;return Array.isArray(v)?v.includes({...m,...o}[S]):{...m,...o}[S]===v})?[...h,d,x]:h},[]);return U0(e,f,c,s==null?void 0:s.class,s==null?void 0:s.className)},XN=Ac("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pe=C.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...l},m)=>{const f=i?UN:"button";return a.jsx(f,{className:Ee(XN({variant:t,size:s,className:e})),ref:m,...l})});pe.displayName="Button";const Ge=C.forwardRef(({className:e,type:t,...s},i)=>a.jsx("input",{type:t,className:Ee("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));Ge.displayName="Input";const st=C.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:Ee("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));st.displayName="Textarea";var JN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QN=JN.reduce((e,t)=>{const s=qf(`Primitive.${t}`),i=C.forwardRef((l,m)=>{const{asChild:f,...o}=l,c=f?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:m})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),ZN="Label",Ax=C.forwardRef((e,t)=>a.jsx(QN.label,{...e,ref:t,onMouseDown:s=>{var l;s.target.closest("button, input, select, textarea")||((l=e.onMouseDown)==null||l.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ax.displayName=ZN;var Mx=Ax;const eA=Ac("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yt=C.forwardRef(({className:e,...t},s)=>a.jsx(Mx,{ref:s,className:Ee(eA(),e),...t}));yt.displayName=Mx.displayName;const tA=Ac("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:t,...s}){return a.jsx("div",{className:Ee(tA({variant:t}),e),...s})}function ye(e,t,{checkForDefaultPrevented:s=!0}={}){return function(l){if(e==null||e(l),s===!1||!l.defaultPrevented)return t==null?void 0:t(l)}}function rA(e,t){const s=C.createContext(t),i=m=>{const{children:f,...o}=m,c=C.useMemo(()=>o,Object.values(o));return a.jsx(s.Provider,{value:c,children:f})};i.displayName=e+"Provider";function l(m){const f=C.useContext(s);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${m}\` must be used within \`${e}\``)}return[i,l]}function Lr(e,t=[]){let s=[];function i(m,f){const o=C.createContext(f),c=s.length;s=[...s,f];const h=d=>{var y;const{scope:x,children:b,...k}=d,S=((y=x==null?void 0:x[e])==null?void 0:y[c])||o,v=C.useMemo(()=>k,Object.values(k));return a.jsx(S.Provider,{value:v,children:b})};h.displayName=m+"Provider";function g(d,x){var S;const b=((S=x==null?void 0:x[e])==null?void 0:S[c])||o,k=C.useContext(b);if(k)return k;if(f!==void 0)return f;throw new Error(`\`${d}\` must be used within \`${m}\``)}return[h,g]}const l=()=>{const m=s.map(f=>C.createContext(f));return function(o){const c=(o==null?void 0:o[e])||m;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return l.scopeName=e,[i,sA(l,...t)]}function sA(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(m){const f=i.reduce((o,{useScope:c,scopeName:h})=>{const d=c(m)[`__scope${h}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var Nt=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},nA=of[" useInsertionEffect ".trim().toString()]||Nt;function us({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[l,m,f]=iA({defaultProp:t,onChange:s}),o=e!==void 0,c=o?e:l;{const g=C.useRef(e!==void 0);C.useEffect(()=>{const d=g.current;d!==o&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=o},[o,i])}const h=C.useCallback(g=>{var d;if(o){const x=oA(g)?g(e):g;x!==e&&((d=f.current)==null||d.call(f,x))}else m(g)},[o,e,m,f]);return[c,h]}function iA({defaultProp:e,onChange:t}){const[s,i]=C.useState(e),l=C.useRef(s),m=C.useRef(t);return nA(()=>{m.current=t},[t]),C.useEffect(()=>{var f;l.current!==s&&((f=m.current)==null||f.call(m,s),l.current=s)},[s,l]),[s,i,m]}function oA(e){return typeof e=="function"}function Dx(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Lx(e){const[t,s]=C.useState(void 0);return Nt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const m=l[0];let f,o;if("borderBoxSize"in m){const c=m.borderBoxSize,h=Array.isArray(c)?c[0]:c;f=h.inlineSize,o=h.blockSize}else f=e.offsetWidth,o=e.offsetHeight;s({width:f,height:o})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}function aA(e){const t=lA(e),s=C.forwardRef((i,l)=>{const{children:m,...f}=i,o=C.Children.toArray(m),c=o.find(uA);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}function lA(e){const t=C.forwardRef((s,i)=>{const{children:l,...m}=s;if(C.isValidElement(l)){const f=hA(l),o=dA(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cA=Symbol("radix.slottable");function uA(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cA}function dA(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function hA(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var fA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=fA.reduce((e,t)=>{const s=aA(`Primitive.${t}`),i=C.forwardRef((l,m)=>{const{asChild:f,...o}=l,c=f?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:m})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Ox(e,t){e&&ia.flushSync(()=>e.dispatchEvent(t))}var Mc="Switch",[pA]=Lr(Mc),[mA,gA]=pA(Mc),Ix=C.forwardRef((e,t)=>{const{__scopeSwitch:s,name:i,checked:l,defaultChecked:m,required:f,disabled:o,value:c="on",onCheckedChange:h,form:g,...d}=e,[x,b]=C.useState(null),k=Ve(t,_=>b(_)),S=C.useRef(!1),v=x?g||!!x.closest("form"):!0,[y,p]=us({prop:l,defaultProp:m??!1,onChange:h,caller:Mc});return a.jsxs(mA,{scope:s,checked:y,disabled:o,children:[a.jsx(Le.button,{type:"button",role:"switch","aria-checked":y,"aria-required":f,"data-state":$x(y),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:k,onClick:ye(e.onClick,_=>{p(E=>!E),v&&(S.current=_.isPropagationStopped(),S.current||_.stopPropagation())})}),v&&a.jsx(Hx,{control:x,bubbles:!S.current,name:i,value:c,checked:y,required:f,disabled:o,form:g,style:{transform:"translateX(-100%)"}})]})});Ix.displayName=Mc;var Bx="SwitchThumb",Fx=C.forwardRef((e,t)=>{const{__scopeSwitch:s,...i}=e,l=gA(Bx,s);return a.jsx(Le.span,{"data-state":$x(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})});Fx.displayName=Bx;var vA="SwitchBubbleInput",Hx=C.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:i=!0,...l},m)=>{const f=C.useRef(null),o=Ve(f,m),c=Dx(s),h=Lx(t);return C.useEffect(()=>{const g=f.current;if(!g)return;const d=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==s&&b){const k=new Event("click",{bubbles:i});b.call(g,s),g.dispatchEvent(k)}},[c,s,i]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:o,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hx.displayName=vA;function $x(e){return e?"checked":"unchecked"}var Vx=Ix,yA=Fx;const Fn=C.forwardRef(({className:e,...t},s)=>a.jsx(Vx,{className:Ee("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:a.jsx(yA,{className:Ee("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Fn.displayName=Vx.displayName;function W0(e){const t=_A(e),s=C.forwardRef((i,l)=>{const{children:m,...f}=i,o=C.Children.toArray(m),c=o.find(wA);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}function _A(e){const t=C.forwardRef((s,i)=>{const{children:l,...m}=s;if(C.isValidElement(l)){const f=bA(l),o=SA(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xA=Symbol("radix.slottable");function wA(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xA}function SA(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function bA(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Yf(e){const t=e+"CollectionProvider",[s,i]=Lr(t),[l,m]=s(t,{collectionRef:{current:null},itemMap:new Map}),f=S=>{const{scope:v,children:y}=S,p=ve.useRef(null),_=ve.useRef(new Map).current;return a.jsx(l,{scope:v,itemMap:_,collectionRef:p,children:y})};f.displayName=t;const o=e+"CollectionSlot",c=W0(o),h=ve.forwardRef((S,v)=>{const{scope:y,children:p}=S,_=m(o,y),E=Ve(v,_.collectionRef);return a.jsx(c,{ref:E,children:p})});h.displayName=o;const g=e+"CollectionItemSlot",d="data-radix-collection-item",x=W0(g),b=ve.forwardRef((S,v)=>{const{scope:y,children:p,..._}=S,E=ve.useRef(null),R=Ve(v,E),N=m(g,y);return ve.useEffect(()=>(N.itemMap.set(E,{ref:E,..._}),()=>void N.itemMap.delete(E))),a.jsx(x,{[d]:"",ref:R,children:p})});b.displayName=g;function k(S){const v=m(e+"CollectionConsumer",S);return ve.useCallback(()=>{const p=v.collectionRef.current;if(!p)return[];const _=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((N,T)=>_.indexOf(N.ref.current)-_.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:f,Slot:h,ItemSlot:b},k,i]}var CA=of[" useId ".trim().toString()]||(()=>{}),EA=0;function or(e){const[t,s]=C.useState(CA());return Nt(()=>{s(i=>i??String(EA++))},[e]),t?`radix-${t}`:""}function Tt(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...s)=>{var i;return(i=t.current)==null?void 0:i.call(t,...s)},[])}var kA=C.createContext(void 0);function da(e){const t=C.useContext(kA);return e||t||"ltr"}var nh="rovingFocusGroup.onEntryFocus",jA={bubbles:!1,cancelable:!0},ha="RovingFocusGroup",[Fh,zx,PA]=Yf(ha),[RA,Dc]=Lr(ha,[PA]),[TA,NA]=RA(ha),Ux=C.forwardRef((e,t)=>a.jsx(Fh.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Fh.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(AA,{...e,ref:t})})}));Ux.displayName=ha;var AA=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:l=!1,dir:m,currentTabStopId:f,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...d}=e,x=C.useRef(null),b=Ve(t,x),k=da(m),[S,v]=us({prop:f,defaultProp:o??null,onChange:c,caller:ha}),[y,p]=C.useState(!1),_=Tt(h),E=zx(s),R=C.useRef(!1),[N,T]=C.useState(0);return C.useEffect(()=>{const j=x.current;if(j)return j.addEventListener(nh,_),()=>j.removeEventListener(nh,_)},[_]),a.jsx(TA,{scope:s,orientation:i,dir:k,loop:l,currentTabStopId:S,onItemFocus:C.useCallback(j=>v(j),[v]),onItemShiftTab:C.useCallback(()=>p(!0),[]),onFocusableItemAdd:C.useCallback(()=>T(j=>j+1),[]),onFocusableItemRemove:C.useCallback(()=>T(j=>j-1),[]),children:a.jsx(Le.div,{tabIndex:y||N===0?-1:0,"data-orientation":i,...d,ref:b,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{R.current=!0}),onFocus:ye(e.onFocus,j=>{const M=!R.current;if(j.target===j.currentTarget&&M&&!y){const F=new CustomEvent(nh,jA);if(j.currentTarget.dispatchEvent(F),!F.defaultPrevented){const H=E().filter(G=>G.focusable),W=H.find(G=>G.active),$=H.find(G=>G.id===S),K=[W,$,...H].filter(Boolean).map(G=>G.ref.current);Gx(K,g)}}R.current=!1}),onBlur:ye(e.onBlur,()=>p(!1))})})}),Wx="RovingFocusGroupItem",Kx=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:m,children:f,...o}=e,c=or(),h=m||c,g=NA(Wx,s),d=g.currentTabStopId===h,x=zx(s),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:S}=g;return C.useEffect(()=>{if(i)return b(),()=>k()},[i,b,k]),a.jsx(Fh.ItemSlot,{scope:s,id:h,focusable:i,active:l,children:a.jsx(Le.span,{tabIndex:d?0:-1,"data-orientation":g.orientation,...o,ref:t,onMouseDown:ye(e.onMouseDown,v=>{i?g.onItemFocus(h):v.preventDefault()}),onFocus:ye(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){g.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=LA(v,g.orientation,g.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=x().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const E=_.indexOf(v.currentTarget);_=g.loop?OA(_,E+1):_.slice(E+1)}setTimeout(()=>Gx(_))}}),children:typeof f=="function"?f({isCurrentTabStop:d,hasTabStop:S!=null}):f})})});Kx.displayName=Wx;var MA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LA(e,t,s){const i=DA(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return MA[i]}function Gx(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function OA(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var qx=Ux,Yx=Kx;function IA(e,t){return C.useReducer((s,i)=>t[s][i]??s,e)}var Kt=e=>{const{present:t,children:s}=e,i=BA(t),l=typeof s=="function"?s({present:i.isPresent}):C.Children.only(s),m=Ve(i.ref,FA(l));return typeof s=="function"||i.isPresent?C.cloneElement(l,{ref:m}):null};Kt.displayName="Presence";function BA(e){const[t,s]=C.useState(),i=C.useRef(null),l=C.useRef(e),m=C.useRef("none"),f=e?"mounted":"unmounted",[o,c]=IA(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=Bl(i.current);m.current=o==="mounted"?h:"none"},[o]),Nt(()=>{const h=i.current,g=l.current;if(g!==e){const x=m.current,b=Bl(h);e?c("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,c]),Nt(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,d=b=>{const S=Bl(i.current).includes(CSS.escape(b.animationName));if(b.target===t&&S&&(c("ANIMATION_END"),!l.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},x=b=>{b.target===t&&(m.current=Bl(i.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(h=>{i.current=h?getComputedStyle(h):null,s(h)},[])}}function Bl(e){return(e==null?void 0:e.animationName)||"none"}function FA(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Lc="Tabs",[HA]=Lr(Lc,[Dc]),Xx=Dc(),[$A,Xf]=HA(Lc),Jx=C.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:l,defaultValue:m,orientation:f="horizontal",dir:o,activationMode:c="automatic",...h}=e,g=da(o),[d,x]=us({prop:i,onChange:l,defaultProp:m??"",caller:Lc});return a.jsx($A,{scope:s,baseId:or(),value:d,onValueChange:x,orientation:f,dir:g,activationMode:c,children:a.jsx(Le.div,{dir:g,"data-orientation":f,...h,ref:t})})});Jx.displayName=Lc;var Qx="TabsList",Zx=C.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...l}=e,m=Xf(Qx,s),f=Xx(s);return a.jsx(qx,{asChild:!0,...f,orientation:m.orientation,dir:m.dir,loop:i,children:a.jsx(Le.div,{role:"tablist","aria-orientation":m.orientation,...l,ref:t})})});Zx.displayName=Qx;var ew="TabsTrigger",tw=C.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:l=!1,...m}=e,f=Xf(ew,s),o=Xx(s),c=nw(f.baseId,i),h=iw(f.baseId,i),g=i===f.value;return a.jsx(Yx,{asChild:!0,...o,focusable:!l,active:g,children:a.jsx(Le.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...m,ref:t,onMouseDown:ye(e.onMouseDown,d=>{!l&&d.button===0&&d.ctrlKey===!1?f.onValueChange(i):d.preventDefault()}),onKeyDown:ye(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&f.onValueChange(i)}),onFocus:ye(e.onFocus,()=>{const d=f.activationMode!=="manual";!g&&!l&&d&&f.onValueChange(i)})})})});tw.displayName=ew;var rw="TabsContent",sw=C.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:l,children:m,...f}=e,o=Xf(rw,s),c=nw(o.baseId,i),h=iw(o.baseId,i),g=i===o.value,d=C.useRef(g);return C.useEffect(()=>{const x=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(x)},[]),a.jsx(Kt,{present:l||g,children:({present:x})=>a.jsx(Le.div,{"data-state":g?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:h,tabIndex:0,...f,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:x&&m})})});sw.displayName=rw;function nw(e,t){return`${e}-trigger-${t}`}function iw(e,t){return`${e}-content-${t}`}var VA=Jx,ow=Zx,aw=tw,lw=sw;const Oc=VA,fa=C.forwardRef(({className:e,...t},s)=>a.jsx(ow,{ref:s,className:Ee("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));fa.displayName=ow.displayName;const Gr=C.forwardRef(({className:e,...t},s)=>a.jsx(aw,{ref:s,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Gr.displayName=aw.displayName;const js=C.forwardRef(({className:e,...t},s)=>a.jsx(lw,{ref:s,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));js.displayName=lw.displayName;function Hh(e,[t,s]){return Math.min(s,Math.max(t,e))}function zA(e,t=globalThis==null?void 0:globalThis.document){const s=Tt(e);C.useEffect(()=>{const i=l=>{l.key==="Escape"&&s(l)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var UA="DismissableLayer",$h="dismissableLayer.update",WA="dismissableLayer.pointerDownOutside",KA="dismissableLayer.focusOutside",K0,cw=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pa=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m,onInteractOutside:f,onDismiss:o,...c}=e,h=C.useContext(cw),[g,d]=C.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=C.useState({}),k=Ve(t,T=>d(T)),S=Array.from(h.layers),[v]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(v),p=g?S.indexOf(g):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,E=p>=y,R=YA(T=>{const j=T.target,M=[...h.branches].some(F=>F.contains(j));!E||M||(l==null||l(T),f==null||f(T),T.defaultPrevented||o==null||o())},x),N=XA(T=>{const j=T.target;[...h.branches].some(F=>F.contains(j))||(m==null||m(T),f==null||f(T),T.defaultPrevented||o==null||o())},x);return zA(T=>{p===h.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},x),C.useEffect(()=>{if(g)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(K0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),G0(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=K0)}},[g,x,s,h]),C.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),G0())},[g,h]),C.useEffect(()=>{const T=()=>b({});return document.addEventListener($h,T),()=>document.removeEventListener($h,T)},[]),a.jsx(Le.div,{...c,ref:k,style:{pointerEvents:_?E?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,R.onPointerDownCapture)})});pa.displayName=UA;var GA="DismissableLayerBranch",qA=C.forwardRef((e,t)=>{const s=C.useContext(cw),i=C.useRef(null),l=Ve(t,i);return C.useEffect(()=>{const m=i.current;if(m)return s.branches.add(m),()=>{s.branches.delete(m)}},[s.branches]),a.jsx(Le.div,{...e,ref:l})});qA.displayName=GA;function YA(e,t=globalThis==null?void 0:globalThis.document){const s=Tt(e),i=C.useRef(!1),l=C.useRef(()=>{});return C.useEffect(()=>{const m=o=>{if(o.target&&!i.current){let c=function(){uw(WA,s,h,{discrete:!0})};const h={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=c,t.addEventListener("click",l.current,{once:!0})):c()}else t.removeEventListener("click",l.current);i.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",m)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",m),t.removeEventListener("click",l.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function XA(e,t=globalThis==null?void 0:globalThis.document){const s=Tt(e),i=C.useRef(!1);return C.useEffect(()=>{const l=m=>{m.target&&!i.current&&uw(KA,s,{originalEvent:m},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function G0(){const e=new CustomEvent($h);document.dispatchEvent(e)}function uw(e,t,s,{discrete:i}){const l=s.originalEvent.target,m=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),i?Ox(l,m):l.dispatchEvent(m)}var ih=0;function Jf(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q0()),document.body.insertAdjacentElement("beforeend",e[1]??q0()),ih++,()=>{ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ih--}},[])}function q0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oh="focusScope.autoFocusOnMount",ah="focusScope.autoFocusOnUnmount",Y0={bubbles:!1,cancelable:!0},JA="FocusScope",Ic=C.forwardRef((e,t)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:l,onUnmountAutoFocus:m,...f}=e,[o,c]=C.useState(null),h=Tt(l),g=Tt(m),d=C.useRef(null),x=Ve(t,S=>c(S)),b=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let S=function(_){if(b.paused||!o)return;const E=_.target;o.contains(E)?d.current=E:an(d.current,{select:!0})},v=function(_){if(b.paused||!o)return;const E=_.relatedTarget;E!==null&&(o.contains(E)||an(d.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const R of _)R.removedNodes.length>0&&an(o)};document.addEventListener("focusin",S),document.addEventListener("focusout",v);const p=new MutationObserver(y);return o&&p.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",v),p.disconnect()}}},[i,o,b.paused]),C.useEffect(()=>{if(o){J0.add(b);const S=document.activeElement;if(!o.contains(S)){const y=new CustomEvent(oh,Y0);o.addEventListener(oh,h),o.dispatchEvent(y),y.defaultPrevented||(QA(sM(dw(o)),{select:!0}),document.activeElement===S&&an(o))}return()=>{o.removeEventListener(oh,h),setTimeout(()=>{const y=new CustomEvent(ah,Y0);o.addEventListener(ah,g),o.dispatchEvent(y),y.defaultPrevented||an(S??document.body,{select:!0}),o.removeEventListener(ah,g),J0.remove(b)},0)}}},[o,h,g,b]);const k=C.useCallback(S=>{if(!s&&!i||b.paused)return;const v=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,y=document.activeElement;if(v&&y){const p=S.currentTarget,[_,E]=ZA(p);_&&E?!S.shiftKey&&y===E?(S.preventDefault(),s&&an(_,{select:!0})):S.shiftKey&&y===_&&(S.preventDefault(),s&&an(E,{select:!0})):y===p&&S.preventDefault()}},[s,i,b.paused]);return a.jsx(Le.div,{tabIndex:-1,...f,ref:x,onKeyDown:k})});Ic.displayName=JA;function QA(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(an(i,{select:t}),document.activeElement!==s)return}function ZA(e){const t=dw(e),s=X0(t,e),i=X0(t.reverse(),e);return[s,i]}function dw(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function X0(e,t){for(const s of e)if(!eM(s,{upTo:t}))return s}function eM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tM(e){return e instanceof HTMLInputElement&&"select"in e}function an(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&tM(e)&&t&&e.select()}}var J0=rM();function rM(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Q0(e,t),e.unshift(t)},remove(t){var s;e=Q0(e,t),(s=e[0])==null||s.resume()}}}function Q0(e,t){const s=[...e],i=s.indexOf(t);return i!==-1&&s.splice(i,1),s}function sM(e){return e.filter(t=>t.tagName!=="A")}const nM=["top","right","bottom","left"],fn=Math.min,fr=Math.max,cc=Math.round,Fl=Math.floor,cs=e=>({x:e,y:e}),iM={left:"right",right:"left",bottom:"top",top:"bottom"},oM={start:"end",end:"start"};function Vh(e,t,s){return fr(e,fn(t,s))}function As(e,t){return typeof e=="function"?e(t):e}function Ms(e){return e.split("-")[0]}function Ui(e){return e.split("-")[1]}function Qf(e){return e==="x"?"y":"x"}function Zf(e){return e==="y"?"height":"width"}const aM=new Set(["top","bottom"]);function os(e){return aM.has(Ms(e))?"y":"x"}function ep(e){return Qf(os(e))}function lM(e,t,s){s===void 0&&(s=!1);const i=Ui(e),l=ep(e),m=Zf(l);let f=l==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[m]>t.floating[m]&&(f=uc(f)),[f,uc(f)]}function cM(e){const t=uc(e);return[zh(e),t,zh(t)]}function zh(e){return e.replace(/start|end/g,t=>oM[t])}const Z0=["left","right"],ey=["right","left"],uM=["top","bottom"],dM=["bottom","top"];function hM(e,t,s){switch(e){case"top":case"bottom":return s?t?ey:Z0:t?Z0:ey;case"left":case"right":return t?uM:dM;default:return[]}}function fM(e,t,s,i){const l=Ui(e);let m=hM(Ms(e),s==="start",i);return l&&(m=m.map(f=>f+"-"+l),t&&(m=m.concat(m.map(zh)))),m}function uc(e){return e.replace(/left|right|bottom|top/g,t=>iM[t])}function pM(e){return{top:0,right:0,bottom:0,left:0,...e}}function hw(e){return typeof e!="number"?pM(e):{top:e,right:e,bottom:e,left:e}}function dc(e){const{x:t,y:s,width:i,height:l}=e;return{width:i,height:l,top:s,left:t,right:t+i,bottom:s+l,x:t,y:s}}function ty(e,t,s){let{reference:i,floating:l}=e;const m=os(t),f=ep(t),o=Zf(f),c=Ms(t),h=m==="y",g=i.x+i.width/2-l.width/2,d=i.y+i.height/2-l.height/2,x=i[o]/2-l[o]/2;let b;switch(c){case"top":b={x:g,y:i.y-l.height};break;case"bottom":b={x:g,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:d};break;case"left":b={x:i.x-l.width,y:d};break;default:b={x:i.x,y:i.y}}switch(Ui(t)){case"start":b[f]-=x*(s&&h?-1:1);break;case"end":b[f]+=x*(s&&h?-1:1);break}return b}const mM=async(e,t,s)=>{const{placement:i="bottom",strategy:l="absolute",middleware:m=[],platform:f}=s,o=m.filter(Boolean),c=await(f.isRTL==null?void 0:f.isRTL(t));let h=await f.getElementRects({reference:e,floating:t,strategy:l}),{x:g,y:d}=ty(h,i,c),x=i,b={},k=0;for(let S=0;S<o.length;S++){const{name:v,fn:y}=o[S],{x:p,y:_,data:E,reset:R}=await y({x:g,y:d,initialPlacement:i,placement:x,strategy:l,middlewareData:b,rects:h,platform:f,elements:{reference:e,floating:t}});g=p??g,d=_??d,b={...b,[v]:{...b[v],...E}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(h=R.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:l}):R.rects),{x:g,y:d}=ty(h,x,c)),S=-1)}return{x:g,y:d,placement:x,strategy:l,middlewareData:b}};async function Zo(e,t){var s;t===void 0&&(t={});const{x:i,y:l,platform:m,rects:f,elements:o,strategy:c}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:d="floating",altBoundary:x=!1,padding:b=0}=As(t,e),k=hw(b),v=o[x?d==="floating"?"reference":"floating":d],y=dc(await m.getClippingRect({element:(s=await(m.isElement==null?void 0:m.isElement(v)))==null||s?v:v.contextElement||await(m.getDocumentElement==null?void 0:m.getDocumentElement(o.floating)),boundary:h,rootBoundary:g,strategy:c})),p=d==="floating"?{x:i,y:l,width:f.floating.width,height:f.floating.height}:f.reference,_=await(m.getOffsetParent==null?void 0:m.getOffsetParent(o.floating)),E=await(m.isElement==null?void 0:m.isElement(_))?await(m.getScale==null?void 0:m.getScale(_))||{x:1,y:1}:{x:1,y:1},R=dc(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:p,offsetParent:_,strategy:c}):p);return{top:(y.top-R.top+k.top)/E.y,bottom:(R.bottom-y.bottom+k.bottom)/E.y,left:(y.left-R.left+k.left)/E.x,right:(R.right-y.right+k.right)/E.x}}const gM=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:l,rects:m,platform:f,elements:o,middlewareData:c}=t,{element:h,padding:g=0}=As(e,t)||{};if(h==null)return{};const d=hw(g),x={x:s,y:i},b=ep(l),k=Zf(b),S=await f.getDimensions(h),v=b==="y",y=v?"top":"left",p=v?"bottom":"right",_=v?"clientHeight":"clientWidth",E=m.reference[k]+m.reference[b]-x[b]-m.floating[k],R=x[b]-m.reference[b],N=await(f.getOffsetParent==null?void 0:f.getOffsetParent(h));let T=N?N[_]:0;(!T||!await(f.isElement==null?void 0:f.isElement(N)))&&(T=o.floating[_]||m.floating[k]);const j=E/2-R/2,M=T/2-S[k]/2-1,F=fn(d[y],M),H=fn(d[p],M),W=F,$=T-S[k]-H,Z=T/2-S[k]/2+j,K=Vh(W,Z,$),G=!c.arrow&&Ui(l)!=null&&Z!==K&&m.reference[k]/2-(Z<W?F:H)-S[k]/2<0,ee=G?Z<W?Z-W:Z-$:0;return{[b]:x[b]+ee,data:{[b]:K,centerOffset:Z-K-ee,...G&&{alignmentOffset:ee}},reset:G}}}),vM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:l,middlewareData:m,rects:f,initialPlacement:o,platform:c,elements:h}=t,{mainAxis:g=!0,crossAxis:d=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,...v}=As(e,t);if((s=m.arrow)!=null&&s.alignmentOffset)return{};const y=Ms(l),p=os(o),_=Ms(o)===o,E=await(c.isRTL==null?void 0:c.isRTL(h.floating)),R=x||(_||!S?[uc(o)]:cM(o)),N=k!=="none";!x&&N&&R.push(...fM(o,S,k,E));const T=[o,...R],j=await Zo(t,v),M=[];let F=((i=m.flip)==null?void 0:i.overflows)||[];if(g&&M.push(j[y]),d){const Z=lM(l,f,E);M.push(j[Z[0]],j[Z[1]])}if(F=[...F,{placement:l,overflows:M}],!M.every(Z=>Z<=0)){var H,W;const Z=(((H=m.flip)==null?void 0:H.index)||0)+1,K=T[Z];if(K&&(!(d==="alignment"?p!==os(K):!1)||F.every(z=>os(z.placement)===p?z.overflows[0]>0:!0)))return{data:{index:Z,overflows:F},reset:{placement:K}};let G=(W=F.filter(ee=>ee.overflows[0]<=0).sort((ee,z)=>ee.overflows[1]-z.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(b){case"bestFit":{var $;const ee=($=F.filter(z=>{if(N){const D=os(z.placement);return D===p||D==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((z,D)=>z[1]-D[1])[0])==null?void 0:$[0];ee&&(G=ee);break}case"initialPlacement":G=o;break}if(l!==G)return{reset:{placement:G}}}return{}}}};function ry(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sy(e){return nM.some(t=>e[t]>=0)}const yM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...l}=As(e,t);switch(i){case"referenceHidden":{const m=await Zo(t,{...l,elementContext:"reference"}),f=ry(m,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:sy(f)}}}case"escaped":{const m=await Zo(t,{...l,altBoundary:!0}),f=ry(m,s.floating);return{data:{escapedOffsets:f,escaped:sy(f)}}}default:return{}}}}},fw=new Set(["left","top"]);async function _M(e,t){const{placement:s,platform:i,elements:l}=e,m=await(i.isRTL==null?void 0:i.isRTL(l.floating)),f=Ms(s),o=Ui(s),c=os(s)==="y",h=fw.has(f)?-1:1,g=m&&c?-1:1,d=As(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:k}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof k=="number"&&(b=o==="end"?k*-1:k),c?{x:b*g,y:x*h}:{x:x*h,y:b*g}}const xM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:l,y:m,placement:f,middlewareData:o}=t,c=await _M(t,e);return f===((s=o.offset)==null?void 0:s.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:l+c.x,y:m+c.y,data:{...c,placement:f}}}}},wM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:l}=t,{mainAxis:m=!0,crossAxis:f=!1,limiter:o={fn:v=>{let{x:y,y:p}=v;return{x:y,y:p}}},...c}=As(e,t),h={x:s,y:i},g=await Zo(t,c),d=os(Ms(l)),x=Qf(d);let b=h[x],k=h[d];if(m){const v=x==="y"?"top":"left",y=x==="y"?"bottom":"right",p=b+g[v],_=b-g[y];b=Vh(p,b,_)}if(f){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",p=k+g[v],_=k-g[y];k=Vh(p,k,_)}const S=o.fn({...t,[x]:b,[d]:k});return{...S,data:{x:S.x-s,y:S.y-i,enabled:{[x]:m,[d]:f}}}}}},SM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:l,rects:m,middlewareData:f}=t,{offset:o=0,mainAxis:c=!0,crossAxis:h=!0}=As(e,t),g={x:s,y:i},d=os(l),x=Qf(d);let b=g[x],k=g[d];const S=As(o,t),v=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const _=x==="y"?"height":"width",E=m.reference[x]-m.floating[_]+v.mainAxis,R=m.reference[x]+m.reference[_]-v.mainAxis;b<E?b=E:b>R&&(b=R)}if(h){var y,p;const _=x==="y"?"width":"height",E=fw.has(Ms(l)),R=m.reference[d]-m.floating[_]+(E&&((y=f.offset)==null?void 0:y[d])||0)+(E?0:v.crossAxis),N=m.reference[d]+m.reference[_]+(E?0:((p=f.offset)==null?void 0:p[d])||0)-(E?v.crossAxis:0);k<R?k=R:k>N&&(k=N)}return{[x]:b,[d]:k}}}},bM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:l,rects:m,platform:f,elements:o}=t,{apply:c=()=>{},...h}=As(e,t),g=await Zo(t,h),d=Ms(l),x=Ui(l),b=os(l)==="y",{width:k,height:S}=m.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=x===(await(f.isRTL==null?void 0:f.isRTL(o.floating))?"start":"end")?"left":"right"):(y=d,v=x==="end"?"top":"bottom");const p=S-g.top-g.bottom,_=k-g.left-g.right,E=fn(S-g[v],p),R=fn(k-g[y],_),N=!t.middlewareData.shift;let T=E,j=R;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(j=_),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(T=p),N&&!x){const F=fr(g.left,0),H=fr(g.right,0),W=fr(g.top,0),$=fr(g.bottom,0);b?j=k-2*(F!==0||H!==0?F+H:fr(g.left,g.right)):T=S-2*(W!==0||$!==0?W+$:fr(g.top,g.bottom))}await c({...t,availableWidth:j,availableHeight:T});const M=await f.getDimensions(o.floating);return k!==M.width||S!==M.height?{reset:{rects:!0}}:{}}}};function Bc(){return typeof window<"u"}function Wi(e){return pw(e)?(e.nodeName||"").toLowerCase():"#document"}function gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(pw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pw(e){return Bc()?e instanceof Node||e instanceof gr(e).Node:!1}function Yr(e){return Bc()?e instanceof Element||e instanceof gr(e).Element:!1}function ds(e){return Bc()?e instanceof HTMLElement||e instanceof gr(e).HTMLElement:!1}function ny(e){return!Bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gr(e).ShadowRoot}const CM=new Set(["inline","contents"]);function ma(e){const{overflow:t,overflowX:s,overflowY:i,display:l}=Xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!CM.has(l)}const EM=new Set(["table","td","th"]);function kM(e){return EM.has(Wi(e))}const jM=[":popover-open",":modal"];function Fc(e){return jM.some(t=>{try{return e.matches(t)}catch{return!1}})}const PM=["transform","translate","scale","rotate","perspective"],RM=["transform","translate","scale","rotate","perspective","filter"],TM=["paint","layout","strict","content"];function tp(e){const t=rp(),s=Yr(e)?Xr(e):e;return PM.some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||RM.some(i=>(s.willChange||"").includes(i))||TM.some(i=>(s.contain||"").includes(i))}function NM(e){let t=pn(e);for(;ds(t)&&!Li(t);){if(tp(t))return t;if(Fc(t))return null;t=pn(t)}return null}function rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AM=new Set(["html","body","#document"]);function Li(e){return AM.has(Wi(e))}function Xr(e){return gr(e).getComputedStyle(e)}function Hc(e){return Yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pn(e){if(Wi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ny(e)&&e.host||fs(e);return ny(t)?t.host:t}function mw(e){const t=pn(e);return Li(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&ma(t)?t:mw(t)}function ea(e,t,s){var i;t===void 0&&(t=[]),s===void 0&&(s=!0);const l=mw(e),m=l===((i=e.ownerDocument)==null?void 0:i.body),f=gr(l);if(m){const o=Uh(f);return t.concat(f,f.visualViewport||[],ma(l)?l:[],o&&s?ea(o):[])}return t.concat(l,ea(l,[],s))}function Uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gw(e){const t=Xr(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const l=ds(e),m=l?e.offsetWidth:s,f=l?e.offsetHeight:i,o=cc(s)!==m||cc(i)!==f;return o&&(s=m,i=f),{width:s,height:i,$:o}}function sp(e){return Yr(e)?e:e.contextElement}function Pi(e){const t=sp(e);if(!ds(t))return cs(1);const s=t.getBoundingClientRect(),{width:i,height:l,$:m}=gw(t);let f=(m?cc(s.width):s.width)/i,o=(m?cc(s.height):s.height)/l;return(!f||!Number.isFinite(f))&&(f=1),(!o||!Number.isFinite(o))&&(o=1),{x:f,y:o}}const MM=cs(0);function vw(e){const t=gr(e);return!rp()||!t.visualViewport?MM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DM(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==gr(e)?!1:t}function Vn(e,t,s,i){t===void 0&&(t=!1),s===void 0&&(s=!1);const l=e.getBoundingClientRect(),m=sp(e);let f=cs(1);t&&(i?Yr(i)&&(f=Pi(i)):f=Pi(e));const o=DM(m,s,i)?vw(m):cs(0);let c=(l.left+o.x)/f.x,h=(l.top+o.y)/f.y,g=l.width/f.x,d=l.height/f.y;if(m){const x=gr(m),b=i&&Yr(i)?gr(i):i;let k=x,S=Uh(k);for(;S&&i&&b!==k;){const v=Pi(S),y=S.getBoundingClientRect(),p=Xr(S),_=y.left+(S.clientLeft+parseFloat(p.paddingLeft))*v.x,E=y.top+(S.clientTop+parseFloat(p.paddingTop))*v.y;c*=v.x,h*=v.y,g*=v.x,d*=v.y,c+=_,h+=E,k=gr(S),S=Uh(k)}}return dc({width:g,height:d,x:c,y:h})}function $c(e,t){const s=Hc(e).scrollLeft;return t?t.left+s:Vn(fs(e)).left+s}function yw(e,t){const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-$c(e,s),l=s.top+t.scrollTop;return{x:i,y:l}}function LM(e){let{elements:t,rect:s,offsetParent:i,strategy:l}=e;const m=l==="fixed",f=fs(i),o=t?Fc(t.floating):!1;if(i===f||o&&m)return s;let c={scrollLeft:0,scrollTop:0},h=cs(1);const g=cs(0),d=ds(i);if((d||!d&&!m)&&((Wi(i)!=="body"||ma(f))&&(c=Hc(i)),ds(i))){const b=Vn(i);h=Pi(i),g.x=b.x+i.clientLeft,g.y=b.y+i.clientTop}const x=f&&!d&&!m?yw(f,c):cs(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-c.scrollLeft*h.x+g.x+x.x,y:s.y*h.y-c.scrollTop*h.y+g.y+x.y}}function OM(e){return Array.from(e.getClientRects())}function IM(e){const t=fs(e),s=Hc(e),i=e.ownerDocument.body,l=fr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),m=fr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let f=-s.scrollLeft+$c(e);const o=-s.scrollTop;return Xr(i).direction==="rtl"&&(f+=fr(t.clientWidth,i.clientWidth)-l),{width:l,height:m,x:f,y:o}}const iy=25;function BM(e,t){const s=gr(e),i=fs(e),l=s.visualViewport;let m=i.clientWidth,f=i.clientHeight,o=0,c=0;if(l){m=l.width,f=l.height;const g=rp();(!g||g&&t==="fixed")&&(o=l.offsetLeft,c=l.offsetTop)}const h=$c(i);if(h<=0){const g=i.ownerDocument,d=g.body,x=getComputedStyle(d),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,k=Math.abs(i.clientWidth-d.clientWidth-b);k<=iy&&(m-=k)}else h<=iy&&(m+=h);return{width:m,height:f,x:o,y:c}}const FM=new Set(["absolute","fixed"]);function HM(e,t){const s=Vn(e,!0,t==="fixed"),i=s.top+e.clientTop,l=s.left+e.clientLeft,m=ds(e)?Pi(e):cs(1),f=e.clientWidth*m.x,o=e.clientHeight*m.y,c=l*m.x,h=i*m.y;return{width:f,height:o,x:c,y:h}}function oy(e,t,s){let i;if(t==="viewport")i=BM(e,s);else if(t==="document")i=IM(fs(e));else if(Yr(t))i=HM(t,s);else{const l=vw(e);i={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return dc(i)}function _w(e,t){const s=pn(e);return s===t||!Yr(s)||Li(s)?!1:Xr(s).position==="fixed"||_w(s,t)}function $M(e,t){const s=t.get(e);if(s)return s;let i=ea(e,[],!1).filter(o=>Yr(o)&&Wi(o)!=="body"),l=null;const m=Xr(e).position==="fixed";let f=m?pn(e):e;for(;Yr(f)&&!Li(f);){const o=Xr(f),c=tp(f);!c&&o.position==="fixed"&&(l=null),(m?!c&&!l:!c&&o.position==="static"&&!!l&&FM.has(l.position)||ma(f)&&!c&&_w(e,f))?i=i.filter(g=>g!==f):l=o,f=pn(f)}return t.set(e,i),i}function VM(e){let{element:t,boundary:s,rootBoundary:i,strategy:l}=e;const f=[...s==="clippingAncestors"?Fc(t)?[]:$M(t,this._c):[].concat(s),i],o=f[0],c=f.reduce((h,g)=>{const d=oy(t,g,l);return h.top=fr(d.top,h.top),h.right=fn(d.right,h.right),h.bottom=fn(d.bottom,h.bottom),h.left=fr(d.left,h.left),h},oy(t,o,l));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zM(e){const{width:t,height:s}=gw(e);return{width:t,height:s}}function UM(e,t,s){const i=ds(t),l=fs(t),m=s==="fixed",f=Vn(e,!0,m,t);let o={scrollLeft:0,scrollTop:0};const c=cs(0);function h(){c.x=$c(l)}if(i||!i&&!m)if((Wi(t)!=="body"||ma(l))&&(o=Hc(t)),i){const b=Vn(t,!0,m,t);c.x=b.x+t.clientLeft,c.y=b.y+t.clientTop}else l&&h();m&&!i&&l&&h();const g=l&&!i&&!m?yw(l,o):cs(0),d=f.left+o.scrollLeft-c.x-g.x,x=f.top+o.scrollTop-c.y-g.y;return{x:d,y:x,width:f.width,height:f.height}}function lh(e){return Xr(e).position==="static"}function ay(e,t){if(!ds(e)||Xr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return fs(e)===s&&(s=s.ownerDocument.body),s}function xw(e,t){const s=gr(e);if(Fc(e))return s;if(!ds(e)){let l=pn(e);for(;l&&!Li(l);){if(Yr(l)&&!lh(l))return l;l=pn(l)}return s}let i=ay(e,t);for(;i&&kM(i)&&lh(i);)i=ay(i,t);return i&&Li(i)&&lh(i)&&!tp(i)?s:i||NM(e)||s}const WM=async function(e){const t=this.getOffsetParent||xw,s=this.getDimensions,i=await s(e.floating);return{reference:UM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function KM(e){return Xr(e).direction==="rtl"}const GM={convertOffsetParentRelativeRectToViewportRelativeRect:LM,getDocumentElement:fs,getClippingRect:VM,getOffsetParent:xw,getElementRects:WM,getClientRects:OM,getDimensions:zM,getScale:Pi,isElement:Yr,isRTL:KM};function ww(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qM(e,t){let s=null,i;const l=fs(e);function m(){var o;clearTimeout(i),(o=s)==null||o.disconnect(),s=null}function f(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),m();const h=e.getBoundingClientRect(),{left:g,top:d,width:x,height:b}=h;if(o||t(),!x||!b)return;const k=Fl(d),S=Fl(l.clientWidth-(g+x)),v=Fl(l.clientHeight-(d+b)),y=Fl(g),_={rootMargin:-k+"px "+-S+"px "+-v+"px "+-y+"px",threshold:fr(0,fn(1,c))||1};let E=!0;function R(N){const T=N[0].intersectionRatio;if(T!==c){if(!E)return f();T?f(!1,T):i=setTimeout(()=>{f(!1,1e-7)},1e3)}T===1&&!ww(h,e.getBoundingClientRect())&&f(),E=!1}try{s=new IntersectionObserver(R,{..._,root:l.ownerDocument})}catch{s=new IntersectionObserver(R,_)}s.observe(e)}return f(!0),m}function YM(e,t,s,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:m=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,h=sp(e),g=l||m?[...h?ea(h):[],...ea(t)]:[];g.forEach(y=>{l&&y.addEventListener("scroll",s,{passive:!0}),m&&y.addEventListener("resize",s)});const d=h&&o?qM(h,s):null;let x=-1,b=null;f&&(b=new ResizeObserver(y=>{let[p]=y;p&&p.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(t)})),s()}),h&&!c&&b.observe(h),b.observe(t));let k,S=c?Vn(e):null;c&&v();function v(){const y=Vn(e);S&&!ww(S,y)&&s(),S=y,k=requestAnimationFrame(v)}return s(),()=>{var y;g.forEach(p=>{l&&p.removeEventListener("scroll",s),m&&p.removeEventListener("resize",s)}),d==null||d(),(y=b)==null||y.disconnect(),b=null,c&&cancelAnimationFrame(k)}}const XM=xM,JM=wM,QM=vM,ZM=bM,eD=yM,ly=gM,tD=SM,rD=(e,t,s)=>{const i=new Map,l={platform:GM,...s},m={...l.platform,_c:i};return mM(e,t,{...l,platform:m})};var sD=typeof document<"u",nD=function(){},ql=sD?C.useLayoutEffect:nD;function hc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,i,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;i--!==0;)if(!hc(e[i],t[i]))return!1;return!0}if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(t,l[i]))return!1;for(i=s;i--!==0;){const m=l[i];if(!(m==="_owner"&&e.$$typeof)&&!hc(e[m],t[m]))return!1}return!0}return e!==e&&t!==t}function Sw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cy(e,t){const s=Sw(e);return Math.round(t*s)/s}function ch(e){const t=C.useRef(e);return ql(()=>{t.current=e}),t}function iD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:l,elements:{reference:m,floating:f}={},transform:o=!0,whileElementsMounted:c,open:h}=e,[g,d]=C.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=C.useState(i);hc(x,i)||b(i);const[k,S]=C.useState(null),[v,y]=C.useState(null),p=C.useCallback(z=>{z!==N.current&&(N.current=z,S(z))},[]),_=C.useCallback(z=>{z!==T.current&&(T.current=z,y(z))},[]),E=m||k,R=f||v,N=C.useRef(null),T=C.useRef(null),j=C.useRef(g),M=c!=null,F=ch(c),H=ch(l),W=ch(h),$=C.useCallback(()=>{if(!N.current||!T.current)return;const z={placement:t,strategy:s,middleware:x};H.current&&(z.platform=H.current),rD(N.current,T.current,z).then(D=>{const B={...D,isPositioned:W.current!==!1};Z.current&&!hc(j.current,B)&&(j.current=B,ia.flushSync(()=>{d(B)}))})},[x,t,s,H,W]);ql(()=>{h===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[h]);const Z=C.useRef(!1);ql(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ql(()=>{if(E&&(N.current=E),R&&(T.current=R),E&&R){if(F.current)return F.current(E,R,$);$()}},[E,R,$,F,M]);const K=C.useMemo(()=>({reference:N,floating:T,setReference:p,setFloating:_}),[p,_]),G=C.useMemo(()=>({reference:E,floating:R}),[E,R]),ee=C.useMemo(()=>{const z={position:s,left:0,top:0};if(!G.floating)return z;const D=cy(G.floating,g.x),B=cy(G.floating,g.y);return o?{...z,transform:"translate("+D+"px, "+B+"px)",...Sw(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:D,top:B}},[s,o,G.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:$,refs:K,elements:G,floatingStyles:ee}),[g,$,K,G,ee])}const oD=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:l}=typeof e=="function"?e(s):e;return i&&t(i)?i.current!=null?ly({element:i.current,padding:l}).fn(s):{}:i?ly({element:i,padding:l}).fn(s):{}}}},aD=(e,t)=>({...XM(e),options:[e,t]}),lD=(e,t)=>({...JM(e),options:[e,t]}),cD=(e,t)=>({...tD(e),options:[e,t]}),uD=(e,t)=>({...QM(e),options:[e,t]}),dD=(e,t)=>({...ZM(e),options:[e,t]}),hD=(e,t)=>({...eD(e),options:[e,t]}),fD=(e,t)=>({...oD(e),options:[e,t]});var pD="Arrow",bw=C.forwardRef((e,t)=>{const{children:s,width:i=10,height:l=5,...m}=e;return a.jsx(Le.svg,{...m,ref:t,width:i,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});bw.displayName=pD;var mD=bw,np="Popper",[Cw,Ki]=Lr(np),[gD,Ew]=Cw(np),kw=e=>{const{__scopePopper:t,children:s}=e,[i,l]=C.useState(null);return a.jsx(gD,{scope:t,anchor:i,onAnchorChange:l,children:s})};kw.displayName=np;var jw="PopperAnchor",Pw=C.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...l}=e,m=Ew(jw,s),f=C.useRef(null),o=Ve(t,f),c=C.useRef(null);return C.useEffect(()=>{const h=c.current;c.current=(i==null?void 0:i.current)||f.current,h!==c.current&&m.onAnchorChange(c.current)}),i?null:a.jsx(Le.div,{...l,ref:o})});Pw.displayName=jw;var ip="PopperContent",[vD,yD]=Cw(ip),Rw=C.forwardRef((e,t)=>{var U,O,ne,re,ce,le;const{__scopePopper:s,side:i="bottom",sideOffset:l=0,align:m="center",alignOffset:f=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:d="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:k,...S}=e,v=Ew(ip,s),[y,p]=C.useState(null),_=Ve(t,Pe=>p(Pe)),[E,R]=C.useState(null),N=Lx(E),T=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,M=i+(m!=="center"?"-"+m:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},H=Array.isArray(h)?h:[h],W=H.length>0,$={padding:F,boundary:H.filter(xD),altBoundary:W},{refs:Z,floatingStyles:K,placement:G,isPositioned:ee,middlewareData:z}=iD({strategy:"fixed",placement:M,whileElementsMounted:(...Pe)=>YM(...Pe,{animationFrame:b==="always"}),elements:{reference:v.anchor},middleware:[aD({mainAxis:l+j,alignmentAxis:f}),c&&lD({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cD():void 0,...$}),c&&uD({...$}),dD({...$,apply:({elements:Pe,rects:Ie,availableWidth:ze,availableHeight:Ye})=>{const{width:he,height:Me}=Ie.reference,Fe=Pe.floating.style;Fe.setProperty("--radix-popper-available-width",`${ze}px`),Fe.setProperty("--radix-popper-available-height",`${Ye}px`),Fe.setProperty("--radix-popper-anchor-width",`${he}px`),Fe.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),E&&fD({element:E,padding:o}),wD({arrowWidth:T,arrowHeight:j}),x&&hD({strategy:"referenceHidden",...$})]}),[D,B]=Aw(G),L=Tt(k);Nt(()=>{ee&&(L==null||L())},[ee,L]);const V=(U=z.arrow)==null?void 0:U.x,Y=(O=z.arrow)==null?void 0:O.y,J=((ne=z.arrow)==null?void 0:ne.centerOffset)!==0,[q,se]=C.useState();return Nt(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(re=z.transformOrigin)==null?void 0:re.x,(ce=z.transformOrigin)==null?void 0:ce.y].join(" "),...((le=z.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(vD,{scope:s,placedSide:D,onArrowChange:R,arrowX:V,arrowY:Y,shouldHideArrow:J,children:a.jsx(Le.div,{"data-side":D,"data-align":B,...S,ref:_,style:{...S.style,animation:ee?void 0:"none"}})})})});Rw.displayName=ip;var Tw="PopperArrow",_D={top:"bottom",right:"left",bottom:"top",left:"right"},Nw=C.forwardRef(function(t,s){const{__scopePopper:i,...l}=t,m=yD(Tw,i),f=_D[m.placedSide];return a.jsx("span",{ref:m.onArrowChange,style:{position:"absolute",left:m.arrowX,top:m.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[m.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[m.placedSide],visibility:m.shouldHideArrow?"hidden":void 0},children:a.jsx(mD,{...l,ref:s,style:{...l.style,display:"block"}})})});Nw.displayName=Tw;function xD(e){return e!==null}var wD=e=>({name:"transformOrigin",options:e,fn(t){var v,y,p;const{placement:s,rects:i,middlewareData:l}=t,f=((v=l.arrow)==null?void 0:v.centerOffset)!==0,o=f?0:e.arrowWidth,c=f?0:e.arrowHeight,[h,g]=Aw(s),d={start:"0%",center:"50%",end:"100%"}[g],x=(((y=l.arrow)==null?void 0:y.x)??0)+o/2,b=(((p=l.arrow)==null?void 0:p.y)??0)+c/2;let k="",S="";return h==="bottom"?(k=f?d:`${x}px`,S=`${-c}px`):h==="top"?(k=f?d:`${x}px`,S=`${i.floating.height+c}px`):h==="right"?(k=`${-c}px`,S=f?d:`${b}px`):h==="left"&&(k=`${i.floating.width+c}px`,S=f?d:`${b}px`),{data:{x:k,y:S}}}});function Aw(e){const[t,s="center"]=e.split("-");return[t,s]}var Vc=kw,op=Pw,ap=Rw,lp=Nw,SD="Portal",ga=C.forwardRef((e,t)=>{var o;const{container:s,...i}=e,[l,m]=C.useState(!1);Nt(()=>m(!0),[]);const f=s||l&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return f?jy.createPortal(a.jsx(Le.div,{...i,ref:t}),f):null});ga.displayName=SD;function bD(e){const t=CD(e),s=C.forwardRef((i,l)=>{const{children:m,...f}=i,o=C.Children.toArray(m),c=o.find(kD);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}function CD(e){const t=C.forwardRef((s,i)=>{const{children:l,...m}=s;if(C.isValidElement(l)){const f=PD(l),o=jD(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ED=Symbol("radix.slottable");function kD(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ED}function jD(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function PD(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Mw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RD="VisuallyHidden",Dw=C.forwardRef((e,t)=>a.jsx(Le.span,{...e,ref:t,style:{...Mw,...e.style}}));Dw.displayName=RD;var TD=Dw,ND=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xi=new WeakMap,Hl=new WeakMap,$l={},uh=0,Lw=function(e){return e&&(e.host||Lw(e.parentNode))},AD=function(e,t){return t.map(function(s){if(e.contains(s))return s;var i=Lw(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},MD=function(e,t,s,i){var l=AD(t,Array.isArray(e)?e:[e]);$l[s]||($l[s]=new WeakMap);var m=$l[s],f=[],o=new Set,c=new Set(l),h=function(d){!d||o.has(d)||(o.add(d),h(d.parentNode))};l.forEach(h);var g=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(x){if(o.has(x))g(x);else try{var b=x.getAttribute(i),k=b!==null&&b!=="false",S=(xi.get(x)||0)+1,v=(m.get(x)||0)+1;xi.set(x,S),m.set(x,v),f.push(x),S===1&&k&&Hl.set(x,!0),v===1&&x.setAttribute(s,"true"),k||x.setAttribute(i,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return g(t),o.clear(),uh++,function(){f.forEach(function(d){var x=xi.get(d)-1,b=m.get(d)-1;xi.set(d,x),m.set(d,b),x||(Hl.has(d)||d.removeAttribute(i),Hl.delete(d)),b||d.removeAttribute(s)}),uh--,uh||(xi=new WeakMap,xi=new WeakMap,Hl=new WeakMap,$l={})}},cp=function(e,t,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),l=ND(e);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live], script"))),MD(i,l,s,"aria-hidden")):function(){return null}},is=function(){return is=Object.assign||function(t){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(t[m]=s[m])}return t},is.apply(this,arguments)};function Ow(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(s[i[l]]=e[i[l]]);return s}function DD(e,t,s){if(s||arguments.length===2)for(var i=0,l=t.length,m;i<l;i++)(m||!(i in t))&&(m||(m=Array.prototype.slice.call(t,0,i)),m[i]=t[i]);return e.concat(m||Array.prototype.slice.call(t))}var Yl="right-scroll-bar-position",Xl="width-before-scroll-bar",LD="with-scroll-bars-hidden",OD="--removed-body-scroll-bar-size";function dh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ID(e,t){var s=C.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var l=s.value;l!==i&&(s.value=i,s.callback(i,l))}}}})[0];return s.callback=t,s.facade}var BD=typeof window<"u"?C.useLayoutEffect:C.useEffect,uy=new WeakMap;function FD(e,t){var s=ID(null,function(i){return e.forEach(function(l){return dh(l,i)})});return BD(function(){var i=uy.get(s);if(i){var l=new Set(i),m=new Set(e),f=s.current;l.forEach(function(o){m.has(o)||dh(o,null)}),m.forEach(function(o){l.has(o)||dh(o,f)})}uy.set(s,e)},[e]),s}function HD(e){return e}function $D(e,t){t===void 0&&(t=HD);var s=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(m){var f=t(m,i);return s.push(f),function(){s=s.filter(function(o){return o!==f})}},assignSyncMedium:function(m){for(i=!0;s.length;){var f=s;s=[],f.forEach(m)}s={push:function(o){return m(o)},filter:function(){return s}}},assignMedium:function(m){i=!0;var f=[];if(s.length){var o=s;s=[],o.forEach(m),f=s}var c=function(){var g=f;f=[],g.forEach(m)},h=function(){return Promise.resolve().then(c)};h(),s={push:function(g){f.push(g),h()},filter:function(g){return f=f.filter(g),s}}}};return l}function VD(e){e===void 0&&(e={});var t=$D(null);return t.options=is({async:!0,ssr:!1},e),t}var Iw=function(e){var t=e.sideCar,s=Ow(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,is({},s))};Iw.isSideCarExport=!0;function zD(e,t){return e.useMedium(t),Iw}var Bw=VD(),hh=function(){},zc=C.forwardRef(function(e,t){var s=C.useRef(null),i=C.useState({onScrollCapture:hh,onWheelCapture:hh,onTouchMoveCapture:hh}),l=i[0],m=i[1],f=e.forwardProps,o=e.children,c=e.className,h=e.removeScrollBar,g=e.enabled,d=e.shards,x=e.sideCar,b=e.noRelative,k=e.noIsolation,S=e.inert,v=e.allowPinchZoom,y=e.as,p=y===void 0?"div":y,_=e.gapMode,E=Ow(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,N=FD([s,t]),T=is(is({},E),l);return C.createElement(C.Fragment,null,g&&C.createElement(R,{sideCar:Bw,removeScrollBar:h,shards:d,noRelative:b,noIsolation:k,inert:S,setCallbacks:m,allowPinchZoom:!!v,lockRef:s,gapMode:_}),f?C.cloneElement(C.Children.only(o),is(is({},T),{ref:N})):C.createElement(p,is({},T,{className:c,ref:N}),o))});zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zc.classNames={fullWidth:Xl,zeroRight:Yl};var UD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UD();return t&&e.setAttribute("nonce",t),e}function KD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qD=function(){var e=0,t=null;return{add:function(s){e==0&&(t=WD())&&(KD(t,s),GD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YD=function(){var e=qD();return function(t,s){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Fw=function(){var e=YD(),t=function(s){var i=s.styles,l=s.dynamic;return e(i,l),null};return t},XD={left:0,top:0,right:0,gap:0},fh=function(e){return parseInt(e||"",10)||0},JD=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[fh(s),fh(i),fh(l)]},QD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XD;var t=JD(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},ZD=Fw(),Ri="data-scroll-locked",e5=function(e,t,s,i){var l=e.left,m=e.top,f=e.right,o=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(LD,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(Ri,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(m,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(Xl,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Xl," .").concat(Xl,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ri,`] {
    `).concat(OD,": ").concat(o,`px;
  }
`)},dy=function(){var e=parseInt(document.body.getAttribute(Ri)||"0",10);return isFinite(e)?e:0},t5=function(){C.useEffect(function(){return document.body.setAttribute(Ri,(dy()+1).toString()),function(){var e=dy()-1;e<=0?document.body.removeAttribute(Ri):document.body.setAttribute(Ri,e.toString())}},[])},r5=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,l=i===void 0?"margin":i;t5();var m=C.useMemo(function(){return QD(l)},[l]);return C.createElement(ZD,{styles:e5(m,!t,l,s?"":"!important")})},Wh=!1;if(typeof window<"u")try{var Vl=Object.defineProperty({},"passive",{get:function(){return Wh=!0,!0}});window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Wh=!1}var wi=Wh?{passive:!1}:!1,s5=function(e){return e.tagName==="TEXTAREA"},Hw=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!s5(e)&&s[t]==="visible")},n5=function(e){return Hw(e,"overflowY")},i5=function(e){return Hw(e,"overflowX")},hy=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=$w(e,i);if(l){var m=Vw(e,i),f=m[1],o=m[2];if(f>o)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},o5=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},a5=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},$w=function(e,t){return e==="v"?n5(t):i5(t)},Vw=function(e,t){return e==="v"?o5(t):a5(t)},l5=function(e,t){return e==="h"&&t==="rtl"?-1:1},c5=function(e,t,s,i,l){var m=l5(e,window.getComputedStyle(t).direction),f=m*i,o=s.target,c=t.contains(o),h=!1,g=f>0,d=0,x=0;do{if(!o)break;var b=Vw(e,o),k=b[0],S=b[1],v=b[2],y=S-v-m*k;(k||y)&&$w(e,o)&&(d+=y,x+=k);var p=o.parentNode;o=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(g&&Math.abs(d)<1||!g&&Math.abs(x)<1)&&(h=!0),h},zl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fy=function(e){return[e.deltaX,e.deltaY]},py=function(e){return e&&"current"in e?e.current:e},u5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},d5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h5=0,Si=[];function f5(e){var t=C.useRef([]),s=C.useRef([0,0]),i=C.useRef(),l=C.useState(h5++)[0],m=C.useState(Fw)[0],f=C.useRef(e);C.useEffect(function(){f.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var S=DD([e.lockRef.current],(e.shards||[]).map(py),!0).filter(Boolean);return S.forEach(function(v){return v.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),S.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var o=C.useCallback(function(S,v){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!f.current.allowPinchZoom;var y=zl(S),p=s.current,_="deltaX"in S?S.deltaX:p[0]-y[0],E="deltaY"in S?S.deltaY:p[1]-y[1],R,N=S.target,T=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in S&&T==="h"&&N.type==="range")return!1;var j=window.getSelection(),M=j&&j.anchorNode,F=M?M===N||M.contains(N):!1;if(F)return!1;var H=hy(T,N);if(!H)return!0;if(H?R=T:(R=T==="v"?"h":"v",H=hy(T,N)),!H)return!1;if(!i.current&&"changedTouches"in S&&(_||E)&&(i.current=R),!R)return!0;var W=i.current||R;return c5(W,v,S,W==="h"?_:E)},[]),c=C.useCallback(function(S){var v=S;if(!(!Si.length||Si[Si.length-1]!==m)){var y="deltaY"in v?fy(v):zl(v),p=t.current.filter(function(R){return R.name===v.type&&(R.target===v.target||v.target===R.shadowParent)&&u5(R.delta,y)})[0];if(p&&p.should){v.cancelable&&v.preventDefault();return}if(!p){var _=(f.current.shards||[]).map(py).filter(Boolean).filter(function(R){return R.contains(v.target)}),E=_.length>0?o(v,_[0]):!f.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),h=C.useCallback(function(S,v,y,p){var _={name:S,delta:v,target:y,should:p,shadowParent:p5(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),g=C.useCallback(function(S){s.current=zl(S),i.current=void 0},[]),d=C.useCallback(function(S){h(S.type,fy(S),S.target,o(S,e.lockRef.current))},[]),x=C.useCallback(function(S){h(S.type,zl(S),S.target,o(S,e.lockRef.current))},[]);C.useEffect(function(){return Si.push(m),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:x}),document.addEventListener("wheel",c,wi),document.addEventListener("touchmove",c,wi),document.addEventListener("touchstart",g,wi),function(){Si=Si.filter(function(S){return S!==m}),document.removeEventListener("wheel",c,wi),document.removeEventListener("touchmove",c,wi),document.removeEventListener("touchstart",g,wi)}},[]);var b=e.removeScrollBar,k=e.inert;return C.createElement(C.Fragment,null,k?C.createElement(m,{styles:d5(l)}):null,b?C.createElement(r5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function p5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m5=zD(Bw,f5);var Uc=C.forwardRef(function(e,t){return C.createElement(zc,is({},e,{ref:t,sideCar:m5}))});Uc.classNames=zc.classNames;var g5=[" ","Enter","ArrowUp","ArrowDown"],v5=[" ","Enter"],zn="Select",[Wc,Kc,y5]=Yf(zn),[Gi]=Lr(zn,[y5,Ki]),Gc=Ki(),[_5,gn]=Gi(zn),[x5,w5]=Gi(zn),zw=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:l,onOpenChange:m,value:f,defaultValue:o,onValueChange:c,dir:h,name:g,autoComplete:d,disabled:x,required:b,form:k}=e,S=Gc(t),[v,y]=C.useState(null),[p,_]=C.useState(null),[E,R]=C.useState(!1),N=da(h),[T,j]=us({prop:i,defaultProp:l??!1,onChange:m,caller:zn}),[M,F]=us({prop:f,defaultProp:o,onChange:c,caller:zn}),H=C.useRef(null),W=v?k||!!v.closest("form"):!0,[$,Z]=C.useState(new Set),K=Array.from($).map(G=>G.props.value).join(";");return a.jsx(Vc,{...S,children:a.jsxs(_5,{required:b,scope:t,trigger:v,onTriggerChange:y,valueNode:p,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:R,contentId:or(),value:M,onValueChange:F,open:T,onOpenChange:j,dir:N,triggerPointerDownPosRef:H,disabled:x,children:[a.jsx(Wc.Provider,{scope:t,children:a.jsx(x5,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(G=>{Z(ee=>new Set(ee).add(G))},[]),onNativeOptionRemove:C.useCallback(G=>{Z(ee=>{const z=new Set(ee);return z.delete(G),z})},[]),children:s})}),W?a.jsxs(fS,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:d,value:M,onChange:G=>F(G.target.value),disabled:x,form:k,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from($)]},K):null]})})};zw.displayName=zn;var Uw="SelectTrigger",Ww=C.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...l}=e,m=Gc(s),f=gn(Uw,s),o=f.disabled||i,c=Ve(t,f.onTriggerChange),h=Kc(s),g=C.useRef("touch"),[d,x,b]=mS(S=>{const v=h().filter(_=>!_.disabled),y=v.find(_=>_.value===f.value),p=gS(v,S,y);p!==void 0&&f.onValueChange(p.value)}),k=S=>{o||(f.onOpenChange(!0),b()),S&&(f.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return a.jsx(op,{asChild:!0,...m,children:a.jsx(Le.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":pS(f.value)?"":void 0,...l,ref:c,onClick:ye(l.onClick,S=>{S.currentTarget.focus(),g.current!=="mouse"&&k(S)}),onPointerDown:ye(l.onPointerDown,S=>{g.current=S.pointerType;const v=S.target;v.hasPointerCapture(S.pointerId)&&v.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(k(S),S.preventDefault())}),onKeyDown:ye(l.onKeyDown,S=>{const v=d.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&x(S.key),!(v&&S.key===" ")&&g5.includes(S.key)&&(k(),S.preventDefault())})})})});Ww.displayName=Uw;var Kw="SelectValue",Gw=C.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,children:m,placeholder:f="",...o}=e,c=gn(Kw,s),{onValueNodeHasChildrenChange:h}=c,g=m!==void 0,d=Ve(t,c.onValueNodeChange);return Nt(()=>{h(g)},[h,g]),a.jsx(Le.span,{...o,ref:d,style:{pointerEvents:"none"},children:pS(c.value)?a.jsx(a.Fragment,{children:f}):m})});Gw.displayName=Kw;var S5="SelectIcon",qw=C.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...l}=e;return a.jsx(Le.span,{"aria-hidden":!0,...l,ref:t,children:i||""})});qw.displayName=S5;var b5="SelectPortal",Yw=e=>a.jsx(ga,{asChild:!0,...e});Yw.displayName=b5;var Un="SelectContent",Xw=C.forwardRef((e,t)=>{const s=gn(Un,e.__scopeSelect),[i,l]=C.useState();if(Nt(()=>{l(new DocumentFragment)},[]),!s.open){const m=i;return m?ia.createPortal(a.jsx(Jw,{scope:e.__scopeSelect,children:a.jsx(Wc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),m):null}return a.jsx(Qw,{...e,ref:t})});Xw.displayName=Un;var Kr=10,[Jw,vn]=Gi(Un),C5="SelectContentImpl",E5=bD("SelectContent.RemoveScroll"),Qw=C.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:m,onPointerDownOutside:f,side:o,sideOffset:c,align:h,alignOffset:g,arrowPadding:d,collisionBoundary:x,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:v,...y}=e,p=gn(Un,s),[_,E]=C.useState(null),[R,N]=C.useState(null),T=Ve(t,U=>E(U)),[j,M]=C.useState(null),[F,H]=C.useState(null),W=Kc(s),[$,Z]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(_)return cp(_)},[_]),Jf();const G=C.useCallback(U=>{const[O,...ne]=W().map(le=>le.ref.current),[re]=ne.slice(-1),ce=document.activeElement;for(const le of U)if(le===ce||(le==null||le.scrollIntoView({block:"nearest"}),le===O&&R&&(R.scrollTop=0),le===re&&R&&(R.scrollTop=R.scrollHeight),le==null||le.focus(),document.activeElement!==ce))return},[W,R]),ee=C.useCallback(()=>G([j,_]),[G,j,_]);C.useEffect(()=>{$&&ee()},[$,ee]);const{onOpenChange:z,triggerPointerDownPosRef:D}=p;C.useEffect(()=>{if(_){let U={x:0,y:0};const O=re=>{var ce,le;U={x:Math.abs(Math.round(re.pageX)-(((ce=D.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(re.pageY)-(((le=D.current)==null?void 0:le.y)??0))}},ne=re=>{U.x<=10&&U.y<=10?re.preventDefault():_.contains(re.target)||z(!1),document.removeEventListener("pointermove",O),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",ne,{capture:!0})}}},[_,z,D]),C.useEffect(()=>{const U=()=>z(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[z]);const[B,L]=mS(U=>{const O=W().filter(ce=>!ce.disabled),ne=O.find(ce=>ce.ref.current===document.activeElement),re=gS(O,U,ne);re&&setTimeout(()=>re.ref.current.focus())}),V=C.useCallback((U,O,ne)=>{const re=!K.current&&!ne;(p.value!==void 0&&p.value===O||re)&&(M(U),re&&(K.current=!0))},[p.value]),Y=C.useCallback(()=>_==null?void 0:_.focus(),[_]),J=C.useCallback((U,O,ne)=>{const re=!K.current&&!ne;(p.value!==void 0&&p.value===O||re)&&H(U)},[p.value]),q=i==="popper"?Kh:Zw,se=q===Kh?{side:o,sideOffset:c,align:h,alignOffset:g,arrowPadding:d,collisionBoundary:x,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:v}:{};return a.jsx(Jw,{scope:s,content:_,viewport:R,onViewportChange:N,itemRefCallback:V,selectedItem:j,onItemLeave:Y,itemTextRefCallback:J,focusSelectedItem:ee,selectedItemText:F,position:i,isPositioned:$,searchRef:B,children:a.jsx(Uc,{as:E5,allowPinchZoom:!0,children:a.jsx(Ic,{asChild:!0,trapped:p.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:ye(l,U=>{var O;(O=p.trigger)==null||O.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(pa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(q,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:U=>U.preventDefault(),...y,...se,onPlaced:()=>Z(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,U=>{const O=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!O&&U.key.length===1&&L(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let re=W().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(U.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ce=U.target,le=re.indexOf(ce);re=re.slice(le+1)}setTimeout(()=>G(re)),U.preventDefault()}})})})})})})});Qw.displayName=C5;var k5="SelectItemAlignedPosition",Zw=C.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...l}=e,m=gn(Un,s),f=vn(Un,s),[o,c]=C.useState(null),[h,g]=C.useState(null),d=Ve(t,T=>g(T)),x=Kc(s),b=C.useRef(!1),k=C.useRef(!0),{viewport:S,selectedItem:v,selectedItemText:y,focusSelectedItem:p}=f,_=C.useCallback(()=>{if(m.trigger&&m.valueNode&&o&&h&&S&&v&&y){const T=m.trigger.getBoundingClientRect(),j=h.getBoundingClientRect(),M=m.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(m.dir!=="rtl"){const ce=F.left-j.left,le=M.left-ce,Pe=T.left-le,Ie=T.width+Pe,ze=Math.max(Ie,j.width),Ye=window.innerWidth-Kr,he=Hh(le,[Kr,Math.max(Kr,Ye-ze)]);o.style.minWidth=Ie+"px",o.style.left=he+"px"}else{const ce=j.right-F.right,le=window.innerWidth-M.right-ce,Pe=window.innerWidth-T.right-le,Ie=T.width+Pe,ze=Math.max(Ie,j.width),Ye=window.innerWidth-Kr,he=Hh(le,[Kr,Math.max(Kr,Ye-ze)]);o.style.minWidth=Ie+"px",o.style.right=he+"px"}const H=x(),W=window.innerHeight-Kr*2,$=S.scrollHeight,Z=window.getComputedStyle(h),K=parseInt(Z.borderTopWidth,10),G=parseInt(Z.paddingTop,10),ee=parseInt(Z.borderBottomWidth,10),z=parseInt(Z.paddingBottom,10),D=K+G+$+z+ee,B=Math.min(v.offsetHeight*5,D),L=window.getComputedStyle(S),V=parseInt(L.paddingTop,10),Y=parseInt(L.paddingBottom,10),J=T.top+T.height/2-Kr,q=W-J,se=v.offsetHeight/2,U=v.offsetTop+se,O=K+G+U,ne=D-O;if(O<=J){const ce=H.length>0&&v===H[H.length-1].ref.current;o.style.bottom="0px";const le=h.clientHeight-S.offsetTop-S.offsetHeight,Pe=Math.max(q,se+(ce?Y:0)+le+ee),Ie=O+Pe;o.style.height=Ie+"px"}else{const ce=H.length>0&&v===H[0].ref.current;o.style.top="0px";const Pe=Math.max(J,K+S.offsetTop+(ce?V:0)+se)+ne;o.style.height=Pe+"px",S.scrollTop=O-J+S.offsetTop}o.style.margin=`${Kr}px 0`,o.style.minHeight=B+"px",o.style.maxHeight=W+"px",i==null||i(),requestAnimationFrame(()=>b.current=!0)}},[x,m.trigger,m.valueNode,o,h,S,v,y,m.dir,i]);Nt(()=>_(),[_]);const[E,R]=C.useState();Nt(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const N=C.useCallback(T=>{T&&k.current===!0&&(_(),p==null||p(),k.current=!1)},[_,p]);return a.jsx(P5,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(Le.div,{...l,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Zw.displayName=k5;var j5="SelectPopperPosition",Kh=C.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:l=Kr,...m}=e,f=Gc(s);return a.jsx(ap,{...f,...m,ref:t,align:i,collisionPadding:l,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kh.displayName=j5;var[P5,up]=Gi(Un,{}),Gh="SelectViewport",eS=C.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...l}=e,m=vn(Gh,s),f=up(Gh,s),o=Ve(t,m.onViewportChange),c=C.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(Wc.Slot,{scope:s,children:a.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:ye(l.onScroll,h=>{const g=h.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:x}=f;if(x!=null&&x.current&&d){const b=Math.abs(c.current-g.scrollTop);if(b>0){const k=window.innerHeight-Kr*2,S=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),y=Math.max(S,v);if(y<k){const p=y+b,_=Math.min(k,p),E=p-_;d.style.height=_+"px",d.style.bottom==="0px"&&(g.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}c.current=g.scrollTop})})})]})});eS.displayName=Gh;var tS="SelectGroup",[R5,T5]=Gi(tS),N5=C.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=or();return a.jsx(R5,{scope:s,id:l,children:a.jsx(Le.div,{role:"group","aria-labelledby":l,...i,ref:t})})});N5.displayName=tS;var rS="SelectLabel",sS=C.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=T5(rS,s);return a.jsx(Le.div,{id:l.id,...i,ref:t})});sS.displayName=rS;var fc="SelectItem",[A5,nS]=Gi(fc),iS=C.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:l=!1,textValue:m,...f}=e,o=gn(fc,s),c=vn(fc,s),h=o.value===i,[g,d]=C.useState(m??""),[x,b]=C.useState(!1),k=Ve(t,p=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,p,i,l)}),S=or(),v=C.useRef("touch"),y=()=>{l||(o.onValueChange(i),o.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(A5,{scope:s,value:i,disabled:l,textId:S,isSelected:h,onItemTextChange:C.useCallback(p=>{d(_=>_||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(Wc.ItemSlot,{scope:s,value:i,disabled:l,textValue:g,children:a.jsx(Le.div,{role:"option","aria-labelledby":S,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...f,ref:k,onFocus:ye(f.onFocus,()=>b(!0)),onBlur:ye(f.onBlur,()=>b(!1)),onClick:ye(f.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:ye(f.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:ye(f.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:ye(f.onPointerMove,p=>{var _;v.current=p.pointerType,l?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(f.onPointerLeave,p=>{var _;p.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:ye(f.onKeyDown,p=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&p.key===" "||(v5.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});iS.displayName=fc;var Fo="SelectItemText",oS=C.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,...m}=e,f=gn(Fo,s),o=vn(Fo,s),c=nS(Fo,s),h=w5(Fo,s),[g,d]=C.useState(null),x=Ve(t,y=>d(y),c.onItemTextChange,y=>{var p;return(p=o.itemTextRefCallback)==null?void 0:p.call(o,y,c.value,c.disabled)}),b=g==null?void 0:g.textContent,k=C.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:S,onNativeOptionRemove:v}=h;return Nt(()=>(S(k),()=>v(k)),[S,v,k]),a.jsxs(a.Fragment,{children:[a.jsx(Le.span,{id:c.textId,...m,ref:x}),c.isSelected&&f.valueNode&&!f.valueNodeHasChildren?ia.createPortal(m.children,f.valueNode):null]})});oS.displayName=Fo;var aS="SelectItemIndicator",lS=C.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return nS(aS,s).isSelected?a.jsx(Le.span,{"aria-hidden":!0,...i,ref:t}):null});lS.displayName=aS;var qh="SelectScrollUpButton",cS=C.forwardRef((e,t)=>{const s=vn(qh,e.__scopeSelect),i=up(qh,e.__scopeSelect),[l,m]=C.useState(!1),f=Ve(t,i.onScrollButtonChange);return Nt(()=>{if(s.viewport&&s.isPositioned){let o=function(){const h=c.scrollTop>0;m(h)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),l?a.jsx(dS,{...e,ref:f,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});cS.displayName=qh;var Yh="SelectScrollDownButton",uS=C.forwardRef((e,t)=>{const s=vn(Yh,e.__scopeSelect),i=up(Yh,e.__scopeSelect),[l,m]=C.useState(!1),f=Ve(t,i.onScrollButtonChange);return Nt(()=>{if(s.viewport&&s.isPositioned){let o=function(){const h=c.scrollHeight-c.clientHeight,g=Math.ceil(c.scrollTop)<h;m(g)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),l?a.jsx(dS,{...e,ref:f,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});uS.displayName=Yh;var dS=C.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...l}=e,m=vn("SelectScrollButton",s),f=C.useRef(null),o=Kc(s),c=C.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Nt(()=>{var g;const h=o().find(d=>d.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[o]),a.jsx(Le.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:ye(l.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(i,50))}),onPointerMove:ye(l.onPointerMove,()=>{var h;(h=m.onItemLeave)==null||h.call(m),f.current===null&&(f.current=window.setInterval(i,50))}),onPointerLeave:ye(l.onPointerLeave,()=>{c()})})}),M5="SelectSeparator",hS=C.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return a.jsx(Le.div,{"aria-hidden":!0,...i,ref:t})});hS.displayName=M5;var Xh="SelectArrow",D5=C.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=Gc(s),m=gn(Xh,s),f=vn(Xh,s);return m.open&&f.position==="popper"?a.jsx(lp,{...l,...i,ref:t}):null});D5.displayName=Xh;var L5="SelectBubbleInput",fS=C.forwardRef(({__scopeSelect:e,value:t,...s},i)=>{const l=C.useRef(null),m=Ve(i,l),f=Dx(t);return C.useEffect(()=>{const o=l.current;if(!o)return;const c=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(c,"value").set;if(f!==t&&g){const d=new Event("change",{bubbles:!0});g.call(o,t),o.dispatchEvent(d)}},[f,t]),a.jsx(Le.select,{...s,style:{...Mw,...s.style},ref:m,defaultValue:t})});fS.displayName=L5;function pS(e){return e===""||e===void 0}function mS(e){const t=Tt(e),s=C.useRef(""),i=C.useRef(0),l=C.useCallback(f=>{const o=s.current+f;t(o),(function c(h){s.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(o)},[t]),m=C.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,l,m]}function gS(e,t,s){const l=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,m=s?e.indexOf(s):-1;let f=O5(e,Math.max(m,0));l.length===1&&(f=f.filter(h=>h!==s));const c=f.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==s?c:void 0}function O5(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var I5=zw,vS=Ww,B5=Gw,F5=qw,H5=Yw,yS=Xw,$5=eS,_S=sS,xS=iS,V5=oS,z5=lS,wS=cS,SS=uS,bS=hS;const my=I5,gy=B5,Jh=C.forwardRef(({className:e,children:t,...s},i)=>a.jsxs(vS,{ref:i,className:Ee("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(F5,{asChild:!0,children:a.jsx(ua,{className:"h-4 w-4 opacity-50"})})]}));Jh.displayName=vS.displayName;const CS=C.forwardRef(({className:e,...t},s)=>a.jsx(wS,{ref:s,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($R,{className:"h-4 w-4"})}));CS.displayName=wS.displayName;const ES=C.forwardRef(({className:e,...t},s)=>a.jsx(SS,{ref:s,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ua,{className:"h-4 w-4"})}));ES.displayName=SS.displayName;const Qh=C.forwardRef(({className:e,children:t,position:s="popper",...i},l)=>a.jsx(H5,{children:a.jsxs(yS,{ref:l,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[a.jsx(CS,{}),a.jsx($5,{className:Ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(ES,{})]})}));Qh.displayName=yS.displayName;const U5=C.forwardRef(({className:e,...t},s)=>a.jsx(_S,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",e),...t}));U5.displayName=_S.displayName;const Ho=C.forwardRef(({className:e,children:t,...s},i)=>a.jsxs(xS,{ref:i,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(z5,{children:a.jsx(qr,{className:"h-4 w-4"})})}),a.jsx(V5,{children:t})]}));Ho.displayName=xS.displayName;const W5=C.forwardRef(({className:e,...t},s)=>a.jsx(bS,{ref:s,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));W5.displayName=bS.displayName;var K5=Symbol("radix.slottable");function G5(e){const t=({children:s})=>a.jsx(a.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=K5,t}var[qc]=Lr("Tooltip",[Ki]),Yc=Ki(),kS="TooltipProvider",q5=700,Zh="tooltip.open",[Y5,dp]=qc(kS),jS=e=>{const{__scopeTooltip:t,delayDuration:s=q5,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:m}=e,f=C.useRef(!0),o=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),a.jsx(Y5,{scope:t,isOpenDelayedRef:f,delayDuration:s,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),f.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>f.current=!0,i)},[i]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(h=>{o.current=h},[]),disableHoverableContent:l,children:m})};jS.displayName=kS;var ta="Tooltip",[X5,va]=qc(ta),PS=e=>{const{__scopeTooltip:t,children:s,open:i,defaultOpen:l,onOpenChange:m,disableHoverableContent:f,delayDuration:o}=e,c=dp(ta,e.__scopeTooltip),h=Yc(t),[g,d]=C.useState(null),x=or(),b=C.useRef(0),k=f??c.disableHoverableContent,S=o??c.delayDuration,v=C.useRef(!1),[y,p]=us({prop:i,defaultProp:l??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Zh))):c.onClose(),m==null||m(T)},caller:ta}),_=C.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),E=C.useCallback(()=>{window.clearTimeout(b.current),b.current=0,v.current=!1,p(!0)},[p]),R=C.useCallback(()=>{window.clearTimeout(b.current),b.current=0,p(!1)},[p]),N=C.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{v.current=!0,p(!0),b.current=0},S)},[S,p]);return C.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),a.jsx(Vc,{...h,children:a.jsx(X5,{scope:t,contentId:x,open:y,stateAttribute:_,trigger:g,onTriggerChange:d,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?N():E()},[c.isOpenDelayedRef,N,E]),onTriggerLeave:C.useCallback(()=>{k?R():(window.clearTimeout(b.current),b.current=0)},[R,k]),onOpen:E,onClose:R,disableHoverableContent:k,children:s})})};PS.displayName=ta;var ef="TooltipTrigger",RS=C.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=va(ef,s),m=dp(ef,s),f=Yc(s),o=C.useRef(null),c=Ve(t,o,l.onTriggerChange),h=C.useRef(!1),g=C.useRef(!1),d=C.useCallback(()=>h.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),a.jsx(op,{asChild:!0,...f,children:a.jsx(Le.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:c,onPointerMove:ye(e.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!m.isPointerInTransitRef.current&&(l.onTriggerEnter(),g.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{l.onTriggerLeave(),g.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{l.open&&l.onClose(),h.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ye(e.onFocus,()=>{h.current||l.onOpen()}),onBlur:ye(e.onBlur,l.onClose),onClick:ye(e.onClick,l.onClose)})})});RS.displayName=ef;var hp="TooltipPortal",[J5,Q5]=qc(hp,{forceMount:void 0}),TS=e=>{const{__scopeTooltip:t,forceMount:s,children:i,container:l}=e,m=va(hp,t);return a.jsx(J5,{scope:t,forceMount:s,children:a.jsx(Kt,{present:s||m.open,children:a.jsx(ga,{asChild:!0,container:l,children:i})})})};TS.displayName=hp;var Oi="TooltipContent",NS=C.forwardRef((e,t)=>{const s=Q5(Oi,e.__scopeTooltip),{forceMount:i=s.forceMount,side:l="top",...m}=e,f=va(Oi,e.__scopeTooltip);return a.jsx(Kt,{present:i||f.open,children:f.disableHoverableContent?a.jsx(AS,{side:l,...m,ref:t}):a.jsx(Z5,{side:l,...m,ref:t})})}),Z5=C.forwardRef((e,t)=>{const s=va(Oi,e.__scopeTooltip),i=dp(Oi,e.__scopeTooltip),l=C.useRef(null),m=Ve(t,l),[f,o]=C.useState(null),{trigger:c,onClose:h}=s,g=l.current,{onPointerInTransitChange:d}=i,x=C.useCallback(()=>{o(null),d(!1)},[d]),b=C.useCallback((k,S)=>{const v=k.currentTarget,y={x:k.clientX,y:k.clientY},p=n4(y,v.getBoundingClientRect()),_=i4(y,p),E=o4(S.getBoundingClientRect()),R=l4([..._,...E]);o(R),d(!0)},[d]);return C.useEffect(()=>()=>x(),[x]),C.useEffect(()=>{if(c&&g){const k=v=>b(v,g),S=v=>b(v,c);return c.addEventListener("pointerleave",k),g.addEventListener("pointerleave",S),()=>{c.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",S)}}},[c,g,b,x]),C.useEffect(()=>{if(f){const k=S=>{const v=S.target,y={x:S.clientX,y:S.clientY},p=(c==null?void 0:c.contains(v))||(g==null?void 0:g.contains(v)),_=!a4(y,f);p?x():_&&(x(),h())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[c,g,f,h,x]),a.jsx(AS,{...e,ref:m})}),[e4,t4]=qc(ta,{isInside:!1}),r4=G5("TooltipContent"),AS=C.forwardRef((e,t)=>{const{__scopeTooltip:s,children:i,"aria-label":l,onEscapeKeyDown:m,onPointerDownOutside:f,...o}=e,c=va(Oi,s),h=Yc(s),{onClose:g}=c;return C.useEffect(()=>(document.addEventListener(Zh,g),()=>document.removeEventListener(Zh,g)),[g]),C.useEffect(()=>{if(c.trigger){const d=x=>{const b=x.target;b!=null&&b.contains(c.trigger)&&g()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,g]),a.jsx(pa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:d=>d.preventDefault(),onDismiss:g,children:a.jsxs(ap,{"data-state":c.stateAttribute,...h,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(r4,{children:i}),a.jsx(e4,{scope:s,isInside:!0,children:a.jsx(TD,{id:c.contentId,role:"tooltip",children:l||i})})]})})});NS.displayName=Oi;var MS="TooltipArrow",s4=C.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=Yc(s);return t4(MS,s).isInside?null:a.jsx(lp,{...l,...i,ref:t})});s4.displayName=MS;function n4(e,t){const s=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),m=Math.abs(t.left-e.x);switch(Math.min(s,i,l,m)){case m:return"left";case l:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function i4(e,t,s=5){const i=[];switch(t){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return i}function o4(e){const{top:t,right:s,bottom:i,left:l}=e;return[{x:l,y:t},{x:s,y:t},{x:s,y:i},{x:l,y:i}]}function a4(e,t){const{x:s,y:i}=e;let l=!1;for(let m=0,f=t.length-1;m<t.length;f=m++){const o=t[m],c=t[f],h=o.x,g=o.y,d=c.x,x=c.y;g>i!=x>i&&s<(d-h)*(i-g)/(x-g)+h&&(l=!l)}return l}function l4(e){const t=e.slice();return t.sort((s,i)=>s.x<i.x?-1:s.x>i.x?1:s.y<i.y?-1:s.y>i.y?1:0),c4(t)}function c4(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const l=e[i];for(;t.length>=2;){const m=t[t.length-1],f=t[t.length-2];if((m.x-f.x)*(l.y-f.y)>=(m.y-f.y)*(l.x-f.x))t.pop();else break}t.push(l)}t.pop();const s=[];for(let i=e.length-1;i>=0;i--){const l=e[i];for(;s.length>=2;){const m=s[s.length-1],f=s[s.length-2];if((m.x-f.x)*(l.y-f.y)>=(m.y-f.y)*(l.x-f.x))s.pop();else break}s.push(l)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var u4=jS,d4=PS,h4=RS,f4=TS,DS=NS;const LS=u4,cn=d4,un=h4,Ts=C.forwardRef(({className:e,sideOffset:t=4,...s},i)=>a.jsx(f4,{children:a.jsx(DS,{ref:i,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Ts.displayName=DS.displayName;const p4=Ac("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pc=C.forwardRef(({className:e,variant:t,...s},i)=>a.jsx("div",{ref:i,role:"alert",className:Ee(p4({variant:t}),e),...s}));pc.displayName="Alert";const m4=C.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));m4.displayName="AlertTitle";const mc=C.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));mc.displayName="AlertDescription";var Xc="Collapsible",[g4]=Lr(Xc),[v4,fp]=g4(Xc),OS=C.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:i,defaultOpen:l,disabled:m,onOpenChange:f,...o}=e,[c,h]=us({prop:i,defaultProp:l??!1,onChange:f,caller:Xc});return a.jsx(v4,{scope:s,disabled:m,contentId:or(),open:c,onOpenToggle:C.useCallback(()=>h(g=>!g),[h]),children:a.jsx(Le.div,{"data-state":mp(c),"data-disabled":m?"":void 0,...o,ref:t})})});OS.displayName=Xc;var IS="CollapsibleTrigger",BS=C.forwardRef((e,t)=>{const{__scopeCollapsible:s,...i}=e,l=fp(IS,s);return a.jsx(Le.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":mp(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...i,ref:t,onClick:ye(e.onClick,l.onOpenToggle)})});BS.displayName=IS;var pp="CollapsibleContent",FS=C.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=fp(pp,e.__scopeCollapsible);return a.jsx(Kt,{present:s||l.open,children:({present:m})=>a.jsx(y4,{...i,ref:t,present:m})})});FS.displayName=pp;var y4=C.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:i,children:l,...m}=e,f=fp(pp,s),[o,c]=C.useState(i),h=C.useRef(null),g=Ve(t,h),d=C.useRef(0),x=d.current,b=C.useRef(0),k=b.current,S=f.open||o,v=C.useRef(S),y=C.useRef(void 0);return C.useEffect(()=>{const p=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(p)},[]),Nt(()=>{const p=h.current;if(p){y.current=y.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const _=p.getBoundingClientRect();d.current=_.height,b.current=_.width,v.current||(p.style.transitionDuration=y.current.transitionDuration,p.style.animationName=y.current.animationName),c(i)}},[f.open,i]),a.jsx(Le.div,{"data-state":mp(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!S,...m,ref:g,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:S&&l})});function mp(e){return e?"open":"closed"}var _4=OS;const x4=_4,w4=BS,S4=FS;function b4(e){const t=C4(e),s=C.forwardRef((i,l)=>{const{children:m,...f}=i,o=C.Children.toArray(m),c=o.find(k4);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}function C4(e){const t=C.forwardRef((s,i)=>{const{children:l,...m}=s;if(C.isValidElement(l)){const f=P4(l),o=j4(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var E4=Symbol("radix.slottable");function k4(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===E4}function j4(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function P4(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Jc="Dialog",[HS]=Lr(Jc),[R4,Jr]=HS(Jc),$S=e=>{const{__scopeDialog:t,children:s,open:i,defaultOpen:l,onOpenChange:m,modal:f=!0}=e,o=C.useRef(null),c=C.useRef(null),[h,g]=us({prop:i,defaultProp:l??!1,onChange:m,caller:Jc});return a.jsx(R4,{scope:t,triggerRef:o,contentRef:c,contentId:or(),titleId:or(),descriptionId:or(),open:h,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(d=>!d),[g]),modal:f,children:s})};$S.displayName=Jc;var VS="DialogTrigger",T4=C.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Jr(VS,s),m=Ve(t,l.triggerRef);return a.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":yp(l.open),...i,ref:m,onClick:ye(e.onClick,l.onOpenToggle)})});T4.displayName=VS;var gp="DialogPortal",[N4,zS]=HS(gp,{forceMount:void 0}),US=e=>{const{__scopeDialog:t,forceMount:s,children:i,container:l}=e,m=Jr(gp,t);return a.jsx(N4,{scope:t,forceMount:s,children:C.Children.map(i,f=>a.jsx(Kt,{present:s||m.open,children:a.jsx(ga,{asChild:!0,container:l,children:f})}))})};US.displayName=gp;var gc="DialogOverlay",WS=C.forwardRef((e,t)=>{const s=zS(gc,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,m=Jr(gc,e.__scopeDialog);return m.modal?a.jsx(Kt,{present:i||m.open,children:a.jsx(M4,{...l,ref:t})}):null});WS.displayName=gc;var A4=b4("DialogOverlay.RemoveScroll"),M4=C.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Jr(gc,s);return a.jsx(Uc,{as:A4,allowPinchZoom:!0,shards:[l.contentRef],children:a.jsx(Le.div,{"data-state":yp(l.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Wn="DialogContent",KS=C.forwardRef((e,t)=>{const s=zS(Wn,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,m=Jr(Wn,e.__scopeDialog);return a.jsx(Kt,{present:i||m.open,children:m.modal?a.jsx(D4,{...l,ref:t}):a.jsx(L4,{...l,ref:t})})});KS.displayName=Wn;var D4=C.forwardRef((e,t)=>{const s=Jr(Wn,e.__scopeDialog),i=C.useRef(null),l=Ve(t,s.contentRef,i);return C.useEffect(()=>{const m=i.current;if(m)return cp(m)},[]),a.jsx(GS,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,m=>{var f;m.preventDefault(),(f=s.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,m=>{const f=m.detail.originalEvent,o=f.button===0&&f.ctrlKey===!0;(f.button===2||o)&&m.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,m=>m.preventDefault())})}),L4=C.forwardRef((e,t)=>{const s=Jr(Wn,e.__scopeDialog),i=C.useRef(!1),l=C.useRef(!1);return a.jsx(GS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:m=>{var f,o;(f=e.onCloseAutoFocus)==null||f.call(e,m),m.defaultPrevented||(i.current||(o=s.triggerRef.current)==null||o.focus(),m.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:m=>{var c,h;(c=e.onInteractOutside)==null||c.call(e,m),m.defaultPrevented||(i.current=!0,m.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const f=m.target;((h=s.triggerRef.current)==null?void 0:h.contains(f))&&m.preventDefault(),m.detail.originalEvent.type==="focusin"&&l.current&&m.preventDefault()}})}),GS=C.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:m,...f}=e,o=Jr(Wn,s),c=C.useRef(null),h=Ve(t,c);return Jf(),a.jsxs(a.Fragment,{children:[a.jsx(Ic,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:m,children:a.jsx(pa,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":yp(o.open),...f,ref:h,onDismiss:()=>o.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(O4,{titleId:o.titleId}),a.jsx(B4,{contentRef:c,descriptionId:o.descriptionId})]})]})}),vp="DialogTitle",qS=C.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Jr(vp,s);return a.jsx(Le.h2,{id:l.titleId,...i,ref:t})});qS.displayName=vp;var YS="DialogDescription",XS=C.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Jr(YS,s);return a.jsx(Le.p,{id:l.descriptionId,...i,ref:t})});XS.displayName=YS;var JS="DialogClose",QS=C.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Jr(JS,s);return a.jsx(Le.button,{type:"button",...i,ref:t,onClick:ye(e.onClick,()=>l.onOpenChange(!1))})});QS.displayName=JS;function yp(e){return e?"open":"closed"}var ZS="DialogTitleWarning",[kO,eb]=rA(ZS,{contentName:Wn,titleName:vp,docsSlug:"dialog"}),O4=({titleId:e})=>{const t=eb(ZS),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},I4="DialogDescriptionWarning",B4=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eb(I4).contentName}}.`;return C.useEffect(()=>{var m;const l=(m=e.current)==null?void 0:m.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},F4=$S,H4=US,tb=WS,rb=KS,sb=qS,nb=XS,$4=QS;const Dr=F4,V4=H4,ib=C.forwardRef(({className:e,...t},s)=>a.jsx(tb,{ref:s,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ib.displayName=tb.displayName;const yr=C.forwardRef(({className:e,children:t,...s},i)=>a.jsxs(V4,{children:[a.jsx(ib,{}),a.jsxs(rb,{ref:i,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,a.jsxs($4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(mx,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yr.displayName=rb.displayName;const _r=({className:e,...t})=>a.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_r.displayName="DialogHeader";const xr=({className:e,...t})=>a.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xr.displayName="DialogFooter";const wr=C.forwardRef(({className:e,...t},s)=>a.jsx(sb,{ref:s,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));wr.displayName=sb.displayName;const hs=C.forwardRef(({className:e,...t},s)=>a.jsx(nb,{ref:s,className:Ee("text-sm text-muted-foreground",e),...t}));hs.displayName=nb.displayName;function z4(e){const t=U4(e),s=C.forwardRef((i,l)=>{const{children:m,...f}=i,o=C.Children.toArray(m),c=o.find(K4);if(c){const h=c.props.children,g=o.map(d=>d===c?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:d);return a.jsx(t,{...f,ref:l,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return a.jsx(t,{...f,ref:l,children:m})});return s.displayName=`${e}.Slot`,s}function U4(e){const t=C.forwardRef((s,i)=>{const{children:l,...m}=s;if(C.isValidElement(l)){const f=q4(l),o=G4(m,l.props);return l.type!==C.Fragment&&(o.ref=i?Ds(i,f):f),C.cloneElement(l,o)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W4=Symbol("radix.slottable");function K4(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W4}function G4(e,t){const s={...t};for(const i in t){const l=e[i],m=t[i];/^on[A-Z]/.test(i)?l&&m?s[i]=(...o)=>{const c=m(...o);return l(...o),c}:l&&(s[i]=l):i==="style"?s[i]={...l,...m}:i==="className"&&(s[i]=[l,m].filter(Boolean).join(" "))}return{...e,...s}}function q4(e){var i,l;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var tf=["Enter"," "],Y4=["ArrowDown","PageUp","Home"],ob=["ArrowUp","PageDown","End"],X4=[...Y4,...ob],J4={ltr:[...tf,"ArrowRight"],rtl:[...tf,"ArrowLeft"]},Q4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ya="Menu",[ra,Z4,eL]=Yf(ya),[qn,ab]=Lr(ya,[eL,Ki,Dc]),_a=Ki(),lb=Dc(),[cb,yn]=qn(ya),[tL,xa]=qn(ya),ub=e=>{const{__scopeMenu:t,open:s=!1,children:i,dir:l,onOpenChange:m,modal:f=!0}=e,o=_a(t),[c,h]=C.useState(null),g=C.useRef(!1),d=Tt(m),x=da(l);return C.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),a.jsx(Vc,{...o,children:a.jsx(cb,{scope:t,open:s,onOpenChange:d,content:c,onContentChange:h,children:a.jsx(tL,{scope:t,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:g,dir:x,modal:f,children:i})})})};ub.displayName=ya;var rL="MenuAnchor",_p=C.forwardRef((e,t)=>{const{__scopeMenu:s,...i}=e,l=_a(s);return a.jsx(op,{...l,...i,ref:t})});_p.displayName=rL;var xp="MenuPortal",[sL,db]=qn(xp,{forceMount:void 0}),hb=e=>{const{__scopeMenu:t,forceMount:s,children:i,container:l}=e,m=yn(xp,t);return a.jsx(sL,{scope:t,forceMount:s,children:a.jsx(Kt,{present:s||m.open,children:a.jsx(ga,{asChild:!0,container:l,children:i})})})};hb.displayName=xp;var Mr="MenuContent",[nL,wp]=qn(Mr),fb=C.forwardRef((e,t)=>{const s=db(Mr,e.__scopeMenu),{forceMount:i=s.forceMount,...l}=e,m=yn(Mr,e.__scopeMenu),f=xa(Mr,e.__scopeMenu);return a.jsx(ra.Provider,{scope:e.__scopeMenu,children:a.jsx(Kt,{present:i||m.open,children:a.jsx(ra.Slot,{scope:e.__scopeMenu,children:f.modal?a.jsx(iL,{...l,ref:t}):a.jsx(oL,{...l,ref:t})})})})}),iL=C.forwardRef((e,t)=>{const s=yn(Mr,e.__scopeMenu),i=C.useRef(null),l=Ve(t,i);return C.useEffect(()=>{const m=i.current;if(m)return cp(m)},[]),a.jsx(Sp,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,m=>m.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),oL=C.forwardRef((e,t)=>{const s=yn(Mr,e.__scopeMenu);return a.jsx(Sp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),aL=z4("MenuContent.ScrollLock"),Sp=C.forwardRef((e,t)=>{const{__scopeMenu:s,loop:i=!1,trapFocus:l,onOpenAutoFocus:m,onCloseAutoFocus:f,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:d,onInteractOutside:x,onDismiss:b,disableOutsideScroll:k,...S}=e,v=yn(Mr,s),y=xa(Mr,s),p=_a(s),_=lb(s),E=Z4(s),[R,N]=C.useState(null),T=C.useRef(null),j=Ve(t,T,v.onContentChange),M=C.useRef(0),F=C.useRef(""),H=C.useRef(0),W=C.useRef(null),$=C.useRef("right"),Z=C.useRef(0),K=k?Uc:C.Fragment,G=k?{as:aL,allowPinchZoom:!0}:void 0,ee=D=>{var U,O;const B=F.current+D,L=E().filter(ne=>!ne.disabled),V=document.activeElement,Y=(U=L.find(ne=>ne.ref.current===V))==null?void 0:U.textValue,J=L.map(ne=>ne.textValue),q=_L(J,B,Y),se=(O=L.find(ne=>ne.textValue===q))==null?void 0:O.ref.current;(function ne(re){F.current=re,window.clearTimeout(M.current),re!==""&&(M.current=window.setTimeout(()=>ne(""),1e3))})(B),se&&setTimeout(()=>se.focus())};C.useEffect(()=>()=>window.clearTimeout(M.current),[]),Jf();const z=C.useCallback(D=>{var L,V;return $.current===((L=W.current)==null?void 0:L.side)&&wL(D,(V=W.current)==null?void 0:V.area)},[]);return a.jsx(nL,{scope:s,searchRef:F,onItemEnter:C.useCallback(D=>{z(D)&&D.preventDefault()},[z]),onItemLeave:C.useCallback(D=>{var B;z(D)||((B=T.current)==null||B.focus(),N(null))},[z]),onTriggerLeave:C.useCallback(D=>{z(D)&&D.preventDefault()},[z]),pointerGraceTimerRef:H,onPointerGraceIntentChange:C.useCallback(D=>{W.current=D},[]),children:a.jsx(K,{...G,children:a.jsx(Ic,{asChild:!0,trapped:l,onMountAutoFocus:ye(m,D=>{var B;D.preventDefault(),(B=T.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:a.jsx(pa,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:d,onInteractOutside:x,onDismiss:b,children:a.jsx(qx,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:i,currentTabStopId:R,onCurrentTabStopIdChange:N,onEntryFocus:ye(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ap,{role:"menu","aria-orientation":"vertical","data-state":Tb(v.open),"data-radix-menu-content":"",dir:y.dir,...p,...S,ref:j,style:{outline:"none",...S.style},onKeyDown:ye(S.onKeyDown,D=>{const L=D.target.closest("[data-radix-menu-content]")===D.currentTarget,V=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;L&&(D.key==="Tab"&&D.preventDefault(),!V&&Y&&ee(D.key));const J=T.current;if(D.target!==J||!X4.includes(D.key))return;D.preventDefault();const se=E().filter(U=>!U.disabled).map(U=>U.ref.current);ob.includes(D.key)&&se.reverse(),vL(se)}),onBlur:ye(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(M.current),F.current="")}),onPointerMove:ye(e.onPointerMove,sa(D=>{const B=D.target,L=Z.current!==D.clientX;if(D.currentTarget.contains(B)&&L){const V=D.clientX>Z.current?"right":"left";$.current=V,Z.current=D.clientX}}))})})})})})})});fb.displayName=Mr;var lL="MenuGroup",bp=C.forwardRef((e,t)=>{const{__scopeMenu:s,...i}=e;return a.jsx(Le.div,{role:"group",...i,ref:t})});bp.displayName=lL;var cL="MenuLabel",pb=C.forwardRef((e,t)=>{const{__scopeMenu:s,...i}=e;return a.jsx(Le.div,{...i,ref:t})});pb.displayName=cL;var vc="MenuItem",vy="menu.itemSelect",Qc=C.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:i,...l}=e,m=C.useRef(null),f=xa(vc,e.__scopeMenu),o=wp(vc,e.__scopeMenu),c=Ve(t,m),h=C.useRef(!1),g=()=>{const d=m.current;if(!s&&d){const x=new CustomEvent(vy,{bubbles:!0,cancelable:!0});d.addEventListener(vy,b=>i==null?void 0:i(b),{once:!0}),Ox(d,x),x.defaultPrevented?h.current=!1:f.onClose()}};return a.jsx(mb,{...l,ref:c,disabled:s,onClick:ye(e.onClick,g),onPointerDown:d=>{var x;(x=e.onPointerDown)==null||x.call(e,d),h.current=!0},onPointerUp:ye(e.onPointerUp,d=>{var x;h.current||(x=d.currentTarget)==null||x.click()}),onKeyDown:ye(e.onKeyDown,d=>{const x=o.searchRef.current!=="";s||x&&d.key===" "||tf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Qc.displayName=vc;var mb=C.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:i=!1,textValue:l,...m}=e,f=wp(vc,s),o=lb(s),c=C.useRef(null),h=Ve(t,c),[g,d]=C.useState(!1),[x,b]=C.useState("");return C.useEffect(()=>{const k=c.current;k&&b((k.textContent??"").trim())},[m.children]),a.jsx(ra.ItemSlot,{scope:s,disabled:i,textValue:l??x,children:a.jsx(Yx,{asChild:!0,...o,focusable:!i,children:a.jsx(Le.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...m,ref:h,onPointerMove:ye(e.onPointerMove,sa(k=>{i?f.onItemLeave(k):(f.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,sa(k=>f.onItemLeave(k))),onFocus:ye(e.onFocus,()=>d(!0)),onBlur:ye(e.onBlur,()=>d(!1))})})})}),uL="MenuCheckboxItem",gb=C.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:i,...l}=e;return a.jsx(wb,{scope:e.__scopeMenu,checked:s,children:a.jsx(Qc,{role:"menuitemcheckbox","aria-checked":yc(s)?"mixed":s,...l,ref:t,"data-state":kp(s),onSelect:ye(l.onSelect,()=>i==null?void 0:i(yc(s)?!0:!s),{checkForDefaultPrevented:!1})})})});gb.displayName=uL;var vb="MenuRadioGroup",[dL,hL]=qn(vb,{value:void 0,onValueChange:()=>{}}),yb=C.forwardRef((e,t)=>{const{value:s,onValueChange:i,...l}=e,m=Tt(i);return a.jsx(dL,{scope:e.__scopeMenu,value:s,onValueChange:m,children:a.jsx(bp,{...l,ref:t})})});yb.displayName=vb;var _b="MenuRadioItem",xb=C.forwardRef((e,t)=>{const{value:s,...i}=e,l=hL(_b,e.__scopeMenu),m=s===l.value;return a.jsx(wb,{scope:e.__scopeMenu,checked:m,children:a.jsx(Qc,{role:"menuitemradio","aria-checked":m,...i,ref:t,"data-state":kp(m),onSelect:ye(i.onSelect,()=>{var f;return(f=l.onValueChange)==null?void 0:f.call(l,s)},{checkForDefaultPrevented:!1})})})});xb.displayName=_b;var Cp="MenuItemIndicator",[wb,fL]=qn(Cp,{checked:!1}),Sb=C.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:i,...l}=e,m=fL(Cp,s);return a.jsx(Kt,{present:i||yc(m.checked)||m.checked===!0,children:a.jsx(Le.span,{...l,ref:t,"data-state":kp(m.checked)})})});Sb.displayName=Cp;var pL="MenuSeparator",bb=C.forwardRef((e,t)=>{const{__scopeMenu:s,...i}=e;return a.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});bb.displayName=pL;var mL="MenuArrow",Cb=C.forwardRef((e,t)=>{const{__scopeMenu:s,...i}=e,l=_a(s);return a.jsx(lp,{...l,...i,ref:t})});Cb.displayName=mL;var Ep="MenuSub",[gL,Eb]=qn(Ep),kb=e=>{const{__scopeMenu:t,children:s,open:i=!1,onOpenChange:l}=e,m=yn(Ep,t),f=_a(t),[o,c]=C.useState(null),[h,g]=C.useState(null),d=Tt(l);return C.useEffect(()=>(m.open===!1&&d(!1),()=>d(!1)),[m.open,d]),a.jsx(Vc,{...f,children:a.jsx(cb,{scope:t,open:i,onOpenChange:d,content:h,onContentChange:g,children:a.jsx(gL,{scope:t,contentId:or(),triggerId:or(),trigger:o,onTriggerChange:c,children:s})})})};kb.displayName=Ep;var $o="MenuSubTrigger",jb=C.forwardRef((e,t)=>{const s=yn($o,e.__scopeMenu),i=xa($o,e.__scopeMenu),l=Eb($o,e.__scopeMenu),m=wp($o,e.__scopeMenu),f=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=m,h={__scopeMenu:e.__scopeMenu},g=C.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return C.useEffect(()=>g,[g]),C.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),c(null)}},[o,c]),a.jsx(_p,{asChild:!0,...h,children:a.jsx(mb,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":l.contentId,"data-state":Tb(s.open),...e,ref:Ds(t,l.onTriggerChange),onClick:d=>{var x;(x=e.onClick)==null||x.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,sa(d=>{m.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!s.open&&!f.current&&(m.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{s.onOpenChange(!0),g()},100))})),onPointerLeave:ye(e.onPointerLeave,sa(d=>{var b,k;g();const x=(b=s.content)==null?void 0:b.getBoundingClientRect();if(x){const S=(k=s.content)==null?void 0:k.dataset.side,v=S==="right",y=v?-5:5,p=x[v?"left":"right"],_=x[v?"right":"left"];m.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:p,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:p,y:x.bottom}],side:S}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>m.onPointerGraceIntentChange(null),300)}else{if(m.onTriggerLeave(d),d.defaultPrevented)return;m.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,d=>{var b;const x=m.searchRef.current!=="";e.disabled||x&&d.key===" "||J4[i.dir].includes(d.key)&&(s.onOpenChange(!0),(b=s.content)==null||b.focus(),d.preventDefault())})})})});jb.displayName=$o;var Pb="MenuSubContent",Rb=C.forwardRef((e,t)=>{const s=db(Mr,e.__scopeMenu),{forceMount:i=s.forceMount,...l}=e,m=yn(Mr,e.__scopeMenu),f=xa(Mr,e.__scopeMenu),o=Eb(Pb,e.__scopeMenu),c=C.useRef(null),h=Ve(t,c);return a.jsx(ra.Provider,{scope:e.__scopeMenu,children:a.jsx(Kt,{present:i||m.open,children:a.jsx(ra.Slot,{scope:e.__scopeMenu,children:a.jsx(Sp,{id:o.contentId,"aria-labelledby":o.triggerId,...l,ref:h,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var d;f.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ye(e.onFocusOutside,g=>{g.target!==o.trigger&&m.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,g=>{f.onClose(),g.preventDefault()}),onKeyDown:ye(e.onKeyDown,g=>{var b;const d=g.currentTarget.contains(g.target),x=Q4[f.dir].includes(g.key);d&&x&&(m.onOpenChange(!1),(b=o.trigger)==null||b.focus(),g.preventDefault())})})})})})});Rb.displayName=Pb;function Tb(e){return e?"open":"closed"}function yc(e){return e==="indeterminate"}function kp(e){return yc(e)?"indeterminate":e?"checked":"unchecked"}function vL(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function yL(e,t){return e.map((s,i)=>e[(t+i)%e.length])}function _L(e,t,s){const l=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,m=s?e.indexOf(s):-1;let f=yL(e,Math.max(m,0));l.length===1&&(f=f.filter(h=>h!==s));const c=f.find(h=>h.toLowerCase().startsWith(l.toLowerCase()));return c!==s?c:void 0}function xL(e,t){const{x:s,y:i}=e;let l=!1;for(let m=0,f=t.length-1;m<t.length;f=m++){const o=t[m],c=t[f],h=o.x,g=o.y,d=c.x,x=c.y;g>i!=x>i&&s<(d-h)*(i-g)/(x-g)+h&&(l=!l)}return l}function wL(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return xL(s,t)}function sa(e){return t=>t.pointerType==="mouse"?e(t):void 0}var SL=ub,bL=_p,CL=hb,EL=fb,kL=bp,jL=pb,PL=Qc,RL=gb,TL=yb,NL=xb,AL=Sb,ML=bb,DL=Cb,LL=kb,OL=jb,IL=Rb,Zc="DropdownMenu",[BL]=Lr(Zc,[ab]),Gt=ab(),[FL,Nb]=BL(Zc),Ab=e=>{const{__scopeDropdownMenu:t,children:s,dir:i,open:l,defaultOpen:m,onOpenChange:f,modal:o=!0}=e,c=Gt(t),h=C.useRef(null),[g,d]=us({prop:l,defaultProp:m??!1,onChange:f,caller:Zc});return a.jsx(FL,{scope:t,triggerId:or(),triggerRef:h,contentId:or(),open:g,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(x=>!x),[d]),modal:o,children:a.jsx(SL,{...c,open:g,onOpenChange:d,dir:i,modal:o,children:s})})};Ab.displayName=Zc;var Mb="DropdownMenuTrigger",Db=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:i=!1,...l}=e,m=Nb(Mb,s),f=Gt(s);return a.jsx(bL,{asChild:!0,...f,children:a.jsx(Le.button,{type:"button",id:m.triggerId,"aria-haspopup":"menu","aria-expanded":m.open,"aria-controls":m.open?m.contentId:void 0,"data-state":m.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...l,ref:Ds(t,m.triggerRef),onPointerDown:ye(e.onPointerDown,o=>{!i&&o.button===0&&o.ctrlKey===!1&&(m.onOpenToggle(),m.open||o.preventDefault())}),onKeyDown:ye(e.onKeyDown,o=>{i||(["Enter"," "].includes(o.key)&&m.onOpenToggle(),o.key==="ArrowDown"&&m.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});Db.displayName=Mb;var HL="DropdownMenuPortal",Lb=e=>{const{__scopeDropdownMenu:t,...s}=e,i=Gt(t);return a.jsx(CL,{...i,...s})};Lb.displayName=HL;var Ob="DropdownMenuContent",Ib=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Nb(Ob,s),m=Gt(s),f=C.useRef(!1);return a.jsx(EL,{id:l.contentId,"aria-labelledby":l.triggerId,...m,...i,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{var c;f.current||(c=l.triggerRef.current)==null||c.focus(),f.current=!1,o.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,o=>{const c=o.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,g=c.button===2||h;(!l.modal||g)&&(f.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ib.displayName=Ob;var $L="DropdownMenuGroup",VL=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(kL,{...l,...i,ref:t})});VL.displayName=$L;var zL="DropdownMenuLabel",Bb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(jL,{...l,...i,ref:t})});Bb.displayName=zL;var UL="DropdownMenuItem",Fb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(PL,{...l,...i,ref:t})});Fb.displayName=UL;var WL="DropdownMenuCheckboxItem",Hb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(RL,{...l,...i,ref:t})});Hb.displayName=WL;var KL="DropdownMenuRadioGroup",GL=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(TL,{...l,...i,ref:t})});GL.displayName=KL;var qL="DropdownMenuRadioItem",$b=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(NL,{...l,...i,ref:t})});$b.displayName=qL;var YL="DropdownMenuItemIndicator",Vb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(AL,{...l,...i,ref:t})});Vb.displayName=YL;var XL="DropdownMenuSeparator",zb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(ML,{...l,...i,ref:t})});zb.displayName=XL;var JL="DropdownMenuArrow",QL=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(DL,{...l,...i,ref:t})});QL.displayName=JL;var ZL=e=>{const{__scopeDropdownMenu:t,children:s,open:i,onOpenChange:l,defaultOpen:m}=e,f=Gt(t),[o,c]=us({prop:i,defaultProp:m??!1,onChange:l,caller:"DropdownMenuSub"});return a.jsx(LL,{...f,open:o,onOpenChange:c,children:s})},e3="DropdownMenuSubTrigger",Ub=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(OL,{...l,...i,ref:t})});Ub.displayName=e3;var t3="DropdownMenuSubContent",Wb=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...i}=e,l=Gt(s);return a.jsx(IL,{...l,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wb.displayName=t3;var r3=Ab,s3=Db,n3=Lb,Kb=Ib,Gb=Bb,qb=Fb,Yb=Hb,Xb=$b,Jb=Vb,Qb=zb,i3=ZL,Zb=Ub,e1=Wb;const wa=r3,Sa=s3,o3=i3,t1=C.forwardRef(({className:e,inset:t,children:s,...i},l)=>a.jsxs(Zb,{ref:l,className:Ee("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i,children:[s,a.jsx(jc,{className:"ml-auto"})]}));t1.displayName=Zb.displayName;const r1=C.forwardRef(({className:e,...t},s)=>a.jsx(e1,{ref:s,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));r1.displayName=e1.displayName;const qi=C.forwardRef(({className:e,sideOffset:t=4,...s},i)=>a.jsx(n3,{children:a.jsx(Kb,{ref:i,sideOffset:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));qi.displayName=Kb.displayName;const It=C.forwardRef(({className:e,inset:t,...s},i)=>a.jsx(qb,{ref:i,className:Ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));It.displayName=qb.displayName;const a3=C.forwardRef(({className:e,children:t,checked:s,...i},l)=>a.jsxs(Yb,{ref:l,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...i,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Jb,{children:a.jsx(qr,{className:"h-4 w-4"})})}),t]}));a3.displayName=Yb.displayName;const l3=C.forwardRef(({className:e,children:t,...s},i)=>a.jsxs(Xb,{ref:i,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Jb,{children:a.jsx(WR,{className:"h-2 w-2 fill-current"})})}),t]}));l3.displayName=Xb.displayName;const s1=C.forwardRef(({className:e,inset:t,...s},i)=>a.jsx(Gb,{ref:i,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));s1.displayName=Gb.displayName;const Ii=C.forwardRef(({className:e,...t},s)=>a.jsx(Qb,{ref:s,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));Ii.displayName=Qb.displayName;const rf=[{name:"Bash",icon:Ot,description:"Shell commands",color:"text-purple-600",bgColor:"bg-purple-50",badgeClass:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Read",icon:Ar,description:"Read file contents",color:"text-blue-600",bgColor:"bg-blue-50",badgeClass:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Edit",icon:Vf,description:"Edit existing files",color:"text-amber-600",bgColor:"bg-amber-50",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},{name:"Write",icon:hx,description:"Create/write files",color:"text-orange-600",bgColor:"bg-orange-50",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},{name:"WebFetch",icon:lx,description:"Fetch web content",color:"text-green-600",bgColor:"bg-green-50",badgeClass:"bg-green-100 text-green-700 border-green-200"},{name:"WebSearch",icon:Wf,description:"Web search capability",color:"text-teal-600",bgColor:"bg-teal-50",badgeClass:"bg-teal-100 text-teal-700 border-teal-200"},{name:"mcp",icon:oc,description:"MCP server tools",color:"text-indigo-600",bgColor:"bg-indigo-50",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200"}],ph=[{category:"Git",name:"Git Status",pattern:"Bash(git status:*)",description:"Check repository status",icon:Ot},{category:"Git",name:"Git Add",pattern:"Bash(git add:*)",description:"Stage files for commit",icon:Ot},{category:"Git",name:"Git Commit",pattern:"Bash(git commit:*)",description:"Create commits",icon:Ot},{category:"Git",name:"Git Push",pattern:"Bash(git push:*)",description:"Push to remote repository",icon:Ot},{category:"Git",name:"Git Diff",pattern:"Bash(git diff:*)",description:"Show changes",icon:Ot},{category:"NPM",name:"NPM Install",pattern:"Bash(npm install:*)",description:"Install dependencies",icon:Ot},{category:"NPM",name:"NPM Run Scripts",pattern:"Bash(npm run:*)",description:"Run package scripts",icon:Ot},{category:"NPM",name:"NPM Test",pattern:"Bash(npm test:*)",description:"Run tests",icon:Ot},{category:"Files",name:"Read All Files",pattern:"Read(**)",description:"Read any file in the project",icon:Ar},{category:"Files",name:"Edit All Files",pattern:"Edit(**)",description:"Edit any file in the project",icon:Vf},{category:"Security",name:"Deny .env Files",pattern:"Read(./.env)",description:"Block reading environment files",icon:Ar,suggestedCategory:"deny"},{category:"Security",name:"Deny All .env",pattern:"Read(**/.env*)",description:"Block all environment files",icon:Ar,suggestedCategory:"deny"},{category:"Commands",name:"List Files",pattern:"Bash(ls:*)",description:"List directory contents",icon:Ot},{category:"Commands",name:"Find Files",pattern:"Bash(find:*)",description:"Find files and directories",icon:Ot},{category:"MCP",name:"Filesystem Operations",pattern:"mcp__filesystem__*",description:"All filesystem MCP operations",icon:oc},{category:"MCP",name:"GitHub Operations",pattern:"mcp__github__*",description:"All GitHub MCP operations",icon:oc}];function n1(e){if(!e)return{type:"unknown",value:"",hasWildcard:!1,description:""};if(e.startsWith("mcp__")){const s=e.split("__");return{type:"mcp",value:e,server:s[1]||"",tool:s[2]||"",hasWildcard:e.includes("*"),description:`MCP tool: ${s.slice(1).join("/")}`}}if(e==="WebSearch")return{type:"WebSearch",value:"",hasWildcard:!1,description:"Web search capability"};const t=e.match(/^(\w+)\((.+)\)$/);if(t){const[,s,i]=t,l=i.includes("*");return{type:s,value:i,hasWildcard:l,description:d3(s,i)}}return{type:"unknown",value:e,hasWildcard:e.includes("*"),description:e}}function c3(e,t){return e==="WebSearch"?"WebSearch":e==="mcp"?t:t?`${e}(${t})`:""}function u3(e){if(!e)return"Rule cannot be empty";if(e==="WebSearch")return null;if(e.startsWith("mcp__"))return e.includes("*")||e.match(/^mcp__\w+__\w+$/)?null:"MCP pattern must be: mcp__server__tool";const t=e.match(/^(\w+)\((.+)\)$/);if(!t)return"Invalid pattern format. Expected: Type(value) or mcp__server__tool";const[,s]=t,i=["Bash","Read","Edit","Write","WebFetch"];return i.includes(s)?null:`Unknown permission type: ${s}. Valid types: ${i.join(", ")}`}function d3(e,t){switch(e){case"Bash":if(t.includes(":")){const[s,i]=t.split(":");return i==="*"?`Run "${s}" with any arguments`:`Run "${s} ${i}"`}return`Run "${t}"`;case"Read":return t==="**"?"Read all files":t.includes("**")?`Read files matching ${t}`:`Read ${t}`;case"Edit":return t==="**"?"Edit all files":t.includes("**")?`Edit files matching ${t}`:`Edit ${t}`;case"Write":return t==="**"?"Write to any file":t.includes("**")?`Write files matching ${t}`:`Write to ${t}`;case"WebFetch":return t==="*"?"Fetch any URL":`Fetch URLs matching ${t}`;default:return t}}function h3(e){return rf.find(s=>s.name===e)||rf[0]}function f3(e){return{allow:'Rules in "Allow" will execute automatically without prompting. Use wildcards (*) for flexible matching.',ask:'Rules in "Ask" will prompt for confirmation each time. Good for potentially destructive operations.',deny:'Rules in "Deny" are blocked entirely. Use this to prevent access to sensitive files or dangerous operations.'}[e]}function yy(e){return{allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeColor:"bg-green-100 text-green-700",description:"Operations that run without asking"},ask:{label:"Ask",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",badgeColor:"bg-amber-100 text-amber-700",description:"Operations that require confirmation"},deny:{label:"Deny",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",description:"Operations that are blocked"}}[e]}function p3({rule:e,category:t,onEdit:s,onDelete:i,onMove:l,readOnly:m}){const[f,o]=C.useState(!1),c=n1(e),h=h3(c.type),g=h.icon,d=x=>{x.stopPropagation(),navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)};return a.jsxs(ln.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:Ee("group flex items-center gap-3 p-3 rounded-lg bg-white border border-gray-200","hover:border-gray-300 hover:shadow-sm transition-all"),children:[a.jsx("div",{className:Ee("w-8 h-8 rounded-lg flex items-center justify-center shrink-0",h.bgColor),children:a.jsx(g,{className:Ee("w-4 h-4",h.color)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{variant:"outline",className:Ee("text-xs",h.badgeClass),children:c.type}),c.hasWildcard&&a.jsxs(cn,{children:[a.jsx(un,{children:a.jsx(ut,{variant:"secondary",className:"text-xs",children:"Wildcard"})}),a.jsx(Ts,{children:"Pattern uses wildcard (*) matching"})]})]}),a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx("code",{className:"block text-sm font-mono text-gray-700 truncate mt-1 cursor-default",children:e})}),a.jsx(Ts,{side:"bottom",className:"max-w-md",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("code",{className:"text-xs break-all",children:e}),a.jsx("p",{className:"text-xs text-gray-300",children:c.description})]})})]})]}),a.jsxs("div",{className:Ee("flex items-center gap-1 transition-opacity",m?"opacity-50 pointer-events-none":"opacity-0 group-hover:opacity-100"),children:[a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:d,children:f?a.jsx(qr,{className:"w-4 h-4 text-green-500"}):a.jsx(Mi,{className:"w-4 h-4"})})}),a.jsx(Ts,{children:"Copy rule"})]}),a.jsxs(wa,{children:[a.jsx(Sa,{asChild:!0,children:a.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(ix,{className:"w-4 h-4"})})}),a.jsxs(qi,{align:"end",children:[a.jsxs(It,{onClick:s,children:[a.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Edit Rule"]}),a.jsxs(o3,{children:[a.jsxs(t1,{children:[a.jsx(DR,{className:"w-4 h-4 mr-2"}),"Move to..."]}),a.jsx(r1,{children:["allow","ask","deny"].filter(x=>x!==t).map(x=>a.jsxs(It,{onClick:()=>l(x),children:["Move to ",x]},x))})]}),a.jsx(Ii,{}),a.jsxs(It,{onClick:i,className:"text-red-600",children:[a.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Delete Rule"]})]})]})]})]})}function m3({open:e,onOpenChange:t,onSubmit:s,defaultCategory:i="allow",defaultRule:l="",isEditing:m=!1}){const[f,o]=C.useState("preset"),[c,h]=C.useState(i),[g,d]=C.useState("Bash"),[x,b]=C.useState(""),[k,S]=C.useState(l),[v,y]=C.useState(null),[p,_]=C.useState(""),[E,R]=C.useState(null);C.useEffect(()=>{if(e)if(h(i),l&&m){const H=n1(l);d(H.type==="unknown"?"Bash":H.type),b(H.value),S(l);const W=ph.find($=>$.pattern===l);W?(y(W),o("preset")):o("builder")}else d("Bash"),b(""),S(""),y(null),o("preset")},[e,l,i,m]);const N=C.useMemo(()=>f==="preset"&&v?v.pattern:f==="freeform"?k:c3(g,x),[f,v,g,x,k]);C.useEffect(()=>{const H=u3(N);R(H)},[N]);const T=C.useMemo(()=>{if(!p)return ph;const H=p.toLowerCase();return ph.filter(W=>W.name.toLowerCase().includes(H)||W.pattern.toLowerCase().includes(H)||W.description.toLowerCase().includes(H)||W.category.toLowerCase().includes(H))},[p]),j=C.useMemo(()=>{const H={};return T.forEach(W=>{H[W.category]||(H[W.category]=[]),H[W.category].push(W)}),H},[T]),M=()=>{E||(s(c,N),t(!1))},F=y3(g);return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs(_r,{children:[a.jsx(wr,{className:"flex items-center gap-2",children:m?a.jsxs(a.Fragment,{children:[a.jsx(hx,{className:"w-5 h-5 text-indigo-600"}),"Edit Permission Rule"]}):a.jsxs(a.Fragment,{children:[a.jsx(ks,{className:"w-5 h-5 text-indigo-600"}),"Add Permission Rule"]})}),a.jsx(hs,{children:"Create a permission rule to control Claude Code's behavior."})]}),a.jsxs("div",{className:"flex-1 overflow-auto space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Permission Category"}),a.jsxs(my,{value:c,onValueChange:h,children:[a.jsx(Jh,{children:a.jsx(gy,{})}),a.jsxs(Qh,{children:[a.jsx(Ho,{value:"allow",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Allow - Execute without asking"]})}),a.jsx(Ho,{value:"ask",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),"Ask - Require confirmation"]})}),a.jsx(Ho,{value:"deny",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Deny - Block entirely"]})})]})]})]}),a.jsxs(Oc,{value:f,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-3",children:[a.jsxs(Gr,{value:"preset",children:[a.jsx(ks,{className:"w-4 h-4 mr-2"}),"Presets"]}),a.jsxs(Gr,{value:"builder",children:[a.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Builder"]}),a.jsxs(Gr,{value:"freeform",children:[a.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Freeform"]})]}),a.jsxs(js,{value:"preset",className:"space-y-4",children:[a.jsx(Ge,{placeholder:"Search presets...",value:p,onChange:H=>_(H.target.value)}),a.jsx("div",{className:"border rounded-lg max-h-[250px] overflow-auto",children:Object.entries(j).map(([H,W])=>a.jsxs("div",{className:"border-b last:border-b-0",children:[a.jsx("div",{className:"px-3 py-2 bg-gray-50 font-medium text-sm text-gray-600",children:H}),W.map($=>{const Z=$.icon;return a.jsx("button",{onClick:()=>y($),className:Ee("w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors",(v==null?void 0:v.pattern)===$.pattern&&"bg-indigo-50 border-l-2 border-indigo-500"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Z,{className:"w-4 h-4 mt-0.5 text-gray-400"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:$.name}),a.jsx("code",{className:"text-xs text-gray-500 block truncate",children:$.pattern}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:$.description})]})]})},$.pattern)})]},H))})]}),a.jsxs(js,{value:"builder",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Permission Type"}),a.jsxs(my,{value:g,onValueChange:d,children:[a.jsx(Jh,{children:a.jsx(gy,{})}),a.jsx(Qh,{children:rf.map(H=>{const W=H.icon;return a.jsx(Ho,{value:H.name,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{className:"w-4 h-4"}),H.name,a.jsxs("span",{className:"text-xs text-gray-400",children:["- ",H.description]})]})},H.name)})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(yt,{children:g3(g)}),a.jsxs(cn,{children:[a.jsx(un,{children:a.jsx($f,{className:"w-4 h-4 text-gray-400"})}),a.jsx(Ts,{className:"max-w-xs",children:v3(g)})]})]}),g==="WebSearch"?a.jsx("p",{className:"text-sm text-gray-500 italic",children:"WebSearch does not require a value pattern."}):a.jsx(Ge,{value:x,onChange:H=>b(H.target.value),placeholder:g==="Bash"?"command:arguments":"path/pattern",className:"font-mono"})]}),F.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{className:"text-xs text-gray-500",children:"Quick examples:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(H=>a.jsx(pe,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>b(H.value),children:H.label},H.value))})]})]}),a.jsx(js,{value:"freeform",className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Rule Pattern"}),a.jsx(st,{value:k,onChange:H=>S(H.target.value),placeholder:"e.g., Bash(npm run build), Read(**/*.ts)",className:"font-mono text-sm",rows:3}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enter the full permission pattern. Use * for wildcards and : for Bash argument separation."})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Generated Rule"}),a.jsx("div",{className:Ee("p-3 rounded-lg border font-mono text-sm",E?"bg-red-50 border-red-200 text-red-700":"bg-gray-50 border-gray-200 text-gray-700"),children:N||a.jsx("span",{className:"text-gray-400",children:"No rule configured"})}),E&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[a.jsx(ic,{className:"w-4 h-4"}),E]})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),a.jsx(pe,{onClick:M,disabled:!N||!!E,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:m?"Update Rule":"Add Rule"})]})]})})}function g3(e){return{Bash:"Command Pattern",Read:"File Path Pattern",Edit:"File Path Pattern",Write:"File Path Pattern",WebFetch:"URL Pattern",WebSearch:"N/A",mcp:"Tool Name"}[e]||"Value"}function v3(e){return{Bash:"Format: command:arguments. Use * for wildcards. Example: npm run:* matches npm run build, npm run test, etc.",Read:"File path pattern. Use ** for recursive matching. Example: **/*.ts matches all TypeScript files.",Edit:"File path pattern. Use ** for recursive matching.",Write:"File path pattern. Use ** for recursive matching.",WebFetch:"URL pattern. Example: https://api.github.com/* matches all GitHub API calls.",WebSearch:"No value needed - this enables/disables web search entirely.",mcp:"MCP tool name in format: mcp__server__tool"}[e]||""}function y3(e){return{Bash:[{label:"npm run *",value:"npm run:*"},{label:"git add *",value:"git add:*"},{label:"git commit *",value:"git commit:*"},{label:"ls *",value:"ls:*"}],Read:[{label:"All files",value:"**"},{label:"TypeScript",value:"**/*.ts"},{label:"Source only",value:"./src/**"}],Edit:[{label:"All files",value:"**"},{label:"Source only",value:"./src/**"}],Write:[{label:"All files",value:"**"}],WebFetch:[{label:"Any URL",value:"*"},{label:"GitHub API",value:"https://api.github.com/*"}],mcp:[{label:"Filesystem read",value:"mcp__filesystem__read_file"},{label:"GitHub PR",value:"mcp__github__create_pull_request"}]}[e]||[]}function _3({open:e,onOpenChange:t,mode:s,permissions:i,onImport:l}){const[m,f]=C.useState(""),[o,c]=C.useState(null),[h,g]=C.useState(!1);C.useEffect(()=>{e&&s==="export"?(f(JSON.stringify({permissions:i},null,2)),c(null)):e&&s==="import"&&(f(""),c(null))},[e,s,i]);const d=()=>{navigator.clipboard.writeText(m),g(!0),setTimeout(()=>g(!1),2e3),ue.success("Copied to clipboard")},x=()=>{try{const b=JSON.parse(m);if(!b.permissions){c('JSON must have a "permissions" key');return}const{allow:k=[],ask:S=[],deny:v=[]}=b.permissions;if(!Array.isArray(k)||!Array.isArray(S)||!Array.isArray(v)){c("allow, ask, and deny must be arrays");return}if([...k,...S,...v].some(p=>typeof p!="string")){c("All permission rules must be strings");return}l(b.permissions),t(!1)}catch(b){c("Invalid JSON: "+b.message)}};return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"max-w-lg",children:[a.jsxs(_r,{children:[a.jsx(wr,{className:"flex items-center gap-2",children:s==="export"?a.jsxs(a.Fragment,{children:[a.jsx(Pc,{className:"w-5 h-5 text-indigo-600"}),"Export Permissions"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ih,{className:"w-5 h-5 text-indigo-600"}),"Import Permissions"]})}),a.jsx(hs,{children:s==="export"?"Copy this JSON to save or share your permission configuration.":"Paste a JSON permission configuration to import."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx(st,{value:m,onChange:b=>{f(b.target.value),c(null)},placeholder:s==="import"?"Paste JSON here...":"",className:"font-mono text-sm min-h-[300px]",readOnly:s==="export"}),o&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[a.jsx(ic,{className:"w-4 h-4"}),o]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),s==="export"?a.jsxs(pe,{onClick:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[h?a.jsx(qr,{className:"w-4 h-4 mr-2"}):a.jsx(Mi,{className:"w-4 h-4 mr-2"}),h?"Copied!":"Copy to Clipboard"]}):a.jsxs(pe,{onClick:x,disabled:!m.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[a.jsx(Ih,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})})}function x3({permissions:e,onSave:t,loading:s,readOnly:i=!1}){const[l,m]=C.useState({allow:[],ask:[],deny:[]}),[f,o]=C.useState("allow"),[c,h]=C.useState(!1),[g,d]=C.useState(!1),[x,b]=C.useState(!1),[k,S]=C.useState(!1),[v,y]=C.useState(null),[p,_]=C.useState(!1),[E,R]=C.useState("export");C.useEffect(()=>{e&&(m({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),h(!1))},[e]);const N=C.useCallback((G,ee)=>{m(z=>[...z.allow,...z.ask,...z.deny].includes(ee)?(ue.error("This rule already exists"),z):{...z,[G]:[...z[G],ee]}),h(!0),ue.success(`Rule added to ${G}`)},[]),T=C.useCallback((G,ee,z,D)=>{m(B=>{const L={...B};return L[G]=L[G].filter(V=>V!==ee),L[z]=[...L[z],D],L}),h(!0),ue.success("Rule updated")},[]),j=C.useCallback((G,ee)=>{m(z=>({...z,[G]:z[G].filter(D=>D!==ee)})),h(!0),ue.success("Rule deleted")},[]),M=C.useCallback((G,ee,z)=>{m(D=>({...D,[G]:D[G].filter(B=>B!==ee),[z]:[...D[z],ee]})),h(!0),ue.success(`Moved to ${z}`)},[]),F=C.useCallback(G=>{m({allow:G.allow||[],ask:G.ask||[],deny:G.deny||[]}),h(!0),ue.success("Permissions imported")},[]),H=async()=>{if(t){d(!0);try{await t(l),h(!1),ue.success("Permissions saved")}catch(G){ue.error("Failed to save: "+G.message)}finally{d(!1)}}},W=()=>{e&&(m({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),h(!1),ue.info("Changes reset"))},$=G=>{y(null),o(G),S(!0)},Z=(G,ee)=>{y({category:G,rule:ee}),S(!0)},K=l.allow.length+l.ask.length+l.deny.length;return a.jsx(LS,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx(Tc,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Claude Code Permissions"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure what Claude Code can do automatically"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&a.jsx(ut,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Unsaved changes"}),a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{R("export"),_(!0)},children:a.jsx(Pc,{className:"w-4 h-4"})})}),a.jsx(Ts,{children:"Export permissions"})]}),a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{R("import"),_(!0)},disabled:i,children:a.jsx(Ih,{className:"w-4 h-4"})})}),a.jsx(Ts,{children:"Import permissions"})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs(pe,{variant:"outline",size:"sm",onClick:W,children:[a.jsx(mr,{className:"w-4 h-4 mr-1"}),"Reset"]}),a.jsxs(pe,{size:"sm",onClick:H,disabled:g,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[g?a.jsx(mr,{className:"w-4 h-4 mr-1 animate-spin"}):a.jsx(qr,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),a.jsxs(x4,{open:x,onOpenChange:b,children:[a.jsx(w4,{asChild:!0,children:a.jsxs(pe,{variant:"ghost",size:"sm",className:"text-gray-500",children:[a.jsx($f,{className:"w-4 h-4 mr-2"}),"How permissions work",a.jsx(ua,{className:Ee("w-4 h-4 ml-2 transition-transform",x&&"rotate-180")})]})}),a.jsx(S4,{children:a.jsxs(pc,{className:"mt-2",children:[a.jsx(mT,{className:"w-4 h-4"}),a.jsxs(mc,{className:"text-sm",children:[a.jsxs("p",{className:"mb-2",children:["Permissions control what Claude Code can do automatically vs. what requires your approval. These settings are stored in ",a.jsx("code",{className:"px-1 py-0.5 bg-gray-100 rounded text-xs",children:"~/.claude/settings.json"}),"."]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[a.jsxs("div",{children:[a.jsx(ut,{className:"bg-green-100 text-green-700 mb-1",children:"Allow"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Operations run without asking"})]}),a.jsxs("div",{children:[a.jsx(ut,{className:"bg-amber-100 text-amber-700 mb-1",children:"Ask"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Prompts for confirmation each time"})]}),a.jsxs("div",{children:[a.jsx(ut,{className:"bg-red-100 text-red-700 mb-1",children:"Deny"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Blocked entirely"})]})]}),a.jsxs("p",{className:"mt-3 text-xs text-gray-500",children:["Use wildcards: ",a.jsx("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"*"})," matches anything,"," ",a.jsx("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"**"})," matches recursively in paths."]})]})]})})]}),s&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(mr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!s&&K===0&&a.jsxs(pc,{children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsxs(mc,{children:["No permission rules configured. Claude Code will use default behavior and ask for permission on sensitive operations.",a.jsx(pe,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>$("allow"),children:"Add your first rule"})]})]}),!s&&a.jsxs(Oc,{value:f,onValueChange:o,children:[a.jsx(fa,{className:"grid w-full grid-cols-3",children:["allow","ask","deny"].map(G=>{var D;const ee=yy(G),z=((D=l[G])==null?void 0:D.length)||0;return a.jsxs(Gr,{value:G,className:"flex items-center gap-2",children:[a.jsx("div",{className:Ee("w-2 h-2 rounded-full",G==="allow"&&"bg-green-500",G==="ask"&&"bg-amber-500",G==="deny"&&"bg-red-500")}),ee.label,z>0&&a.jsx(ut,{variant:"secondary",className:"ml-1 text-xs",children:z})]},G)})}),["allow","ask","deny"].map(G=>{const ee=yy(G),z=l[G]||[];return a.jsxs(js,{value:G,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx("p",{className:"text-sm text-gray-500 cursor-help",children:ee.description})}),a.jsx(Ts,{className:"max-w-xs",children:f3(G)})]}),a.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>$(G),disabled:i,children:[a.jsx(ir,{className:"w-4 h-4 mr-1"}),"Add Rule"]})]}),z.length===0?a.jsxs("div",{className:Ee("text-center py-8 rounded-lg border-2 border-dashed",ee.borderColor),children:[a.jsxs("p",{className:"text-gray-500",children:["No rules in ",G]}),a.jsx(pe,{variant:"link",size:"sm",onClick:()=>$(G),disabled:i,children:"Add a rule"})]}):a.jsx("div",{className:"space-y-2",children:a.jsx(Ty,{mode:"popLayout",children:z.map(D=>a.jsx(p3,{rule:D,category:G,onEdit:()=>Z(G,D),onDelete:()=>j(G,D),onMove:B=>M(G,D,B),readOnly:i},D))})})]},G)})]}),a.jsx(m3,{open:k,onOpenChange:S,onSubmit:(G,ee)=>{v?T(v.category,v.rule,G,ee):N(G,ee)},defaultCategory:(v==null?void 0:v.category)||f,defaultRule:(v==null?void 0:v.rule)||"",isEditing:!!v}),a.jsx(_3,{open:p,onOpenChange:_,mode:E,permissions:l,onImport:F})]})})}const w3=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Best balance of speed and capability",tier:"sonnet",recommended:!0},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks",tier:"opus"},{id:"claude-haiku-4-5-20251001",name:"Claude Haiku 4.5",description:"Fastest, best for simple tasks",tier:"haiku"}],S3=[{key:"ANTHROPIC_SMALL_FAST_MODEL",label:"Small/Fast Model",description:"Model for background tasks and quick operations",placeholder:"claude-haiku-4-5-20251001"},{key:"CLAUDE_CODE_SUBAGENT_MODEL",label:"Subagent Model",description:"Model used for subagent/background processing",placeholder:"claude-haiku-4-20241022"}];function i1({settings:e,onSave:t,loading:s,settingsPath:i="~/.claude/settings.json"}){const[l,m]=C.useState({}),[f,o]=C.useState("permissions"),[c,h]=C.useState(!1),[g,d]=C.useState(!1),[x,b]=C.useState(!1),[k,S]=C.useState(""),[v,y]=C.useState(null);C.useEffect(()=>{e&&(m(e),S(JSON.stringify(e,null,2)),h(!1))},[e]),C.useEffect(()=>{x||S(JSON.stringify(l,null,2))},[l,x]);const p=C.useCallback((T,j)=>{m(M=>{const F={...M,[T]:j};return(j===""||j===null||j===void 0)&&delete F[T],F}),h(!0)},[]),_=C.useCallback(T=>{m(j=>({...j,permissions:T})),h(!0)},[]),E=T=>{S(T);try{const j=JSON.parse(T);m(j),y(null),h(!0)}catch(j){y(j.message)}},R=async()=>{if(t){if(v){ue.error("Fix JSON errors before saving");return}d(!0);try{await t(l),h(!1),ue.success("Settings saved")}catch(T){ue.error("Failed to save: "+T.message)}finally{d(!1)}}},N=()=>{e&&(m(e),S(JSON.stringify(e,null,2)),y(null),h(!1),ue.info("Changes reset"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx(Di,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Claude Code Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure Claude Code behavior globally"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&a.jsx(ut,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Unsaved changes"}),a.jsx(LS,{children:a.jsxs(cn,{children:[a.jsx(un,{asChild:!0,children:a.jsx(pe,{variant:"outline",size:"sm",onClick:()=>b(!x),children:x?a.jsx(ox,{className:"w-4 h-4"}):a.jsx(XR,{className:"w-4 h-4"})})}),a.jsx(Ts,{children:x?"Show UI":"Show JSON"})]})}),c&&a.jsxs(a.Fragment,{children:[a.jsxs(pe,{variant:"outline",size:"sm",onClick:N,children:[a.jsx(mr,{className:"w-4 h-4 mr-1"}),"Reset"]}),a.jsxs(pe,{size:"sm",onClick:R,disabled:g||!!v,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[g?a.jsx(mr,{className:"w-4 h-4 mr-1 animate-spin"}):a.jsx(qr,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Settings file: ",a.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs",children:i})]}),s&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(mr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!s&&x&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(yt,{children:"Raw JSON"}),v&&a.jsx(ut,{variant:"destructive",className:"text-xs",children:v})]}),a.jsx(st,{value:k,onChange:T=>E(T.target.value),className:Ee("font-mono text-sm min-h-[400px]",v&&"border-red-300 focus:border-red-500")})]}),!s&&!x&&a.jsxs(Oc,{value:f,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-4",children:[a.jsxs(Gr,{value:"permissions",className:"flex items-center gap-2",children:[a.jsx(Tc,{className:"w-4 h-4"}),"Permissions"]}),a.jsxs(Gr,{value:"model",className:"flex items-center gap-2",children:[a.jsx(gx,{className:"w-4 h-4"}),"Model"]}),a.jsxs(Gr,{value:"behavior",className:"flex items-center gap-2",children:[a.jsx(Di,{className:"w-4 h-4"}),"Behavior"]}),a.jsxs(Gr,{value:"advanced",className:"flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4"}),"Advanced"]})]}),a.jsx(js,{value:"permissions",className:"pt-4",children:a.jsx(x3,{permissions:l.permissions,onSave:_,loading:!1})}),a.jsx(js,{value:"model",className:"space-y-6 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(yt,{className:"text-base font-medium",children:"Default Model"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select the default model for Claude Code sessions"}),a.jsx("div",{className:"grid gap-3",children:w3.map(T=>a.jsx("button",{onClick:()=>p("model",T.id),className:Ee("w-full p-4 rounded-lg border text-left transition-all",l.model===T.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:T.name}),T.recommended&&a.jsx(ut,{variant:"secondary",className:"text-xs",children:"Recommended"}),a.jsx(ut,{variant:"outline",className:Ee("text-xs",T.tier==="opus"&&"border-purple-300 text-purple-700",T.tier==="sonnet"&&"border-blue-300 text-blue-700",T.tier==="haiku"&&"border-green-300 text-green-700"),children:T.tier})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description})]}),l.model===T.id&&a.jsx(qr,{className:"w-5 h-5 text-indigo-600"})]})},T.id))})]}),a.jsxs("div",{children:[a.jsx(yt,{children:"Custom Model ID"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Override with a specific model ID (for AWS Bedrock, etc.)"}),a.jsx(Ge,{value:l.model||"",onChange:T=>p("model",T.target.value),placeholder:"claude-sonnet-4-20250514",className:"font-mono"})]})]})}),a.jsx(js,{value:"behavior",className:"space-y-6 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx(yt,{children:"Auto-accept Edits"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Automatically accept file edits without confirmation"})]}),a.jsx(Fn,{checked:l.autoAcceptEdits??!1,onCheckedChange:T=>p("autoAcceptEdits",T)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx(yt,{children:"Verbose Output"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Show detailed output for operations"})]}),a.jsx(Fn,{checked:l.verbose??!1,onCheckedChange:T=>p("verbose",T)})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx(yt,{children:"Enable MCP Servers"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Allow Claude Code to use MCP server connections"})]}),a.jsx(Fn,{checked:l.enableMcp??!0,onCheckedChange:T=>p("enableMcp",T)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"API Base URL"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Custom API endpoint (for proxies or enterprise deployments)"}),a.jsx(Ge,{value:l.apiBaseUrl||"",onChange:T=>p("apiBaseUrl",T.target.value),placeholder:"https://api.anthropic.com",className:"font-mono"})]})]})}),a.jsxs(js,{value:"advanced",className:"space-y-6 pt-4",children:[a.jsxs(pc,{children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx(mc,{children:"Advanced settings for power users. Incorrect values may cause Claude Code to malfunction."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(yt,{className:"text-base font-medium",children:"Environment Variables"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Configure model-related environment variables"}),a.jsx("div",{className:"space-y-3",children:S3.map(T=>{var j;return a.jsxs("div",{className:"space-y-1",children:[a.jsx(yt,{className:"text-sm",children:T.label}),a.jsx("p",{className:"text-xs text-gray-500",children:T.description}),a.jsx(Ge,{value:((j=l.env)==null?void 0:j[T.key])||"",onChange:M=>{const F={...l.env||{},[T.key]:M.target.value};M.target.value||delete F[T.key],p("env",Object.keys(F).length?F:void 0)},placeholder:T.placeholder,className:"font-mono text-sm"})]},T.key)})})]}),a.jsxs("div",{children:[a.jsx(yt,{className:"text-base font-medium",children:"Hooks"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Scripts to run before/after tool executions (JSON format)"}),a.jsx(st,{value:l.hooks?JSON.stringify(l.hooks,null,2):"",onChange:T=>{try{const j=T.target.value?JSON.parse(T.target.value):void 0;p("hooks",j)}catch{}},placeholder:`{
  "preToolExecution": "~/.claude/hooks/pre.sh",
  "postToolExecution": "~/.claude/hooks/post.sh"
}`,className:"font-mono text-sm min-h-[120px]"})]}),a.jsxs("div",{children:[a.jsx(yt,{className:"text-base font-medium",children:"Custom Settings"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Add any additional settings as JSON key-value pairs"}),a.jsx(st,{value:(()=>{const T=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"],j=Object.keys(l).filter(M=>!T.includes(M)).reduce((M,F)=>({...M,[F]:l[F]}),{});return Object.keys(j).length?JSON.stringify(j,null,2):""})(),onChange:T=>{try{const j=T.target.value?JSON.parse(T.target.value):{},F=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"].reduce((H,W)=>(l[W]!==void 0&&(H[W]=l[W]),H),{});m({...F,...j}),h(!0)}catch{}},placeholder:`{
  "customKey": "customValue"
}`,className:"font-mono text-sm min-h-[100px]"})]})]})]})]})]})}function b3(e,t){return C.useReducer((s,i)=>t[s][i]??s,e)}var jp="ScrollArea",[o1]=Lr(jp),[C3,Or]=o1(jp),a1=C.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:i="hover",dir:l,scrollHideDelay:m=600,...f}=e,[o,c]=C.useState(null),[h,g]=C.useState(null),[d,x]=C.useState(null),[b,k]=C.useState(null),[S,v]=C.useState(null),[y,p]=C.useState(0),[_,E]=C.useState(0),[R,N]=C.useState(!1),[T,j]=C.useState(!1),M=Ve(t,H=>c(H)),F=da(l);return a.jsx(C3,{scope:s,type:i,dir:F,scrollHideDelay:m,scrollArea:o,viewport:h,onViewportChange:g,content:d,onContentChange:x,scrollbarX:b,onScrollbarXChange:k,scrollbarXEnabled:R,onScrollbarXEnabledChange:N,scrollbarY:S,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:j,onCornerWidthChange:p,onCornerHeightChange:E,children:a.jsx(Le.div,{dir:F,...f,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});a1.displayName=jp;var l1="ScrollAreaViewport",c1=C.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:i,nonce:l,...m}=e,f=Or(l1,s),o=C.useRef(null),c=Ve(t,o,f.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),a.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...m,ref:c,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});c1.displayName=l1;var ps="ScrollAreaScrollbar",Pp=C.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=Or(ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:m,onScrollbarYEnabledChange:f}=l,o=e.orientation==="horizontal";return C.useEffect(()=>(o?m(!0):f(!0),()=>{o?m(!1):f(!1)}),[o,m,f]),l.type==="hover"?a.jsx(E3,{...i,ref:t,forceMount:s}):l.type==="scroll"?a.jsx(k3,{...i,ref:t,forceMount:s}):l.type==="auto"?a.jsx(u1,{...i,ref:t,forceMount:s}):l.type==="always"?a.jsx(Rp,{...i,ref:t}):null});Pp.displayName=ps;var E3=C.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=Or(ps,e.__scopeScrollArea),[m,f]=C.useState(!1);return C.useEffect(()=>{const o=l.scrollArea;let c=0;if(o){const h=()=>{window.clearTimeout(c),f(!0)},g=()=>{c=window.setTimeout(()=>f(!1),l.scrollHideDelay)};return o.addEventListener("pointerenter",h),o.addEventListener("pointerleave",g),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",h),o.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),a.jsx(Kt,{present:s||m,children:a.jsx(u1,{"data-state":m?"visible":"hidden",...i,ref:t})})}),k3=C.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=Or(ps,e.__scopeScrollArea),m=e.orientation==="horizontal",f=tu(()=>c("SCROLL_END"),100),[o,c]=b3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const h=window.setTimeout(()=>c("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[o,l.scrollHideDelay,c]),C.useEffect(()=>{const h=l.viewport,g=m?"scrollLeft":"scrollTop";if(h){let d=h[g];const x=()=>{const b=h[g];d!==b&&(c("SCROLL"),f()),d=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[l.viewport,m,c,f]),a.jsx(Kt,{present:s||o!=="hidden",children:a.jsx(Rp,{"data-state":o==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),u1=C.forwardRef((e,t)=>{const s=Or(ps,e.__scopeScrollArea),{forceMount:i,...l}=e,[m,f]=C.useState(!1),o=e.orientation==="horizontal",c=tu(()=>{if(s.viewport){const h=s.viewport.offsetWidth<s.viewport.scrollWidth,g=s.viewport.offsetHeight<s.viewport.scrollHeight;f(o?h:g)}},10);return Bi(s.viewport,c),Bi(s.content,c),a.jsx(Kt,{present:i||m,children:a.jsx(Rp,{"data-state":m?"visible":"hidden",...l,ref:t})})}),Rp=C.forwardRef((e,t)=>{const{orientation:s="vertical",...i}=e,l=Or(ps,e.__scopeScrollArea),m=C.useRef(null),f=C.useRef(0),[o,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=m1(o.viewport,o.content),g={...i,sizes:o,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:x=>m.current=x,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:x=>f.current=x};function d(x,b){return A3(x,f.current,o,b)}return s==="horizontal"?a.jsx(j3,{...g,ref:t,onThumbPositionChange:()=>{if(l.viewport&&m.current){const x=l.viewport.scrollLeft,b=_y(x,o,l.dir);m.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollLeft=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollLeft=d(x,l.dir))}}):s==="vertical"?a.jsx(P3,{...g,ref:t,onThumbPositionChange:()=>{if(l.viewport&&m.current){const x=l.viewport.scrollTop,b=_y(x,o);m.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollTop=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollTop=d(x))}}):null}),j3=C.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,m=Or(ps,e.__scopeScrollArea),[f,o]=C.useState(),c=C.useRef(null),h=Ve(t,c,m.onScrollbarXChange);return C.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),a.jsx(h1,{"data-orientation":"horizontal",...l,ref:h,sizes:s,style:{bottom:0,left:m.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:m.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eu(s)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,d)=>{if(m.viewport){const x=m.viewport.scrollLeft+g.deltaX;e.onWheelScroll(x),v1(x,d)&&g.preventDefault()}},onResize:()=>{c.current&&m.viewport&&f&&i({content:m.viewport.scrollWidth,viewport:m.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xc(f.paddingLeft),paddingEnd:xc(f.paddingRight)}})}})}),P3=C.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,m=Or(ps,e.__scopeScrollArea),[f,o]=C.useState(),c=C.useRef(null),h=Ve(t,c,m.onScrollbarYChange);return C.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),a.jsx(h1,{"data-orientation":"vertical",...l,ref:h,sizes:s,style:{top:0,right:m.dir==="ltr"?0:void 0,left:m.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eu(s)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,d)=>{if(m.viewport){const x=m.viewport.scrollTop+g.deltaY;e.onWheelScroll(x),v1(x,d)&&g.preventDefault()}},onResize:()=>{c.current&&m.viewport&&f&&i({content:m.viewport.scrollHeight,viewport:m.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xc(f.paddingTop),paddingEnd:xc(f.paddingBottom)}})}})}),[R3,d1]=o1(ps),h1=C.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:l,onThumbChange:m,onThumbPointerUp:f,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:g,onResize:d,...x}=e,b=Or(ps,s),[k,S]=C.useState(null),v=Ve(t,M=>S(M)),y=C.useRef(null),p=C.useRef(""),_=b.viewport,E=i.content-i.viewport,R=Tt(g),N=Tt(c),T=tu(d,10);function j(M){if(y.current){const F=M.clientX-y.current.left,H=M.clientY-y.current.top;h({x:F,y:H})}}return C.useEffect(()=>{const M=F=>{const H=F.target;(k==null?void 0:k.contains(H))&&R(F,E)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[_,k,E,R]),C.useEffect(N,[i,N]),Bi(k,T),Bi(b.content,T),a.jsx(R3,{scope:s,scrollbar:k,hasThumb:l,onThumbChange:Tt(m),onThumbPointerUp:Tt(f),onThumbPositionChange:N,onThumbPointerDown:Tt(o),children:a.jsx(Le.div,{...x,ref:v,style:{position:"absolute",...x.style},onPointerDown:ye(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),y.current=k.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),j(M))}),onPointerMove:ye(e.onPointerMove,j),onPointerUp:ye(e.onPointerUp,M=>{const F=M.target;F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=p.current,b.viewport&&(b.viewport.style.scrollBehavior=""),y.current=null})})})}),_c="ScrollAreaThumb",f1=C.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=d1(_c,e.__scopeScrollArea);return a.jsx(Kt,{present:s||l.hasThumb,children:a.jsx(T3,{ref:t,...i})})}),T3=C.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:i,...l}=e,m=Or(_c,s),f=d1(_c,s),{onThumbPositionChange:o}=f,c=Ve(t,d=>f.onThumbChange(d)),h=C.useRef(void 0),g=tu(()=>{h.current&&(h.current(),h.current=void 0)},100);return C.useEffect(()=>{const d=m.viewport;if(d){const x=()=>{if(g(),!h.current){const b=M3(d,o);h.current=b,o()}};return o(),d.addEventListener("scroll",x),()=>d.removeEventListener("scroll",x)}},[m.viewport,g,o]),a.jsx(Le.div,{"data-state":f.hasThumb?"visible":"hidden",...l,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:ye(e.onPointerDownCapture,d=>{const b=d.target.getBoundingClientRect(),k=d.clientX-b.left,S=d.clientY-b.top;f.onThumbPointerDown({x:k,y:S})}),onPointerUp:ye(e.onPointerUp,f.onThumbPointerUp)})});f1.displayName=_c;var Tp="ScrollAreaCorner",p1=C.forwardRef((e,t)=>{const s=Or(Tp,e.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?a.jsx(N3,{...e,ref:t}):null});p1.displayName=Tp;var N3=C.forwardRef((e,t)=>{const{__scopeScrollArea:s,...i}=e,l=Or(Tp,s),[m,f]=C.useState(0),[o,c]=C.useState(0),h=!!(m&&o);return Bi(l.scrollbarX,()=>{var d;const g=((d=l.scrollbarX)==null?void 0:d.offsetHeight)||0;l.onCornerHeightChange(g),c(g)}),Bi(l.scrollbarY,()=>{var d;const g=((d=l.scrollbarY)==null?void 0:d.offsetWidth)||0;l.onCornerWidthChange(g),f(g)}),h?a.jsx(Le.div,{...i,ref:t,style:{width:m,height:o,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xc(e){return e?parseInt(e,10):0}function m1(e,t){const s=e/t;return isNaN(s)?0:s}function eu(e){const t=m1(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function A3(e,t,s,i="ltr"){const l=eu(s),m=l/2,f=t||m,o=l-f,c=s.scrollbar.paddingStart+f,h=s.scrollbar.size-s.scrollbar.paddingEnd-o,g=s.content-s.viewport,d=i==="ltr"?[0,g]:[g*-1,0];return g1([c,h],d)(e)}function _y(e,t,s="ltr"){const i=eu(t),l=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,m=t.scrollbar.size-l,f=t.content-t.viewport,o=m-i,c=s==="ltr"?[0,f]:[f*-1,0],h=Hh(e,c);return g1([0,f],[0,o])(h)}function g1(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function v1(e,t){return e>0&&e<t}var M3=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},i=0;return(function l(){const m={left:e.scrollLeft,top:e.scrollTop},f=s.left!==m.left,o=s.top!==m.top;(f||o)&&t(),s=m,i=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(i)};function tu(e,t){const s=Tt(e),i=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),C.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function Bi(e,t){const s=Tt(t);Nt(()=>{let i=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return l.observe(e),()=>{window.cancelAnimationFrame(i),l.unobserve(e)}}},[e,s])}var y1=a1,D3=c1,L3=p1;const Kn=C.forwardRef(({className:e,children:t,...s},i)=>a.jsxs(y1,{ref:i,className:Ee("relative overflow-hidden",e),...s,children:[a.jsx(D3,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(_1,{}),a.jsx(L3,{})]}));Kn.displayName=y1.displayName;const _1=C.forwardRef(({className:e,orientation:t="vertical",...s},i)=>a.jsx(Pp,{ref:i,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:a.jsx(f1,{className:"relative flex-1 rounded-full bg-border"})}));_1.displayName=Pp.displayName;const na={mcps:{icon:Kf,color:"text-blue-600",bgColor:"bg-blue-50",label:"MCP Servers"},settings:{icon:Di,color:"text-gray-600",bgColor:"bg-gray-50",label:"Settings"},command:{icon:Ot,color:"text-green-600",bgColor:"bg-green-50",label:"Command"},rule:{icon:Hn,color:"text-purple-600",bgColor:"bg-purple-50",label:"Rule"},claudemd:{icon:Ar,color:"text-orange-600",bgColor:"bg-orange-50",label:"CLAUDE.md"},folder:{icon:bt,color:"text-yellow-600",bgColor:"bg-yellow-50",label:"Folder"}},mh={home:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700"},intermediate:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700"},project:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}};function x1({item:e,level:t=0,selectedPath:s,onSelect:i,onContextMenu:l,expandedFolders:m,onToggleFolder:f}){const o=na[e.type]||na.folder,c=o.icon,h=s===e.path,g=e.type==="folder",d=m[e.path];return a.jsxs("div",{children:[a.jsxs("div",{className:Ee("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm","hover:bg-gray-100 transition-colors",h&&"bg-blue-100 hover:bg-blue-100"),style:{paddingLeft:`${t*16+8}px`},onClick:()=>g?f(e.path):i(e),onContextMenu:x=>l(x,e),children:[g&&a.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:d?a.jsx(ua,{className:"w-3 h-3"}):a.jsx(jc,{className:"w-3 h-3"})}),!g&&a.jsx("span",{className:"w-4"}),a.jsx(c,{className:Ee("w-4 h-4",o.color)}),a.jsx("span",{className:"flex-1 truncate",children:e.name}),e.mcpCount>0&&a.jsx(ut,{variant:"secondary",className:"text-xs px-1.5 py-0",children:e.mcpCount})]}),g&&d&&e.children&&a.jsx("div",{children:e.children.map(x=>a.jsx(x1,{item:x,level:t+1,selectedPath:s,onSelect:i,onContextMenu:l,expandedFolders:m,onToggleFolder:f},x.path))})]})}function O3({folder:e,isFirst:t,isLast:s,onCreateFile:i}){const l=t?mh.home:s?mh.project:mh.intermediate;return a.jsxs("div",{className:Ee("flex items-center justify-between px-3 py-2 border-b",l.bg,l.border),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t?a.jsx(zf,{className:"w-4 h-4"}):a.jsx(bt,{className:"w-4 h-4"}),a.jsx("span",{className:Ee("font-medium text-sm",l.text),children:e.label}),!e.exists&&a.jsx(ut,{variant:"outline",className:"text-xs",children:"no .claude"})]}),a.jsxs(wa,{children:[a.jsx(Sa,{asChild:!0,children:a.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ir,{className:"w-4 h-4"})})}),a.jsxs(qi,{align:"end",children:[a.jsxs(It,{onClick:()=>i(e.dir,"mcps"),children:[a.jsx(Kf,{className:"w-4 h-4 mr-2"}),"mcps.json"]}),a.jsxs(It,{onClick:()=>i(e.dir,"settings"),children:[a.jsx(Di,{className:"w-4 h-4 mr-2"}),"settings.json"]}),a.jsx(Ii,{}),a.jsxs(It,{onClick:()=>i(e.dir,"command"),children:[a.jsx(Ot,{className:"w-4 h-4 mr-2"}),"New Command"]}),a.jsxs(It,{onClick:()=>i(e.dir,"rule"),children:[a.jsx(Hn,{className:"w-4 h-4 mr-2"}),"New Rule"]}),a.jsx(Ii,{}),a.jsxs(It,{onClick:()=>i(e.dir,"claudemd"),children:[a.jsx(Ar,{className:"w-4 h-4 mr-2"}),"CLAUDE.md"]})]})]})]})}function I3({content:e,parsed:t,onSave:s,registry:i}){const[l,m]=C.useState(t||{include:[],mcpServers:{}}),[f,o]=C.useState("rich"),[c,h]=C.useState(JSON.stringify(t||{},null,2)),[g,d]=C.useState(!1);C.useEffect(()=>{m(t||{include:[],mcpServers:{}}),h(JSON.stringify(t||{},null,2)),d(!1)},[t]);const x=S=>{var y;const v=(y=l.include)!=null&&y.includes(S)?l.include.filter(p=>p!==S):[...l.include||[],S];m({...l,include:v}),d(!0)},b=()=>{if(f==="json")try{const S=JSON.parse(c);s(JSON.stringify(S,null,2))}catch{ue.error("Invalid JSON");return}else s(JSON.stringify(l,null,2));d(!1)},k=i!=null&&i.mcpServers?Object.keys(i.mcpServers):[];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50",children:[a.jsx(Oc,{value:f,onValueChange:o,children:a.jsxs(fa,{className:"h-8",children:[a.jsx(Gr,{value:"rich",className:"text-xs px-3",children:"Rich Editor"}),a.jsx(Gr,{value:"json",className:"text-xs px-3",children:"JSON"})]})}),a.jsx("div",{className:"flex gap-2",children:g&&a.jsxs(pe,{size:"sm",onClick:b,children:[a.jsx($i,{className:"w-4 h-4 mr-1"}),"Save"]})})]}),a.jsx(Kn,{className:"flex-1",children:f==="rich"?a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Registry MCPs"}),a.jsx("div",{className:"space-y-2",children:k.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No MCPs in registry"}):k.map(S=>{var v;return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-white",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kf,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm",children:S})]}),a.jsx(Fn,{checked:(v=l.include)==null?void 0:v.includes(S),onCheckedChange:()=>x(S)})]},S)})})]}),Object.keys(l.mcpServers||{}).length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Inline MCPs"}),a.jsx("div",{className:"space-y-2",children:Object.entries(l.mcpServers).map(([S,v])=>{var y;return a.jsxs("div",{className:"p-2 rounded border bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:S}),a.jsx(ut,{variant:"outline",className:"text-xs",children:"inline"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:[v.command," ",(y=v.args)==null?void 0:y.join(" ")]})]},S)})})]})]}):a.jsx(st,{className:"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none resize-none",value:c,onChange:S=>{h(S.target.value),d(!0)}})})]})}function B3({open:e,onClose:t,fileType:s,currentContent:i,onInsert:l}){const[m,f]=C.useState(""),[o,c]=C.useState(""),[h,g]=C.useState(!1),d={rule:[{label:"Code Style",prompt:"Create a rule for code formatting and style conventions"},{label:"Testing",prompt:"Create a rule for testing requirements and best practices"},{label:"Security",prompt:"Create a rule for security guidelines and vulnerability prevention"},{label:"Documentation",prompt:"Create a rule for documentation standards"}],command:[{label:"Build & Deploy",prompt:"Create a command for building and deploying the project"},{label:"Testing",prompt:"Create a command for running tests with coverage"},{label:"Database",prompt:"Create a command for database migrations"},{label:"Code Generation",prompt:"Create a command for generating boilerplate code"}],claudemd:[{label:"Project Overview",prompt:"Create a project overview section with tech stack and conventions"},{label:"API Documentation",prompt:"Create API documentation template"},{label:"Development Setup",prompt:"Create development environment setup instructions"},{label:"Architecture",prompt:"Create architecture documentation"}]},x=d[s]||d.claudemd,b=v=>{const y=v||m;if(!y.trim()){ue.error("Please enter a prompt or select a template");return}g(!0),setTimeout(()=>{let p="";if(s==="rule")p=`# ${y.replace(/^Create a rule for\s*/i,"").replace(/\s+/g," ").trim()}

`,p+=`## Guidelines

`,p+=`- Follow consistent patterns throughout the codebase
`,p+=`- Document any deviations from these guidelines
`,p+=`- Review changes for compliance before merging

`,p+=`## Examples

`,p+="```\n// Good example\n// TODO: Add specific examples\n```\n\n",p+=`## Exceptions

`,p+=`- None documented yet
`;else if(s==="command"){const _=y.replace(/^Create a command for\s*/i,"").toLowerCase().replace(/\s+/g,"-");p=`---
`,p+=`name: ${_}
`,p+=`description: ${y}
`,p+=`---

`,p+=`# ${y}

`,p+=`## Usage

`,p+=`Run this command when you need to ${y.toLowerCase()}.

`,p+=`## Steps

`,p+=`1. First, verify prerequisites are met
`,p+=`2. Execute the main operation
`,p+=`3. Verify the results

`,p+=`## Example Output

`,p+="```\n// Expected output format\n```\n"}else p=`# ${y.replace(/^Create\s*/i,"")}

`,p+=`## Overview

`,p+=`TODO: Add overview here.

`,p+=`## Details

`,p+=`TODO: Add detailed information.

`,p+=`## Related

`,p+=`- See also: related documentation
`;c(p),g(!1)},500)},k=v=>{if(!o){ue.error("Generate content first");return}l(v==="replace"?o:i+`

`+o),t(),ue.success("Content inserted")},S=()=>{f(""),c(""),t()};return a.jsx(Dr,{open:e,onOpenChange:S,children:a.jsxs(yr,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(_r,{children:[a.jsxs(wr,{className:"flex items-center gap-2",children:[a.jsx(fx,{className:"w-5 h-5 text-indigo-600"}),"AI Assist"]}),a.jsxs(hs,{children:["Generate content for your ",s||"file"," using templates or custom prompts"]})]}),a.jsxs("div",{className:"flex-1 overflow-auto space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quick Templates"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(v=>a.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{f(v.prompt),b(v.prompt)},disabled:h,children:v.label},v.label))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Prompt"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{placeholder:"Describe what you want to generate...",value:m,onChange:v=>f(v.target.value),onKeyDown:v=>v.key==="Enter"&&b()}),a.jsx(pe,{onClick:()=>b(),disabled:h||!m.trim(),children:h?a.jsx(mr,{className:"w-4 h-4 animate-spin"}):"Generate"})]})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Generated Content"}),a.jsx(st,{value:o,onChange:v=>c(v.target.value),className:"font-mono text-sm min-h-[200px]"})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:S,children:"Cancel"}),o&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{variant:"outline",onClick:()=>k("append"),children:"Append to File"}),a.jsx(pe,{onClick:()=>k("replace"),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Replace Content"})]})]})]})})}function xy({content:e,onSave:t,fileType:s}){const[i,l]=C.useState(e||""),[m,f]=C.useState(!1),[o,c]=C.useState(!1);C.useEffect(()=>{l(e||""),f(!1)},[e]);const h=()=>{t(i),f(!1)},g=x=>{l(x),f(!0)},d=na[s]||na.claudemd;return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d.icon,{className:Ee("w-4 h-4",d.color)}),a.jsx("span",{className:"text-sm font-medium",children:d.label})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[a.jsx(fx,{className:"w-4 h-4 mr-1"}),"AI Assist"]}),m&&a.jsxs(pe,{size:"sm",onClick:h,children:[a.jsx($i,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),a.jsx(st,{className:"flex-1 w-full font-mono text-sm border-0 rounded-none resize-none p-4",value:i,onChange:x=>{l(x.target.value),f(!0)},placeholder:`Enter ${d.label.toLowerCase()} content...`}),a.jsx(B3,{open:o,onClose:()=>c(!1),fileType:s,currentContent:i,onInsert:g})]})}function F3({content:e,parsed:t,onSave:s,filePath:i}){const l=async m=>{const f=JSON.stringify(m,null,2);s(f)};return a.jsx("div",{className:"h-full overflow-auto p-4",children:a.jsx(i1,{settings:t||{},onSave:l,loading:!1,settingsPath:i||"~/.claude/settings.json"})})}function H3({open:e,onClose:t,item:s,intermediatePaths:i,onMove:l}){const[m,f]=C.useState("copy"),[o,c]=C.useState(null),[h,g]=C.useState(""),[d,x]=C.useState(!1),b=()=>{const k=h.trim()||o;if(!k){ue.error("Please select or enter a target path");return}l(s.path,k,m,d)};return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"max-w-md",children:[a.jsxs(_r,{children:[a.jsxs(wr,{children:[m==="copy"?"Copy":"Move"," ",s==null?void 0:s.name]}),a.jsx(hs,{children:"Select a destination for this file"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{variant:m==="copy"?"default":"outline",size:"sm",onClick:()=>f("copy"),children:[a.jsx(Mi,{className:"w-4 h-4 mr-1"}),"Copy"]}),a.jsxs(pe,{variant:m==="move"?"default":"outline",size:"sm",onClick:()=>f("move"),children:[a.jsx(dx,{className:"w-4 h-4 mr-1"}),"Move"]})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:i==null?void 0:i.map(k=>a.jsxs("div",{className:Ee("flex items-center justify-between p-2 rounded border cursor-pointer",o===k.dir?"border-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>{c(k.dir),g("")},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[k.isHome?a.jsx(zf,{className:"w-4 h-4"}):a.jsx(bt,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:k.label})]}),k.hasClaudeFolder?a.jsx(ut,{variant:"secondary",className:"text-xs",children:"exists"}):a.jsx(ut,{variant:"outline",className:"text-xs",children:"create"})]},k.dir))}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Or enter custom path:"}),a.jsx(Ge,{className:"mt-1 font-mono text-sm",placeholder:"/path/to/directory",value:h,onChange:k=>{g(k.target.value),c(null)}})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{checked:d,onCheckedChange:x}),a.jsx("span",{className:"text-sm",children:"Merge if target exists"})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),a.jsx(pe,{onClick:b,children:m==="copy"?"Copy":"Move"})]})]})})}function $3({open:e,onClose:t,item:s,onRename:i}){const[l,m]=C.useState("");C.useEffect(()=>{s!=null&&s.name&&m(s.name.replace(/\.md$/,""))},[s,e]);const f=()=>{if(!l.trim()){ue.error("Please enter a name");return}i(s,l.trim())};return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"sm:max-w-md",children:[a.jsx(_r,{children:a.jsxs(wr,{children:["Rename ",s==null?void 0:s.type]})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"New name"}),a.jsx(Ge,{className:"mt-1",placeholder:"new-name",value:l,onChange:o=>m(o.target.value),onKeyDown:o=>o.key==="Enter"&&f()}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:".md extension will be added automatically"})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),a.jsx(pe,{onClick:f,children:"Rename"})]})]})})}function V3({open:e,onClose:t,dir:s,type:i,onCreate:l}){const[m,f]=C.useState("");C.useEffect(()=>{f("")},[e]);const o=()=>{if((i==="command"||i==="rule")&&!m.trim()){ue.error("Please enter a name");return}const g=i==="command"||i==="rule"?m.endsWith(".md")?m:`${m}.md`:m;l(s,g,i)},c=na[i]||{},h=i==="command"||i==="rule";return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"max-w-sm",children:[a.jsx(_r,{children:a.jsxs(wr,{children:["Create ",c.label||i]})}),h&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Name"}),a.jsx(Ge,{className:"mt-1",placeholder:i==="command"?"my-command.md":"my-rule.md",value:m,onChange:g=>f(g.target.value),onKeyDown:g=>g.key==="Enter"&&o()})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),a.jsx(pe,{onClick:o,children:"Create"})]})]})})}function z3({onRefresh:e}){var L,V;const[t,s]=C.useState([]),[i,l]=C.useState([]),[m,f]=C.useState(null),[o,c]=C.useState(null),[h,g]=C.useState(null),[d,x]=C.useState({}),[b,k]=C.useState(!0),[S,v]=C.useState({open:!1,item:null}),[y,p]=C.useState({open:!1,dir:null,type:null}),[_,E]=C.useState({open:!1,item:null}),[R,N]=C.useState(!1),[T,j]=C.useState({x:0,y:0,item:null}),M=C.useCallback(async()=>{try{k(!0);const[Y,J,q]=await Promise.all([Ae.getClaudeFolders(),Ae.getIntermediatePaths(),Ae.getRegistry()]);s(Y),l(J),f(q)}catch(Y){ue.error("Failed to load data: "+Y.message)}finally{k(!1)}},[]);C.useEffect(()=>{M()},[M]);const F=async Y=>{c(Y);try{const J=await Ae.getClaudeFile(Y.path);g(J)}catch(J){ue.error("Failed to load file: "+J.message)}},H=async Y=>{if(o)try{await Ae.saveClaudeFile(o.path,Y),ue.success("Saved");const J=await Ae.getClaudeFile(o.path);g(J),M()}catch(J){ue.error("Failed to save: "+J.message)}},W=Y=>{x(J=>({...J,[Y]:!J[Y]}))},$=(Y,J)=>{Y.preventDefault(),j({x:Y.clientX,y:Y.clientY,item:J})},Z=(Y,J)=>{J==="command"||J==="rule"?p({open:!0,dir:Y,type:J}):K(Y,J==="mcps"?"mcps.json":J==="settings"?"settings.json":"CLAUDE.md",J)},K=async(Y,J,q)=>{try{const se=await Ae.createClaudeFile(Y,J,q);if(ue.success("Created"),p({open:!1,dir:null,type:null}),await M(),se.path){const U={path:se.path,name:J,type:q==="command"?"command":q==="rule"?"rule":"file"};c(U),g(se.content||"")}}catch(se){ue.error("Failed to create: "+se.message)}},G=async Y=>{try{await Ae.createClaudeFile(Y,"mcps.json","mcps"),ue.success(`Created .claude folder at ${Y}`),N(!1),M()}catch(J){ue.error("Failed to create: "+J.message)}},ee=async(Y,J)=>{try{const q=await Ae.renameClaudeFile(Y.path,J);q.success?(ue.success("Renamed"),E({open:!1,item:null}),await M(),c({...Y,path:q.newPath,name:J.endsWith(".md")?J:`${J}.md`})):ue.error(q.error||"Failed to rename")}catch(q){ue.error("Failed to rename: "+q.message)}},z=async Y=>{if(confirm(`Delete ${Y.name}?`))try{await Ae.deleteClaudeFile(Y.path),ue.success("Deleted"),(o==null?void 0:o.path)===Y.path&&(c(null),g(null)),M()}catch(J){ue.error("Failed to delete: "+J.message)}},D=async(Y,J,q,se)=>{try{await Ae.moveClaudeItem(Y,J,q,se),ue.success(q==="copy"?"Copied":"Moved"),v({open:!1,item:null}),M()}catch(U){ue.error("Failed: "+U.message)}},B=()=>{if(!o||!h)return a.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Oh,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Select a file to edit"})]})});switch(o.type){case"mcps":return a.jsx(I3,{content:h.content,parsed:h.parsed,onSave:H,registry:m});case"settings":return a.jsx(F3,{content:h.content,parsed:h.parsed,onSave:H});case"command":case"rule":case"claudemd":return a.jsx(xy,{content:h.content,onSave:H,fileType:o.type});default:return a.jsx(xy,{content:h.content,onSave:H,fileType:"claudemd"})}};return b?a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx(mr,{className:"w-6 h-6 animate-spin text-gray-400"})}):a.jsxs("div",{className:"h-full flex",children:[a.jsxs("div",{className:"w-72 border-r flex flex-col bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h2",{className:"font-semibold text-sm",children:".claude Folders"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs(pe,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>N(!0),children:[a.jsx(ir,{className:"w-4 h-4 mr-1"}),"New"]}),a.jsx(pe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:M,children:a.jsx(mr,{className:"w-4 h-4"})})]})]}),a.jsx(Kn,{className:"flex-1",children:t.map((Y,J)=>a.jsxs("div",{children:[a.jsx(O3,{folder:Y,isFirst:J===0,isLast:J===t.length-1,onCreateFile:Z}),Y.exists&&Y.files.length>0?a.jsx("div",{className:"py-1",children:Y.files.map(q=>a.jsx(x1,{item:q,selectedPath:o==null?void 0:o.path,onSelect:F,onContextMenu:$,expandedFolders:d,onToggleFolder:W},q.path))}):a.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 italic",children:Y.exists?"Empty":"No .claude folder"})]},Y.dir))})]}),a.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50",children:[o&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-white",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm",children:a.jsx("span",{className:"text-gray-500 font-mono truncate max-w-md",children:o.path})}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>v({open:!0,item:o}),children:a.jsx(Mi,{className:"w-4 h-4"})}),a.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>z(o),children:a.jsx(Qo,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1",children:B()})]}),T.item&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j({x:0,y:0,item:null})}),a.jsxs("div",{className:"fixed z-50 bg-white rounded-md shadow-lg border py-1 min-w-[160px]",style:{left:T.x,top:T.y},children:[(((L=T.item)==null?void 0:L.type)==="rule"||((V=T.item)==null?void 0:V.type)==="command")&&a.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 flex items-center",onClick:()=>{E({open:!0,item:T.item}),j({x:0,y:0,item:null})},children:[a.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Rename"]}),a.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 flex items-center",onClick:()=>{v({open:!0,item:T.item}),j({x:0,y:0,item:null})},children:[a.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Copy to..."]}),a.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 flex items-center",onClick:()=>{v({open:!0,item:T.item}),j({x:0,y:0,item:null})},children:[a.jsx(dx,{className:"w-4 h-4 mr-2"}),"Move to..."]}),a.jsx("div",{className:"border-t my-1"}),a.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 flex items-center text-red-600",onClick:()=>{z(T.item),j({x:0,y:0,item:null})},children:[a.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),a.jsx(H3,{open:S.open,onClose:()=>v({open:!1,item:null}),item:S.item,intermediatePaths:i,onMove:D}),a.jsx(V3,{open:y.open,onClose:()=>p({open:!1,dir:null,type:null}),dir:y.dir,type:y.type,onCreate:K}),a.jsx($3,{open:_.open,onClose:()=>E({open:!1,item:null}),item:_.item,onRename:ee}),a.jsx(Dr,{open:R,onOpenChange:N,children:a.jsxs(yr,{className:"max-w-md",children:[a.jsxs(_r,{children:[a.jsx(wr,{children:"Create New .claude Folder"}),a.jsx(hs,{children:"Select a location to create a new .claude configuration folder"})]}),a.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[i.filter(Y=>!t.some(J=>J.dir===Y.dir)).map(Y=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded border hover:bg-gray-50 cursor-pointer",onClick:()=>G(Y.dir),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-mono",children:Y.label})]}),a.jsx(ut,{variant:"outline",className:"text-xs",children:"create"})]},Y.dir)),i.filter(Y=>!t.some(J=>J.dir===Y.dir)).length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"All intermediate directories already have .claude folders"})]}),a.jsx(xr,{children:a.jsx(pe,{variant:"ghost",onClick:()=>N(!1),children:"Cancel"})})]})})]})}function U3({projects:e=[],activeProject:t=null,onSwitch:s,onAddClick:i,onManageClick:l,disabled:m=!1}){const f=(t==null?void 0:t.name)||"No Project";return a.jsxs(wa,{children:[a.jsx(Sa,{asChild:!0,children:a.jsxs(pe,{variant:"outline",className:"gap-2 max-w-[220px] h-9",disabled:m,children:[a.jsx($n,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),a.jsx("span",{className:"truncate font-medium",children:f}),a.jsx(ua,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),a.jsxs(qi,{align:"start",className:"w-72",children:[a.jsx(s1,{className:"text-xs text-gray-500 font-normal",children:"Projects"}),a.jsx(Ii,{}),e.length===0?a.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 text-center",children:[a.jsx(bt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No projects registered"}),a.jsx("p",{className:"text-xs mt-1",children:"Add a project to get started"})]}):a.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(o=>a.jsxs(It,{onClick:()=>!o.isActive&&s(o.id),className:`flex items-start gap-2 py-2 cursor-pointer ${o.isActive?"bg-indigo-50":""}`,disabled:o.isActive,children:[a.jsx("div",{className:"mt-0.5 flex-shrink-0",children:o.isActive?a.jsx(qr,{className:"w-4 h-4 text-indigo-600"}):o.exists?a.jsx(bt,{className:"w-4 h-4 text-gray-400"}):a.jsx(Nc,{className:"w-4 h-4 text-amber-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`truncate font-medium ${o.isActive?"text-indigo-700":""}`,children:o.name}),a.jsx("div",{className:"truncate text-xs text-gray-400 font-mono",children:o.path.replace(/^\/Users\/[^/]+/,"~")}),!o.exists&&a.jsx("div",{className:"text-xs text-amber-600 mt-0.5",children:"Path not found"})]}),o.hasClaudeConfig&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400",title:"Has .claude config"})})]},o.id))}),a.jsx(Ii,{}),a.jsxs(It,{onClick:i,className:"gap-2 cursor-pointer",children:[a.jsx(ir,{className:"w-4 h-4"}),"Add Project"]}),e.length>0&&a.jsxs(It,{onClick:l,className:"gap-2 cursor-pointer",children:[a.jsx(BT,{className:"w-4 h-4"}),"Manage Projects"]})]})]})}function w1({open:e,onOpenChange:t,onSelect:s,type:i="directory",initialPath:l="~",title:m="Select Path"}){const[f,o]=C.useState(""),[c,h]=C.useState([]),[g,d]=C.useState(!1),[x,b]=C.useState(null),[k,S]=C.useState(""),[v,y]=C.useState("");C.useEffect(()=>{e&&p(l)},[e,l]);const p=async T=>{d(!0),b(null);try{const j=await Ae.browse(T,i);j.error?(b(j.error),j.path&&(o(j.path),y(j.path))):(o(j.path),y(j.path),h(j.items||[]),j.home&&S(j.home))}catch(j){b(j.message)}finally{d(!1)}},_=T=>{T.type==="directory"?p(T.path):i==="file"&&(s(T.path),t(!1))},E=()=>{s(f),t(!1)},R=()=>{v&&p(v)},N=T=>{T.key==="Enter"&&R()};return a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"max-w-lg",children:[a.jsx(_r,{children:a.jsxs(wr,{className:"flex items-center gap-2",children:[i==="directory"?a.jsx(bt,{className:"w-5 h-5"}):a.jsx(Oh,{className:"w-5 h-5"}),m]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{value:v,onChange:T=>y(T.target.value),onKeyDown:N,placeholder:"Enter path...",className:"font-mono text-sm flex-1"}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>p(k||"~"),title:"Go to home",children:a.jsx(zf,{className:"w-4 h-4"})}),a.jsx(pe,{onClick:R,disabled:g,children:"Go"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono truncate px-1",children:f}),x&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:x}),a.jsx(Kn,{className:"h-64 border rounded-lg",children:g?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ct,{className:"w-6 h-6 animate-spin text-gray-400"})}):a.jsx("div",{className:"p-1",children:c.length===0?a.jsx("div",{className:"text-sm text-gray-500 p-4 text-center",children:i==="directory"?"No subdirectories":"No files found"}):c.map((T,j)=>a.jsxs("button",{onClick:()=>_(T),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 rounded transition-colors text-left",children:[T.type==="directory"?a.jsx(bt,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):a.jsx(Oh,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:`flex-1 truncate ${T.isParent?"text-gray-500":""}`,children:T.name}),T.type==="directory"&&!T.isParent&&a.jsx(jc,{className:"w-4 h-4 text-gray-400"})]},j))})})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(pe,{onClick:E,disabled:!f,children:i==="directory"?"Select Folder":"Select"})]})]})})}function S1({open:e,onOpenChange:t,onAdded:s}){const[i,l]=C.useState(""),[m,f]=C.useState(""),[o,c]=C.useState(!1),[h,g]=C.useState(!1);C.useEffect(()=>{e&&(l(""),f(""))},[e]),C.useEffect(()=>{if(i&&!m){const b=i.split("/").pop();f(b||"")}},[i]);const d=b=>{l(b),c(!1)},x=async()=>{if(!i){ue.error("Please select a project path");return}g(!0);try{const b=await Ae.addProject(i,m||void 0);b.error?ue.error(b.error):(ue.success(`Added project: ${b.project.name}`),s==null||s(b.project),t(!1))}catch(b){ue.error("Failed to add project: "+b.message)}finally{g(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Dr,{open:e,onOpenChange:t,children:a.jsxs(yr,{className:"sm:max-w-md",children:[a.jsxs(_r,{children:[a.jsxs(wr,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-indigo-500"}),"Add Project"]}),a.jsx(hs,{children:"Register a project folder to quickly switch between projects in the UI."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"path",children:"Project Path"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{id:"path",value:i,onChange:b=>l(b.target.value),placeholder:"/path/to/project",className:"font-mono text-sm flex-1"}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>c(!0),title:"Browse",children:a.jsx($n,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"name",children:"Display Name"}),a.jsx(Ge,{id:"name",value:m,onChange:b=>f(b.target.value),placeholder:"Auto-filled from folder name"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Optional. Leave empty to use folder name."})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(pe,{onClick:x,disabled:h||!i,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Project"})]})]})}),a.jsx(w1,{open:o,onOpenChange:c,onSelect:d,type:"directory",initialPath:"~",title:"Select Project Folder"})]})}const b1=C.createContext({theme:"auto",setTheme:()=>{},resolvedTheme:"light"});function W3({children:e}){const[t,s]=C.useState(()=>{try{return localStorage.getItem("claude-config-theme")||"auto"}catch{return"auto"}}),[i,l]=C.useState("light");C.useEffect(()=>{const f=window.document.documentElement,o=g=>{let d;g==="auto"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=g,l(d),d==="dark"?f.classList.add("dark"):f.classList.remove("dark")};o(t);const c=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>{t==="auto"&&o("auto")};return c.addEventListener("change",h),()=>c.removeEventListener("change",h)},[t]);const m=f=>{s(f);try{localStorage.setItem("claude-config-theme",f)}catch{}};return a.jsx(b1.Provider,{value:{theme:t,setTheme:m,resolvedTheme:i},children:e})}function K3(){return C.useContext(b1)}function G3(){const{theme:e,setTheme:t,resolvedTheme:s}=K3(),i=s==="dark"?L0:O0;return a.jsxs(wa,{children:[a.jsx(Sa,{asChild:!0,children:a.jsxs(pe,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[a.jsx(i,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(qi,{align:"end",children:[a.jsxs(It,{onClick:()=>t("light"),className:e==="light"?"bg-accent":"",children:[a.jsx(O0,{className:"mr-2 h-4 w-4"}),"Light"]}),a.jsxs(It,{onClick:()=>t("dark"),className:e==="dark"?"bg-accent":"",children:[a.jsx(L0,{className:"mr-2 h-4 w-4"}),"Dark"]}),a.jsxs(It,{onClick:()=>t("auto"),className:e==="auto"?"bg-accent":"",children:[a.jsx(ST,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var q3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y3=q3.reduce((e,t)=>{const s=qf(`Primitive.${t}`),i=C.forwardRef((l,m)=>{const{asChild:f,...o}=l,c=f?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:m})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),X3="Separator",wy="horizontal",J3=["horizontal","vertical"],C1=C.forwardRef((e,t)=>{const{decorative:s,orientation:i=wy,...l}=e,m=Q3(i)?i:wy,o=s?{role:"none"}:{"aria-orientation":m==="vertical"?m:void 0,role:"separator"};return a.jsx(Y3.div,{"data-orientation":m,...o,...l,ref:t})});C1.displayName=X3;function Q3(e){return J3.includes(e)}var E1=C1;const k1=C.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...i},l)=>a.jsx(E1,{ref:l,decorative:s,orientation:t,className:Ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));k1.displayName=E1.displayName;function Z3(){var E,R;const[e,t]=C.useState(null),[s,i]=C.useState(""),[l,m]=C.useState({open:!1,field:null,type:"directory"}),[f,o]=C.useState(!0),[c,h]=C.useState(!1),[g,d]=C.useState(null),[x,b]=C.useState(!1);C.useEffect(()=>{v(),k()},[]);const k=async()=>{try{const N=await Ae.checkVersion();d(N)}catch(N){console.error("Failed to load version info:",N)}},S=async()=>{var N;if(!(g!=null&&g.updateAvailable)){ue.error("No update available");return}b(!0);try{const T=await Ae.performUpdate({updateMethod:g.updateMethod,sourcePath:g.sourcePath});T.success?(T.updateMethod==="npm"?ue.success(T.message||"Updated via npm! Restart the server to apply."):ue.success(`Updated! Files: ${((N=T.updated)==null?void 0:N.join(", "))||"all"}. Restart the server to apply.`),k()):ue.error("Update failed: "+T.error)}catch(T){ue.error("Update failed: "+T.message)}finally{b(!1)}},v=async()=>{try{o(!0);const N=await Ae.getConfig();t(N.config),i(N.path)}catch{ue.error("Failed to load settings")}finally{o(!1)}},y=async()=>{h(!0);try{await Ae.saveConfig(e),ue.success("Preferences saved!")}catch{ue.error("Failed to save preferences")}finally{h(!1)}},p=(N,T)=>{t(j=>({...j,[N]:T}))},_=(N,T,j)=>{t(M=>({...M,[N]:{...M[N],[T]:j}}))};return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ct,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:a.jsx(px,{className:"w-5 h-5 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"claude-config Preferences"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool settings for this configuration manager"})]})]}),a.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",a.jsx("code",{className:"bg-muted px-2 py-0.5 rounded",children:s})]})}),a.jsxs(pe,{onClick:y,disabled:c,children:[c?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($i,{className:"w-4 h-4 mr-2"}),"Save"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-border pb-6",children:[a.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[a.jsx(bt,{className:"w-4 h-4"}),"Directories"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"MCP Tools Directories"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Folders containing local MCP tool repositories for discovery"}),a.jsxs("div",{className:"space-y-2",children:[((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).map((N,T)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{value:N||"",onChange:j=>{const M=[...(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])];M[T]=j.target.value,p("toolsDirs",M),e!=null&&e.toolsDir&&t(F=>{const{toolsDir:H,...W}=F;return{...W,toolsDirs:M}})},placeholder:"~/mcp-tools",className:"font-mono flex-1"}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>m({open:!0,field:"toolsDirs",type:"directory",index:T}),title:"Browse...",children:a.jsx($n,{className:"w-4 h-4"})}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{const M=((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).filter((F,H)=>H!==T);t(F=>{const{toolsDir:H,...W}=F;return{...W,toolsDirs:M.length>0?M:void 0}})},title:"Remove",className:"text-destructive hover:text-destructive",children:a.jsx(mx,{className:"w-4 h-4"})})]},T)),a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>m({open:!0,field:"toolsDirs",type:"directory",index:-1}),className:"mt-2",children:[a.jsx(lT,{className:"w-4 h-4 mr-2"}),"Add Tools Folder"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Global Registry Path"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Path to the global MCP registry file"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{value:(e==null?void 0:e.registryPath)||"",onChange:N=>p("registryPath",N.target.value),placeholder:"~/.claude/registry.json",className:"font-mono flex-1"}),a.jsx(pe,{variant:"outline",size:"icon",onClick:()=>m({open:!0,field:"registryPath",type:"file"}),title:"Browse...",children:a.jsx($n,{className:"w-4 h-4"})})]})]})]})]}),a.jsxs("div",{className:"border-b border-border pb-6",children:[a.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[a.jsx(Rc,{className:"w-4 h-4"}),"User Interface"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Port"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Port for the web UI server"}),a.jsx(Ge,{type:"number",value:((E=e==null?void 0:e.ui)==null?void 0:E.port)||3333,onChange:N=>_("ui","port",parseInt(N.target.value)||3333),placeholder:"3333",className:"w-32"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Open Browser on Start"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically open browser when starting the UI"})]}),a.jsx(Fn,{checked:((R=e==null?void 0:e.ui)==null?void 0:R.openBrowser)??!0,onCheckedChange:N=>_("ui","openBrowser",N)})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),"About"]}),a.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Installed Version"}),a.jsx("span",{className:"font-medium font-mono text-foreground",children:(g==null?void 0:g.installedVersion)||"Loading..."})]}),(g==null?void 0:g.updateAvailable)&&a.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Update Available!"}),a.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Version ",g.latestVersion," via ",g.updateMethod==="npm"?"npm":g.sourcePath]})]}),a.jsxs(pe,{size:"sm",onClick:S,disabled:x,className:"bg-green-600 hover:bg-green-700 text-white",children:[x?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Update Now"]})]})}),!(g!=null&&g.updateAvailable)&&(g==null?void 0:g.latestVersion)&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Latest Version"}),a.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[g.latestVersion," "]})]}),(g==null?void 0:g.sourcePath)&&!(g!=null&&g.updateAvailable)&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Dev Source"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"text-xs text-muted-foreground",children:g.sourcePath}),a.jsx(pe,{size:"sm",variant:"outline",onClick:S,disabled:x,className:"h-7",children:x?a.jsx(Ct,{className:"w-3 h-3 animate-spin"}):a.jsx(mr,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Install Location"}),a.jsx("code",{className:"text-xs text-muted-foreground",children:(g==null?void 0:g.installDir)||"~/.claude-config"})]}),a.jsxs("div",{className:"border-t border-border pt-3 mt-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com/regression-io/claude-config",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GitHub"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["After updating, restart the server with ",a.jsx("code",{className:"bg-muted-foreground/10 px-1 rounded",children:"claude-config ui"})]})]})]})]})]})]}),a.jsx(w1,{open:l.open,onOpenChange:N=>m(T=>({...T,open:N})),onSelect:N=>{if(l.field==="toolsDirs"){const T=(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]);if(l.index===-1)t(j=>{const{toolsDir:M,...F}=j;return{...F,toolsDirs:[...T,N]}});else{const j=[...T];j[l.index]=N,t(M=>{const{toolsDir:F,...H}=M;return{...H,toolsDirs:j}})}}else l.field&&p(l.field,N)},type:l.type,initialPath:l.field==="toolsDirs"&&l.index>=0?((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]))[l.index]||"~":(e==null?void 0:e[l.field])||"~",title:l.type==="directory"?"Select Directory":"Select File"})]})}function eO(){const[e,t]=C.useState(null),[s,i]=C.useState(!0);C.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const f=await Ae.getClaudeSettings();t(f.settings)}catch(f){console.error("Failed to load Claude settings:",f)}finally{i(!1)}},m=async f=>{try{await Ae.saveClaudeSettings(f),t(f),ue.success("Claude Code settings saved!")}catch(o){ue.error("Failed to save settings: "+o.message)}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ct,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:a.jsx(i1,{settings:e,onSave:m,loading:s,settingsPath:"~/.claude/settings.json"})})})}var gh={exports:{}},Sy;function tO(){return Sy||(Sy=1,(function(e,t){(function(s,i){e.exports=i()})(globalThis,(()=>(()=>{var s={4567:function(f,o,c){var h=this&&this.__decorate||function(p,_,E,R){var N,T=arguments.length,j=T<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,_,E,R);else for(var M=p.length-1;M>=0;M--)(N=p[M])&&(j=(T<3?N(j):T>3?N(_,E,j):N(_,E))||j);return T>3&&j&&Object.defineProperty(_,E,j),j},g=this&&this.__param||function(p,_){return function(E,R){_(E,R,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const d=c(9042),x=c(9924),b=c(844),k=c(4725),S=c(2585),v=c(3656);let y=o.AccessibilityManager=class extends b.Disposable{constructor(p,_,E,R){super(),this._terminal=p,this._coreBrowserService=E,this._renderService=R,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let N=0;N<this._terminal.rows;N++)this._rowElements[N]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[N]);if(this._topBoundaryFocusListener=N=>this._handleBoundaryFocus(N,0),this._bottomBoundaryFocusListener=N=>this._handleBoundaryFocus(N,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((N=>this._handleResize(N.rows)))),this.register(this._terminal.onRender((N=>this._refreshRows(N.start,N.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((N=>this._handleChar(N)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((N=>this._handleTab(N)))),this.register(this._terminal.onKey((N=>this._handleKey(N.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,v.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,b.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(p){for(let _=0;_<p;_++)this._handleChar(" ")}_handleChar(p){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==p&&(this._charsToAnnounce+=p):this._charsToAnnounce+=p,p===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(p){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(p)||this._charsToConsume.push(p)}_refreshRows(p,_){this._liveRegionDebouncer.refresh(p,_,this._terminal.rows)}_renderRows(p,_){const E=this._terminal.buffer,R=E.lines.length.toString();for(let N=p;N<=_;N++){const T=E.lines.get(E.ydisp+N),j=[],M=(T==null?void 0:T.translateToString(!0,void 0,void 0,j))||"",F=(E.ydisp+N+1).toString(),H=this._rowElements[N];H&&(M.length===0?(H.innerText="",this._rowColumns.set(H,[0,1])):(H.textContent=M,this._rowColumns.set(H,j)),H.setAttribute("aria-posinset",F),H.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(p,_){const E=p.target,R=this._rowElements[_===0?1:this._rowElements.length-2];if(E.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||p.relatedTarget!==R)return;let N,T;if(_===0?(N=E,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(N=this._rowElements.shift(),T=E,this._rowContainer.removeChild(N)),N.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const j=this._createAccessibilityTreeNode();this._rowElements.unshift(j),this._rowContainer.insertAdjacentElement("afterbegin",j)}else{const j=this._createAccessibilityTreeNode();this._rowElements.push(j),this._rowContainer.appendChild(j)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),p.preventDefault(),p.stopImmediatePropagation()}_handleSelectionChange(){var M;if(this._rowElements.length===0)return;const p=document.getSelection();if(!p)return;if(p.isCollapsed)return void(this._rowContainer.contains(p.anchorNode)&&this._terminal.clearSelection());if(!p.anchorNode||!p.focusNode)return void console.error("anchorNode and/or focusNode are null");let _={node:p.anchorNode,offset:p.anchorOffset},E={node:p.focusNode,offset:p.focusOffset};if((_.node.compareDocumentPosition(E.node)&Node.DOCUMENT_POSITION_PRECEDING||_.node===E.node&&_.offset>E.offset)&&([_,E]=[E,_]),_.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(_={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(_.node))return;const R=this._rowElements.slice(-1)[0];if(E.node.compareDocumentPosition(R)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(E={node:R,offset:((M=R.textContent)==null?void 0:M.length)??0}),!this._rowContainer.contains(E.node))return;const N=({node:F,offset:H})=>{const W=F instanceof Text?F.parentNode:F;let $=parseInt(W==null?void 0:W.getAttribute("aria-posinset"),10)-1;if(isNaN($))return console.warn("row is invalid. Race condition?"),null;const Z=this._rowColumns.get(W);if(!Z)return console.warn("columns is null. Race condition?"),null;let K=H<Z.length?Z[H]:Z.slice(-1)[0]+1;return K>=this._terminal.cols&&(++$,K=0),{row:$,column:K}},T=N(_),j=N(E);if(T&&j){if(T.row>j.row||T.row===j.row&&T.column>=j.column)throw new Error("invalid range");this._terminal.select(T.column,T.row,(j.row-T.row)*this._terminal.cols-T.column+j.column)}}_handleResize(p){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>p;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const p=this._coreBrowserService.mainDocument.createElement("div");return p.setAttribute("role","listitem"),p.tabIndex=-1,this._refreshRowDimensions(p),p}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let p=0;p<this._terminal.rows;p++)this._refreshRowDimensions(this._rowElements[p])}}_refreshRowDimensions(p){p.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=y=h([g(1,S.IInstantiationService),g(2,k.ICoreBrowserService),g(3,k.IRenderService)],y)},3614:(f,o)=>{function c(x){return x.replace(/\r?\n/g,"\r")}function h(x,b){return b?"\x1B[200~"+x+"\x1B[201~":x}function g(x,b,k,S){x=h(x=c(x),k.decPrivateModes.bracketedPasteMode&&S.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(x,!0),b.value=""}function d(x,b,k){const S=k.getBoundingClientRect(),v=x.clientX-S.left-10,y=x.clientY-S.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${v}px`,b.style.top=`${y}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=c,o.bracketTextForPaste=h,o.copyHandler=function(x,b){x.clipboardData&&x.clipboardData.setData("text/plain",b.selectionText),x.preventDefault()},o.handlePasteEvent=function(x,b,k,S){x.stopPropagation(),x.clipboardData&&g(x.clipboardData.getData("text/plain"),b,k,S)},o.paste=g,o.moveTextAreaUnderMouseCursor=d,o.rightClickHandler=function(x,b,k,S,v){d(x,b,k),v&&S.rightClickSelect(x),b.value=S.selectionText,b.select()}},7239:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const h=c(1505);o.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(g,d,x){this._css.set(g,d,x)}getCss(g,d){return this._css.get(g,d)}setColor(g,d,x){this._color.set(g,d,x)}getColor(g,d){return this._color.get(g,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(c,h,g,d){c.addEventListener(h,g,d);let x=!1;return{dispose:()=>{x||(x=!0,c.removeEventListener(h,g,d))}}}},3551:function(f,o,c){var h=this&&this.__decorate||function(y,p,_,E){var R,N=arguments.length,T=N<3?p:E===null?E=Object.getOwnPropertyDescriptor(p,_):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,p,_,E);else for(var j=y.length-1;j>=0;j--)(R=y[j])&&(T=(N<3?R(T):N>3?R(p,_,T):R(p,_))||T);return N>3&&T&&Object.defineProperty(p,_,T),T},g=this&&this.__param||function(y,p){return function(_,E){p(_,E,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const d=c(3656),x=c(8460),b=c(844),k=c(2585),S=c(4725);let v=o.Linkifier=class extends b.Disposable{get currentLink(){return this._currentLink}constructor(y,p,_,E,R){super(),this._element=y,this._mouseService=p,this._renderService=_,this._bufferService=E,this._linkProviderService=R,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new x.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new x.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)((()=>{var N;this._lastMouseEvent=void 0,(N=this._activeProviderReplies)==null||N.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(y){this._lastMouseEvent=y;const p=this._positionFromMouseEvent(y,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const _=y.composedPath();for(let E=0;E<_.length;E++){const R=_[E];if(R.classList.contains("xterm"))break;if(R.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(y){if(this._activeLine!==y.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(y,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,y)||(this._clearCurrentLink(),this._askForLink(y,!0))}_askForLink(y,p){var E,R;this._activeProviderReplies&&p||((E=this._activeProviderReplies)==null||E.forEach((N=>{N==null||N.forEach((T=>{T.link.dispose&&T.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=y.y);let _=!1;for(const[N,T]of this._linkProviderService.linkProviders.entries())p?(R=this._activeProviderReplies)!=null&&R.get(N)&&(_=this._checkLinkProviderResult(N,y,_)):T.provideLinks(y.y,(j=>{var F,H;if(this._isMouseOut)return;const M=j==null?void 0:j.map((W=>({link:W})));(F=this._activeProviderReplies)==null||F.set(N,M),_=this._checkLinkProviderResult(N,y,_),((H=this._activeProviderReplies)==null?void 0:H.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(y.y,this._activeProviderReplies)}))}_removeIntersectingLinks(y,p){const _=new Set;for(let E=0;E<p.size;E++){const R=p.get(E);if(R)for(let N=0;N<R.length;N++){const T=R[N],j=T.link.range.start.y<y?0:T.link.range.start.x,M=T.link.range.end.y>y?this._bufferService.cols:T.link.range.end.x;for(let F=j;F<=M;F++){if(_.has(F)){R.splice(N--,1);break}_.add(F)}}}}_checkLinkProviderResult(y,p,_){var N;if(!this._activeProviderReplies)return _;const E=this._activeProviderReplies.get(y);let R=!1;for(let T=0;T<y;T++)this._activeProviderReplies.has(T)&&!this._activeProviderReplies.get(T)||(R=!0);if(!R&&E){const T=E.find((j=>this._linkAtPosition(j.link,p)));T&&(_=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!_)for(let T=0;T<this._activeProviderReplies.size;T++){const j=(N=this._activeProviderReplies.get(T))==null?void 0:N.find((M=>this._linkAtPosition(M.link,p)));if(j){_=!0,this._handleNewLink(j);break}}return _}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(y){if(!this._currentLink)return;const p=this._positionFromMouseEvent(y,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(y,this._currentLink.link.text)}_clearCurrentLink(y,p){this._currentLink&&this._lastMouseEvent&&(!y||!p||this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(y){if(!this._lastMouseEvent)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(y.link,p)&&(this._currentLink=y,this._currentLink.state={decorations:{underline:y.link.decorations===void 0||y.link.decorations.underline,pointerCursor:y.link.decorations===void 0||y.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,y.link,this._lastMouseEvent),y.link.decorations={},Object.defineProperties(y.link.decorations,{pointerCursor:{get:()=>{var _,E;return(E=(_=this._currentLink)==null?void 0:_.state)==null?void 0:E.decorations.pointerCursor},set:_=>{var E;(E=this._currentLink)!=null&&E.state&&this._currentLink.state.decorations.pointerCursor!==_&&(this._currentLink.state.decorations.pointerCursor=_,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",_))}},underline:{get:()=>{var _,E;return(E=(_=this._currentLink)==null?void 0:_.state)==null?void 0:E.decorations.underline},set:_=>{var E,R,N;(E=this._currentLink)!=null&&E.state&&((N=(R=this._currentLink)==null?void 0:R.state)==null?void 0:N.decorations.underline)!==_&&(this._currentLink.state.decorations.underline=_,this._currentLink.state.isHovered&&this._fireUnderlineEvent(y.link,_))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((_=>{if(!this._currentLink)return;const E=_.start===0?0:_.start+1+this._bufferService.buffer.ydisp,R=this._bufferService.buffer.ydisp+1+_.end;if(this._currentLink.link.range.start.y>=E&&this._currentLink.link.range.end.y<=R&&(this._clearCurrentLink(E,R),this._lastMouseEvent)){const N=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);N&&this._askForLink(N,!1)}}))))}_linkHover(y,p,_){var E;(E=this._currentLink)!=null&&E.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&y.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(_,p.text)}_fireUnderlineEvent(y,p){const _=y.range,E=this._bufferService.buffer.ydisp,R=this._createLinkUnderlineEvent(_.start.x-1,_.start.y-E-1,_.end.x,_.end.y-E-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(R)}_linkLeave(y,p,_){var E;(E=this._currentLink)!=null&&E.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&y.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(_,p.text)}_linkAtPosition(y,p){const _=y.range.start.y*this._bufferService.cols+y.range.start.x,E=y.range.end.y*this._bufferService.cols+y.range.end.x,R=p.y*this._bufferService.cols+p.x;return _<=R&&R<=E}_positionFromMouseEvent(y,p,_){const E=_.getCoords(y,p,this._bufferService.cols,this._bufferService.rows);if(E)return{x:E[0],y:E[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(y,p,_,E,R){return{x1:y,y1:p,x2:_,y2:E,cols:this._bufferService.cols,fg:R}}};o.Linkifier=v=h([g(1,S.IMouseService),g(2,S.IRenderService),g(3,k.IBufferService),g(4,S.ILinkProviderService)],v)},9042:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(f,o,c){var h=this&&this.__decorate||function(S,v,y,p){var _,E=arguments.length,R=E<3?v:p===null?p=Object.getOwnPropertyDescriptor(v,y):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,v,y,p);else for(var N=S.length-1;N>=0;N--)(_=S[N])&&(R=(E<3?_(R):E>3?_(v,y,R):_(v,y))||R);return E>3&&R&&Object.defineProperty(v,y,R),R},g=this&&this.__param||function(S,v){return function(y,p){v(y,p,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const d=c(511),x=c(2585);let b=o.OscLinkProvider=class{constructor(S,v,y){this._bufferService=S,this._optionsService=v,this._oscLinkService=y}provideLinks(S,v){var M;const y=this._bufferService.buffer.lines.get(S-1);if(!y)return void v(void 0);const p=[],_=this._optionsService.rawOptions.linkHandler,E=new d.CellData,R=y.getTrimmedLength();let N=-1,T=-1,j=!1;for(let F=0;F<R;F++)if(T!==-1||y.hasContent(F)){if(y.loadCell(F,E),E.hasExtendedAttrs()&&E.extended.urlId){if(T===-1){T=F,N=E.extended.urlId;continue}j=E.extended.urlId!==N}else T!==-1&&(j=!0);if(j||T!==-1&&F===R-1){const H=(M=this._oscLinkService.getLinkData(N))==null?void 0:M.uri;if(H){const W={start:{x:T+1,y:S},end:{x:F+(j||F!==R-1?0:1),y:S}};let $=!1;if(!(_!=null&&_.allowNonHttpProtocols))try{const Z=new URL(H);["http:","https:"].includes(Z.protocol)||($=!0)}catch{$=!0}$||p.push({text:H,range:W,activate:(Z,K)=>_?_.activate(Z,K,W):k(0,K),hover:(Z,K)=>{var G;return(G=_==null?void 0:_.hover)==null?void 0:G.call(_,Z,K,W)},leave:(Z,K)=>{var G;return(G=_==null?void 0:_.leave)==null?void 0:G.call(_,Z,K,W)}})}j=!1,E.hasExtendedAttrs()&&E.extended.urlId?(T=F,N=E.extended.urlId):(T=-1,N=-1)}}v(p)}};function k(S,v){if(confirm(`Do you want to navigate to ${v}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=v}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=b=h([g(0,x.IBufferService),g(1,x.IOptionsService),g(2,x.IOscLinkService)],b)},6193:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(c,h){this._renderCallback=c,this._coreBrowserService=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(c,h,g){this._rowCount=g,c=c!==void 0?c:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},3236:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const h=c(3614),g=c(3656),d=c(3551),x=c(9042),b=c(3730),k=c(1680),S=c(3107),v=c(5744),y=c(2950),p=c(1296),_=c(428),E=c(4269),R=c(5114),N=c(8934),T=c(3230),j=c(9312),M=c(4725),F=c(6731),H=c(8055),W=c(8969),$=c(8460),Z=c(844),K=c(6114),G=c(8437),ee=c(2584),z=c(7399),D=c(5941),B=c(9074),L=c(2585),V=c(5435),Y=c(4567),J=c(779);class q extends W.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(U={}){super(U),this.browser=K,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Z.MutableDisposable),this._onCursorMove=this.register(new $.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new $.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new $.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new $.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new $.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new $.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new $.EventEmitter),this._onBlur=this.register(new $.EventEmitter),this._onA11yCharEmitter=this.register(new $.EventEmitter),this._onA11yTabEmitter=this.register(new $.EventEmitter),this._onWillOpen=this.register(new $.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(L.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(J.LinkProviderService),this._instantiationService.setService(M.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(b.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((O,ne)=>this.refresh(O,ne)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((O=>this._reportWindowsOptions(O)))),this.register(this._inputHandler.onColor((O=>this._handleColorEvent(O)))),this.register((0,$.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,$.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((O=>this._afterResize(O.cols,O.rows)))),this.register((0,Z.toDisposable)((()=>{var O,ne;this._customKeyEventHandler=void 0,(ne=(O=this.element)==null?void 0:O.parentNode)==null||ne.removeChild(this.element)})))}_handleColorEvent(U){if(this._themeService)for(const O of U){let ne,re="";switch(O.index){case 256:ne="foreground",re="10";break;case 257:ne="background",re="11";break;case 258:ne="cursor",re="12";break;default:ne="ansi",re="4;"+O.index}switch(O.type){case 0:const ce=H.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[O.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${re};${(0,D.toRgbString)(ce)}${ee.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors((le=>le.ansi[O.index]=H.channels.toColor(...O.color)));else{const le=ne;this._themeService.modifyColors((Pe=>Pe[le]=H.channels.toColor(...O.color)))}break;case 2:this._themeService.restoreColor(O.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(U){U?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(U){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var U;return(U=this.textarea)==null?void 0:U.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const U=this.buffer.ybase+this.buffer.y,O=this.buffer.lines.get(U);if(!O)return;const ne=Math.min(this.buffer.x,this.cols-1),re=this._renderService.dimensions.css.cell.height,ce=O.getWidth(ne),le=this._renderService.dimensions.css.cell.width*ce,Pe=this.buffer.y*this._renderService.dimensions.css.cell.height,Ie=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ie+"px",this.textarea.style.top=Pe+"px",this.textarea.style.width=le+"px",this.textarea.style.height=re+"px",this.textarea.style.lineHeight=re+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",(O=>{this.hasSelection()&&(0,h.copyHandler)(O,this._selectionService)})));const U=O=>(0,h.handlePasteEvent)(O,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",U)),this.register((0,g.addDisposableDomListener)(this.element,"paste",U)),K.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",(O=>{O.button===2&&(0,h.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",(O=>{(0,h.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),K.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",(O=>{O.button===1&&(0,h.moveTextAreaUnderMouseCursor)(O,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",(U=>this._keyUp(U)),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",(U=>this._keyDown(U)),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",(U=>this._keyPress(U)),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",(U=>this._compositionHelper.compositionupdate(U)))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,g.addDisposableDomListener)(this.textarea,"input",(U=>this._inputEvent(U)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(U){var ne;if(!U)throw new Error("Terminal requires a parent element.");if(U.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((ne=this.element)==null?void 0:ne.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=U.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),U.appendChild(this.element);const O=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),O.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,g.addDisposableDomListener)(this.screenElement,"mousemove",(re=>this.updateCursorStyle(re)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),O.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",x.promptLabel),K.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(R.CoreBrowserService,this.textarea,U.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(M.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",(re=>this._handleTextAreaFocus(re)))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(M.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(F.ThemeService),this._instantiationService.setService(M.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(E.CharacterJoinerService),this._instantiationService.setService(M.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(M.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((re=>this._onRender.fire(re)))),this.onResize((re=>this._renderService.resize(re.cols,re.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(N.MouseService),this._instantiationService.setService(M.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(d.Linkifier,this.screenElement)),this.element.appendChild(O);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((re=>this.scrollLines(re.amount,re.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(j.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(M.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((re=>this.scrollLines(re.amount,re.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((re=>this._renderService.handleSelectionChanged(re.start,re.end,re.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((re=>{this.textarea.value=re,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((re=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(S.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",(re=>this._selectionService.handleMouseDown(re)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(re=>this._handleScreenReaderModeOptionChange(re)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(re=>{!this._overviewRulerRenderer&&re&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(p.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const U=this,O=this.element;function ne(le){const Pe=U._mouseService.getMouseReportCoords(le,U.screenElement);if(!Pe)return!1;let Ie,ze;switch(le.overrideType||le.type){case"mousemove":ze=32,le.buttons===void 0?(Ie=3,le.button!==void 0&&(Ie=le.button<3?le.button:3)):Ie=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":ze=0,Ie=le.button<3?le.button:3;break;case"mousedown":ze=1,Ie=le.button<3?le.button:3;break;case"wheel":if(U._customWheelEventHandler&&U._customWheelEventHandler(le)===!1||U.viewport.getLinesScrolled(le)===0)return!1;ze=le.deltaY<0?0:1,Ie=4;break;default:return!1}return!(ze===void 0||Ie===void 0||Ie>4)&&U.coreMouseService.triggerMouseEvent({col:Pe.col,row:Pe.row,x:Pe.x,y:Pe.y,button:Ie,action:ze,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const re={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ce={mouseup:le=>(ne(le),le.buttons||(this._document.removeEventListener("mouseup",re.mouseup),re.mousedrag&&this._document.removeEventListener("mousemove",re.mousedrag)),this.cancel(le)),wheel:le=>(ne(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&ne(le)},mousemove:le=>{le.buttons||ne(le)}};this.register(this.coreMouseService.onProtocolChange((le=>{le?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?re.mousemove||(O.addEventListener("mousemove",ce.mousemove),re.mousemove=ce.mousemove):(O.removeEventListener("mousemove",re.mousemove),re.mousemove=null),16&le?re.wheel||(O.addEventListener("wheel",ce.wheel,{passive:!1}),re.wheel=ce.wheel):(O.removeEventListener("wheel",re.wheel),re.wheel=null),2&le?re.mouseup||(re.mouseup=ce.mouseup):(this._document.removeEventListener("mouseup",re.mouseup),re.mouseup=null),4&le?re.mousedrag||(re.mousedrag=ce.mousedrag):(this._document.removeEventListener("mousemove",re.mousedrag),re.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)(O,"mousedown",(le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return ne(le),re.mouseup&&this._document.addEventListener("mouseup",re.mouseup),re.mousedrag&&this._document.addEventListener("mousemove",re.mousedrag),this.cancel(le)}))),this.register((0,g.addDisposableDomListener)(O,"wheel",(le=>{if(!re.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(le)===!1)return!1;if(!this.buffer.hasScrollback){const Pe=this.viewport.getLinesScrolled(le);if(Pe===0)return;const Ie=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let ze="";for(let Ye=0;Ye<Math.abs(Pe);Ye++)ze+=Ie;return this.coreService.triggerDataEvent(ze,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}}),{passive:!1})),this.register((0,g.addDisposableDomListener)(O,"touchstart",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)}),{passive:!0})),this.register((0,g.addDisposableDomListener)(O,"touchmove",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)}),{passive:!1}))}refresh(U,O){var ne;(ne=this._renderService)==null||ne.refreshRows(U,O)}updateCursorStyle(U){var O;(O=this._selectionService)!=null&&O.shouldColumnSelect(U)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(U,O,ne=0){var re;ne===1?(super.scrollLines(U,O,ne),this.refresh(0,this.rows-1)):(re=this.viewport)==null||re.scrollLines(U)}paste(U){(0,h.paste)(U,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(U){this._customKeyEventHandler=U}attachCustomWheelEventHandler(U){this._customWheelEventHandler=U}registerLinkProvider(U){return this._linkProviderService.registerLinkProvider(U)}registerCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const O=this._characterJoinerService.register(U);return this.refresh(0,this.rows-1),O}deregisterCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(U)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(U){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+U)}registerDecoration(U){return this._decorationService.registerDecoration(U)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(U,O,ne){this._selectionService.setSelection(U,O,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var U;(U=this._selectionService)==null||U.clearSelection()}selectAll(){var U;(U=this._selectionService)==null||U.selectAll()}selectLines(U,O){var ne;(ne=this._selectionService)==null||ne.selectLines(U,O)}_keyDown(U){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;const O=this.browser.isMac&&this.options.macOptionIsMeta&&U.altKey;if(!O&&!this._compositionHelper.keydown(U))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;O||U.key!=="Dead"&&U.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,z.evaluateKeyboardEvent)(U,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(U),ne.type===3||ne.type===2){const re=this.rows-1;return this.scrollLines(ne.type===2?-re:re),this.cancel(U,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,U)||(ne.cancel&&this.cancel(U,!0),!ne.key||!!(U.key&&!U.ctrlKey&&!U.altKey&&!U.metaKey&&U.key.length===1&&U.key.charCodeAt(0)>=65&&U.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==ee.C0.ETX&&ne.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||U.altKey||U.ctrlKey?this.cancel(U,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(U,O){const ne=U.isMac&&!this.options.macOptionIsMeta&&O.altKey&&!O.ctrlKey&&!O.metaKey||U.isWindows&&O.altKey&&O.ctrlKey&&!O.metaKey||U.isWindows&&O.getModifierState("AltGraph");return O.type==="keypress"?ne:ne&&(!O.keyCode||O.keyCode>47)}_keyUp(U){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1||((function(O){return O.keyCode===16||O.keyCode===17||O.keyCode===18})(U)||this.focus(),this.updateCursorStyle(U),this._keyPressHandled=!1)}_keyPress(U){let O;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;if(this.cancel(U),U.charCode)O=U.charCode;else if(U.which===null||U.which===void 0)O=U.keyCode;else{if(U.which===0||U.charCode===0)return!1;O=U.which}return!(!O||(U.altKey||U.ctrlKey||U.metaKey)&&!this._isThirdLevelShift(this.browser,U)||(O=String.fromCharCode(O),this._onKey.fire({key:O,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(O,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(U){if(U.data&&U.inputType==="insertText"&&(!U.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const O=U.data;return this.coreService.triggerDataEvent(O,!0),this.cancel(U),!0}return!1}resize(U,O){U!==this.cols||O!==this.rows?super.resize(U,O):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(U,O){var ne,re;(ne=this._charSizeService)==null||ne.measure(),(re=this.viewport)==null||re.syncScrollArea(!0)}clear(){var U;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let O=1;O<this.rows;O++)this.buffer.lines.push(this.buffer.getBlankLine(G.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(U=this.viewport)==null||U.reset(),this.refresh(0,this.rows-1)}}reset(){var O,ne;this.options.rows=this.rows,this.options.cols=this.cols;const U=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)==null||O.reset(),this._decorationService.reset(),(ne=this.viewport)==null||ne.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1)}clearTextureAtlas(){var U;(U=this._renderService)==null||U.clearTextureAtlas()}_reportFocus(){var U;(U=this.element)!=null&&U.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(U){if(this._renderService)switch(U){case V.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const O=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${ne};${O}t`);break;case V.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const re=this._renderService.dimensions.css.cell.width.toFixed(0),ce=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${ce};${re}t`)}}cancel(U,O){if(this.options.cancelEvents||O)return U.preventDefault(),U.stopPropagation(),!1}}o.Terminal=q},9924:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(c,h=1e3){this._renderCallback=c,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,h,g){this._rowCount=g,c=c!==void 0?c:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const x=d-this._lastRefreshMs,b=this._debounceThresholdMS-x;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,h)}}},1680:function(f,o,c){var h=this&&this.__decorate||function(y,p,_,E){var R,N=arguments.length,T=N<3?p:E===null?E=Object.getOwnPropertyDescriptor(p,_):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,p,_,E);else for(var j=y.length-1;j>=0;j--)(R=y[j])&&(T=(N<3?R(T):N>3?R(p,_,T):R(p,_))||T);return N>3&&T&&Object.defineProperty(p,_,T),T},g=this&&this.__param||function(y,p){return function(_,E){p(_,E,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const d=c(3656),x=c(4725),b=c(8460),k=c(844),S=c(2585);let v=o.Viewport=class extends k.Disposable{constructor(y,p,_,E,R,N,T,j){super(),this._viewportElement=y,this._scrollArea=p,this._bufferService=_,this._optionsService=E,this._charSizeService=R,this._renderService=N,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((M=>this._activeBuffer=M.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((M=>this._renderDimensions=M))),this._handleThemeChange(j.colors),this.register(j.onChangeColors((M=>this._handleThemeChange(M)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const p=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,p){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(p<0&&this._viewportElement.scrollTop!==0||p>0&&_<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const p=this._getPixelsScrolled(y);return p!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+p:this._smoothScrollState.target+=p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=p,this._bubbleScroll(y,p))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const p=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let p=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?p*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._currentRowHeight*this._bufferService.rows),p}getBufferElements(y,p){var j;let _,E="";const R=[],N=p??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let M=y;M<N;M++){const F=T.get(M);if(!F)continue;const H=(j=T.get(M+1))==null?void 0:j.isWrapped;if(E+=F.translateToString(!H),!H||M===T.length-1){const W=document.createElement("div");W.textContent=E,R.push(W),E.length>0&&(_=W),E=""}}return{bufferElements:R,cursorElement:_}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let p=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(p/=this._currentRowHeight+0,this._wheelPartialScroll+=p,p=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._bufferService.rows),p}_applyScrollModifier(y,p){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&p.altKey||_==="ctrl"&&p.ctrlKey||_==="shift"&&p.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const p=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,p!==0&&(this._viewportElement.scrollTop+=p,this._bubbleScroll(y,p))}};o.Viewport=v=h([g(2,S.IBufferService),g(3,S.IOptionsService),g(4,x.ICharSizeService),g(5,x.IRenderService),g(6,x.ICoreBrowserService),g(7,x.IThemeService)],v)},3107:function(f,o,c){var h=this&&this.__decorate||function(S,v,y,p){var _,E=arguments.length,R=E<3?v:p===null?p=Object.getOwnPropertyDescriptor(v,y):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,v,y,p);else for(var N=S.length-1;N>=0;N--)(_=S[N])&&(R=(E<3?_(R):E>3?_(v,y,R):_(v,y))||R);return E>3&&R&&Object.defineProperty(v,y,R),R},g=this&&this.__param||function(S,v){return function(y,p){v(y,p,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const d=c(4725),x=c(844),b=c(2585);let k=o.BufferDecorationRenderer=class extends x.Disposable{constructor(S,v,y,p,_){super(),this._screenElement=S,this._bufferService=v,this._coreBrowserService=y,this._decorationService=p,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((E=>this._removeDecoration(E)))),this.register((0,x.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const S of this._decorationService.decorations)this._renderDecoration(S);this._dimensionsChanged=!1}_renderDecoration(S){this._refreshStyle(S),this._dimensionsChanged&&this._refreshXPosition(S)}_createElement(S){var p;const v=this._coreBrowserService.mainDocument.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((p=S==null?void 0:S.options)==null?void 0:p.layer)==="top"),v.style.width=`${Math.round((S.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(S.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(S.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=S.options.x??0;return y&&y>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(S,v),v}_refreshStyle(S){const v=S.marker.line-this._bufferService.buffers.active.ydisp;if(v<0||v>=this._bufferService.rows)S.element&&(S.element.style.display="none",S.onRenderEmitter.fire(S.element));else{let y=this._decorationElements.get(S);y||(y=this._createElement(S),S.element=y,this._decorationElements.set(S,y),this._container.appendChild(y),S.onDispose((()=>{this._decorationElements.delete(S),y.remove()}))),y.style.top=v*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",S.onRenderEmitter.fire(y)}}_refreshXPosition(S,v=S.element){if(!v)return;const y=S.options.x??0;(S.options.anchor||"left")==="right"?v.style.right=y?y*this._renderService.dimensions.css.cell.width+"px":"":v.style.left=y?y*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(S){var v;(v=this._decorationElements.get(S))==null||v.remove(),this._decorationElements.delete(S),S.dispose()}};o.BufferDecorationRenderer=k=h([g(1,b.IBufferService),g(2,d.ICoreBrowserService),g(3,b.IDecorationService),g(4,d.IRenderService)],k)},5871:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const h of this._zones)if(h.color===c.options.overviewRulerOptions.color&&h.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,c.marker.line))return;if(this._lineAdjacentToZone(h,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(h,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,h){return h>=c.startBufferLine&&h<=c.endBufferLine}_lineAdjacentToZone(c,h,g){return h>=c.startBufferLine-this._linePadding[g||"full"]&&h<=c.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(c,h){c.startBufferLine=Math.min(c.startBufferLine,h),c.endBufferLine=Math.max(c.endBufferLine,h)}}},5744:function(f,o,c){var h=this&&this.__decorate||function(_,E,R,N){var T,j=arguments.length,M=j<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,R):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,E,R,N);else for(var F=_.length-1;F>=0;F--)(T=_[F])&&(M=(j<3?T(M):j>3?T(E,R,M):T(E,R))||M);return j>3&&M&&Object.defineProperty(E,R,M),M},g=this&&this.__param||function(_,E){return function(R,N){E(R,N,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const d=c(5871),x=c(4725),b=c(844),k=c(2585),S={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let p=o.OverviewRulerRenderer=class extends b.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,E,R,N,T,j,M){var H;super(),this._viewportElement=_,this._screenElement=E,this._bufferService=R,this._decorationService=N,this._renderService=T,this._optionsService=j,this._coreBrowserService=M,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(H=this._viewportElement.parentElement)==null||H.insertBefore(this._canvas,this._viewportElement);const F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,b.toDisposable)((()=>{var W;(W=this._canvas)==null||W.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),E=Math.ceil(this._canvas.width/3);v.full=this._canvas.width,v.left=_,v.center=E,v.right=_,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=v.left,y.right=v.left+v.center}_refreshDrawHeightConstants(){S.full=Math.round(2*this._coreBrowserService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,E=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowserService.dpr);S.left=E,S.center=E,S.right=E}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const E of this._decorationService.decorations)this._colorZoneStore.addDecoration(E);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const E of _)E.position!=="full"&&this._renderColorZone(E);for(const E of _)E.position==="full"&&this._renderColorZone(E);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(y[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-S[_.position||"full"]/2),v[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+S[_.position||"full"]))}_queueRefresh(_,E){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=E||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};o.OverviewRulerRenderer=p=h([g(2,k.IBufferService),g(3,k.IDecorationService),g(4,x.IRenderService),g(5,k.IOptionsService),g(6,x.ICoreBrowserService)],p)},2950:function(f,o,c){var h=this&&this.__decorate||function(S,v,y,p){var _,E=arguments.length,R=E<3?v:p===null?p=Object.getOwnPropertyDescriptor(v,y):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,v,y,p);else for(var N=S.length-1;N>=0;N--)(_=S[N])&&(R=(E<3?_(R):E>3?_(v,y,R):_(v,y))||R);return E>3&&R&&Object.defineProperty(v,y,R),R},g=this&&this.__param||function(S,v){return function(y,p){v(y,p,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const d=c(4725),x=c(2585),b=c(2584);let k=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(S,v,y,p,_,E){this._textarea=S,this._compositionView=v,this._bufferService=y,this._optionsService=p,this._coreService=_,this._renderService=E,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(S){this._compositionView.textContent=S.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(S){if(this._isComposing||this._isSendingComposition){if(S.keyCode===229||S.keyCode===16||S.keyCode===17||S.keyCode===18)return!1;this._finalizeComposition(!1)}return S.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(S){if(this._compositionView.classList.remove("active"),this._isComposing=!1,S){const v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,v.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(v.start,v.end):this._textarea.value.substring(v.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}}),0)}else{this._isSendingComposition=!1;const v=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(v,!0)}}_handleAnyTextareaChanges(){const S=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const v=this._textarea.value,y=v.replace(S,"");this._dataAlreadySent=y,v.length>S.length?this._coreService.triggerDataEvent(y,!0):v.length<S.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):v.length===S.length&&v!==S&&this._coreService.triggerDataEvent(v,!0)}}),0)}updateCompositionElements(S){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,p=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=v*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=p+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const E=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=p+"px",this._textarea.style.width=Math.max(E.width,1)+"px",this._textarea.style.height=Math.max(E.height,1)+"px",this._textarea.style.lineHeight=E.height+"px"}S||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};o.CompositionHelper=k=h([g(2,x.IBufferService),g(3,x.IOptionsService),g(4,x.ICoreService),g(5,d.IRenderService)],k)},9806:(f,o)=>{function c(h,g,d){const x=d.getBoundingClientRect(),b=h.getComputedStyle(d),k=parseInt(b.getPropertyValue("padding-left")),S=parseInt(b.getPropertyValue("padding-top"));return[g.clientX-x.left-k,g.clientY-x.top-S]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=c,o.getCoords=function(h,g,d,x,b,k,S,v,y){if(!k)return;const p=c(h,g,d);return p?(p[0]=Math.ceil((p[0]+(y?S/2:0))/S),p[1]=Math.ceil(p[1]/v),p[0]=Math.min(Math.max(p[0],1),x+(y?1:0)),p[1]=Math.min(Math.max(p[1],1),b),p):void 0}},9504:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const h=c(2584);function g(v,y,p,_){const E=v-d(v,p),R=y-d(y,p),N=Math.abs(E-R)-(function(T,j,M){let F=0;const H=T-d(T,M),W=j-d(j,M);for(let $=0;$<Math.abs(H-W);$++){const Z=x(T,j)==="A"?-1:1,K=M.buffer.lines.get(H+Z*$);K!=null&&K.isWrapped&&F++}return F})(v,y,p);return S(N,k(x(v,y),_))}function d(v,y){let p=0,_=y.buffer.lines.get(v),E=_==null?void 0:_.isWrapped;for(;E&&v>=0&&v<y.rows;)p++,_=y.buffer.lines.get(--v),E=_==null?void 0:_.isWrapped;return p}function x(v,y){return v>y?"A":"B"}function b(v,y,p,_,E,R){let N=v,T=y,j="";for(;N!==p||T!==_;)N+=E?1:-1,E&&N>R.cols-1?(j+=R.buffer.translateBufferLineToString(T,!1,v,N),N=0,v=0,T++):!E&&N<0&&(j+=R.buffer.translateBufferLineToString(T,!1,0,v+1),N=R.cols-1,v=N,T--);return j+R.buffer.translateBufferLineToString(T,!1,v,N)}function k(v,y){const p=y?"O":"[";return h.C0.ESC+p+v}function S(v,y){v=Math.floor(v);let p="";for(let _=0;_<v;_++)p+=y;return p}o.moveToCellSequence=function(v,y,p,_){const E=p.buffer.x,R=p.buffer.y;if(!p.buffer.hasScrollback)return(function(j,M,F,H,W,$){return g(M,H,W,$).length===0?"":S(b(j,M,j,M-d(M,W),!1,W).length,k("D",$))})(E,R,0,y,p,_)+g(R,y,p,_)+(function(j,M,F,H,W,$){let Z;Z=g(M,H,W,$).length>0?H-d(H,W):M;const K=H,G=(function(ee,z,D,B,L,V){let Y;return Y=g(D,B,L,V).length>0?B-d(B,L):z,ee<D&&Y<=B||ee>=D&&Y<B?"C":"D"})(j,M,F,H,W,$);return S(b(j,Z,F,K,G==="C",W).length,k(G,$))})(E,R,v,y,p,_);let N;if(R===y)return N=E>v?"D":"C",S(Math.abs(E-v),k(N,_));N=R>y?"D":"C";const T=Math.abs(R-y);return S((function(j,M){return M.cols-j})(R>y?v:E,p)+(T-1)*p.cols+1+((R>y?E:v)-1),k(N,_))}},1296:function(f,o,c){var h=this&&this.__decorate||function($,Z,K,G){var ee,z=arguments.length,D=z<3?Z:G===null?G=Object.getOwnPropertyDescriptor(Z,K):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate($,Z,K,G);else for(var B=$.length-1;B>=0;B--)(ee=$[B])&&(D=(z<3?ee(D):z>3?ee(Z,K,D):ee(Z,K))||D);return z>3&&D&&Object.defineProperty(Z,K,D),D},g=this&&this.__param||function($,Z){return function(K,G){Z(K,G,$)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const d=c(3787),x=c(2550),b=c(2223),k=c(6171),S=c(6052),v=c(4725),y=c(8055),p=c(8460),_=c(844),E=c(2585),R="xterm-dom-renderer-owner-",N="xterm-rows",T="xterm-fg-",j="xterm-bg-",M="xterm-focus",F="xterm-selection";let H=1,W=o.DomRenderer=class extends _.Disposable{constructor($,Z,K,G,ee,z,D,B,L,V,Y,J,q){super(),this._terminal=$,this._document=Z,this._element=K,this._screenElement=G,this._viewportElement=ee,this._helperContainer=z,this._linkifier2=D,this._charSizeService=L,this._optionsService=V,this._bufferService=Y,this._coreBrowserService=J,this._themeService=q,this._terminalClass=H++,this._rowElements=[],this._selectionRenderModel=(0,S.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(N),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(F),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((se=>this._injectCss(se)))),this._injectCss(this._themeService.colors),this._rowFactory=B.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(R+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((se=>this._handleLinkHover(se)))),this.register(this._linkifier2.onHideLinkUnderline((se=>this._handleLinkLeave(se)))),this.register((0,_.toDisposable)((()=>{this._element.classList.remove(R+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new x.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const $=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*$,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*$),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/$),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/$),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const K of this._rowElements)K.style.width=`${this.dimensions.css.canvas.width}px`,K.style.height=`${this.dimensions.css.cell.height}px`,K.style.lineHeight=`${this.dimensions.css.cell.height}px`,K.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const Z=`${this._terminalSelector} .${N} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=Z,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss($){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Z=`${this._terminalSelector} .${N} { color: ${$.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;Z+=`${this._terminalSelector} .${N} .xterm-dim { color: ${y.color.multiplyOpacity($.foreground,.5).css};}`,Z+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const K=`blink_underline_${this._terminalClass}`,G=`blink_bar_${this._terminalClass}`,ee=`blink_block_${this._terminalClass}`;Z+=`@keyframes ${K} { 50% {  border-bottom-style: hidden; }}`,Z+=`@keyframes ${G} { 50% {  box-shadow: none; }}`,Z+=`@keyframes ${ee} { 0% {  background-color: ${$.cursor.css};  color: ${$.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${$.cursor.css}; }}`,Z+=`${this._terminalSelector} .${N}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${N}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${N}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ee} 1s step-end infinite;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-block { background-color: ${$.cursor.css}; color: ${$.cursorAccent.css};}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${$.cursor.css} !important; color: ${$.cursorAccent.css} !important;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${$.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${$.cursor.css} inset;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${$.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,Z+=`${this._terminalSelector} .${F} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${F} div { position: absolute; background-color: ${$.selectionBackgroundOpaque.css};}${this._terminalSelector} .${F} div { position: absolute; background-color: ${$.selectionInactiveBackgroundOpaque.css};}`;for(const[z,D]of $.ansi.entries())Z+=`${this._terminalSelector} .${T}${z} { color: ${D.css}; }${this._terminalSelector} .${T}${z}.xterm-dim { color: ${y.color.multiplyOpacity(D,.5).css}; }${this._terminalSelector} .${j}${z} { background-color: ${D.css}; }`;Z+=`${this._terminalSelector} .${T}${b.INVERTED_DEFAULT_COLOR} { color: ${y.color.opaque($.background).css}; }${this._terminalSelector} .${T}${b.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${y.color.multiplyOpacity(y.color.opaque($.background),.5).css}; }${this._terminalSelector} .${j}${b.INVERTED_DEFAULT_COLOR} { background-color: ${$.foreground.css}; }`,this._themeStyleElement.textContent=Z}_setDefaultSpacing(){const $=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${$}px`,this._rowFactory.defaultSpacing=$}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements($,Z){for(let K=this._rowElements.length;K<=Z;K++){const G=this._document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>Z;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize($,Z){this._refreshRowElements($,Z),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(M),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(M),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged($,Z,K){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged($,Z,K),this.renderRows(0,this._bufferService.rows-1),!$||!Z)return;this._selectionRenderModel.update(this._terminal,$,Z,K);const G=this._selectionRenderModel.viewportStartRow,ee=this._selectionRenderModel.viewportEndRow,z=this._selectionRenderModel.viewportCappedStartRow,D=this._selectionRenderModel.viewportCappedEndRow;if(z>=this._bufferService.rows||D<0)return;const B=this._document.createDocumentFragment();if(K){const L=$[0]>Z[0];B.appendChild(this._createSelectionElement(z,L?Z[0]:$[0],L?$[0]:Z[0],D-z+1))}else{const L=G===z?$[0]:0,V=z===ee?Z[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(z,L,V));const Y=D-z-1;if(B.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,Y)),z!==D){const J=ee===D?Z[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(D,0,J))}}this._selectionContainer.appendChild(B)}_createSelectionElement($,Z,K,G=1){const ee=this._document.createElement("div"),z=Z*this.dimensions.css.cell.width;let D=this.dimensions.css.cell.width*(K-Z);return z+D>this.dimensions.css.canvas.width&&(D=this.dimensions.css.canvas.width-z),ee.style.height=G*this.dimensions.css.cell.height+"px",ee.style.top=$*this.dimensions.css.cell.height+"px",ee.style.left=`${z}px`,ee.style.width=`${D}px`,ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const $ of this._rowElements)$.replaceChildren()}renderRows($,Z){const K=this._bufferService.buffer,G=K.ybase+K.y,ee=Math.min(K.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,B=this._optionsService.rawOptions.cursorInactiveStyle;for(let L=$;L<=Z;L++){const V=L+K.ydisp,Y=this._rowElements[L],J=K.lines.get(V);if(!Y||!J)break;Y.replaceChildren(...this._rowFactory.createRow(J,V,V===G,D,B,ee,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${R}${this._terminalClass}`}_handleLinkHover($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!0)}_handleLinkLeave($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!1)}_setCellUnderline($,Z,K,G,ee,z){K<0&&($=0),G<0&&(Z=0);const D=this._bufferService.rows-1;K=Math.max(Math.min(K,D),0),G=Math.max(Math.min(G,D),0),ee=Math.min(ee,this._bufferService.cols);const B=this._bufferService.buffer,L=B.ybase+B.y,V=Math.min(B.x,ee-1),Y=this._optionsService.rawOptions.cursorBlink,J=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let se=K;se<=G;++se){const U=se+B.ydisp,O=this._rowElements[se],ne=B.lines.get(U);if(!O||!ne)break;O.replaceChildren(...this._rowFactory.createRow(ne,U,U===L,J,q,V,Y,this.dimensions.css.cell.width,this._widthCache,z?se===K?$:0:-1,z?(se===G?Z:ee)-1:-1))}}};o.DomRenderer=W=h([g(7,E.IInstantiationService),g(8,v.ICharSizeService),g(9,E.IOptionsService),g(10,E.IBufferService),g(11,v.ICoreBrowserService),g(12,v.IThemeService)],W)},3787:function(f,o,c){var h=this&&this.__decorate||function(N,T,j,M){var F,H=arguments.length,W=H<3?T:M===null?M=Object.getOwnPropertyDescriptor(T,j):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(N,T,j,M);else for(var $=N.length-1;$>=0;$--)(F=N[$])&&(W=(H<3?F(W):H>3?F(T,j,W):F(T,j))||W);return H>3&&W&&Object.defineProperty(T,j,W),W},g=this&&this.__param||function(N,T){return function(j,M){T(j,M,N)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const d=c(2223),x=c(643),b=c(511),k=c(2585),S=c(8055),v=c(4725),y=c(4269),p=c(6171),_=c(3734);let E=o.DomRendererRowFactory=class{constructor(N,T,j,M,F,H,W){this._document=N,this._characterJoinerService=T,this._optionsService=j,this._coreBrowserService=M,this._coreService=F,this._decorationService=H,this._themeService=W,this._workCell=new b.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(N,T,j){this._selectionStart=N,this._selectionEnd=T,this._columnSelectMode=j}createRow(N,T,j,M,F,H,W,$,Z,K,G){const ee=[],z=this._characterJoinerService.getJoinedCharacters(T),D=this._themeService.colors;let B,L=N.getNoBgTrimmedLength();j&&L<H+1&&(L=H+1);let V=0,Y="",J=0,q=0,se=0,U=!1,O=0,ne=!1,re=0;const ce=[],le=K!==-1&&G!==-1;for(let Pe=0;Pe<L;Pe++){N.loadCell(Pe,this._workCell);let Ie=this._workCell.getWidth();if(Ie===0)continue;let ze=!1,Ye=Pe,he=this._workCell;if(z.length>0&&Pe===z[0][0]){ze=!0;const We=z.shift();he=new y.JoinedCellData(this._workCell,N.translateToString(!0,We[0],We[1]),We[1]-We[0]),Ye=We[1]-1,Ie=he.getWidth()}const Me=this._isCellInSelection(Pe,T),Fe=j&&Pe===H,qe=le&&Pe>=K&&Pe<=G;let Et=!1;this._decorationService.forEachDecorationAtCell(Pe,T,void 0,(We=>{Et=!0}));let Xe=he.getChars()||x.WHITESPACE_CELL_CHAR;if(Xe===" "&&(he.isUnderline()||he.isOverline())&&(Xe=""),re=Ie*$-Z.get(Xe,he.isBold(),he.isItalic()),B){if(V&&(Me&&ne||!Me&&!ne&&he.bg===J)&&(Me&&ne&&D.selectionForeground||he.fg===q)&&he.extended.ext===se&&qe===U&&re===O&&!Fe&&!ze&&!Et){he.isInvisible()?Y+=x.WHITESPACE_CELL_CHAR:Y+=Xe,V++;continue}V&&(B.textContent=Y),B=this._document.createElement("span"),V=0,Y=""}else B=this._document.createElement("span");if(J=he.bg,q=he.fg,se=he.extended.ext,U=qe,O=re,ne=Me,ze&&H>=Pe&&H<=Ye&&(H=Pe),!this._coreService.isCursorHidden&&Fe&&this._coreService.isCursorInitialized){if(ce.push("xterm-cursor"),this._coreBrowserService.isFocused)W&&ce.push("xterm-cursor-blink"),ce.push(M==="bar"?"xterm-cursor-bar":M==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(F)switch(F){case"outline":ce.push("xterm-cursor-outline");break;case"block":ce.push("xterm-cursor-block");break;case"bar":ce.push("xterm-cursor-bar");break;case"underline":ce.push("xterm-cursor-underline")}}if(he.isBold()&&ce.push("xterm-bold"),he.isItalic()&&ce.push("xterm-italic"),he.isDim()&&ce.push("xterm-dim"),Y=he.isInvisible()?x.WHITESPACE_CELL_CHAR:he.getChars()||x.WHITESPACE_CELL_CHAR,he.isUnderline()&&(ce.push(`xterm-underline-${he.extended.underlineStyle}`),Y===" "&&(Y=""),!he.isUnderlineColorDefault()))if(he.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(he.getUnderlineColor()).join(",")})`;else{let We=he.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&he.isBold()&&We<8&&(We+=8),B.style.textDecorationColor=D.ansi[We].css}he.isOverline()&&(ce.push("xterm-overline"),Y===" "&&(Y="")),he.isStrikethrough()&&ce.push("xterm-strikethrough"),qe&&(B.style.textDecoration="underline");let at=he.getFgColor(),Qr=he.getFgColorMode(),qt=he.getBgColor(),ar=he.getBgColorMode();const ms=!!he.isInverse();if(ms){const We=at;at=qt,qt=We;const Yn=Qr;Qr=ar,ar=Yn}let Bt,Ir,dt,Jt=!1;switch(this._decorationService.forEachDecorationAtCell(Pe,T,void 0,(We=>{We.options.layer!=="top"&&Jt||(We.backgroundColorRGB&&(ar=50331648,qt=We.backgroundColorRGB.rgba>>8&16777215,Bt=We.backgroundColorRGB),We.foregroundColorRGB&&(Qr=50331648,at=We.foregroundColorRGB.rgba>>8&16777215,Ir=We.foregroundColorRGB),Jt=We.options.layer==="top")})),!Jt&&Me&&(Bt=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,qt=Bt.rgba>>8&16777215,ar=50331648,Jt=!0,D.selectionForeground&&(Qr=50331648,at=D.selectionForeground.rgba>>8&16777215,Ir=D.selectionForeground)),Jt&&ce.push("xterm-decoration-top"),ar){case 16777216:case 33554432:dt=D.ansi[qt],ce.push(`xterm-bg-${qt}`);break;case 50331648:dt=S.channels.toColor(qt>>16,qt>>8&255,255&qt),this._addStyle(B,`background-color:#${R((qt>>>0).toString(16),"0",6)}`);break;default:ms?(dt=D.foreground,ce.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):dt=D.background}switch(Bt||he.isDim()&&(Bt=S.color.multiplyOpacity(dt,.5)),Qr){case 16777216:case 33554432:he.isBold()&&at<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(at+=8),this._applyMinimumContrast(B,dt,D.ansi[at],he,Bt,void 0)||ce.push(`xterm-fg-${at}`);break;case 50331648:const We=S.channels.toColor(at>>16&255,at>>8&255,255&at);this._applyMinimumContrast(B,dt,We,he,Bt,Ir)||this._addStyle(B,`color:#${R(at.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,dt,D.foreground,he,Bt,Ir)||ms&&ce.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}ce.length&&(B.className=ce.join(" "),ce.length=0),Fe||ze||Et?B.textContent=Y:V++,re!==this.defaultSpacing&&(B.style.letterSpacing=`${re}px`),ee.push(B),Pe=Ye}return B&&V&&(B.textContent=Y),ee}_applyMinimumContrast(N,T,j,M,F,H){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,p.treatGlyphAsBackgroundColor)(M.getCode()))return!1;const W=this._getContrastCache(M);let $;if(F||H||($=W.getColor(T.rgba,j.rgba)),$===void 0){const Z=this._optionsService.rawOptions.minimumContrastRatio/(M.isDim()?2:1);$=S.color.ensureContrastRatio(F||T,H||j,Z),W.setColor((F||T).rgba,(H||j).rgba,$??null)}return!!$&&(this._addStyle(N,`color:${$.css}`),!0)}_getContrastCache(N){return N.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(N,T){N.setAttribute("style",`${N.getAttribute("style")||""}${T};`)}_isCellInSelection(N,T){const j=this._selectionStart,M=this._selectionEnd;return!(!j||!M)&&(this._columnSelectMode?j[0]<=M[0]?N>=j[0]&&T>=j[1]&&N<M[0]&&T<=M[1]:N<j[0]&&T>=j[1]&&N>=M[0]&&T<=M[1]:T>j[1]&&T<M[1]||j[1]===M[1]&&T===j[1]&&N>=j[0]&&N<M[0]||j[1]<M[1]&&T===M[1]&&N<M[0]||j[1]<M[1]&&T===j[1]&&N>=j[0])}};function R(N,T,j){for(;N.length<j;)N=T+N;return N}o.DomRendererRowFactory=E=h([g(1,v.ICharacterJoinerService),g(2,k.IOptionsService),g(3,v.ICoreBrowserService),g(4,k.ICoreService),g(5,k.IDecorationService),g(6,v.IThemeService)],E)},2550:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(c,h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const g=c.createElement("span");g.classList.add("xterm-char-measure-element");const d=c.createElement("span");d.classList.add("xterm-char-measure-element"),d.style.fontWeight="bold";const x=c.createElement("span");x.classList.add("xterm-char-measure-element"),x.style.fontStyle="italic";const b=c.createElement("span");b.classList.add("xterm-char-measure-element"),b.style.fontWeight="bold",b.style.fontStyle="italic",this._measureElements=[g,d,x,b],this._container.appendChild(g),this._container.appendChild(d),this._container.appendChild(x),this._container.appendChild(b),h.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,h,g,d){c===this._font&&h===this._fontSize&&g===this._weight&&d===this._weightBold||(this._font=c,this._fontSize=h,this._weight=g,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(c,h,g){let d=0;if(!h&&!g&&c.length===1&&(d=c.charCodeAt(0))<256){if(this._flat[d]!==-9999)return this._flat[d];const k=this._measure(c,0);return k>0&&(this._flat[d]=k),k}let x=c;h&&(x+="B"),g&&(x+="I");let b=this._holey.get(x);if(b===void 0){let k=0;h&&(k|=1),g&&(k|=2),b=this._measure(c,k),b>0&&this._holey.set(x,b)}return b}_measure(c,h){const g=this._measureElements[h];return g.textContent=c.repeat(32),g.offsetWidth/32}}},2223:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const h=c(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(f,o)=>{function c(g){return 57508<=g&&g<=57558}function h(g){return g>=128512&&g<=128591||g>=127744&&g<=128511||g>=128640&&g<=128767||g>=9728&&g<=9983||g>=9984&&g<=10175||g>=65024&&g<=65039||g>=129280&&g<=129535||g>=127462&&g<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},o.isPowerlineGlyph=c,o.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},o.isEmoji=h,o.allowRescaling=function(g,d,x,b){return d===1&&x>Math.ceil(1.5*b)&&g!==void 0&&g>255&&!h(g)&&!c(g)&&!(function(k){return 57344<=k&&k<=63743})(g)},o.treatGlyphAsBackgroundColor=function(g){return c(g)||(function(d){return 9472<=d&&d<=9631})(g)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(g,d,x=0){return(g-(2*Math.round(d)-x))%(2*Math.round(d))}},6052:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class c{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(g,d,x,b=!1){if(this.selectionStart=d,this.selectionEnd=x,!d||!x||d[0]===x[0]&&d[1]===x[1])return void this.clear();const k=g.buffers.active.ydisp,S=d[1]-k,v=x[1]-k,y=Math.max(S,0),p=Math.min(v,g.rows-1);y>=g.rows||p<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=b,this.viewportStartRow=S,this.viewportEndRow=v,this.viewportCappedStartRow=y,this.viewportCappedEndRow=p,this.startCol=d[0],this.endCol=x[0])}isCellSelected(g,d,x){return!!this.hasSelection&&(x-=g.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?d>=this.startCol&&x>=this.viewportCappedStartRow&&d<this.endCol&&x<=this.viewportCappedEndRow:d<this.startCol&&x>=this.viewportCappedStartRow&&d>=this.endCol&&x<=this.viewportCappedEndRow:x>this.viewportStartRow&&x<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&x===this.viewportStartRow&&d>=this.startCol&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportEndRow&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportStartRow&&d>=this.startCol)}}o.createSelectionRenderModel=function(){return new c}},456:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,h=this.selectionEnd;return!(!c||!h)&&(c[1]>h[1]||c[1]===h[1]&&c[0]>h[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(f,o,c){var h=this&&this.__decorate||function(p,_,E,R){var N,T=arguments.length,j=T<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,_,E,R);else for(var M=p.length-1;M>=0;M--)(N=p[M])&&(j=(T<3?N(j):T>3?N(_,E,j):N(_,E))||j);return T>3&&j&&Object.defineProperty(_,E,j),j},g=this&&this.__param||function(p,_){return function(E,R){_(E,R,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const d=c(2585),x=c(8460),b=c(844);let k=o.CharSizeService=class extends b.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(p,_,E){super(),this._optionsService=E,this.width=0,this.height=0,this._onCharSizeChange=this.register(new x.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new y(this._optionsService))}catch{this._measureStrategy=this.register(new v(p,_,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())}};o.CharSizeService=k=h([g(2,d.IOptionsService)],k);class S extends b.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(_,E){_!==void 0&&_>0&&E!==void 0&&E>0&&(this._result.width=_,this._result.height=E)}}class v extends S{constructor(_,E,R){super(),this._document=_,this._parentElement=E,this._optionsService=R,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class y extends S{constructor(_){super(),this._optionsService=_,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const E=this._ctx.measureText("W");if(!("width"in E&&"fontBoundingBoxAscent"in E&&"fontBoundingBoxDescent"in E))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const _=this._ctx.measureText("W");return this._validateAndSet(_.width,_.fontBoundingBoxAscent+_.fontBoundingBoxDescent),this._result}}},4269:function(f,o,c){var h=this&&this.__decorate||function(y,p,_,E){var R,N=arguments.length,T=N<3?p:E===null?E=Object.getOwnPropertyDescriptor(p,_):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,p,_,E);else for(var j=y.length-1;j>=0;j--)(R=y[j])&&(T=(N<3?R(T):N>3?R(p,_,T):R(p,_))||T);return N>3&&T&&Object.defineProperty(p,_,T),T},g=this&&this.__param||function(y,p){return function(_,E){p(_,E,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const d=c(3734),x=c(643),b=c(511),k=c(2585);class S extends d.AttributeData{constructor(p,_,E){super(),this.content=0,this.combinedData="",this.fg=p.fg,this.bg=p.bg,this.combinedData=_,this._width=E}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(p){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=S;let v=o.CharacterJoinerService=class j1{constructor(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(p){const _={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(_),_.id}deregister(p){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===p)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(p){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(p);if(!_||_.length===0)return[];const E=[],R=_.translateToString(!0);let N=0,T=0,j=0,M=_.getFg(0),F=_.getBg(0);for(let H=0;H<_.getTrimmedLength();H++)if(_.loadCell(H,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==F){if(H-N>1){const W=this._getJoinedRanges(R,j,T,_,N);for(let $=0;$<W.length;$++)E.push(W[$])}N=H,j=T,M=this._workCell.fg,F=this._workCell.bg}T+=this._workCell.getChars().length||x.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-N>1){const H=this._getJoinedRanges(R,j,T,_,N);for(let W=0;W<H.length;W++)E.push(H[W])}return E}_getJoinedRanges(p,_,E,R,N){const T=p.substring(_,E);let j=[];try{j=this._characterJoiners[0].handler(T)}catch(M){console.error(M)}for(let M=1;M<this._characterJoiners.length;M++)try{const F=this._characterJoiners[M].handler(T);for(let H=0;H<F.length;H++)j1._mergeRanges(j,F[H])}catch(F){console.error(F)}return this._stringRangesToCellRanges(j,R,N),j}_stringRangesToCellRanges(p,_,E){let R=0,N=!1,T=0,j=p[R];if(j){for(let M=E;M<this._bufferService.cols;M++){const F=_.getWidth(M),H=_.getString(M).length||x.WHITESPACE_CELL_CHAR.length;if(F!==0){if(!N&&j[0]<=T&&(j[0]=M,N=!0),j[1]<=T){if(j[1]=M,j=p[++R],!j)break;j[0]<=T?(j[0]=M,N=!0):N=!1}T+=H}}j&&(j[1]=this._bufferService.cols)}}static _mergeRanges(p,_){let E=!1;for(let R=0;R<p.length;R++){const N=p[R];if(E){if(_[1]<=N[0])return p[R-1][1]=_[1],p;if(_[1]<=N[1])return p[R-1][1]=Math.max(_[1],N[1]),p.splice(R,1),p;p.splice(R,1),R--}else{if(_[1]<=N[0])return p.splice(R,0,_),p;if(_[1]<=N[1])return N[0]=Math.min(_[0],N[0]),p;_[0]<N[1]&&(N[0]=Math.min(_[0],N[0]),E=!0)}}return E?p[p.length-1][1]=_[1]:p.push(_),p}};o.CharacterJoinerService=v=h([g(0,k.IBufferService)],v)},5114:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const h=c(844),g=c(8460),d=c(3656);class x extends h.Disposable{constructor(S,v,y){super(),this._textarea=S,this._window=v,this.mainDocument=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new b(this._window),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new g.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((p=>this._screenDprMonitor.setWindow(p)))),this.register((0,g.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(S){this._window!==S&&(this._window=S,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}o.CoreBrowserService=x;class b extends h.Disposable{constructor(S){super(),this._parentWindow=S,this._windowResizeListener=this.register(new h.MutableDisposable),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,h.toDisposable)((()=>this.clearListener())))}setWindow(S){this._parentWindow=S,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,d.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)==null||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const h=c(844);class g extends h.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,h.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(x){return this.linkProviders.push(x),{dispose:()=>{const b=this.linkProviders.indexOf(x);b!==-1&&this.linkProviders.splice(b,1)}}}}o.LinkProviderService=g},8934:function(f,o,c){var h=this&&this.__decorate||function(k,S,v,y){var p,_=arguments.length,E=_<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(k,S,v,y);else for(var R=k.length-1;R>=0;R--)(p=k[R])&&(E=(_<3?p(E):_>3?p(S,v,E):p(S,v))||E);return _>3&&E&&Object.defineProperty(S,v,E),E},g=this&&this.__param||function(k,S){return function(v,y){S(v,y,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const d=c(4725),x=c(9806);let b=o.MouseService=class{constructor(k,S){this._renderService=k,this._charSizeService=S}getCoords(k,S,v,y,p){return(0,x.getCoords)(window,k,S,v,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,p)}getMouseReportCoords(k,S){const v=(0,x.getCoordsRelativeToElement)(window,k,S);if(this._charSizeService.hasValidSize)return v[0]=Math.min(Math.max(v[0],0),this._renderService.dimensions.css.canvas.width-1),v[1]=Math.min(Math.max(v[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(v[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(v[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(v[0]),y:Math.floor(v[1])}}};o.MouseService=b=h([g(0,d.IRenderService),g(1,d.ICharSizeService)],b)},3230:function(f,o,c){var h=this&&this.__decorate||function(p,_,E,R){var N,T=arguments.length,j=T<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,_,E,R);else for(var M=p.length-1;M>=0;M--)(N=p[M])&&(j=(T<3?N(j):T>3?N(_,E,j):N(_,E))||j);return T>3&&j&&Object.defineProperty(_,E,j),j},g=this&&this.__param||function(p,_){return function(E,R){_(E,R,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const d=c(6193),x=c(4725),b=c(8460),k=c(844),S=c(7226),v=c(2585);let y=o.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(p,_,E,R,N,T,j,M){super(),this._rowCount=p,this._charSizeService=R,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new S.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new d.RenderDebouncer(((F,H)=>this._renderRows(F,H)),j),this.register(this._renderDebouncer),this.register(j.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var F;return(F=this._renderer.value)==null?void 0:F.clear()}))),this.register(E.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(N.onDecorationRegistered((()=>this._fullRefresh()))),this.register(N.onDecorationRemoved((()=>this._fullRefresh()))),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register(M.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(j.window,_),this.register(j.onWindowChange((F=>this._registerIntersectionObserver(F,_))))}_registerIntersectionObserver(p,_){if("IntersectionObserver"in p){const E=new p.IntersectionObserver((R=>this._handleIntersectionChange(R[R.length-1])),{threshold:0});E.observe(_),this._observerDisposable.value=(0,k.toDisposable)((()=>E.disconnect()))}}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,_,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,_,this._rowCount))}_renderRows(p,_){this._renderer.value&&(p=Math.min(p,this._rowCount-1),_=Math.min(_,this._rowCount-1),this._renderer.value.renderRows(p,_),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:_}),this._onRender.fire({start:p,end:_}),this._isNextRenderRedrawOnly=!0)}resize(p,_){this._rowCount=_,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(p){this._renderer.value=p,this._renderer.value&&(this._renderer.value.onRequestRedraw((_=>this.refreshRows(_.start,_.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,_;this._renderer.value&&((_=(p=this._renderer.value).clearTextureAtlas)==null||_.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,_){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var E;return(E=this._renderer.value)==null?void 0:E.handleResize(p,_)})):this._renderer.value.handleResize(p,_),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer.value)==null||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer.value)==null||p.handleBlur()}handleFocus(){var p;(p=this._renderer.value)==null||p.handleFocus()}handleSelectionChanged(p,_,E){var R;this._selectionState.start=p,this._selectionState.end=_,this._selectionState.columnSelectMode=E,(R=this._renderer.value)==null||R.handleSelectionChanged(p,_,E)}handleCursorMove(){var p;(p=this._renderer.value)==null||p.handleCursorMove()}clear(){var p;(p=this._renderer.value)==null||p.clear()}};o.RenderService=y=h([g(2,v.IOptionsService),g(3,x.ICharSizeService),g(4,v.IDecorationService),g(5,v.IBufferService),g(6,x.ICoreBrowserService),g(7,x.IThemeService)],y)},9312:function(f,o,c){var h=this&&this.__decorate||function(j,M,F,H){var W,$=arguments.length,Z=$<3?M:H===null?H=Object.getOwnPropertyDescriptor(M,F):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(j,M,F,H);else for(var K=j.length-1;K>=0;K--)(W=j[K])&&(Z=($<3?W(Z):$>3?W(M,F,Z):W(M,F))||Z);return $>3&&Z&&Object.defineProperty(M,F,Z),Z},g=this&&this.__param||function(j,M){return function(F,H){M(F,H,j)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const d=c(9806),x=c(9504),b=c(456),k=c(4725),S=c(8460),v=c(844),y=c(6114),p=c(4841),_=c(511),E=c(2585),R="",N=new RegExp(R,"g");let T=o.SelectionService=class extends v.Disposable{constructor(j,M,F,H,W,$,Z,K,G){super(),this._element=j,this._screenElement=M,this._linkifier=F,this._bufferService=H,this._coreService=W,this._mouseService=$,this._optionsService=Z,this._renderService=K,this._coreBrowserService=G,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((ee=>this._handleTrim(ee))),this.register(this._bufferService.buffers.onBufferActivate((ee=>this._handleBufferActivate(ee)))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,v.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const j=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!j||!M||j[0]===M[0]&&j[1]===M[1])}get selectionText(){const j=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;if(!j||!M)return"";const F=this._bufferService.buffer,H=[];if(this._activeSelectionMode===3){if(j[0]===M[0])return"";const W=j[0]<M[0]?j[0]:M[0],$=j[0]<M[0]?M[0]:j[0];for(let Z=j[1];Z<=M[1];Z++){const K=F.translateBufferLineToString(Z,!0,W,$);H.push(K)}}else{const W=j[1]===M[1]?M[0]:void 0;H.push(F.translateBufferLineToString(j[1],!0,j[0],W));for(let $=j[1]+1;$<=M[1]-1;$++){const Z=F.lines.get($),K=F.translateBufferLineToString($,!0);Z!=null&&Z.isWrapped?H[H.length-1]+=K:H.push(K)}if(j[1]!==M[1]){const $=F.lines.get(M[1]),Z=F.translateBufferLineToString(M[1],!0,0,M[0]);$&&$.isWrapped?H[H.length-1]+=Z:H.push(Z)}}return H.map((W=>W.replace(N," "))).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(j){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),y.isLinux&&j&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(j){const M=this._getMouseBufferCoords(j),F=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!!(F&&H&&M)&&this._areCoordsInSelection(M,F,H)}isCellInSelection(j,M){const F=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!(!F||!H)&&this._areCoordsInSelection([j,M],F,H)}_areCoordsInSelection(j,M,F){return j[1]>M[1]&&j[1]<F[1]||M[1]===F[1]&&j[1]===M[1]&&j[0]>=M[0]&&j[0]<F[0]||M[1]<F[1]&&j[1]===F[1]&&j[0]<F[0]||M[1]<F[1]&&j[1]===M[1]&&j[0]>=M[0]}_selectWordAtCursor(j,M){var W,$;const F=($=(W=this._linkifier.currentLink)==null?void 0:W.link)==null?void 0:$.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const H=this._getMouseBufferCoords(j);return!!H&&(this._selectWordAt(H,M),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(j,M){this._model.clearSelection(),j=Math.max(j,0),M=Math.min(M,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,j],this._model.selectionEnd=[this._bufferService.cols,M],this.refresh(),this._onSelectionChange.fire()}_handleTrim(j){this._model.handleTrim(j)&&this.refresh()}_getMouseBufferCoords(j){const M=this._mouseService.getCoords(j,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(M)return M[0]--,M[1]--,M[1]+=this._bufferService.buffer.ydisp,M}_getMouseEventScrollAmount(j){let M=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,j,this._screenElement)[1];const F=this._renderService.dimensions.css.canvas.height;return M>=0&&M<=F?0:(M>F&&(M-=F),M=Math.min(Math.max(M,-50),50),M/=50,M/Math.abs(M)+Math.round(14*M))}shouldForceSelection(j){return y.isMac?j.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:j.shiftKey}handleMouseDown(j){if(this._mouseDownTimeStamp=j.timeStamp,(j.button!==2||!this.hasSelection)&&j.button===0){if(!this._enabled){if(!this.shouldForceSelection(j))return;j.stopPropagation()}j.preventDefault(),this._dragScrollAmount=0,this._enabled&&j.shiftKey?this._handleIncrementalClick(j):j.detail===1?this._handleSingleClick(j):j.detail===2?this._handleDoubleClick(j):j.detail===3&&this._handleTripleClick(j),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(j){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(j))}_handleSingleClick(j){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(j)?3:0,this._model.selectionStart=this._getMouseBufferCoords(j),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const M=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);M&&M.length!==this._model.selectionStart[0]&&M.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(j){this._selectWordAtCursor(j,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(j){const M=this._getMouseBufferCoords(j);M&&(this._activeSelectionMode=2,this._selectLineAt(M[1]))}shouldColumnSelect(j){return j.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(j){if(j.stopImmediatePropagation(),!this._model.selectionStart)return;const M=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(j),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(j),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const F=this._bufferService.buffer;if(this._model.selectionEnd[1]<F.lines.length){const H=F.lines.get(this._model.selectionEnd[1]);H&&H.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}M&&M[0]===this._model.selectionEnd[0]&&M[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const j=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(j.ydisp+this._bufferService.rows,j.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=j.ydisp),this.refresh()}}_handleMouseUp(j){const M=j.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&M<500&&j.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const F=this._mouseService.getCoords(j,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(F&&F[0]!==void 0&&F[1]!==void 0){const H=(0,x.moveToCellSequence)(F[0]-1,F[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(H,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const j=this._model.finalSelectionStart,M=this._model.finalSelectionEnd,F=!(!j||!M||j[0]===M[0]&&j[1]===M[1]);F?j&&M&&(this._oldSelectionStart&&this._oldSelectionEnd&&j[0]===this._oldSelectionStart[0]&&j[1]===this._oldSelectionStart[1]&&M[0]===this._oldSelectionEnd[0]&&M[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(j,M,F)):this._oldHasSelection&&this._fireOnSelectionChange(j,M,F)}_fireOnSelectionChange(j,M,F){this._oldSelectionStart=j,this._oldSelectionEnd=M,this._oldHasSelection=F,this._onSelectionChange.fire()}_handleBufferActivate(j){this.clearSelection(),this._trimListener.dispose(),this._trimListener=j.activeBuffer.lines.onTrim((M=>this._handleTrim(M)))}_convertViewportColToCharacterIndex(j,M){let F=M;for(let H=0;M>=H;H++){const W=j.loadCell(H,this._workCell).getChars().length;this._workCell.getWidth()===0?F--:W>1&&M!==H&&(F+=W-1)}return F}setSelection(j,M,F){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[j,M],this._model.selectionStartLength=F,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(j){this._isClickInSelection(j)||(this._selectWordAtCursor(j,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(j,M,F=!0,H=!0){if(j[0]>=this._bufferService.cols)return;const W=this._bufferService.buffer,$=W.lines.get(j[1]);if(!$)return;const Z=W.translateBufferLineToString(j[1],!1);let K=this._convertViewportColToCharacterIndex($,j[0]),G=K;const ee=j[0]-K;let z=0,D=0,B=0,L=0;if(Z.charAt(K)===" "){for(;K>0&&Z.charAt(K-1)===" ";)K--;for(;G<Z.length&&Z.charAt(G+1)===" ";)G++}else{let J=j[0],q=j[0];$.getWidth(J)===0&&(z++,J--),$.getWidth(q)===2&&(D++,q++);const se=$.getString(q).length;for(se>1&&(L+=se-1,G+=se-1);J>0&&K>0&&!this._isCharWordSeparator($.loadCell(J-1,this._workCell));){$.loadCell(J-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,J--):U>1&&(B+=U-1,K-=U-1),K--,J--}for(;q<$.length&&G+1<Z.length&&!this._isCharWordSeparator($.loadCell(q+1,this._workCell));){$.loadCell(q+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,q++):U>1&&(L+=U-1,G+=U-1),G++,q++}}G++;let V=K+ee-z+B,Y=Math.min(this._bufferService.cols,G-K+z+D-B-L);if(M||Z.slice(K,G).trim()!==""){if(F&&V===0&&$.getCodePoint(0)!==32){const J=W.lines.get(j[1]-1);if(J&&$.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,j[1]-1],!1,!0,!1);if(q){const se=this._bufferService.cols-q.start;V-=se,Y+=se}}}if(H&&V+Y===this._bufferService.cols&&$.getCodePoint(this._bufferService.cols-1)!==32){const J=W.lines.get(j[1]+1);if(J!=null&&J.isWrapped&&J.getCodePoint(0)!==32){const q=this._getWordAt([0,j[1]+1],!1,!1,!0);q&&(Y+=q.length)}}return{start:V,length:Y}}}_selectWordAt(j,M){const F=this._getWordAt(j,M);if(F){for(;F.start<0;)F.start+=this._bufferService.cols,j[1]--;this._model.selectionStart=[F.start,j[1]],this._model.selectionStartLength=F.length}}_selectToWordAt(j){const M=this._getWordAt(j,!0);if(M){let F=j[1];for(;M.start<0;)M.start+=this._bufferService.cols,F--;if(!this._model.areSelectionValuesReversed())for(;M.start+M.length>this._bufferService.cols;)M.length-=this._bufferService.cols,F++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?M.start:M.start+M.length,F]}}_isCharWordSeparator(j){return j.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(j.getChars())>=0}_selectLineAt(j){const M=this._bufferService.buffer.getWrappedRangeForLine(j),F={start:{x:0,y:M.first},end:{x:this._bufferService.cols-1,y:M.last}};this._model.selectionStart=[0,M.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(F,this._bufferService.cols)}};o.SelectionService=T=h([g(3,E.IBufferService),g(4,E.ICoreService),g(5,k.IMouseService),g(6,E.IOptionsService),g(7,k.IRenderService),g(8,k.ICoreBrowserService)],T)},4725:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const h=c(8343);o.ICharSizeService=(0,h.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),o.IMouseService=(0,h.createDecorator)("MouseService"),o.IRenderService=(0,h.createDecorator)("RenderService"),o.ISelectionService=(0,h.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,h.createDecorator)("ThemeService"),o.ILinkProviderService=(0,h.createDecorator)("LinkProviderService")},6731:function(f,o,c){var h=this&&this.__decorate||function(T,j,M,F){var H,W=arguments.length,$=W<3?j:F===null?F=Object.getOwnPropertyDescriptor(j,M):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(T,j,M,F);else for(var Z=T.length-1;Z>=0;Z--)(H=T[Z])&&($=(W<3?H($):W>3?H(j,M,$):H(j,M))||$);return W>3&&$&&Object.defineProperty(j,M,$),$},g=this&&this.__param||function(T,j){return function(M,F){j(M,F,T)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const d=c(7239),x=c(8055),b=c(8460),k=c(844),S=c(2585),v=x.css.toColor("#ffffff"),y=x.css.toColor("#000000"),p=x.css.toColor("#ffffff"),_=x.css.toColor("#000000"),E={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[x.css.toColor("#2e3436"),x.css.toColor("#cc0000"),x.css.toColor("#4e9a06"),x.css.toColor("#c4a000"),x.css.toColor("#3465a4"),x.css.toColor("#75507b"),x.css.toColor("#06989a"),x.css.toColor("#d3d7cf"),x.css.toColor("#555753"),x.css.toColor("#ef2929"),x.css.toColor("#8ae234"),x.css.toColor("#fce94f"),x.css.toColor("#729fcf"),x.css.toColor("#ad7fa8"),x.css.toColor("#34e2e2"),x.css.toColor("#eeeeec")],j=[0,95,135,175,215,255];for(let M=0;M<216;M++){const F=j[M/36%6|0],H=j[M/6%6|0],W=j[M%6];T.push({css:x.channels.toCss(F,H,W),rgba:x.channels.toRgba(F,H,W)})}for(let M=0;M<24;M++){const F=8+10*M;T.push({css:x.channels.toCss(F,F,F),rgba:x.channels.toRgba(F,F,F)})}return T})());let R=o.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(T){super(),this._optionsService=T,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:y,cursor:p,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:E,selectionBackgroundOpaque:x.color.blend(y,E),selectionInactiveBackgroundTransparent:E,selectionInactiveBackgroundOpaque:x.color.blend(y,E),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(T={}){const j=this._colors;if(j.foreground=N(T.foreground,v),j.background=N(T.background,y),j.cursor=N(T.cursor,p),j.cursorAccent=N(T.cursorAccent,_),j.selectionBackgroundTransparent=N(T.selectionBackground,E),j.selectionBackgroundOpaque=x.color.blend(j.background,j.selectionBackgroundTransparent),j.selectionInactiveBackgroundTransparent=N(T.selectionInactiveBackground,j.selectionBackgroundTransparent),j.selectionInactiveBackgroundOpaque=x.color.blend(j.background,j.selectionInactiveBackgroundTransparent),j.selectionForeground=T.selectionForeground?N(T.selectionForeground,x.NULL_COLOR):void 0,j.selectionForeground===x.NULL_COLOR&&(j.selectionForeground=void 0),x.color.isOpaque(j.selectionBackgroundTransparent)&&(j.selectionBackgroundTransparent=x.color.opacity(j.selectionBackgroundTransparent,.3)),x.color.isOpaque(j.selectionInactiveBackgroundTransparent)&&(j.selectionInactiveBackgroundTransparent=x.color.opacity(j.selectionInactiveBackgroundTransparent,.3)),j.ansi=o.DEFAULT_ANSI_COLORS.slice(),j.ansi[0]=N(T.black,o.DEFAULT_ANSI_COLORS[0]),j.ansi[1]=N(T.red,o.DEFAULT_ANSI_COLORS[1]),j.ansi[2]=N(T.green,o.DEFAULT_ANSI_COLORS[2]),j.ansi[3]=N(T.yellow,o.DEFAULT_ANSI_COLORS[3]),j.ansi[4]=N(T.blue,o.DEFAULT_ANSI_COLORS[4]),j.ansi[5]=N(T.magenta,o.DEFAULT_ANSI_COLORS[5]),j.ansi[6]=N(T.cyan,o.DEFAULT_ANSI_COLORS[6]),j.ansi[7]=N(T.white,o.DEFAULT_ANSI_COLORS[7]),j.ansi[8]=N(T.brightBlack,o.DEFAULT_ANSI_COLORS[8]),j.ansi[9]=N(T.brightRed,o.DEFAULT_ANSI_COLORS[9]),j.ansi[10]=N(T.brightGreen,o.DEFAULT_ANSI_COLORS[10]),j.ansi[11]=N(T.brightYellow,o.DEFAULT_ANSI_COLORS[11]),j.ansi[12]=N(T.brightBlue,o.DEFAULT_ANSI_COLORS[12]),j.ansi[13]=N(T.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),j.ansi[14]=N(T.brightCyan,o.DEFAULT_ANSI_COLORS[14]),j.ansi[15]=N(T.brightWhite,o.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const M=Math.min(j.ansi.length-16,T.extendedAnsi.length);for(let F=0;F<M;F++)j.ansi[F+16]=N(T.extendedAnsi[F],o.DEFAULT_ANSI_COLORS[F+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let j=0;j<this._restoreColors.ansi.length;++j)this._colors.ansi[j]=this._restoreColors.ansi[j]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function N(T,j){if(T!==void 0)try{return x.css.toColor(T)}catch{}return j}o.ThemeService=R=h([g(0,S.IOptionsService)],R)},6349:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const h=c(8460),g=c(844);class d extends g.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const k=new Array(b);for(let S=0;S<Math.min(b,this.length);S++)k[S]=this._array[this._getCyclicIndex(S)];this._array=k,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let k=this._length;k<b;k++)this._array[k]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,k){this._array[this._getCyclicIndex(b)]=k}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,k,...S){if(k){for(let v=b;v<this._length-k;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+k)];this._length-=k,this.onDeleteEmitter.fire({index:b,amount:k})}for(let v=this._length-1;v>=b;v--)this._array[this._getCyclicIndex(v+S.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<S.length;v++)this._array[this._getCyclicIndex(b+v)]=S[v];if(S.length&&this.onInsertEmitter.fire({index:b,amount:S.length}),this._length+S.length>this._maxLength){const v=this._length+S.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=S.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,k,S){if(!(k<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let y=k-1;y>=0;y--)this.set(b+y+S,this.get(b+y));const v=b+k+S-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<k;v++)this.set(b+v+S,this.get(b+v))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}o.CircularList=d},1439:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function c(h,g=5){if(typeof h!="object")return h;const d=Array.isArray(h)?[]:{};for(const x in h)d[x]=g<=1?h[x]:h[x]&&c(h[x],g-1);return d}},8055:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let c=0,h=0,g=0,d=0;var x,b,k,S,v;function y(_){const E=_.toString(16);return E.length<2?"0"+E:E}function p(_,E){return _<E?(E+.05)/(_+.05):(_+.05)/(E+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},(function(_){_.toCss=function(E,R,N,T){return T!==void 0?`#${y(E)}${y(R)}${y(N)}${y(T)}`:`#${y(E)}${y(R)}${y(N)}`},_.toRgba=function(E,R,N,T=255){return(E<<24|R<<16|N<<8|T)>>>0},_.toColor=function(E,R,N,T){return{css:_.toCss(E,R,N,T),rgba:_.toRgba(E,R,N,T)}}})(x||(o.channels=x={})),(function(_){function E(R,N){return d=Math.round(255*N),[c,h,g]=v.toChannels(R.rgba),{css:x.toCss(c,h,g,d),rgba:x.toRgba(c,h,g,d)}}_.blend=function(R,N){if(d=(255&N.rgba)/255,d===1)return{css:N.css,rgba:N.rgba};const T=N.rgba>>24&255,j=N.rgba>>16&255,M=N.rgba>>8&255,F=R.rgba>>24&255,H=R.rgba>>16&255,W=R.rgba>>8&255;return c=F+Math.round((T-F)*d),h=H+Math.round((j-H)*d),g=W+Math.round((M-W)*d),{css:x.toCss(c,h,g),rgba:x.toRgba(c,h,g)}},_.isOpaque=function(R){return(255&R.rgba)==255},_.ensureContrastRatio=function(R,N,T){const j=v.ensureContrastRatio(R.rgba,N.rgba,T);if(j)return x.toColor(j>>24&255,j>>16&255,j>>8&255)},_.opaque=function(R){const N=(255|R.rgba)>>>0;return[c,h,g]=v.toChannels(N),{css:x.toCss(c,h,g),rgba:N}},_.opacity=E,_.multiplyOpacity=function(R,N){return d=255&R.rgba,E(R,d*N/255)},_.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}})(b||(o.color=b={})),(function(_){let E,R;try{const N=document.createElement("canvas");N.width=1,N.height=1;const T=N.getContext("2d",{willReadFrequently:!0});T&&(E=T,E.globalCompositeOperation="copy",R=E.createLinearGradient(0,0,1,1))}catch{}_.toColor=function(N){if(N.match(/#[\da-f]{3,8}/i))switch(N.length){case 4:return c=parseInt(N.slice(1,2).repeat(2),16),h=parseInt(N.slice(2,3).repeat(2),16),g=parseInt(N.slice(3,4).repeat(2),16),x.toColor(c,h,g);case 5:return c=parseInt(N.slice(1,2).repeat(2),16),h=parseInt(N.slice(2,3).repeat(2),16),g=parseInt(N.slice(3,4).repeat(2),16),d=parseInt(N.slice(4,5).repeat(2),16),x.toColor(c,h,g,d);case 7:return{css:N,rgba:(parseInt(N.slice(1),16)<<8|255)>>>0};case 9:return{css:N,rgba:parseInt(N.slice(1),16)>>>0}}const T=N.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return c=parseInt(T[1]),h=parseInt(T[2]),g=parseInt(T[3]),d=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),x.toColor(c,h,g,d);if(!E||!R)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=R,E.fillStyle=N,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[c,h,g,d]=E.getImageData(0,0,1,1).data,d!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:x.toRgba(c,h,g,d),css:N}}})(k||(o.css=k={})),(function(_){function E(R,N,T){const j=R/255,M=N/255,F=T/255;return .2126*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.7152*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))}_.relativeLuminance=function(R){return E(R>>16&255,R>>8&255,255&R)},_.relativeLuminance2=E})(S||(o.rgb=S={})),(function(_){function E(N,T,j){const M=N>>24&255,F=N>>16&255,H=N>>8&255;let W=T>>24&255,$=T>>16&255,Z=T>>8&255,K=p(S.relativeLuminance2(W,$,Z),S.relativeLuminance2(M,F,H));for(;K<j&&(W>0||$>0||Z>0);)W-=Math.max(0,Math.ceil(.1*W)),$-=Math.max(0,Math.ceil(.1*$)),Z-=Math.max(0,Math.ceil(.1*Z)),K=p(S.relativeLuminance2(W,$,Z),S.relativeLuminance2(M,F,H));return(W<<24|$<<16|Z<<8|255)>>>0}function R(N,T,j){const M=N>>24&255,F=N>>16&255,H=N>>8&255;let W=T>>24&255,$=T>>16&255,Z=T>>8&255,K=p(S.relativeLuminance2(W,$,Z),S.relativeLuminance2(M,F,H));for(;K<j&&(W<255||$<255||Z<255);)W=Math.min(255,W+Math.ceil(.1*(255-W))),$=Math.min(255,$+Math.ceil(.1*(255-$))),Z=Math.min(255,Z+Math.ceil(.1*(255-Z))),K=p(S.relativeLuminance2(W,$,Z),S.relativeLuminance2(M,F,H));return(W<<24|$<<16|Z<<8|255)>>>0}_.blend=function(N,T){if(d=(255&T)/255,d===1)return T;const j=T>>24&255,M=T>>16&255,F=T>>8&255,H=N>>24&255,W=N>>16&255,$=N>>8&255;return c=H+Math.round((j-H)*d),h=W+Math.round((M-W)*d),g=$+Math.round((F-$)*d),x.toRgba(c,h,g)},_.ensureContrastRatio=function(N,T,j){const M=S.relativeLuminance(N>>8),F=S.relativeLuminance(T>>8);if(p(M,F)<j){if(F<M){const $=E(N,T,j),Z=p(M,S.relativeLuminance($>>8));if(Z<j){const K=R(N,T,j);return Z>p(M,S.relativeLuminance(K>>8))?$:K}return $}const H=R(N,T,j),W=p(M,S.relativeLuminance(H>>8));if(W<j){const $=E(N,T,j);return W>p(M,S.relativeLuminance($>>8))?H:$}return H}},_.reduceLuminance=E,_.increaseLuminance=R,_.toChannels=function(N){return[N>>24&255,N>>16&255,N>>8&255,255&N]}})(v||(o.rgba=v={})),o.toPaddedHex=y,o.contrastRatio=p},8969:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const h=c(844),g=c(2585),d=c(4348),x=c(7866),b=c(744),k=c(7302),S=c(6975),v=c(8460),y=c(1753),p=c(1480),_=c(7994),E=c(9282),R=c(5435),N=c(5981),T=c(2660);let j=!1;class M extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new v.EventEmitter),this._onScroll.event((H=>{var W;(W=this._onScrollApi)==null||W.fire(H.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(H){for(const W in H)this.optionsService.options[W]=H[W]}constructor(H){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new v.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new k.OptionsService(H)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(x.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(S.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(p.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new R.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,v.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,v.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,v.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,v.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new N.WriteBuffer(((W,$)=>this._inputHandler.parse(W,$)))),this.register((0,v.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(H,W){this._writeBuffer.write(H,W)}writeSync(H,W){this._logService.logLevel<=g.LogLevelEnum.WARN&&!j&&(this._logService.warn("writeSync is unreliable and will be removed soon."),j=!0),this._writeBuffer.writeSync(H,W)}input(H,W=!0){this.coreService.triggerDataEvent(H,W)}resize(H,W){isNaN(H)||isNaN(W)||(H=Math.max(H,b.MINIMUM_COLS),W=Math.max(W,b.MINIMUM_ROWS),this._bufferService.resize(H,W))}scroll(H,W=!1){this._bufferService.scroll(H,W)}scrollLines(H,W,$){this._bufferService.scrollLines(H,W,$)}scrollPages(H){this.scrollLines(H*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(H){const W=H-this._bufferService.buffer.ydisp;W!==0&&this.scrollLines(W)}registerEscHandler(H,W){return this._inputHandler.registerEscHandler(H,W)}registerDcsHandler(H,W){return this._inputHandler.registerDcsHandler(H,W)}registerCsiHandler(H,W){return this._inputHandler.registerCsiHandler(H,W)}registerOscHandler(H,W){return this._inputHandler.registerOscHandler(H,W)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let H=!1;const W=this.optionsService.rawOptions.windowsPty;W&&W.buildNumber!==void 0&&W.buildNumber!==void 0?H=W.backend==="conpty"&&W.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(H=!0),H?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const H=[];H.push(this.onLineFeed(E.updateWindowsModeWrappedState.bind(null,this._bufferService))),H.push(this.registerCsiHandler({final:"H"},(()=>((0,E.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)((()=>{for(const W of H)W.dispose()}))}}}o.CoreTerminal=M},8460:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===c)return void this._listeners.splice(h,1)}}})),this._event}fire(c,h){const g=[];for(let d=0;d<this._listeners.length;d++)g.push(this._listeners[d]);for(let d=0;d<g.length;d++)g[d].call(void 0,c,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(c,h){return c((g=>h.fire(g)))},o.runAndSubscribe=function(c,h){return h(void 0),c((g=>h(g)))}},5435:function(f,o,c){var h=this&&this.__decorate||function(z,D,B,L){var V,Y=arguments.length,J=Y<3?D:L===null?L=Object.getOwnPropertyDescriptor(D,B):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(z,D,B,L);else for(var q=z.length-1;q>=0;q--)(V=z[q])&&(J=(Y<3?V(J):Y>3?V(D,B,J):V(D,B))||J);return Y>3&&J&&Object.defineProperty(D,B,J),J},g=this&&this.__param||function(z,D){return function(B,L){D(B,L,z)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const d=c(2584),x=c(7116),b=c(2015),k=c(844),S=c(482),v=c(8437),y=c(8460),p=c(643),_=c(511),E=c(3734),R=c(2585),N=c(1480),T=c(6242),j=c(6351),M=c(5941),F={"(":0,")":1,"*":2,"+":3,"-":1,".":2},H=131072;function W(z,D){if(z>24)return D.setWinLines||!1;switch(z){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var $;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})($||(o.WindowsOptionsReportType=$={}));let Z=0;class K extends k.Disposable{getAttrData(){return this._curAttrData}constructor(D,B,L,V,Y,J,q,se,U=new b.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=B,this._coreService=L,this._logService=V,this._optionsService=Y,this._oscLinkService=J,this._coreMouseService=q,this._unicodeService=se,this._parser=U,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new S.StringToUtf32,this._utf8Decoder=new S.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((O=>this._activeBuffer=O.activeBuffer))),this._parser.setCsiHandlerFallback(((O,ne)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(O),params:ne.toArray()})})),this._parser.setEscHandlerFallback((O=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(O)})})),this._parser.setExecuteHandlerFallback((O=>{this._logService.debug("Unknown EXECUTE code: ",{code:O})})),this._parser.setOscHandlerFallback(((O,ne,re)=>{this._logService.debug("Unknown OSC code: ",{identifier:O,action:ne,data:re})})),this._parser.setDcsHandlerFallback(((O,ne,re)=>{ne==="HOOK"&&(re=re.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(O),action:ne,payload:re})})),this._parser.setPrintHandler(((O,ne,re)=>this.print(O,ne,re))),this._parser.registerCsiHandler({final:"@"},(O=>this.insertChars(O))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(O=>this.scrollLeft(O))),this._parser.registerCsiHandler({final:"A"},(O=>this.cursorUp(O))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(O=>this.scrollRight(O))),this._parser.registerCsiHandler({final:"B"},(O=>this.cursorDown(O))),this._parser.registerCsiHandler({final:"C"},(O=>this.cursorForward(O))),this._parser.registerCsiHandler({final:"D"},(O=>this.cursorBackward(O))),this._parser.registerCsiHandler({final:"E"},(O=>this.cursorNextLine(O))),this._parser.registerCsiHandler({final:"F"},(O=>this.cursorPrecedingLine(O))),this._parser.registerCsiHandler({final:"G"},(O=>this.cursorCharAbsolute(O))),this._parser.registerCsiHandler({final:"H"},(O=>this.cursorPosition(O))),this._parser.registerCsiHandler({final:"I"},(O=>this.cursorForwardTab(O))),this._parser.registerCsiHandler({final:"J"},(O=>this.eraseInDisplay(O,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(O=>this.eraseInDisplay(O,!0))),this._parser.registerCsiHandler({final:"K"},(O=>this.eraseInLine(O,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(O=>this.eraseInLine(O,!0))),this._parser.registerCsiHandler({final:"L"},(O=>this.insertLines(O))),this._parser.registerCsiHandler({final:"M"},(O=>this.deleteLines(O))),this._parser.registerCsiHandler({final:"P"},(O=>this.deleteChars(O))),this._parser.registerCsiHandler({final:"S"},(O=>this.scrollUp(O))),this._parser.registerCsiHandler({final:"T"},(O=>this.scrollDown(O))),this._parser.registerCsiHandler({final:"X"},(O=>this.eraseChars(O))),this._parser.registerCsiHandler({final:"Z"},(O=>this.cursorBackwardTab(O))),this._parser.registerCsiHandler({final:"`"},(O=>this.charPosAbsolute(O))),this._parser.registerCsiHandler({final:"a"},(O=>this.hPositionRelative(O))),this._parser.registerCsiHandler({final:"b"},(O=>this.repeatPrecedingCharacter(O))),this._parser.registerCsiHandler({final:"c"},(O=>this.sendDeviceAttributesPrimary(O))),this._parser.registerCsiHandler({prefix:">",final:"c"},(O=>this.sendDeviceAttributesSecondary(O))),this._parser.registerCsiHandler({final:"d"},(O=>this.linePosAbsolute(O))),this._parser.registerCsiHandler({final:"e"},(O=>this.vPositionRelative(O))),this._parser.registerCsiHandler({final:"f"},(O=>this.hVPosition(O))),this._parser.registerCsiHandler({final:"g"},(O=>this.tabClear(O))),this._parser.registerCsiHandler({final:"h"},(O=>this.setMode(O))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(O=>this.setModePrivate(O))),this._parser.registerCsiHandler({final:"l"},(O=>this.resetMode(O))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(O=>this.resetModePrivate(O))),this._parser.registerCsiHandler({final:"m"},(O=>this.charAttributes(O))),this._parser.registerCsiHandler({final:"n"},(O=>this.deviceStatus(O))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(O=>this.deviceStatusPrivate(O))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(O=>this.softReset(O))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(O=>this.setCursorStyle(O))),this._parser.registerCsiHandler({final:"r"},(O=>this.setScrollRegion(O))),this._parser.registerCsiHandler({final:"s"},(O=>this.saveCursor(O))),this._parser.registerCsiHandler({final:"t"},(O=>this.windowOptions(O))),this._parser.registerCsiHandler({final:"u"},(O=>this.restoreCursor(O))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(O=>this.insertColumns(O))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(O=>this.deleteColumns(O))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(O=>this.selectProtected(O))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(O=>this.requestMode(O,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(O=>this.requestMode(O,!1))),this._parser.setExecuteHandler(d.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(d.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(d.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(d.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(d.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(d.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(d.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(d.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(d.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new T.OscHandler((O=>(this.setTitle(O),this.setIconName(O),!0)))),this._parser.registerOscHandler(1,new T.OscHandler((O=>this.setIconName(O)))),this._parser.registerOscHandler(2,new T.OscHandler((O=>this.setTitle(O)))),this._parser.registerOscHandler(4,new T.OscHandler((O=>this.setOrReportIndexedColor(O)))),this._parser.registerOscHandler(8,new T.OscHandler((O=>this.setHyperlink(O)))),this._parser.registerOscHandler(10,new T.OscHandler((O=>this.setOrReportFgColor(O)))),this._parser.registerOscHandler(11,new T.OscHandler((O=>this.setOrReportBgColor(O)))),this._parser.registerOscHandler(12,new T.OscHandler((O=>this.setOrReportCursorColor(O)))),this._parser.registerOscHandler(104,new T.OscHandler((O=>this.restoreIndexedColor(O)))),this._parser.registerOscHandler(110,new T.OscHandler((O=>this.restoreFgColor(O)))),this._parser.registerOscHandler(111,new T.OscHandler((O=>this.restoreBgColor(O)))),this._parser.registerOscHandler(112,new T.OscHandler((O=>this.restoreCursorColor(O)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const O in x.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:O},(()=>this.selectCharset("("+O))),this._parser.registerEscHandler({intermediates:")",final:O},(()=>this.selectCharset(")"+O))),this._parser.registerEscHandler({intermediates:"*",final:O},(()=>this.selectCharset("*"+O))),this._parser.registerEscHandler({intermediates:"+",final:O},(()=>this.selectCharset("+"+O))),this._parser.registerEscHandler({intermediates:"-",final:O},(()=>this.selectCharset("-"+O))),this._parser.registerEscHandler({intermediates:".",final:O},(()=>this.selectCharset("."+O))),this._parser.registerEscHandler({intermediates:"/",final:O},(()=>this.selectCharset("/"+O)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((O=>(this._logService.error("Parsing error: ",O),O))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new j.DcsHandler(((O,ne)=>this.requestStatusString(O,ne))))}_preserveStack(D,B,L,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=L,this._parseStack.position=V}_logSlowResolvingAsync(D){this._logService.logLevel<=R.LogLevelEnum.WARN&&Promise.race([D,new Promise(((B,L)=>setTimeout((()=>L("#SLOW_TIMEOUT")),5e3)))]).catch((B=>{if(B!=="#SLOW_TIMEOUT")throw B;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,B){let L,V=this._activeBuffer.x,Y=this._activeBuffer.y,J=0;const q=this._parseStack.paused;if(q){if(L=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(L),L;V=this._parseStack.cursorStartX,Y=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>H&&(J=this._parseStack.position+H)}if(this._logService.logLevel<=R.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,(O=>String.fromCharCode(O))).join("")}"`),typeof D=="string"?D.split("").map((O=>O.charCodeAt(0))):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<H&&(this._parseBuffer=new Uint32Array(Math.min(D.length,H))),q||this._dirtyRowTracker.clearRange(),D.length>H)for(let O=J;O<D.length;O+=H){const ne=O+H<D.length?O+H:D.length,re=typeof D=="string"?this._stringDecoder.decode(D.substring(O,ne),this._parseBuffer):this._utf8Decoder.decode(D.subarray(O,ne),this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,re))return this._preserveStack(V,Y,re,O),this._logSlowResolvingAsync(L),L}else if(!q){const O=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,O))return this._preserveStack(V,Y,O,0),this._logSlowResolvingAsync(L),L}this._activeBuffer.x===V&&this._activeBuffer.y===Y||this._onCursorMove.fire();const se=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),U=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);U<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(U,this._bufferService.rows-1),Math.min(se,this._bufferService.rows-1))}print(D,B,L){let V,Y;const J=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,se=this._bufferService.cols,U=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,ne=this._curAttrData;let re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&L-B>0&&re.getWidth(this._activeBuffer.x-1)===2&&re.setCellFromCodepoint(this._activeBuffer.x-1,0,1,ne);let ce=this._parser.precedingJoinState;for(let le=B;le<L;++le){if(V=D[le],V<127&&J){const Ye=J[String.fromCharCode(V)];Ye&&(V=Ye.charCodeAt(0))}const Pe=this._unicodeService.charProperties(V,ce);Y=N.UnicodeService.extractWidth(Pe);const Ie=N.UnicodeService.extractShouldJoin(Pe),ze=Ie?N.UnicodeService.extractWidth(ce):0;if(ce=Pe,q&&this._onA11yChar.fire((0,S.stringFromCodePoint)(V)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Y-ze>se){if(U){const Ye=re;let he=this._activeBuffer.x-ze;for(this._activeBuffer.x=ze,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),ze>0&&re instanceof v.BufferLine&&re.copyCellsFrom(Ye,he,0,ze,!1);he<se;)Ye.setCellFromCodepoint(he++,0,1,ne)}else if(this._activeBuffer.x=se-1,Y===2)continue}if(Ie&&this._activeBuffer.x){const Ye=re.getWidth(this._activeBuffer.x-1)?1:2;re.addCodepointToCell(this._activeBuffer.x-Ye,V,Y);for(let he=Y-ze;--he>=0;)re.setCellFromCodepoint(this._activeBuffer.x++,0,0,ne)}else if(O&&(re.insertCells(this._activeBuffer.x,Y-ze,this._activeBuffer.getNullCell(ne)),re.getWidth(se-1)===2&&re.setCellFromCodepoint(se-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,ne)),re.setCellFromCodepoint(this._activeBuffer.x++,V,Y,ne),Y>0)for(;--Y;)re.setCellFromCodepoint(this._activeBuffer.x++,0,0,ne)}this._parser.precedingJoinState=ce,this._activeBuffer.x<se&&L-B>0&&re.getWidth(this._activeBuffer.x)===0&&!re.hasContent(this._activeBuffer.x)&&re.setCellFromCodepoint(this._activeBuffer.x,0,1,ne),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,B){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,B):this._parser.registerCsiHandler(D,(L=>!W(L.params[0],this._optionsService.rawOptions.windowOptions)||B(L)))}registerDcsHandler(D,B){return this._parser.registerDcsHandler(D,new j.DcsHandler(B))}registerEscHandler(D,B){return this._parser.registerEscHandler(D,B)}registerOscHandler(D,B){return this._parser.registerOscHandler(D,new T.OscHandler(B))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,B){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=D,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+B)}cursorUp(D){const B=this._activeBuffer.y-this._activeBuffer.scrollTop;return B>=0?this._moveCursor(0,-Math.min(B,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return B>=0?this._moveCursor(0,Math.min(B,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const B=D.params[0];return B===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:B===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=D.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=D.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const B=D.params[0];return B===1&&(this._curAttrData.bg|=536870912),B!==2&&B!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,B,L,V=!1,Y=!1){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);J.replaceCells(B,L,this._activeBuffer.getNullCell(this._eraseAttrData()),Y),V&&(J.isWrapped=!1)}_resetBufferLine(D,B=!1){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);L&&(L.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),B),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),L.isWrapped=!1)}eraseInDisplay(D,B=!1){let L;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);L<this._bufferService.rows;L++)this._resetBufferLine(L,B);this._dirtyRowTracker.markDirty(L);break;case 1:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L,0,this._activeBuffer.x+1,!0,B),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(L+1).isWrapped=!1);L--;)this._resetBufferLine(L,B);this._dirtyRowTracker.markDirty(0);break;case 2:for(L=this._bufferService.rows,this._dirtyRowTracker.markDirty(L-1);L--;)this._resetBufferLine(L,B);this._dirtyRowTracker.markDirty(0);break;case 3:const V=this._activeBuffer.lines.length-this._bufferService.rows;V>0&&(this._activeBuffer.lines.trimStart(V),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-V,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-V,0),this._onScroll.fire(0))}return!0}eraseInLine(D,B=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,B);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,B)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let B=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Y=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;for(;B--;)this._activeBuffer.lines.splice(Y-1,1),this._activeBuffer.lines.splice(L,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let B=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y;let V;for(V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-V;B--;)this._activeBuffer.lines.splice(L,1),this._activeBuffer.lines.splice(V,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let B=D.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let B=D.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(v.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=D.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);V.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=D.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);V.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=D.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);V.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=D.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);V.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){const B=this._parser.precedingJoinState;if(!B)return!0;const L=D.params[0]||1,V=N.UnicodeService.extractWidth(B),Y=this._activeBuffer.x-V,J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Y),q=new Uint32Array(J.length*L);let se=0;for(let O=0;O<J.length;){const ne=J.codePointAt(O)||0;q[se++]=ne,O+=ne>65535?2:1}let U=se;for(let O=1;O<L;++O)q.copyWithin(U,0,se),U+=se;return this.print(q,0,U),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let B=0;B<D.length;B++)switch(D.params[B]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let B=0;B<D.length;B++)switch(D.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),this._charsetService.setgCharset(1,x.DEFAULT_CHARSET),this._charsetService.setgCharset(2,x.DEFAULT_CHARSET),this._charsetService.setgCharset(3,x.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let B=0;B<D.length;B++)switch(D.params[B]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let B=0;B<D.length;B++)switch(D.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[B]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,B){const L=this._coreService.decPrivateModes,{activeProtocol:V,activeEncoding:Y}=this._coreMouseService,J=this._coreService,{buffers:q,cols:se}=this._bufferService,{active:U,alt:O}=q,ne=this._optionsService.rawOptions,re=Ie=>Ie?1:2,ce=D.params[0];return le=ce,Pe=B?ce===2?4:ce===4?re(J.modes.insertMode):ce===12?3:ce===20?re(ne.convertEol):0:ce===1?re(L.applicationCursorKeys):ce===3?ne.windowOptions.setWinLines?se===80?2:se===132?1:0:0:ce===6?re(L.origin):ce===7?re(L.wraparound):ce===8?3:ce===9?re(V==="X10"):ce===12?re(ne.cursorBlink):ce===25?re(!J.isCursorHidden):ce===45?re(L.reverseWraparound):ce===66?re(L.applicationKeypad):ce===67?4:ce===1e3?re(V==="VT200"):ce===1002?re(V==="DRAG"):ce===1003?re(V==="ANY"):ce===1004?re(L.sendFocus):ce===1005?4:ce===1006?re(Y==="SGR"):ce===1015?4:ce===1016?re(Y==="SGR_PIXELS"):ce===1048?1:ce===47||ce===1047||ce===1049?re(U===O):ce===2004?re(L.bracketedPasteMode):0,J.triggerDataEvent(`${d.C0.ESC}[${B?"":"?"}${le};${Pe}$y`),!0;var le,Pe}_updateAttrColor(D,B,L,V,Y){return B===2?(D|=50331648,D&=-16777216,D|=E.AttributeData.fromColorRGB([L,V,Y])):B===5&&(D&=-50331904,D|=33554432|255&L),D}_extractColor(D,B,L){const V=[0,0,-1,0,0,0];let Y=0,J=0;do{if(V[J+Y]=D.params[B+J],D.hasSubParams(B+J)){const q=D.getSubParams(B+J);let se=0;do V[1]===5&&(Y=1),V[J+se+1+Y]=q[se];while(++se<q.length&&se+J+1+Y<V.length);break}if(V[1]===5&&J+Y>=2||V[1]===2&&J+Y>=5)break;V[1]&&(Y=1)}while(++J+B<D.length&&J+Y<V.length);for(let q=2;q<V.length;++q)V[q]===-1&&(V[q]=0);switch(V[0]){case 38:L.fg=this._updateAttrColor(L.fg,V[1],V[3],V[4],V[5]);break;case 48:L.bg=this._updateAttrColor(L.bg,V[1],V[3],V[4],V[5]);break;case 58:L.extended=L.extended.clone(),L.extended.underlineColor=this._updateAttrColor(L.extended.underlineColor,V[1],V[3],V[4],V[5])}return J}_processUnderline(D,B){B.extended=B.extended.clone(),(!~D||D>5)&&(D=1),B.extended.underlineStyle=D,B.fg|=268435456,D===0&&(B.fg&=-268435457),B.updateExtended()}_processSGR0(D){D.fg=v.DEFAULT_ATTR_DATA.fg,D.bg=v.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const B=D.length;let L;const V=this._curAttrData;for(let Y=0;Y<B;Y++)L=D.params[Y],L>=30&&L<=37?(V.fg&=-50331904,V.fg|=16777216|L-30):L>=40&&L<=47?(V.bg&=-50331904,V.bg|=16777216|L-40):L>=90&&L<=97?(V.fg&=-50331904,V.fg|=16777224|L-90):L>=100&&L<=107?(V.bg&=-50331904,V.bg|=16777224|L-100):L===0?this._processSGR0(V):L===1?V.fg|=134217728:L===3?V.bg|=67108864:L===4?(V.fg|=268435456,this._processUnderline(D.hasSubParams(Y)?D.getSubParams(Y)[0]:1,V)):L===5?V.fg|=536870912:L===7?V.fg|=67108864:L===8?V.fg|=1073741824:L===9?V.fg|=2147483648:L===2?V.bg|=134217728:L===21?this._processUnderline(2,V):L===22?(V.fg&=-134217729,V.bg&=-134217729):L===23?V.bg&=-67108865:L===24?(V.fg&=-268435457,this._processUnderline(0,V)):L===25?V.fg&=-536870913:L===27?V.fg&=-67108865:L===28?V.fg&=-1073741825:L===29?V.fg&=2147483647:L===39?(V.fg&=-67108864,V.fg|=16777215&v.DEFAULT_ATTR_DATA.fg):L===49?(V.bg&=-67108864,V.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):L===38||L===48||L===58?Y+=this._extractColor(D,Y,V):L===53?V.bg|=1073741824:L===55?V.bg&=-1073741825:L===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):L===100?(V.fg&=-67108864,V.fg|=16777215&v.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",L);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const B=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${B};${L}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const B=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${B};${L}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const B=D.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const L=B%2==1;return this._optionsService.options.cursorBlink=L,!0}setScrollRegion(D){const B=D.params[0]||1;let L;return(D.length<2||(L=D.params[1])>this._bufferService.rows||L===0)&&(L=this._bufferService.rows),L>B&&(this._activeBuffer.scrollTop=B-1,this._activeBuffer.scrollBottom=L-1,this._setCursor(0,0)),!0}windowOptions(D){if(!W(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const B=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:B!==2&&this._onRequestWindowsOptionsReport.fire($.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire($.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:B!==0&&B!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),B!==0&&B!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:B!==0&&B!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),B!==0&&B!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const B=[],L=D.split(";");for(;L.length>1;){const V=L.shift(),Y=L.shift();if(/^\d+$/.exec(V)){const J=parseInt(V);if(ee(J))if(Y==="?")B.push({type:0,index:J});else{const q=(0,M.parseColor)(Y);q&&B.push({type:1,index:J,color:q})}}}return B.length&&this._onColor.fire(B),!0}setHyperlink(D){const B=D.split(";");return!(B.length<2)&&(B[1]?this._createHyperlink(B[0],B[1]):!B[0]&&this._finishHyperlink())}_createHyperlink(D,B){this._getCurrentLinkId()&&this._finishHyperlink();const L=D.split(":");let V;const Y=L.findIndex((J=>J.startsWith("id=")));return Y!==-1&&(V=L[Y].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:V,uri:B}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,B){const L=D.split(";");for(let V=0;V<L.length&&!(B>=this._specialColors.length);++V,++B)if(L[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{const Y=(0,M.parseColor)(L[V]);Y&&this._onColor.fire([{type:1,index:this._specialColors[B],color:Y}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const B=[],L=D.split(";");for(let V=0;V<L.length;++V)if(/^\d+$/.exec(L[V])){const Y=parseInt(L[V]);ee(Y)&&B.push({type:2,index:Y})}return B.length&&this._onColor.fire(B),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(F[D[0]],x.CHARSETS[D[1]]||x.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new _.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let B=0;B<this._bufferService.rows;++B){const L=this._activeBuffer.ybase+this._activeBuffer.y+B,V=this._activeBuffer.lines.get(L);V&&(V.fill(D),V.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,B){const L=this._bufferService.buffer,V=this._optionsService.rawOptions;return(Y=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${Y}${d.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${L.scrollTop+1};${L.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[V.cursorStyle]-(V.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,B){this._dirtyRowTracker.markRangeDirty(D,B)}}o.InputHandler=K;let G=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,D){z>D&&(Z=z,z=D,D=Z),z<this.start&&(this.start=z),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ee(z){return 0<=z&&z<256}G=h([g(0,R.IBufferService)],G)},844:(f,o)=>{function c(h){for(const g of h)g.dispose();h.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const g=this._disposables.indexOf(h);g!==-1&&this._disposables.splice(g,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var g;this._isDisposed||h===this._value||((g=this._value)==null||g.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)==null||h.dispose(),this._value=void 0}},o.toDisposable=function(h){return{dispose:h}},o.disposeArray=c,o.getDisposeArrayDisposable=function(h){return{dispose:()=>c(h)}}},1505:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(g,d,x){this._data[g]||(this._data[g]={}),this._data[g][d]=x}get(g,d){return this._data[g]?this._data[g][d]:void 0}clear(){this._data={}}}o.TwoKeyMap=c,o.FourKeyMap=class{constructor(){this._data=new c}set(h,g,d,x,b){this._data.get(h,g)||this._data.set(h,g,new c),this._data.get(h,g).set(d,x,b)}get(h,g,d,x){var b;return(b=this._data.get(h,g))==null?void 0:b.get(d,x)}clear(){this._data.clear()}}},6114:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof process<"u"&&"title"in process;const c=o.isNode?"node":navigator.userAgent,h=o.isNode?"node":navigator.platform;o.isFirefox=c.includes("Firefox"),o.isLegacyEdge=c.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(c),o.getSafariVersion=function(){if(!o.isSafari)return 0;const g=c.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),o.isIpad=h==="iPad",o.isIphone=h==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),o.isLinux=h.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(c)},6106:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let c=0;o.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(c=this._search(this._getKey(h)),this._array.splice(c,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const g=this._getKey(h);if(g===void 0||(c=this._search(g),c===-1)||this._getKey(this._array[c])!==g)return!1;do if(this._array[c]===h)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===g);return!1}*getKeyIterator(h){if(this._array.length!==0&&(c=this._search(h),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===h))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===h)}forEachByKey(h,g){if(this._array.length!==0&&(c=this._search(h),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===h))do g(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===h)}values(){return[...this._array].values()}_search(h){let g=0,d=this._array.length-1;for(;d>=g;){let x=g+d>>1;const b=this._getKey(this._array[x]);if(b>h)d=x-1;else{if(!(b<h)){for(;x>0&&this._getKey(this._array[x-1])===h;)x--;return x}g=x+1}}return g}}},7226:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const h=c(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let k=0,S=0,v=b.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),S=Math.max(k,S),y=b.timeRemaining(),1.5*S>y)return v-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-k))}ms`),void this._start();v=y}this.clear()}}class d extends g{_requestCallback(b){return setTimeout((()=>b(this._createDeadline(16))))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const k=Date.now()+b;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}o.PriorityTaskQueue=d,o.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(x){return requestIdleCallback(x)}_cancelCallback(x){cancelIdleCallback(x)}}:d,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(x){this._queue.clear(),this._queue.enqueue(x)}flush(){this._queue.flush()}}},9282:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const h=c(643);o.updateWindowsModeWrappedState=function(g){const d=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),x=d==null?void 0:d.get(g.cols-1),b=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);b&&x&&(b.isWrapped=x[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&x[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new c;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=c;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}get underlineVariantOffset(){const d=(3758096384&this._ext)>>29;return d<0?4294967288^d:d}set underlineVariantOffset(d){this._ext&=536870911,this._ext|=d<<29&3758096384}constructor(d=0,x=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=x}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=h},9092:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const h=c(6349),g=c(7226),d=c(3734),x=c(8437),b=c(4634),k=c(511),S=c(643),v=c(4863),y=c(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(p,_,E){this._hasScrollback=p,this._optionsService=_,this._bufferService=E,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=x.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,S.WHITESPACE_CELL_CHAR,S.WHITESPACE_CELL_WIDTH,S.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(p){return p?(this._nullCell.fg=p.fg,this._nullCell.bg=p.bg,this._nullCell.extended=p.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(p){return p?(this._whitespaceCell.fg=p.fg,this._whitespaceCell.bg=p.bg,this._whitespaceCell.extended=p.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(p,_){return new x.BufferLine(this._bufferService.cols,this.getNullCell(p),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const p=this.ybase+this.y-this.ydisp;return p>=0&&p<this._rows}_getCorrectBufferLength(p){if(!this._hasScrollback)return p;const _=p+this._optionsService.rawOptions.scrollback;return _>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:_}fillViewportRows(p){if(this.lines.length===0){p===void 0&&(p=x.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(p))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(p,_){const E=this.getNullCell(x.DEFAULT_ATTR_DATA);let R=0;const N=this._getCorrectBufferLength(_);if(N>this.lines.maxLength&&(this.lines.maxLength=N),this.lines.length>0){if(this._cols<p)for(let j=0;j<this.lines.length;j++)R+=+this.lines.get(j).resize(p,E);let T=0;if(this._rows<_)for(let j=this._rows;j<_;j++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new x.BufferLine(p,E)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new x.BufferLine(p,E)));else for(let j=this._rows;j>_;j--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(N<this.lines.maxLength){const j=this.lines.length-N;j>0&&(this.lines.trimStart(j),this.ybase=Math.max(this.ybase-j,0),this.ydisp=Math.max(this.ydisp-j,0),this.savedY=Math.max(this.savedY-j,0)),this.lines.maxLength=N}this.x=Math.min(this.x,p-1),this.y=Math.min(this.y,_-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,p-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(p,_),this._cols>p))for(let T=0;T<this.lines.length;T++)R+=+this.lines.get(T).resize(p,E);this._cols=p,this._rows=_,this._memoryCleanupQueue.clear(),R>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let p=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,p=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return p}get _isReflowEnabled(){const p=this._optionsService.rawOptions.windowsPty;return p&&p.buildNumber?this._hasScrollback&&p.backend==="conpty"&&p.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(p,_){this._cols!==p&&(p>this._cols?this._reflowLarger(p,_):this._reflowSmaller(p,_))}_reflowLarger(p,_){const E=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,p,this.ybase+this.y,this.getNullCell(x.DEFAULT_ATTR_DATA));if(E.length>0){const R=(0,b.reflowLargerCreateNewLayout)(this.lines,E);(0,b.reflowLargerApplyNewLayout)(this.lines,R.layout),this._reflowLargerAdjustViewport(p,_,R.countRemoved)}}_reflowLargerAdjustViewport(p,_,E){const R=this.getNullCell(x.DEFAULT_ATTR_DATA);let N=E;for(;N-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new x.BufferLine(p,R))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-E,0)}_reflowSmaller(p,_){const E=this.getNullCell(x.DEFAULT_ATTR_DATA),R=[];let N=0;for(let T=this.lines.length-1;T>=0;T--){let j=this.lines.get(T);if(!j||!j.isWrapped&&j.getTrimmedLength()<=p)continue;const M=[j];for(;j.isWrapped&&T>0;)j=this.lines.get(--T),M.unshift(j);const F=this.ybase+this.y;if(F>=T&&F<T+M.length)continue;const H=M[M.length-1].getTrimmedLength(),W=(0,b.reflowSmallerGetNewLineLengths)(M,this._cols,p),$=W.length-M.length;let Z;Z=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);const K=[];for(let L=0;L<$;L++){const V=this.getBlankLine(x.DEFAULT_ATTR_DATA,!0);K.push(V)}K.length>0&&(R.push({start:T+M.length+N,newLines:K}),N+=K.length),M.push(...K);let G=W.length-1,ee=W[G];ee===0&&(G--,ee=W[G]);let z=M.length-$-1,D=H;for(;z>=0;){const L=Math.min(D,ee);if(M[G]===void 0)break;if(M[G].copyCellsFrom(M[z],D-L,ee-L,L,!0),ee-=L,ee===0&&(G--,ee=W[G]),D-=L,D===0){z--;const V=Math.max(z,0);D=(0,b.getWrappedLineTrimmedLength)(M,V,this._cols)}}for(let L=0;L<M.length;L++)W[L]<p&&M[L].setCell(W[L],E);let B=$-Z;for(;B-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+N)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+_-1)}if(R.length>0){const T=[],j=[];for(let G=0;G<this.lines.length;G++)j.push(this.lines.get(G));const M=this.lines.length;let F=M-1,H=0,W=R[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+N);let $=0;for(let G=Math.min(this.lines.maxLength-1,M+N-1);G>=0;G--)if(W&&W.start>F+$){for(let ee=W.newLines.length-1;ee>=0;ee--)this.lines.set(G--,W.newLines[ee]);G++,T.push({index:F+1,amount:W.newLines.length}),$+=W.newLines.length,W=R[++H]}else this.lines.set(G,j[F--]);let Z=0;for(let G=T.length-1;G>=0;G--)T[G].index+=Z,this.lines.onInsertEmitter.fire(T[G]),Z+=T[G].amount;const K=Math.max(0,M+N-this.lines.maxLength);K>0&&this.lines.onTrimEmitter.fire(K)}}translateBufferLineToString(p,_,E=0,R){const N=this.lines.get(p);return N?N.translateToString(_,E,R):""}getWrappedRangeForLine(p){let _=p,E=p;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;E+1<this.lines.length&&this.lines.get(E+1).isWrapped;)E++;return{first:_,last:E}}setupTabStops(p){for(p!=null?this.tabs[p]||(p=this.prevStop(p)):(this.tabs={},p=0);p<this._cols;p+=this._optionsService.rawOptions.tabStopWidth)this.tabs[p]=!0}prevStop(p){for(p==null&&(p=this.x);!this.tabs[--p]&&p>0;);return p>=this._cols?this._cols-1:p<0?0:p}nextStop(p){for(p==null&&(p=this.x);!this.tabs[++p]&&p<this._cols;);return p>=this._cols?this._cols-1:p<0?0:p}clearMarkers(p){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===p&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].dispose(),this.markers.splice(p--,1);this._isClearing=!1}addMarker(p){const _=new v.Marker(p);return this.markers.push(_),_.register(this.lines.onTrim((E=>{_.line-=E,_.line<0&&_.dispose()}))),_.register(this.lines.onInsert((E=>{_.line>=E.index&&(_.line+=E.amount)}))),_.register(this.lines.onDelete((E=>{_.line>=E.index&&_.line<E.index+E.amount&&_.dispose(),_.line>E.index&&(_.line-=E.amount)}))),_.register(_.onDispose((()=>this._removeMarker(_)))),_}_removeMarker(p){this._isClearing||this.markers.splice(this.markers.indexOf(p),1)}}},8437:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const h=c(3734),g=c(511),d=c(643),x=c(482);o.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let b=0;class k{constructor(v,y,p=!1){this.isWrapped=p,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*v);const _=y||g.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let E=0;E<v;++E)this.setCell(E,_);this.length=v}get(v){const y=this._data[3*v+0],p=2097151&y;return[this._data[3*v+1],2097152&y?this._combined[v]:p?(0,x.stringFromCodePoint)(p):"",y>>22,2097152&y?this._combined[v].charCodeAt(this._combined[v].length-1):p]}set(v,y){this._data[3*v+1]=y[d.CHAR_DATA_ATTR_INDEX],y[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[v]=y[1],this._data[3*v+0]=2097152|v|y[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*v+0]=y[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(v){return this._data[3*v+0]>>22}hasWidth(v){return 12582912&this._data[3*v+0]}getFg(v){return this._data[3*v+1]}getBg(v){return this._data[3*v+2]}hasContent(v){return 4194303&this._data[3*v+0]}getCodePoint(v){const y=this._data[3*v+0];return 2097152&y?this._combined[v].charCodeAt(this._combined[v].length-1):2097151&y}isCombined(v){return 2097152&this._data[3*v+0]}getString(v){const y=this._data[3*v+0];return 2097152&y?this._combined[v]:2097151&y?(0,x.stringFromCodePoint)(2097151&y):""}isProtected(v){return 536870912&this._data[3*v+2]}loadCell(v,y){return b=3*v,y.content=this._data[b+0],y.fg=this._data[b+1],y.bg=this._data[b+2],2097152&y.content&&(y.combinedData=this._combined[v]),268435456&y.bg&&(y.extended=this._extendedAttrs[v]),y}setCell(v,y){2097152&y.content&&(this._combined[v]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[v]=y.extended),this._data[3*v+0]=y.content,this._data[3*v+1]=y.fg,this._data[3*v+2]=y.bg}setCellFromCodepoint(v,y,p,_){268435456&_.bg&&(this._extendedAttrs[v]=_.extended),this._data[3*v+0]=y|p<<22,this._data[3*v+1]=_.fg,this._data[3*v+2]=_.bg}addCodepointToCell(v,y,p){let _=this._data[3*v+0];2097152&_?this._combined[v]+=(0,x.stringFromCodePoint)(y):2097151&_?(this._combined[v]=(0,x.stringFromCodePoint)(2097151&_)+(0,x.stringFromCodePoint)(y),_&=-2097152,_|=2097152):_=y|4194304,p&&(_&=-12582913,_|=p<<22),this._data[3*v+0]=_}insertCells(v,y,p){if((v%=this.length)&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,p),y<this.length-v){const _=new g.CellData;for(let E=this.length-v-y-1;E>=0;--E)this.setCell(v+y+E,this.loadCell(v+E,_));for(let E=0;E<y;++E)this.setCell(v+E,p)}else for(let _=v;_<this.length;++_)this.setCell(_,p);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,p)}deleteCells(v,y,p){if(v%=this.length,y<this.length-v){const _=new g.CellData;for(let E=0;E<this.length-v-y;++E)this.setCell(v+E,this.loadCell(v+y+E,_));for(let E=this.length-y;E<this.length;++E)this.setCell(E,p)}else for(let _=v;_<this.length;++_)this.setCell(_,p);v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,p),this.getWidth(v)!==0||this.hasContent(v)||this.setCellFromCodepoint(v,0,1,p)}replaceCells(v,y,p,_=!1){if(_)for(v&&this.getWidth(v-1)===2&&!this.isProtected(v-1)&&this.setCellFromCodepoint(v-1,0,1,p),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodepoint(y,0,1,p);v<y&&v<this.length;)this.isProtected(v)||this.setCell(v,p),v++;else for(v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,p),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y,0,1,p);v<y&&v<this.length;)this.setCell(v++,p)}resize(v,y){if(v===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const p=3*v;if(v>this.length){if(this._data.buffer.byteLength>=4*p)this._data=new Uint32Array(this._data.buffer,0,p);else{const _=new Uint32Array(p);_.set(this._data),this._data=_}for(let _=this.length;_<v;++_)this.setCell(_,y)}else{this._data=this._data.subarray(0,p);const _=Object.keys(this._combined);for(let R=0;R<_.length;R++){const N=parseInt(_[R],10);N>=v&&delete this._combined[N]}const E=Object.keys(this._extendedAttrs);for(let R=0;R<E.length;R++){const N=parseInt(E[R],10);N>=v&&delete this._extendedAttrs[N]}}return this.length=v,4*p*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const v=new Uint32Array(this._data.length);return v.set(this._data),this._data=v,1}return 0}fill(v,y=!1){if(y)for(let p=0;p<this.length;++p)this.isProtected(p)||this.setCell(p,v);else{this._combined={},this._extendedAttrs={};for(let p=0;p<this.length;++p)this.setCell(p,v)}}copyFrom(v){this.length!==v.length?this._data=new Uint32Array(v._data):this._data.set(v._data),this.length=v.length,this._combined={};for(const y in v._combined)this._combined[y]=v._combined[y];this._extendedAttrs={};for(const y in v._extendedAttrs)this._extendedAttrs[y]=v._extendedAttrs[y];this.isWrapped=v.isWrapped}clone(){const v=new k(0);v._data=new Uint32Array(this._data),v.length=this.length;for(const y in this._combined)v._combined[y]=this._combined[y];for(const y in this._extendedAttrs)v._extendedAttrs[y]=this._extendedAttrs[y];return v.isWrapped=this.isWrapped,v}getTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0])return v+(this._data[3*v+0]>>22);return 0}getNoBgTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0]||50331648&this._data[3*v+2])return v+(this._data[3*v+0]>>22);return 0}copyCellsFrom(v,y,p,_,E){const R=v._data;if(E)for(let T=_-1;T>=0;T--){for(let j=0;j<3;j++)this._data[3*(p+T)+j]=R[3*(y+T)+j];268435456&R[3*(y+T)+2]&&(this._extendedAttrs[p+T]=v._extendedAttrs[y+T])}else for(let T=0;T<_;T++){for(let j=0;j<3;j++)this._data[3*(p+T)+j]=R[3*(y+T)+j];268435456&R[3*(y+T)+2]&&(this._extendedAttrs[p+T]=v._extendedAttrs[y+T])}const N=Object.keys(v._combined);for(let T=0;T<N.length;T++){const j=parseInt(N[T],10);j>=y&&(this._combined[j-y+p]=v._combined[j])}}translateToString(v,y,p,_){y=y??0,p=p??this.length,v&&(p=Math.min(p,this.getTrimmedLength())),_&&(_.length=0);let E="";for(;y<p;){const R=this._data[3*y+0],N=2097151&R,T=2097152&R?this._combined[y]:N?(0,x.stringFromCodePoint)(N):d.WHITESPACE_CELL_CHAR;if(E+=T,_)for(let j=0;j<T.length;++j)_.push(y);y+=R>>22||1}return _&&_.push(y),E}}o.BufferLine=k},4841:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(c,h){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return h*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(f,o)=>{function c(h,g,d){if(g===h.length-1)return h[g].getTrimmedLength();const x=!h[g].hasContent(d-1)&&h[g].getWidth(d-1)===1,b=h[g+1].getWidth(0)===2;return x&&b?d-1:d}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(h,g,d,x,b){const k=[];for(let S=0;S<h.length-1;S++){let v=S,y=h.get(++v);if(!y.isWrapped)continue;const p=[h.get(S)];for(;v<h.length&&y.isWrapped;)p.push(y),y=h.get(++v);if(x>=S&&x<v){S+=p.length-1;continue}let _=0,E=c(p,_,g),R=1,N=0;for(;R<p.length;){const j=c(p,R,g),M=j-N,F=d-E,H=Math.min(M,F);p[_].copyCellsFrom(p[R],N,E,H,!1),E+=H,E===d&&(_++,E=0),N+=H,N===j&&(R++,N=0),E===0&&_!==0&&p[_-1].getWidth(d-1)===2&&(p[_].copyCellsFrom(p[_-1],d-1,E++,1,!1),p[_-1].setCell(d-1,b))}p[_].replaceCells(E,d,b);let T=0;for(let j=p.length-1;j>0&&(j>_||p[j].getTrimmedLength()===0);j--)T++;T>0&&(k.push(S+p.length-T),k.push(T)),S+=p.length-1}return k},o.reflowLargerCreateNewLayout=function(h,g){const d=[];let x=0,b=g[x],k=0;for(let S=0;S<h.length;S++)if(b===S){const v=g[++x];h.onDeleteEmitter.fire({index:S-k,amount:v}),S+=v-1,k+=v,b=g[++x]}else d.push(S);return{layout:d,countRemoved:k}},o.reflowLargerApplyNewLayout=function(h,g){const d=[];for(let x=0;x<g.length;x++)d.push(h.get(g[x]));for(let x=0;x<d.length;x++)h.set(x,d[x]);h.length=g.length},o.reflowSmallerGetNewLineLengths=function(h,g,d){const x=[],b=h.map(((y,p)=>c(h,p,g))).reduce(((y,p)=>y+p));let k=0,S=0,v=0;for(;v<b;){if(b-v<d){x.push(b-v);break}k+=d;const y=c(h,S,g);k>y&&(k-=y,S++);const p=h[S].getWidth(k-1)===2;p&&k--;const _=p?d-1:d;x.push(_),v+=_}return x},o.getWrappedLineTrimmedLength=c},5295:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const h=c(8460),g=c(844),d=c(9092);class x extends g.Disposable{constructor(k,S){super(),this._optionsService=k,this._bufferService=S,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,S){this._normal.resize(k,S),this._alt.resize(k,S),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}o.BufferSet=x},511:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const h=c(482),g=c(643),d=c(3734);class x extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const S=new x;return S.setFromCharData(k),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(k[g.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(k[g.CHAR_DATA_CHAR_INDEX].length===2){const v=k[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const y=k[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(v-55296)+y-56320+65536|k[g.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=k[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[g.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=k[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=x},643:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const h=c(8460),g=c(844);class d{get id(){return this._id}constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}o.Marker=d,d._nextId=1},7116:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(f,o)=>{var c,h,g;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,(function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""})(c||(o.C0=c={})),(function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""})(h||(o.C1=h={})),(function(d){d.ST=`${c.ESC}\\`})(g||(o.C1_ESCAPED=g={}))},7399:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const h=c(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(d,x,b,k){const S={type:0,cancel:!1,key:void 0},v=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?S.key=x?h.C0.ESC+"OA":h.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?S.key=x?h.C0.ESC+"OD":h.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?S.key=x?h.C0.ESC+"OC":h.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(S.key=x?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:S.key=d.ctrlKey?"\b":h.C0.DEL,d.altKey&&(S.key=h.C0.ESC+S.key);break;case 9:if(d.shiftKey){S.key=h.C0.ESC+"[Z";break}S.key=h.C0.HT,S.cancel=!0;break;case 13:S.key=d.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,S.cancel=!0;break;case 27:S.key=h.C0.ESC,d.altKey&&(S.key=h.C0.ESC+h.C0.ESC),S.cancel=!0;break;case 37:if(d.metaKey)break;v?(S.key=h.C0.ESC+"[1;"+(v+1)+"D",S.key===h.C0.ESC+"[1;3D"&&(S.key=h.C0.ESC+(b?"b":"[1;5D"))):S.key=x?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(d.metaKey)break;v?(S.key=h.C0.ESC+"[1;"+(v+1)+"C",S.key===h.C0.ESC+"[1;3C"&&(S.key=h.C0.ESC+(b?"f":"[1;5C"))):S.key=x?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(d.metaKey)break;v?(S.key=h.C0.ESC+"[1;"+(v+1)+"A",b||S.key!==h.C0.ESC+"[1;3A"||(S.key=h.C0.ESC+"[1;5A")):S.key=x?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(d.metaKey)break;v?(S.key=h.C0.ESC+"[1;"+(v+1)+"B",b||S.key!==h.C0.ESC+"[1;3B"||(S.key=h.C0.ESC+"[1;5B")):S.key=x?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(S.key=h.C0.ESC+"[2~");break;case 46:S.key=v?h.C0.ESC+"[3;"+(v+1)+"~":h.C0.ESC+"[3~";break;case 36:S.key=v?h.C0.ESC+"[1;"+(v+1)+"H":x?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:S.key=v?h.C0.ESC+"[1;"+(v+1)+"F":x?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:d.shiftKey?S.type=2:d.ctrlKey?S.key=h.C0.ESC+"[5;"+(v+1)+"~":S.key=h.C0.ESC+"[5~";break;case 34:d.shiftKey?S.type=3:d.ctrlKey?S.key=h.C0.ESC+"[6;"+(v+1)+"~":S.key=h.C0.ESC+"[6~";break;case 112:S.key=v?h.C0.ESC+"[1;"+(v+1)+"P":h.C0.ESC+"OP";break;case 113:S.key=v?h.C0.ESC+"[1;"+(v+1)+"Q":h.C0.ESC+"OQ";break;case 114:S.key=v?h.C0.ESC+"[1;"+(v+1)+"R":h.C0.ESC+"OR";break;case 115:S.key=v?h.C0.ESC+"[1;"+(v+1)+"S":h.C0.ESC+"OS";break;case 116:S.key=v?h.C0.ESC+"[15;"+(v+1)+"~":h.C0.ESC+"[15~";break;case 117:S.key=v?h.C0.ESC+"[17;"+(v+1)+"~":h.C0.ESC+"[17~";break;case 118:S.key=v?h.C0.ESC+"[18;"+(v+1)+"~":h.C0.ESC+"[18~";break;case 119:S.key=v?h.C0.ESC+"[19;"+(v+1)+"~":h.C0.ESC+"[19~";break;case 120:S.key=v?h.C0.ESC+"[20;"+(v+1)+"~":h.C0.ESC+"[20~";break;case 121:S.key=v?h.C0.ESC+"[21;"+(v+1)+"~":h.C0.ESC+"[21~";break;case 122:S.key=v?h.C0.ESC+"[23;"+(v+1)+"~":h.C0.ESC+"[23~";break;case 123:S.key=v?h.C0.ESC+"[24;"+(v+1)+"~":h.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(b&&!k||!d.altKey||d.metaKey)!b||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?S.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(S.key=h.C0.US),d.key==="@"&&(S.key=h.C0.NUL)):d.keyCode===65&&(S.type=1);else{const y=g[d.keyCode],p=y==null?void 0:y[d.shiftKey?1:0];if(p)S.key=h.C0.ESC+p;else if(d.keyCode>=65&&d.keyCode<=90){const _=d.ctrlKey?d.keyCode-64:d.keyCode+32;let E=String.fromCharCode(_);d.shiftKey&&(E=E.toUpperCase()),S.key=h.C0.ESC+E}else if(d.keyCode===32)S.key=h.C0.ESC+(d.ctrlKey?h.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let _=d.code.slice(3,4);d.shiftKey||(_=_.toLowerCase()),S.key=h.C0.ESC+_,S.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?S.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?S.key=h.C0.NUL:d.keyCode>=51&&d.keyCode<=55?S.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?S.key=h.C0.DEL:d.keyCode===219?S.key=h.C0.ESC:d.keyCode===220?S.key=h.C0.FS:d.keyCode===221&&(S.key=h.C0.GS)}return S}},482:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},o.utf32ToString=function(c,h=0,g=c.length){let d="";for(let x=h;x<g;++x){let b=c[x];b>65535?(b-=65536,d+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):d+=String.fromCharCode(b)}return d},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,h){const g=c.length;if(!g)return 0;let d=0,x=0;if(this._interim){const b=c.charCodeAt(x++);56320<=b&&b<=57343?h[d++]=1024*(this._interim-55296)+b-56320+65536:(h[d++]=this._interim,h[d++]=b),this._interim=0}for(let b=x;b<g;++b){const k=c.charCodeAt(b);if(55296<=k&&k<=56319){if(++b>=g)return this._interim=k,d;const S=c.charCodeAt(b);56320<=S&&S<=57343?h[d++]=1024*(k-55296)+S-56320+65536:(h[d++]=k,h[d++]=S)}else k!==65279&&(h[d++]=k)}return d}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,h){const g=c.length;if(!g)return 0;let d,x,b,k,S=0,v=0,y=0;if(this.interim[0]){let E=!1,R=this.interim[0];R&=(224&R)==192?31:(240&R)==224?15:7;let N,T=0;for(;(N=63&this.interim[++T])&&T<4;)R<<=6,R|=N;const j=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,M=j-T;for(;y<M;){if(y>=g)return 0;if(N=c[y++],(192&N)!=128){y--,E=!0;break}this.interim[T++]=N,R<<=6,R|=63&N}E||(j===2?R<128?y--:h[S++]=R:j===3?R<2048||R>=55296&&R<=57343||R===65279||(h[S++]=R):R<65536||R>1114111||(h[S++]=R)),this.interim.fill(0)}const p=g-4;let _=y;for(;_<g;){for(;!(!(_<p)||128&(d=c[_])||128&(x=c[_+1])||128&(b=c[_+2])||128&(k=c[_+3]));)h[S++]=d,h[S++]=x,h[S++]=b,h[S++]=k,_+=4;if(d=c[_++],d<128)h[S++]=d;else if((224&d)==192){if(_>=g)return this.interim[0]=d,S;if(x=c[_++],(192&x)!=128){_--;continue}if(v=(31&d)<<6|63&x,v<128){_--;continue}h[S++]=v}else if((240&d)==224){if(_>=g)return this.interim[0]=d,S;if(x=c[_++],(192&x)!=128){_--;continue}if(_>=g)return this.interim[0]=d,this.interim[1]=x,S;if(b=c[_++],(192&b)!=128){_--;continue}if(v=(15&d)<<12|(63&x)<<6|63&b,v<2048||v>=55296&&v<=57343||v===65279)continue;h[S++]=v}else if((248&d)==240){if(_>=g)return this.interim[0]=d,S;if(x=c[_++],(192&x)!=128){_--;continue}if(_>=g)return this.interim[0]=d,this.interim[1]=x,S;if(b=c[_++],(192&b)!=128){_--;continue}if(_>=g)return this.interim[0]=d,this.interim[1]=x,this.interim[2]=b,S;if(k=c[_++],(192&k)!=128){_--;continue}if(v=(7&d)<<18|(63&x)<<12|(63&b)<<6|63&k,v<65536||v>1114111)continue;h[S++]=v}}return S}}},225:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const h=c(1480),g=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let x;o.UnicodeV6=class{constructor(){if(this.version="6",!x){x=new Uint8Array(65536),x.fill(1),x[0]=0,x.fill(0,1,32),x.fill(0,127,160),x.fill(2,4352,4448),x[9001]=2,x[9002]=2,x.fill(2,11904,42192),x[12351]=1,x.fill(2,44032,55204),x.fill(2,63744,64256),x.fill(2,65040,65050),x.fill(2,65072,65136),x.fill(2,65280,65377),x.fill(2,65504,65511);for(let b=0;b<g.length;++b)x.fill(0,g[b][0],g[b][1]+1)}}wcwidth(b){return b<32?0:b<127?1:b<65536?x[b]:(function(k,S){let v,y=0,p=S.length-1;if(k<S[0][0]||k>S[p][1])return!1;for(;p>=y;)if(v=y+p>>1,k>S[v][1])y=v+1;else{if(!(k<S[v][0]))return!0;p=v-1}return!1})(b,d)?0:b>=131072&&b<=196605||b>=196608&&b<=262141?2:1}charProperties(b,k){let S=this.wcwidth(b),v=S===0&&k!==0;if(v){const y=h.UnicodeService.extractWidth(k);y===0?v=!1:y>S&&(S=y)}return h.UnicodeService.createPropertyValue(0,S,v)}}},5981:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const h=c(8460),g=c(844);class d extends g.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const v=this._callbacks.shift();v&&v()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(k)}_innerWrite(b=0,k=!0){const S=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const v=this._writeBuffer[this._bufferOffset],y=this._action(v,k);if(y){const _=E=>Date.now()-S>=12?setTimeout((()=>this._innerWrite(0,E))):this._innerWrite(S,E);return void y.catch((E=>(queueMicrotask((()=>{throw E})),Promise.resolve(!1)))).then(_)}const p=this._callbacks[this._bufferOffset];if(p&&p(),this._bufferOffset++,this._pendingData-=v.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=d},5941:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function g(d,x){const b=d.toString(16),k=b.length<2?"0"+b:b;switch(x){case 4:return b[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}o.parseColor=function(d){if(!d)return;let x=d.toLowerCase();if(x.indexOf("rgb:")===0){x=x.slice(4);const b=c.exec(x);if(b){const k=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/k*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/k*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/k*255)]}}else if(x.indexOf("#")===0&&(x=x.slice(1),h.exec(x)&&[3,6,9,12].includes(x.length))){const b=x.length/3,k=[0,0,0];for(let S=0;S<3;++S){const v=parseInt(x.slice(b*S,b*S+b),16);k[S]=b===1?v<<4:b===2?v:b===3?v>>4:v>>8}return k}},o.toRgbString=function(d,x=16){const[b,k,S]=d;return`rgb:${g(b,x)}/${g(k,x)}/${g(S,x)}`}},5770:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const h=c(482),g=c(8742),d=c(5770),x=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=x,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=x}registerHandler(k,S){this._handlers[k]===void 0&&(this._handlers[k]=[]);const v=this._handlers[k];return v.push(S),{dispose:()=>{const y=v.indexOf(S);y!==-1&&v.splice(y,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=x,this._ident=0}hook(k,S){if(this.reset(),this._ident=k,this._active=this._handlers[k]||x,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].hook(S);else this._handlerFb(this._ident,"HOOK",S)}put(k,S,v){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(k,S,v);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(k,S,v))}unhook(k,S=!0){if(this._active.length){let v=!1,y=this._active.length-1,p=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,v=S,p=this._stack.fallThrough,this._stack.paused=!1),!p&&v===!1){for(;y>=0&&(v=this._active[y].unhook(k),v!==!0);y--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,v;y--}for(;y>=0;y--)if(v=this._active[y].unhook(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,v}else this._handlerFb(this._ident,"UNHOOK",k);this._active=x,this._ident=0}};const b=new g.Params;b.addParam(0),o.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=b,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():b,this._data="",this._hitLimit=!1}put(k,S,v){this._hitLimit||(this._data+=(0,h.utf32ToString)(k,S,v),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let S=!1;if(this._hitLimit)S=!1;else if(k&&(S=this._handler(this._data,this._params),S instanceof Promise))return S.then((v=>(this._params=b,this._data="",this._hitLimit=!1,v)));return this._params=b,this._data="",this._hitLimit=!1,S}}},2015:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const h=c(844),g=c(8742),d=c(6242),x=c(6351);class b{constructor(y){this.table=new Uint8Array(y)}setDefault(y,p){this.table.fill(y<<4|p)}add(y,p,_,E){this.table[p<<8|y]=_<<4|E}addMany(y,p,_,E){for(let R=0;R<y.length;R++)this.table[p<<8|y[R]]=_<<4|E}}o.TransitionTable=b;const k=160;o.VT500_TRANSITION_TABLE=(function(){const v=new b(4095),y=Array.apply(null,Array(256)).map(((T,j)=>j)),p=(T,j)=>y.slice(T,j),_=p(32,127),E=p(0,24);E.push(25),E.push.apply(E,p(28,32));const R=p(0,14);let N;for(N in v.setDefault(1,0),v.addMany(_,0,2,0),R)v.addMany([24,26,153,154],N,3,0),v.addMany(p(128,144),N,3,0),v.addMany(p(144,152),N,3,0),v.add(156,N,0,0),v.add(27,N,11,1),v.add(157,N,4,8),v.addMany([152,158,159],N,0,7),v.add(155,N,11,3),v.add(144,N,11,9);return v.addMany(E,0,3,0),v.addMany(E,1,3,1),v.add(127,1,0,1),v.addMany(E,8,0,8),v.addMany(E,3,3,3),v.add(127,3,0,3),v.addMany(E,4,3,4),v.add(127,4,0,4),v.addMany(E,6,3,6),v.addMany(E,5,3,5),v.add(127,5,0,5),v.addMany(E,2,3,2),v.add(127,2,0,2),v.add(93,1,4,8),v.addMany(_,8,5,8),v.add(127,8,5,8),v.addMany([156,27,24,26,7],8,6,0),v.addMany(p(28,32),8,0,8),v.addMany([88,94,95],1,0,7),v.addMany(_,7,0,7),v.addMany(E,7,0,7),v.add(156,7,0,0),v.add(127,7,0,7),v.add(91,1,11,3),v.addMany(p(64,127),3,7,0),v.addMany(p(48,60),3,8,4),v.addMany([60,61,62,63],3,9,4),v.addMany(p(48,60),4,8,4),v.addMany(p(64,127),4,7,0),v.addMany([60,61,62,63],4,0,6),v.addMany(p(32,64),6,0,6),v.add(127,6,0,6),v.addMany(p(64,127),6,0,0),v.addMany(p(32,48),3,9,5),v.addMany(p(32,48),5,9,5),v.addMany(p(48,64),5,0,6),v.addMany(p(64,127),5,7,0),v.addMany(p(32,48),4,9,5),v.addMany(p(32,48),1,9,2),v.addMany(p(32,48),2,9,2),v.addMany(p(48,127),2,10,0),v.addMany(p(48,80),1,10,0),v.addMany(p(81,88),1,10,0),v.addMany([89,90,92],1,10,0),v.addMany(p(96,127),1,10,0),v.add(80,1,11,9),v.addMany(E,9,0,9),v.add(127,9,0,9),v.addMany(p(28,32),9,0,9),v.addMany(p(32,48),9,9,12),v.addMany(p(48,60),9,8,10),v.addMany([60,61,62,63],9,9,10),v.addMany(E,11,0,11),v.addMany(p(32,128),11,0,11),v.addMany(p(28,32),11,0,11),v.addMany(E,10,0,10),v.add(127,10,0,10),v.addMany(p(28,32),10,0,10),v.addMany(p(48,60),10,8,10),v.addMany([60,61,62,63],10,0,11),v.addMany(p(32,48),10,9,12),v.addMany(E,12,0,12),v.add(127,12,0,12),v.addMany(p(28,32),12,0,12),v.addMany(p(32,48),12,9,12),v.addMany(p(48,64),12,0,11),v.addMany(p(64,127),12,12,13),v.addMany(p(64,127),10,12,13),v.addMany(p(64,127),9,12,13),v.addMany(E,13,13,13),v.addMany(_,13,13,13),v.add(127,13,0,13),v.addMany([27,156,24,26],13,14,0),v.add(k,0,2,0),v.add(k,8,5,8),v.add(k,6,0,6),v.add(k,11,0,11),v.add(k,13,13,13),v})();class S extends h.Disposable{constructor(y=o.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(p,_,E)=>{},this._executeHandlerFb=p=>{},this._csiHandlerFb=(p,_)=>{},this._escHandlerFb=p=>{},this._errorHandlerFb=p=>p,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new x.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(y,p=[64,126]){let _=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=y.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let R=0;R<y.intermediates.length;++R){const N=y.intermediates.charCodeAt(R);if(32>N||N>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=N}}if(y.final.length!==1)throw new Error("final must be a single byte");const E=y.final.charCodeAt(0);if(p[0]>E||E>p[1])throw new Error(`final must be in range ${p[0]} .. ${p[1]}`);return _<<=8,_|=E,_}identToString(y){const p=[];for(;y;)p.push(String.fromCharCode(255&y)),y>>=8;return p.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,p){const _=this._identifier(y,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const E=this._escHandlers[_];return E.push(p),{dispose:()=>{const R=E.indexOf(p);R!==-1&&E.splice(R,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,p){this._executeHandlers[y.charCodeAt(0)]=p}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,p){const _=this._identifier(y);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const E=this._csiHandlers[_];return E.push(p),{dispose:()=>{const R=E.indexOf(p);R!==-1&&E.splice(R,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,p){return this._dcsParser.registerHandler(this._identifier(y),p)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,p){return this._oscParser.registerHandler(y,p)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,p,_,E,R){this._parseStack.state=y,this._parseStack.handlers=p,this._parseStack.handlerPos=_,this._parseStack.transition=E,this._parseStack.chunkPos=R}parse(y,p,_){let E,R=0,N=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const j=this._parseStack.handlers;let M=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&M>-1){for(;M>=0&&(E=j[M](this._params),E!==!0);M--)if(E instanceof Promise)return this._parseStack.handlerPos=M,E}this._parseStack.handlers=[];break;case 4:if(_===!1&&M>-1){for(;M>=0&&(E=j[M](),E!==!0);M--)if(E instanceof Promise)return this._parseStack.handlerPos=M,E}this._parseStack.handlers=[];break;case 6:if(R=y[this._parseStack.chunkPos],E=this._dcsParser.unhook(R!==24&&R!==26,_),E)return E;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(R=y[this._parseStack.chunkPos],E=this._oscParser.end(R!==24&&R!==26,_),E)return E;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let j=T;j<p;++j){switch(R=y[j],N=this._transitions.table[this.currentState<<8|(R<160?R:k)],N>>4){case 2:for(let $=j+1;;++$){if($>=p||(R=y[$])<32||R>126&&R<k){this._printHandler(y,j,$),j=$-1;break}if(++$>=p||(R=y[$])<32||R>126&&R<k){this._printHandler(y,j,$),j=$-1;break}if(++$>=p||(R=y[$])<32||R>126&&R<k){this._printHandler(y,j,$),j=$-1;break}if(++$>=p||(R=y[$])<32||R>126&&R<k){this._printHandler(y,j,$),j=$-1;break}}break;case 3:this._executeHandlers[R]?this._executeHandlers[R]():this._executeHandlerFb(R),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:j,code:R,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const M=this._csiHandlers[this._collect<<8|R];let F=M?M.length-1:-1;for(;F>=0&&(E=M[F](this._params),E!==!0);F--)if(E instanceof Promise)return this._preserveStack(3,M,F,N,j),E;F<0&&this._csiHandlerFb(this._collect<<8|R,this._params),this.precedingJoinState=0;break;case 8:do switch(R){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(R-48)}while(++j<p&&(R=y[j])>47&&R<60);j--;break;case 9:this._collect<<=8,this._collect|=R;break;case 10:const H=this._escHandlers[this._collect<<8|R];let W=H?H.length-1:-1;for(;W>=0&&(E=H[W](),E!==!0);W--)if(E instanceof Promise)return this._preserveStack(4,H,W,N,j),E;W<0&&this._escHandlerFb(this._collect<<8|R),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|R,this._params);break;case 13:for(let $=j+1;;++$)if($>=p||(R=y[$])===24||R===26||R===27||R>127&&R<k){this._dcsParser.put(y,j,$),j=$-1;break}break;case 14:if(E=this._dcsParser.unhook(R!==24&&R!==26),E)return this._preserveStack(6,[],0,N,j),E;R===27&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let $=j+1;;$++)if($>=p||(R=y[$])<32||R>127&&R<k){this._oscParser.put(y,j,$),j=$-1;break}break;case 6:if(E=this._oscParser.end(R!==24&&R!==26),E)return this._preserveStack(5,[],0,N,j),E;R===27&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&N}}}o.EscapeSequenceParser=S},6242:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const h=c(5770),g=c(482),d=[];o.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(x,b){this._handlers[x]===void 0&&(this._handlers[x]=[]);const k=this._handlers[x];return k.push(b),{dispose:()=>{const S=k.indexOf(b);S!==-1&&k.splice(S,1)}}}clearHandler(x){this._handlers[x]&&delete this._handlers[x]}setHandlerFallback(x){this._handlerFb=x}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let x=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;x>=0;--x)this._active[x].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].start();else this._handlerFb(this._id,"START")}_put(x,b,k){if(this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].put(x,b,k);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(x,b,k))}start(){this.reset(),this._state=1}put(x,b,k){if(this._state!==3){if(this._state===1)for(;b<k;){const S=x[b++];if(S===59){this._state=2,this._start();break}if(S<48||57<S)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+S-48}this._state===2&&k-b>0&&this._put(x,b,k)}}end(x,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,S=this._active.length-1,v=!1;if(this._stack.paused&&(S=this._stack.loopPosition-1,k=b,v=this._stack.fallThrough,this._stack.paused=!1),!v&&k===!1){for(;S>=0&&(k=this._active[S].end(x),k!==!0);S--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!1,k;S--}for(;S>=0;S--)if(k=this._active[S].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",x);this._active=d,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(x){this._handler=x,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(x,b,k){this._hitLimit||(this._data+=(0,g.utf32ToString)(x,b,k),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(x){let b=!1;if(this._hitLimit)b=!1;else if(x&&(b=this._handler(this._data),b instanceof Promise))return b.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,b}}},8742:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const c=2147483647;class h{static fromArray(d){const x=new h;if(!d.length)return x;for(let b=Array.isArray(d[0])?1:0;b<d.length;++b){const k=d[b];if(Array.isArray(k))for(let S=0;S<k.length;++S)x.addSubParam(k[S]);else x.addParam(k)}return x}constructor(d=32,x=32){if(this.maxLength=d,this.maxSubParamsLength=x,x>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(x),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new h(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let x=0;x<this.length;++x){d.push(this.params[x]);const b=this._subParamsIdx[x]>>8,k=255&this._subParamsIdx[x];k-b>0&&d.push(Array.prototype.slice.call(this._subParams,b,k))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>c?c:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>c?c:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const x=this._subParamsIdx[d]>>8,b=255&this._subParamsIdx[d];return b-x>0?this._subParams.subarray(x,b):null}getSubParamsAll(){const d={};for(let x=0;x<this.length;++x){const b=this._subParamsIdx[x]>>8,k=255&this._subParamsIdx[x];k-b>0&&(d[x]=this._subParams.slice(b,k))}return d}addDigit(d){let x;if(this._rejectDigits||!(x=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,k=b[x-1];b[x-1]=~k?Math.min(10*k+d,c):d}}o.Params=h},5741:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,h){const g={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(g),h.dispose=()=>this._wrappedAddonDispose(g),h.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let h=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===c){h=g;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(h,1)}}},8771:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const h=c(3785),g=c(511);o.BufferApiView=class{constructor(d,x){this._buffer=d,this.type=x}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const x=this._buffer.lines.get(d);if(x)return new h.BufferLineApiView(x)}getNullCell(){return new g.CellData}}},3785:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const h=c(511);o.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,d){if(!(g<0||g>=this._line.length))return d?(this._line.loadCell(g,d),d):this._line.loadCell(g,new h.CellData)}translateToString(g,d,x){return this._line.translateToString(g,d,x)}}},8285:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const h=c(8771),g=c(8460),d=c(844);class x extends d.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=x},7975:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,h){return this._core.registerCsiHandler(c,(g=>h(g.toArray())))}addCsiHandler(c,h){return this.registerCsiHandler(c,h)}registerDcsHandler(c,h){return this._core.registerDcsHandler(c,((g,d)=>h(g,d.toArray())))}addDcsHandler(c,h){return this.registerDcsHandler(c,h)}registerEscHandler(c,h){return this._core.registerEscHandler(c,h)}addEscHandler(c,h){return this.registerEscHandler(c,h)}registerOscHandler(c,h){return this._core.registerOscHandler(c,h)}addOscHandler(c,h){return this.registerOscHandler(c,h)}}},7090:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(f,o,c){var h=this&&this.__decorate||function(v,y,p,_){var E,R=arguments.length,N=R<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,p):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,y,p,_);else for(var T=v.length-1;T>=0;T--)(E=v[T])&&(N=(R<3?E(N):R>3?E(y,p,N):E(y,p))||N);return R>3&&N&&Object.defineProperty(y,p,N),N},g=this&&this.__param||function(v,y){return function(p,_){y(p,_,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const d=c(8460),x=c(844),b=c(5295),k=c(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let S=o.BufferService=class extends x.Disposable{get buffer(){return this.buffers.active}constructor(v){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(v.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(v.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(v,this))}resize(v,y){this.cols=v,this.rows=y,this.buffers.resize(v,y),this._onResize.fire({cols:v,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(v,y=!1){const p=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===v.fg&&_.getBg(0)===v.bg||(_=p.getBlankLine(v,y),this._cachedBlankLine=_),_.isWrapped=y;const E=p.ybase+p.scrollTop,R=p.ybase+p.scrollBottom;if(p.scrollTop===0){const N=p.lines.isFull;R===p.lines.length-1?N?p.lines.recycle().copyFrom(_):p.lines.push(_.clone()):p.lines.splice(R+1,0,_.clone()),N?this.isUserScrolling&&(p.ydisp=Math.max(p.ydisp-1,0)):(p.ybase++,this.isUserScrolling||p.ydisp++)}else{const N=R-E+1;p.lines.shiftElements(E+1,N-1,-1),p.lines.set(R,_.clone())}this.isUserScrolling||(p.ydisp=p.ybase),this._onScroll.fire(p.ydisp)}scrollLines(v,y,p){const _=this.buffer;if(v<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else v+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const E=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+v,_.ybase),0),E!==_.ydisp&&(y||this._onScroll.fire(_.ydisp))}};o.BufferService=S=h([g(0,k.IOptionsService)],S)},7994:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,h){this._charsets[c]=h,this.glevel===c&&(this.charset=h)}}},1753:function(f,o,c){var h=this&&this.__decorate||function(_,E,R,N){var T,j=arguments.length,M=j<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,R):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,E,R,N);else for(var F=_.length-1;F>=0;F--)(T=_[F])&&(M=(j<3?T(M):j>3?T(E,R,M):T(E,R))||M);return j>3&&M&&Object.defineProperty(E,R,M),M},g=this&&this.__param||function(_,E){return function(R,N){E(R,N,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const d=c(2585),x=c(8460),b=c(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function S(_,E){let R=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(R|=64,R|=_.action):(R|=3&_.button,4&_.button&&(R|=64),8&_.button&&(R|=128),_.action===32?R|=32:_.action!==0||E||(R|=3)),R}const v=String.fromCharCode,y={DEFAULT:_=>{const E=[S(_,!1)+32,_.col+32,_.row+32];return E[0]>255||E[1]>255||E[2]>255?"":`\x1B[M${v(E[0])}${v(E[1])}${v(E[2])}`},SGR:_=>{const E=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${S(_,!0)};${_.col};${_.row}${E}`},SGR_PIXELS:_=>{const E=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${S(_,!0)};${_.x};${_.y}${E}`}};let p=o.CoreMouseService=class extends b.Disposable{constructor(_,E){super(),this._bufferService=_,this._coreService=E,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new x.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const R of Object.keys(k))this.addProtocol(R,k[R]);for(const R of Object.keys(y))this.addEncoding(R,y[R]);this.reset()}addProtocol(_,E){this._protocols[_]=E}addEncoding(_,E){this._encodings[_]=E}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const E=this._encodings[this._activeEncoding](_);return E&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(E):this._coreService.triggerDataEvent(E,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,E,R){if(R){if(_.x!==E.x||_.y!==E.y)return!1}else if(_.col!==E.col||_.row!==E.row)return!1;return _.button===E.button&&_.action===E.action&&_.ctrl===E.ctrl&&_.alt===E.alt&&_.shift===E.shift}};o.CoreMouseService=p=h([g(0,d.IBufferService),g(1,d.ICoreService)],p)},6975:function(f,o,c){var h=this&&this.__decorate||function(p,_,E,R){var N,T=arguments.length,j=T<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,_,E,R);else for(var M=p.length-1;M>=0;M--)(N=p[M])&&(j=(T<3?N(j):T>3?N(_,E,j):N(_,E))||j);return T>3&&j&&Object.defineProperty(_,E,j),j},g=this&&this.__param||function(p,_){return function(E,R){_(E,R,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const d=c(1439),x=c(8460),b=c(844),k=c(2585),S=Object.freeze({insertMode:!1}),v=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=o.CoreService=class extends b.Disposable{constructor(p,_,E){super(),this._bufferService=p,this._logService=_,this._optionsService=E,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new x.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new x.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new x.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new x.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(S),this.decPrivateModes=(0,d.clone)(v)}reset(){this.modes=(0,d.clone)(S),this.decPrivateModes=(0,d.clone)(v)}triggerDataEvent(p,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const E=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&E.ybase!==E.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${p}"`,(()=>p.split("").map((R=>R.charCodeAt(0))))),this._onData.fire(p)}triggerBinaryEvent(p){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${p}"`,(()=>p.split("").map((_=>_.charCodeAt(0))))),this._onBinary.fire(p))}};o.CoreService=y=h([g(0,k.IBufferService),g(1,k.ILogService),g(2,k.IOptionsService)],y)},9074:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const h=c(8055),g=c(8460),d=c(844),x=c(6106);let b=0,k=0;class S extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new x.SortedList((p=>p==null?void 0:p.marker.line)),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)((()=>this.reset())))}registerDecoration(p){if(p.marker.isDisposed)return;const _=new v(p);if(_){const E=_.marker.onDispose((()=>_.dispose()));_.onDispose((()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),E.dispose())})),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const p of this._decorations.values())p.dispose();this._decorations.clear()}*getDecorationsAtCell(p,_,E){let R=0,N=0;for(const T of this._decorations.getKeyIterator(_))R=T.options.x??0,N=R+(T.options.width??1),p>=R&&p<N&&(!E||(T.options.layer??"bottom")===E)&&(yield T)}forEachDecorationAtCell(p,_,E,R){this._decorations.forEachByKey(_,(N=>{b=N.options.x??0,k=b+(N.options.width??1),p>=b&&p<k&&(!E||(N.options.layer??"bottom")===E)&&R(N)}))}}o.DecorationService=S;class v extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(p){super(),this.options=p,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=p.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const h=c(2585),g=c(8343);class d{constructor(...b){this._entries=new Map;for(const[k,S]of b)this.set(k,S)}set(b,k){const S=this._entries.get(b);return this._entries.set(b,k),S}forEach(b){for(const[k,S]of this._entries.entries())b(k,S)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}o.ServiceCollection=d,o.InstantiationService=class{constructor(){this._services=new d,this._services.set(h.IInstantiationService,this)}setService(x,b){this._services.set(x,b)}getService(x){return this._services.get(x)}createInstance(x,...b){const k=(0,g.getServiceDependencies)(x).sort(((y,p)=>y.index-p.index)),S=[];for(const y of k){const p=this._services.get(y.id);if(!p)throw new Error(`[createInstance] ${x.name} depends on UNKNOWN service ${y.id}.`);S.push(p)}const v=k.length>0?k[0].index:b.length;if(b.length!==v)throw new Error(`[createInstance] First service dependency of ${x.name} at position ${v+1} conflicts with ${b.length} static arguments`);return new x(...b,...S)}}},7866:function(f,o,c){var h=this&&this.__decorate||function(v,y,p,_){var E,R=arguments.length,N=R<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,p):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,y,p,_);else for(var T=v.length-1;T>=0;T--)(E=v[T])&&(N=(R<3?E(N):R>3?E(y,p,N):E(y,p))||N);return R>3&&N&&Object.defineProperty(y,p,N),N},g=this&&this.__param||function(v,y){return function(p,_){y(p,_,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const d=c(844),x=c(2585),b={trace:x.LogLevelEnum.TRACE,debug:x.LogLevelEnum.DEBUG,info:x.LogLevelEnum.INFO,warn:x.LogLevelEnum.WARN,error:x.LogLevelEnum.ERROR,off:x.LogLevelEnum.OFF};let k,S=o.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=x.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let y=0;y<v.length;y++)typeof v[y]=="function"&&(v[y]=v[y]())}_log(v,y,p){this._evalLazyOptionalParams(p),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...p)}trace(v,...y){var p;this._logLevel<=x.LogLevelEnum.TRACE&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.trace.bind(this._optionsService.options.logger))??console.log,v,y)}debug(v,...y){var p;this._logLevel<=x.LogLevelEnum.DEBUG&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.debug.bind(this._optionsService.options.logger))??console.log,v,y)}info(v,...y){var p;this._logLevel<=x.LogLevelEnum.INFO&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.info.bind(this._optionsService.options.logger))??console.info,v,y)}warn(v,...y){var p;this._logLevel<=x.LogLevelEnum.WARN&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.warn.bind(this._optionsService.options.logger))??console.warn,v,y)}error(v,...y){var p;this._logLevel<=x.LogLevelEnum.ERROR&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.error.bind(this._optionsService.options.logger))??console.error,v,y)}};o.LogService=S=h([g(0,x.IOptionsService)],S),o.setTraceLogger=function(v){k=v},o.traceCall=function(v,y,p){if(typeof p.value!="function")throw new Error("not supported");const _=p.value;p.value=function(...E){if(k.logLevel!==x.LogLevelEnum.TRACE)return _.apply(this,E);k.trace(`GlyphRenderer#${_.name}(${E.map((N=>JSON.stringify(N))).join(", ")})`);const R=_.apply(this,E);return k.trace(`GlyphRenderer#${_.name} return`,R),R}}},7302:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const h=c(8460),g=c(844),d=c(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const x=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends g.Disposable{constructor(S){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const v={...o.DEFAULT_OPTIONS};for(const y in S)if(y in v)try{const p=S[y];v[y]=this._sanitizeAndValidateOption(y,p)}catch(p){console.error(p)}this.rawOptions=v,this.options={...v},this._setupOptions(),this.register((0,g.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(S,v){return this.onOptionChange((y=>{y===S&&v(this.rawOptions[S])}))}onMultipleOptionChange(S,v){return this.onOptionChange((y=>{S.indexOf(y)!==-1&&v()}))}_setupOptions(){const S=y=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},v=(y,p)=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);p=this._sanitizeAndValidateOption(y,p),this.rawOptions[y]!==p&&(this.rawOptions[y]=p,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const p={get:S.bind(this,y),set:v.bind(this,y)};Object.defineProperty(this.options,y,p)}}_sanitizeAndValidateOption(S,v){switch(S){case"cursorStyle":if(v||(v=o.DEFAULT_OPTIONS[S]),!(function(y){return y==="block"||y==="underline"||y==="bar"})(v))throw new Error(`"${v}" is not a valid value for ${S}`);break;case"wordSeparator":v||(v=o.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=x.includes(v)?v:o.DEFAULT_OPTIONS[S];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${S} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${v}`);break;case"rows":case"cols":if(!v&&v!==0)throw new Error(`${S} must be numeric, value: ${v}`);break;case"windowsPty":v=v??{}}return v}}o.OptionsService=b},2660:function(f,o,c){var h=this&&this.__decorate||function(b,k,S,v){var y,p=arguments.length,_=p<3?k:v===null?v=Object.getOwnPropertyDescriptor(k,S):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(b,k,S,v);else for(var E=b.length-1;E>=0;E--)(y=b[E])&&(_=(p<3?y(_):p>3?y(k,S,_):y(k,S))||_);return p>3&&_&&Object.defineProperty(k,S,_),_},g=this&&this.__param||function(b,k){return function(S,v){k(S,v,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const d=c(2585);let x=o.OscLinkService=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const k=this._bufferService.buffer;if(b.id===void 0){const E=k.addMarker(k.ybase+k.y),R={data:b,id:this._nextId++,lines:[E]};return E.onDispose((()=>this._removeMarkerFromLink(R,E))),this._dataByLinkId.set(R.id,R),R.id}const S=b,v=this._getEntryIdKey(S),y=this._entriesWithId.get(v);if(y)return this.addLineToLink(y.id,k.ybase+k.y),y.id;const p=k.addMarker(k.ybase+k.y),_={id:this._nextId++,key:this._getEntryIdKey(S),data:S,lines:[p]};return p.onDispose((()=>this._removeMarkerFromLink(_,p))),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(b,k){const S=this._dataByLinkId.get(b);if(S&&S.lines.every((v=>v.line!==k))){const v=this._bufferService.buffer.addMarker(k);S.lines.push(v),v.onDispose((()=>this._removeMarkerFromLink(S,v)))}}getLinkData(b){var k;return(k=this._dataByLinkId.get(b))==null?void 0:k.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,k){const S=b.lines.indexOf(k);S!==-1&&(b.lines.splice(S,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};o.OscLinkService=x=h([g(0,d.IBufferService)],x)},8343:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const c="di$target",h="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(g){return g[h]||[]},o.createDecorator=function(g){if(o.serviceRegistry.has(g))return o.serviceRegistry.get(g);const d=function(x,b,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(S,v,y){v[c]===v?v[h].push({id:S,index:y}):(v[h]=[{id:S,index:y}],v[c]=v)})(d,x,k)};return d.toString=()=>g,o.serviceRegistry.set(g,d),d}},2585:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const h=c(8343);var g;o.IBufferService=(0,h.createDecorator)("BufferService"),o.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),o.ICoreService=(0,h.createDecorator)("CoreService"),o.ICharsetService=(0,h.createDecorator)("CharsetService"),o.IInstantiationService=(0,h.createDecorator)("InstantiationService"),(function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"})(g||(o.LogLevelEnum=g={})),o.ILogService=(0,h.createDecorator)("LogService"),o.IOptionsService=(0,h.createDecorator)("OptionsService"),o.IOscLinkService=(0,h.createDecorator)("OscLinkService"),o.IUnicodeService=(0,h.createDecorator)("UnicodeService"),o.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(f,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const h=c(8460),g=c(225);class d{static extractShouldJoin(b){return(1&b)!=0}static extractWidth(b){return b>>1&3}static extractCharKind(b){return b>>3}static createPropertyValue(b,k,S=!1){return(16777215&b)<<3|(3&k)<<1|(S?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const b=new g.UnicodeV6;this.register(b),this._active=b.version,this._activeProvider=b}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(b){if(!this._providers[b])throw new Error(`unknown Unicode version "${b}"`);this._active=b,this._activeProvider=this._providers[b],this._onChange.fire(b)}register(b){this._providers[b.version]=b}wcwidth(b){return this._activeProvider.wcwidth(b)}getStringCellWidth(b){let k=0,S=0;const v=b.length;for(let y=0;y<v;++y){let p=b.charCodeAt(y);if(55296<=p&&p<=56319){if(++y>=v)return k+this.wcwidth(p);const R=b.charCodeAt(y);56320<=R&&R<=57343?p=1024*(p-55296)+R-56320+65536:k+=this.wcwidth(R)}const _=this.charProperties(p,S);let E=d.extractWidth(_);d.extractShouldJoin(_)&&(E-=d.extractWidth(S)),k+=E,S=_}return k}charProperties(b,k){return this._activeProvider.charProperties(b,k)}}o.UnicodeService=d}},i={};function l(f){var o=i[f];if(o!==void 0)return o.exports;var c=i[f]={exports:{}};return s[f].call(c.exports,c,c.exports,l),c.exports}var m={};return(()=>{var f=m;Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const o=l(9042),c=l(3236),h=l(844),g=l(5741),d=l(8285),x=l(7975),b=l(7090),k=["cols","rows"];class S extends h.Disposable{constructor(y){super(),this._core=this.register(new c.Terminal(y)),this._addonManager=this.register(new g.AddonManager),this._publicOptions={...this._core.options};const p=E=>this._core.options[E],_=(E,R)=>{this._checkReadonlyOptions(E),this._core.options[E]=R};for(const E in this._core.options){const R={get:p.bind(this,E),set:_.bind(this,E)};Object.defineProperty(this._publicOptions,E,R)}}_checkReadonlyOptions(y){if(k.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new x.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new b.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const p in y)this._publicOptions[p]=y[p]}blur(){this._core.blur()}focus(){this._core.focus()}input(y,p=!0){this._core.input(y,p)}resize(y,p){this._verifyIntegers(y,p),this._core.resize(y,p)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}attachCustomWheelEventHandler(y){this._core.attachCustomWheelEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){return this._checkProposedApi(),this._verifyPositiveIntegers(y.x??0,y.width??0,y.height??0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,p,_){this._verifyIntegers(y,p,_),this._core.select(y,p,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,p){this._verifyIntegers(y,p),this._core.selectLines(y,p)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,p){this._core.write(y,p)}writeln(y,p){this._core.write(y),this._core.write(`\r
`,p)}paste(y){this._core.paste(y)}refresh(y,p){this._verifyIntegers(y,p),this._core.refresh(y,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return o}_verifyIntegers(...y){for(const p of y)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const p of y)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}f.Terminal=S})(),m})()))})(gh)),gh.exports}var rO=tO(),vh={exports:{}},by;function sO(){return by||(by=1,(function(e,t){(function(s,i){e.exports=i()})(self,(()=>(()=>{var s={};return(()=>{var i=s;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(l){this._terminal=l}dispose(){}fit(){const l=this.proposeDimensions();if(!l||!this._terminal||isNaN(l.cols)||isNaN(l.rows))return;const m=this._terminal._core;this._terminal.rows===l.rows&&this._terminal.cols===l.cols||(m._renderService.clear(),this._terminal.resize(l.cols,l.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const l=this._terminal._core,m=l._renderService.dimensions;if(m.css.cell.width===0||m.css.cell.height===0)return;const f=this._terminal.options.scrollback===0?0:l.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(o.getPropertyValue("height")),h=Math.max(0,parseInt(o.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),d=c-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),x=h-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-f;return{cols:Math.max(2,Math.floor(x/m.css.cell.width)),rows:Math.max(1,Math.floor(d/m.css.cell.height))}}}})(),s})()))})(vh)),vh.exports}var nO=sO(),yh={exports:{}},Cy;function iO(){return Cy||(Cy=1,(function(e,t){(function(s,i){e.exports=i()})(self,(()=>(()=>{var s={6:(f,o)=>{function c(g){try{const d=new URL(g),x=d.password&&d.username?`${d.protocol}//${d.username}:${d.password}@${d.host}`:d.username?`${d.protocol}//${d.username}@${d.host}`:`${d.protocol}//${d.host}`;return g.toLocaleLowerCase().startsWith(x.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(o,"__esModule",{value:!0}),o.LinkComputer=o.WebLinkProvider=void 0,o.WebLinkProvider=class{constructor(g,d,x,b={}){this._terminal=g,this._regex=d,this._handler=x,this._options=b}provideLinks(g,d){const x=h.computeLink(g,this._regex,this._terminal,this._handler);d(this._addCallbacks(x))}_addCallbacks(g){return g.map((d=>(d.leave=this._options.leave,d.hover=(x,b)=>{if(this._options.hover){const{range:k}=d;this._options.hover(x,b,k)}},d)))}};class h{static computeLink(d,x,b,k){const S=new RegExp(x.source,(x.flags||"")+"g"),[v,y]=h._getWindowedLineStrings(d-1,b),p=v.join("");let _;const E=[];for(;_=S.exec(p);){const R=_[0];if(!c(R))continue;const[N,T]=h._mapStrIdx(b,y,0,_.index),[j,M]=h._mapStrIdx(b,N,T,R.length);if(N===-1||T===-1||j===-1||M===-1)continue;const F={start:{x:T+1,y:N+1},end:{x:M,y:j+1}};E.push({range:F,text:R,activate:k})}return E}static _getWindowedLineStrings(d,x){let b,k=d,S=d,v=0,y="";const p=[];if(b=x.buffer.active.getLine(d)){const _=b.translateToString(!0);if(b.isWrapped&&_[0]!==" "){for(v=0;(b=x.buffer.active.getLine(--k))&&v<2048&&(y=b.translateToString(!0),v+=y.length,p.push(y),b.isWrapped&&y.indexOf(" ")===-1););p.reverse()}for(p.push(_),v=0;(b=x.buffer.active.getLine(++S))&&b.isWrapped&&v<2048&&(y=b.translateToString(!0),v+=y.length,p.push(y),y.indexOf(" ")===-1););}return[p,k]}static _mapStrIdx(d,x,b,k){const S=d.buffer.active,v=S.getNullCell();let y=b;for(;k;){const p=S.getLine(x);if(!p)return[-1,-1];for(let _=y;_<p.length;++_){p.getCell(_,v);const E=v.getChars();if(v.getWidth()&&(k-=E.length||1,_===p.length-1&&E==="")){const R=S.getLine(x+1);R&&R.isWrapped&&(R.getCell(0,v),v.getWidth()===2&&(k+=1))}if(k<0)return[x,_]}x++,y=0}return[x,y]}}o.LinkComputer=h}},i={};function l(f){var o=i[f];if(o!==void 0)return o.exports;var c=i[f]={exports:{}};return s[f](c,c.exports,l),c.exports}var m={};return(()=>{var f=m;Object.defineProperty(f,"__esModule",{value:!0}),f.WebLinksAddon=void 0;const o=l(6),c=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function h(g,d){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}f.WebLinksAddon=class{constructor(g=h,d={}){this._handler=g,this._options=d}activate(g){this._terminal=g;const d=this._options,x=d.urlRegex||c;this._linkProvider=this._terminal.registerLinkProvider(new o.WebLinkProvider(this._terminal,x,this._handler,d))}dispose(){var g;(g=this._linkProvider)==null||g.dispose()}}})(),m})()))})(yh)),yh.exports}var oO=iO();function Np({cwd:e,initialCommand:t,onExit:s,onReady:i,className:l="",height:m="400px"}){const f=C.useRef(null),o=C.useRef(null),c=C.useRef(null),h=C.useRef(null),[g,d]=C.useState(!1),[x,b]=C.useState(null);C.useEffect(()=>{if(!f.current||o.current)return;const y=new rO.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', 'Consolas', monospace",theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),p=new nO.FitAddon;y.loadAddon(p),c.current=p;const _=new oO.WebLinksAddon;return y.loadAddon(_),y.open(f.current),o.current=y,setTimeout(()=>{p.fit()},0),k(y),()=>{h.current&&h.current.close(),y.dispose(),o.current=null}},[]);const k=C.useCallback(y=>{const p=window.location.protocol==="https:"?"wss:":"ws:",_=window.location.hostname,E=3333,R=new URLSearchParams;e&&R.set("cwd",e),t&&R.set("cmd",t);const N=`${p}//${_}:${E}/ws/terminal?${R.toString()}`;console.log("Connecting to terminal WebSocket:",N);const T=new WebSocket(N);h.current=T,T.onopen=()=>{console.log("Terminal WebSocket connected"),d(!0)},T.onmessage=j=>{try{const M=JSON.parse(j.data);switch(M.type){case"session":b(M.sessionId),i&&i(M.sessionId);break;case"output":y.write(M.data);break;case"exit":y.write(`\r
\x1B[33m[Process exited]\x1B[0m\r
`),s&&s(M.exitCode,M.signal);break;case"error":y.write(`\r
\x1B[31m[Error: ${M.message}]\x1B[0m\r
`),y.write(`\x1B[33mTip: The terminal requires a working shell. Try running the command manually.\x1B[0m\r
`);break}}catch{y.write(j.data)}},T.onclose=()=>{console.log("Terminal WebSocket closed"),d(!1),y.write(`\r
\x1B[31m[Disconnected]\x1B[0m\r
`)},T.onerror=j=>{console.error("Terminal WebSocket error:",j),y.write(`\r
\x1B[31m[Connection error]\x1B[0m\r
`)},y.onData(j=>{T.readyState===WebSocket.OPEN&&T.send(JSON.stringify({type:"input",data:j}))}),y.onResize(({cols:j,rows:M})=>{T.readyState===WebSocket.OPEN&&T.send(JSON.stringify({type:"resize",cols:j,rows:M}))})},[e,t,i,s]);C.useEffect(()=>{const y=()=>{c.current&&o.current&&c.current.fit()};window.addEventListener("resize",y);const p=new ResizeObserver(y);return f.current&&p.observe(f.current),()=>{window.removeEventListener("resize",y),p.disconnect()}},[]),C.useCallback(y=>{h.current&&h.current.readyState===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"input",data:y+"\r"}))},[]),C.useCallback(()=>{h.current&&h.current.readyState===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"kill"}))},[]);const S=C.useCallback(()=>{o.current&&o.current.focus()},[]);C.useCallback(()=>{o.current&&o.current.clear()},[]);const v=C.useCallback(()=>{if(o.current){const p=o.current.buffer.active;let _="";for(let E=0;E<p.length;E++){const R=p.getLine(E);R&&(_+=R.translateToString(!0)+`
`)}navigator.clipboard.writeText(_.trim()).then(()=>{const E=document.getElementById("terminal-copy-btn");E&&(E.classList.add("bg-green-600"),setTimeout(()=>E.classList.remove("bg-green-600"),500))})}},[]);return a.jsxs("div",{className:`relative ${l}`,style:{height:m},children:[a.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[a.jsx("button",{id:"terminal-copy-btn",onClick:v,className:"px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy terminal output",children:"Copy"}),a.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-xs text-gray-400",children:g?"Connected":"Disconnected"})]}),a.jsx("div",{ref:f,className:"w-full h-full rounded-lg overflow-hidden",style:{backgroundColor:"#1e1e1e"},onClick:S})]})}Np.sendCommand=(e,t)=>{e&&e.sendCommand&&e.sendCommand(t)};const aO="~/reg/tools";function lO({project:e}){const[t,s]=C.useState(""),[i,l]=C.useState(""),[m,f]=C.useState(aO),[o,c]=C.useState(!1),[h,g]=C.useState(null),[d,x]=C.useState(!1),b=()=>{if(!t.trim()){ue.error("Please enter an MCP name");return}const y=`Create a new MCP server project called "${t}" with the following:
- Use Python with uv for package management
- Use FastMCP framework
- Description: ${i||"A custom MCP server"}
- Create a single mcp_server.py file with basic structure
- Include a pyproject.toml configured for uv
- Add a README.md with usage instructions`;g(`cd "${m}" && claude "${y}"`),c(!0),x(!0)},k=y=>{console.log("Terminal session ready:",y)},S=(y,p)=>{console.log("Terminal exited:",y,p),x(!1),y===0&&ue.success("MCP project created successfully!")},v=()=>{c(!1),g(null),x(!1),s(""),l("")};return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"flex-none p-6 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(ks,{className:"w-7 h-7 text-purple-600"}),"Create MCP Server"]}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Generate a new MCP server project with Claude Code assistance"})]}),o&&a.jsxs(pe,{variant:"outline",onClick:v,className:"text-gray-600",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"New Project"]})]})}),a.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[a.jsx("div",{className:`${o?"w-1/3 border-r border-gray-200":"w-full max-w-2xl mx-auto"} p-6 overflow-auto`,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MCP Name *"}),a.jsx(Ge,{value:t,onChange:y=>s(y.target.value),placeholder:"my-awesome-mcp",className:"bg-white border-gray-300",disabled:d}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be the project folder name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx(st,{value:i,onChange:y=>l(y.target.value),placeholder:"Describe what your MCP server will do...",className:"bg-white border-gray-300 min-h-[100px]",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Directory"}),a.jsx(Ge,{value:m,onChange:y=>f(y.target.value),placeholder:"/path/to/projects",className:"bg-white border-gray-300 font-mono text-sm",disabled:d}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where to create the new MCP project"})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-purple-900 mb-2",children:"What will be created:"}),a.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(ax,{className:"w-4 h-4"}),"Python project with uv package manager"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"w-4 h-4"}),"FastMCP framework setup"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),"mcp_server.py with basic structure"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Jo,{className:"w-4 h-4"}),"pyproject.toml configured for uv"]})]})]}),!o&&a.jsxs(pe,{onClick:b,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!t.trim(),children:[a.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create & Launch Claude Code"]})]})}),o&&a.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900",children:[a.jsxs("div",{className:"flex-none px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Claude Code Terminal"})]}),a.jsx("div",{className:"flex items-center gap-2",children:d&&a.jsxs(ut,{variant:"outline",className:"bg-green-900/50 text-green-400 border-green-700",children:[a.jsx(Ct,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]})})]}),a.jsx("div",{className:"flex-1",children:a.jsx(Np,{cwd:m,initialCommand:h,onReady:k,onExit:S,height:"100%"})})]})]})]})}function cO({project:e,configs:t}){const[s,i]=C.useState({}),[l,m]=C.useState(""),[f,o]=C.useState({}),[c,h]=C.useState(!1);C.useEffect(()=>{g()},[e.dir]);const g=async()=>{try{const k=await Ae.getEnv(e.dir);m(k.content||"");const S={};(k.content||"").split(`
`).forEach(v=>{const y=v.match(/^([^=]+)=(.*)$/);y&&(S[y[1]]=y[2])}),o(S)}catch{}},d=k=>{i(S=>({...S,[k]:!S[k]}))},x=async()=>{h(!0);try{await Ae.saveEnv(e.dir,l),ue.success("Environment saved!")}catch{ue.error("Failed to save environment")}finally{h(!1)}},b=k=>{navigator.clipboard.writeText(k),ue.success("Copied to clipboard!")};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(ux,{className:"w-5 h-5 text-rose-600"}),"Environment Variables"]})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Environment variables are stored in ",a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".claude/.env"})," and used for MCP server configuration."]}),Object.keys(f).length>0?a.jsx("div",{className:"space-y-3 mb-4",children:Object.entries(f).map(([k,S],v)=>a.jsxs(ln.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.05},className:"bg-gray-50 rounded-lg border border-gray-200 p-4 flex items-center gap-4",children:[a.jsx("code",{className:"text-indigo-600 font-semibold min-w-[200px]",children:k}),a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsx(Ge,{type:s[k]?"text":"password",value:S,className:"bg-white border-gray-300 text-gray-900 font-mono",readOnly:!0}),a.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>d(k),className:"text-gray-500 hover:text-gray-900",children:a.jsx(ox,{className:"w-4 h-4"})}),a.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>b(S),className:"text-gray-500 hover:text-gray-900",children:a.jsx(Mi,{className:"w-4 h-4"})})]})]},k))}):a.jsx("div",{className:"text-center py-4 text-gray-500 mb-4",children:"No environment variables defined."}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Edit .env file"}),a.jsx(st,{value:l,onChange:k=>m(k.target.value),placeholder:`KEY=value
ANOTHER_KEY=another_value`,className:"min-h-[200px] font-mono text-sm bg-gray-50 border-gray-300 text-gray-900 mb-4"}),a.jsxs(pe,{onClick:x,disabled:c,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[c?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($i,{className:"w-4 h-4 mr-2"}),"Save Environment"]})]})]})]})})}function uO({templates:e,project:t,onApply:s}){const[i,l]=C.useState(null),m=async f=>{l(f);try{await Ae.applyTemplate(f,t.dir),ue.success(`Template "${f}" applied!`),s()}catch(o){ue.error("Failed to apply template: "+o.message)}finally{l(null)}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Rc,{className:"w-5 h-5 text-cyan-600"}),"Templates"]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Apply a template to quickly set up rules, commands, and MCP configurations for your project."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((f,o)=>{var c;return a.jsxs(ln.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:o*.05},className:"bg-white rounded-lg border border-gray-200 p-5 hover:border-cyan-300 hover:shadow-lg transition-all group",children:[a.jsx(ut,{variant:"outline",className:"bg-cyan-50 text-cyan-700 border-cyan-200 mb-3 text-[10px] uppercase tracking-wider",children:f.category}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:f.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.description||"Project template"}),((c=f.mcpDefaults)==null?void 0:c.length)>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"MCPs: "}),a.jsx("span",{className:"text-xs text-gray-700",children:f.mcpDefaults.join(", ")})]}),a.jsxs(pe,{size:"sm",onClick:()=>m(f.fullName||`${f.category}/${f.name}`),disabled:i===(f.fullName||f.name),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[i===(f.fullName||f.name)?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Apply Template"]})]},f.fullName||f.name)}),e.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No templates available."})]})]})]})})}function dO({project:e,onRefresh:t}){var i,l;const s=async m=>{try{await Ae.switchProject(m),window.location.reload()}catch(f){ue.error("Failed to switch project: "+f.message)}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(bt,{className:"w-5 h-5 text-amber-500"}),"Sub-Projects"]}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:t,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),a.jsxs("div",{className:"p-4 mx-4 mb-4 mt-4 bg-amber-50 rounded-lg border-l-4 border-amber-500",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-semibold text-amber-700",children:"Current Directory:"})," ",a.jsx("code",{className:"text-gray-600 bg-white px-2 py-0.5 rounded",children:e.dir})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",((i=e.subprojects)==null?void 0:i.length)||0," sub-project",(((l=e.subprojects)==null?void 0:l.length)||0)!==1?"s":""," with .git directories."]})]}),a.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(e.subprojects||[]).map((m,f)=>{var o,c,h,g;return a.jsxs(ln.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:f*.05},className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer group",onClick:()=>s(m.dir),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),a.jsxs("div",{className:"flex gap-1",children:[((o=m.markers)==null?void 0:o.git)&&a.jsx("span",{title:"Git",children:""}),((c=m.markers)==null?void 0:c.npm)&&a.jsx("span",{title:"NPM",children:""}),((h=m.markers)==null?void 0:h.python)&&a.jsx("span",{title:"Python",children:""}),((g=m.markers)==null?void 0:g.claude)&&a.jsx("span",{title:"Claude Config",children:""})]})]}),a.jsx("code",{className:"text-xs text-gray-500 block mb-3",children:m.relativePath||m.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ut,{variant:"outline",className:m.hasConfig?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-600 border-gray-200",children:m.hasConfig?` ${m.mcpCount} MCPs`:"No config"}),a.jsx(pe,{size:"sm",variant:"ghost",className:"h-7 px-2 text-gray-500 hover:text-gray-900 opacity-0 group-hover:opacity-100",children:a.jsx(Gl,{className:"w-3 h-3"})})]})]},m.name)}),(!e.subprojects||e.subprojects.length===0)&&a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No sub-projects found in this directory."})]})]})})}const hO=(e,t)=>{try{const s=localStorage.getItem(`claude-config-${e}`);return s?JSON.parse(s):t}catch{return t}},fO=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function pO({registry:e,searchQuery:t,setSearchQuery:s,onUpdate:i}){var J;const[l,m]=C.useState(()=>hO("registrySearchMode","local")),f=q=>{m(q),fO("registrySearchMode",q)},[o,c]=C.useState([]),[h,g]=C.useState(!1),[d,x]=C.useState({open:!1,name:"",mcp:null,isNew:!1}),[b,k]=C.useState({name:"",command:"npx",args:"",env:"",description:""}),[S,v]=C.useState(!1),[y,p]=C.useState([]),[_,E]=C.useState(""),[R,N]=C.useState({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),[T,j]=C.useState(""),M=Object.entries(e.mcpServers||{}),F=M.filter(([q])=>q.toLowerCase().includes(t.toLowerCase()));C.useEffect(()=>{(async()=>{try{const se=await Ae.getMcpTools();p(se.tools||[]),E(se.dir||"")}catch(se){console.error("Failed to load MCP tools:",se)}})()},[]);const H=y.filter(q=>{var se;return!((se=e.mcpServers)!=null&&se[q.name])&&q.name.toLowerCase().includes(t.toLowerCase())}),W=(q,se)=>{k({name:q,command:se.command||"npx",args:JSON.stringify(se.args||[],null,2),env:JSON.stringify(se.env||{},null,2),description:se.description||""}),x({open:!0,name:q,mcp:se,isNew:!1})},$=()=>{k({name:"",command:"npx",args:'["-y", ""]',env:"{}",description:""}),x({open:!0,name:"",mcp:null,isNew:!0})},Z=q=>{const se=q.name.replace("@modelcontextprotocol/server-","").replace("mcp-server-","").replace("mcp-","").replace(/-/g,"_");k({name:se,command:q.suggestedCommand||"npx",args:JSON.stringify(q.suggestedArgs||["-y",q.name],null,2),env:"{}",description:q.description||""}),x({open:!0,name:"",mcp:null,isNew:!0})},K=q=>{let se,U;q.type==="python"?(se="uv",U=["run","--directory",q.path,"python",q.entryPoint||"mcp_server.py"]):(se="node",U=[q.path+"/index.js"]),k({name:q.name,command:se,args:JSON.stringify(U,null,2),env:"{}",description:q.description||""}),x({open:!0,name:"",mcp:null,isNew:!0})},G=()=>{if(!R.url.trim()){ue.error("Please enter a URL");return}N(q=>({...q,showTerminal:!0}))},ee=()=>{if(R.localTool){const U=R.localTool,O=`Analyze the MCP server at ${U.path}. Read the README and source files to understand how to run it. Output a JSON config block with name, command, args array, and description for the MCP registry. Be specific about the exact command needed.`;return`cd '${U.path}' && claude '${O}'`}return`cd ~/reg/tools && claude '${`Clone ${R.url.trim()} into ~/reg/tools. Read the README, determine if Python or Node MCP server, and output a JSON config block with name, command, args, and description.`}'`},z=q=>{N({open:!0,url:"",showTerminal:!0,localTool:q,pastedConfig:""})},D=q=>{q===0&&(ue.success("Import completed! Paste the JSON config below to add it to the registry."),Ae.getMcpTools().then(se=>{p(se.tools||[])}))},B=async()=>{if(!R.pastedConfig.trim()){ue.error("Please paste the JSON config first");return}try{let q;try{q=JSON.parse(R.pastedConfig)}catch{ue.error("Invalid JSON format");return}let se={};if(q.mcpServers&&typeof q.mcpServers=="object")se=q.mcpServers;else if(typeof q=="object"&&!Array.isArray(q))if(Object.keys(q).includes("command")){ue.error('JSON is missing the MCP name. Expected format: { "name": { "command": "...", "args": [...] } }');return}else se=q;if(Object.keys(se).length===0){ue.error("No MCP configurations found in the pasted JSON");return}for(const[ne,re]of Object.entries(se))if(!re.command){ue.error(`MCP "${ne}" is missing required "command" field`);return}const U={...e};U.mcpServers||(U.mcpServers={});for(const[ne,re]of Object.entries(se))U.mcpServers[ne]=re;await Ae.updateRegistry(U);const O=Object.keys(se).length;ue.success(`Added ${O} MCP${O>1?"s":""} to registry!`),N({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),i()}catch(q){ue.error("Failed to add config: "+q.message)}},L=async()=>{v(!0);try{let q,se;try{q=JSON.parse(b.args),se=JSON.parse(b.env)}catch{ue.error("Invalid JSON in args or env"),v(!1);return}const U={...e};U.mcpServers||(U.mcpServers={});const O={command:b.command,args:q,...Object.keys(se).length>0&&{env:se},...b.description&&{description:b.description}};if(d.isNew){if(!b.name.trim()){ue.error("Name is required"),v(!1);return}U.mcpServers[b.name]=O}else U.mcpServers[d.name]=O;await Ae.updateRegistry(U),ue.success(d.isNew?"MCP added to registry":"MCP updated"),x({open:!1,name:"",mcp:null,isNew:!1}),i()}catch(q){ue.error("Failed to save: "+q.message)}finally{v(!1)}},V=async q=>{try{const se={...e};delete se.mcpServers[q],await Ae.updateRegistry(se),ue.success(`Removed ${q} from registry`),i()}catch(se){ue.error("Failed to delete: "+se.message)}},Y=async()=>{if(t.trim()){g(!0);try{const q=l==="github"?await Ae.searchGithub(t):await Ae.searchNpm(t);c(q.results||[])}catch(q){ue.error("Search failed: "+q.message),c([])}finally{g(!1)}}};return C.useEffect(()=>{l!=="local"&&c([])},[l]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-5 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Jo,{className:"w-5 h-5 text-blue-600"}),"MCP Registry"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>N({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"folder"}),className:"border-green-300 text-green-700 hover:bg-green-50",children:[a.jsx(bt,{className:"w-4 h-4 mr-2"}),"Import Folder"]}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>N({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:[a.jsx(Gl,{className:"w-4 h-4 mr-2"}),"Import URL"]}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:$,className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs(pe,{variant:l==="local"?"default":"outline",size:"sm",onClick:()=>f("local"),className:l==="local"?"bg-blue-600":"",children:[a.jsx(Jo,{className:"w-4 h-4 mr-2"}),"Registry (",M.length,")"]}),a.jsxs(pe,{variant:l==="tools"?"default":"outline",size:"sm",onClick:()=>f("tools"),className:l==="tools"?"bg-purple-600":"",children:[a.jsx(bt,{className:"w-4 h-4 mr-2"}),"Tools (",y.length,")"]}),a.jsxs(pe,{variant:l==="github"?"default":"outline",size:"sm",onClick:()=>f("github"),className:l==="github"?"bg-gray-800":"",children:[a.jsx(dT,{className:"w-4 h-4 mr-2"}),"GitHub"]}),a.jsxs(pe,{variant:l==="npm"?"default":"outline",size:"sm",onClick:()=>f("npm"),className:l==="npm"?"bg-red-600":"",children:[a.jsx(lx,{className:"w-4 h-4 mr-2"}),"npm"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Wf,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx(Ge,{value:t,onChange:q=>s(q.target.value),onKeyDown:q=>q.key==="Enter"&&!["local","tools"].includes(l)&&Y(),placeholder:l==="local"?"Filter registry...":l==="tools"?"Filter discovered tools...":`Search ${l} for MCPs...`,className:"pl-9 bg-white border-gray-300"})]}),!["local","tools"].includes(l)&&a.jsx(pe,{onClick:Y,disabled:h,children:h?a.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"Search"})]})]}),l==="local"&&a.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[F.map(([q,se],U)=>{var O;return a.jsxs(ln.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.03},className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:q}),a.jsxs(wa,{children:[a.jsx(Sa,{asChild:!0,children:a.jsx(pe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100",children:a.jsx(ix,{className:"w-4 h-4 text-gray-400"})})}),a.jsxs(qi,{children:[a.jsxs(It,{onClick:()=>W(q,se),children:[a.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsxs(It,{className:"text-red-600",onClick:()=>V(q),children:[a.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:se.description||"MCP server"}),a.jsxs("code",{className:"text-xs text-gray-500 block truncate bg-gray-50 px-2 py-1 rounded",children:[se.command," ",(O=se.args)==null?void 0:O.join(" ")]}),se.env&&Object.keys(se.env).length>0&&a.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Requires: ",Object.keys(se.env).join(", ")]})]},q)}),F.length===0&&a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:t?"No MCPs match your search.":"Registry is empty. Add MCPs or search online."})]}),l==="tools"&&a.jsxs("div",{className:"p-4",children:[_&&a.jsxs("div",{className:"mb-4 text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(bt,{className:"w-4 h-4"}),"Scanning: ",_]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[H.map((q,se)=>a.jsxs(ln.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:se*.03},className:"bg-purple-50 rounded-lg border border-purple-200 p-4 hover:border-purple-400 hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-purple-900",children:q.name}),a.jsx(ut,{variant:"outline",className:"text-purple-600 border-purple-300",children:q.type==="python"?"Python":"Node"})]}),a.jsx("p",{className:"text-sm text-purple-700 mb-3",children:q.description||"MCP tool"}),a.jsx("code",{className:"text-xs text-purple-600 block truncate bg-purple-100 px-2 py-1 rounded mb-3",children:q.path}),q.framework&&a.jsxs("div",{className:"text-xs text-purple-500 mb-3",children:["Framework: ",q.framework]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>K(q),className:"flex-1 border-purple-300 text-purple-700 hover:bg-purple-100",children:[a.jsx(ir,{className:"w-4 h-4 mr-1"}),"Quick"]}),a.jsxs(pe,{size:"sm",onClick:()=>z(q),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[a.jsx(ks,{className:"w-4 h-4 mr-1"}),"Smart"]})]})]},q.name)),H.length===0&&y.length>0&&a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"All discovered tools are already in the registry."}),y.length===0&&a.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:["No MCP tools found in ",_,". Create one using the Developer > Create MCP view."]})]})]}),!["local","tools"].includes(l)&&a.jsx("div",{className:"p-4",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ct,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),a.jsxs("p",{className:"text-gray-500 mt-2",children:["Searching ",l,"..."]})]}):o.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((q,se)=>{var U;return a.jsxs(ln.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:se*.03},className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:q.name}),q.stars!==void 0&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[a.jsx(zT,{className:"w-3 h-3"}),q.stars]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:q.description||"No description"}),a.jsxs("code",{className:"text-xs text-gray-500 block truncate bg-gray-50 px-2 py-1 rounded mb-3",children:[q.suggestedCommand," ",(U=q.suggestedArgs)==null?void 0:U.join(" ")]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{size:"sm",onClick:()=>Z(q),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(ir,{className:"w-3 h-3 mr-1"}),"Add to Registry"]}),q.url&&a.jsx(pe,{size:"sm",variant:"outline",onClick:()=>window.open(q.url,"_blank"),children:a.jsx(Gl,{className:"w-3 h-3"})})]})]},q.name||se)})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:t?"No results found. Try a different search term.":`Enter a search term to find MCPs on ${l}.`})})]}),a.jsx(Dr,{open:d.open,onOpenChange:q=>x({...d,open:q}),children:a.jsxs(yr,{className:"bg-white max-w-2xl",children:[a.jsxs(_r,{children:[a.jsx(wr,{children:d.isNew?"Add MCP to Registry":"Edit MCP"}),a.jsx(hs,{children:d.isNew?"Add a new MCP server definition to your registry.":"Edit the MCP server configuration."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),a.jsx(Ge,{value:b.name,onChange:q=>k({...b,name:q.target.value}),disabled:!d.isNew,placeholder:"my-mcp-server",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),a.jsx(Ge,{value:b.description,onChange:q=>k({...b,description:q.target.value}),placeholder:"What does this MCP do?",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Command"}),a.jsx(Ge,{value:b.command,onChange:q=>k({...b,command:q.target.value}),placeholder:"npx",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Args (JSON array)"}),a.jsx(st,{value:b.args,onChange:q=>k({...b,args:q.target.value}),placeholder:'["-y", "@modelcontextprotocol/server-xxx"]',className:"mt-1 font-mono text-sm",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Environment Variables (JSON object)"}),a.jsx(st,{value:b.env,onChange:q=>k({...b,env:q.target.value}),placeholder:'{"API_KEY": "${API_KEY}"}',className:"mt-1 font-mono text-sm",rows:3}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use $","{VAR_NAME}"," syntax for variables from .env file"]})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:()=>x({...d,open:!1}),children:"Cancel"}),a.jsxs(pe,{onClick:L,disabled:S,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[S?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($i,{className:"w-4 h-4 mr-2"}),d.isNew?"Add to Registry":"Save Changes"]})]})]})}),a.jsx(Dr,{open:R.open,onOpenChange:q=>N({open:q,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:a.jsxs(yr,{className:`bg-white ${R.showTerminal?"max-w-4xl h-[80vh] max-h-[800px]":"max-w-lg"}`,children:[a.jsxs(_r,{children:[a.jsx(wr,{className:"flex items-center gap-2",children:R.localTool?a.jsxs(a.Fragment,{children:[a.jsx(ks,{className:"w-5 h-5 text-purple-600"})," Configure ",R.localTool.name]}):R.mode==="folder"?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"w-5 h-5 text-green-600"})," Import MCP from Folder"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gl,{className:"w-5 h-5 text-purple-600"})," Import MCP from URL"]})}),a.jsx(hs,{children:R.localTool?`Claude Code will analyze ${R.localTool.name} and generate the correct configuration.`:R.mode==="folder"?"Enter the path to a local MCP server folder. Claude Code will analyze it and generate the configuration.":"Enter a GitHub repository URL. Claude Code will clone it, read the README, and help configure it."})]}),!R.showTerminal&&!R.localTool?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"py-4",children:R.mode==="folder"?a.jsxs(a.Fragment,{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Folder Path"}),a.jsx(Ge,{value:T,onChange:q=>j(q.target.value),placeholder:"/path/to/mcp-server or ~/projects/my-mcp",className:"mt-1 font-mono",onKeyDown:q=>q.key==="Enter"&&T.trim()&&N({...R,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the full path to an existing MCP server project"})]}):a.jsxs(a.Fragment,{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Repository URL"}),a.jsx(Ge,{value:R.url,onChange:q=>N({...R,url:q.target.value}),placeholder:"https://github.com/user/mcp-server-example",className:"mt-1",onKeyDown:q=>q.key==="Enter"&&G()}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["The repository will be cloned to ",_||"~/mcp-tools"]})]})}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:()=>N({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Cancel"}),R.mode==="folder"?a.jsxs(pe,{onClick:()=>T.trim()&&N({...R,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}}),disabled:!T.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(ks,{className:"w-4 h-4 mr-2"}),"Analyze with Claude"]}):a.jsxs(pe,{onClick:G,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[a.jsx(ks,{className:"w-4 h-4 mr-2"}),"Import with Claude"]})]})]}):a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[R.localTool&&a.jsx("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(bt,{className:"w-4 h-4 text-purple-600"}),a.jsx("code",{className:"text-purple-700",children:R.localTool.path})]})}),a.jsx("div",{className:"flex-1 bg-gray-900 rounded-lg overflow-hidden",style:{minHeight:"200px"},children:a.jsx(Np,{cwd:((J=R.localTool)==null?void 0:J.path)||_||"~/reg/tools",initialCommand:ee(),onExit:D,height:"100%"})}),a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(GR,{className:"w-4 h-4"}),"Paste MCP Config JSON"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:"Copy the JSON config from the terminal output above and paste it here to add to your registry."}),a.jsx(st,{value:R.pastedConfig,onChange:q=>N({...R,pastedConfig:q.target.value}),placeholder:`{
  "mcpServers": {
    "example": {
      "command": "npx",
      "args": ["-y", "@example/mcp-server"]
    }
  }
}`,className:"font-mono text-sm bg-white",rows:6})]}),a.jsxs("div",{className:"mt-4 flex justify-between",children:[a.jsx(pe,{variant:"outline",onClick:()=>N({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Close"}),a.jsxs(pe,{onClick:B,disabled:!R.pastedConfig.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})]})})]})}function mO({project:e,onUpdate:t}){var H,W,$,Z;const[s,i]=C.useState(null),[l,m]=C.useState(!0),[f,o]=C.useState(null),[c,h]=C.useState(""),[g,d]=C.useState(!1),[x,b]=C.useState("global"),[k,S]=C.useState(""),[v,y]=C.useState([]),[p,_]=C.useState({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""});C.useEffect(()=>{E()},[]);const E=async()=>{try{m(!0);const K=await Ae.getMemory();i(K)}catch{ue.error("Failed to load memory")}finally{m(!1)}};C.useEffect(()=>{f&&R(f.path)},[f]);const R=async K=>{try{const G=await Ae.getMemoryFile(K);h(G.content||"")}catch{ue.error("Failed to load file")}},N=async()=>{if(f){d(!0);try{await Ae.saveMemoryFile(f.path,c),ue.success("Saved!"),E()}catch{ue.error("Failed to save")}finally{d(!1)}}},T=async()=>{if(!k.trim()){y([]);return}try{const K=await Ae.searchMemory(k);y(K.results||[])}catch{ue.error("Search failed")}},j=async()=>{let K="";const{type:G}=p;switch(G){case"preference":if(!p.name.trim()){ue.error("Name required");return}K=`**${p.name}**: ${p.description}`;break;case"correction":if(!p.wrong.trim()||!p.right.trim()){ue.error('Both "wrong" and "right" are required');return}K=`**Wrong**: ${p.wrong}
**Right**: ${p.right}`;break;case"fact":if(!p.category.trim()){ue.error("Category required");return}K=`**${p.category}**: ${p.details}`;break;case"pattern":if(!p.name.trim()){ue.error("Name required");return}K=`**${p.name}**
${p.description}`;break;case"decision":if(!p.title.trim()){ue.error("Title required");return}K=`**${p.title}**

**Context**: ${p.context}

**Decision**: ${p.decision}

**Rationale**: ${p.rationale}`;break;case"issue":if(!p.title.trim()){ue.error("Title required");return}K=`**${p.title}**

${p.description}`;break;case"history":case"context":default:if(!p.content.trim()){ue.error("Content required");return}K=p.content;break}try{const ee=["pattern","decision","issue","history","context"].includes(G)?"project":"global";await Ae.addMemoryEntry(G,K,ee),ue.success(`Added ${G} entry`),_({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),E()}catch{ue.error("Failed to add entry")}},M=async()=>{try{await Ae.initProjectMemory(e.dir),ue.success("Project memory initialized!"),E()}catch(K){ue.error(K.message||"Failed to initialize")}};if(l)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ct,{className:"w-8 h-8 animate-spin text-indigo-600"})});const F={global:[{id:"preference",label:"Preference",icon:Di,desc:"User preferences (tools, style, etc.)"},{id:"correction",label:"Correction",icon:ic,desc:"Mistakes to avoid"},{id:"fact",label:"Fact",icon:Hn,desc:"Facts about your environment"}],project:[{id:"context",label:"Context",icon:Ar,desc:"Project overview and conventions"},{id:"pattern",label:"Pattern",icon:ax,desc:"Code patterns in this project"},{id:"decision",label:"Decision",icon:gx,desc:"Architecture decisions"},{id:"issue",label:"Issue",icon:ic,desc:"Known issues and workarounds"},{id:"history",label:"History",icon:th,desc:"Session work log"}]};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(nc,{className:"w-5 h-5 text-purple-600"}),"Memory System"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>_({open:!0,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Entry"]})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{placeholder:"Search memory...",value:k,onChange:K=>S(K.target.value),onKeyDown:K=>K.key==="Enter"&&T(),className:"flex-1"}),a.jsx(pe,{variant:"outline",onClick:T,children:a.jsx(Wf,{className:"w-4 h-4"})})]}),v.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Search Results"}),a.jsx("div",{className:"space-y-2",children:v.map((K,G)=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{variant:K.scope==="global"?"default":"secondary",children:K.scope}),a.jsx("span",{className:"font-medium",children:K.file})]}),K.matches.map((ee,z)=>a.jsxs("div",{className:"ml-4 text-gray-600 text-xs mt-1",children:["Line ",ee.line,": ",ee.text]},z))]},G))})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-gray-200 pb-2",children:["global","project","sync"].map(K=>a.jsxs("button",{onClick:()=>b(K),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${x===K?"bg-white border border-b-white border-gray-200 -mb-[1px] text-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:[K.charAt(0).toUpperCase()+K.slice(1)," Memory"]},K))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:[x==="global"&&"Global Memory Files",x==="project"&&"Project Memory Files",x==="sync"&&"Sync State"]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x==="global"&&"~/.claude/memory/",x==="project"&&`${e.dir}/.claude/memory/`,x==="sync"&&"~/.claude/sync/"]})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[x==="global"&&((H=s==null?void 0:s.global)==null?void 0:H.files.map(K=>a.jsxs("button",{onClick:()=>K.exists&&o(K),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 transition-colors ${(f==null?void 0:f.path)===K.path?"bg-indigo-50":""} ${K.exists?"":"opacity-50"}`,children:[a.jsx(Ar,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),a.jsx("div",{className:"text-xs text-gray-500",children:K.type})]}),K.exists?a.jsx(qr,{className:"w-4 h-4 text-green-500"}):a.jsx("span",{className:"text-xs text-gray-400",children:"Not created"})]},K.name))),x==="project"&&a.jsx(a.Fragment,{children:(W=s==null?void 0:s.project)!=null&&W.initialized?($=s==null?void 0:s.project)==null?void 0:$.files.map(K=>a.jsxs("button",{onClick:()=>K.exists&&o(K),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 transition-colors ${(f==null?void 0:f.path)===K.path?"bg-indigo-50":""} ${K.exists?"":"opacity-50"}`,children:[a.jsx(Ar,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),a.jsx("div",{className:"text-xs text-gray-500",children:K.type})]}),K.exists?a.jsx(qr,{className:"w-4 h-4 text-green-500"}):a.jsx("span",{className:"text-xs text-gray-400",children:"Not created"})]},K.name)):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(nc,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Project memory not initialized"}),a.jsxs(pe,{onClick:M,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Initialize Project Memory"]})]})}),x==="sync"&&a.jsx("div",{className:"p-4",children:(Z=s==null?void 0:s.sync)!=null&&Z.state?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current State"}),a.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded overflow-auto max-h-48",children:JSON.stringify(s.sync.state,null,2)})]}),s.sync.history.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["History (",s.sync.history.length,")"]}),a.jsx("div",{className:"space-y-1",children:s.sync.history.map((K,G)=>a.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-2",children:[a.jsx(th,{className:"w-3 h-3"}),K.name]},G))})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(th,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"No sync state"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"State is created by session hooks"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:f?f.name:"Select a file"}),f&&a.jsxs(pe,{size:"sm",onClick:N,disabled:g,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[g?a.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($i,{className:"w-4 h-4 mr-2"}),"Save"]})]}),a.jsx("div",{className:"p-4",children:f?a.jsx(st,{value:c,onChange:K=>h(K.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"File content..."}):a.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ar,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Select a file to edit"})]})})})]})]}),a.jsx(Dr,{open:p.open,onOpenChange:K=>_({...p,open:K}),children:a.jsxs(yr,{className:"bg-white max-w-lg",children:[a.jsxs(_r,{children:[a.jsx(wr,{children:"Add Memory Entry"}),a.jsx(hs,{children:"Add a new entry to the appropriate memory file."})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entry Type"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[...F.global,...F.project].map(K=>{const G=K.icon,ee=F.global.some(z=>z.id===K.id);return a.jsxs("button",{onClick:()=>_({...p,type:K.id}),className:`p-2 rounded-lg border text-left transition-colors ${p.type===K.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium",children:K.label})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ee?"Global":"Project"})]},K.id)})})]}),p.type==="preference"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),a.jsx(Ge,{value:p.name,onChange:K=>_({...p,name:K.target.value}),placeholder:"e.g., package-manager",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),a.jsx(Ge,{value:p.description,onChange:K=>_({...p,description:K.target.value}),placeholder:"e.g., Always use pnpm instead of npm",className:"mt-1"})]})]}),p.type==="correction"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Wrong (what to avoid)"}),a.jsx(st,{value:p.wrong,onChange:K=>_({...p,wrong:K.target.value}),placeholder:"e.g., Using npm install",className:"mt-1",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Right (what to do instead)"}),a.jsx(st,{value:p.right,onChange:K=>_({...p,right:K.target.value}),placeholder:"e.g., Use pnpm install",className:"mt-1",rows:2})]})]}),p.type==="fact"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),a.jsx(Ge,{value:p.category,onChange:K=>_({...p,category:K.target.value}),placeholder:"e.g., shell, editor, system",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Details"}),a.jsx(st,{value:p.details,onChange:K=>_({...p,details:K.target.value}),placeholder:"e.g., Using zsh with oh-my-zsh",className:"mt-1",rows:2})]})]}),p.type==="pattern"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pattern Name"}),a.jsx(Ge,{value:p.name,onChange:K=>_({...p,name:K.target.value}),placeholder:"e.g., API Response Format",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),a.jsx(st,{value:p.description,onChange:K=>_({...p,description:K.target.value}),placeholder:"Describe the pattern and when to use it...",className:"mt-1",rows:3})]})]}),p.type==="decision"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),a.jsx(Ge,{value:p.title,onChange:K=>_({...p,title:K.target.value}),placeholder:"e.g., Use React Query for data fetching",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Context"}),a.jsx(st,{value:p.context,onChange:K=>_({...p,context:K.target.value}),placeholder:"What problem were we solving?",className:"mt-1",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Decision"}),a.jsx(st,{value:p.decision,onChange:K=>_({...p,decision:K.target.value}),placeholder:"What did we decide?",className:"mt-1",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rationale"}),a.jsx(st,{value:p.rationale,onChange:K=>_({...p,rationale:K.target.value}),placeholder:"Why this choice over alternatives?",className:"mt-1",rows:2})]})]}),p.type==="issue"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Issue Title"}),a.jsx(Ge,{value:p.title,onChange:K=>_({...p,title:K.target.value}),placeholder:"e.g., Memory leak in useEffect",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description / Workaround"}),a.jsx(st,{value:p.description,onChange:K=>_({...p,description:K.target.value}),placeholder:"Describe the issue and any workarounds...",className:"mt-1",rows:3})]})]}),(p.type==="history"||p.type==="context")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),a.jsx(st,{value:p.content,onChange:K=>_({...p,content:K.target.value}),placeholder:p.type==="history"?"What work was done this session?":"Project context and overview...",className:"mt-1",rows:4})]})]}),a.jsxs(xr,{children:[a.jsx(pe,{variant:"ghost",onClick:()=>_({...p,open:!1}),children:"Cancel"}),a.jsxs(pe,{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})]})})]})}function gO({onProjectSwitch:e}){const[t,s]=C.useState([]),[i,l]=C.useState(null),[m,f]=C.useState(!0),[o,c]=C.useState(null),[h,g]=C.useState(!1);C.useEffect(()=>{d()},[]);const d=async()=>{try{f(!0);const S=await Ae.getProjects();s(S.projects||[]),l(S.activeProjectId)}catch{ue.error("Failed to load projects")}finally{f(!1)}},x=async S=>{c(S);try{const v=await Ae.setActiveProject(S);v.success?(l(S),s(y=>y.map(p=>({...p,isActive:p.id===S}))),ue.success(`Switched to ${v.project.name}`),e==null||e(v)):ue.error(v.error||"Failed to switch project")}catch(v){ue.error("Failed to switch project: "+v.message)}finally{c(null)}},b=async S=>{if(confirm(`Remove "${S.name}" from the registry?

This won't delete any files.`))try{const v=await Ae.removeProject(S.id);v.success?(s(y=>y.filter(p=>p.id!==S.id)),ue.success(`Removed project: ${S.name}`)):ue.error(v.error||"Failed to remove project")}catch(v){ue.error("Failed to remove project: "+v.message)}},k=S=>{s(v=>[...v,{...S,exists:!0,hasClaudeConfig:!1}])};return m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ct,{className:"w-8 h-8 animate-spin text-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:a.jsx($n,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Projects"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Registered projects for quick switching"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{variant:"outline",onClick:d,size:"sm",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsxs(pe,{onClick:()=>g(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-700",children:a.jsx("p",{children:"Projects registered here can be quickly switched in the header dropdown. The UI will update to show the selected project's configuration."})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:t.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(bt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects Yet"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add your first project to get started with quick switching."}),a.jsxs(pe,{onClick:()=>g(!0),children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Your First Project"]})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:t.map(S=>a.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${S.isActive?"bg-indigo-50":"hover:bg-gray-50"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${S.isActive?"bg-indigo-100":S.exists?"bg-gray-100":"bg-amber-100"}`,children:S.isActive?a.jsx(qr,{className:"w-5 h-5 text-indigo-600"}):S.exists?a.jsx(bt,{className:"w-5 h-5 text-gray-500"}):a.jsx(Nc,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:`font-medium truncate ${S.isActive?"text-indigo-700":"text-gray-900"}`,children:S.name}),S.hasClaudeConfig&&a.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded",children:".claude"}),S.isActive&&a.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded",children:"Active"})]}),a.jsx("p",{className:"text-sm text-gray-500 font-mono truncate",children:S.path.replace(/^\/Users\/[^/]+/,"~")}),!S.exists&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Path not found - the directory may have been moved or deleted"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!S.isActive&&S.exists&&a.jsx(pe,{size:"sm",onClick:()=>x(S.id),disabled:o===S.id,children:o===S.id?a.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"Switch"}),a.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>b(S),className:"text-gray-500 hover:text-red-600",title:"Remove from registry",children:a.jsx(Qo,{className:"w-4 h-4"})})]})]},S.id))})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"CLI Commands"}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 font-mono",children:[a.jsx("p",{children:"claude-config project add [path]        # Add project"}),a.jsx("p",{children:"claude-config project remove <name>    # Remove project"}),a.jsx("p",{children:"claude-config project                   # List projects"})]})]}),a.jsx(S1,{open:h,onOpenChange:g,onAdded:k})]})}const vO=[{id:"getting-started",title:"Getting Started",icon:Hn,subsections:[{id:"installation",title:"Installation"},{id:"quick-start",title:"Quick Start"},{id:"updating",title:"Updating"}]},{id:"projects",title:"Project Management",icon:cx,subsections:[{id:"project-registry",title:"Project Registry"},{id:"project-switching",title:"Switching Projects"},{id:"project-structure",title:"Project Structure"}]},{id:"file-explorer",title:"Project Explorer",icon:bt,subsections:[{id:"claude-folders",title:".claude Folders"},{id:"rules",title:"Rules"},{id:"commands",title:"Commands"},{id:"hierarchy",title:"Configuration Hierarchy"}]},{id:"mcp-registry",title:"MCP Registry",icon:Jo,subsections:[{id:"mcp-overview",title:"Overview"},{id:"adding-mcps",title:"Adding MCPs"},{id:"configuring-mcps",title:"Configuring MCPs"},{id:"environment-vars",title:"Environment Variables"}]},{id:"memory",title:"Memory System",icon:nc,subsections:[{id:"memory-overview",title:"Overview"},{id:"global-memory",title:"Global Memory"},{id:"project-memory",title:"Project Memory"},{id:"memory-entries",title:"Memory Entry Types"}]},{id:"claude-settings",title:"Claude Code Settings",icon:Tc,subsections:[{id:"permissions",title:"Permissions"},{id:"model-selection",title:"Model Selection"},{id:"behavior",title:"Behavior Settings"},{id:"hooks",title:"Hooks"}]},{id:"templates",title:"Templates",icon:Rc,subsections:[{id:"using-templates",title:"Using Templates"},{id:"available-templates",title:"Available Templates"},{id:"custom-templates",title:"Custom Templates"}]},{id:"cli",title:"CLI Reference",icon:Ot,subsections:[{id:"cli-overview",title:"Overview"},{id:"cli-commands",title:"All Commands"},{id:"daemon-mode",title:"Daemon Mode"}]},{id:"keyboard",title:"Keyboard Shortcuts",icon:vT,subsections:[]},{id:"troubleshooting",title:"Troubleshooting",icon:$f,subsections:[{id:"common-issues",title:"Common Issues"},{id:"getting-help",title:"Getting Help"}]}],yO={installation:{title:"Installation",content:`
## Installation

Install claude-config globally via npm:

\`\`\`bash
npm install -g @regression-io/claude-config
\`\`\`

Or install from GitHub directly:

\`\`\`bash
npm install -g github:regression-io/claude-config
\`\`\`

### Requirements

- **Node.js 18+** is required
- Works on macOS, Linux, and Windows (with some limitations)

### Verify Installation

After installation, verify it's working:

\`\`\`bash
claude-config --version
\`\`\`

This should display the version number and installation paths.
    `},"quick-start":{title:"Quick Start",content:`
## Quick Start

### 1. Start the UI

\`\`\`bash
claude-config ui
\`\`\`

This starts the web UI as a background daemon on port 3333.

### 2. Open in Browser

Navigate to **http://localhost:3333**

### 3. Add a Project

Click "Add Project" in the header or go to All Projects view to register your project directories.

### 4. Initialize Configuration

For each project, you can:
- Create a \`.claude\` folder with configuration
- Add rules (guidelines for Claude)
- Add commands (reusable prompts)
- Configure MCPs (Model Context Protocol servers)

### 5. Apply Templates

Use pre-built templates to quickly set up rules for your project type:
- **fastapi** - Python FastAPI projects
- **react-ts** - React with TypeScript
- **python-cli** - Python CLI tools
- And more...
    `},updating:{title:"Updating",content:`
## Updating

### Automatic Update Detection

The UI automatically checks npm for new versions. When an update is available, you'll see a notification in the Preferences page.

### Manual Update

\`\`\`bash
npm update -g @regression-io/claude-config
\`\`\`

Or for a clean reinstall:

\`\`\`bash
npm uninstall -g @regression-io/claude-config
npm install -g @regression-io/claude-config
\`\`\`

### After Updating

If you have the UI running as a daemon, restart it:

\`\`\`bash
claude-config ui stop
claude-config ui
\`\`\`
    `},"project-registry":{title:"Project Registry",content:`
## Project Registry

The project registry keeps track of all your Claude-enabled projects. It's stored in \`~/.claude-config/projects.json\`.

### Adding Projects

**Via UI:**
1. Click "Add Project" in the header
2. Select a directory

**Via CLI:**
\`\`\`bash
claude-config project add /path/to/project
claude-config project add /path/to/project --name "My Project"
\`\`\`

### Listing Projects

\`\`\`bash
claude-config project
\`\`\`

### Removing Projects

\`\`\`bash
claude-config project remove "My Project"
claude-config project remove /path/to/project
\`\`\`

Note: Removing a project from the registry does not delete the project files.
    `},"project-switching":{title:"Switching Projects",content:`
## Switching Projects

### Via UI

Use the project dropdown in the header to quickly switch between registered projects. The UI will reload to show the new project's configuration.

### Via CLI

\`\`\`bash
claude-config ui --dir /path/to/project
\`\`\`

### Active Project

The active project is remembered between sessions. When you start the UI, it automatically loads the last active project.
    `},"project-structure":{title:"Project Structure",content:`
## Project Structure

A Claude-enabled project has a \`.claude\` folder with this structure:

\`\`\`
your-project/
 .claude/
    mcps.json       # MCP configuration
    settings.json   # Project-specific settings
    CLAUDE.md       # Project instructions
    rules/          # Rule files (*.md)
       style.md
       patterns.md
    commands/       # Command files (*.md)
       review.md
       test.md
    memory/         # Project memory (optional)
        context.md
        patterns.md
 .mcp.json           # Generated - Claude Code reads this
\`\`\`

### Generated Files

The \`.mcp.json\` file in your project root is generated by running \`claude-config apply\`. Claude Code reads this file to configure MCPs.
    `},"claude-folders":{title:".claude Folders",content:`
## .claude Folders

The \`.claude\` folder contains all Claude Code configuration for a directory.

### Creating .claude Folders

In the Project Explorer, click "+ .claude" on any directory in the hierarchy to create a new configuration folder.

### Hierarchy

Configuration is inherited from parent directories:

\`\`\`
~/.claude/              # Global - applies everywhere
~/projects/.claude/     # Workspace - applies to all projects here
~/projects/my-app/      # Project - specific to this project
\`\`\`

Settings merge from global to project, with more specific settings taking precedence.
    `},rules:{title:"Rules",content:`
## Rules

Rules are markdown files that provide guidelines and instructions for Claude.

### Creating Rules

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "rules"
3. Enter a name (e.g., "coding-style")

### Rule Content

Rules should be written in markdown and contain:
- Guidelines for code style
- Project-specific patterns
- Do's and don'ts
- Architecture decisions

### Example Rule

\`\`\`markdown
# Coding Style

## TypeScript
- Use strict mode
- Prefer interfaces over types
- Use named exports

## React
- Use functional components
- Prefer hooks over HOCs
- Keep components small and focused
\`\`\`

### Rule Priority

Rules are loaded in order from global to project. Project rules can override global rules.
    `},commands:{title:"Commands",content:`
## Commands

Commands are reusable prompts that can be invoked in Claude Code.

### Creating Commands

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "commands"
3. Enter a name (e.g., "review")

### Command Content

Commands are markdown files containing a prompt template. They can include:
- Instructions for Claude
- Templates with placeholders
- Multi-step workflows

### Example Command

\`\`\`markdown
# Code Review

Review the selected code for:

1. **Bugs** - Logic errors, edge cases
2. **Security** - Vulnerabilities, input validation
3. **Performance** - Inefficiencies, memory leaks
4. **Style** - Consistency, readability

Provide specific suggestions with code examples.
\`\`\`

### Using Commands

In Claude Code, use \`/command-name\` to invoke a command.
    `},hierarchy:{title:"Configuration Hierarchy",content:`
## Configuration Hierarchy

Claude Config uses a hierarchical configuration system where settings cascade from global to local.

### Levels

1. **Global** (\`~/.claude/\`) - Applies to all projects
2. **Workspace** (intermediate directories) - Applies to projects in that directory
3. **Project** (your project's \`.claude/\`) - Specific to one project

### Merging Behavior

- **MCPs**: Merged, with local configs overriding global
- **Rules**: All rules are loaded, local rules can override
- **Commands**: All commands are available, local takes precedence
- **Settings**: Deep merged, local values override

### Viewing the Hierarchy

In the Project Explorer, you'll see all \`.claude\` folders in the hierarchy from your project up to home. You can manage configuration at each level.
    `},"mcp-overview":{title:"MCP Overview",content:`
## MCP Overview

MCPs (Model Context Protocol servers) extend Claude's capabilities by providing additional tools and context.

### What are MCPs?

MCPs are servers that implement the Model Context Protocol, providing:
- **Tools** - Additional commands Claude can execute
- **Resources** - Data and context Claude can access
- **Prompts** - Pre-defined prompt templates

### Common MCPs

- **filesystem** - File system access
- **github** - GitHub integration
- **postgres** - PostgreSQL database access
- **memory** - Persistent memory storage

### Configuration

MCPs are configured in \`.claude/mcps.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`
    `},"adding-mcps":{title:"Adding MCPs",content:`
## Adding MCPs

### Via UI

1. Go to **MCP Registry** in the sidebar
2. Search for an MCP by name
3. Click "Add" to add it to your configuration
4. Configure any required settings

### Via CLI

\`\`\`bash
claude-config add filesystem github postgres
\`\`\`

### From npm

MCPs published to npm can be added:

\`\`\`json
{
  "mcpServers": {
    "my-mcp": {
      "command": "npx",
      "args": ["-y", "some-mcp-package"]
    }
  }
}
\`\`\`

### Custom MCPs

You can add MCPs from local directories or custom servers by specifying the full command and arguments.
    `},"configuring-mcps":{title:"Configuring MCPs",content:`
## Configuring MCPs

### Required Fields

- **command** - The executable to run (e.g., "npx", "node", "python")
- **args** - Array of command-line arguments

### Optional Fields

- **env** - Environment variables for the MCP
- **cwd** - Working directory

### Example Configuration

\`\`\`json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "\${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "\${DATABASE_URL}"
      }
    }
  }
}
\`\`\`

### Per-Level Configuration

You can enable/disable MCPs at different hierarchy levels. An MCP enabled globally can be disabled for a specific project.
    `},"environment-vars":{title:"Environment Variables",content:`
## Environment Variables

### Syntax

Use \`\${VAR_NAME}\` syntax in your MCP configuration:

\`\`\`json
{
  "env": {
    "API_KEY": "\${MY_API_KEY}"
  }
}
\`\`\`

### .env Files

Create a \`.claude/.env\` file in your project:

\`\`\`
GITHUB_TOKEN=ghp_xxxxx
DATABASE_URL=postgresql://localhost/mydb
\`\`\`

### Environment View

Use the **Environment** view in the sidebar to manage environment variables for your project.

### Security

- Never commit \`.claude/.env\` to version control
- Add it to your \`.gitignore\`
- Use different values for development and production
    `},"memory-overview":{title:"Memory Overview",content:`
## Memory System

The memory system allows Claude to retain knowledge across sessions.

### Types of Memory

1. **Global Memory** (\`~/.claude/memory/\`)
   - Preferences - Your personal preferences
   - Corrections - Mistakes to avoid
   - Facts - Facts about your environment

2. **Project Memory** (\`project/.claude/memory/\`)
   - Context - Project overview
   - Patterns - Code patterns
   - Decisions - Architecture decisions
   - Issues - Known issues
   - History - Session history

### How It Works

Memory files are markdown documents that Claude reads at the start of each session, providing context and learned knowledge.
    `},"global-memory":{title:"Global Memory",content:`
## Global Memory

Global memory applies to all your Claude interactions.

### Location

\`~/.claude/memory/\`

### Files

- **preferences.md** - Your coding preferences, tool choices, style preferences
- **corrections.md** - Things Claude got wrong that it should remember
- **facts.md** - Facts about your environment, setup, tools

### Example: preferences.md

\`\`\`markdown
# Preferences

## Code Style
- Use 2 spaces for indentation
- Prefer functional programming patterns
- Always add TypeScript types

## Tools
- Use pnpm instead of npm
- Prefer Vite over webpack
\`\`\`
    `},"project-memory":{title:"Project Memory",content:`
## Project Memory

Project memory is specific to a single project.

### Location

\`project/.claude/memory/\`

### Files

- **context.md** - Project overview, tech stack, architecture
- **patterns.md** - Code patterns specific to this project
- **decisions.md** - Architectural decisions and rationale
- **issues.md** - Known issues and workarounds
- **history.md** - Log of work done in sessions

### Initializing Project Memory

In the Memory view, click "Initialize" to create memory files from templates.

### Example: context.md

\`\`\`markdown
# Project Context

## Overview
E-commerce platform built with Next.js and Prisma.

## Tech Stack
- Frontend: Next.js 14, React 18, Tailwind CSS
- Backend: Next.js API routes, Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js

## Key Directories
- /app - Next.js app router pages
- /components - React components
- /lib - Utilities and helpers
\`\`\`
    `},"memory-entries":{title:"Memory Entry Types",content:`
## Memory Entry Types

### Preference

User preferences for tools, style, and workflow.

\`\`\`markdown
## [Category]
- Preference description
- Another preference
\`\`\`

### Correction

Something Claude got wrong that should be remembered.

\`\`\`markdown
## [Topic]
- **Wrong**: What Claude did wrong
- **Right**: What to do instead
\`\`\`

### Pattern

A code pattern specific to the project.

\`\`\`markdown
## Pattern Name
Description of when to use this pattern.

\\\`\\\`\\\`typescript
// Code example
\\\`\\\`\\\`
\`\`\`

### Decision

An architectural decision with context.

\`\`\`markdown
## Decision Title
**Context**: Why this decision was needed
**Decision**: What was decided
**Rationale**: Why this was chosen
\`\`\`

### Issue

A known issue with workaround.

\`\`\`markdown
## Issue Title
**Problem**: Description of the issue
**Workaround**: How to work around it
\`\`\`
    `},permissions:{title:"Permissions",content:`
## Permissions

Control what Claude Code can do automatically.

### Permission Levels

- **Allow** - Tools that run without asking
- **Ask** - Tools that require confirmation
- **Deny** - Tools that are blocked

### Pattern Syntax

\`\`\`
Tool(pattern)
\`\`\`

Examples:
- \`Bash(npm run build)\` - Specific command
- \`Bash(npm:*)\` - Prefix match (npm anything)
- \`Read(**)\` - All file reads
- \`Edit(src/**)\` - Edit files in src/
- \`mcp__github__*\` - All GitHub MCP tools

### Managing Permissions

In the **Claude Code** settings view:
1. Navigate to the Permissions tab
2. Add patterns to Allow, Ask, or Deny lists
3. Click Save to apply

### Best Practices

- Start restrictive, allow more as needed
- Use specific patterns over wildcards
- Review deny list for security-sensitive operations
    `},"model-selection":{title:"Model Selection",content:`
## Model Selection

Choose which Claude model to use.

### Available Models

- **Claude Sonnet 4** - Fast, capable, good for most tasks
- **Claude Opus 4** - Most capable, best for complex tasks
- **Claude Haiku** - Fastest, good for simple tasks

### Setting the Model

In **Claude Code** settings, use the Model dropdown to select your preferred model.

### Per-Task Model

Some tasks may benefit from different models:
- Use Haiku for quick edits
- Use Opus for complex refactoring
- Use Sonnet as a balanced default
    `},behavior:{title:"Behavior Settings",content:`
## Behavior Settings

Configure how Claude Code behaves.

### Available Settings

- **Auto-accept edits** - Automatically accept file changes
- **Verbose mode** - Show more detailed output
- **Enable MCPs** - Toggle MCP servers on/off

### Configuration

These settings are stored in \`~/.claude/settings.json\` and can be edited in the Claude Code settings view.
    `},hooks:{title:"Hooks",content:`
## Hooks

Hooks allow you to run custom commands at specific points.

### Available Hooks

- **preToolUse** - Before a tool is used
- **postToolUse** - After a tool is used
- **notification** - When Claude sends a notification

### Configuration

\`\`\`json
{
  "hooks": {
    "postToolUse": "echo 'Tool used'"
  }
}
\`\`\`

### Use Cases

- Run linters after file edits
- Log tool usage
- Custom notifications
    `},"using-templates":{title:"Using Templates",content:`
## Using Templates

Templates provide pre-configured rules and settings for different project types.

### Applying Templates

**Via UI:**
1. Go to **Templates** in the sidebar
2. Select a template
3. Click "Apply to Project"

**Via CLI:**
\`\`\`bash
claude-config init --template fastapi
claude-config apply-template react-ts
\`\`\`

### What Templates Include

- Rules for the technology/framework
- Best practices
- Common patterns
- Style guidelines
    `},"available-templates":{title:"Available Templates",content:`
## Available Templates

### Languages

- **python** - Python general
- **typescript** - TypeScript general
- **javascript** - JavaScript general

### Frameworks

- **fastapi** - Python FastAPI
- **react-ts** - React with TypeScript
- **react-js** - React with JavaScript
- **python-cli** - Python CLI apps
- **mcp-python** - MCP server in Python

### Composites

- **fastapi-react-ts** - Full-stack FastAPI + React TypeScript
- **fastapi-react-js** - Full-stack FastAPI + React JavaScript

### Universal

- **universal** - Common rules for any project
    `},"custom-templates":{title:"Custom Templates",content:`
## Custom Templates

### Creating Custom Templates

Templates are stored in the templates directory. To create a custom template:

1. Create a directory in \`~/.claude-config/templates/\`
2. Add a \`template.json\` manifest
3. Add rules in a \`rules/\` subdirectory

### Template Structure

\`\`\`
my-template/
 template.json
 rules/
     style.md
     patterns.md
\`\`\`

### template.json

\`\`\`json
{
  "name": "My Template",
  "description": "Custom template for my projects",
  "category": "custom"
}
\`\`\`
    `},"cli-overview":{title:"CLI Overview",content:`
## CLI Overview

The \`claude-config\` CLI provides command-line access to all features.

### Basic Usage

\`\`\`bash
claude-config [command] [options]
\`\`\`

### Getting Help

\`\`\`bash
claude-config --help
claude-config <command> --help
\`\`\`

### Global Options

- \`--version, -v\` - Show version
- \`--help, -h\` - Show help
    `},"cli-commands":{title:"All Commands",content:`
## All CLI Commands

### UI Commands

\`\`\`bash
claude-config ui                  # Start UI (daemon mode)
claude-config ui --foreground     # Run in foreground
claude-config ui --port 8080      # Custom port
claude-config ui status           # Check daemon status
claude-config ui stop             # Stop daemon
\`\`\`

### Project Commands

\`\`\`bash
claude-config init                # Initialize project
claude-config init --template X   # Initialize with template
claude-config apply               # Generate .mcp.json
claude-config show                # Show configuration
\`\`\`

### MCP Commands

\`\`\`bash
claude-config list                # List available MCPs
claude-config add <mcp>           # Add MCP to project
claude-config remove <mcp>        # Remove MCP
claude-config registry-add        # Add to registry
claude-config registry-remove     # Remove from registry
\`\`\`

### Project Registry

\`\`\`bash
claude-config project             # List projects
claude-config project add         # Add project
claude-config project remove      # Remove project
\`\`\`

### Memory Commands

\`\`\`bash
claude-config memory              # Show memory status
claude-config memory init         # Initialize memory
claude-config memory add          # Add entry
claude-config memory search       # Search memory
\`\`\`

### Environment

\`\`\`bash
claude-config env                 # List variables
claude-config env set KEY value   # Set variable
claude-config env unset KEY       # Remove variable
\`\`\`

### Templates

\`\`\`bash
claude-config templates           # List templates
claude-config apply-template X    # Apply template
\`\`\`
    `},"daemon-mode":{title:"Daemon Mode",content:`
## Daemon Mode

By default, \`claude-config ui\` runs as a background daemon.

### Starting the Daemon

\`\`\`bash
claude-config ui
\`\`\`

The UI starts in the background and you can continue using your terminal.

### Checking Status

\`\`\`bash
claude-config ui status
\`\`\`

### Stopping the Daemon

\`\`\`bash
claude-config ui stop
\`\`\`

### Foreground Mode

To run in the foreground (blocking):

\`\`\`bash
claude-config ui --foreground
# or
claude-config ui -f
\`\`\`

### Logs

Daemon logs are stored in \`~/.claude-config/ui.log\`
    `},keyboard:{title:"Keyboard Shortcuts",content:`
## Keyboard Shortcuts

### File Explorer

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save current file |
| \`Delete\` | Delete selected item |
| \`Enter\` | Open selected item |

### Editor

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save file |
| \`Ctrl/Cmd + Z\` | Undo |
| \`Ctrl/Cmd + Shift + Z\` | Redo |

### Navigation

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + 1-9\` | Switch sidebar sections |
    `},"common-issues":{title:"Common Issues",content:`
## Common Issues

### UI won't start

**Symptom**: \`claude-config ui\` shows "Started daemon" but the UI doesn't open.

**Solution**:
\`\`\`bash
claude-config ui stop
claude-config ui --foreground
\`\`\`

Check for errors in the output.

### Port already in use

**Symptom**: Error about port 3333 being in use.

**Solution**:
\`\`\`bash
claude-config ui --port 3334
\`\`\`

Or find and stop the process using port 3333.

### MCPs not loading

**Symptom**: MCPs show in config but aren't available in Claude Code.

**Solution**:
1. Run \`claude-config apply\` to regenerate .mcp.json
2. Restart Claude Code
3. Check environment variables are set

### npm install fails

**Symptom**: Errors during \`npm install -g\`

**Solution**:
\`\`\`bash
npm cache clean --force
npm install -g @regression-io/claude-config
\`\`\`
    `},"getting-help":{title:"Getting Help",content:`
## Getting Help

### Documentation

This documentation is available in the app under **Docs & Help**.

### GitHub Issues

Report bugs and request features:
https://github.com/regression-io/claude-config/issues

### Version Info

\`\`\`bash
claude-config --version
\`\`\`

### Debug Info

When reporting issues, include:
- claude-config version
- Node.js version (\`node --version\`)
- Operating system
- Error messages or logs
    `}};function _O(){const[e,t]=C.useState("installation"),[s,i]=C.useState({"getting-started":!0}),l=f=>{i(o=>({...o,[f]:!o[f]}))},m=yO[e];return a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:"w-64 border-r border-border bg-muted/50 flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-foreground",children:[a.jsx(Hn,{className:"w-5 h-5"}),"Documentation"]})}),a.jsx(Kn,{className:"flex-1",children:a.jsx("div",{className:"p-2",children:vO.map(f=>a.jsxs("div",{className:"mb-1",children:[a.jsxs("button",{className:Ee("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",(e===f.id||f.subsections.some(o=>o.id===e))&&"bg-accent"),onClick:()=>{f.subsections.length>0?(l(f.id),s[f.id]||t(f.subsections[0].id)):t(f.id)},children:[a.jsx(f.icon,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"flex-1",children:f.title}),f.subsections.length>0&&a.jsx(jc,{className:Ee("w-4 h-4 text-muted-foreground transition-transform",s[f.id]&&"rotate-90")})]}),f.subsections.length>0&&s[f.id]&&a.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.subsections.map(o=>a.jsx("button",{className:Ee("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground",e===o.id&&"bg-accent text-primary font-medium"),onClick:()=>t(o.id),children:o.title},o.id))})]},f.id))})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(Kn,{className:"h-full",children:a.jsx("div",{className:"max-w-3xl mx-auto p-8",children:m?a.jsx("div",{className:"prose prose-sm max-w-none",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:xO(m.content)}})}):a.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[a.jsx(Hn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Select a topic from the sidebar"})]})})})})]})}function xO(e){return e.replace(/```(\w*)\n([\s\S]*?)```/g,(s,i,l)=>`<pre class="bg-zinc-900 text-zinc-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm">${l.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim()}</code></pre>`).replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-6 mb-2 text-foreground">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-8 mb-4 text-foreground">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mb-6 text-foreground">$1</h1>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono">$1</code>').replace(/^\| (.*) \|$/gim,(s,i)=>`<tr>${i.split(" | ").map(m=>`<td class="border border-border px-3 py-2">${m.trim()}</td>`).join("")}</tr>`).replace(/(<tr>.*<\/tr>\n?)+/g,'<table class="w-full border-collapse border border-border my-4">$&</table>').replace(/^- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/(<li.*<\/li>\n?)+/g,'<ul class="list-disc my-2">$&</ul>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="my-3 text-foreground">').replace(/\n/g,"<br/>")}const wO=[{id:"projects",label:"All Projects",icon:cx,section:"Projects"},{id:"explorer",label:"Project Explorer",icon:$n,section:"Projects"},{id:"subprojects",label:"Sub-Projects",icon:bt,section:"Projects",badge:"subprojects"},{id:"registry",label:"MCP Registry",icon:Jo,section:"Configuration"},{id:"memory",label:"Memory",icon:nc,section:"Configuration"},{id:"claude-settings",label:"Claude Code",icon:Tc,section:"Configuration"},{id:"templates",label:"Templates",icon:Rc,section:"Tools"},{id:"env",label:"Environment",icon:ux,section:"Tools"},{id:"create-mcp",label:"Create MCP",icon:ks,section:"Developer"},{id:"preferences",label:"Preferences",icon:px,section:"System"},{id:"docs",label:"Docs & Help",icon:Hn,section:"Help"}],Ey=(e,t)=>{try{const s=localStorage.getItem(`claude-config-${e}`);return s?JSON.parse(s):t}catch{return t}},SO=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function bO(){var Ye;const[e,t]=C.useState(()=>Ey("currentView","explorer")),[s,i]=C.useState(!0),[l,m]=C.useState({dir:"",subprojects:[],hierarchy:[]}),[f,o]=C.useState([]),[c,h]=C.useState({mcpServers:{}}),[g,d]=C.useState([]),[x,b]=C.useState([]),[k,S]=C.useState([]),[v,y]=C.useState(null),[p,_]=C.useState(null),[E,R]=C.useState(!1),[N,T]=C.useState({title:"",type:""}),[j,M]=C.useState(""),[F,H]=C.useState(""),[W,$]=C.useState({}),[Z,K]=C.useState(null),[G,ee]=C.useState(null),[z,D]=C.useState(!1),[B,L]=C.useState([]),[V,Y]=C.useState(null),[J,q]=C.useState(!1);C.useEffect(()=>{SO("currentView",e)},[e]);const se=C.useCallback(async()=>{try{const[he,Me,Fe,qe,Et,Xe]=await Promise.all([Ae.getProject(),Ae.getConfigs(),Ae.getRegistry(),Ae.getRules(),Ae.getCommands(),Ae.getTemplates()]);m(he),o(Me),h(Fe),d(qe),b(Et),S(Xe),Me.length>0&&!v&&y(Me[Me.length-1])}catch(he){ue.error("Failed to load data: "+he.message)}finally{i(!1)}},[v]),U=C.useCallback(async(he=!1)=>{var Me;try{const Fe=await Ae.getProjects();L(Fe.projects||[]);const qe=(Me=Fe.projects)==null?void 0:Me.find(Et=>Et.isActive);Y(qe||null),he&&!qe&&(Ey("currentView",null)||t("projects"))}catch{console.log("Projects API not available")}},[]),O=async he=>{try{const Me=await Ae.setActiveProject(he);Me.success?(m({dir:Me.dir,hierarchy:Me.hierarchy,subprojects:Me.subprojects}),Y(Me.project),L(Fe=>Fe.map(qe=>({...qe,isActive:qe.id===he}))),await se(),ue.success(`Switched to ${Me.project.name}`)):ue.error(Me.error||"Failed to switch project")}catch(Me){ue.error("Failed to switch project: "+Me.message)}},ne=he=>{L(Me=>[...Me,{...he,exists:!0,hasClaudeConfig:!1}])};C.useEffect(()=>{se(),U(!0),Ae.checkVersion().then(he=>{K(he==null?void 0:he.installedVersion),he!=null&&he.updateAvailable&&ee(he)}).catch(()=>{})},[]);const re=async()=>{if(G!=null&&G.updateAvailable){D(!0);try{const he=await Ae.performUpdate({updateMethod:G.updateMethod,sourcePath:G.sourcePath});he.success?(ue.success(`Updated to v${he.newVersion}! Reloading...`),setTimeout(()=>window.location.reload(),1500)):(ue.error("Update failed: "+he.error),D(!1))}catch(he){ue.error("Update failed: "+he.message),D(!1)}}};C.useEffect(()=>{const he=async()=>{try{const{hashes:Fe}=await Ae.getFileHashes(),qe=W;(Object.keys(Fe).some(Xe=>qe[Xe]!==Fe[Xe])||Object.keys(qe).some(Xe=>!Fe[Xe]))&&Object.keys(qe).length>0&&(ue.info("Files changed externally, reloading..."),await se()),$(Fe)}catch{}},Me=setInterval(he,2e3);return he(),()=>clearInterval(Me)},[W,se]);const ce=new Set;f.forEach(he=>{var Me,Fe;(((Me=he.config)==null?void 0:Me.include)||[]).forEach(qe=>ce.add(qe)),Object.keys(((Fe=he.config)==null?void 0:Fe.mcpServers)||{}).forEach(qe=>ce.add(qe))});const le={subprojects:((Ye=l.subprojects)==null?void 0:Ye.length)||0,mcps:ce.size,rules:g.length,commands:x.length},Pe=async()=>{try{await Ae.applyConfig(l.dir),ue.success("Configuration applied successfully!")}catch(he){ue.error("Failed to apply config: "+he.message)}},Ie=async()=>{i(!0),await se(),ue.success("Data refreshed")};if(s)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Ct,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})});const ze=()=>{switch(e){case"explorer":return a.jsx(z3,{onRefresh:se});case"subprojects":return a.jsx(dO,{project:l,onRefresh:Ie});case"registry":return a.jsx(pO,{registry:c,searchQuery:j,setSearchQuery:M,onUpdate:se});case"memory":return a.jsx(mO,{project:l,onUpdate:se});case"templates":return a.jsx(uO,{templates:k,project:l,onApply:se});case"env":return a.jsx(cO,{project:l,configs:f});case"create-mcp":return a.jsx(lO,{project:l});case"claude-settings":return a.jsx(eO,{});case"preferences":return a.jsx(Z3,{});case"projects":return a.jsx(gO,{onProjectSwitch:he=>{m({dir:he.dir,hierarchy:he.hierarchy,subprojects:he.subprojects}),se(),U()}});case"docs":return a.jsx(_O,{});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"h-16 bg-card border-b border-border sticky top-0 z-50 shadow-sm",children:a.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:a.jsx(Di,{className:"w-5 h-5 text-white"})}),a.jsx("div",{children:a.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Claude ",a.jsx("span",{className:"text-primary",children:"Config"}),Z&&a.jsxs("span",{className:"text-xs font-normal text-muted-foreground ml-2",children:["v",Z]})]})}),G&&a.jsxs("button",{onClick:re,disabled:z,className:"ml-3 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 hover:bg-green-200 rounded-full flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[z?a.jsx(Ct,{className:"w-3 h-3 animate-spin"}):a.jsx(Pc,{className:"w-3 h-3"}),z?"Updating...":`Update to v${G.sourceVersion}`]})]}),a.jsx(k1,{orientation:"vertical",className:"h-6"}),a.jsx(U3,{projects:B,activeProject:V,onSwitch:O,onAddClick:()=>q(!0),onManageClick:()=>t("projects")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(G3,{}),a.jsx(pe,{variant:"ghost",size:"sm",onClick:Ie,children:a.jsx(mr,{className:"w-4 h-4"})}),a.jsxs(pe,{onClick:Pe,className:"bg-indigo-600 hover:bg-indigo-700 text-white gap-2 shadow-md",children:[a.jsx(MT,{className:"w-4 h-4"}),"Apply Config"]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 h-[calc(100vh-64px)] border-r border-border bg-card sticky top-16",children:a.jsx(Kn,{className:"h-full py-4",children:["Projects","Configuration","Tools","Developer","System","Help"].map(he=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 mb-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:he}),a.jsx("div",{className:"space-y-0.5",children:wO.filter(Me=>Me.section===he).filter(Me=>!(Me.id==="subprojects"&&(!l.subprojects||l.subprojects.length===0))).map(Me=>{const Fe=Me.icon,qe=e===Me.id;return a.jsxs("button",{onClick:()=>t(Me.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-all duration-200 border-l-2 ${qe?"bg-accent border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[a.jsx(Fe,{className:"w-4 h-4"}),a.jsx("span",{className:"flex-1 text-left",children:Me.label}),Me.badge&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${qe?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:le[Me.badge]})]},Me.id)})})]},he))})}),a.jsx("main",{className:Ee("flex-1 overflow-auto",e==="explorer"||e==="docs"?"h-[calc(100vh-64px)]":"p-6"),children:a.jsx(Ty,{mode:"wait",children:a.jsx(ln.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:e==="explorer"||e==="docs"?"h-full":"",children:ze()},e)})})]}),a.jsx(S1,{open:J,onOpenChange:q,onAdded:ne})]})}function CO(){return a.jsx(W3,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(bO,{}),a.jsx(sE,{position:"bottom-right",richColors:!0})]})})}T2.createRoot(document.getElementById("root")).render(a.jsx(CO,{}));
