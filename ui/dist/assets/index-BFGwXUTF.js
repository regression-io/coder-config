function VE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wf={exports:{}},Da={},_f={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function UE(){if(Dv)return pt;Dv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=h&&F[h]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function v(F,q,H){this.props=F,this.context=q,this.refs=_,this.updater=H||w}v.prototype.isReactComponent={},v.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},v.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=v.prototype;function g(F,q,H){this.props=F,this.context=q,this.refs=_,this.updater=H||w}var y=g.prototype=new b;y.constructor=g,k(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(F,q,H){var ae,fe={},me=null,X=null;if(q!=null)for(ae in q.ref!==void 0&&(X=q.ref),q.key!==void 0&&(me=""+q.key),q)E.call(q,ae)&&!T.hasOwnProperty(ae)&&(fe[ae]=q[ae]);var W=arguments.length-2;if(W===1)fe.children=H;else if(1<W){for(var le=Array(W),te=0;te<W;te++)le[te]=arguments[te+2];fe.children=le}if(F&&F.defaultProps)for(ae in W=F.defaultProps,W)fe[ae]===void 0&&(fe[ae]=W[ae]);return{$$typeof:e,type:F,key:me,ref:X,props:fe,_owner:P.current}}function R(F,q){return{$$typeof:e,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function O(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(H){return q[H]})}var B=/\/+/g;function $(F,q){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):q.toString(36)}function Y(F,q,H,ae,fe){var me=typeof F;(me==="undefined"||me==="boolean")&&(F=null);var X=!1;if(F===null)X=!0;else switch(me){case"string":case"number":X=!0;break;case"object":switch(F.$$typeof){case e:case t:X=!0}}if(X)return X=F,fe=fe(X),F=ae===""?"."+$(X,0):ae,j(fe)?(H="",F!=null&&(H=F.replace(B,"$&/")+"/"),Y(fe,q,H,"",function(te){return te})):fe!=null&&(I(fe)&&(fe=R(fe,H+(!fe.key||X&&X.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+F)),q.push(fe)),1;if(X=0,ae=ae===""?".":ae+":",j(F))for(var W=0;W<F.length;W++){me=F[W];var le=ae+$(me,W);X+=Y(me,q,H,le,fe)}else if(le=x(F),typeof le=="function")for(F=le.call(F),W=0;!(me=F.next()).done;)me=me.value,le=ae+$(me,W++),X+=Y(me,q,H,le,fe);else if(me==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return X}function z(F,q,H){if(F==null)return F;var ae=[],fe=0;return Y(F,ae,"","",function(me){return q.call(H,me,fe++)}),ae}function K(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(H){(F._status===0||F._status===-1)&&(F._status=1,F._result=H)},function(H){(F._status===0||F._status===-1)&&(F._status=2,F._result=H)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var G={current:null},U={transition:null},L={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:U,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:z,forEach:function(F,q,H){z(F,function(){q.apply(this,arguments)},H)},count:function(F){var q=0;return z(F,function(){q++}),q},toArray:function(F){return z(F,function(q){return q})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},pt.Component=v,pt.Fragment=n,pt.Profiler=o,pt.PureComponent=g,pt.StrictMode=s,pt.Suspense=c,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,pt.act=M,pt.cloneElement=function(F,q,H){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ae=k({},F.props),fe=F.key,me=F.ref,X=F._owner;if(q!=null){if(q.ref!==void 0&&(me=q.ref,X=P.current),q.key!==void 0&&(fe=""+q.key),F.type&&F.type.defaultProps)var W=F.type.defaultProps;for(le in q)E.call(q,le)&&!T.hasOwnProperty(le)&&(ae[le]=q[le]===void 0&&W!==void 0?W[le]:q[le])}var le=arguments.length-2;if(le===1)ae.children=H;else if(1<le){W=Array(le);for(var te=0;te<le;te++)W[te]=arguments[te+2];ae.children=W}return{$$typeof:e,type:F.type,key:fe,ref:me,props:ae,_owner:X}},pt.createContext=function(F){return F={$$typeof:d,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:u,_context:F},F.Consumer=F},pt.createElement=N,pt.createFactory=function(F){var q=N.bind(null,F);return q.type=F,q},pt.createRef=function(){return{current:null}},pt.forwardRef=function(F){return{$$typeof:l,render:F}},pt.isValidElement=I,pt.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:K}},pt.memo=function(F,q){return{$$typeof:f,type:F,compare:q===void 0?null:q}},pt.startTransition=function(F){var q=U.transition;U.transition={};try{F()}finally{U.transition=q}},pt.unstable_act=M,pt.useCallback=function(F,q){return G.current.useCallback(F,q)},pt.useContext=function(F){return G.current.useContext(F)},pt.useDebugValue=function(){},pt.useDeferredValue=function(F){return G.current.useDeferredValue(F)},pt.useEffect=function(F,q){return G.current.useEffect(F,q)},pt.useId=function(){return G.current.useId()},pt.useImperativeHandle=function(F,q,H){return G.current.useImperativeHandle(F,q,H)},pt.useInsertionEffect=function(F,q){return G.current.useInsertionEffect(F,q)},pt.useLayoutEffect=function(F,q){return G.current.useLayoutEffect(F,q)},pt.useMemo=function(F,q){return G.current.useMemo(F,q)},pt.useReducer=function(F,q,H){return G.current.useReducer(F,q,H)},pt.useRef=function(F){return G.current.useRef(F)},pt.useState=function(F){return G.current.useState(F)},pt.useSyncExternalStore=function(F,q,H){return G.current.useSyncExternalStore(F,q,H)},pt.useTransition=function(){return G.current.useTransition()},pt.version="18.3.1",pt}var Lv;function cp(){return Lv||(Lv=1,_f.exports=UE()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function GE(){if(Iv)return Da;Iv=1;var e=cp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(l,c,f){var m,h={},x=null,w=null;f!==void 0&&(x=""+f),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(w=c.ref);for(m in c)s.call(c,m)&&!u.hasOwnProperty(m)&&(h[m]=c[m]);if(l&&l.defaultProps)for(m in c=l.defaultProps,c)h[m]===void 0&&(h[m]=c[m]);return{$$typeof:t,type:l,key:x,ref:w,props:h,_owner:o.current}}return Da.Fragment=n,Da.jsx=d,Da.jsxs=d,Da}var Ov;function KE(){return Ov||(Ov=1,wf.exports=GE()),wf.exports}var r=KE(),C=cp();const Te=vl(C),up=VE({__proto__:null,default:Te},[C]);var qc={},Cf={exports:{}},Xr={},Sf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function qE(){return Bv||(Bv=1,(function(e){function t(U,L){var M=U.length;U.push(L);e:for(;0<M;){var F=M-1>>>1,q=U[F];if(0<o(q,L))U[F]=L,U[M]=q,M=F;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var L=U[0],M=U.pop();if(M!==L){U[0]=M;e:for(var F=0,q=U.length,H=q>>>1;F<H;){var ae=2*(F+1)-1,fe=U[ae],me=ae+1,X=U[me];if(0>o(fe,M))me<q&&0>o(X,fe)?(U[F]=X,U[me]=M,F=me):(U[F]=fe,U[ae]=M,F=ae);else if(me<q&&0>o(X,M))U[F]=X,U[me]=M,F=me;else break e}}return L}function o(U,L){var M=U.sortIndex-L.sortIndex;return M!==0?M:U.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,l=d.now();e.unstable_now=function(){return d.now()-l}}var c=[],f=[],m=1,h=null,x=3,w=!1,k=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var L=n(f);L!==null;){if(L.callback===null)s(f);else if(L.startTime<=U)s(f),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(f)}}function j(U){if(_=!1,y(U),!k)if(n(c)!==null)k=!0,K(E);else{var L=n(f);L!==null&&G(j,L.startTime-U)}}function E(U,L){k=!1,_&&(_=!1,b(N),N=-1),w=!0;var M=x;try{for(y(L),h=n(c);h!==null&&(!(h.expirationTime>L)||U&&!O());){var F=h.callback;if(typeof F=="function"){h.callback=null,x=h.priorityLevel;var q=F(h.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&s(c),y(L)}else s(c);h=n(c)}if(h!==null)var H=!0;else{var ae=n(f);ae!==null&&G(j,ae.startTime-L),H=!1}return H}finally{h=null,x=M,w=!1}}var P=!1,T=null,N=-1,R=5,I=-1;function O(){return!(e.unstable_now()-I<R)}function B(){if(T!==null){var U=e.unstable_now();I=U;var L=!0;try{L=T(!0,U)}finally{L?$():(P=!1,T=null)}}else P=!1}var $;if(typeof g=="function")$=function(){g(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,z=Y.port2;Y.port1.onmessage=B,$=function(){z.postMessage(null)}}else $=function(){v(B,0)};function K(U){T=U,P||(P=!0,$())}function G(U,L){N=v(function(){U(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,K(E))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var M=x;x=L;try{return U()}finally{x=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,L){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var M=x;x=U;try{return L()}finally{x=M}},e.unstable_scheduleCallback=function(U,L,M){var F=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?F+M:F):M=F,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,U={id:m++,callback:L,priorityLevel:U,startTime:M,expirationTime:q,sortIndex:-1},M>F?(U.sortIndex=M,t(f,U),n(c)===null&&U===n(f)&&(_?(b(N),N=-1):_=!0,G(j,M-F))):(U.sortIndex=q,t(c,U),k||w||(k=!0,K(E))),U},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(U){var L=x;return function(){var M=x;x=L;try{return U.apply(this,arguments)}finally{x=M}}}})(kf)),kf}var Fv;function YE(){return Fv||(Fv=1,Sf.exports=qE()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function XE(){if($v)return Xr;$v=1;var e=cp(),t=YE();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(i,a){d(i,a),d(i+"Capture",a)}function d(i,a){for(o[i]=a,i=0;i<a.length;i++)s.add(a[i])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function x(i){return c.call(h,i)?!0:c.call(m,i)?!1:f.test(i)?h[i]=!0:(m[i]=!0,!1)}function w(i,a,p,S){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return S?!1:p!==null?!p.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,a,p,S){if(a===null||typeof a>"u"||w(i,a,p,S))return!0;if(S)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function _(i,a,p,S,A,D,V){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=S,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=i,this.type=a,this.sanitizeURL=D,this.removeEmptyString=V}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){v[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];v[a]=new _(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){v[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){v[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){v[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){v[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){v[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){v[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){v[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function g(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(b,g);v[a]=new _(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(b,g);v[a]=new _(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(b,g);v[a]=new _(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){v[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),v.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){v[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function y(i,a,p,S){var A=v.hasOwnProperty(a)?v[a]:null;(A!==null?A.type!==0:S||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,p,A,S)&&(p=null),S||A===null?x(a)&&(p===null?i.removeAttribute(a):i.setAttribute(a,""+p)):A.mustUseProperty?i[A.propertyName]=p===null?A.type===3?!1:"":p:(a=A.attributeName,S=A.attributeNamespace,p===null?i.removeAttribute(a):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,S?i.setAttributeNS(S,a,p):i.setAttribute(a,p))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),U=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var M=Object.assign,F;function q(i){if(F===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+i}var H=!1;function ae(i,a){if(!i||H)return"";H=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(pe){var S=pe}Reflect.construct(i,[],a)}else{try{a.call()}catch(pe){S=pe}i.call(a.prototype)}else{try{throw Error()}catch(pe){S=pe}i()}}catch(pe){if(pe&&S&&typeof pe.stack=="string"){for(var A=pe.stack.split(`
`),D=S.stack.split(`
`),V=A.length-1,Z=D.length-1;1<=V&&0<=Z&&A[V]!==D[Z];)Z--;for(;1<=V&&0<=Z;V--,Z--)if(A[V]!==D[Z]){if(V!==1||Z!==1)do if(V--,Z--,0>Z||A[V]!==D[Z]){var ee=`
`+A[V].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=V&&0<=Z);break}}}finally{H=!1,Error.prepareStackTrace=p}return(i=i?i.displayName||i.name:"")?q(i):""}function fe(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case P:return"Portal";case R:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case Y:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case I:return(i._context.displayName||"Context")+".Provider";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:me(i.type)||"Memo";case K:a=i._payload,i=i._init;try{return me(i(a))}catch{}}return null}function X(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function W(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function le(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function te(i){var a=le(i)?"checked":"value",p=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),S=""+i[a];if(!i.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,D=p.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return A.call(this)},set:function(V){S=""+V,D.call(this,V)}}),Object.defineProperty(i,a,{enumerable:p.enumerable}),{getValue:function(){return S},setValue:function(V){S=""+V},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function J(i){i._valueTracker||(i._valueTracker=te(i))}function se(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var p=a.getValue(),S="";return i&&(S=le(i)?i.checked?"true":"false":i.value),i=S,i!==p?(a.setValue(i),!0):!1}function we(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,a){var p=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??i._wrapperState.initialChecked})}function Ke(i,a){var p=a.defaultValue==null?"":a.defaultValue,S=a.checked!=null?a.checked:a.defaultChecked;p=W(a.value!=null?a.value:p),i._wrapperState={initialChecked:S,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ne(i,a){a=a.checked,a!=null&&y(i,"checked",a,!1)}function ue(i,a){ne(i,a);var p=W(a.value),S=a.type;if(p!=null)S==="number"?(p===0&&i.value===""||i.value!=p)&&(i.value=""+p):i.value!==""+p&&(i.value=""+p);else if(S==="submit"||S==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?De(i,a.type,p):a.hasOwnProperty("defaultValue")&&De(i,a.type,W(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function je(i,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var S=a.type;if(!(S!=="submit"&&S!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,p||a===i.value||(i.value=a),i.defaultValue=a}p=i.name,p!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,p!==""&&(i.name=p)}function De(i,a,p){(a!=="number"||we(i.ownerDocument)!==i)&&(p==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+p&&(i.defaultValue=""+p))}var Je=Array.isArray;function _e(i,a,p,S){if(i=i.options,a){a={};for(var A=0;A<p.length;A++)a["$"+p[A]]=!0;for(p=0;p<i.length;p++)A=a.hasOwnProperty("$"+i[p].value),i[p].selected!==A&&(i[p].selected=A),A&&S&&(i[p].defaultSelected=!0)}else{for(p=""+W(p),a=null,A=0;A<i.length;A++){if(i[A].value===p){i[A].selected=!0,S&&(i[A].defaultSelected=!0);return}a!==null||i[A].disabled||(a=i[A])}a!==null&&(a.selected=!0)}}function ye(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Oe(i,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(n(92));if(Je(p)){if(1<p.length)throw Error(n(93));p=p[0]}a=p}a==null&&(a=""),p=a}i._wrapperState={initialValue:W(p)}}function xt(i,a){var p=W(a.value),S=W(a.defaultValue);p!=null&&(p=""+p,p!==i.value&&(i.value=p),a.defaultValue==null&&i.defaultValue!==p&&(i.defaultValue=p)),S!=null&&(i.defaultValue=""+S)}function Rt(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ge(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ge(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ze,Xe=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,S,A){MSApp.execUnsafeLocalFunction(function(){return i(a,p,S,A)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ze.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Ye(i,a){if(a){var p=i.firstChild;if(p&&p===i.lastChild&&p.nodeType===3){p.nodeValue=a;return}}i.textContent=a}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(i){nt.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Et[a]=Et[i]})});function Gt(i,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||Et.hasOwnProperty(i)&&Et[i]?(""+a).trim():a+"px"}function Ar(i,a){i=i.style;for(var p in a)if(a.hasOwnProperty(p)){var S=p.indexOf("--")===0,A=Gt(p,a[p],S);p==="float"&&(p="cssFloat"),S?i.setProperty(p,A):i[p]=A}}var Tr=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(i,a){if(a){if(Tr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Pe(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Me=null;function st(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gt=null,he=null,Be=null;function Pt(i){if(i=ya(i)){if(typeof gt!="function")throw Error(n(280));var a=i.stateNode;a&&(a=cc(a),gt(i.stateNode,i.type,a))}}function $e(i){he?Be?Be.push(i):Be=[i]:he=i}function ut(){if(he){var i=he,a=Be;if(Be=he=null,Pt(i),a)for(i=0;i<a.length;i++)Pt(a[i])}}function ht(i,a){return i(a)}function Bt(){}var Rn=!1;function ir(i,a,p){if(Rn)return i(a,p);Rn=!0;try{return ht(i,a,p)}finally{Rn=!1,(he!==null||Be!==null)&&(Bt(),ut())}}function fr(i,a){var p=i.stateNode;if(p===null)return null;var S=cc(p);if(S===null)return null;p=S[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(i=i.type,S=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!S;break e;default:i=!1}if(i)return null;if(p&&typeof p!="function")throw Error(n(231,a,typeof p));return p}var As=!1;if(l)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){As=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{As=!1}function rn(i,a,p,S,A,D,V,Z,ee){var pe=Array.prototype.slice.call(arguments,3);try{a.apply(p,pe)}catch(Se){this.onError(Se)}}var Ts=!1,pn=null,ea=!1,Fd=null,JN={onError:function(i){Ts=!0,pn=i}};function QN(i,a,p,S,A,D,V,Z,ee){Ts=!1,pn=null,rn.apply(JN,arguments)}function ZN(i,a,p,S,A,D,V,Z,ee){if(QN.apply(this,arguments),Ts){if(Ts){var pe=pn;Ts=!1,pn=null}else throw Error(n(198));ea||(ea=!0,Fd=pe)}}function xi(i){var a=i,p=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(p=a.return),i=a.return;while(i)}return a.tag===3?p:null}function nx(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function sx(i){if(xi(i)!==i)throw Error(n(188))}function e2(i){var a=i.alternate;if(!a){if(a=xi(i),a===null)throw Error(n(188));return a!==i?null:i}for(var p=i,S=a;;){var A=p.return;if(A===null)break;var D=A.alternate;if(D===null){if(S=A.return,S!==null){p=S;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===p)return sx(A),i;if(D===S)return sx(A),a;D=D.sibling}throw Error(n(188))}if(p.return!==S.return)p=A,S=D;else{for(var V=!1,Z=A.child;Z;){if(Z===p){V=!0,p=A,S=D;break}if(Z===S){V=!0,S=A,p=D;break}Z=Z.sibling}if(!V){for(Z=D.child;Z;){if(Z===p){V=!0,p=D,S=A;break}if(Z===S){V=!0,S=D,p=A;break}Z=Z.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==S)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?i:a}function ix(i){return i=e2(i),i!==null?ox(i):null}function ox(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ox(i);if(a!==null)return a;i=i.sibling}return null}var ax=t.unstable_scheduleCallback,lx=t.unstable_cancelCallback,t2=t.unstable_shouldYield,r2=t.unstable_requestPaint,tr=t.unstable_now,n2=t.unstable_getCurrentPriorityLevel,$d=t.unstable_ImmediatePriority,cx=t.unstable_UserBlockingPriority,Wl=t.unstable_NormalPriority,s2=t.unstable_LowPriority,ux=t.unstable_IdlePriority,Vl=null,Gn=null;function i2(i){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Vl,i,void 0,(i.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:l2,o2=Math.log,a2=Math.LN2;function l2(i){return i>>>=0,i===0?32:31-(o2(i)/a2|0)|0}var Ul=64,Gl=4194304;function ta(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Kl(i,a){var p=i.pendingLanes;if(p===0)return 0;var S=0,A=i.suspendedLanes,D=i.pingedLanes,V=p&268435455;if(V!==0){var Z=V&~A;Z!==0?S=ta(Z):(D&=V,D!==0&&(S=ta(D)))}else V=p&~A,V!==0?S=ta(V):D!==0&&(S=ta(D));if(S===0)return 0;if(a!==0&&a!==S&&(a&A)===0&&(A=S&-S,D=a&-a,A>=D||A===16&&(D&4194240)!==0))return a;if((S&4)!==0&&(S|=p&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=S;0<a;)p=31-Mn(a),A=1<<p,S|=i[p],a&=~A;return S}function c2(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(i,a){for(var p=i.suspendedLanes,S=i.pingedLanes,A=i.expirationTimes,D=i.pendingLanes;0<D;){var V=31-Mn(D),Z=1<<V,ee=A[V];ee===-1?((Z&p)===0||(Z&S)!==0)&&(A[V]=c2(Z,a)):ee<=a&&(i.expiredLanes|=Z),D&=~Z}}function zd(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function dx(){var i=Ul;return Ul<<=1,(Ul&4194240)===0&&(Ul=64),i}function Hd(i){for(var a=[],p=0;31>p;p++)a.push(i);return a}function ra(i,a,p){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Mn(a),i[a]=p}function d2(i,a){var p=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var S=i.eventTimes;for(i=i.expirationTimes;0<p;){var A=31-Mn(p),D=1<<A;a[A]=0,S[A]=-1,i[A]=-1,p&=~D}}function Wd(i,a){var p=i.entangledLanes|=a;for(i=i.entanglements;p;){var S=31-Mn(p),A=1<<S;A&a|i[S]&a&&(i[S]|=a),p&=~A}}var At=0;function hx(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var fx,Vd,mx,px,gx,Ud=!1,ql=[],Rs=null,Ms=null,Ds=null,na=new Map,sa=new Map,Ls=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(i,a){switch(i){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":na.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(a.pointerId)}}function ia(i,a,p,S,A,D){return i===null||i.nativeEvent!==D?(i={blockedOn:a,domEventName:p,eventSystemFlags:S,nativeEvent:D,targetContainers:[A]},a!==null&&(a=ya(a),a!==null&&Vd(a)),i):(i.eventSystemFlags|=S,a=i.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),i)}function f2(i,a,p,S,A){switch(a){case"focusin":return Rs=ia(Rs,i,a,p,S,A),!0;case"dragenter":return Ms=ia(Ms,i,a,p,S,A),!0;case"mouseover":return Ds=ia(Ds,i,a,p,S,A),!0;case"pointerover":var D=A.pointerId;return na.set(D,ia(na.get(D)||null,i,a,p,S,A)),!0;case"gotpointercapture":return D=A.pointerId,sa.set(D,ia(sa.get(D)||null,i,a,p,S,A)),!0}return!1}function vx(i){var a=vi(i.target);if(a!==null){var p=xi(a);if(p!==null){if(a=p.tag,a===13){if(a=nx(p),a!==null){i.blockedOn=a,gx(i.priority,function(){mx(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){i.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var p=Kd(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(p===null){p=i.nativeEvent;var S=new p.constructor(p.type,p);Me=S,p.target.dispatchEvent(S),Me=null}else return a=ya(p),a!==null&&Vd(a),i.blockedOn=p,!1;a.shift()}return!0}function yx(i,a,p){Yl(i)&&p.delete(a)}function m2(){Ud=!1,Rs!==null&&Yl(Rs)&&(Rs=null),Ms!==null&&Yl(Ms)&&(Ms=null),Ds!==null&&Yl(Ds)&&(Ds=null),na.forEach(yx),sa.forEach(yx)}function oa(i,a){i.blockedOn===a&&(i.blockedOn=null,Ud||(Ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m2)))}function aa(i){function a(A){return oa(A,i)}if(0<ql.length){oa(ql[0],i);for(var p=1;p<ql.length;p++){var S=ql[p];S.blockedOn===i&&(S.blockedOn=null)}}for(Rs!==null&&oa(Rs,i),Ms!==null&&oa(Ms,i),Ds!==null&&oa(Ds,i),na.forEach(a),sa.forEach(a),p=0;p<Ls.length;p++)S=Ls[p],S.blockedOn===i&&(S.blockedOn=null);for(;0<Ls.length&&(p=Ls[0],p.blockedOn===null);)vx(p),p.blockedOn===null&&Ls.shift()}var Yi=j.ReactCurrentBatchConfig,Xl=!0;function p2(i,a,p,S){var A=At,D=Yi.transition;Yi.transition=null;try{At=1,Gd(i,a,p,S)}finally{At=A,Yi.transition=D}}function g2(i,a,p,S){var A=At,D=Yi.transition;Yi.transition=null;try{At=4,Gd(i,a,p,S)}finally{At=A,Yi.transition=D}}function Gd(i,a,p,S){if(Xl){var A=Kd(i,a,p,S);if(A===null)uh(i,a,S,Jl,p),xx(i,S);else if(f2(A,i,a,p,S))S.stopPropagation();else if(xx(i,S),a&4&&-1<h2.indexOf(i)){for(;A!==null;){var D=ya(A);if(D!==null&&fx(D),D=Kd(i,a,p,S),D===null&&uh(i,a,S,Jl,p),D===A)break;A=D}A!==null&&S.stopPropagation()}else uh(i,a,S,null,p)}}var Jl=null;function Kd(i,a,p,S){if(Jl=null,i=st(S),i=vi(i),i!==null)if(a=xi(i),a===null)i=null;else if(p=a.tag,p===13){if(i=nx(a),i!==null)return i;i=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Jl=i,null}function bx(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case $d:return 1;case cx:return 4;case Wl:case s2:return 16;case ux:return 536870912;default:return 16}default:return 16}}var Is=null,qd=null,Ql=null;function wx(){if(Ql)return Ql;var i,a=qd,p=a.length,S,A="value"in Is?Is.value:Is.textContent,D=A.length;for(i=0;i<p&&a[i]===A[i];i++);var V=p-i;for(S=1;S<=V&&a[p-S]===A[D-S];S++);return Ql=A.slice(i,1<S?1-S:void 0)}function Zl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ec(){return!0}function _x(){return!1}function nn(i){function a(p,S,A,D,V){this._reactName=p,this._targetInst=A,this.type=S,this.nativeEvent=D,this.target=V,this.currentTarget=null;for(var Z in i)i.hasOwnProperty(Z)&&(p=i[Z],this[Z]=p?p(D):D[Z]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ec:_x,this.isPropagationStopped=_x,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),a}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=nn(Xi),la=M({},Xi,{view:0,detail:0}),x2=nn(la),Xd,Jd,ca,tc=M({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(Xd=i.screenX-ca.screenX,Jd=i.screenY-ca.screenY):Jd=Xd=0,ca=i),Xd)},movementY:function(i){return"movementY"in i?i.movementY:Jd}}),Cx=nn(tc),v2=M({},tc,{dataTransfer:0}),y2=nn(v2),b2=M({},la,{relatedTarget:0}),Qd=nn(b2),w2=M({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=nn(w2),C2=M({},Xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),S2=nn(C2),k2=M({},Xi,{data:0}),Sx=nn(k2),j2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P2(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=E2[i])?!!a[i]:!1}function Zd(){return P2}var A2=M({},la,{key:function(i){if(i.key){var a=j2[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Zl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?N2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(i){return i.type==="keypress"?Zl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),T2=nn(A2),R2=M({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kx=nn(R2),M2=M({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),D2=nn(M2),L2=M({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=nn(L2),O2=M({},tc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),B2=nn(O2),F2=[9,13,27,32],eh=l&&"CompositionEvent"in window,ua=null;l&&"documentMode"in document&&(ua=document.documentMode);var $2=l&&"TextEvent"in window&&!ua,jx=l&&(!eh||ua&&8<ua&&11>=ua),Nx=" ",Ex=!1;function Px(i,a){switch(i){case"keyup":return F2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ax(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ji=!1;function z2(i,a){switch(i){case"compositionend":return Ax(a);case"keypress":return a.which!==32?null:(Ex=!0,Nx);case"textInput":return i=a.data,i===Nx&&Ex?null:i;default:return null}}function H2(i,a){if(Ji)return i==="compositionend"||!eh&&Px(i,a)?(i=wx(),Ql=qd=Is=null,Ji=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return jx&&a.locale!=="ko"?null:a.data;default:return null}}var W2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!W2[i.type]:a==="textarea"}function Rx(i,a,p,S){$e(S),a=oc(a,"onChange"),0<a.length&&(p=new Yd("onChange","change",null,p,S),i.push({event:p,listeners:a}))}var da=null,ha=null;function V2(i){Xx(i,0)}function rc(i){var a=ro(i);if(se(a))return i}function U2(i,a){if(i==="change")return a}var Mx=!1;if(l){var th;if(l){var rh="oninput"in document;if(!rh){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),rh=typeof Dx.oninput=="function"}th=rh}else th=!1;Mx=th&&(!document.documentMode||9<document.documentMode)}function Lx(){da&&(da.detachEvent("onpropertychange",Ix),ha=da=null)}function Ix(i){if(i.propertyName==="value"&&rc(ha)){var a=[];Rx(a,ha,i,st(i)),ir(V2,a)}}function G2(i,a,p){i==="focusin"?(Lx(),da=a,ha=p,da.attachEvent("onpropertychange",Ix)):i==="focusout"&&Lx()}function K2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rc(ha)}function q2(i,a){if(i==="click")return rc(a)}function Y2(i,a){if(i==="input"||i==="change")return rc(a)}function X2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Dn=typeof Object.is=="function"?Object.is:X2;function fa(i,a){if(Dn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var p=Object.keys(i),S=Object.keys(a);if(p.length!==S.length)return!1;for(S=0;S<p.length;S++){var A=p[S];if(!c.call(a,A)||!Dn(i[A],a[A]))return!1}return!0}function Ox(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bx(i,a){var p=Ox(i);i=0;for(var S;p;){if(p.nodeType===3){if(S=i+p.textContent.length,i<=a&&S>=a)return{node:p,offset:a-i};i=S}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ox(p)}}function Fx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Fx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function $x(){for(var i=window,a=we();a instanceof i.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)i=a.contentWindow;else break;a=we(i.document)}return a}function nh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function J2(i){var a=$x(),p=i.focusedElem,S=i.selectionRange;if(a!==p&&p&&p.ownerDocument&&Fx(p.ownerDocument.documentElement,p)){if(S!==null&&nh(p)){if(a=S.start,i=S.end,i===void 0&&(i=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(i,p.value.length);else if(i=(a=p.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var A=p.textContent.length,D=Math.min(S.start,A);S=S.end===void 0?D:Math.min(S.end,A),!i.extend&&D>S&&(A=S,S=D,D=A),A=Bx(p,D);var V=Bx(p,S);A&&V&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==V.node||i.focusOffset!==V.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),i.removeAllRanges(),D>S?(i.addRange(a),i.extend(V.node,V.offset)):(a.setEnd(V.node,V.offset),i.addRange(a)))}}for(a=[],i=p;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)i=a[p],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Q2=l&&"documentMode"in document&&11>=document.documentMode,Qi=null,sh=null,ma=null,ih=!1;function zx(i,a,p){var S=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ih||Qi==null||Qi!==we(S)||(S=Qi,"selectionStart"in S&&nh(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ma&&fa(ma,S)||(ma=S,S=oc(sh,"onSelect"),0<S.length&&(a=new Yd("onSelect","select",null,a,p),i.push({event:a,listeners:S}),a.target=Qi)))}function nc(i,a){var p={};return p[i.toLowerCase()]=a.toLowerCase(),p["Webkit"+i]="webkit"+a,p["Moz"+i]="moz"+a,p}var Zi={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},oh={},Hx={};l&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function sc(i){if(oh[i])return oh[i];if(!Zi[i])return i;var a=Zi[i],p;for(p in a)if(a.hasOwnProperty(p)&&p in Hx)return oh[i]=a[p];return i}var Wx=sc("animationend"),Vx=sc("animationiteration"),Ux=sc("animationstart"),Gx=sc("transitionend"),Kx=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(i,a){Kx.set(i,a),u(a,[i])}for(var ah=0;ah<qx.length;ah++){var lh=qx[ah],Z2=lh.toLowerCase(),eE=lh[0].toUpperCase()+lh.slice(1);Os(Z2,"on"+eE)}Os(Wx,"onAnimationEnd"),Os(Vx,"onAnimationIteration"),Os(Ux,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(Gx,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Yx(i,a,p){var S=i.type||"unknown-event";i.currentTarget=p,ZN(S,a,void 0,i),i.currentTarget=null}function Xx(i,a){a=(a&4)!==0;for(var p=0;p<i.length;p++){var S=i[p],A=S.event;S=S.listeners;e:{var D=void 0;if(a)for(var V=S.length-1;0<=V;V--){var Z=S[V],ee=Z.instance,pe=Z.currentTarget;if(Z=Z.listener,ee!==D&&A.isPropagationStopped())break e;Yx(A,Z,pe),D=ee}else for(V=0;V<S.length;V++){if(Z=S[V],ee=Z.instance,pe=Z.currentTarget,Z=Z.listener,ee!==D&&A.isPropagationStopped())break e;Yx(A,Z,pe),D=ee}}}if(ea)throw i=Fd,ea=!1,Fd=null,i}function Ft(i,a){var p=a[gh];p===void 0&&(p=a[gh]=new Set);var S=i+"__bubble";p.has(S)||(Jx(a,i,2,!1),p.add(S))}function ch(i,a,p){var S=0;a&&(S|=4),Jx(p,i,S,a)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ga(i){if(!i[ic]){i[ic]=!0,s.forEach(function(p){p!=="selectionchange"&&(tE.has(p)||ch(p,!1,i),ch(p,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ic]||(a[ic]=!0,ch("selectionchange",!1,a))}}function Jx(i,a,p,S){switch(bx(a)){case 1:var A=p2;break;case 4:A=g2;break;default:A=Gd}p=A.bind(null,a,p,i),A=void 0,!As||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),S?A!==void 0?i.addEventListener(a,p,{capture:!0,passive:A}):i.addEventListener(a,p,!0):A!==void 0?i.addEventListener(a,p,{passive:A}):i.addEventListener(a,p,!1)}function uh(i,a,p,S,A){var D=S;if((a&1)===0&&(a&2)===0&&S!==null)e:for(;;){if(S===null)return;var V=S.tag;if(V===3||V===4){var Z=S.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(V===4)for(V=S.return;V!==null;){var ee=V.tag;if((ee===3||ee===4)&&(ee=V.stateNode.containerInfo,ee===A||ee.nodeType===8&&ee.parentNode===A))return;V=V.return}for(;Z!==null;){if(V=vi(Z),V===null)return;if(ee=V.tag,ee===5||ee===6){S=D=V;continue e}Z=Z.parentNode}}S=S.return}ir(function(){var pe=D,Se=st(p),ke=[];e:{var be=Kx.get(i);if(be!==void 0){var Fe=Yd,We=i;switch(i){case"keypress":if(Zl(p)===0)break e;case"keydown":case"keyup":Fe=T2;break;case"focusin":We="focus",Fe=Qd;break;case"focusout":We="blur",Fe=Qd;break;case"beforeblur":case"afterblur":Fe=Qd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=D2;break;case Wx:case Vx:case Ux:Fe=_2;break;case Gx:Fe=I2;break;case"scroll":Fe=x2;break;case"wheel":Fe=B2;break;case"copy":case"cut":case"paste":Fe=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=kx}var Ge=(a&4)!==0,rr=!Ge&&i==="scroll",ce=Ge?be!==null?be+"Capture":null:be;Ge=[];for(var ie=pe,de;ie!==null;){de=ie;var Ae=de.stateNode;if(de.tag===5&&Ae!==null&&(de=Ae,ce!==null&&(Ae=fr(ie,ce),Ae!=null&&Ge.push(xa(ie,Ae,de)))),rr)break;ie=ie.return}0<Ge.length&&(be=new Fe(be,We,null,p,Se),ke.push({event:be,listeners:Ge}))}}if((a&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",Fe=i==="mouseout"||i==="pointerout",be&&p!==Me&&(We=p.relatedTarget||p.fromElement)&&(vi(We)||We[hs]))break e;if((Fe||be)&&(be=Se.window===Se?Se:(be=Se.ownerDocument)?be.defaultView||be.parentWindow:window,Fe?(We=p.relatedTarget||p.toElement,Fe=pe,We=We?vi(We):null,We!==null&&(rr=xi(We),We!==rr||We.tag!==5&&We.tag!==6)&&(We=null)):(Fe=null,We=pe),Fe!==We)){if(Ge=Cx,Ae="onMouseLeave",ce="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=kx,Ae="onPointerLeave",ce="onPointerEnter",ie="pointer"),rr=Fe==null?be:ro(Fe),de=We==null?be:ro(We),be=new Ge(Ae,ie+"leave",Fe,p,Se),be.target=rr,be.relatedTarget=de,Ae=null,vi(Se)===pe&&(Ge=new Ge(ce,ie+"enter",We,p,Se),Ge.target=de,Ge.relatedTarget=rr,Ae=Ge),rr=Ae,Fe&&We)t:{for(Ge=Fe,ce=We,ie=0,de=Ge;de;de=eo(de))ie++;for(de=0,Ae=ce;Ae;Ae=eo(Ae))de++;for(;0<ie-de;)Ge=eo(Ge),ie--;for(;0<de-ie;)ce=eo(ce),de--;for(;ie--;){if(Ge===ce||ce!==null&&Ge===ce.alternate)break t;Ge=eo(Ge),ce=eo(ce)}Ge=null}else Ge=null;Fe!==null&&Qx(ke,be,Fe,Ge,!1),We!==null&&rr!==null&&Qx(ke,rr,We,Ge,!0)}}e:{if(be=pe?ro(pe):window,Fe=be.nodeName&&be.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&be.type==="file")var qe=U2;else if(Tx(be))if(Mx)qe=Y2;else{qe=K2;var Qe=G2}else(Fe=be.nodeName)&&Fe.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(qe=q2);if(qe&&(qe=qe(i,pe))){Rx(ke,qe,p,Se);break e}Qe&&Qe(i,be,pe),i==="focusout"&&(Qe=be._wrapperState)&&Qe.controlled&&be.type==="number"&&De(be,"number",be.value)}switch(Qe=pe?ro(pe):window,i){case"focusin":(Tx(Qe)||Qe.contentEditable==="true")&&(Qi=Qe,sh=pe,ma=null);break;case"focusout":ma=sh=Qi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,zx(ke,p,Se);break;case"selectionchange":if(Q2)break;case"keydown":case"keyup":zx(ke,p,Se)}var Ze;if(eh)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Ji?Px(i,p)&&(it="onCompositionEnd"):i==="keydown"&&p.keyCode===229&&(it="onCompositionStart");it&&(jx&&p.locale!=="ko"&&(Ji||it!=="onCompositionStart"?it==="onCompositionEnd"&&Ji&&(Ze=wx()):(Is=Se,qd="value"in Is?Is.value:Is.textContent,Ji=!0)),Qe=oc(pe,it),0<Qe.length&&(it=new Sx(it,i,null,p,Se),ke.push({event:it,listeners:Qe}),Ze?it.data=Ze:(Ze=Ax(p),Ze!==null&&(it.data=Ze)))),(Ze=$2?z2(i,p):H2(i,p))&&(pe=oc(pe,"onBeforeInput"),0<pe.length&&(Se=new Sx("onBeforeInput","beforeinput",null,p,Se),ke.push({event:Se,listeners:pe}),Se.data=Ze))}Xx(ke,a)})}function xa(i,a,p){return{instance:i,listener:a,currentTarget:p}}function oc(i,a){for(var p=a+"Capture",S=[];i!==null;){var A=i,D=A.stateNode;A.tag===5&&D!==null&&(A=D,D=fr(i,p),D!=null&&S.unshift(xa(i,D,A)),D=fr(i,a),D!=null&&S.push(xa(i,D,A))),i=i.return}return S}function eo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qx(i,a,p,S,A){for(var D=a._reactName,V=[];p!==null&&p!==S;){var Z=p,ee=Z.alternate,pe=Z.stateNode;if(ee!==null&&ee===S)break;Z.tag===5&&pe!==null&&(Z=pe,A?(ee=fr(p,D),ee!=null&&V.unshift(xa(p,ee,Z))):A||(ee=fr(p,D),ee!=null&&V.push(xa(p,ee,Z)))),p=p.return}V.length!==0&&i.push({event:a,listeners:V})}var rE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Zx(i){return(typeof i=="string"?i:""+i).replace(rE,`
`).replace(nE,"")}function ac(i,a,p){if(a=Zx(a),Zx(i)!==a&&p)throw Error(n(425))}function lc(){}var dh=null,hh=null;function fh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,iE=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(i){return e0.resolve(null).then(i).catch(oE)}:mh;function oE(i){setTimeout(function(){throw i})}function ph(i,a){var p=a,S=0;do{var A=p.nextSibling;if(i.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(S===0){i.removeChild(A),aa(a);return}S--}else p!=="$"&&p!=="$?"&&p!=="$!"||S++;p=A}while(p);aa(a)}function Bs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function t0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return i;a--}else p==="/$"&&a++}i=i.previousSibling}return null}var to=Math.random().toString(36).slice(2),Kn="__reactFiber$"+to,va="__reactProps$"+to,hs="__reactContainer$"+to,gh="__reactEvents$"+to,aE="__reactListeners$"+to,lE="__reactHandles$"+to;function vi(i){var a=i[Kn];if(a)return a;for(var p=i.parentNode;p;){if(a=p[hs]||p[Kn]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(i=t0(i);i!==null;){if(p=i[Kn])return p;i=t0(i)}return a}i=p,p=i.parentNode}return null}function ya(i){return i=i[Kn]||i[hs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ro(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function cc(i){return i[va]||null}var xh=[],no=-1;function Fs(i){return{current:i}}function $t(i){0>no||(i.current=xh[no],xh[no]=null,no--)}function Mt(i,a){no++,xh[no]=i.current,i.current=a}var $s={},Rr=Fs($s),Ur=Fs(!1),yi=$s;function so(i,a){var p=i.type.contextTypes;if(!p)return $s;var S=i.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===a)return S.__reactInternalMemoizedMaskedChildContext;var A={},D;for(D in p)A[D]=a[D];return S&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=A),A}function Gr(i){return i=i.childContextTypes,i!=null}function uc(){$t(Ur),$t(Rr)}function r0(i,a,p){if(Rr.current!==$s)throw Error(n(168));Mt(Rr,a),Mt(Ur,p)}function n0(i,a,p){var S=i.stateNode;if(a=a.childContextTypes,typeof S.getChildContext!="function")return p;S=S.getChildContext();for(var A in S)if(!(A in a))throw Error(n(108,X(i)||"Unknown",A));return M({},p,S)}function dc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||$s,yi=Rr.current,Mt(Rr,i),Mt(Ur,Ur.current),!0}function s0(i,a,p){var S=i.stateNode;if(!S)throw Error(n(169));p?(i=n0(i,a,yi),S.__reactInternalMemoizedMergedChildContext=i,$t(Ur),$t(Rr),Mt(Rr,i)):$t(Ur),Mt(Ur,p)}var fs=null,hc=!1,vh=!1;function i0(i){fs===null?fs=[i]:fs.push(i)}function cE(i){hc=!0,i0(i)}function zs(){if(!vh&&fs!==null){vh=!0;var i=0,a=At;try{var p=fs;for(At=1;i<p.length;i++){var S=p[i];do S=S(!0);while(S!==null)}fs=null,hc=!1}catch(A){throw fs!==null&&(fs=fs.slice(i+1)),ax($d,zs),A}finally{At=a,vh=!1}}return null}var io=[],oo=0,fc=null,mc=0,gn=[],xn=0,bi=null,ms=1,ps="";function wi(i,a){io[oo++]=mc,io[oo++]=fc,fc=i,mc=a}function o0(i,a,p){gn[xn++]=ms,gn[xn++]=ps,gn[xn++]=bi,bi=i;var S=ms;i=ps;var A=32-Mn(S)-1;S&=~(1<<A),p+=1;var D=32-Mn(a)+A;if(30<D){var V=A-A%5;D=(S&(1<<V)-1).toString(32),S>>=V,A-=V,ms=1<<32-Mn(a)+A|p<<A|S,ps=D+i}else ms=1<<D|p<<A|S,ps=i}function yh(i){i.return!==null&&(wi(i,1),o0(i,1,0))}function bh(i){for(;i===fc;)fc=io[--oo],io[oo]=null,mc=io[--oo],io[oo]=null;for(;i===bi;)bi=gn[--xn],gn[xn]=null,ps=gn[--xn],gn[xn]=null,ms=gn[--xn],gn[xn]=null}var sn=null,on=null,Ht=!1,Ln=null;function a0(i,a){var p=wn(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=i,a=i.deletions,a===null?(i.deletions=[p],i.flags|=16):a.push(p)}function l0(i,a){switch(i.tag){case 5:var p=i.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,sn=i,on=Bs(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,sn=i,on=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=bi!==null?{id:ms,overflow:ps}:null,i.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=wn(18,null,null,0),p.stateNode=a,p.return=i,i.child=p,sn=i,on=null,!0):!1;default:return!1}}function wh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _h(i){if(Ht){var a=on;if(a){var p=a;if(!l0(i,a)){if(wh(i))throw Error(n(418));a=Bs(p.nextSibling);var S=sn;a&&l0(i,a)?a0(S,p):(i.flags=i.flags&-4097|2,Ht=!1,sn=i)}}else{if(wh(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ht=!1,sn=i}}}function c0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sn=i}function pc(i){if(i!==sn)return!1;if(!Ht)return c0(i),Ht=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!fh(i.type,i.memoizedProps)),a&&(a=on)){if(wh(i))throw u0(),Error(n(418));for(;a;)a0(i,a),a=Bs(a.nextSibling)}if(c0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="/$"){if(a===0){on=Bs(i.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}i=i.nextSibling}on=null}}else on=sn?Bs(i.stateNode.nextSibling):null;return!0}function u0(){for(var i=on;i;)i=Bs(i.nextSibling)}function ao(){on=sn=null,Ht=!1}function Ch(i){Ln===null?Ln=[i]:Ln.push(i)}var uE=j.ReactCurrentBatchConfig;function ba(i,a,p){if(i=p.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var S=p.stateNode}if(!S)throw Error(n(147,i));var A=S,D=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===D?a.ref:(a=function(V){var Z=A.refs;V===null?delete Z[D]:Z[D]=V},a._stringRef=D,a)}if(typeof i!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,i))}return i}function gc(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function d0(i){var a=i._init;return a(i._payload)}function h0(i){function a(ce,ie){if(i){var de=ce.deletions;de===null?(ce.deletions=[ie],ce.flags|=16):de.push(ie)}}function p(ce,ie){if(!i)return null;for(;ie!==null;)a(ce,ie),ie=ie.sibling;return null}function S(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function A(ce,ie){return ce=Ys(ce,ie),ce.index=0,ce.sibling=null,ce}function D(ce,ie,de){return ce.index=de,i?(de=ce.alternate,de!==null?(de=de.index,de<ie?(ce.flags|=2,ie):de):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function V(ce){return i&&ce.alternate===null&&(ce.flags|=2),ce}function Z(ce,ie,de,Ae){return ie===null||ie.tag!==6?(ie=pf(de,ce.mode,Ae),ie.return=ce,ie):(ie=A(ie,de),ie.return=ce,ie)}function ee(ce,ie,de,Ae){var qe=de.type;return qe===T?Se(ce,ie,de.props.children,Ae,de.key):ie!==null&&(ie.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===K&&d0(qe)===ie.type)?(Ae=A(ie,de.props),Ae.ref=ba(ce,ie,de),Ae.return=ce,Ae):(Ae=$c(de.type,de.key,de.props,null,ce.mode,Ae),Ae.ref=ba(ce,ie,de),Ae.return=ce,Ae)}function pe(ce,ie,de,Ae){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=gf(de,ce.mode,Ae),ie.return=ce,ie):(ie=A(ie,de.children||[]),ie.return=ce,ie)}function Se(ce,ie,de,Ae,qe){return ie===null||ie.tag!==7?(ie=Pi(de,ce.mode,Ae,qe),ie.return=ce,ie):(ie=A(ie,de),ie.return=ce,ie)}function ke(ce,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=pf(""+ie,ce.mode,de),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return de=$c(ie.type,ie.key,ie.props,null,ce.mode,de),de.ref=ba(ce,null,ie),de.return=ce,de;case P:return ie=gf(ie,ce.mode,de),ie.return=ce,ie;case K:var Ae=ie._init;return ke(ce,Ae(ie._payload),de)}if(Je(ie)||L(ie))return ie=Pi(ie,ce.mode,de,null),ie.return=ce,ie;gc(ce,ie)}return null}function be(ce,ie,de,Ae){var qe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return qe!==null?null:Z(ce,ie,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return de.key===qe?ee(ce,ie,de,Ae):null;case P:return de.key===qe?pe(ce,ie,de,Ae):null;case K:return qe=de._init,be(ce,ie,qe(de._payload),Ae)}if(Je(de)||L(de))return qe!==null?null:Se(ce,ie,de,Ae,null);gc(ce,de)}return null}function Fe(ce,ie,de,Ae,qe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ce=ce.get(de)||null,Z(ie,ce,""+Ae,qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case E:return ce=ce.get(Ae.key===null?de:Ae.key)||null,ee(ie,ce,Ae,qe);case P:return ce=ce.get(Ae.key===null?de:Ae.key)||null,pe(ie,ce,Ae,qe);case K:var Qe=Ae._init;return Fe(ce,ie,de,Qe(Ae._payload),qe)}if(Je(Ae)||L(Ae))return ce=ce.get(de)||null,Se(ie,ce,Ae,qe,null);gc(ie,Ae)}return null}function We(ce,ie,de,Ae){for(var qe=null,Qe=null,Ze=ie,it=ie=0,gr=null;Ze!==null&&it<de.length;it++){Ze.index>it?(gr=Ze,Ze=null):gr=Ze.sibling;var bt=be(ce,Ze,de[it],Ae);if(bt===null){Ze===null&&(Ze=gr);break}i&&Ze&&bt.alternate===null&&a(ce,Ze),ie=D(bt,ie,it),Qe===null?qe=bt:Qe.sibling=bt,Qe=bt,Ze=gr}if(it===de.length)return p(ce,Ze),Ht&&wi(ce,it),qe;if(Ze===null){for(;it<de.length;it++)Ze=ke(ce,de[it],Ae),Ze!==null&&(ie=D(Ze,ie,it),Qe===null?qe=Ze:Qe.sibling=Ze,Qe=Ze);return Ht&&wi(ce,it),qe}for(Ze=S(ce,Ze);it<de.length;it++)gr=Fe(Ze,ce,it,de[it],Ae),gr!==null&&(i&&gr.alternate!==null&&Ze.delete(gr.key===null?it:gr.key),ie=D(gr,ie,it),Qe===null?qe=gr:Qe.sibling=gr,Qe=gr);return i&&Ze.forEach(function(Xs){return a(ce,Xs)}),Ht&&wi(ce,it),qe}function Ge(ce,ie,de,Ae){var qe=L(de);if(typeof qe!="function")throw Error(n(150));if(de=qe.call(de),de==null)throw Error(n(151));for(var Qe=qe=null,Ze=ie,it=ie=0,gr=null,bt=de.next();Ze!==null&&!bt.done;it++,bt=de.next()){Ze.index>it?(gr=Ze,Ze=null):gr=Ze.sibling;var Xs=be(ce,Ze,bt.value,Ae);if(Xs===null){Ze===null&&(Ze=gr);break}i&&Ze&&Xs.alternate===null&&a(ce,Ze),ie=D(Xs,ie,it),Qe===null?qe=Xs:Qe.sibling=Xs,Qe=Xs,Ze=gr}if(bt.done)return p(ce,Ze),Ht&&wi(ce,it),qe;if(Ze===null){for(;!bt.done;it++,bt=de.next())bt=ke(ce,bt.value,Ae),bt!==null&&(ie=D(bt,ie,it),Qe===null?qe=bt:Qe.sibling=bt,Qe=bt);return Ht&&wi(ce,it),qe}for(Ze=S(ce,Ze);!bt.done;it++,bt=de.next())bt=Fe(Ze,ce,it,bt.value,Ae),bt!==null&&(i&&bt.alternate!==null&&Ze.delete(bt.key===null?it:bt.key),ie=D(bt,ie,it),Qe===null?qe=bt:Qe.sibling=bt,Qe=bt);return i&&Ze.forEach(function(WE){return a(ce,WE)}),Ht&&wi(ce,it),qe}function rr(ce,ie,de,Ae){if(typeof de=="object"&&de!==null&&de.type===T&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case E:e:{for(var qe=de.key,Qe=ie;Qe!==null;){if(Qe.key===qe){if(qe=de.type,qe===T){if(Qe.tag===7){p(ce,Qe.sibling),ie=A(Qe,de.props.children),ie.return=ce,ce=ie;break e}}else if(Qe.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===K&&d0(qe)===Qe.type){p(ce,Qe.sibling),ie=A(Qe,de.props),ie.ref=ba(ce,Qe,de),ie.return=ce,ce=ie;break e}p(ce,Qe);break}else a(ce,Qe);Qe=Qe.sibling}de.type===T?(ie=Pi(de.props.children,ce.mode,Ae,de.key),ie.return=ce,ce=ie):(Ae=$c(de.type,de.key,de.props,null,ce.mode,Ae),Ae.ref=ba(ce,ie,de),Ae.return=ce,ce=Ae)}return V(ce);case P:e:{for(Qe=de.key;ie!==null;){if(ie.key===Qe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){p(ce,ie.sibling),ie=A(ie,de.children||[]),ie.return=ce,ce=ie;break e}else{p(ce,ie);break}else a(ce,ie);ie=ie.sibling}ie=gf(de,ce.mode,Ae),ie.return=ce,ce=ie}return V(ce);case K:return Qe=de._init,rr(ce,ie,Qe(de._payload),Ae)}if(Je(de))return We(ce,ie,de,Ae);if(L(de))return Ge(ce,ie,de,Ae);gc(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(p(ce,ie.sibling),ie=A(ie,de),ie.return=ce,ce=ie):(p(ce,ie),ie=pf(de,ce.mode,Ae),ie.return=ce,ce=ie),V(ce)):p(ce,ie)}return rr}var lo=h0(!0),f0=h0(!1),xc=Fs(null),vc=null,co=null,Sh=null;function kh(){Sh=co=vc=null}function jh(i){var a=xc.current;$t(xc),i._currentValue=a}function Nh(i,a,p){for(;i!==null;){var S=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,S!==null&&(S.childLanes|=a)):S!==null&&(S.childLanes&a)!==a&&(S.childLanes|=a),i===p)break;i=i.return}}function uo(i,a){vc=i,Sh=co=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Kr=!0),i.firstContext=null)}function vn(i){var a=i._currentValue;if(Sh!==i)if(i={context:i,memoizedValue:a,next:null},co===null){if(vc===null)throw Error(n(308));co=i,vc.dependencies={lanes:0,firstContext:i}}else co=co.next=i;return a}var _i=null;function Eh(i){_i===null?_i=[i]:_i.push(i)}function m0(i,a,p,S){var A=a.interleaved;return A===null?(p.next=p,Eh(a)):(p.next=A.next,A.next=p),a.interleaved=p,gs(i,S)}function gs(i,a){i.lanes|=a;var p=i.alternate;for(p!==null&&(p.lanes|=a),p=i,i=i.return;i!==null;)i.childLanes|=a,p=i.alternate,p!==null&&(p.childLanes|=a),p=i,i=i.return;return p.tag===3?p.stateNode:null}var Hs=!1;function Ph(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function xs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Ws(i,a,p){var S=i.updateQueue;if(S===null)return null;if(S=S.shared,(yt&2)!==0){var A=S.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),S.pending=a,gs(i,p)}return A=S.interleaved,A===null?(a.next=a,Eh(S)):(a.next=A.next,A.next=a),S.interleaved=a,gs(i,p)}function yc(i,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var S=a.lanes;S&=i.pendingLanes,p|=S,a.lanes=p,Wd(i,p)}}function g0(i,a){var p=i.updateQueue,S=i.alternate;if(S!==null&&(S=S.updateQueue,p===S)){var A=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};D===null?A=D=V:D=D.next=V,p=p.next}while(p!==null);D===null?A=D=a:D=D.next=a}else A=D=a;p={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:S.shared,effects:S.effects},i.updateQueue=p;return}i=p.lastBaseUpdate,i===null?p.firstBaseUpdate=a:i.next=a,p.lastBaseUpdate=a}function bc(i,a,p,S){var A=i.updateQueue;Hs=!1;var D=A.firstBaseUpdate,V=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var ee=Z,pe=ee.next;ee.next=null,V===null?D=pe:V.next=pe,V=ee;var Se=i.alternate;Se!==null&&(Se=Se.updateQueue,Z=Se.lastBaseUpdate,Z!==V&&(Z===null?Se.firstBaseUpdate=pe:Z.next=pe,Se.lastBaseUpdate=ee))}if(D!==null){var ke=A.baseState;V=0,Se=pe=ee=null,Z=D;do{var be=Z.lane,Fe=Z.eventTime;if((S&be)===be){Se!==null&&(Se=Se.next={eventTime:Fe,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var We=i,Ge=Z;switch(be=a,Fe=p,Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){ke=We.call(Fe,ke,be);break e}ke=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,be=typeof We=="function"?We.call(Fe,ke,be):We,be==null)break e;ke=M({},ke,be);break e;case 2:Hs=!0}}Z.callback!==null&&Z.lane!==0&&(i.flags|=64,be=A.effects,be===null?A.effects=[Z]:be.push(Z))}else Fe={eventTime:Fe,lane:be,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Se===null?(pe=Se=Fe,ee=ke):Se=Se.next=Fe,V|=be;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;be=Z,Z=be.next,be.next=null,A.lastBaseUpdate=be,A.shared.pending=null}}while(!0);if(Se===null&&(ee=ke),A.baseState=ee,A.firstBaseUpdate=pe,A.lastBaseUpdate=Se,a=A.shared.interleaved,a!==null){A=a;do V|=A.lane,A=A.next;while(A!==a)}else D===null&&(A.shared.lanes=0);ki|=V,i.lanes=V,i.memoizedState=ke}}function x0(i,a,p){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var S=i[a],A=S.callback;if(A!==null){if(S.callback=null,S=p,typeof A!="function")throw Error(n(191,A));A.call(S)}}}var wa={},qn=Fs(wa),_a=Fs(wa),Ca=Fs(wa);function Ci(i){if(i===wa)throw Error(n(174));return i}function Ah(i,a){switch(Mt(Ca,a),Mt(_a,i),Mt(qn,wa),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ce(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Ce(a,i)}$t(qn),Mt(qn,a)}function ho(){$t(qn),$t(_a),$t(Ca)}function v0(i){Ci(Ca.current);var a=Ci(qn.current),p=Ce(a,i.type);a!==p&&(Mt(_a,i),Mt(qn,p))}function Th(i){_a.current===i&&($t(qn),$t(_a))}var Kt=Fs(0);function wc(i){for(var a=i;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rh=[];function Mh(){for(var i=0;i<Rh.length;i++)Rh[i]._workInProgressVersionPrimary=null;Rh.length=0}var _c=j.ReactCurrentDispatcher,Dh=j.ReactCurrentBatchConfig,Si=0,qt=null,lr=null,mr=null,Cc=!1,Sa=!1,ka=0,dE=0;function Mr(){throw Error(n(321))}function Lh(i,a){if(a===null)return!1;for(var p=0;p<a.length&&p<i.length;p++)if(!Dn(i[p],a[p]))return!1;return!0}function Ih(i,a,p,S,A,D){if(Si=D,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_c.current=i===null||i.memoizedState===null?pE:gE,i=p(S,A),Sa){D=0;do{if(Sa=!1,ka=0,25<=D)throw Error(n(301));D+=1,mr=lr=null,a.updateQueue=null,_c.current=xE,i=p(S,A)}while(Sa)}if(_c.current=jc,a=lr!==null&&lr.next!==null,Si=0,mr=lr=qt=null,Cc=!1,a)throw Error(n(300));return i}function Oh(){var i=ka!==0;return ka=0,i}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?qt.memoizedState=mr=i:mr=mr.next=i,mr}function yn(){if(lr===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=lr.next;var a=mr===null?qt.memoizedState:mr.next;if(a!==null)mr=a,lr=i;else{if(i===null)throw Error(n(310));lr=i,i={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},mr===null?qt.memoizedState=mr=i:mr=mr.next=i}return mr}function ja(i,a){return typeof a=="function"?a(i):a}function Bh(i){var a=yn(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var S=lr,A=S.baseQueue,D=p.pending;if(D!==null){if(A!==null){var V=A.next;A.next=D.next,D.next=V}S.baseQueue=A=D,p.pending=null}if(A!==null){D=A.next,S=S.baseState;var Z=V=null,ee=null,pe=D;do{var Se=pe.lane;if((Si&Se)===Se)ee!==null&&(ee=ee.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),S=pe.hasEagerState?pe.eagerState:i(S,pe.action);else{var ke={lane:Se,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ee===null?(Z=ee=ke,V=S):ee=ee.next=ke,qt.lanes|=Se,ki|=Se}pe=pe.next}while(pe!==null&&pe!==D);ee===null?V=S:ee.next=Z,Dn(S,a.memoizedState)||(Kr=!0),a.memoizedState=S,a.baseState=V,a.baseQueue=ee,p.lastRenderedState=S}if(i=p.interleaved,i!==null){A=i;do D=A.lane,qt.lanes|=D,ki|=D,A=A.next;while(A!==i)}else A===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function Fh(i){var a=yn(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var S=p.dispatch,A=p.pending,D=a.memoizedState;if(A!==null){p.pending=null;var V=A=A.next;do D=i(D,V.action),V=V.next;while(V!==A);Dn(D,a.memoizedState)||(Kr=!0),a.memoizedState=D,a.baseQueue===null&&(a.baseState=D),p.lastRenderedState=D}return[D,S]}function y0(){}function b0(i,a){var p=qt,S=yn(),A=a(),D=!Dn(S.memoizedState,A);if(D&&(S.memoizedState=A,Kr=!0),S=S.queue,$h(C0.bind(null,p,S,i),[i]),S.getSnapshot!==a||D||mr!==null&&mr.memoizedState.tag&1){if(p.flags|=2048,Na(9,_0.bind(null,p,S,A,a),void 0,null),pr===null)throw Error(n(349));(Si&30)!==0||w0(p,a,A)}return A}function w0(i,a,p){i.flags|=16384,i={getSnapshot:a,value:p},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.stores=[i]):(p=a.stores,p===null?a.stores=[i]:p.push(i))}function _0(i,a,p,S){a.value=p,a.getSnapshot=S,S0(a)&&k0(i)}function C0(i,a,p){return p(function(){S0(a)&&k0(i)})}function S0(i){var a=i.getSnapshot;i=i.value;try{var p=a();return!Dn(i,p)}catch{return!0}}function k0(i){var a=gs(i,1);a!==null&&Fn(a,i,1,-1)}function j0(i){var a=Yn();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:i},a.queue=i,i=i.dispatch=mE.bind(null,qt,i),[a.memoizedState,i]}function Na(i,a,p,S){return i={tag:i,create:a,destroy:p,deps:S,next:null},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.lastEffect=i.next=i):(p=a.lastEffect,p===null?a.lastEffect=i.next=i:(S=p.next,p.next=i,i.next=S,a.lastEffect=i)),i}function N0(){return yn().memoizedState}function Sc(i,a,p,S){var A=Yn();qt.flags|=i,A.memoizedState=Na(1|a,p,void 0,S===void 0?null:S)}function kc(i,a,p,S){var A=yn();S=S===void 0?null:S;var D=void 0;if(lr!==null){var V=lr.memoizedState;if(D=V.destroy,S!==null&&Lh(S,V.deps)){A.memoizedState=Na(a,p,D,S);return}}qt.flags|=i,A.memoizedState=Na(1|a,p,D,S)}function E0(i,a){return Sc(8390656,8,i,a)}function $h(i,a){return kc(2048,8,i,a)}function P0(i,a){return kc(4,2,i,a)}function A0(i,a){return kc(4,4,i,a)}function T0(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function R0(i,a,p){return p=p!=null?p.concat([i]):null,kc(4,4,T0.bind(null,a,i),p)}function zh(){}function M0(i,a){var p=yn();a=a===void 0?null:a;var S=p.memoizedState;return S!==null&&a!==null&&Lh(a,S[1])?S[0]:(p.memoizedState=[i,a],i)}function D0(i,a){var p=yn();a=a===void 0?null:a;var S=p.memoizedState;return S!==null&&a!==null&&Lh(a,S[1])?S[0]:(i=i(),p.memoizedState=[i,a],i)}function L0(i,a,p){return(Si&21)===0?(i.baseState&&(i.baseState=!1,Kr=!0),i.memoizedState=p):(Dn(p,a)||(p=dx(),qt.lanes|=p,ki|=p,i.baseState=!0),a)}function hE(i,a){var p=At;At=p!==0&&4>p?p:4,i(!0);var S=Dh.transition;Dh.transition={};try{i(!1),a()}finally{At=p,Dh.transition=S}}function I0(){return yn().memoizedState}function fE(i,a,p){var S=Ks(i);if(p={lane:S,action:p,hasEagerState:!1,eagerState:null,next:null},O0(i))B0(a,p);else if(p=m0(i,a,p,S),p!==null){var A=zr();Fn(p,i,S,A),F0(p,a,S)}}function mE(i,a,p){var S=Ks(i),A={lane:S,action:p,hasEagerState:!1,eagerState:null,next:null};if(O0(i))B0(a,A);else{var D=i.alternate;if(i.lanes===0&&(D===null||D.lanes===0)&&(D=a.lastRenderedReducer,D!==null))try{var V=a.lastRenderedState,Z=D(V,p);if(A.hasEagerState=!0,A.eagerState=Z,Dn(Z,V)){var ee=a.interleaved;ee===null?(A.next=A,Eh(a)):(A.next=ee.next,ee.next=A),a.interleaved=A;return}}catch{}finally{}p=m0(i,a,A,S),p!==null&&(A=zr(),Fn(p,i,S,A),F0(p,a,S))}}function O0(i){var a=i.alternate;return i===qt||a!==null&&a===qt}function B0(i,a){Sa=Cc=!0;var p=i.pending;p===null?a.next=a:(a.next=p.next,p.next=a),i.pending=a}function F0(i,a,p){if((p&4194240)!==0){var S=a.lanes;S&=i.pendingLanes,p|=S,a.lanes=p,Wd(i,p)}}var jc={readContext:vn,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},pE={readContext:vn,useCallback:function(i,a){return Yn().memoizedState=[i,a===void 0?null:a],i},useContext:vn,useEffect:E0,useImperativeHandle:function(i,a,p){return p=p!=null?p.concat([i]):null,Sc(4194308,4,T0.bind(null,a,i),p)},useLayoutEffect:function(i,a){return Sc(4194308,4,i,a)},useInsertionEffect:function(i,a){return Sc(4,2,i,a)},useMemo:function(i,a){var p=Yn();return a=a===void 0?null:a,i=i(),p.memoizedState=[i,a],i},useReducer:function(i,a,p){var S=Yn();return a=p!==void 0?p(a):a,S.memoizedState=S.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},S.queue=i,i=i.dispatch=fE.bind(null,qt,i),[S.memoizedState,i]},useRef:function(i){var a=Yn();return i={current:i},a.memoizedState=i},useState:j0,useDebugValue:zh,useDeferredValue:function(i){return Yn().memoizedState=i},useTransition:function(){var i=j0(!1),a=i[0];return i=hE.bind(null,i[1]),Yn().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,p){var S=qt,A=Yn();if(Ht){if(p===void 0)throw Error(n(407));p=p()}else{if(p=a(),pr===null)throw Error(n(349));(Si&30)!==0||w0(S,a,p)}A.memoizedState=p;var D={value:p,getSnapshot:a};return A.queue=D,E0(C0.bind(null,S,D,i),[i]),S.flags|=2048,Na(9,_0.bind(null,S,D,p,a),void 0,null),p},useId:function(){var i=Yn(),a=pr.identifierPrefix;if(Ht){var p=ps,S=ms;p=(S&~(1<<32-Mn(S)-1)).toString(32)+p,a=":"+a+"R"+p,p=ka++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=dE++,a=":"+a+"r"+p.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},gE={readContext:vn,useCallback:M0,useContext:vn,useEffect:$h,useImperativeHandle:R0,useInsertionEffect:P0,useLayoutEffect:A0,useMemo:D0,useReducer:Bh,useRef:N0,useState:function(){return Bh(ja)},useDebugValue:zh,useDeferredValue:function(i){var a=yn();return L0(a,lr.memoizedState,i)},useTransition:function(){var i=Bh(ja)[0],a=yn().memoizedState;return[i,a]},useMutableSource:y0,useSyncExternalStore:b0,useId:I0,unstable_isNewReconciler:!1},xE={readContext:vn,useCallback:M0,useContext:vn,useEffect:$h,useImperativeHandle:R0,useInsertionEffect:P0,useLayoutEffect:A0,useMemo:D0,useReducer:Fh,useRef:N0,useState:function(){return Fh(ja)},useDebugValue:zh,useDeferredValue:function(i){var a=yn();return lr===null?a.memoizedState=i:L0(a,lr.memoizedState,i)},useTransition:function(){var i=Fh(ja)[0],a=yn().memoizedState;return[i,a]},useMutableSource:y0,useSyncExternalStore:b0,useId:I0,unstable_isNewReconciler:!1};function In(i,a){if(i&&i.defaultProps){a=M({},a),i=i.defaultProps;for(var p in i)a[p]===void 0&&(a[p]=i[p]);return a}return a}function Hh(i,a,p,S){a=i.memoizedState,p=p(S,a),p=p==null?a:M({},a,p),i.memoizedState=p,i.lanes===0&&(i.updateQueue.baseState=p)}var Nc={isMounted:function(i){return(i=i._reactInternals)?xi(i)===i:!1},enqueueSetState:function(i,a,p){i=i._reactInternals;var S=zr(),A=Ks(i),D=xs(S,A);D.payload=a,p!=null&&(D.callback=p),a=Ws(i,D,A),a!==null&&(Fn(a,i,A,S),yc(a,i,A))},enqueueReplaceState:function(i,a,p){i=i._reactInternals;var S=zr(),A=Ks(i),D=xs(S,A);D.tag=1,D.payload=a,p!=null&&(D.callback=p),a=Ws(i,D,A),a!==null&&(Fn(a,i,A,S),yc(a,i,A))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var p=zr(),S=Ks(i),A=xs(p,S);A.tag=2,a!=null&&(A.callback=a),a=Ws(i,A,S),a!==null&&(Fn(a,i,S,p),yc(a,i,S))}};function $0(i,a,p,S,A,D,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(S,D,V):a.prototype&&a.prototype.isPureReactComponent?!fa(p,S)||!fa(A,D):!0}function z0(i,a,p){var S=!1,A=$s,D=a.contextType;return typeof D=="object"&&D!==null?D=vn(D):(A=Gr(a)?yi:Rr.current,S=a.contextTypes,D=(S=S!=null)?so(i,A):$s),a=new a(p,D),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nc,i.stateNode=a,a._reactInternals=i,S&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=D),a}function H0(i,a,p,S){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,S),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,S),a.state!==i&&Nc.enqueueReplaceState(a,a.state,null)}function Wh(i,a,p,S){var A=i.stateNode;A.props=p,A.state=i.memoizedState,A.refs={},Ph(i);var D=a.contextType;typeof D=="object"&&D!==null?A.context=vn(D):(D=Gr(a)?yi:Rr.current,A.context=so(i,D)),A.state=i.memoizedState,D=a.getDerivedStateFromProps,typeof D=="function"&&(Hh(i,a,D,p),A.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&Nc.enqueueReplaceState(A,A.state,null),bc(i,p,A,S),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function fo(i,a){try{var p="",S=a;do p+=fe(S),S=S.return;while(S);var A=p}catch(D){A=`
Error generating stack: `+D.message+`
`+D.stack}return{value:i,source:a,stack:A,digest:null}}function Vh(i,a,p){return{value:i,source:null,stack:p??null,digest:a??null}}function Uh(i,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var vE=typeof WeakMap=="function"?WeakMap:Map;function W0(i,a,p){p=xs(-1,p),p.tag=3,p.payload={element:null};var S=a.value;return p.callback=function(){Dc||(Dc=!0,af=S),Uh(i,a)},p}function V0(i,a,p){p=xs(-1,p),p.tag=3;var S=i.type.getDerivedStateFromError;if(typeof S=="function"){var A=a.value;p.payload=function(){return S(A)},p.callback=function(){Uh(i,a)}}var D=i.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(p.callback=function(){Uh(i,a),typeof S!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var V=a.stack;this.componentDidCatch(a.value,{componentStack:V!==null?V:""})}),p}function U0(i,a,p){var S=i.pingCache;if(S===null){S=i.pingCache=new vE;var A=new Set;S.set(a,A)}else A=S.get(a),A===void 0&&(A=new Set,S.set(a,A));A.has(p)||(A.add(p),i=RE.bind(null,i,a,p),a.then(i,i))}function G0(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function K0(i,a,p,S,A){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=xs(-1,1),a.tag=2,Ws(p,a,1))),p.lanes|=1),i):(i.flags|=65536,i.lanes=A,i)}var yE=j.ReactCurrentOwner,Kr=!1;function $r(i,a,p,S){a.child=i===null?f0(a,null,p,S):lo(a,i.child,p,S)}function q0(i,a,p,S,A){p=p.render;var D=a.ref;return uo(a,A),S=Ih(i,a,p,S,D,A),p=Oh(),i!==null&&!Kr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~A,vs(i,a,A)):(Ht&&p&&yh(a),a.flags|=1,$r(i,a,S,A),a.child)}function Y0(i,a,p,S,A){if(i===null){var D=p.type;return typeof D=="function"&&!mf(D)&&D.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=D,X0(i,a,D,S,A)):(i=$c(p.type,null,S,a,a.mode,A),i.ref=a.ref,i.return=a,a.child=i)}if(D=i.child,(i.lanes&A)===0){var V=D.memoizedProps;if(p=p.compare,p=p!==null?p:fa,p(V,S)&&i.ref===a.ref)return vs(i,a,A)}return a.flags|=1,i=Ys(D,S),i.ref=a.ref,i.return=a,a.child=i}function X0(i,a,p,S,A){if(i!==null){var D=i.memoizedProps;if(fa(D,S)&&i.ref===a.ref)if(Kr=!1,a.pendingProps=S=D,(i.lanes&A)!==0)(i.flags&131072)!==0&&(Kr=!0);else return a.lanes=i.lanes,vs(i,a,A)}return Gh(i,a,p,S,A)}function J0(i,a,p){var S=a.pendingProps,A=S.children,D=i!==null?i.memoizedState:null;if(S.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(po,an),an|=p;else{if((p&1073741824)===0)return i=D!==null?D.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Mt(po,an),an|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=D!==null?D.baseLanes:p,Mt(po,an),an|=S}else D!==null?(S=D.baseLanes|p,a.memoizedState=null):S=p,Mt(po,an),an|=S;return $r(i,a,A,p),a.child}function Q0(i,a){var p=a.ref;(i===null&&p!==null||i!==null&&i.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function Gh(i,a,p,S,A){var D=Gr(p)?yi:Rr.current;return D=so(a,D),uo(a,A),p=Ih(i,a,p,S,D,A),S=Oh(),i!==null&&!Kr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~A,vs(i,a,A)):(Ht&&S&&yh(a),a.flags|=1,$r(i,a,p,A),a.child)}function Z0(i,a,p,S,A){if(Gr(p)){var D=!0;dc(a)}else D=!1;if(uo(a,A),a.stateNode===null)Pc(i,a),z0(a,p,S),Wh(a,p,S,A),S=!0;else if(i===null){var V=a.stateNode,Z=a.memoizedProps;V.props=Z;var ee=V.context,pe=p.contextType;typeof pe=="object"&&pe!==null?pe=vn(pe):(pe=Gr(p)?yi:Rr.current,pe=so(a,pe));var Se=p.getDerivedStateFromProps,ke=typeof Se=="function"||typeof V.getSnapshotBeforeUpdate=="function";ke||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==S||ee!==pe)&&H0(a,V,S,pe),Hs=!1;var be=a.memoizedState;V.state=be,bc(a,S,V,A),ee=a.memoizedState,Z!==S||be!==ee||Ur.current||Hs?(typeof Se=="function"&&(Hh(a,p,Se,S),ee=a.memoizedState),(Z=Hs||$0(a,p,Z,S,be,ee,pe))?(ke||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(a.flags|=4194308)):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=S,a.memoizedState=ee),V.props=S,V.state=ee,V.context=pe,S=Z):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),S=!1)}else{V=a.stateNode,p0(i,a),Z=a.memoizedProps,pe=a.type===a.elementType?Z:In(a.type,Z),V.props=pe,ke=a.pendingProps,be=V.context,ee=p.contextType,typeof ee=="object"&&ee!==null?ee=vn(ee):(ee=Gr(p)?yi:Rr.current,ee=so(a,ee));var Fe=p.getDerivedStateFromProps;(Se=typeof Fe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==ke||be!==ee)&&H0(a,V,S,ee),Hs=!1,be=a.memoizedState,V.state=be,bc(a,S,V,A);var We=a.memoizedState;Z!==ke||be!==We||Ur.current||Hs?(typeof Fe=="function"&&(Hh(a,p,Fe,S),We=a.memoizedState),(pe=Hs||$0(a,p,pe,S,be,We,ee)||!1)?(Se||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(S,We,ee),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(S,We,ee)),typeof V.componentDidUpdate=="function"&&(a.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof V.componentDidUpdate!="function"||Z===i.memoizedProps&&be===i.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&be===i.memoizedState||(a.flags|=1024),a.memoizedProps=S,a.memoizedState=We),V.props=S,V.state=We,V.context=ee,S=pe):(typeof V.componentDidUpdate!="function"||Z===i.memoizedProps&&be===i.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&be===i.memoizedState||(a.flags|=1024),S=!1)}return Kh(i,a,p,S,D,A)}function Kh(i,a,p,S,A,D){Q0(i,a);var V=(a.flags&128)!==0;if(!S&&!V)return A&&s0(a,p,!1),vs(i,a,D);S=a.stateNode,yE.current=a;var Z=V&&typeof p.getDerivedStateFromError!="function"?null:S.render();return a.flags|=1,i!==null&&V?(a.child=lo(a,i.child,null,D),a.child=lo(a,null,Z,D)):$r(i,a,Z,D),a.memoizedState=S.state,A&&s0(a,p,!0),a.child}function ev(i){var a=i.stateNode;a.pendingContext?r0(i,a.pendingContext,a.pendingContext!==a.context):a.context&&r0(i,a.context,!1),Ah(i,a.containerInfo)}function tv(i,a,p,S,A){return ao(),Ch(A),a.flags|=256,$r(i,a,p,S),a.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(i){return{baseLanes:i,cachePool:null,transitions:null}}function rv(i,a,p){var S=a.pendingProps,A=Kt.current,D=!1,V=(a.flags&128)!==0,Z;if((Z=V)||(Z=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Z?(D=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),Mt(Kt,A&1),i===null)return _h(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(V=S.children,i=S.fallback,D?(S=a.mode,D=a.child,V={mode:"hidden",children:V},(S&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=V):D=zc(V,S,0,null),i=Pi(i,S,p,null),D.return=a,i.return=a,D.sibling=i,a.child=D,a.child.memoizedState=Yh(p),a.memoizedState=qh,i):Xh(a,V));if(A=i.memoizedState,A!==null&&(Z=A.dehydrated,Z!==null))return bE(i,a,V,S,Z,A,p);if(D){D=S.fallback,V=a.mode,A=i.child,Z=A.sibling;var ee={mode:"hidden",children:S.children};return(V&1)===0&&a.child!==A?(S=a.child,S.childLanes=0,S.pendingProps=ee,a.deletions=null):(S=Ys(A,ee),S.subtreeFlags=A.subtreeFlags&14680064),Z!==null?D=Ys(Z,D):(D=Pi(D,V,p,null),D.flags|=2),D.return=a,S.return=a,S.sibling=D,a.child=S,S=D,D=a.child,V=i.child.memoizedState,V=V===null?Yh(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},D.memoizedState=V,D.childLanes=i.childLanes&~p,a.memoizedState=qh,S}return D=i.child,i=D.sibling,S=Ys(D,{mode:"visible",children:S.children}),(a.mode&1)===0&&(S.lanes=p),S.return=a,S.sibling=null,i!==null&&(p=a.deletions,p===null?(a.deletions=[i],a.flags|=16):p.push(i)),a.child=S,a.memoizedState=null,S}function Xh(i,a){return a=zc({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Ec(i,a,p,S){return S!==null&&Ch(S),lo(a,i.child,null,p),i=Xh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function bE(i,a,p,S,A,D,V){if(p)return a.flags&256?(a.flags&=-257,S=Vh(Error(n(422))),Ec(i,a,V,S)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(D=S.fallback,A=a.mode,S=zc({mode:"visible",children:S.children},A,0,null),D=Pi(D,A,V,null),D.flags|=2,S.return=a,D.return=a,S.sibling=D,a.child=S,(a.mode&1)!==0&&lo(a,i.child,null,V),a.child.memoizedState=Yh(V),a.memoizedState=qh,D);if((a.mode&1)===0)return Ec(i,a,V,null);if(A.data==="$!"){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Z=S.dgst;return S=Z,D=Error(n(419)),S=Vh(D,S,void 0),Ec(i,a,V,S)}if(Z=(V&i.childLanes)!==0,Kr||Z){if(S=pr,S!==null){switch(V&-V){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(S.suspendedLanes|V))!==0?0:A,A!==0&&A!==D.retryLane&&(D.retryLane=A,gs(i,A),Fn(S,i,A,-1))}return ff(),S=Vh(Error(n(421))),Ec(i,a,V,S)}return A.data==="$?"?(a.flags|=128,a.child=i.child,a=ME.bind(null,i),A._reactRetry=a,null):(i=D.treeContext,on=Bs(A.nextSibling),sn=a,Ht=!0,Ln=null,i!==null&&(gn[xn++]=ms,gn[xn++]=ps,gn[xn++]=bi,ms=i.id,ps=i.overflow,bi=a),a=Xh(a,S.children),a.flags|=4096,a)}function nv(i,a,p){i.lanes|=a;var S=i.alternate;S!==null&&(S.lanes|=a),Nh(i.return,a,p)}function Jh(i,a,p,S,A){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:S,tail:p,tailMode:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=p,D.tailMode=A)}function sv(i,a,p){var S=a.pendingProps,A=S.revealOrder,D=S.tail;if($r(i,a,S.children,p),S=Kt.current,(S&2)!==0)S=S&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nv(i,p,a);else if(i.tag===19)nv(i,p,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}S&=1}if(Mt(Kt,S),(a.mode&1)===0)a.memoizedState=null;else switch(A){case"forwards":for(p=a.child,A=null;p!==null;)i=p.alternate,i!==null&&wc(i)===null&&(A=p),p=p.sibling;p=A,p===null?(A=a.child,a.child=null):(A=p.sibling,p.sibling=null),Jh(a,!1,A,p,D);break;case"backwards":for(p=null,A=a.child,a.child=null;A!==null;){if(i=A.alternate,i!==null&&wc(i)===null){a.child=A;break}i=A.sibling,A.sibling=p,p=A,A=i}Jh(a,!0,p,null,D);break;case"together":Jh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pc(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function vs(i,a,p){if(i!==null&&(a.dependencies=i.dependencies),ki|=a.lanes,(p&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,p=Ys(i,i.pendingProps),a.child=p,p.return=a;i.sibling!==null;)i=i.sibling,p=p.sibling=Ys(i,i.pendingProps),p.return=a;p.sibling=null}return a.child}function wE(i,a,p){switch(a.tag){case 3:ev(a),ao();break;case 5:v0(a);break;case 1:Gr(a.type)&&dc(a);break;case 4:Ah(a,a.stateNode.containerInfo);break;case 10:var S=a.type._context,A=a.memoizedProps.value;Mt(xc,S._currentValue),S._currentValue=A;break;case 13:if(S=a.memoizedState,S!==null)return S.dehydrated!==null?(Mt(Kt,Kt.current&1),a.flags|=128,null):(p&a.child.childLanes)!==0?rv(i,a,p):(Mt(Kt,Kt.current&1),i=vs(i,a,p),i!==null?i.sibling:null);Mt(Kt,Kt.current&1);break;case 19:if(S=(p&a.childLanes)!==0,(i.flags&128)!==0){if(S)return sv(i,a,p);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Mt(Kt,Kt.current),S)break;return null;case 22:case 23:return a.lanes=0,J0(i,a,p)}return vs(i,a,p)}var iv,Qh,ov,av;iv=function(i,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Qh=function(){},ov=function(i,a,p,S){var A=i.memoizedProps;if(A!==S){i=a.stateNode,Ci(qn.current);var D=null;switch(p){case"input":A=Le(i,A),S=Le(i,S),D=[];break;case"select":A=M({},A,{value:void 0}),S=M({},S,{value:void 0}),D=[];break;case"textarea":A=ye(i,A),S=ye(i,S),D=[];break;default:typeof A.onClick!="function"&&typeof S.onClick=="function"&&(i.onclick=lc)}re(p,S);var V;p=null;for(pe in A)if(!S.hasOwnProperty(pe)&&A.hasOwnProperty(pe)&&A[pe]!=null)if(pe==="style"){var Z=A[pe];for(V in Z)Z.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(o.hasOwnProperty(pe)?D||(D=[]):(D=D||[]).push(pe,null));for(pe in S){var ee=S[pe];if(Z=A!=null?A[pe]:void 0,S.hasOwnProperty(pe)&&ee!==Z&&(ee!=null||Z!=null))if(pe==="style")if(Z){for(V in Z)!Z.hasOwnProperty(V)||ee&&ee.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in ee)ee.hasOwnProperty(V)&&Z[V]!==ee[V]&&(p||(p={}),p[V]=ee[V])}else p||(D||(D=[]),D.push(pe,p)),p=ee;else pe==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Z=Z?Z.__html:void 0,ee!=null&&Z!==ee&&(D=D||[]).push(pe,ee)):pe==="children"?typeof ee!="string"&&typeof ee!="number"||(D=D||[]).push(pe,""+ee):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(o.hasOwnProperty(pe)?(ee!=null&&pe==="onScroll"&&Ft("scroll",i),D||Z===ee||(D=[])):(D=D||[]).push(pe,ee))}p&&(D=D||[]).push("style",p);var pe=D;(a.updateQueue=pe)&&(a.flags|=4)}},av=function(i,a,p,S){p!==S&&(a.flags|=4)};function Ea(i,a){if(!Ht)switch(i.tailMode){case"hidden":a=i.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?i.tail=null:p.sibling=null;break;case"collapsed":p=i.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:S.sibling=null}}function Dr(i){var a=i.alternate!==null&&i.alternate.child===i.child,p=0,S=0;if(a)for(var A=i.child;A!==null;)p|=A.lanes|A.childLanes,S|=A.subtreeFlags&14680064,S|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)p|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=S,i.childLanes=p,a}function _E(i,a,p){var S=a.pendingProps;switch(bh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(a),null;case 1:return Gr(a.type)&&uc(),Dr(a),null;case 3:return S=a.stateNode,ho(),$t(Ur),$t(Rr),Mh(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(i===null||i.child===null)&&(pc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ln!==null&&(uf(Ln),Ln=null))),Qh(i,a),Dr(a),null;case 5:Th(a);var A=Ci(Ca.current);if(p=a.type,i!==null&&a.stateNode!=null)ov(i,a,p,S,A),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!S){if(a.stateNode===null)throw Error(n(166));return Dr(a),null}if(i=Ci(qn.current),pc(a)){S=a.stateNode,p=a.type;var D=a.memoizedProps;switch(S[Kn]=a,S[va]=D,i=(a.mode&1)!==0,p){case"dialog":Ft("cancel",S),Ft("close",S);break;case"iframe":case"object":case"embed":Ft("load",S);break;case"video":case"audio":for(A=0;A<pa.length;A++)Ft(pa[A],S);break;case"source":Ft("error",S);break;case"img":case"image":case"link":Ft("error",S),Ft("load",S);break;case"details":Ft("toggle",S);break;case"input":Ke(S,D),Ft("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!D.multiple},Ft("invalid",S);break;case"textarea":Oe(S,D),Ft("invalid",S)}re(p,D),A=null;for(var V in D)if(D.hasOwnProperty(V)){var Z=D[V];V==="children"?typeof Z=="string"?S.textContent!==Z&&(D.suppressHydrationWarning!==!0&&ac(S.textContent,Z,i),A=["children",Z]):typeof Z=="number"&&S.textContent!==""+Z&&(D.suppressHydrationWarning!==!0&&ac(S.textContent,Z,i),A=["children",""+Z]):o.hasOwnProperty(V)&&Z!=null&&V==="onScroll"&&Ft("scroll",S)}switch(p){case"input":J(S),je(S,D,!0);break;case"textarea":J(S),Rt(S);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(S.onclick=lc)}S=A,a.updateQueue=S,S!==null&&(a.flags|=4)}else{V=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ge(p)),i==="http://www.w3.org/1999/xhtml"?p==="script"?(i=V.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof S.is=="string"?i=V.createElement(p,{is:S.is}):(i=V.createElement(p),p==="select"&&(V=i,S.multiple?V.multiple=!0:S.size&&(V.size=S.size))):i=V.createElementNS(i,p),i[Kn]=a,i[va]=S,iv(i,a,!1,!1),a.stateNode=i;e:{switch(V=Pe(p,S),p){case"dialog":Ft("cancel",i),Ft("close",i),A=S;break;case"iframe":case"object":case"embed":Ft("load",i),A=S;break;case"video":case"audio":for(A=0;A<pa.length;A++)Ft(pa[A],i);A=S;break;case"source":Ft("error",i),A=S;break;case"img":case"image":case"link":Ft("error",i),Ft("load",i),A=S;break;case"details":Ft("toggle",i),A=S;break;case"input":Ke(i,S),A=Le(i,S),Ft("invalid",i);break;case"option":A=S;break;case"select":i._wrapperState={wasMultiple:!!S.multiple},A=M({},S,{value:void 0}),Ft("invalid",i);break;case"textarea":Oe(i,S),A=ye(i,S),Ft("invalid",i);break;default:A=S}re(p,A),Z=A;for(D in Z)if(Z.hasOwnProperty(D)){var ee=Z[D];D==="style"?Ar(i,ee):D==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Xe(i,ee)):D==="children"?typeof ee=="string"?(p!=="textarea"||ee!=="")&&Ye(i,ee):typeof ee=="number"&&Ye(i,""+ee):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?ee!=null&&D==="onScroll"&&Ft("scroll",i):ee!=null&&y(i,D,ee,V))}switch(p){case"input":J(i),je(i,S,!1);break;case"textarea":J(i),Rt(i);break;case"option":S.value!=null&&i.setAttribute("value",""+W(S.value));break;case"select":i.multiple=!!S.multiple,D=S.value,D!=null?_e(i,!!S.multiple,D,!1):S.defaultValue!=null&&_e(i,!!S.multiple,S.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=lc)}switch(p){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Dr(a),null;case 6:if(i&&a.stateNode!=null)av(i,a,i.memoizedProps,S);else{if(typeof S!="string"&&a.stateNode===null)throw Error(n(166));if(p=Ci(Ca.current),Ci(qn.current),pc(a)){if(S=a.stateNode,p=a.memoizedProps,S[Kn]=a,(D=S.nodeValue!==p)&&(i=sn,i!==null))switch(i.tag){case 3:ac(S.nodeValue,p,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ac(S.nodeValue,p,(i.mode&1)!==0)}D&&(a.flags|=4)}else S=(p.nodeType===9?p:p.ownerDocument).createTextNode(S),S[Kn]=a,a.stateNode=S}return Dr(a),null;case 13:if($t(Kt),S=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ht&&on!==null&&(a.mode&1)!==0&&(a.flags&128)===0)u0(),ao(),a.flags|=98560,D=!1;else if(D=pc(a),S!==null&&S.dehydrated!==null){if(i===null){if(!D)throw Error(n(318));if(D=a.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Kn]=a}else ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dr(a),D=!1}else Ln!==null&&(uf(Ln),Ln=null),D=!0;if(!D)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=p,a):(S=S!==null,S!==(i!==null&&i.memoizedState!==null)&&S&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Kt.current&1)!==0?cr===0&&(cr=3):ff())),a.updateQueue!==null&&(a.flags|=4),Dr(a),null);case 4:return ho(),Qh(i,a),i===null&&ga(a.stateNode.containerInfo),Dr(a),null;case 10:return jh(a.type._context),Dr(a),null;case 17:return Gr(a.type)&&uc(),Dr(a),null;case 19:if($t(Kt),D=a.memoizedState,D===null)return Dr(a),null;if(S=(a.flags&128)!==0,V=D.rendering,V===null)if(S)Ea(D,!1);else{if(cr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(V=wc(i),V!==null){for(a.flags|=128,Ea(D,!1),S=V.updateQueue,S!==null&&(a.updateQueue=S,a.flags|=4),a.subtreeFlags=0,S=p,p=a.child;p!==null;)D=p,i=S,D.flags&=14680066,V=D.alternate,V===null?(D.childLanes=0,D.lanes=i,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=V.childLanes,D.lanes=V.lanes,D.child=V.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=V.memoizedProps,D.memoizedState=V.memoizedState,D.updateQueue=V.updateQueue,D.type=V.type,i=V.dependencies,D.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),p=p.sibling;return Mt(Kt,Kt.current&1|2),a.child}i=i.sibling}D.tail!==null&&tr()>go&&(a.flags|=128,S=!0,Ea(D,!1),a.lanes=4194304)}else{if(!S)if(i=wc(V),i!==null){if(a.flags|=128,S=!0,p=i.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),Ea(D,!0),D.tail===null&&D.tailMode==="hidden"&&!V.alternate&&!Ht)return Dr(a),null}else 2*tr()-D.renderingStartTime>go&&p!==1073741824&&(a.flags|=128,S=!0,Ea(D,!1),a.lanes=4194304);D.isBackwards?(V.sibling=a.child,a.child=V):(p=D.last,p!==null?p.sibling=V:a.child=V,D.last=V)}return D.tail!==null?(a=D.tail,D.rendering=a,D.tail=a.sibling,D.renderingStartTime=tr(),a.sibling=null,p=Kt.current,Mt(Kt,S?p&1|2:p&1),a):(Dr(a),null);case 22:case 23:return hf(),S=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==S&&(a.flags|=8192),S&&(a.mode&1)!==0?(an&1073741824)!==0&&(Dr(a),a.subtreeFlags&6&&(a.flags|=8192)):Dr(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function CE(i,a){switch(bh(a),a.tag){case 1:return Gr(a.type)&&uc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ho(),$t(Ur),$t(Rr),Mh(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Th(a),null;case 13:if($t(Kt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return $t(Kt),null;case 4:return ho(),null;case 10:return jh(a.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var Ac=!1,Lr=!1,SE=typeof WeakSet=="function"?WeakSet:Set,He=null;function mo(i,a){var p=i.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(S){Zt(i,a,S)}else p.current=null}function Zh(i,a,p){try{p()}catch(S){Zt(i,a,S)}}var lv=!1;function kE(i,a){if(dh=Xl,i=$x(),nh(i)){if("selectionStart"in i)var p={start:i.selectionStart,end:i.selectionEnd};else e:{p=(p=i.ownerDocument)&&p.defaultView||window;var S=p.getSelection&&p.getSelection();if(S&&S.rangeCount!==0){p=S.anchorNode;var A=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var V=0,Z=-1,ee=-1,pe=0,Se=0,ke=i,be=null;t:for(;;){for(var Fe;ke!==p||A!==0&&ke.nodeType!==3||(Z=V+A),ke!==D||S!==0&&ke.nodeType!==3||(ee=V+S),ke.nodeType===3&&(V+=ke.nodeValue.length),(Fe=ke.firstChild)!==null;)be=ke,ke=Fe;for(;;){if(ke===i)break t;if(be===p&&++pe===A&&(Z=V),be===D&&++Se===S&&(ee=V),(Fe=ke.nextSibling)!==null)break;ke=be,be=ke.parentNode}ke=Fe}p=Z===-1||ee===-1?null:{start:Z,end:ee}}else p=null}p=p||{start:0,end:0}}else p=null;for(hh={focusedElem:i,selectionRange:p},Xl=!1,He=a;He!==null;)if(a=He,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,He=i;else for(;He!==null;){a=He;try{var We=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ge=We.memoizedProps,rr=We.memoizedState,ce=a.stateNode,ie=ce.getSnapshotBeforeUpdate(a.elementType===a.type?Ge:In(a.type,Ge),rr);ce.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var de=a.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Zt(a,a.return,Ae)}if(i=a.sibling,i!==null){i.return=a.return,He=i;break}He=a.return}return We=lv,lv=!1,We}function Pa(i,a,p){var S=a.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var A=S=S.next;do{if((A.tag&i)===i){var D=A.destroy;A.destroy=void 0,D!==void 0&&Zh(a,p,D)}A=A.next}while(A!==S)}}function Tc(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&i)===i){var S=p.create;p.destroy=S()}p=p.next}while(p!==a)}}function ef(i){var a=i.ref;if(a!==null){var p=i.stateNode;switch(i.tag){case 5:i=p;break;default:i=p}typeof a=="function"?a(i):a.current=i}}function cv(i){var a=i.alternate;a!==null&&(i.alternate=null,cv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Kn],delete a[va],delete a[gh],delete a[aE],delete a[lE])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function uv(i){return i.tag===5||i.tag===3||i.tag===4}function dv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tf(i,a,p){var S=i.tag;if(S===5||S===6)i=i.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(i,a):p.insertBefore(i,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(i,p)):(a=p,a.appendChild(i)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=lc));else if(S!==4&&(i=i.child,i!==null))for(tf(i,a,p),i=i.sibling;i!==null;)tf(i,a,p),i=i.sibling}function rf(i,a,p){var S=i.tag;if(S===5||S===6)i=i.stateNode,a?p.insertBefore(i,a):p.appendChild(i);else if(S!==4&&(i=i.child,i!==null))for(rf(i,a,p),i=i.sibling;i!==null;)rf(i,a,p),i=i.sibling}var Cr=null,On=!1;function Vs(i,a,p){for(p=p.child;p!==null;)hv(i,a,p),p=p.sibling}function hv(i,a,p){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Vl,p)}catch{}switch(p.tag){case 5:Lr||mo(p,a);case 6:var S=Cr,A=On;Cr=null,Vs(i,a,p),Cr=S,On=A,Cr!==null&&(On?(i=Cr,p=p.stateNode,i.nodeType===8?i.parentNode.removeChild(p):i.removeChild(p)):Cr.removeChild(p.stateNode));break;case 18:Cr!==null&&(On?(i=Cr,p=p.stateNode,i.nodeType===8?ph(i.parentNode,p):i.nodeType===1&&ph(i,p),aa(i)):ph(Cr,p.stateNode));break;case 4:S=Cr,A=On,Cr=p.stateNode.containerInfo,On=!0,Vs(i,a,p),Cr=S,On=A;break;case 0:case 11:case 14:case 15:if(!Lr&&(S=p.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){A=S=S.next;do{var D=A,V=D.destroy;D=D.tag,V!==void 0&&((D&2)!==0||(D&4)!==0)&&Zh(p,a,V),A=A.next}while(A!==S)}Vs(i,a,p);break;case 1:if(!Lr&&(mo(p,a),S=p.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=p.memoizedProps,S.state=p.memoizedState,S.componentWillUnmount()}catch(Z){Zt(p,a,Z)}Vs(i,a,p);break;case 21:Vs(i,a,p);break;case 22:p.mode&1?(Lr=(S=Lr)||p.memoizedState!==null,Vs(i,a,p),Lr=S):Vs(i,a,p);break;default:Vs(i,a,p)}}function fv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var p=i.stateNode;p===null&&(p=i.stateNode=new SE),a.forEach(function(S){var A=DE.bind(null,i,S);p.has(S)||(p.add(S),S.then(A,A))})}}function Bn(i,a){var p=a.deletions;if(p!==null)for(var S=0;S<p.length;S++){var A=p[S];try{var D=i,V=a,Z=V;e:for(;Z!==null;){switch(Z.tag){case 5:Cr=Z.stateNode,On=!1;break e;case 3:Cr=Z.stateNode.containerInfo,On=!0;break e;case 4:Cr=Z.stateNode.containerInfo,On=!0;break e}Z=Z.return}if(Cr===null)throw Error(n(160));hv(D,V,A),Cr=null,On=!1;var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(pe){Zt(A,a,pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)mv(a,i),a=a.sibling}function mv(i,a){var p=i.alternate,S=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bn(a,i),Xn(i),S&4){try{Pa(3,i,i.return),Tc(3,i)}catch(Ge){Zt(i,i.return,Ge)}try{Pa(5,i,i.return)}catch(Ge){Zt(i,i.return,Ge)}}break;case 1:Bn(a,i),Xn(i),S&512&&p!==null&&mo(p,p.return);break;case 5:if(Bn(a,i),Xn(i),S&512&&p!==null&&mo(p,p.return),i.flags&32){var A=i.stateNode;try{Ye(A,"")}catch(Ge){Zt(i,i.return,Ge)}}if(S&4&&(A=i.stateNode,A!=null)){var D=i.memoizedProps,V=p!==null?p.memoizedProps:D,Z=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{Z==="input"&&D.type==="radio"&&D.name!=null&&ne(A,D),Pe(Z,V);var pe=Pe(Z,D);for(V=0;V<ee.length;V+=2){var Se=ee[V],ke=ee[V+1];Se==="style"?Ar(A,ke):Se==="dangerouslySetInnerHTML"?Xe(A,ke):Se==="children"?Ye(A,ke):y(A,Se,ke,pe)}switch(Z){case"input":ue(A,D);break;case"textarea":xt(A,D);break;case"select":var be=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!D.multiple;var Fe=D.value;Fe!=null?_e(A,!!D.multiple,Fe,!1):be!==!!D.multiple&&(D.defaultValue!=null?_e(A,!!D.multiple,D.defaultValue,!0):_e(A,!!D.multiple,D.multiple?[]:"",!1))}A[va]=D}catch(Ge){Zt(i,i.return,Ge)}}break;case 6:if(Bn(a,i),Xn(i),S&4){if(i.stateNode===null)throw Error(n(162));A=i.stateNode,D=i.memoizedProps;try{A.nodeValue=D}catch(Ge){Zt(i,i.return,Ge)}}break;case 3:if(Bn(a,i),Xn(i),S&4&&p!==null&&p.memoizedState.isDehydrated)try{aa(a.containerInfo)}catch(Ge){Zt(i,i.return,Ge)}break;case 4:Bn(a,i),Xn(i);break;case 13:Bn(a,i),Xn(i),A=i.child,A.flags&8192&&(D=A.memoizedState!==null,A.stateNode.isHidden=D,!D||A.alternate!==null&&A.alternate.memoizedState!==null||(of=tr())),S&4&&fv(i);break;case 22:if(Se=p!==null&&p.memoizedState!==null,i.mode&1?(Lr=(pe=Lr)||Se,Bn(a,i),Lr=pe):Bn(a,i),Xn(i),S&8192){if(pe=i.memoizedState!==null,(i.stateNode.isHidden=pe)&&!Se&&(i.mode&1)!==0)for(He=i,Se=i.child;Se!==null;){for(ke=He=Se;He!==null;){switch(be=He,Fe=be.child,be.tag){case 0:case 11:case 14:case 15:Pa(4,be,be.return);break;case 1:mo(be,be.return);var We=be.stateNode;if(typeof We.componentWillUnmount=="function"){S=be,p=be.return;try{a=S,We.props=a.memoizedProps,We.state=a.memoizedState,We.componentWillUnmount()}catch(Ge){Zt(S,p,Ge)}}break;case 5:mo(be,be.return);break;case 22:if(be.memoizedState!==null){xv(ke);continue}}Fe!==null?(Fe.return=be,He=Fe):xv(ke)}Se=Se.sibling}e:for(Se=null,ke=i;;){if(ke.tag===5){if(Se===null){Se=ke;try{A=ke.stateNode,pe?(D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Z=ke.stateNode,ee=ke.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Z.style.display=Gt("display",V))}catch(Ge){Zt(i,i.return,Ge)}}}else if(ke.tag===6){if(Se===null)try{ke.stateNode.nodeValue=pe?"":ke.memoizedProps}catch(Ge){Zt(i,i.return,Ge)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===i)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===i)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===i)break e;Se===ke&&(Se=null),ke=ke.return}Se===ke&&(Se=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Bn(a,i),Xn(i),S&4&&fv(i);break;case 21:break;default:Bn(a,i),Xn(i)}}function Xn(i){var a=i.flags;if(a&2){try{e:{for(var p=i.return;p!==null;){if(uv(p)){var S=p;break e}p=p.return}throw Error(n(160))}switch(S.tag){case 5:var A=S.stateNode;S.flags&32&&(Ye(A,""),S.flags&=-33);var D=dv(i);rf(i,D,A);break;case 3:case 4:var V=S.stateNode.containerInfo,Z=dv(i);tf(i,Z,V);break;default:throw Error(n(161))}}catch(ee){Zt(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function jE(i,a,p){He=i,pv(i)}function pv(i,a,p){for(var S=(i.mode&1)!==0;He!==null;){var A=He,D=A.child;if(A.tag===22&&S){var V=A.memoizedState!==null||Ac;if(!V){var Z=A.alternate,ee=Z!==null&&Z.memoizedState!==null||Lr;Z=Ac;var pe=Lr;if(Ac=V,(Lr=ee)&&!pe)for(He=A;He!==null;)V=He,ee=V.child,V.tag===22&&V.memoizedState!==null?vv(A):ee!==null?(ee.return=V,He=ee):vv(A);for(;D!==null;)He=D,pv(D),D=D.sibling;He=A,Ac=Z,Lr=pe}gv(i)}else(A.subtreeFlags&8772)!==0&&D!==null?(D.return=A,He=D):gv(i)}}function gv(i){for(;He!==null;){var a=He;if((a.flags&8772)!==0){var p=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Lr||Tc(5,a);break;case 1:var S=a.stateNode;if(a.flags&4&&!Lr)if(p===null)S.componentDidMount();else{var A=a.elementType===a.type?p.memoizedProps:In(a.type,p.memoizedProps);S.componentDidUpdate(A,p.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var D=a.updateQueue;D!==null&&x0(a,D,S);break;case 3:var V=a.updateQueue;if(V!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}x0(a,V,p)}break;case 5:var Z=a.stateNode;if(p===null&&a.flags&4){p=Z;var ee=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&p.focus();break;case"img":ee.src&&(p.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var pe=a.alternate;if(pe!==null){var Se=pe.memoizedState;if(Se!==null){var ke=Se.dehydrated;ke!==null&&aa(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lr||a.flags&512&&ef(a)}catch(be){Zt(a,a.return,be)}}if(a===i){He=null;break}if(p=a.sibling,p!==null){p.return=a.return,He=p;break}He=a.return}}function xv(i){for(;He!==null;){var a=He;if(a===i){He=null;break}var p=a.sibling;if(p!==null){p.return=a.return,He=p;break}He=a.return}}function vv(i){for(;He!==null;){var a=He;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{Tc(4,a)}catch(ee){Zt(a,p,ee)}break;case 1:var S=a.stateNode;if(typeof S.componentDidMount=="function"){var A=a.return;try{S.componentDidMount()}catch(ee){Zt(a,A,ee)}}var D=a.return;try{ef(a)}catch(ee){Zt(a,D,ee)}break;case 5:var V=a.return;try{ef(a)}catch(ee){Zt(a,V,ee)}}}catch(ee){Zt(a,a.return,ee)}if(a===i){He=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,He=Z;break}He=a.return}}var NE=Math.ceil,Rc=j.ReactCurrentDispatcher,nf=j.ReactCurrentOwner,bn=j.ReactCurrentBatchConfig,yt=0,pr=null,or=null,Sr=0,an=0,po=Fs(0),cr=0,Aa=null,ki=0,Mc=0,sf=0,Ta=null,qr=null,of=0,go=1/0,ys=null,Dc=!1,af=null,Us=null,Lc=!1,Gs=null,Ic=0,Ra=0,lf=null,Oc=-1,Bc=0;function zr(){return(yt&6)!==0?tr():Oc!==-1?Oc:Oc=tr()}function Ks(i){return(i.mode&1)===0?1:(yt&2)!==0&&Sr!==0?Sr&-Sr:uE.transition!==null?(Bc===0&&(Bc=dx()),Bc):(i=At,i!==0||(i=window.event,i=i===void 0?16:bx(i.type)),i)}function Fn(i,a,p,S){if(50<Ra)throw Ra=0,lf=null,Error(n(185));ra(i,p,S),((yt&2)===0||i!==pr)&&(i===pr&&((yt&2)===0&&(Mc|=p),cr===4&&qs(i,Sr)),Yr(i,S),p===1&&yt===0&&(a.mode&1)===0&&(go=tr()+500,hc&&zs()))}function Yr(i,a){var p=i.callbackNode;u2(i,a);var S=Kl(i,i===pr?Sr:0);if(S===0)p!==null&&lx(p),i.callbackNode=null,i.callbackPriority=0;else if(a=S&-S,i.callbackPriority!==a){if(p!=null&&lx(p),a===1)i.tag===0?cE(bv.bind(null,i)):i0(bv.bind(null,i)),iE(function(){(yt&6)===0&&zs()}),p=null;else{switch(hx(S)){case 1:p=$d;break;case 4:p=cx;break;case 16:p=Wl;break;case 536870912:p=ux;break;default:p=Wl}p=Ev(p,yv.bind(null,i))}i.callbackPriority=a,i.callbackNode=p}}function yv(i,a){if(Oc=-1,Bc=0,(yt&6)!==0)throw Error(n(327));var p=i.callbackNode;if(xo()&&i.callbackNode!==p)return null;var S=Kl(i,i===pr?Sr:0);if(S===0)return null;if((S&30)!==0||(S&i.expiredLanes)!==0||a)a=Fc(i,S);else{a=S;var A=yt;yt|=2;var D=_v();(pr!==i||Sr!==a)&&(ys=null,go=tr()+500,Ni(i,a));do try{AE();break}catch(Z){wv(i,Z)}while(!0);kh(),Rc.current=D,yt=A,or!==null?a=0:(pr=null,Sr=0,a=cr)}if(a!==0){if(a===2&&(A=zd(i),A!==0&&(S=A,a=cf(i,A))),a===1)throw p=Aa,Ni(i,0),qs(i,S),Yr(i,tr()),p;if(a===6)qs(i,S);else{if(A=i.current.alternate,(S&30)===0&&!EE(A)&&(a=Fc(i,S),a===2&&(D=zd(i),D!==0&&(S=D,a=cf(i,D))),a===1))throw p=Aa,Ni(i,0),qs(i,S),Yr(i,tr()),p;switch(i.finishedWork=A,i.finishedLanes=S,a){case 0:case 1:throw Error(n(345));case 2:Ei(i,qr,ys);break;case 3:if(qs(i,S),(S&130023424)===S&&(a=of+500-tr(),10<a)){if(Kl(i,0)!==0)break;if(A=i.suspendedLanes,(A&S)!==S){zr(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=mh(Ei.bind(null,i,qr,ys),a);break}Ei(i,qr,ys);break;case 4:if(qs(i,S),(S&4194240)===S)break;for(a=i.eventTimes,A=-1;0<S;){var V=31-Mn(S);D=1<<V,V=a[V],V>A&&(A=V),S&=~D}if(S=A,S=tr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*NE(S/1960))-S,10<S){i.timeoutHandle=mh(Ei.bind(null,i,qr,ys),S);break}Ei(i,qr,ys);break;case 5:Ei(i,qr,ys);break;default:throw Error(n(329))}}}return Yr(i,tr()),i.callbackNode===p?yv.bind(null,i):null}function cf(i,a){var p=Ta;return i.current.memoizedState.isDehydrated&&(Ni(i,a).flags|=256),i=Fc(i,a),i!==2&&(a=qr,qr=p,a!==null&&uf(a)),i}function uf(i){qr===null?qr=i:qr.push.apply(qr,i)}function EE(i){for(var a=i;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var S=0;S<p.length;S++){var A=p[S],D=A.getSnapshot;A=A.value;try{if(!Dn(D(),A))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qs(i,a){for(a&=~sf,a&=~Mc,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var p=31-Mn(a),S=1<<p;i[p]=-1,a&=~S}}function bv(i){if((yt&6)!==0)throw Error(n(327));xo();var a=Kl(i,0);if((a&1)===0)return Yr(i,tr()),null;var p=Fc(i,a);if(i.tag!==0&&p===2){var S=zd(i);S!==0&&(a=S,p=cf(i,S))}if(p===1)throw p=Aa,Ni(i,0),qs(i,a),Yr(i,tr()),p;if(p===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ei(i,qr,ys),Yr(i,tr()),null}function df(i,a){var p=yt;yt|=1;try{return i(a)}finally{yt=p,yt===0&&(go=tr()+500,hc&&zs())}}function ji(i){Gs!==null&&Gs.tag===0&&(yt&6)===0&&xo();var a=yt;yt|=1;var p=bn.transition,S=At;try{if(bn.transition=null,At=1,i)return i()}finally{At=S,bn.transition=p,yt=a,(yt&6)===0&&zs()}}function hf(){an=po.current,$t(po)}function Ni(i,a){i.finishedWork=null,i.finishedLanes=0;var p=i.timeoutHandle;if(p!==-1&&(i.timeoutHandle=-1,sE(p)),or!==null)for(p=or.return;p!==null;){var S=p;switch(bh(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&uc();break;case 3:ho(),$t(Ur),$t(Rr),Mh();break;case 5:Th(S);break;case 4:ho();break;case 13:$t(Kt);break;case 19:$t(Kt);break;case 10:jh(S.type._context);break;case 22:case 23:hf()}p=p.return}if(pr=i,or=i=Ys(i.current,null),Sr=an=a,cr=0,Aa=null,sf=Mc=ki=0,qr=Ta=null,_i!==null){for(a=0;a<_i.length;a++)if(p=_i[a],S=p.interleaved,S!==null){p.interleaved=null;var A=S.next,D=p.pending;if(D!==null){var V=D.next;D.next=A,S.next=V}p.pending=S}_i=null}return i}function wv(i,a){do{var p=or;try{if(kh(),_c.current=jc,Cc){for(var S=qt.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}Cc=!1}if(Si=0,mr=lr=qt=null,Sa=!1,ka=0,nf.current=null,p===null||p.return===null){cr=1,Aa=a,or=null;break}e:{var D=i,V=p.return,Z=p,ee=a;if(a=Sr,Z.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var pe=ee,Se=Z,ke=Se.tag;if((Se.mode&1)===0&&(ke===0||ke===11||ke===15)){var be=Se.alternate;be?(Se.updateQueue=be.updateQueue,Se.memoizedState=be.memoizedState,Se.lanes=be.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Fe=G0(V);if(Fe!==null){Fe.flags&=-257,K0(Fe,V,Z,D,a),Fe.mode&1&&U0(D,pe,a),a=Fe,ee=pe;var We=a.updateQueue;if(We===null){var Ge=new Set;Ge.add(ee),a.updateQueue=Ge}else We.add(ee);break e}else{if((a&1)===0){U0(D,pe,a),ff();break e}ee=Error(n(426))}}else if(Ht&&Z.mode&1){var rr=G0(V);if(rr!==null){(rr.flags&65536)===0&&(rr.flags|=256),K0(rr,V,Z,D,a),Ch(fo(ee,Z));break e}}D=ee=fo(ee,Z),cr!==4&&(cr=2),Ta===null?Ta=[D]:Ta.push(D),D=V;do{switch(D.tag){case 3:D.flags|=65536,a&=-a,D.lanes|=a;var ce=W0(D,ee,a);g0(D,ce);break e;case 1:Z=ee;var ie=D.type,de=D.stateNode;if((D.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Us===null||!Us.has(de)))){D.flags|=65536,a&=-a,D.lanes|=a;var Ae=V0(D,Z,a);g0(D,Ae);break e}}D=D.return}while(D!==null)}Sv(p)}catch(qe){a=qe,or===p&&p!==null&&(or=p=p.return);continue}break}while(!0)}function _v(){var i=Rc.current;return Rc.current=jc,i===null?jc:i}function ff(){(cr===0||cr===3||cr===2)&&(cr=4),pr===null||(ki&268435455)===0&&(Mc&268435455)===0||qs(pr,Sr)}function Fc(i,a){var p=yt;yt|=2;var S=_v();(pr!==i||Sr!==a)&&(ys=null,Ni(i,a));do try{PE();break}catch(A){wv(i,A)}while(!0);if(kh(),yt=p,Rc.current=S,or!==null)throw Error(n(261));return pr=null,Sr=0,cr}function PE(){for(;or!==null;)Cv(or)}function AE(){for(;or!==null&&!t2();)Cv(or)}function Cv(i){var a=Nv(i.alternate,i,an);i.memoizedProps=i.pendingProps,a===null?Sv(i):or=a,nf.current=null}function Sv(i){var a=i;do{var p=a.alternate;if(i=a.return,(a.flags&32768)===0){if(p=_E(p,a,an),p!==null){or=p;return}}else{if(p=CE(p,a),p!==null){p.flags&=32767,or=p;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{cr=6,or=null;return}}if(a=a.sibling,a!==null){or=a;return}or=a=i}while(a!==null);cr===0&&(cr=5)}function Ei(i,a,p){var S=At,A=bn.transition;try{bn.transition=null,At=1,TE(i,a,p,S)}finally{bn.transition=A,At=S}return null}function TE(i,a,p,S){do xo();while(Gs!==null);if((yt&6)!==0)throw Error(n(327));p=i.finishedWork;var A=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var D=p.lanes|p.childLanes;if(d2(i,D),i===pr&&(or=pr=null,Sr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Lc||(Lc=!0,Ev(Wl,function(){return xo(),null})),D=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||D){D=bn.transition,bn.transition=null;var V=At;At=1;var Z=yt;yt|=4,nf.current=null,kE(i,p),mv(p,i),J2(hh),Xl=!!dh,hh=dh=null,i.current=p,jE(p),r2(),yt=Z,At=V,bn.transition=D}else i.current=p;if(Lc&&(Lc=!1,Gs=i,Ic=A),D=i.pendingLanes,D===0&&(Us=null),i2(p.stateNode),Yr(i,tr()),a!==null)for(S=i.onRecoverableError,p=0;p<a.length;p++)A=a[p],S(A.value,{componentStack:A.stack,digest:A.digest});if(Dc)throw Dc=!1,i=af,af=null,i;return(Ic&1)!==0&&i.tag!==0&&xo(),D=i.pendingLanes,(D&1)!==0?i===lf?Ra++:(Ra=0,lf=i):Ra=0,zs(),null}function xo(){if(Gs!==null){var i=hx(Ic),a=bn.transition,p=At;try{if(bn.transition=null,At=16>i?16:i,Gs===null)var S=!1;else{if(i=Gs,Gs=null,Ic=0,(yt&6)!==0)throw Error(n(331));var A=yt;for(yt|=4,He=i.current;He!==null;){var D=He,V=D.child;if((He.flags&16)!==0){var Z=D.deletions;if(Z!==null){for(var ee=0;ee<Z.length;ee++){var pe=Z[ee];for(He=pe;He!==null;){var Se=He;switch(Se.tag){case 0:case 11:case 15:Pa(8,Se,D)}var ke=Se.child;if(ke!==null)ke.return=Se,He=ke;else for(;He!==null;){Se=He;var be=Se.sibling,Fe=Se.return;if(cv(Se),Se===pe){He=null;break}if(be!==null){be.return=Fe,He=be;break}He=Fe}}}var We=D.alternate;if(We!==null){var Ge=We.child;if(Ge!==null){We.child=null;do{var rr=Ge.sibling;Ge.sibling=null,Ge=rr}while(Ge!==null)}}He=D}}if((D.subtreeFlags&2064)!==0&&V!==null)V.return=D,He=V;else e:for(;He!==null;){if(D=He,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Pa(9,D,D.return)}var ce=D.sibling;if(ce!==null){ce.return=D.return,He=ce;break e}He=D.return}}var ie=i.current;for(He=ie;He!==null;){V=He;var de=V.child;if((V.subtreeFlags&2064)!==0&&de!==null)de.return=V,He=de;else e:for(V=ie;He!==null;){if(Z=He,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Tc(9,Z)}}catch(qe){Zt(Z,Z.return,qe)}if(Z===V){He=null;break e}var Ae=Z.sibling;if(Ae!==null){Ae.return=Z.return,He=Ae;break e}He=Z.return}}if(yt=A,zs(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Vl,i)}catch{}S=!0}return S}finally{At=p,bn.transition=a}}return!1}function kv(i,a,p){a=fo(p,a),a=W0(i,a,1),i=Ws(i,a,1),a=zr(),i!==null&&(ra(i,1,a),Yr(i,a))}function Zt(i,a,p){if(i.tag===3)kv(i,i,p);else for(;a!==null;){if(a.tag===3){kv(a,i,p);break}else if(a.tag===1){var S=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Us===null||!Us.has(S))){i=fo(p,i),i=V0(a,i,1),a=Ws(a,i,1),i=zr(),a!==null&&(ra(a,1,i),Yr(a,i));break}}a=a.return}}function RE(i,a,p){var S=i.pingCache;S!==null&&S.delete(a),a=zr(),i.pingedLanes|=i.suspendedLanes&p,pr===i&&(Sr&p)===p&&(cr===4||cr===3&&(Sr&130023424)===Sr&&500>tr()-of?Ni(i,0):sf|=p),Yr(i,a)}function jv(i,a){a===0&&((i.mode&1)===0?a=1:(a=Gl,Gl<<=1,(Gl&130023424)===0&&(Gl=4194304)));var p=zr();i=gs(i,a),i!==null&&(ra(i,a,p),Yr(i,p))}function ME(i){var a=i.memoizedState,p=0;a!==null&&(p=a.retryLane),jv(i,p)}function DE(i,a){var p=0;switch(i.tag){case 13:var S=i.stateNode,A=i.memoizedState;A!==null&&(p=A.retryLane);break;case 19:S=i.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(a),jv(i,p)}var Nv;Nv=function(i,a,p){if(i!==null)if(i.memoizedProps!==a.pendingProps||Ur.current)Kr=!0;else{if((i.lanes&p)===0&&(a.flags&128)===0)return Kr=!1,wE(i,a,p);Kr=(i.flags&131072)!==0}else Kr=!1,Ht&&(a.flags&1048576)!==0&&o0(a,mc,a.index);switch(a.lanes=0,a.tag){case 2:var S=a.type;Pc(i,a),i=a.pendingProps;var A=so(a,Rr.current);uo(a,p),A=Ih(null,a,S,i,A,p);var D=Oh();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Gr(S)?(D=!0,dc(a)):D=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Ph(a),A.updater=Nc,a.stateNode=A,A._reactInternals=a,Wh(a,S,i,p),a=Kh(null,a,S,!0,D,p)):(a.tag=0,Ht&&D&&yh(a),$r(null,a,A,p),a=a.child),a;case 16:S=a.elementType;e:{switch(Pc(i,a),i=a.pendingProps,A=S._init,S=A(S._payload),a.type=S,A=a.tag=IE(S),i=In(S,i),A){case 0:a=Gh(null,a,S,i,p);break e;case 1:a=Z0(null,a,S,i,p);break e;case 11:a=q0(null,a,S,i,p);break e;case 14:a=Y0(null,a,S,In(S.type,i),p);break e}throw Error(n(306,S,""))}return a;case 0:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:In(S,A),Gh(i,a,S,A,p);case 1:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:In(S,A),Z0(i,a,S,A,p);case 3:e:{if(ev(a),i===null)throw Error(n(387));S=a.pendingProps,D=a.memoizedState,A=D.element,p0(i,a),bc(a,S,null,p);var V=a.memoizedState;if(S=V.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},a.updateQueue.baseState=D,a.memoizedState=D,a.flags&256){A=fo(Error(n(423)),a),a=tv(i,a,S,p,A);break e}else if(S!==A){A=fo(Error(n(424)),a),a=tv(i,a,S,p,A);break e}else for(on=Bs(a.stateNode.containerInfo.firstChild),sn=a,Ht=!0,Ln=null,p=f0(a,null,S,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ao(),S===A){a=vs(i,a,p);break e}$r(i,a,S,p)}a=a.child}return a;case 5:return v0(a),i===null&&_h(a),S=a.type,A=a.pendingProps,D=i!==null?i.memoizedProps:null,V=A.children,fh(S,A)?V=null:D!==null&&fh(S,D)&&(a.flags|=32),Q0(i,a),$r(i,a,V,p),a.child;case 6:return i===null&&_h(a),null;case 13:return rv(i,a,p);case 4:return Ah(a,a.stateNode.containerInfo),S=a.pendingProps,i===null?a.child=lo(a,null,S,p):$r(i,a,S,p),a.child;case 11:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:In(S,A),q0(i,a,S,A,p);case 7:return $r(i,a,a.pendingProps,p),a.child;case 8:return $r(i,a,a.pendingProps.children,p),a.child;case 12:return $r(i,a,a.pendingProps.children,p),a.child;case 10:e:{if(S=a.type._context,A=a.pendingProps,D=a.memoizedProps,V=A.value,Mt(xc,S._currentValue),S._currentValue=V,D!==null)if(Dn(D.value,V)){if(D.children===A.children&&!Ur.current){a=vs(i,a,p);break e}}else for(D=a.child,D!==null&&(D.return=a);D!==null;){var Z=D.dependencies;if(Z!==null){V=D.child;for(var ee=Z.firstContext;ee!==null;){if(ee.context===S){if(D.tag===1){ee=xs(-1,p&-p),ee.tag=2;var pe=D.updateQueue;if(pe!==null){pe=pe.shared;var Se=pe.pending;Se===null?ee.next=ee:(ee.next=Se.next,Se.next=ee),pe.pending=ee}}D.lanes|=p,ee=D.alternate,ee!==null&&(ee.lanes|=p),Nh(D.return,p,a),Z.lanes|=p;break}ee=ee.next}}else if(D.tag===10)V=D.type===a.type?null:D.child;else if(D.tag===18){if(V=D.return,V===null)throw Error(n(341));V.lanes|=p,Z=V.alternate,Z!==null&&(Z.lanes|=p),Nh(V,p,a),V=D.sibling}else V=D.child;if(V!==null)V.return=D;else for(V=D;V!==null;){if(V===a){V=null;break}if(D=V.sibling,D!==null){D.return=V.return,V=D;break}V=V.return}D=V}$r(i,a,A.children,p),a=a.child}return a;case 9:return A=a.type,S=a.pendingProps.children,uo(a,p),A=vn(A),S=S(A),a.flags|=1,$r(i,a,S,p),a.child;case 14:return S=a.type,A=In(S,a.pendingProps),A=In(S.type,A),Y0(i,a,S,A,p);case 15:return X0(i,a,a.type,a.pendingProps,p);case 17:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:In(S,A),Pc(i,a),a.tag=1,Gr(S)?(i=!0,dc(a)):i=!1,uo(a,p),z0(a,S,A),Wh(a,S,A,p),Kh(null,a,S,!0,i,p);case 19:return sv(i,a,p);case 22:return J0(i,a,p)}throw Error(n(156,a.tag))};function Ev(i,a){return ax(i,a)}function LE(i,a,p,S){this.tag=i,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,a,p,S){return new LE(i,a,p,S)}function mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function IE(i){if(typeof i=="function")return mf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===z)return 14}return 2}function Ys(i,a){var p=i.alternate;return p===null?(p=wn(i.tag,a,i.key,i.mode),p.elementType=i.elementType,p.type=i.type,p.stateNode=i.stateNode,p.alternate=i,i.alternate=p):(p.pendingProps=a,p.type=i.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=i.flags&14680064,p.childLanes=i.childLanes,p.lanes=i.lanes,p.child=i.child,p.memoizedProps=i.memoizedProps,p.memoizedState=i.memoizedState,p.updateQueue=i.updateQueue,a=i.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=i.sibling,p.index=i.index,p.ref=i.ref,p}function $c(i,a,p,S,A,D){var V=2;if(S=i,typeof i=="function")mf(i)&&(V=1);else if(typeof i=="string")V=5;else e:switch(i){case T:return Pi(p.children,A,D,a);case N:V=8,A|=8;break;case R:return i=wn(12,p,a,A|2),i.elementType=R,i.lanes=D,i;case $:return i=wn(13,p,a,A),i.elementType=$,i.lanes=D,i;case Y:return i=wn(19,p,a,A),i.elementType=Y,i.lanes=D,i;case G:return zc(p,A,D,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:V=10;break e;case O:V=9;break e;case B:V=11;break e;case z:V=14;break e;case K:V=16,S=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=wn(V,p,a,A),a.elementType=i,a.type=S,a.lanes=D,a}function Pi(i,a,p,S){return i=wn(7,i,S,a),i.lanes=p,i}function zc(i,a,p,S){return i=wn(22,i,S,a),i.elementType=G,i.lanes=p,i.stateNode={isHidden:!1},i}function pf(i,a,p){return i=wn(6,i,null,a),i.lanes=p,i}function gf(i,a,p){return a=wn(4,i.children!==null?i.children:[],i.key,a),a.lanes=p,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function OE(i,a,p,S,A){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=S,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function xf(i,a,p,S,A,D,V,Z,ee){return i=new OE(i,a,p,Z,ee),a===1?(a=1,D===!0&&(a|=8)):a=0,D=wn(3,null,null,a),i.current=D,D.stateNode=i,D.memoizedState={element:S,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(D),i}function BE(i,a,p){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:S==null?null:""+S,children:i,containerInfo:a,implementation:p}}function Pv(i){if(!i)return $s;i=i._reactInternals;e:{if(xi(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Gr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var p=i.type;if(Gr(p))return n0(i,p,a)}return a}function Av(i,a,p,S,A,D,V,Z,ee){return i=xf(p,S,!0,i,A,D,V,Z,ee),i.context=Pv(null),p=i.current,S=zr(),A=Ks(p),D=xs(S,A),D.callback=a??null,Ws(p,D,A),i.current.lanes=A,ra(i,A,S),Yr(i,S),i}function Hc(i,a,p,S){var A=a.current,D=zr(),V=Ks(A);return p=Pv(p),a.context===null?a.context=p:a.pendingContext=p,a=xs(D,V),a.payload={element:i},S=S===void 0?null:S,S!==null&&(a.callback=S),i=Ws(A,a,V),i!==null&&(Fn(i,A,V,D),yc(i,A,V)),V}function Wc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Tv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var p=i.retryLane;i.retryLane=p!==0&&p<a?p:a}}function vf(i,a){Tv(i,a),(i=i.alternate)&&Tv(i,a)}function FE(){return null}var Rv=typeof reportError=="function"?reportError:function(i){console.error(i)};function yf(i){this._internalRoot=i}Vc.prototype.render=yf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Hc(i,a,null,null)},Vc.prototype.unmount=yf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ji(function(){Hc(null,i,null,null)}),a[hs]=null}};function Vc(i){this._internalRoot=i}Vc.prototype.unstable_scheduleHydration=function(i){if(i){var a=px();i={blockedOn:null,target:i,priority:a};for(var p=0;p<Ls.length&&a!==0&&a<Ls[p].priority;p++);Ls.splice(p,0,i),p===0&&vx(i)}};function bf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Uc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Mv(){}function $E(i,a,p,S,A){if(A){if(typeof S=="function"){var D=S;S=function(){var pe=Wc(V);D.call(pe)}}var V=Av(a,S,i,0,null,!1,!1,"",Mv);return i._reactRootContainer=V,i[hs]=V.current,ga(i.nodeType===8?i.parentNode:i),ji(),V}for(;A=i.lastChild;)i.removeChild(A);if(typeof S=="function"){var Z=S;S=function(){var pe=Wc(ee);Z.call(pe)}}var ee=xf(i,0,!1,null,null,!1,!1,"",Mv);return i._reactRootContainer=ee,i[hs]=ee.current,ga(i.nodeType===8?i.parentNode:i),ji(function(){Hc(a,ee,p,S)}),ee}function Gc(i,a,p,S,A){var D=p._reactRootContainer;if(D){var V=D;if(typeof A=="function"){var Z=A;A=function(){var ee=Wc(V);Z.call(ee)}}Hc(a,V,i,A)}else V=$E(p,a,i,A,S);return Wc(V)}fx=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var p=ta(a.pendingLanes);p!==0&&(Wd(a,p|1),Yr(a,tr()),(yt&6)===0&&(go=tr()+500,zs()))}break;case 13:ji(function(){var S=gs(i,1);if(S!==null){var A=zr();Fn(S,i,1,A)}}),vf(i,1)}},Vd=function(i){if(i.tag===13){var a=gs(i,134217728);if(a!==null){var p=zr();Fn(a,i,134217728,p)}vf(i,134217728)}},mx=function(i){if(i.tag===13){var a=Ks(i),p=gs(i,a);if(p!==null){var S=zr();Fn(p,i,a,S)}vf(i,a)}},px=function(){return At},gx=function(i,a){var p=At;try{return At=i,a()}finally{At=p}},gt=function(i,a,p){switch(a){case"input":if(ue(i,p),a=p.name,p.type==="radio"&&a!=null){for(p=i;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var S=p[a];if(S!==i&&S.form===i.form){var A=cc(S);if(!A)throw Error(n(90));se(S),ue(S,A)}}}break;case"textarea":xt(i,p);break;case"select":a=p.value,a!=null&&_e(i,!!p.multiple,a,!1)}},ht=df,Bt=ji;var zE={usingClientEntryPoint:!1,Events:[ya,ro,cc,$e,ut,df]},Ma={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HE={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ix(i),i===null?null:i.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||FE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Vl=Kc.inject(HE),Gn=Kc}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE,Xr.createPortal=function(i,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(a))throw Error(n(200));return BE(i,a,null,p)},Xr.createRoot=function(i,a){if(!bf(i))throw Error(n(299));var p=!1,S="",A=Rv;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=xf(i,1,!1,null,null,p,!1,S,A),i[hs]=a.current,ga(i.nodeType===8?i.parentNode:i),new yf(a)},Xr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ix(a),i=i===null?null:i.stateNode,i},Xr.flushSync=function(i){return ji(i)},Xr.hydrate=function(i,a,p){if(!Uc(a))throw Error(n(200));return Gc(null,i,a,!0,p)},Xr.hydrateRoot=function(i,a,p){if(!bf(i))throw Error(n(405));var S=p!=null&&p.hydratedSources||null,A=!1,D="",V=Rv;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),a=Av(a,null,i,1,p??null,A,!1,D,V),i[hs]=a.current,ga(i),S)for(i=0;i<S.length;i++)p=S[i],A=p._getVersion,A=A(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,A]:a.mutableSourceEagerHydrationData.push(p,A);return new Vc(a)},Xr.render=function(i,a,p){if(!Uc(a))throw Error(n(200));return Gc(null,i,a,!1,p)},Xr.unmountComponentAtNode=function(i){if(!Uc(i))throw Error(n(40));return i._reactRootContainer?(ji(function(){Gc(null,null,i,!1,function(){i._reactRootContainer=null,i[hs]=null})}),!0):!1},Xr.unstable_batchedUpdates=df,Xr.unstable_renderSubtreeIntoContainer=function(i,a,p,S){if(!Uc(p))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Gc(i,a,p,!1,S)},Xr.version="18.3.1-next-f1338f8080-20240426",Xr}var zv;function Gw(){if(zv)return Cf.exports;zv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cf.exports=XE(),Cf.exports}var Hv;function JE(){if(Hv)return qc;Hv=1;var e=Gw();return qc.createRoot=e.createRoot,qc.hydrateRoot=e.hydrateRoot,qc}var QE=JE();const ZE=vl(QE);var yl=Gw();const Kw=vl(yl);function eP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const tP=e=>{switch(e){case"success":return sP;case"info":return oP;case"warning":return iP;case"error":return aP;default:return null}},rP=Array(12).fill(0),nP=({visible:e,className:t})=>Te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Te.createElement("div",{className:"sonner-spinner"},rP.map((n,s)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),sP=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iP=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oP=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aP=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lP=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cP=()=>{const[e,t]=Te.useState(document.hidden);return Te.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let gm=1;class uP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,u=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:gm++,d=this.toasts.find(c=>c.id===u),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(c=>c.id===u?(this.publish({...c,...t,id:u,title:s}),{...c,...t,id:u,dismissible:l,title:s}):c):this.addToast({title:s,...o,dismissible:l,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,d;const l=o.then(async f=>{if(d=["resolve",f],Te.isValidElement(f))u=!1,this.create({id:s,type:"default",message:f});else if(hP(f)&&!f.ok){u=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,k=typeof h=="object"&&!Te.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:x,...k})}else if(f instanceof Error){u=!1;const h=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,k=typeof h=="object"&&!Te.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:x,...k})}else if(n.success!==void 0){u=!1;const h=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,k=typeof h=="object"&&!Te.isValidElement(h)?h:{message:h};this.create({id:s,type:"success",description:x,...k})}}).catch(async f=>{if(d=["reject",f],n.error!==void 0){u=!1;const m=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:h,...w})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((f,m)=>l.then(()=>d[0]==="reject"?m(d[1]):f(d[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||gm++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qr=new uP,dP=(e,t)=>{const n=(t==null?void 0:t.id)||gm++;return Qr.addToast({title:e,...t,id:n}),n},hP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fP=dP,mP=()=>Qr.toasts,pP=()=>Qr.getActiveToasts(),Q=Object.assign(fP,{success:Qr.success,info:Qr.info,warning:Qr.warning,error:Qr.error,custom:Qr.custom,message:Qr.message,promise:Qr.promise,dismiss:Qr.dismiss,loading:Qr.loading},{getHistory:mP,getToasts:pP});eP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yc(e){return e.label!==void 0}const gP=3,xP="24px",vP="16px",Wv=4e3,yP=356,bP=14,wP=45,_P=200;function Jn(...e){return e.filter(Boolean).join(" ")}function CP(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const SP=e=>{var t,n,s,o,u,d,l,c,f;const{invert:m,toast:h,unstyled:x,interacting:w,setHeights:k,visibleToasts:_,heights:v,index:b,toasts:g,expanded:y,removeToast:j,defaultRichColors:E,closeButton:P,style:T,cancelButtonStyle:N,actionButtonStyle:R,className:I="",descriptionClassName:O="",duration:B,position:$,gap:Y,expandByDefault:z,classNames:K,icons:G,closeButtonAriaLabel:U="Close toast"}=e,[L,M]=Te.useState(null),[F,q]=Te.useState(null),[H,ae]=Te.useState(!1),[fe,me]=Te.useState(!1),[X,W]=Te.useState(!1),[le,te]=Te.useState(!1),[J,se]=Te.useState(!1),[we,Le]=Te.useState(0),[Ke,ne]=Te.useState(0),ue=Te.useRef(h.duration||B||Wv),je=Te.useRef(null),De=Te.useRef(null),Je=b===0,_e=b+1<=_,ye=h.type,Oe=h.dismissible!==!1,xt=h.className||"",Rt=h.descriptionClassName||"",ge=Te.useMemo(()=>v.findIndex($e=>$e.toastId===h.id)||0,[v,h.id]),Ce=Te.useMemo(()=>{var $e;return($e=h.closeButton)!=null?$e:P},[h.closeButton,P]),ze=Te.useMemo(()=>h.duration||B||Wv,[h.duration,B]),Xe=Te.useRef(0),Ye=Te.useRef(0),Et=Te.useRef(0),nt=Te.useRef(null),[Gt,Ar]=$.split("-"),Tr=Te.useMemo(()=>v.reduce(($e,ut,ht)=>ht>=ge?$e:$e+ut.height,0),[v,ge]),re=cP(),Pe=h.invert||m,Me=ye==="loading";Ye.current=Te.useMemo(()=>ge*Y+Tr,[ge,Tr]),Te.useEffect(()=>{ue.current=ze},[ze]),Te.useEffect(()=>{ae(!0)},[]),Te.useEffect(()=>{const $e=De.current;if($e){const ut=$e.getBoundingClientRect().height;return ne(ut),k(ht=>[{toastId:h.id,height:ut,position:h.position},...ht]),()=>k(ht=>ht.filter(Bt=>Bt.toastId!==h.id))}},[k,h.id]),Te.useLayoutEffect(()=>{if(!H)return;const $e=De.current,ut=$e.style.height;$e.style.height="auto";const ht=$e.getBoundingClientRect().height;$e.style.height=ut,ne(ht),k(Bt=>Bt.find(ir=>ir.toastId===h.id)?Bt.map(ir=>ir.toastId===h.id?{...ir,height:ht}:ir):[{toastId:h.id,height:ht,position:h.position},...Bt])},[H,h.title,h.description,k,h.id,h.jsx,h.action,h.cancel]);const st=Te.useCallback(()=>{me(!0),Le(Ye.current),k($e=>$e.filter(ut=>ut.toastId!==h.id)),setTimeout(()=>{j(h)},_P)},[h,j,k,Ye]);Te.useEffect(()=>{if(h.promise&&ye==="loading"||h.duration===1/0||h.type==="loading")return;let $e;return y||w||re?(()=>{if(Et.current<Xe.current){const Bt=new Date().getTime()-Xe.current;ue.current=ue.current-Bt}Et.current=new Date().getTime()})():(()=>{ue.current!==1/0&&(Xe.current=new Date().getTime(),$e=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),st()},ue.current))})(),()=>clearTimeout($e)},[y,w,h,ye,re,st]),Te.useEffect(()=>{h.delete&&(st(),h.onDismiss==null||h.onDismiss.call(h,h))},[st,h.delete]);function gt(){var $e;if(G!=null&&G.loading){var ut;return Te.createElement("div",{className:Jn(K==null?void 0:K.loader,h==null||(ut=h.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":ye==="loading"},G.loading)}return Te.createElement(nP,{className:Jn(K==null?void 0:K.loader,h==null||($e=h.classNames)==null?void 0:$e.loader),visible:ye==="loading"})}const he=h.icon||(G==null?void 0:G[ye])||tP(ye);var Be,Pt;return Te.createElement("li",{tabIndex:0,ref:De,className:Jn(I,xt,K==null?void 0:K.toast,h==null||(t=h.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[ye],h==null||(n=h.classNames)==null?void 0:n[ye]),"data-sonner-toast":"","data-rich-colors":(Be=h.richColors)!=null?Be:E,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":H,"data-promise":!!h.promise,"data-swiped":J,"data-removed":fe,"data-visible":_e,"data-y-position":Gt,"data-x-position":Ar,"data-index":b,"data-front":Je,"data-swiping":X,"data-dismissible":Oe,"data-type":ye,"data-invert":Pe,"data-swipe-out":le,"data-swipe-direction":F,"data-expanded":!!(y||z&&H),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":g.length-b,"--offset":`${fe?we:Ye.current}px`,"--initial-height":z?"auto":`${Ke}px`,...T,...h.style},onDragEnd:()=>{W(!1),M(null),nt.current=null},onPointerDown:$e=>{$e.button!==2&&(Me||!Oe||(je.current=new Date,Le(Ye.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(W(!0),nt.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,ut,ht;if(le||!Oe)return;nt.current=null;const Bt=Number((($e=De.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((ut=De.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ir=new Date().getTime()-((ht=je.current)==null?void 0:ht.getTime()),fr=L==="x"?Bt:Rn,As=Math.abs(fr)/ir;if(Math.abs(fr)>=wP||As>.11){Le(Ye.current),h.onDismiss==null||h.onDismiss.call(h,h),q(L==="x"?Bt>0?"right":"left":Rn>0?"down":"up"),st(),te(!0);return}else{var _r,rn;(_r=De.current)==null||_r.style.setProperty("--swipe-amount-x","0px"),(rn=De.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}se(!1),W(!1),M(null)},onPointerMove:$e=>{var ut,ht,Bt;if(!nt.current||!Oe||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;const ir=$e.clientY-nt.current.y,fr=$e.clientX-nt.current.x;var As;const _r=(As=e.swipeDirections)!=null?As:CP($);!L&&(Math.abs(fr)>1||Math.abs(ir)>1)&&M(Math.abs(fr)>Math.abs(ir)?"x":"y");let rn={x:0,y:0};const Ts=pn=>1/(1.5+Math.abs(pn)/20);if(L==="y"){if(_r.includes("top")||_r.includes("bottom"))if(_r.includes("top")&&ir<0||_r.includes("bottom")&&ir>0)rn.y=ir;else{const pn=ir*Ts(ir);rn.y=Math.abs(pn)<Math.abs(ir)?pn:ir}}else if(L==="x"&&(_r.includes("left")||_r.includes("right")))if(_r.includes("left")&&fr<0||_r.includes("right")&&fr>0)rn.x=fr;else{const pn=fr*Ts(fr);rn.x=Math.abs(pn)<Math.abs(fr)?pn:fr}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&se(!0),(ht=De.current)==null||ht.style.setProperty("--swipe-amount-x",`${rn.x}px`),(Bt=De.current)==null||Bt.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},Ce&&!h.jsx&&ye!=="loading"?Te.createElement("button",{"aria-label":U,"data-disabled":Me,"data-close-button":!0,onClick:Me||!Oe?()=>{}:()=>{st(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Jn(K==null?void 0:K.closeButton,h==null||(s=h.classNames)==null?void 0:s.closeButton)},(Pt=G==null?void 0:G.close)!=null?Pt:lP):null,(ye||h.icon||h.promise)&&h.icon!==null&&((G==null?void 0:G[ye])!==null||h.icon)?Te.createElement("div",{"data-icon":"",className:Jn(K==null?void 0:K.icon,h==null||(o=h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||gt():null,h.type!=="loading"?he:null):null,Te.createElement("div",{"data-content":"",className:Jn(K==null?void 0:K.content,h==null||(u=h.classNames)==null?void 0:u.content)},Te.createElement("div",{"data-title":"",className:Jn(K==null?void 0:K.title,h==null||(d=h.classNames)==null?void 0:d.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Te.createElement("div",{"data-description":"",className:Jn(O,Rt,K==null?void 0:K.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),Te.isValidElement(h.cancel)?h.cancel:h.cancel&&Yc(h.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:$e=>{Yc(h.cancel)&&Oe&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,$e),st())},className:Jn(K==null?void 0:K.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Te.isValidElement(h.action)?h.action:h.action&&Yc(h.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:$e=>{Yc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,$e),!$e.defaultPrevented&&st())},className:Jn(K==null?void 0:K.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function Vv(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kP(e,t){const n={};return[e,t].forEach((s,o)=>{const u=o===1,d=u?"--mobile-offset":"--offset",l=u?vP:xP;function c(f){["top","right","bottom","left"].forEach(m=>{n[`${d}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${d}-${f}`]=l:n[`${d}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):c(l)}),n}const jP=Te.forwardRef(function(t,n){const{id:s,invert:o,position:u="bottom-right",hotkey:d=["altKey","KeyT"],expand:l,closeButton:c,className:f,offset:m,mobileOffset:h,theme:x="light",richColors:w,duration:k,style:_,visibleToasts:v=gP,toastOptions:b,dir:g=Vv(),gap:y=bP,icons:j,containerAriaLabel:E="Notifications"}=t,[P,T]=Te.useState([]),N=Te.useMemo(()=>s?P.filter(H=>H.toasterId===s):P.filter(H=>!H.toasterId),[P,s]),R=Te.useMemo(()=>Array.from(new Set([u].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,u]),[I,O]=Te.useState([]),[B,$]=Te.useState(!1),[Y,z]=Te.useState(!1),[K,G]=Te.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Te.useRef(null),L=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Te.useRef(null),F=Te.useRef(!1),q=Te.useCallback(H=>{T(ae=>{var fe;return(fe=ae.find(me=>me.id===H.id))!=null&&fe.delete||Qr.dismiss(H.id),ae.filter(({id:me})=>me!==H.id)})},[]);return Te.useEffect(()=>Qr.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{T(ae=>ae.map(fe=>fe.id===H.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{Kw.flushSync(()=>{T(ae=>{const fe=ae.findIndex(me=>me.id===H.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...H},...ae.slice(fe+1)]:[H,...ae]})})})}),[P]),Te.useEffect(()=>{if(x!=="system"){G(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ae})=>{G(ae?"dark":"light")})}catch{H.addListener(({matches:fe})=>{try{G(fe?"dark":"light")}catch(me){console.error(me)}})}},[x]),Te.useEffect(()=>{P.length<=1&&$(!1)},[P]),Te.useEffect(()=>{const H=ae=>{var fe;if(d.every(W=>ae[W]||ae.code===W)){var X;$(!0),(X=U.current)==null||X.focus()}ae.code==="Escape"&&(document.activeElement===U.current||(fe=U.current)!=null&&fe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[d]),Te.useEffect(()=>{if(U.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[U.current]),Te.createElement("section",{ref:n,"aria-label":`${E} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((H,ae)=>{var fe;const[me,X]=H.split("-");return N.length?Te.createElement("ol",{key:H,dir:g==="auto"?Vv():g,tabIndex:-1,ref:U,className:f,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":me,"data-x-position":X,style:{"--front-toast-height":`${((fe=I[0])==null?void 0:fe.height)||0}px`,"--width":`${yP}px`,"--gap":`${y}px`,..._,...kP(m,h)},onBlur:W=>{F.current&&!W.currentTarget.contains(W.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||F.current||(F.current=!0,M.current=W.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{Y||$(!1)},onDragEnd:()=>$(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(W=>!W.position&&ae===0||W.position===H).map((W,le)=>{var te,J;return Te.createElement(SP,{key:W.id,icons:j,index:le,toast:W,defaultRichColors:w,duration:(te=b==null?void 0:b.duration)!=null?te:k,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:o,visibleToasts:v,closeButton:(J=b==null?void 0:b.closeButton)!=null?J:c,interacting:Y,position:H,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:q,toasts:N.filter(se=>se.position==W.position),heights:I.filter(se=>se.position==W.position),setHeights:O,expandByDefault:l,gap:y,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),dp=C.createContext({});function hp(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const qu=C.createContext(null),fp=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class NP extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EP({children:e,isPresent:t}){const n=C.useId(),s=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=C.useContext(fp);return C.useInsertionEffect(()=>{const{width:d,height:l,top:c,left:f}=o.current;if(t||!s.current||!d||!l)return;s.current.dataset.motionPopId=n;const m=document.createElement("style");return u&&(m.nonce=u),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),r.jsx(NP,{isPresent:t,childRef:s,sizeRef:o,children:C.cloneElement(e,{ref:s})})}const PP=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:d})=>{const l=hp(AP),c=C.useId(),f=C.useCallback(h=>{l.set(h,!0);for(const x of l.values())if(!x)return;s&&s()},[l,s]),m=C.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:f,register:h=>(l.set(h,!1),()=>l.delete(h))}),u?[Math.random(),f]:[n,f]);return C.useMemo(()=>{l.forEach((h,x)=>l.set(x,!1))},[n]),C.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),d==="popLayout"&&(e=r.jsx(EP,{isPresent:n,children:e})),r.jsx(qu.Provider,{value:m,children:e})};function AP(){return new Map}function qw(e=!0){const t=C.useContext(qu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=C.useId();C.useEffect(()=>{e&&o(u)},[e]);const d=C.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,d]:[!0]}const Xc=e=>e.key||"";function Uv(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const mp=typeof window<"u",Yw=mp?C.useLayoutEffect:C.useEffect,Xw=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:d=!1})=>{const[l,c]=qw(d),f=C.useMemo(()=>Uv(e),[e]),m=d&&!l?[]:f.map(Xc),h=C.useRef(!0),x=C.useRef(f),w=hp(()=>new Map),[k,_]=C.useState(f),[v,b]=C.useState(f);Yw(()=>{h.current=!1,x.current=f;for(let j=0;j<v.length;j++){const E=Xc(v[j]);m.includes(E)?w.delete(E):w.get(E)!==!0&&w.set(E,!1)}},[v,m.length,m.join("-")]);const g=[];if(f!==k){let j=[...f];for(let E=0;E<v.length;E++){const P=v[E],T=Xc(P);m.includes(T)||(j.splice(E,0,P),g.push(P))}u==="wait"&&g.length&&(j=g),b(Uv(j)),_(f);return}const{forceRender:y}=C.useContext(dp);return r.jsx(r.Fragment,{children:v.map(j=>{const E=Xc(j),P=d&&!l?!1:f===v||m.includes(E),T=()=>{if(w.has(E))w.set(E,!0);else return;let N=!0;w.forEach(R=>{R||(N=!1)}),N&&(y==null||y(),b(x.current),d&&(c==null||c()),s&&s())};return r.jsx(PP,{isPresent:P,initial:!h.current||n?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:o,mode:u,onExitComplete:P?void 0:T,children:j},E)})})},dn=e=>e;let Jw=dn;function pp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lo=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},_s=e=>e*1e3,Cs=e=>e/1e3,TP={useManualTiming:!1};function RP(e){let t=new Set,n=new Set,s=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function l(f){u.has(f)&&(c.schedule(f),e()),f(d)}const c={schedule:(f,m=!1,h=!1)=>{const w=h&&s?t:n;return m&&u.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),u.delete(f)},process:f=>{if(d=f,s){o=!0;return}s=!0,[t,n]=[n,t],t.forEach(l),t.clear(),s=!1,o&&(o=!1,c.process(f))}};return c}const Jc=["read","resolveKeyframes","update","preRender","render","postRender"],MP=40;function Qw(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,d=Jc.reduce((b,g)=>(b[g]=RP(u),b),{}),{read:l,resolveKeyframes:c,update:f,preRender:m,render:h,postRender:x}=d,w=()=>{const b=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(b-o.timestamp,MP),1),o.timestamp=b,o.isProcessing=!0,l.process(o),c.process(o),f.process(o),m.process(o),h.process(o),x.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(w))},k=()=>{n=!0,s=!0,o.isProcessing||e(w)};return{schedule:Jc.reduce((b,g)=>{const y=d[g];return b[g]=(j,E=!1,P=!1)=>(n||k(),y.schedule(j,E,P)),b},{}),cancel:b=>{for(let g=0;g<Jc.length;g++)d[Jc[g]].cancel(b)},state:o,steps:d}}const{schedule:zt,cancel:si,state:kr,steps:jf}=Qw(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0),Zw=C.createContext({strict:!1}),Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Io={};for(const e in Gv)Io[e]={isEnabled:t=>Gv[e].some(n=>!!t[n])};function DP(e){for(const t in e)Io[t]={...Io[t],...e[t]}}const LP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LP.has(e)}let e_=e=>!Cu(e);function IP(e){e&&(e_=t=>t.startsWith("on")?!Cu(t):e(t))}try{IP(require("@emotion/is-prop-valid").default)}catch{}function OP(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(e_(o)||n===!0&&Cu(o)||!t&&!Cu(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function BP(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Yu=C.createContext({});function tl(e){return typeof e=="string"||Array.isArray(e)}function Xu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xp=["initial",...gp];function Ju(e){return Xu(e.animate)||xp.some(t=>tl(e[t]))}function t_(e){return!!(Ju(e)||e.variants)}function FP(e,t){if(Ju(e)){const{initial:n,animate:s}=e;return{initial:n===!1||tl(n)?n:void 0,animate:tl(s)?s:void 0}}return e.inherit!==!1?t:{}}function $P(e){const{initial:t,animate:n}=FP(e,C.useContext(Yu));return C.useMemo(()=>({initial:t,animate:n}),[Kv(t),Kv(n)])}function Kv(e){return Array.isArray(e)?e.join(" "):e}const zP=Symbol.for("motionComponentSymbol");function So(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function HP(e,t,n){return C.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):So(n)&&(n.current=s))},[t])}const vp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WP="framerAppearId",r_="data-"+vp(WP),{schedule:yp}=Qw(queueMicrotask,!1),n_=C.createContext({});function VP(e,t,n,s,o){var u,d;const{visualElement:l}=C.useContext(Yu),c=C.useContext(Zw),f=C.useContext(qu),m=C.useContext(fp).reducedMotion,h=C.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const x=h.current,w=C.useContext(n_);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&UP(h.current,n,o,w);const k=C.useRef(!1);C.useInsertionEffect(()=>{x&&k.current&&x.update(n,f)});const _=n[r_],v=C.useRef(!!_&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,_))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,_)));return Yw(()=>{x&&(k.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),yp.render(x.render),v.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!v.current&&x.animationState&&x.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,_)}),v.current=!1))}),x}function UP(e,t,n,s){const{layoutId:o,layout:u,drag:d,dragConstraints:l,layoutScroll:c,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:s_(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!d||l&&So(l),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:f})}function s_(e){if(e)return e.options.allowProjection!==!1?e.projection:s_(e.parent)}function GP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){var u,d;e&&DP(e);function l(f,m){let h;const x={...C.useContext(fp),...f,layoutId:KP(f)},{isStatic:w}=x,k=$P(f),_=s(f,w);if(!w&&mp){qP();const v=YP(x);h=v.MeasureLayout,k.visualElement=VP(o,_,x,t,v.ProjectionNode)}return r.jsxs(Yu.Provider,{value:k,children:[h&&k.visualElement?r.jsx(h,{visualElement:k.visualElement,...x}):null,n(o,f,HP(_,k.visualElement,m),_,w,k.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${(d=(u=o.displayName)!==null&&u!==void 0?u:o.name)!==null&&d!==void 0?d:""})`}`;const c=C.forwardRef(l);return c[zP]=o,c}function KP({layoutId:e}){const t=C.useContext(dp).id;return t&&e!==void 0?t+"-"+e:e}function qP(e,t){C.useContext(Zw).strict}function YP(e){const{drag:t,layout:n}=Io;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const XP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bp(e){return typeof e!="string"||e.includes("-")?!1:!!(XP.indexOf(e)>-1||/[A-Z]/u.test(e))}function qv(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function wp(e,t,n,s){if(typeof t=="function"){const[o,u]=qv(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=qv(s);t=t(n!==void 0?n:e.custom,o,u)}return t}const xm=e=>Array.isArray(e),JP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),QP=e=>xm(e)?e[e.length-1]||0:e,Br=e=>!!(e&&e.getVelocity);function fu(e){const t=Br(e)?e.get():e;return JP(t)?t.toValue():t}function ZP({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,o,u){const d={latestValues:eA(s,o,u,e),renderState:t()};return n&&(d.onMount=l=>n({props:s,current:l,...d}),d.onUpdate=l=>n(l)),d}const i_=e=>(t,n)=>{const s=C.useContext(Yu),o=C.useContext(qu),u=()=>ZP(e,t,s,o);return n?u():hp(u)};function eA(e,t,n,s){const o={},u=s(e,{});for(const x in u)o[x]=fu(u[x]);let{initial:d,animate:l}=e;const c=Ju(e),f=t_(e);t&&f&&!c&&e.inherit!==!1&&(d===void 0&&(d=t.initial),l===void 0&&(l=t.animate));let m=n?n.initial===!1:!1;m=m||d===!1;const h=m?l:d;if(h&&typeof h!="boolean"&&!Xu(h)){const x=Array.isArray(h)?h:[h];for(let w=0;w<x.length;w++){const k=wp(e,x[w]);if(k){const{transitionEnd:_,transition:v,...b}=k;for(const g in b){let y=b[g];if(Array.isArray(y)){const j=m?y.length-1:0;y=y[j]}y!==null&&(o[g]=y)}for(const g in _)o[g]=_[g]}}}return o}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(Vo),o_=e=>t=>typeof t=="string"&&t.startsWith(e),a_=o_("--"),tA=o_("var(--"),_p=e=>tA(e)?rA.test(e.split("/*")[0].trim()):!1,rA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,l_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ss=(e,t,n)=>n>t?t:n<e?e:n,Uo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rl={...Uo,transform:e=>Ss(0,1,e)},Qc={...Uo,default:1},bl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=bl("deg"),rs=bl("%"),tt=bl("px"),nA=bl("vh"),sA=bl("vw"),Yv={...rs,parse:e=>rs.parse(e)/100,transform:e=>rs.transform(e*100)},iA={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt},oA={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Qc,scaleX:Qc,scaleY:Qc,scaleZ:Qc,skew:Zs,skewX:Zs,skewY:Zs,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:rl,originX:Yv,originY:Yv,originZ:tt},Xv={...Uo,transform:Math.round},Cp={...iA,...oA,zIndex:Xv,size:tt,fillOpacity:rl,strokeOpacity:rl,numOctaves:Xv},aA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lA=Vo.length;function cA(e,t,n){let s="",o=!0;for(let u=0;u<lA;u++){const d=Vo[u],l=e[d];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(d.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const f=l_(l,Cp[d]);if(!c){o=!1;const m=aA[d]||d;s+=`${m}(${f}) `}n&&(t[d]=f)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Sp(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let d=!1,l=!1;for(const c in t){const f=t[c];if(Ui.has(c)){d=!0;continue}else if(a_(c)){o[c]=f;continue}else{const m=l_(f,Cp[c]);c.startsWith("origin")?(l=!0,u[c]=m):s[c]=m}}if(t.transform||(d||n?s.transform=cA(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:f="50%",originZ:m=0}=u;s.transformOrigin=`${c} ${f} ${m}`}}const uA={offset:"stroke-dashoffset",array:"stroke-dasharray"},dA={offset:"strokeDashoffset",array:"strokeDasharray"};function hA(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?uA:dA;e[u.offset]=tt.transform(-s);const d=tt.transform(t),l=tt.transform(n);e[u.array]=`${d} ${l}`}function Jv(e,t,n){return typeof e=="string"?e:tt.transform(t+n*e)}function fA(e,t,n){const s=Jv(t,e.x,e.width),o=Jv(n,e.y,e.height);return`${s} ${o}`}function kp(e,{attrX:t,attrY:n,attrScale:s,originX:o,originY:u,pathLength:d,pathSpacing:l=1,pathOffset:c=0,...f},m,h){if(Sp(e,f,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:w,dimensions:k}=e;x.transform&&(k&&(w.transform=x.transform),delete x.transform),k&&(o!==void 0||u!==void 0||w.transform)&&(w.transformOrigin=fA(k,o!==void 0?o:.5,u!==void 0?u:.5)),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),d!==void 0&&hA(x,d,l,c,!1)}const jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),c_=()=>({...jp(),attrs:{}}),Np=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u_(e,{style:t,vars:n},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const u in n)e.style.setProperty(u,n[u])}const d_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h_(e,t,n,s){u_(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(d_.has(o)?o:vp(o),t.attrs[o])}const Su={};function mA(e){Object.assign(Su,e)}function f_(e,{layout:t,layoutId:n}){return Ui.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Su[e]||e==="opacity")}function Ep(e,t,n){var s;const{style:o}=e,u={};for(const d in o)(Br(o[d])||t.style&&Br(t.style[d])||f_(d,e)||((s=n==null?void 0:n.getValue(d))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[d]=o[d]);return u}function m_(e,t,n){const s=Ep(e,t,n);for(const o in e)if(Br(e[o])||Br(t[o])){const u=Vo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}function pA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Qv=["x","y","width","height","cx","cy","r"],gA={useVisualState:i_({scrapeMotionValuesFromProps:m_,createRenderState:c_,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:o})=>{if(!n)return;let u=!!e.drag;if(!u){for(const l in o)if(Ui.has(l)){u=!0;break}}if(!u)return;let d=!t;if(t)for(let l=0;l<Qv.length;l++){const c=Qv[l];e[c]!==t[c]&&(d=!0)}d&&zt.read(()=>{pA(n,s),zt.render(()=>{kp(s,o,Np(n.tagName),e.transformTemplate),h_(n,s)})})}})},xA={useVisualState:i_({scrapeMotionValuesFromProps:Ep,createRenderState:jp})};function p_(e,t,n){for(const s in t)!Br(t[s])&&!f_(s,n)&&(e[s]=t[s])}function vA({transformTemplate:e},t){return C.useMemo(()=>{const n=jp();return Sp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yA(e,t){const n=e.style||{},s={};return p_(s,n,e),Object.assign(s,vA(e,t)),s}function bA(e,t){const n={},s=yA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function wA(e,t,n,s){const o=C.useMemo(()=>{const u=c_();return kp(u,t,Np(s),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};p_(u,e.style,e),o.style={...u,...o.style}}return o}function _A(e=!1){return(n,s,o,{latestValues:u},d)=>{const c=(bp(n)?wA:bA)(s,u,d,n),f=OP(s,typeof n=="string",e),m=n!==C.Fragment?{...f,...c,ref:o}:{},{children:h}=s,x=C.useMemo(()=>Br(h)?h.get():h,[h]);return C.createElement(n,{...m,children:x})}}function CA(e,t){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...bp(s)?gA:xA,preloadedFeatures:e,useRender:_A(o),createVisualElement:t,Component:s};return GP(d)}}function g_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Qu(e,t,n){const s=e.getProps();return wp(s,t,n!==void 0?n:s.custom,e)}const SA=pp(()=>window.ScrollTimeline!==void 0);class kA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(o=>{if(SA()&&o.attachTimeline)return o.attachTimeline(t);if(typeof n=="function")return n(o)});return()=>{s.forEach((o,u)=>{o&&o(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jA extends kA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Pp(e,t){return e?e[t]||e.default||e:void 0}const vm=2e4;function x_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<vm;)t+=n,s=e.next(t);return t>=vm?1/0:t}function Ap(e){return typeof e=="function"}function Zv(e,t){e.timeline=t,e.onfinish=null}const Tp=e=>Array.isArray(e)&&typeof e[0]=="number",NA={linearEasing:void 0};function EA(e,t){const n=pp(e);return()=>{var s;return(s=NA[t])!==null&&s!==void 0?s:n()}}const ku=EA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),v_=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=e(Lo(0,o-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function y_(e){return!!(typeof e=="function"&&ku()||!e||typeof e=="string"&&(e in ym||ku())||Tp(e)||Array.isArray(e)&&e.every(y_))}const Wa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,ym={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function b_(e,t){if(e)return typeof e=="function"&&ku()?v_(e,t):Tp(e)?Wa(e):Array.isArray(e)?e.map(n=>b_(n,t)||ym.easeOut):ym[e]}const $n={x:!1,y:!1};function w_(){return $n.x||$n.y}function PA(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const u=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function __(e,t){const n=PA(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function ey(e){return t=>{t.pointerType==="touch"||w_()||e(t)}}function AA(e,t,n={}){const[s,o,u]=__(e,n),d=ey(l=>{const{target:c}=l,f=t(l);if(typeof f!="function"||!c)return;const m=ey(h=>{f(h),c.removeEventListener("pointerleave",m)});c.addEventListener("pointerleave",m,o)});return s.forEach(l=>{l.addEventListener("pointerenter",d,o)}),u}const C_=(e,t)=>t?e===t?!0:C_(e,t.parentElement):!1,Rp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,TA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RA(e){return TA.has(e.tagName)||e.tabIndex!==-1}const Va=new WeakSet;function ty(e){return t=>{t.key==="Enter"&&e(t)}}function Nf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MA=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ty(()=>{if(Va.has(n))return;Nf(n,"down");const o=ty(()=>{Nf(n,"up")}),u=()=>Nf(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function ry(e){return Rp(e)&&!w_()}function DA(e,t,n={}){const[s,o,u]=__(e,n),d=l=>{const c=l.currentTarget;if(!ry(l)||Va.has(c))return;Va.add(c);const f=t(l),m=(w,k)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",x),!(!ry(w)||!Va.has(c))&&(Va.delete(c),typeof f=="function"&&f(w,{success:k}))},h=w=>{m(w,n.useGlobalTarget||C_(c,w.target))},x=w=>{m(w,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",x,o)};return s.forEach(l=>{!RA(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",d,o),l.addEventListener("focus",f=>MA(f,o),o)}),u}function LA(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const S_=new Set(["width","height","top","left","right","bottom",...Vo]);let mu;function IA(){mu=void 0}const ns={now:()=>(mu===void 0&&ns.set(kr.isProcessing||TP.useManualTiming?kr.timestamp:performance.now()),mu),set:e=>{mu=e,queueMicrotask(IA)}};function Mp(e,t){e.indexOf(t)===-1&&e.push(t)}function Dp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lp{constructor(){this.subscriptions=[]}add(t){return Mp(this.subscriptions,t),()=>Dp(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const d=this.subscriptions[u];d&&d(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function k_(e,t){return t?e*(1e3/t):0}const ny=30,OA=e=>!isNaN(parseFloat(e));class BA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=ns.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ns.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lp);const s=this.events[t].add(n);return t==="change"?()=>{s(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ny)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ny);return k_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(e,t){return new BA(e,t)}function FA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nl(n))}function $A(e,t){const n=Qu(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const d in u){const l=QP(u[d]);FA(e,d,l)}}function zA(e){return!!(Br(e)&&e.add)}function bm(e,t){const n=e.getValue("willChange");if(zA(n))return n.add(t)}function j_(e){return e.props[r_]}const N_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,HA=1e-7,WA=12;function VA(e,t,n,s,o){let u,d,l=0;do d=t+(n-t)/2,u=N_(d,s,o)-e,u>0?n=d:t=d;while(Math.abs(u)>HA&&++l<WA);return d}function wl(e,t,n,s){if(e===t&&n===s)return dn;const o=u=>VA(u,0,1,e,n);return u=>u===0||u===1?u:N_(o(u),t,s)}const E_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,P_=e=>t=>1-e(1-t),A_=wl(.33,1.53,.69,.99),Ip=P_(A_),T_=E_(Ip),R_=e=>(e*=2)<1?.5*Ip(e):.5*(2-Math.pow(2,-10*(e-1))),Op=e=>1-Math.sin(Math.acos(e)),M_=P_(Op),D_=E_(Op),L_=e=>/^0[^.\s]+$/u.test(e);function UA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L_(e):!0}const qa=e=>Math.round(e*1e5)/1e5,Bp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GA(e){return e==null}const KA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fp=(e,t)=>n=>!!(typeof n=="string"&&KA.test(n)&&n.startsWith(e)||t&&!GA(n)&&Object.prototype.hasOwnProperty.call(n,t)),I_=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,d,l]=s.match(Bp);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(d),alpha:l!==void 0?parseFloat(l):1}},qA=e=>Ss(0,255,e),Ef={...Uo,transform:e=>Math.round(qA(e))},Di={test:Fp("rgb","red"),parse:I_("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ef.transform(e)+", "+Ef.transform(t)+", "+Ef.transform(n)+", "+qa(rl.transform(s))+")"};function YA(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const wm={test:Fp("#"),parse:YA,transform:Di.transform},ko={test:Fp("hsl","hue"),parse:I_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+rs.transform(qa(t))+", "+rs.transform(qa(n))+", "+qa(rl.transform(s))+")"},Ir={test:e=>Di.test(e)||wm.test(e)||ko.test(e),parse:e=>Di.test(e)?Di.parse(e):ko.test(e)?ko.parse(e):wm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Di.transform(e):ko.transform(e)},XA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Bp))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(XA))===null||n===void 0?void 0:n.length)||0)>0}const O_="number",B_="color",QA="var",ZA="var(",sy="${}",eT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const l=t.replace(eT,c=>(Ir.test(c)?(s.color.push(u),o.push(B_),n.push(Ir.parse(c))):c.startsWith(ZA)?(s.var.push(u),o.push(QA),n.push(c)):(s.number.push(u),o.push(O_),n.push(parseFloat(c))),++u,sy)).split(sy);return{values:n,split:l,indexes:s,types:o}}function F_(e){return sl(e).values}function $_(e){const{split:t,types:n}=sl(e),s=t.length;return o=>{let u="";for(let d=0;d<s;d++)if(u+=t[d],o[d]!==void 0){const l=n[d];l===O_?u+=qa(o[d]):l===B_?u+=Ir.transform(o[d]):u+=o[d]}return u}}const tT=e=>typeof e=="number"?0:e;function rT(e){const t=F_(e);return $_(e)(t.map(tT))}const ii={test:JA,parse:F_,createTransformer:$_,getAnimatableNone:rT},nT=new Set(["brightness","contrast","saturate","opacity"]);function sT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Bp)||[];if(!s)return e;const o=n.replace(s,"");let u=nT.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const iT=/\b([a-z-]*)\(.*?\)/gu,_m={...ii,getAnimatableNone:e=>{const t=e.match(iT);return t?t.map(sT).join(" "):e}},oT={...Cp,color:Ir,backgroundColor:Ir,outlineColor:Ir,fill:Ir,stroke:Ir,borderColor:Ir,borderTopColor:Ir,borderRightColor:Ir,borderBottomColor:Ir,borderLeftColor:Ir,filter:_m,WebkitFilter:_m},$p=e=>oT[e];function z_(e,t){let n=$p(e);return n!==_m&&(n=ii),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aT=new Set(["auto","none","0"]);function lT(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!aT.has(u)&&sl(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=z_(n,o)}const iy=e=>e===Uo||e===tt,oy=(e,t)=>parseFloat(e.split(", ")[t]),ay=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return oy(o[1],t);{const u=s.match(/^matrix\((.+)\)$/u);return u?oy(u[1],e):0}},cT=new Set(["x","y","z"]),uT=Vo.filter(e=>!cT.has(e));function dT(e){const t=[];return uT.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Oo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ay(4,13),y:ay(5,14)};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const Ii=new Set;let Cm=!1,Sm=!1;function H_(){if(Sm){const e=Array.from(Ii).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=dT(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,d])=>{var l;(l=s.getValue(u))===null||l===void 0||l.set(d)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Sm=!1,Cm=!1,Ii.forEach(e=>e.complete()),Ii.clear()}function W_(){Ii.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sm=!0)})}function hT(){W_(),H_()}class zp{constructor(t,n,s,o,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ii.add(this),Cm||(Cm=!0,zt.read(W_),zt.resolveKeyframes(H_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const d=o==null?void 0:o.get(),l=t[t.length-1];if(d!==void 0)t[0]=d;else if(s&&n){const c=s.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),o&&d===void 0&&o.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ii.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ii.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const V_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),fT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mT(e){const t=fT.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function U_(e,t,n=1){const[s,o]=mT(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const d=u.trim();return V_(d)?parseFloat(d):d}return _p(o)?U_(o,t,n+1):o}const G_=e=>t=>t.test(e),pT={test:e=>e==="auto",parse:e=>e},K_=[Uo,tt,rs,Zs,sA,nA,pT],ly=e=>K_.find(G_(e));class q_ extends zp{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let f=t[c];if(typeof f=="string"&&(f=f.trim(),_p(f))){const m=U_(f,n.current);m!==void 0&&(t[c]=m),c===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!S_.has(s)||t.length!==2)return;const[o,u]=t,d=ly(o),l=ly(u);if(d!==l)if(iy(d)&&iy(l))for(let c=0;c<t.length;c++){const f=t[c];typeof f=="string"&&(t[c]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)UA(t[o])&&s.push(o);s.length&&lT(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const u=n.getValue(s);u&&u.jump(this.measuredOrigin,!1);const d=o.length-1,l=o[d];o[d]=Oo[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,f])=>{n.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const cy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ii.test(e)||e==="0")&&!e.startsWith("url("));function gT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xT(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=cy(o,t),l=cy(u,t);return!d||!l?!1:gT(e)||(n==="spring"||Ap(n))&&s}const vT=e=>e!==null;function Zu(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(vT),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const yT=40;class Y_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ns.now(),this.options={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:d,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yT?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&hT(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ns.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:u,delay:d,onComplete:l,onUpdate:c,isGenerator:f}=this.options;if(!f&&!xT(t,s,o,u))if(d)this.options.duration=0;else{c&&c(Zu(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,n);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Qt=(e,t,n)=>e+(t-e)*n;function Pf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bT({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,d=0;if(!t)o=u=d=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=Pf(c,l,e+1/3),u=Pf(c,l,e),d=Pf(c,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:s}}function ju(e,t){return n=>n>0?t:e}const Af=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},wT=[wm,Di,ko],_T=e=>wT.find(t=>t.test(e));function uy(e){const t=_T(e);if(!t)return!1;let n=t.parse(e);return t===ko&&(n=bT(n)),n}const dy=(e,t)=>{const n=uy(e),s=uy(t);if(!n||!s)return ju(e,t);const o={...n};return u=>(o.red=Af(n.red,s.red,u),o.green=Af(n.green,s.green,u),o.blue=Af(n.blue,s.blue,u),o.alpha=Qt(n.alpha,s.alpha,u),Di.transform(o))},CT=(e,t)=>n=>t(e(n)),_l=(...e)=>e.reduce(CT),km=new Set(["none","hidden"]);function ST(e,t){return km.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function kT(e,t){return n=>Qt(e,t,n)}function Hp(e){return typeof e=="number"?kT:typeof e=="string"?_p(e)?ju:Ir.test(e)?dy:ET:Array.isArray(e)?X_:typeof e=="object"?Ir.test(e)?dy:jT:ju}function X_(e,t){const n=[...e],s=n.length,o=e.map((u,d)=>Hp(u)(u,t[d]));return u=>{for(let d=0;d<s;d++)n[d]=o[d](u);return n}}function jT(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Hp(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function NT(e,t){var n;const s=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const d=t.types[u],l=e.indexes[d][o[d]],c=(n=e.values[l])!==null&&n!==void 0?n:0;s[u]=c,o[d]++}return s}const ET=(e,t)=>{const n=ii.createTransformer(t),s=sl(e),o=sl(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?km.has(e)&&!o.values.length||km.has(t)&&!s.values.length?ST(e,t):_l(X_(NT(s,o),o.values),n):ju(e,t)};function J_(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qt(e,t,n):Hp(e)(e,t)}const PT=5;function Q_(e,t,n){const s=Math.max(t-PT,0);return k_(n-e(s),t-s)}const er={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tf=.001;function AT({duration:e=er.duration,bounce:t=er.bounce,velocity:n=er.velocity,mass:s=er.mass}){let o,u,d=1-t;d=Ss(er.minDamping,er.maxDamping,d),e=Ss(er.minDuration,er.maxDuration,Cs(e)),d<1?(o=f=>{const m=f*d,h=m*e,x=m-n,w=jm(f,d),k=Math.exp(-h);return Tf-x/w*k},u=f=>{const h=f*d*e,x=h*n+n,w=Math.pow(d,2)*Math.pow(f,2)*e,k=Math.exp(-h),_=jm(Math.pow(f,2),d);return(-o(f)+Tf>0?-1:1)*((x-w)*k)/_}):(o=f=>{const m=Math.exp(-f*e),h=(f-n)*e+1;return-Tf+m*h},u=f=>{const m=Math.exp(-f*e),h=(n-f)*(e*e);return m*h});const l=5/e,c=RT(o,u,l);if(e=_s(e),isNaN(c))return{stiffness:er.stiffness,damping:er.damping,duration:e};{const f=Math.pow(c,2)*s;return{stiffness:f,damping:d*2*Math.sqrt(s*f),duration:e}}}const TT=12;function RT(e,t,n){let s=n;for(let o=1;o<TT;o++)s=s-e(s)/t(s);return s}function jm(e,t){return e*Math.sqrt(1-t*t)}const MT=["duration","bounce"],DT=["stiffness","damping","mass"];function hy(e,t){return t.some(n=>e[n]!==void 0)}function LT(e){let t={velocity:er.velocity,stiffness:er.stiffness,damping:er.damping,mass:er.mass,isResolvedFromDuration:!1,...e};if(!hy(e,DT)&&hy(e,MT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Ss(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:er.mass,stiffness:o,damping:u}}else{const n=AT(e);t={...t,...n,mass:er.mass},t.isResolvedFromDuration=!0}return t}function Z_(e=er.visualDuration,t=er.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],l={done:!1,value:u},{stiffness:c,damping:f,mass:m,duration:h,velocity:x,isResolvedFromDuration:w}=LT({...n,velocity:-Cs(n.velocity||0)}),k=x||0,_=f/(2*Math.sqrt(c*m)),v=d-u,b=Cs(Math.sqrt(c/m)),g=Math.abs(v)<5;s||(s=g?er.restSpeed.granular:er.restSpeed.default),o||(o=g?er.restDelta.granular:er.restDelta.default);let y;if(_<1){const E=jm(b,_);y=P=>{const T=Math.exp(-_*b*P);return d-T*((k+_*b*v)/E*Math.sin(E*P)+v*Math.cos(E*P))}}else if(_===1)y=E=>d-Math.exp(-b*E)*(v+(k+b*v)*E);else{const E=b*Math.sqrt(_*_-1);y=P=>{const T=Math.exp(-_*b*P),N=Math.min(E*P,300);return d-T*((k+_*b*v)*Math.sinh(N)+E*v*Math.cosh(N))/E}}const j={calculatedDuration:w&&h||null,next:E=>{const P=y(E);if(w)l.done=E>=h;else{let T=0;_<1&&(T=E===0?_s(k):Q_(y,E,P));const N=Math.abs(T)<=s,R=Math.abs(d-P)<=o;l.done=N&&R}return l.value=l.done?d:P,l},toString:()=>{const E=Math.min(x_(j),vm),P=v_(T=>j.next(E*T).value,E,30);return E+"ms "+P}};return j}function fy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:d,min:l,max:c,restDelta:f=.5,restSpeed:m}){const h=e[0],x={done:!1,value:h},w=N=>l!==void 0&&N<l||c!==void 0&&N>c,k=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let _=n*t;const v=h+_,b=d===void 0?v:d(v);b!==v&&(_=b-h);const g=N=>-_*Math.exp(-N/s),y=N=>b+g(N),j=N=>{const R=g(N),I=y(N);x.done=Math.abs(R)<=f,x.value=x.done?b:I};let E,P;const T=N=>{w(x.value)&&(E=N,P=Z_({keyframes:[x.value,k(x.value)],velocity:Q_(y,N,x.value),damping:o,stiffness:u,restDelta:f,restSpeed:m}))};return T(0),{calculatedDuration:null,next:N=>{let R=!1;return!P&&E===void 0&&(R=!0,j(N),T(N)),E!==void 0&&N>=E?P.next(N-E):(!R&&j(N),x)}}}const IT=wl(.42,0,1,1),OT=wl(0,0,.58,1),eC=wl(.42,0,.58,1),BT=e=>Array.isArray(e)&&typeof e[0]!="number",FT={linear:dn,easeIn:IT,easeInOut:eC,easeOut:OT,circIn:Op,circInOut:D_,circOut:M_,backIn:Ip,backInOut:T_,backOut:A_,anticipate:R_},my=e=>{if(Tp(e)){Jw(e.length===4);const[t,n,s,o]=e;return wl(t,n,s,o)}else if(typeof e=="string")return FT[e];return e};function $T(e,t,n){const s=[],o=n||J_,u=e.length-1;for(let d=0;d<u;d++){let l=o(e[d],e[d+1]);if(t){const c=Array.isArray(t)?t[d]||dn:t;l=_l(c,l)}s.push(l)}return s}function zT(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Jw(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=$T(t,s,o),c=l.length,f=m=>{if(d&&m<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(m<e[h+1]);h++);const x=Lo(e[h],e[h+1],m);return l[h](x)};return n?m=>f(Ss(e[0],e[u-1],m)):f}function HT(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Lo(0,t,s);e.push(Qt(n,1,o))}}function WT(e){const t=[0];return HT(t,e.length-1),t}function VT(e,t){return e.map(n=>n*t)}function UT(e,t){return e.map(()=>t||eC).splice(0,e.length-1)}function Nu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=BT(s)?s.map(my):my(s),u={done:!1,value:t[0]},d=VT(n&&n.length===t.length?n:WT(t),e),l=zT(d,t,{ease:Array.isArray(o)?o:UT(t,o)});return{calculatedDuration:e,next:c=>(u.value=l(c),u.done=c>=e,u)}}const GT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>zt.update(t,!0),stop:()=>si(t),now:()=>kr.isProcessing?kr.timestamp:ns.now()}},KT={decay:fy,inertia:fy,tween:Nu,keyframes:Nu,spring:Z_},qT=e=>e/100;class Wp extends Y_{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:o,keyframes:u}=this.options,d=(o==null?void 0:o.KeyframeResolver)||zp,l=(c,f)=>this.onKeyframesResolved(c,f);this.resolver=new d(u,l,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:d=0}=this.options,l=Ap(n)?n:KT[n]||Nu;let c,f;l!==Nu&&typeof t[0]!="number"&&(c=_l(qT,J_(t[0],t[1])),t=[0,100]);const m=l({...this.options,keyframes:t});u==="mirror"&&(f=l({...this.options,keyframes:[...t].reverse(),velocity:-d})),m.calculatedDuration===null&&(m.calculatedDuration=x_(m));const{calculatedDuration:h}=m,x=h+o,w=x*(s+1)-o;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:o,generator:u,mirroredGenerator:d,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:f,totalDuration:m,resolvedDuration:h}=s;if(this.startTime===null)return u.next(0);const{delay:x,repeat:w,repeatType:k,repeatDelay:_,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-x*(this.speed>=0?1:-1),g=this.speed>=0?b<0:b>m;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let y=this.currentTime,j=u;if(w){const N=Math.min(this.currentTime,m)/h;let R=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(k==="reverse"?(I=1-I,_&&(I-=_/h)):k==="mirror"&&(j=d)),y=Ss(0,1,I)*h}const E=g?{done:!1,value:c[0]}:j.next(y);l&&(E.value=l(E.value));let{done:P}=E;!g&&f!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&o!==void 0&&(E.value=Zu(c,this.options,o)),v&&v(E.value),T&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Cs(t.calculatedDuration):0}get time(){return Cs(this.currentTime)}set time(t){t=_s(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=GT,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const YT=new Set(["opacity","clipPath","filter","transform"]);function XT(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:d="loop",ease:l="easeInOut",times:c}={}){const f={[t]:n};c&&(f.offset=c);const m=b_(l,o);return Array.isArray(m)&&(f.easing=m),e.animate(f,{delay:s,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const JT=pp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eu=10,QT=2e4;function ZT(e){return Ap(e.type)||e.type==="spring"||!y_(e.ease)}function e4(e,t){const n=new Wp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const o=[];let u=0;for(;!s.done&&u<QT;)s=n.sample(u),o.push(s.value),u+=Eu;return{times:void 0,keyframes:o,duration:u-Eu,ease:"linear"}}const tC={anticipate:R_,backInOut:T_,circInOut:D_};function t4(e){return e in tC}class py extends Y_{constructor(t){super(t);const{name:n,motionValue:s,element:o,keyframes:u}=this.options;this.resolver=new q_(u,(d,l)=>this.onKeyframesResolved(d,l),n,s,o),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:o,ease:u,type:d,motionValue:l,name:c,startTime:f}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof u=="string"&&ku()&&t4(u)&&(u=tC[u]),ZT(this.options)){const{onComplete:h,onUpdate:x,motionValue:w,element:k,..._}=this.options,v=e4(t,_);t=v.keyframes,t.length===1&&(t[1]=t[0]),s=v.duration,o=v.times,u=v.ease,d="keyframes"}const m=XT(l.owner.current,c,t,{...this.options,duration:s,times:o,ease:u});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(Zv(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:h}=this.options;l.set(Zu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:s,times:o,type:d,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Cs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Cs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=_s(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return dn;const{animation:s}=n;Zv(s,t)}return dn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:o,type:u,ease:d,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:h,element:x,...w}=this.options,k=new Wp({...w,keyframes:s,duration:o,type:u,ease:d,times:l,isGenerator:!0}),_=_s(this.time);f.setWithVelocity(k.sample(_-Eu).value,k.sample(_).value,Eu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:o,repeatType:u,damping:d,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=n.owner.getProps();return JT()&&s&&YT.has(s)&&!c&&!f&&!o&&u!=="mirror"&&d!==0&&l!=="inertia"}}const r4={type:"spring",stiffness:500,damping:25,restSpeed:10},n4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),s4={type:"keyframes",duration:.8},i4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o4=(e,{keyframes:t})=>t.length>2?s4:Ui.has(e)?e.startsWith("scale")?n4(t[1]):r4:i4;function a4({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:d,repeatDelay:l,from:c,elapsed:f,...m}){return!!Object.keys(m).length}const Vp=(e,t,n,s={},o,u)=>d=>{const l=Pp(s,e)||{},c=l.delay||s.delay||0;let{elapsed:f=0}=s;f=f-_s(c);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:x=>{t.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{d(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:u?void 0:o};a4(l)||(m={...m,...o4(e,m)}),m.duration&&(m.duration=_s(m.duration)),m.repeatDelay&&(m.repeatDelay=_s(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let h=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(h=!0)),h&&!u&&t.get()!==void 0){const x=Zu(m.keyframes,l);if(x!==void 0)return zt.update(()=>{m.onUpdate(x),m.onComplete()}),new jA([])}return!u&&py.supports(m)?new py(m):new Wp(m)};function l4({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function rC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){var u;let{transition:d=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(d=s);const f=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const h in c){const x=e.getValue(h,(u=e.latestValues[h])!==null&&u!==void 0?u:null),w=c[h];if(w===void 0||m&&l4(m,h))continue;const k={delay:n,...Pp(d||{},h)};let _=!1;if(window.MotionHandoffAnimation){const b=j_(e);if(b){const g=window.MotionHandoffAnimation(b,h,zt);g!==null&&(k.startTime=g,_=!0)}}bm(e,h),x.start(Vp(h,x,w,e.shouldReduceMotion&&S_.has(h)?{type:!1}:k,e,_));const v=x.animation;v&&f.push(v)}return l&&Promise.all(f).then(()=>{zt.update(()=>{l&&$A(e,l)})}),f}function Nm(e,t,n={}){var s;const o=Qu(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(u=n.transitionOverride);const d=o?()=>Promise.all(rC(e,o,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:h,staggerDirection:x}=u;return c4(e,t,m+f,h,x,n)}:()=>Promise.resolve(),{when:c}=u;if(c){const[f,m]=c==="beforeChildren"?[d,l]:[l,d];return f().then(()=>m())}else return Promise.all([d(),l(n.delay)])}function c4(e,t,n=0,s=0,o=1,u){const d=[],l=(e.variantChildren.size-1)*s,c=o===1?(f=0)=>f*s:(f=0)=>l-f*s;return Array.from(e.variantChildren).sort(u4).forEach((f,m)=>{f.notify("AnimationStart",t),d.push(Nm(f,t,{...u,delay:n+c(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(d)}function u4(e,t){return e.sortNodePosition(t)}function d4(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Nm(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=Nm(e,t,n);else{const o=typeof t=="function"?Qu(e,t,n.custom):t;s=Promise.all(rC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const h4=xp.length;function nC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<h4;n++){const s=xp[n],o=e.props[s];(tl(o)||o===!1)&&(t[s]=o)}return t}const f4=[...gp].reverse(),m4=gp.length;function p4(e){return t=>Promise.all(t.map(({animation:n,options:s})=>d4(e,n,s)))}function g4(e){let t=p4(e),n=gy(),s=!0;const o=c=>(f,m)=>{var h;const x=Qu(e,m,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(x){const{transition:w,transitionEnd:k,..._}=x;f={...f,..._,...k}}return f};function u(c){t=c(e)}function d(c){const{props:f}=e,m=nC(e.parent)||{},h=[],x=new Set;let w={},k=1/0;for(let v=0;v<m4;v++){const b=f4[v],g=n[b],y=f[b]!==void 0?f[b]:m[b],j=tl(y),E=b===c?g.isActive:null;E===!1&&(k=v);let P=y===m[b]&&y!==f[b]&&j;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...w},!g.isActive&&E===null||!y&&!g.prevProp||Xu(y)||typeof y=="boolean")continue;const T=x4(g.prevProp,y);let N=T||b===c&&g.isActive&&!P&&j||v>k&&j,R=!1;const I=Array.isArray(y)?y:[y];let O=I.reduce(o(b),{});E===!1&&(O={});const{prevResolvedValues:B={}}=g,$={...B,...O},Y=G=>{N=!0,x.has(G)&&(R=!0,x.delete(G)),g.needsAnimating[G]=!0;const U=e.getValue(G);U&&(U.liveStyle=!1)};for(const G in $){const U=O[G],L=B[G];if(w.hasOwnProperty(G))continue;let M=!1;xm(U)&&xm(L)?M=!g_(U,L):M=U!==L,M?U!=null?Y(G):x.add(G):U!==void 0&&x.has(G)?Y(G):g.protectedKeys[G]=!0}g.prevProp=y,g.prevResolvedValues=O,g.isActive&&(w={...w,...O}),s&&e.blockInitialAnimation&&(N=!1),N&&(!(P&&T)||R)&&h.push(...I.map(G=>({animation:G,options:{type:b}})))}if(x.size){const v={};x.forEach(b=>{const g=e.getBaseTarget(b),y=e.getValue(b);y&&(y.liveStyle=!0),v[b]=g??null}),h.push({animation:v})}let _=!!h.length;return s&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(_=!1),s=!1,_?t(h):Promise.resolve()}function l(c,f){var m;if(n[c].isActive===f)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(c,f)}),n[c].isActive=f;const h=d(c);for(const x in n)n[x].protectedKeys={};return h}return{animateChanges:d,setActive:l,setAnimateFunction:u,getState:()=>n,reset:()=>{n=gy(),s=!0}}}function x4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!g_(t,e):!1}function Ai(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gy(){return{animate:Ai(!0),whileInView:Ai(),whileHover:Ai(),whileTap:Ai(),whileDrag:Ai(),whileFocus:Ai(),exit:Ai()}}class di{constructor(t){this.isMounted=!1,this.node=t}update(){}}class v4 extends di{constructor(t){super(t),t.animationState||(t.animationState=g4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let y4=0;class b4 extends di{constructor(){super(...arguments),this.id=y4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const w4={animation:{Feature:v4},exit:{Feature:b4}};function il(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Cl(e){return{point:{x:e.pageX,y:e.pageY}}}const _4=e=>t=>Rp(t)&&e(t,Cl(t));function Ya(e,t,n,s){return il(e,t,_4(n),s)}const xy=(e,t)=>Math.abs(e-t);function C4(e,t){const n=xy(e.x,t.x),s=xy(e.y,t.y);return Math.sqrt(n**2+s**2)}class sC{constructor(t,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=C4(h.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:k}=h,{timestamp:_}=kr;this.history.push({...k,timestamp:_});const{onStart:v,onMove:b}=this.handlers;x||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Rf(x,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:w,onSessionEnd:k,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Mf(h.type==="pointercancel"?this.lastMoveEventInfo:Rf(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(h,v),k&&k(h,v)},!Rp(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const d=Cl(t),l=Rf(d,this.transformPagePoint),{point:c}=l,{timestamp:f}=kr;this.history=[{...c,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Mf(l,this.history)),this.removeListeners=_l(Ya(this.contextWindow,"pointermove",this.handlePointerMove),Ya(this.contextWindow,"pointerup",this.handlePointerUp),Ya(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),si(this.updatePoint)}}function Rf(e,t){return t?{point:t(e.point)}:e}function vy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mf({point:e},t){return{point:e,delta:vy(e,iC(t)),offset:vy(e,S4(t)),velocity:k4(t,.1)}}function S4(e){return e[0]}function iC(e){return e[e.length-1]}function k4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=iC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>_s(t)));)n--;if(!s)return{x:0,y:0};const u=Cs(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const d={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const oC=1e-4,j4=1-oC,N4=1+oC,aC=.01,E4=0-aC,P4=0+aC;function fn(e){return e.max-e.min}function A4(e,t,n){return Math.abs(e-t)<=n}function yy(e,t,n,s=.5){e.origin=s,e.originPoint=Qt(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=Qt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=j4&&e.scale<=N4||isNaN(e.scale))&&(e.scale=1),(e.translate>=E4&&e.translate<=P4||isNaN(e.translate))&&(e.translate=0)}function Xa(e,t,n,s){yy(e.x,t.x,n.x,s?s.originX:void 0),yy(e.y,t.y,n.y,s?s.originY:void 0)}function by(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function T4(e,t,n){by(e.x,t.x,n.x),by(e.y,t.y,n.y)}function wy(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Ja(e,t,n){wy(e.x,t.x,n.x),wy(e.y,t.y,n.y)}function R4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Qt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Qt(n,e,s.max):Math.min(e,n)),e}function _y(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function M4(e,{top:t,left:n,bottom:s,right:o}){return{x:_y(e.x,n,o),y:_y(e.y,t,s)}}function Cy(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function D4(e,t){return{x:Cy(e.x,t.x),y:Cy(e.y,t.y)}}function L4(e,t){let n=.5;const s=fn(e),o=fn(t);return o>s?n=Lo(t.min,t.max-s,e.min):s>o&&(n=Lo(e.min,e.max-o,t.min)),Ss(0,1,n)}function I4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Em=.35;function O4(e=Em){return e===!1?e=0:e===!0&&(e=Em),{x:Sy(e,"left","right"),y:Sy(e,"top","bottom")}}function Sy(e,t,n){return{min:ky(e,t),max:ky(e,n)}}function ky(e,t){return typeof e=="number"?e:e[t]||0}const jy=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:jy(),y:jy()}),Ny=()=>({min:0,max:0}),nr=()=>({x:Ny(),y:Ny()});function Cn(e){return[e("x"),e("y")]}function lC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function B4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function F4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Df(e){return e===void 0||e===1}function Pm({scale:e,scaleX:t,scaleY:n}){return!Df(e)||!Df(t)||!Df(n)}function Ri(e){return Pm(e)||cC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cC(e){return Ey(e.x)||Ey(e.y)}function Ey(e){return e&&e!=="0%"}function Pu(e,t,n){const s=e-n,o=t*s;return n+o}function Py(e,t,n,s,o){return o!==void 0&&(e=Pu(e,o,s)),Pu(e,n,s)+t}function Am(e,t=0,n=1,s,o){e.min=Py(e.min,t,n,s,o),e.max=Py(e.max,t,n,s,o)}function uC(e,{x:t,y:n}){Am(e.x,t.translate,t.scale,t.originPoint),Am(e.y,n.translate,n.scale,n.originPoint)}const Ay=.999999999999,Ty=1.0000000000001;function $4(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,d;for(let l=0;l<o;l++){u=n[l],d=u.projectionDelta;const{visualElement:c}=u.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Eo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,uC(e,d)),s&&Ri(u.latestValues)&&Eo(e,u.latestValues))}t.x<Ty&&t.x>Ay&&(t.x=1),t.y<Ty&&t.y>Ay&&(t.y=1)}function No(e,t){e.min=e.min+t,e.max=e.max+t}function Ry(e,t,n,s,o=.5){const u=Qt(e.min,e.max,o);Am(e,t,n,u,s)}function Eo(e,t){Ry(e.x,t.x,t.scaleX,t.scale,t.originX),Ry(e.y,t.y,t.scaleY,t.scale,t.originY)}function dC(e,t){return lC(F4(e.getBoundingClientRect(),t))}function z4(e,t,n){const s=dC(e,n),{scroll:o}=t;return o&&(No(s.x,o.offset.x),No(s.y,o.offset.y)),s}const hC=({current:e})=>e?e.ownerDocument.defaultView:null,H4=new WeakMap;class W4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cl(m).point)},u=(m,h)=>{const{drag:x,dragPropagation:w,onDragStart:k}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LA(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(v=>{let b=this.getAxisMotionValue(v).get()||0;if(rs.test(b)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[v];y&&(b=fn(y)*(parseFloat(b)/100))}}this.originPoint[v]=b}),k&&zt.postRender(()=>k(m,h)),bm(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(m,h)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:k,onDrag:_}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=h;if(w&&this.currentDirection===null){this.currentDirection=V4(v),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),_&&_(m,h)},l=(m,h)=>this.stop(m,h),c=()=>Cn(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new sC(t,{onSessionStart:o,onStart:u,onMove:d,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:hC(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&zt.postRender(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Zc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(d=R4(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&So(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=M4(o.layoutBox,n):this.constraints=!1,this.elastic=O4(s),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Cn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=I4(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!So(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=z4(s,o.root,this.visualElement.getTransformPagePoint());let d=D4(o.layout.layoutBox,u);if(n){const l=n(B4(d));this.hasMutatedConstraints=!!l,l&&(d=lC(l))}return d}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=Cn(m=>{if(!Zc(m,n,this.currentDirection))return;let h=c&&c[m]||{};d&&(h={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,k={type:"inertia",velocity:s?t[m]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...h};return this.startAxisValueAnimation(m,k)});return Promise.all(f).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return bm(this.visualElement,t),s.start(Vp(t,s,0,n,this.visualElement,!1))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Cn(n=>{const{drag:s}=this.getProps();if(!Zc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:d,max:l}=o.layout.layoutBox[n];u.set(t[n]-Qt(d,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!So(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Cn(d=>{const l=this.getAxisMotionValue(d);if(l&&this.constraints!==!1){const c=l.get();o[d]=L4({min:c,max:c},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Cn(d=>{if(!Zc(d,t,null))return;const l=this.getAxisMotionValue(d),{min:c,max:f}=this.constraints[d];l.set(Qt(c,f,o[d]))})}addListeners(){if(!this.visualElement.current)return;H4.set(this.visualElement,this);const t=this.visualElement.current,n=Ya(t,"pointerdown",c=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();So(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),zt.read(s);const d=il(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Cn(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=c[m].translate,h.set(h.get()+c[m].translate))}),this.visualElement.render())}));return()=>{d(),n(),u(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:d=Em,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:d,dragMomentum:l}}}function Zc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function V4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U4 extends di{constructor(t){super(t),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new W4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const My=e=>(t,n)=>{e&&zt.postRender(()=>e(t,n))};class G4 extends di{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(t){this.session=new sC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:My(t),onStart:My(n),onMove:s,onEnd:(u,d)=>{delete this.session,o&&zt.postRender(()=>o(u,d))}}}mount(){this.removePointerDownListener=Ya(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const La={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tt.test(e))e=parseFloat(e);else return e;const n=Dy(e,t.target.x),s=Dy(e,t.target.y);return`${n}% ${s}%`}},K4={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=ii.parse(e);if(o.length>5)return s;const u=ii.createTransformer(e),d=typeof o[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;o[0+d]/=l,o[1+d]/=c;const f=Qt(l,c,.5);return typeof o[2+d]=="number"&&(o[2+d]/=f),typeof o[3+d]=="number"&&(o[3+d]/=f),u(o)}};class q4 extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;mA(Y4),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,d=s.projection;return d&&(d.isPresent=u,o||t.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||zt.postRender(()=>{const l=d.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fC(e){const[t,n]=qw(),s=C.useContext(dp);return r.jsx(q4,{...e,layoutGroup:s,switchLayoutGroup:C.useContext(n_),isPresent:t,safeToRemove:n})}const Y4={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:K4};function X4(e,t,n){const s=Br(e)?e:nl(e);return s.start(Vp("",s,t,n)),s.animation}function J4(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Q4=(e,t)=>e.depth-t.depth;class Z4{constructor(){this.children=[],this.isDirty=!1}add(t){Mp(this.children,t),this.isDirty=!0}remove(t){Dp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Q4),this.isDirty=!1,this.children.forEach(t)}}function eR(e,t){const n=ns.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(si(s),e(u-t))};return zt.read(s,!0),()=>si(s)}const mC=["TopLeft","TopRight","BottomLeft","BottomRight"],tR=mC.length,Ly=e=>typeof e=="string"?parseFloat(e):e,Iy=e=>typeof e=="number"||tt.test(e);function rR(e,t,n,s,o,u){o?(e.opacity=Qt(0,n.opacity!==void 0?n.opacity:1,nR(s)),e.opacityExit=Qt(t.opacity!==void 0?t.opacity:1,0,sR(s))):u&&(e.opacity=Qt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let d=0;d<tR;d++){const l=`border${mC[d]}Radius`;let c=Oy(t,l),f=Oy(n,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||Iy(c)===Iy(f)?(e[l]=Math.max(Qt(Ly(c),Ly(f),s),0),(rs.test(f)||rs.test(c))&&(e[l]+="%")):e[l]=f}(t.rotate||n.rotate)&&(e.rotate=Qt(t.rotate||0,n.rotate||0,s))}function Oy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nR=pC(0,.5,M_),sR=pC(.5,.95,dn);function pC(e,t,n){return s=>s<e?0:s>t?1:n(Lo(e,t,s))}function By(e,t){e.min=t.min,e.max=t.max}function _n(e,t){By(e.x,t.x),By(e.y,t.y)}function Fy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $y(e,t,n,s,o){return e-=t,e=Pu(e,1/n,s),o!==void 0&&(e=Pu(e,1/o,s)),e}function iR(e,t=0,n=1,s=.5,o,u=e,d=e){if(rs.test(t)&&(t=parseFloat(t),t=Qt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let l=Qt(u.min,u.max,s);e===u&&(l-=t),e.min=$y(e.min,t,n,l,o),e.max=$y(e.max,t,n,l,o)}function zy(e,t,[n,s,o],u,d){iR(e,t[n],t[s],t[o],t.scale,u,d)}const oR=["x","scaleX","originX"],aR=["y","scaleY","originY"];function Hy(e,t,n,s){zy(e.x,t,oR,n?n.x:void 0,s?s.x:void 0),zy(e.y,t,aR,n?n.y:void 0,s?s.y:void 0)}function Wy(e){return e.translate===0&&e.scale===1}function gC(e){return Wy(e.x)&&Wy(e.y)}function Vy(e,t){return e.min===t.min&&e.max===t.max}function lR(e,t){return Vy(e.x,t.x)&&Vy(e.y,t.y)}function Uy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xC(e,t){return Uy(e.x,t.x)&&Uy(e.y,t.y)}function Gy(e){return fn(e.x)/fn(e.y)}function Ky(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cR{constructor(){this.members=[]}add(t){Mp(this.members,t),t.scheduleRender()}remove(t){if(Dp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uR(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((o||u||d)&&(s=`translate3d(${o}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:h,rotateY:x,skewX:w,skewY:k}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),h&&(s+=`rotateX(${h}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),k&&(s+=`skewY(${k}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ua=typeof window<"u"&&window.MotionDebug!==void 0,Lf=["","X","Y","Z"],dR={visibility:"hidden"},qy=1e3;let hR=0;function If(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function vC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=j_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&vC(s)}function yC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(d={},l=t==null?void 0:t()){this.id=hR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ua&&(Mi.totalNodes=Mi.resolvedTargetDeltas=Mi.recalculatedProjection=0),this.nodes.forEach(pR),this.nodes.forEach(bR),this.nodes.forEach(wR),this.nodes.forEach(gR),Ua&&window.MotionDebug.record(Mi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z4)}addEventListener(d,l){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Lp),this.eventHandlers.get(d).add(l)}notifyListeners(d,...l){const c=this.eventHandlers.get(d);c&&c.notify(...l)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=J4(d),this.instance=d;const{layoutId:c,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||c)&&(this.isLayoutDirty=!0),e){let h;const x=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=eR(x,250),pu.hasAnimatedSinceResize&&(pu.hasAnimatedSinceResize=!1,this.nodes.forEach(Xy))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeTargetChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||jR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=m.getProps(),g=!this.targetLayout||!xC(this.targetLayout,k)||w,y=!x&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||x&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const j={...Pp(_,"layout"),onPlay:v,onComplete:b};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else x||Xy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_R),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yy);return}this.isUpdating||this.nodes.forEach(vR),this.isUpdating=!1,this.nodes.forEach(yR),this.nodes.forEach(fR),this.nodes.forEach(mR),this.clearAllSnapshots();const l=ns.now();kr.delta=Ss(0,1e3/60,l-kr.timestamp),kr.timestamp=l,kr.isProcessing=!0,jf.update.process(kr),jf.preRender.process(kr),jf.render.process(kr),kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xR),this.sharedNodes.forEach(CR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gC(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;d&&(l||Ri(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return d&&(c=this.removeTransform(c)),NR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return nr();const c=l.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(ER))){const{scroll:m}=this.root;m&&(No(c.x,m.offset.x),No(c.y,m.offset.y))}return c}removeElementScroll(d){var l;const c=nr();if(_n(c,d),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:h,options:x}=m;m!==this.root&&h&&x.layoutScroll&&(h.wasRoot&&_n(c,d),No(c.x,h.offset.x),No(c.y,h.offset.y))}return c}applyTransform(d,l=!1){const c=nr();_n(c,d);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Eo(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ri(m.latestValues)&&Eo(c,m.latestValues)}return Ri(this.latestValues)&&Eo(c,this.latestValues),c}removeTransform(d){const l=nr();_n(l,d);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Ri(f.latestValues))continue;Pm(f.latestValues)&&f.updateSnapshot();const m=nr(),h=f.measurePageBox();_n(m,h),Hy(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ri(this.latestValues)&&Hy(l,this.latestValues),l}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(d||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=kr.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Ja(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),uC(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Ja(this.relativeTargetOrigin,this.target,w.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ua&&Mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pm(this.parent.latestValues)||cC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===kr.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;_n(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;$4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nr());const{target:k}=l;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fy(this.prevProjectionDelta.x,this.projectionDelta.x),Fy(this.prevProjectionDelta.y,this.projectionDelta.y)),Xa(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!Ky(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ky(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Ua&&Mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),d){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(d,l=!1){const c=this.snapshot,f=c?c.latestValues:{},m={...this.latestValues},h=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=nr(),w=c?c.source:void 0,k=this.layout?this.layout.source:void 0,_=w!==k,v=this.getStack(),b=!v||v.members.length<=1,g=!!(_&&!b&&this.options.crossfade===!0&&!this.path.some(kR));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const E=j/1e3;Jy(h.x,d.x,E),Jy(h.y,d.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ja(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SR(this.relativeTarget,this.relativeTargetOrigin,x,E),y&&lR(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=nr()),_n(y,this.relativeTarget)),_&&(this.animationValues=m,rR(m,f,this.latestValues,E,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{pu.hasAnimatedSinceResize=!0,this.currentAnimation=X4(0,qy,{...d,onUpdate:l=>{this.mixTargetDelta(l),d.onUpdate&&d.onUpdate(l)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:m}=d;if(!(!l||!c||!f)){if(this!==d&&this.layout&&f&&bC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||nr();const h=fn(this.layout.layoutBox.x);c.x.min=d.target.x.min,c.x.max=c.x.min+h;const x=fn(this.layout.layoutBox.y);c.y.min=d.target.y.min,c.y.max=c.y.min+x}_n(l,c),Eo(l,m),Xa(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(d,l){this.sharedNodes.has(d)||this.sharedNodes.set(d,new cR),this.sharedNodes.get(d).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),d&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let l=!1;const{latestValues:c}=d;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const f={};c.z&&If("z",d,f,this.animationValues);for(let m=0;m<Lf.length;m++)If(`rotate${Lf[m]}`,d,f,this.animationValues),If(`skew${Lf[m]}`,d,f,this.animationValues);d.render();for(const m in f)d.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);d.scheduleRender()}getProjectionStyles(d){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dR;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=fu(d==null?void 0:d.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=fu(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(_.transform=m?m({},""):"none",this.hasProjected=!1),_}const x=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=uR(this.projectionDeltaWithTransform,this.treeScale,x),m&&(f.transform=m(x,f.transform));const{x:w,y:k}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,h.animationValues?f.opacity=h===this?(c=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=h===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const _ in Su){if(x[_]===void 0)continue;const{correct:v,applyTo:b}=Su[_],g=f.transform==="none"?x[_]:v(x[_],h);if(b){const y=b.length;for(let j=0;j<y;j++)f[b[j]]=g}else f[_]=g}return this.options.layoutId&&(f.pointerEvents=h===this?fu(d==null?void 0:d.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var l;return(l=d.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Yy),this.root.sharedNodes.clear()}}}function fR(e){e.updateLayout()}function mR(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:u}=e.options,d=n.source!==e.layout.source;u==="size"?Cn(h=>{const x=d?n.measuredBox[h]:n.layoutBox[h],w=fn(x);x.min=s[h].min,x.max=x.min+w}):bC(u,n.layoutBox,s)&&Cn(h=>{const x=d?n.measuredBox[h]:n.layoutBox[h],w=fn(s[h]);x.max=x.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+w)});const l=jo();Xa(l,s,n.layoutBox);const c=jo();d?Xa(c,e.applyTransform(o,!0),n.measuredBox):Xa(c,s,n.layoutBox);const f=!gC(l);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:w}=h;if(x&&w){const k=nr();Ja(k,n.layoutBox,x.layoutBox);const _=nr();Ja(_,s,w.layoutBox),xC(k,_)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=k,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function pR(e){Ua&&Mi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xR(e){e.clearSnapshot()}function Yy(e){e.clearMeasurements()}function vR(e){e.isLayoutDirty=!1}function yR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bR(e){e.resolveTargetDelta()}function wR(e){e.calcProjection()}function _R(e){e.resetSkewAndRotation()}function CR(e){e.removeLeadSnapshot()}function Jy(e,t,n){e.translate=Qt(t.translate,0,n),e.scale=Qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qy(e,t,n,s){e.min=Qt(t.min,n.min,s),e.max=Qt(t.max,n.max,s)}function SR(e,t,n,s){Qy(e.x,t.x,n.x,s),Qy(e.y,t.y,n.y,s)}function kR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jR={duration:.45,ease:[.4,0,.1,1]},Zy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eb=Zy("applewebkit/")&&!Zy("chrome/")?Math.round:dn;function tb(e){e.min=eb(e.min),e.max=eb(e.max)}function NR(e){tb(e.x),tb(e.y)}function bC(e,t,n){return e==="position"||e==="preserve-aspect"&&!A4(Gy(t),Gy(n),.2)}function ER(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const PR=yC({attachResizeListener:(e,t)=>il(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Of={current:void 0},wC=yC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Of.current){const e=new PR({});e.mount(window),e.setOptions({layoutScroll:!0}),Of.current=e}return Of.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),AR={pan:{Feature:G4},drag:{Feature:U4,ProjectionNode:wC,MeasureLayout:fC}};function rb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&zt.postRender(()=>u(t,Cl(t)))}class TR extends di{mount(){const{current:t}=this.node;t&&(this.unmount=AA(t,n=>(rb(this.node,n,"Start"),s=>rb(this.node,s,"End"))))}unmount(){}}class RR extends di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_l(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nb(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&zt.postRender(()=>u(t,Cl(t)))}class MR extends di{mount(){const{current:t}=this.node;t&&(this.unmount=DA(t,n=>(nb(this.node,n,"Start"),(s,{success:o})=>nb(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tm=new WeakMap,Bf=new WeakMap,DR=e=>{const t=Tm.get(e.target);t&&t(e)},LR=e=>{e.forEach(DR)};function IR({root:e,...t}){const n=e||document;Bf.has(n)||Bf.set(n,{});const s=Bf.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(LR,{root:e,...t})),s[o]}function OR(e,t,n){const s=IR(t);return Tm.set(e,n),s.observe(e),()=>{Tm.delete(e),s.unobserve(e)}}const BR={some:0,all:1};class FR extends di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,d={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:BR[o]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,u&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),x=f?m:h;x&&x(c)};return OR(this.node.current,d,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($R(t,n))&&this.startObserver()}unmount(){}}function $R({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zR={inView:{Feature:FR},tap:{Feature:MR},focus:{Feature:RR},hover:{Feature:TR}},HR={layout:{ProjectionNode:wC,MeasureLayout:fC}},Rm={current:null},_C={current:!1};function WR(){if(_C.current=!0,!!mp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rm.current=e.matches;e.addListener(t),t()}else Rm.current=!1}const VR=[...K_,Ir,ii],UR=e=>VR.find(G_(e)),sb=new WeakMap;function GR(e,t,n){for(const s in t){const o=t[s],u=n[s];if(Br(o))e.addValue(s,o);else if(Br(u))e.addValue(s,nl(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const d=e.getValue(s);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(s);e.addValue(s,nl(d!==void 0?d:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KR{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:d},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ns.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,zt.render(this.render,!1,!0))};const{latestValues:c,renderState:f,onUpdate:m}=d;this.onUpdate=m,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=!!u,this.isControllingVariants=Ju(n),this.isVariantNode=t_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in x){const k=x[w];c[w]!==void 0&&Br(k)&&k.set(c[w],!1)}}mount(t){this.current=t,sb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),_C.current||WR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sb.delete(this.current),this.projection&&this.projection.unmount(),si(this.notifyUpdate),si(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ui.has(t),o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),d&&d(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Io){const n=Io[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ib.length;s++){const o=ib[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,d=t[u];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=GR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=nl(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(V_(o)||L_(o))?o=parseFloat(o):!UR(o)&&ii.test(n)&&(o=z_(t,n)),this.setBaseTarget(t,Br(o)?o.get():o)),Br(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const d=wp(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(o=d[t])}if(s&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Br(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class CC extends KR{constructor(){super(...arguments),this.KeyframeResolver=q_}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Br(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qR(e){return window.getComputedStyle(e)}class YR extends CC{constructor(){super(...arguments),this.type="html",this.renderInstance=u_}readValueFromInstance(t,n){if(Ui.has(n)){const s=$p(n);return s&&s.default||0}else{const s=qR(t),o=(a_(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dC(t,n)}build(t,n,s){Sp(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ep(t,n,s)}}class XR extends CC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ui.has(n)){const s=$p(n);return s&&s.default||0}return n=d_.has(n)?n:vp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return m_(t,n,s)}build(t,n,s){kp(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,o){h_(t,n,s,o)}mount(t){this.isSVGTag=Np(t.tagName),super.mount(t)}}const JR=(e,t)=>bp(e)?new XR(t):new YR(t,{allowProjection:e!==C.Fragment}),QR=CA({...w4,...zR,...AR,...HR},JR),Po=BP(QR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...l},c)=>C.createElement("svg",{ref:c,...eM,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:SC("lucide",o),...l},[...d.map(([f,m])=>C.createElement(f,m)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=C.forwardRef(({className:s,...o},u)=>C.createElement(tM,{ref:u,iconNode:t,className:SC(`lucide-${ZR(e)}`,s),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nM=Re("Activity",rM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],iM=Re("ArrowLeftRight",sM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Up=Re("ArrowRight",oM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Oi=Re("BookOpen",aM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],cM=Re("Bot",lM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Bi=Re("Brain",uM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],kC=Re("Building2",dM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jC=Re("ChartColumn",hM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jt=Re("Check",fM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yr=Re("ChevronDown",mM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gM=Re("ChevronLeft",pM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wr=Re("ChevronRight",xM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yM=Re("ChevronUp",vM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ks=Re("CircleAlert",bM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ol=Re("CircleCheck",wM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ed=Re("CircleHelp",_M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Au=Re("CircleX",CM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kM=Re("Circle",SM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],NM=Re("Clipboard",jM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gu=Re("Clock",EM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],AM=Re("Code",PM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],al=Re("Copy",TM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],MM=Re("Cpu",RM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Sl=Re("Download",DM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],IM=Re("EllipsisVertical",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],BM=Re("Ellipsis",OM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xu=Re("ExternalLink",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NC=Re("EyeOff",$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gp=Re("Eye",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],td=Re("FileCode",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],Kp=Re("FilePen",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Er=Re("FileText",VM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Mm=Re("File",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],EC=Re("Filter",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],qM=Re("FolderMinus",KM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oi=Re("FolderOpen",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Li=Re("FolderPlus",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],ob=Re("FolderTree",JM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jr=Re("Folder",QM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],PC=Re("GitBranch",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],t5=Re("Github",e5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fi=Re("Globe",r5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Tu=Re("GraduationCap",n5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ru=Re("History",s5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qp=Re("House",i5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rd=Re("Info",o5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],l5=Re("Keyboard",a5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ti=Re("Layers",c5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],at=Re("LoaderCircle",u5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M5 12h14",key:"1ays0h"}]],h5=Re("Minus",d5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],AC=Re("Monitor",f5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ab=Re("Moon",m5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],TC=Re("Move",p5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],is=Re("Package",g5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],v5=Re("Palette",x5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],b5=Re("PanelsTopLeft",y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],RC=Re("Pause",w5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],MC=Re("PenLine",_5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lb=Re("Pen",C5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yp=Re("Pencil",S5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],DC=Re("Play",k5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],Bo=Re("Plug",j5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wt=Re("Plus",N5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],P5=Re("PowerOff",E5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],cb=Re("Power",A5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],$i=Re("Puzzle",T5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ll=Re("RefreshCcw",R5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],br=Re("RefreshCw",M5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],kl=Re("Rocket",D5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],I5=Re("RotateCcw",L5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hi=Re("Save",O5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jl=Re("Search",B5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],En=Re("Server",F5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Dm=Re("Settings2",$5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pn=Re("Settings",z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cs=Re("Shield",H5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ut=Re("Sparkles",W5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],U5=Re("Star",V5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],eu=Re("Store",G5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ub=Re("Sun",K5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],It=Re("Terminal",q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],mn=Re("Trash2",Y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nd=Re("TriangleAlert",X5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Lm=Re("Upload",J5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],kn=Re("WandSparkles",Q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],LC=Re("Workflow",Z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],IC=Re("Wrench",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ri=Re("X",tD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nl=Re("Zap",rD),nD="/api";async function xe(e,t={}){const n=`${nD}${e}`,s={headers:{"Content-Type":"application/json"},...t};t.body&&typeof t.body=="object"&&(s.body=JSON.stringify(t.body));const o=await fetch(n,s);if(!o.ok){const u=await o.json().catch(()=>({error:"Request failed"}));throw new Error(u.error||`HTTP ${o.status}`)}return o.json()}const ve={async getProject(){return xe("/project")},async getSubprojects(e){return xe(`/subprojects?dir=${encodeURIComponent(e)}`)},async addManualSubproject(e,t){return xe("/subprojects/add",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async removeManualSubproject(e,t){return xe("/subprojects/remove",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async hideSubproject(e,t){return xe("/subprojects/hide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async unhideSubproject(e,t){return xe("/subprojects/unhide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async getHiddenSubprojects(e){return xe(`/subprojects/hidden?dir=${encodeURIComponent(e)}`)},async switchProject(e){return xe("/switch-project",{method:"POST",body:{dir:e}})},async getProjects(){return xe("/projects")},async addProject(e,t=null,n=!1){return xe("/projects",{method:"POST",body:{path:e,name:t,runClaudeInit:n}})},async removeProject(e){return xe(`/projects/${e}`,{method:"DELETE"})},async updateProject(e,t){return xe(`/projects/${e}`,{method:"PUT",body:t})},async setActiveProject(e){return xe("/projects/active",{method:"PUT",body:{id:e}})},async getConfigs(){return xe("/configs")},async getInheritedMcps(e){return xe(`/configs/inherited?dir=${encodeURIComponent(e)}`)},async updateConfig(e,t){return xe("/config",{method:"PUT",body:{dir:e,config:t}})},async getRegistry(){return xe("/registry")},async updateRegistry(e){return xe("/registry",{method:"PUT",body:e})},async getRules(){return xe("/rules")},async getRule(e){return xe(`/rule?path=${encodeURIComponent(e)}`)},async saveRule(e,t){return xe("/rule",{method:"PUT",body:{path:e,content:t}})},async createRule(e,t,n=""){return xe("/rule",{method:"POST",body:{dir:e,name:t,content:n}})},async deleteRule(e){return xe(`/rule?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getCommands(){return xe("/commands")},async getCommand(e){return xe(`/command?path=${encodeURIComponent(e)}`)},async saveCommand(e,t){return xe("/command",{method:"PUT",body:{path:e,content:t}})},async createCommand(e,t,n=""){return xe("/command",{method:"POST",body:{dir:e,name:t,content:n}})},async deleteCommand(e){return xe(`/command?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async applyConfig(e){return xe("/apply",{method:"POST",body:{dir:e}})},async getEnv(e){return xe(`/env?dir=${encodeURIComponent(e)}`)},async saveEnv(e,t){return xe("/env",{method:"PUT",body:{dir:e,content:t}})},async getFileHashes(){return xe("/file-hashes")},async checkVersion(){return xe("/version-check")},async performUpdate(e){return xe("/update",{method:"POST",body:e})},async reload(){return xe("/reload",{method:"POST"})},async restartServer(){return xe("/restart",{method:"POST"})},async searchGithub(e){return xe(`/search/github?q=${encodeURIComponent(e)}`)},async searchNpm(e){return xe(`/search/npm?q=${encodeURIComponent(e)}`)},async getMcpTools(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return xe(`/mcp-tools${t}`)},async getMcpServerTools(e=null){const t=e?`?server=${encodeURIComponent(e)}`:"";return xe(`/mcp-server-tools${t}`)},async clearMcpToolsCache(e=null){const t=e?`?server=${encodeURIComponent(e)}`:"";return xe(`/mcp-server-tools${t}`,{method:"DELETE"})},async getClaudeFolders(){return xe("/claude-folders")},async getIntermediatePaths(){return xe("/intermediate-paths")},async getClaudeFile(e){return xe(`/claude-file?path=${encodeURIComponent(e)}`)},async saveClaudeFile(e,t){return xe("/claude-file",{method:"PUT",body:{path:e,content:t}})},async deleteClaudeFile(e){return xe(`/claude-file?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async createClaudeFile(e,t,n,s=""){return xe("/claude-file",{method:"POST",body:{dir:e,name:t,type:n,content:s}})},async initClaudeFolder(e){return xe("/init-claude-folder",{method:"POST",body:{dir:e}})},async deleteClaudeFolder(e){return xe("/delete-claude-folder",{method:"POST",body:{dir:e}})},async initClaudeFolderBatch(e){return xe("/init-claude-folder-batch",{method:"POST",body:{dirs:e}})},async getSyncPreview(e,t="claude",n="antigravity"){return xe("/sync/preview",{method:"POST",body:{dir:e,source:t,target:n}})},async syncRules(e,t="claude",n="antigravity",s=null){return xe("/sync/rules",{method:"POST",body:{dir:e,source:t,target:n,files:s}})},async moveClaudeItem(e,t,n="copy",s=!1){return xe("/claude-move",{method:"POST",body:{sourcePath:e,targetDir:t,mode:n,merge:s}})},async renameClaudeFile(e,t){return xe("/claude-rename",{method:"POST",body:{oldPath:e,newName:t}})},async getMemory(){return xe("/memory")},async getMemoryFile(e){return xe(`/memory/file?path=${encodeURIComponent(e)}`)},async saveMemoryFile(e,t){return xe("/memory/file",{method:"PUT",body:{path:e,content:t}})},async addMemoryEntry(e,t,n="global"){return xe("/memory/entry",{method:"POST",body:{type:e,content:t,scope:n}})},async initProjectMemory(e){return xe("/memory/init",{method:"POST",body:{dir:e}})},async searchMemory(e){return xe(`/memory/search?q=${encodeURIComponent(e)}`)},async getSyncState(){return xe("/memory/sync")},async getClaudeSettings(){return xe("/claude-settings")},async saveClaudeSettings(e){return xe("/claude-settings",{method:"PUT",body:{settings:e}})},async getGeminiSettings(){return xe("/gemini-settings")},async saveGeminiSettings(e){return xe("/gemini-settings",{method:"PUT",body:e})},async getAntigravitySettings(){return xe("/antigravity-settings")},async saveAntigravitySettings(e){return xe("/antigravity-settings",{method:"PUT",body:e})},async getCodexSettings(){return xe("/codex-settings")},async saveCodexSettings(e,t=void 0){return xe("/codex-settings",{method:"PUT",body:t!==void 0?{raw:t}:{settings:e}})},async getConfig(){return xe("/preferences")},async saveConfig(e){return xe("/preferences",{method:"PUT",body:e})},async browse(e,t="directory"){return xe("/browse",{method:"POST",body:{path:e,type:t}})},async getVersion(){return xe("/version")},async getChangelog(){return xe("/changelog")},async restartServer(){return xe("/restart",{method:"POST"})},async getPlugins(){return xe("/plugins")},async installPlugin(e,t,n="user",s=null){return xe("/plugins/install",{method:"POST",body:{pluginId:e,marketplace:t,scope:n,projectDir:s}})},async uninstallPlugin(e){return xe("/plugins/uninstall",{method:"POST",body:{pluginId:e}})},async getEnabledPlugins(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return xe(`/plugins/enabled${t}`)},async setPluginEnabled(e,t,n){return xe("/plugins/enabled",{method:"POST",body:{dir:e,pluginId:t,enabled:n}})},async getMarketplaces(){return xe("/plugins/marketplaces")},async addMarketplace(e,t){return xe("/plugins/marketplaces",{method:"POST",body:{name:e,repo:t}})},async refreshMarketplace(e){return xe("/plugins/marketplaces/refresh",{method:"POST",body:{name:e}})},async getWorkstreams(){return xe("/workstreams")},async getActiveWorkstream(){return xe("/workstreams/active")},async setActiveWorkstream(e){return xe("/workstreams/active",{method:"PUT",body:{id:e}})},async createWorkstream(e,t=[],n=""){return xe("/workstreams",{method:"POST",body:{name:e,projects:t,rules:n}})},async updateWorkstream(e,t){return xe(`/workstreams/${e}`,{method:"PUT",body:t})},async deleteWorkstream(e){return xe(`/workstreams/${e}`,{method:"DELETE"})},async addProjectToWorkstream(e,t){return xe(`/workstreams/${e}/add-project`,{method:"POST",body:{projectPath:t}})},async removeProjectFromWorkstream(e,t){return xe(`/workstreams/${e}/remove-project`,{method:"POST",body:{projectPath:t}})},async injectWorkstream(){return xe("/workstreams/inject")},async detectWorkstream(e){return xe("/workstreams/detect",{method:"POST",body:{dir:e}})},async getWorkstreamHookStatus(){return xe("/workstreams/hook-status")},async installWorkstreamHook(){return xe("/workstreams/install-hook",{method:"POST"})},async generateWorkstreamRules(e){return xe("/workstreams/generate-rules",{method:"POST",body:{projects:e}})},async getLoops(){return xe("/loops")},async getActiveLoop(){return xe("/loops/active")},async getLoop(e){return xe(`/loops/${e}`)},async createLoop(e,t={}){return xe("/loops",{method:"POST",body:{task:e,...t}})},async updateLoop(e,t){return xe(`/loops/${e}`,{method:"PUT",body:t})},async deleteLoop(e){return xe(`/loops/${e}`,{method:"DELETE"})},async startLoop(e){return xe(`/loops/${e}/start`,{method:"POST"})},async pauseLoop(e){return xe(`/loops/${e}/pause`,{method:"POST"})},async resumeLoop(e){return xe(`/loops/${e}/resume`,{method:"POST"})},async cancelLoop(e){return xe(`/loops/${e}/cancel`,{method:"POST"})},async approveLoop(e){return xe(`/loops/${e}/approve`,{method:"POST"})},async completeLoop(e){return xe(`/loops/${e}/complete`,{method:"POST"})},async getLoopHistory(){return xe("/loops/history")},async getLoopConfig(){return xe("/loops/config")},async updateLoopConfig(e){return xe("/loops/config",{method:"PUT",body:e})},async saveClarifications(e,t){return xe(`/loops/${e}/clarifications`,{method:"POST",body:{content:t}})},async savePlan(e,t){return xe(`/loops/${e}/plan`,{method:"POST",body:{content:t}})},async recordIteration(e,t){return xe(`/loops/${e}/iteration`,{method:"POST",body:t})},async getLoopHookStatus(){return xe("/loops/hook-status")},async installLoopHooks(){return xe("/loops/install-hooks",{method:"POST"})},async getActivitySummary(){return xe("/activity")},async logActivity(e,t){return xe("/activity/log",{method:"POST",body:{files:e,sessionId:t}})},async getWorkstreamSuggestions(){return xe("/activity/suggestions")},async clearActivity(e=30){return xe("/activity",{method:"DELETE",body:{olderThanDays:e}})}};function db(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ps(...e){return t=>{let n=!1;const s=e.map(o=>{const u=db(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():db(e[o],null)}}}}function ct(...e){return C.useCallback(Ps(...e),e)}var sD=Symbol.for("react.lazy"),Mu=up[" use ".trim().toString()];function iD(e){return typeof e=="object"&&e!==null&&"then"in e}function OC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===sD&&"_payload"in e&&iD(e._payload)}function sd(e){const t=aD(e),n=C.forwardRef((s,o)=>{let{children:u,...d}=s;OC(u)&&typeof Mu=="function"&&(u=Mu(u._payload));const l=C.Children.toArray(u),c=l.find(cD);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}var oD=sd("Slot");function aD(e){const t=C.forwardRef((n,s)=>{let{children:o,...u}=n;if(OC(o)&&typeof Mu=="function"&&(o=Mu(o._payload)),C.isValidElement(o)){const d=dD(o),l=uD(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lD=Symbol("radix.slottable");function cD(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lD}function uD(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function dD(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function BC(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=BC(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function FC(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=BC(e))&&(s&&(s+=" "),s+=t);return s}const hb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fb=FC,id=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return fb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:u}=t,d=Object.keys(o).map(f=>{const m=n==null?void 0:n[f],h=u==null?void 0:u[f];if(m===null)return null;const x=hb(m)||hb(h);return o[f][x]}),l=n&&Object.entries(n).reduce((f,m)=>{let[h,x]=m;return x===void 0||(f[h]=x),f},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,m)=>{let{class:h,className:x,...w}=m;return Object.entries(w).every(k=>{let[_,v]=k;return Array.isArray(v)?v.includes({...u,...l}[_]):{...u,...l}[_]===v})?[...f,h,x]:f},[]);return fb(e,d,c,n==null?void 0:n.class,n==null?void 0:n.className)},hD=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},fD=(e,t)=>({classGroupId:e,validator:t}),$C=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Du="-",mb=[],mD="arbitrary..",pD=e=>{const t=xD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return gD(d);const l=d.split(Du),c=l[0]===""&&l.length>1?1:0;return zC(l,c,t)},getConflictingClassGroupIds:(d,l)=>{if(l){const c=s[d],f=n[d];return c?f?hD(f,c):c:f||mb}return n[d]||mb}}},zC=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],u=n.nextPart.get(o);if(u){const f=zC(e,t+1,u);if(f)return f}const d=n.validators;if(d===null)return;const l=t===0?e.join(Du):e.slice(t).join(Du),c=d.length;for(let f=0;f<c;f++){const m=d[f];if(m.validator(l))return m.classGroupId}},gD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?mD+s:void 0})(),xD=e=>{const{theme:t,classGroups:n}=e;return vD(n,t)},vD=(e,t)=>{const n=$C();for(const s in e){const o=e[s];Xp(o,n,s,t)}return n},Xp=(e,t,n,s)=>{const o=e.length;for(let u=0;u<o;u++){const d=e[u];yD(d,t,n,s)}},yD=(e,t,n,s)=>{if(typeof e=="string"){bD(e,t,n);return}if(typeof e=="function"){wD(e,t,n,s);return}_D(e,t,n,s)},bD=(e,t,n)=>{const s=e===""?t:HC(t,e);s.classGroupId=n},wD=(e,t,n,s)=>{if(CD(e)){Xp(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(fD(n,e))},_D=(e,t,n,s)=>{const o=Object.entries(e),u=o.length;for(let d=0;d<u;d++){const[l,c]=o[d];Xp(c,HC(t,l),n,s)}},HC=(e,t)=>{let n=e;const s=t.split(Du),o=s.length;for(let u=0;u<o;u++){const d=s[u];let l=n.nextPart.get(d);l||(l=$C(),n.nextPart.set(d,l)),n=l}return n},CD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,SD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const o=(u,d)=>{n[u]=d,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(u){let d=n[u];if(d!==void 0)return d;if((d=s[u])!==void 0)return o(u,d),d},set(u,d){u in n?n[u]=d:o(u,d)}}},Im="!",pb=":",kD=[],gb=(e,t,n,s,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:o}),jD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const u=[];let d=0,l=0,c=0,f;const m=o.length;for(let _=0;_<m;_++){const v=o[_];if(d===0&&l===0){if(v===pb){u.push(o.slice(c,_)),c=_+1;continue}if(v==="/"){f=_;continue}}v==="["?d++:v==="]"?d--:v==="("?l++:v===")"&&l--}const h=u.length===0?o:o.slice(c);let x=h,w=!1;h.endsWith(Im)?(x=h.slice(0,-1),w=!0):h.startsWith(Im)&&(x=h.slice(1),w=!0);const k=f&&f>c?f-c:void 0;return gb(u,w,x,k)};if(t){const o=t+pb,u=s;s=d=>d.startsWith(o)?u(d.slice(o.length)):gb(kD,!1,d,void 0,!0)}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},ND=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let o=[];for(let u=0;u<n.length;u++){const d=n[u],l=d[0]==="[",c=t.has(d);l||c?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(d)):o.push(d)}return o.length>0&&(o.sort(),s.push(...o)),s}},ED=e=>({cache:SD(e.cacheSize),parseClassName:jD(e),sortModifiers:ND(e),...pD(e)}),PD=/\s+/,AD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=t,d=[],l=e.trim().split(PD);let c="";for(let f=l.length-1;f>=0;f-=1){const m=l[f],{isExternal:h,modifiers:x,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:_}=n(m);if(h){c=m+(c.length>0?" "+c:c);continue}let v=!!_,b=s(v?k.substring(0,_):k);if(!b){if(!v){c=m+(c.length>0?" "+c:c);continue}if(b=s(k),!b){c=m+(c.length>0?" "+c:c);continue}v=!1}const g=x.length===0?"":x.length===1?x[0]:u(x).join(":"),y=w?g+Im:g,j=y+b;if(d.indexOf(j)>-1)continue;d.push(j);const E=o(b,v);for(let P=0;P<E.length;++P){const T=E[P];d.push(y+T)}c=m+(c.length>0?" "+c:c)}return c},TD=(...e)=>{let t=0,n,s,o="";for(;t<e.length;)(n=e[t++])&&(s=WC(n))&&(o&&(o+=" "),o+=s);return o},WC=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=WC(e[s]))&&(n&&(n+=" "),n+=t);return n},RD=(e,...t)=>{let n,s,o,u;const d=c=>{const f=t.reduce((m,h)=>h(m),e());return n=ED(f),s=n.cache.get,o=n.cache.set,u=l,l(c)},l=c=>{const f=s(c);if(f)return f;const m=AD(c,n);return o(c,m),m};return u=d,(...c)=>u(TD(...c))},MD=[],ur=e=>{const t=n=>n[e]||MD;return t.isThemeGetter=!0,t},VC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,DD=/^\d+\/\d+$/,LD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ID=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vo=e=>DD.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),Js=e=>!!e&&Number.isInteger(Number(e)),Ff=e=>e.endsWith("%")&&ft(e.slice(0,-1)),bs=e=>LD.test(e),$D=()=>!0,zD=e=>ID.test(e)&&!OD.test(e),GC=()=>!1,HD=e=>BD.test(e),WD=e=>FD.test(e),VD=e=>!Ve(e)&&!Ue(e),UD=e=>Go(e,YC,GC),Ve=e=>VC.test(e),Ti=e=>Go(e,XC,zD),$f=e=>Go(e,XD,ft),xb=e=>Go(e,KC,GC),GD=e=>Go(e,qC,WD),tu=e=>Go(e,JC,HD),Ue=e=>UC.test(e),Ia=e=>Ko(e,XC),KD=e=>Ko(e,JD),vb=e=>Ko(e,KC),qD=e=>Ko(e,YC),YD=e=>Ko(e,qC),ru=e=>Ko(e,JC,!0),Go=(e,t,n)=>{const s=VC.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Ko=(e,t,n=!1)=>{const s=UC.exec(e);return s?s[1]?t(s[1]):n:!1},KC=e=>e==="position"||e==="percentage",qC=e=>e==="image"||e==="url",YC=e=>e==="length"||e==="size"||e==="bg-size",XC=e=>e==="length",XD=e=>e==="number",JD=e=>e==="family-name",JC=e=>e==="shadow",QD=()=>{const e=ur("color"),t=ur("font"),n=ur("text"),s=ur("font-weight"),o=ur("tracking"),u=ur("leading"),d=ur("breakpoint"),l=ur("container"),c=ur("spacing"),f=ur("radius"),m=ur("shadow"),h=ur("inset-shadow"),x=ur("text-shadow"),w=ur("drop-shadow"),k=ur("blur"),_=ur("perspective"),v=ur("aspect"),b=ur("ease"),g=ur("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...j(),Ue,Ve],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],N=()=>[Ue,Ve,c],R=()=>[vo,"full","auto",...N()],I=()=>[Js,"none","subgrid",Ue,Ve],O=()=>["auto",{span:["full",Js,Ue,Ve]},Js,Ue,Ve],B=()=>[Js,"auto",Ue,Ve],$=()=>["auto","min","max","fr",Ue,Ve],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...N()],G=()=>[vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],U=()=>[e,Ue,Ve],L=()=>[...j(),vb,xb,{position:[Ue,Ve]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",qD,UD,{size:[Ue,Ve]}],q=()=>[Ff,Ia,Ti],H=()=>["","none","full",f,Ue,Ve],ae=()=>["",ft,Ia,Ti],fe=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[ft,Ff,vb,xb],W=()=>["","none",k,Ue,Ve],le=()=>["none",ft,Ue,Ve],te=()=>["none",ft,Ue,Ve],J=()=>[ft,Ue,Ve],se=()=>[vo,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[$D],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[VD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",ft],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vo,Ve,Ue,v]}],container:["container"],columns:[{columns:[ft,Ve,Ue,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Js,"auto",Ue,Ve]}],basis:[{basis:[vo,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,vo,"auto","initial","none",Ve]}],grow:[{grow:["",ft,Ue,Ve]}],shrink:[{shrink:["",ft,Ue,Ve]}],order:[{order:[Js,"first","last","none",Ue,Ve]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[d]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Ia,Ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ue,$f]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ff,Ve]}],"font-family":[{font:[KD,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ue,Ve]}],"line-clamp":[{"line-clamp":[ft,"none",Ue,$f]}],leading:[{leading:[u,...N()]}],"list-image":[{"list-image":["none",Ue,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ue,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Ue,Ti]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[ft,"auto",Ue,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Js,Ue,Ve],radial:["",Ue,Ve],conic:[Js,Ue,Ve]},YD,GD]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Ue,Ve]}],"outline-w":[{outline:["",ft,Ia,Ti]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",m,ru,tu]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,ru,tu]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[ft,Ti]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",x,ru,tu]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[ft,Ue,Ve]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ue,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ue,Ve]}],filter:[{filter:["","none",Ue,Ve]}],blur:[{blur:W()}],brightness:[{brightness:[ft,Ue,Ve]}],contrast:[{contrast:[ft,Ue,Ve]}],"drop-shadow":[{"drop-shadow":["","none",w,ru,tu]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",ft,Ue,Ve]}],"hue-rotate":[{"hue-rotate":[ft,Ue,Ve]}],invert:[{invert:["",ft,Ue,Ve]}],saturate:[{saturate:[ft,Ue,Ve]}],sepia:[{sepia:["",ft,Ue,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",Ue,Ve]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Ue,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Ue,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Ue,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Ue,Ve]}],"backdrop-invert":[{"backdrop-invert":["",ft,Ue,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Ue,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Ue,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Ue,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ue,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Ue,Ve]}],ease:[{ease:["linear","initial",b,Ue,Ve]}],delay:[{delay:[ft,Ue,Ve]}],animate:[{animate:["none",g,Ue,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ue,Ve]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[Ue,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue,Ve]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[ft,Ia,Ti,$f]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZD=RD(QD);function Ee(...e){return ZD(FC(e))}const Jp=id("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),oe=C.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},u)=>{const d=s?oD:"button";return r.jsx(d,{className:Ee(Jp({variant:t,size:n,className:e})),ref:u,...o})});oe.displayName="Button";const e3=id("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...n}){return r.jsx("div",{className:Ee(e3({variant:t}),e),...n})}function t3(e){const t=r3(e),n=C.forwardRef((s,o)=>{const{children:u,...d}=s,l=C.Children.toArray(u),c=l.find(s3);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}function r3(e){const t=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const d=o3(o),l=i3(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n3=Symbol("radix.slottable");function s3(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n3}function i3(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function o3(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=a3.reduce((e,t)=>{const n=t3(`Primitive.${t}`),s=C.forwardRef((o,u)=>{const{asChild:d,...l}=o,c=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function QC(e,t){e&&yl.flushSync(()=>e.dispatchEvent(t))}var wr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function l3(e,t){return C.useReducer((n,s)=>t[n][s]??n,e)}var Pr=e=>{const{present:t,children:n}=e,s=c3(t),o=typeof n=="function"?n({present:s.isPresent}):C.Children.only(n),u=ct(s.ref,u3(o));return typeof n=="function"||s.isPresent?C.cloneElement(o,{ref:u}):null};Pr.displayName="Presence";function c3(e){const[t,n]=C.useState(),s=C.useRef(null),o=C.useRef(e),u=C.useRef("none"),d=e?"mounted":"unmounted",[l,c]=l3(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const f=nu(s.current);u.current=l==="mounted"?f:"none"},[l]),wr(()=>{const f=s.current,m=o.current;if(m!==e){const x=u.current,w=nu(f);e?c("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?c("UNMOUNT"):c(m&&x!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),wr(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,h=w=>{const _=nu(s.current).includes(CSS.escape(w.animationName));if(w.target===t&&_&&(c("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},x=w=>{w.target===t&&(u.current=nu(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function nu(e){return(e==null?void 0:e.animationName)||"none"}function u3(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function d3(e,t){const n=C.createContext(t),s=u=>{const{children:d,...l}=u,c=C.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:d})};s.displayName=e+"Provider";function o(u){const d=C.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[s,o]}function en(e,t=[]){let n=[];function s(u,d){const l=C.createContext(d),c=n.length;n=[...n,d];const f=h=>{var b;const{scope:x,children:w,...k}=h,_=((b=x==null?void 0:x[e])==null?void 0:b[c])||l,v=C.useMemo(()=>k,Object.values(k));return r.jsx(_.Provider,{value:v,children:w})};f.displayName=u+"Provider";function m(h,x){var _;const w=((_=x==null?void 0:x[e])==null?void 0:_[c])||l,k=C.useContext(w);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${h}\` must be used within \`${u}\``)}return[f,m]}const o=()=>{const u=n.map(d=>C.createContext(d));return function(l){const c=(l==null?void 0:l[e])||u;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[s,h3(o,...t)]}function h3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const d=s.reduce((l,{useScope:c,scopeName:f})=>{const h=c(u)[`__scope${f}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function Nr(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var f3=C.createContext(void 0);function El(e){const t=C.useContext(f3);return e||t||"ltr"}function Om(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function m3(e,t){return C.useReducer((n,s)=>t[n][s]??n,e)}var Qp="ScrollArea",[ZC]=en(Qp),[p3,Tn]=ZC(Qp),eS=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:u=600,...d}=e,[l,c]=C.useState(null),[f,m]=C.useState(null),[h,x]=C.useState(null),[w,k]=C.useState(null),[_,v]=C.useState(null),[b,g]=C.useState(0),[y,j]=C.useState(0),[E,P]=C.useState(!1),[T,N]=C.useState(!1),R=ct(t,O=>c(O)),I=El(o);return r.jsx(p3,{scope:n,type:s,dir:I,scrollHideDelay:u,scrollArea:l,viewport:f,onViewportChange:m,content:h,onContentChange:x,scrollbarX:w,onScrollbarXChange:k,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:_,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:g,onCornerHeightChange:j,children:r.jsx(et.div,{dir:I,...d,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});eS.displayName=Qp;var tS="ScrollAreaViewport",rS=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:o,...u}=e,d=Tn(tS,n),l=C.useRef(null),c=ct(t,l,d.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(et.div,{"data-radix-scroll-area-viewport":"",...u,ref:c,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});rS.displayName=tS;var us="ScrollAreaScrollbar",Zp=C.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Tn(us,e.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:d}=o,l=e.orientation==="horizontal";return C.useEffect(()=>(l?u(!0):d(!0),()=>{l?u(!1):d(!1)}),[l,u,d]),o.type==="hover"?r.jsx(g3,{...s,ref:t,forceMount:n}):o.type==="scroll"?r.jsx(x3,{...s,ref:t,forceMount:n}):o.type==="auto"?r.jsx(nS,{...s,ref:t,forceMount:n}):o.type==="always"?r.jsx(eg,{...s,ref:t}):null});Zp.displayName=us;var g3=C.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Tn(us,e.__scopeScrollArea),[u,d]=C.useState(!1);return C.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const f=()=>{window.clearTimeout(c),d(!0)},m=()=>{c=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(Pr,{present:n||u,children:r.jsx(nS,{"data-state":u?"visible":"hidden",...s,ref:t})})}),x3=C.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Tn(us,e.__scopeScrollArea),u=e.orientation==="horizontal",d=ad(()=>c("SCROLL_END"),100),[l,c]=m3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,o.scrollHideDelay,c]),C.useEffect(()=>{const f=o.viewport,m=u?"scrollLeft":"scrollTop";if(f){let h=f[m];const x=()=>{const w=f[m];h!==w&&(c("SCROLL"),d()),h=w};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[o.viewport,u,c,d]),r.jsx(Pr,{present:n||l!=="hidden",children:r.jsx(eg,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),nS=C.forwardRef((e,t)=>{const n=Tn(us,e.__scopeScrollArea),{forceMount:s,...o}=e,[u,d]=C.useState(!1),l=e.orientation==="horizontal",c=ad(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;d(l?f:m)}},10);return Fo(n.viewport,c),Fo(n.content,c),r.jsx(Pr,{present:s||u,children:r.jsx(eg,{"data-state":u?"visible":"hidden",...o,ref:t})})}),eg=C.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,o=Tn(us,e.__scopeScrollArea),u=C.useRef(null),d=C.useRef(0),[l,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=lS(l.viewport,l.content),m={...s,sizes:l,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:x=>u.current=x,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:x=>d.current=x};function h(x,w){return C3(x,d.current,l,w)}return n==="horizontal"?r.jsx(v3,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&u.current){const x=o.viewport.scrollLeft,w=yb(x,l,o.dir);u.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=h(x,o.dir))}}):n==="vertical"?r.jsx(y3,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&u.current){const x=o.viewport.scrollTop,w=yb(x,l);u.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=h(x))}}):null}),v3=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,u=Tn(us,e.__scopeScrollArea),[d,l]=C.useState(),c=C.useRef(null),f=ct(t,c,u.onScrollbarXChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(iS,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":od(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,h)=>{if(u.viewport){const x=u.viewport.scrollLeft+m.deltaX;e.onWheelScroll(x),uS(x,h)&&m.preventDefault()}},onResize:()=>{c.current&&u.viewport&&d&&s({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Iu(d.paddingLeft),paddingEnd:Iu(d.paddingRight)}})}})}),y3=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,u=Tn(us,e.__scopeScrollArea),[d,l]=C.useState(),c=C.useRef(null),f=ct(t,c,u.onScrollbarYChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(iS,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":od(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,h)=>{if(u.viewport){const x=u.viewport.scrollTop+m.deltaY;e.onWheelScroll(x),uS(x,h)&&m.preventDefault()}},onResize:()=>{c.current&&u.viewport&&d&&s({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Iu(d.paddingTop),paddingEnd:Iu(d.paddingBottom)}})}})}),[b3,sS]=ZC(us),iS=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:u,onThumbPointerUp:d,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:m,onResize:h,...x}=e,w=Tn(us,n),[k,_]=C.useState(null),v=ct(t,R=>_(R)),b=C.useRef(null),g=C.useRef(""),y=w.viewport,j=s.content-s.viewport,E=Nr(m),P=Nr(c),T=ad(h,10);function N(R){if(b.current){const I=R.clientX-b.current.left,O=R.clientY-b.current.top;f({x:I,y:O})}}return C.useEffect(()=>{const R=I=>{const O=I.target;(k==null?void 0:k.contains(O))&&E(I,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[y,k,j,E]),C.useEffect(P,[s,P]),Fo(k,T),Fo(w.content,T),r.jsx(b3,{scope:n,scrollbar:k,hasThumb:o,onThumbChange:Nr(u),onThumbPointerUp:Nr(d),onThumbPositionChange:P,onThumbPointerDown:Nr(l),children:r.jsx(et.div,{...x,ref:v,style:{position:"absolute",...x.style},onPointerDown:Ie(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),b.current=k.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),N(R))}),onPointerMove:Ie(e.onPointerMove,N),onPointerUp:Ie(e.onPointerUp,R=>{const I=R.target;I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=g.current,w.viewport&&(w.viewport.style.scrollBehavior=""),b.current=null})})})}),Lu="ScrollAreaThumb",oS=C.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=sS(Lu,e.__scopeScrollArea);return r.jsx(Pr,{present:n||o.hasThumb,children:r.jsx(w3,{ref:t,...s})})}),w3=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...o}=e,u=Tn(Lu,n),d=sS(Lu,n),{onThumbPositionChange:l}=d,c=ct(t,h=>d.onThumbChange(h)),f=C.useRef(void 0),m=ad(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const h=u.viewport;if(h){const x=()=>{if(m(),!f.current){const w=S3(h,l);f.current=w,l()}};return l(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[u.viewport,m,l]),r.jsx(et.div,{"data-state":d.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ie(e.onPointerDownCapture,h=>{const w=h.target.getBoundingClientRect(),k=h.clientX-w.left,_=h.clientY-w.top;d.onThumbPointerDown({x:k,y:_})}),onPointerUp:Ie(e.onPointerUp,d.onThumbPointerUp)})});oS.displayName=Lu;var tg="ScrollAreaCorner",aS=C.forwardRef((e,t)=>{const n=Tn(tg,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(_3,{...e,ref:t}):null});aS.displayName=tg;var _3=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,o=Tn(tg,n),[u,d]=C.useState(0),[l,c]=C.useState(0),f=!!(u&&l);return Fo(o.scrollbarX,()=>{var h;const m=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(m),c(m)}),Fo(o.scrollbarY,()=>{var h;const m=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(m),d(m)}),f?r.jsx(et.div,{...s,ref:t,style:{width:u,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Iu(e){return e?parseInt(e,10):0}function lS(e,t){const n=e/t;return isNaN(n)?0:n}function od(e){const t=lS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function C3(e,t,n,s="ltr"){const o=od(n),u=o/2,d=t||u,l=o-d,c=n.scrollbar.paddingStart+d,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,m=n.content-n.viewport,h=s==="ltr"?[0,m]:[m*-1,0];return cS([c,f],h)(e)}function yb(e,t,n="ltr"){const s=od(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,u=t.scrollbar.size-o,d=t.content-t.viewport,l=u-s,c=n==="ltr"?[0,d]:[d*-1,0],f=Om(e,c);return cS([0,d],[0,l])(f)}function cS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function uS(e,t){return e>0&&e<t}var S3=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function o(){const u={left:e.scrollLeft,top:e.scrollTop},d=n.left!==u.left,l=n.top!==u.top;(d||l)&&t(),n=u,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function ad(e,t){const n=Nr(e),s=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(s.current),[]),C.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Fo(e,t){const n=Nr(t);wr(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,n])}var dS=eS,k3=rS,j3=aS;const An=C.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dS,{ref:s,className:Ee("relative overflow-hidden",e),...n,children:[r.jsx(k3,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(hS,{}),r.jsx(j3,{})]}));An.displayName=dS.displayName;const hS=C.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(Zp,{ref:s,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(oS,{className:"relative flex-1 rounded-full bg-border"})}));hS.displayName=Zp.displayName;var N3=up[" useId ".trim().toString()]||(()=>{}),E3=0;function jn(e){const[t,n]=C.useState(N3());return wr(()=>{n(s=>s??String(E3++))},[e]),t?`radix-${t}`:""}var P3=up[" useInsertionEffect ".trim().toString()]||wr;function os({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,u,d]=A3({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:o;{const m=C.useRef(e!==void 0);C.useEffect(()=>{const h=m.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,s])}const f=C.useCallback(m=>{var h;if(l){const x=T3(m)?m(e):m;x!==e&&((h=d.current)==null||h.call(d,x))}else u(m)},[l,e,u,d]);return[c,f]}function A3({defaultProp:e,onChange:t}){const[n,s]=C.useState(e),o=C.useRef(n),u=C.useRef(t);return P3(()=>{u.current=t},[t]),C.useEffect(()=>{var d;o.current!==n&&((d=u.current)==null||d.call(u,n),o.current=n)},[n,o]),[n,s,u]}function T3(e){return typeof e=="function"}function R3(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e);C.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var M3="DismissableLayer",Bm="dismissableLayer.update",D3="dismissableLayer.pointerDownOutside",L3="dismissableLayer.focusOutside",bb,fS=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:d,onDismiss:l,...c}=e,f=C.useContext(fS),[m,h]=C.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=C.useState({}),k=ct(t,T=>h(T)),_=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(v),g=m?_.indexOf(m):-1,y=f.layersWithOutsidePointerEventsDisabled.size>0,j=g>=b,E=B3(T=>{const N=T.target,R=[...f.branches].some(I=>I.contains(N));!j||R||(o==null||o(T),d==null||d(T),T.defaultPrevented||l==null||l())},x),P=F3(T=>{const N=T.target;[...f.branches].some(I=>I.contains(N))||(u==null||u(T),d==null||d(T),T.defaultPrevented||l==null||l())},x);return R3(T=>{g===f.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),C.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(bb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),wb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=bb)}},[m,x,n,f]),C.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),wb())},[m,f]),C.useEffect(()=>{const T=()=>w({});return document.addEventListener(Bm,T),()=>document.removeEventListener(Bm,T)},[]),r.jsx(et.div,{...c,ref:k,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,E.onPointerDownCapture)})});Pl.displayName=M3;var I3="DismissableLayerBranch",O3=C.forwardRef((e,t)=>{const n=C.useContext(fS),s=C.useRef(null),o=ct(t,s);return C.useEffect(()=>{const u=s.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),r.jsx(et.div,{...e,ref:o})});O3.displayName=I3;function B3(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),s=C.useRef(!1),o=C.useRef(()=>{});return C.useEffect(()=>{const u=l=>{if(l.target&&!s.current){let c=function(){mS(D3,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",u),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function F3(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),s=C.useRef(!1);return C.useEffect(()=>{const o=u=>{u.target&&!s.current&&mS(L3,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function wb(){const e=new CustomEvent(Bm);document.dispatchEvent(e)}function mS(e,t,n,{discrete:s}){const o=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?QC(o,u):o.dispatchEvent(u)}var zf="focusScope.autoFocusOnMount",Hf="focusScope.autoFocusOnUnmount",_b={bubbles:!1,cancelable:!0},$3="FocusScope",ld=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...d}=e,[l,c]=C.useState(null),f=Nr(o),m=Nr(u),h=C.useRef(null),x=ct(t,_=>c(_)),w=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(s){let _=function(y){if(w.paused||!l)return;const j=y.target;l.contains(j)?h.current=j:ei(h.current,{select:!0})},v=function(y){if(w.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||ei(h.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&ei(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",v);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",v),g.disconnect()}}},[s,l,w.paused]),C.useEffect(()=>{if(l){Sb.add(w);const _=document.activeElement;if(!l.contains(_)){const b=new CustomEvent(zf,_b);l.addEventListener(zf,f),l.dispatchEvent(b),b.defaultPrevented||(z3(G3(pS(l)),{select:!0}),document.activeElement===_&&ei(l))}return()=>{l.removeEventListener(zf,f),setTimeout(()=>{const b=new CustomEvent(Hf,_b);l.addEventListener(Hf,m),l.dispatchEvent(b),b.defaultPrevented||ei(_??document.body,{select:!0}),l.removeEventListener(Hf,m),Sb.remove(w)},0)}}},[l,f,m,w]);const k=C.useCallback(_=>{if(!n&&!s||w.paused)return;const v=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(v&&b){const g=_.currentTarget,[y,j]=H3(g);y&&j?!_.shiftKey&&b===j?(_.preventDefault(),n&&ei(y,{select:!0})):_.shiftKey&&b===y&&(_.preventDefault(),n&&ei(j,{select:!0})):b===g&&_.preventDefault()}},[n,s,w.paused]);return r.jsx(et.div,{tabIndex:-1,...d,ref:x,onKeyDown:k})});ld.displayName=$3;function z3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ei(s,{select:t}),document.activeElement!==n)return}function H3(e){const t=pS(e),n=Cb(t,e),s=Cb(t.reverse(),e);return[n,s]}function pS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cb(e,t){for(const n of e)if(!W3(n,{upTo:t}))return n}function W3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function V3(e){return e instanceof HTMLInputElement&&"select"in e}function ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&V3(e)&&t&&e.select()}}var Sb=U3();function U3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=kb(e,t),e.unshift(t)},remove(t){var n;e=kb(e,t),(n=e[0])==null||n.resume()}}}function kb(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function G3(e){return e.filter(t=>t.tagName!=="A")}var K3="Portal",Al=C.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[o,u]=C.useState(!1);wr(()=>u(!0),[]);const d=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return d?Kw.createPortal(r.jsx(et.div,{...s,ref:t}),d):null});Al.displayName=K3;var Wf=0;function rg(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jb()),document.body.insertAdjacentElement("beforeend",e[1]??jb()),Wf++,()=>{Wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wf--}},[])}function jb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zn=function(){return Zn=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Zn.apply(this,arguments)};function gS(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function q3(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return e.concat(u||Array.prototype.slice.call(t))}var vu="right-scroll-bar-position",yu="width-before-scroll-bar",Y3="with-scroll-bars-hidden",X3="--removed-body-scroll-bar-size";function Vf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function J3(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var Q3=typeof window<"u"?C.useLayoutEffect:C.useEffect,Nb=new WeakMap;function Z3(e,t){var n=J3(null,function(s){return e.forEach(function(o){return Vf(o,s)})});return Q3(function(){var s=Nb.get(n);if(s){var o=new Set(s),u=new Set(e),d=n.current;o.forEach(function(l){u.has(l)||Vf(l,null)}),u.forEach(function(l){o.has(l)||Vf(l,d)})}Nb.set(n,e)},[e]),n}function eL(e){return e}function tL(e,t){t===void 0&&(t=eL);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var d=t(u,s);return n.push(d),function(){n=n.filter(function(l){return l!==d})}},assignSyncMedium:function(u){for(s=!0;n.length;){var d=n;n=[],d.forEach(u)}n={push:function(l){return u(l)},filter:function(){return n}}},assignMedium:function(u){s=!0;var d=[];if(n.length){var l=n;n=[],l.forEach(u),d=n}var c=function(){var m=d;d=[],m.forEach(u)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(m){d.push(m),f()},filter:function(m){return d=d.filter(m),n}}}};return o}function rL(e){e===void 0&&(e={});var t=tL(null);return t.options=Zn({async:!0,ssr:!1},e),t}var xS=function(e){var t=e.sideCar,n=gS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return C.createElement(s,Zn({},n))};xS.isSideCarExport=!0;function nL(e,t){return e.useMedium(t),xS}var vS=rL(),Uf=function(){},cd=C.forwardRef(function(e,t){var n=C.useRef(null),s=C.useState({onScrollCapture:Uf,onWheelCapture:Uf,onTouchMoveCapture:Uf}),o=s[0],u=s[1],d=e.forwardProps,l=e.children,c=e.className,f=e.removeScrollBar,m=e.enabled,h=e.shards,x=e.sideCar,w=e.noRelative,k=e.noIsolation,_=e.inert,v=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,y=e.gapMode,j=gS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,P=Z3([n,t]),T=Zn(Zn({},j),o);return C.createElement(C.Fragment,null,m&&C.createElement(E,{sideCar:vS,removeScrollBar:f,shards:h,noRelative:w,noIsolation:k,inert:_,setCallbacks:u,allowPinchZoom:!!v,lockRef:n,gapMode:y}),d?C.cloneElement(C.Children.only(l),Zn(Zn({},T),{ref:P})):C.createElement(g,Zn({},T,{className:c,ref:P}),l))});cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cd.classNames={fullWidth:yu,zeroRight:vu};var sL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sL();return t&&e.setAttribute("nonce",t),e}function oL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iL())&&(oL(t,n),aL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cL=function(){var e=lL();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yS=function(){var e=cL(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},uL={left:0,top:0,right:0,gap:0},Gf=function(e){return parseInt(e||"",10)||0},dL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Gf(n),Gf(s),Gf(o)]},hL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uL;var t=dL(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},fL=yS(),Ao="data-scroll-locked",mL=function(e,t,n,s){var o=e.left,u=e.top,d=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Y3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(X3,": ").concat(l,`px;
  }
`)},Eb=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},pL=function(){C.useEffect(function(){return document.body.setAttribute(Ao,(Eb()+1).toString()),function(){var e=Eb()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},gL=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;pL();var u=C.useMemo(function(){return hL(o)},[o]);return C.createElement(fL,{styles:mL(u,!t,o,n?"":"!important")})},Fm=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Fm=!1}var yo=Fm?{passive:!1}:!1,xL=function(e){return e.tagName==="TEXTAREA"},bS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xL(e)&&n[t]==="visible")},vL=function(e){return bS(e,"overflowY")},yL=function(e){return bS(e,"overflowX")},Pb=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=wS(e,s);if(o){var u=_S(e,s),d=u[1],l=u[2];if(d>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},bL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},wL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},wS=function(e,t){return e==="v"?vL(t):yL(t)},_S=function(e,t){return e==="v"?bL(t):wL(t)},_L=function(e,t){return e==="h"&&t==="rtl"?-1:1},CL=function(e,t,n,s,o){var u=_L(e,window.getComputedStyle(t).direction),d=u*s,l=n.target,c=t.contains(l),f=!1,m=d>0,h=0,x=0;do{if(!l)break;var w=_S(e,l),k=w[0],_=w[1],v=w[2],b=_-v-u*k;(k||b)&&wS(e,l)&&(h+=b,x+=k);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&Math.abs(h)<1||!m&&Math.abs(x)<1)&&(f=!0),f},iu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ab=function(e){return[e.deltaX,e.deltaY]},Tb=function(e){return e&&"current"in e?e.current:e},SL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jL=0,bo=[];function NL(e){var t=C.useRef([]),n=C.useRef([0,0]),s=C.useRef(),o=C.useState(jL++)[0],u=C.useState(yS)[0],d=C.useRef(e);C.useEffect(function(){d.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=q3([e.lockRef.current],(e.shards||[]).map(Tb),!0).filter(Boolean);return _.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(_,v){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!d.current.allowPinchZoom;var b=iu(_),g=n.current,y="deltaX"in _?_.deltaX:g[0]-b[0],j="deltaY"in _?_.deltaY:g[1]-b[1],E,P=_.target,T=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in _&&T==="h"&&P.type==="range")return!1;var N=window.getSelection(),R=N&&N.anchorNode,I=R?R===P||R.contains(P):!1;if(I)return!1;var O=Pb(T,P);if(!O)return!0;if(O?E=T:(E=T==="v"?"h":"v",O=Pb(T,P)),!O)return!1;if(!s.current&&"changedTouches"in _&&(y||j)&&(s.current=E),!E)return!0;var B=s.current||E;return CL(B,v,_,B==="h"?y:j)},[]),c=C.useCallback(function(_){var v=_;if(!(!bo.length||bo[bo.length-1]!==u)){var b="deltaY"in v?Ab(v):iu(v),g=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&SL(E.delta,b)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var y=(d.current.shards||[]).map(Tb).filter(Boolean).filter(function(E){return E.contains(v.target)}),j=y.length>0?l(v,y[0]):!d.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),f=C.useCallback(function(_,v,b,g){var y={name:_,delta:v,target:b,should:g,shadowParent:EL(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),m=C.useCallback(function(_){n.current=iu(_),s.current=void 0},[]),h=C.useCallback(function(_){f(_.type,Ab(_),_.target,l(_,e.lockRef.current))},[]),x=C.useCallback(function(_){f(_.type,iu(_),_.target,l(_,e.lockRef.current))},[]);C.useEffect(function(){return bo.push(u),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",c,yo),document.addEventListener("touchmove",c,yo),document.addEventListener("touchstart",m,yo),function(){bo=bo.filter(function(_){return _!==u}),document.removeEventListener("wheel",c,yo),document.removeEventListener("touchmove",c,yo),document.removeEventListener("touchstart",m,yo)}},[]);var w=e.removeScrollBar,k=e.inert;return C.createElement(C.Fragment,null,k?C.createElement(u,{styles:kL(o)}):null,w?C.createElement(gL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function EL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PL=nL(vS,NL);var ud=C.forwardRef(function(e,t){return C.createElement(cd,Zn({},e,{ref:t,sideCar:PL}))});ud.classNames=cd.classNames;var AL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,ou=new WeakMap,au={},Kf=0,CS=function(e){return e&&(e.host||CS(e.parentNode))},TL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=CS(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},RL=function(e,t,n,s){var o=TL(t,Array.isArray(e)?e:[e]);au[n]||(au[n]=new WeakMap);var u=au[n],d=[],l=new Set,c=new Set(o),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};o.forEach(f);var m=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(x){if(l.has(x))m(x);else try{var w=x.getAttribute(s),k=w!==null&&w!=="false",_=(wo.get(x)||0)+1,v=(u.get(x)||0)+1;wo.set(x,_),u.set(x,v),d.push(x),_===1&&k&&ou.set(x,!0),v===1&&x.setAttribute(n,"true"),k||x.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",x,b)}})};return m(t),l.clear(),Kf++,function(){d.forEach(function(h){var x=wo.get(h)-1,w=u.get(h)-1;wo.set(h,x),u.set(h,w),x||(ou.has(h)||h.removeAttribute(s),ou.delete(h)),w||h.removeAttribute(n)}),Kf--,Kf||(wo=new WeakMap,wo=new WeakMap,ou=new WeakMap,au={})}},ng=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=AL(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),RL(s,o,n,"aria-hidden")):function(){return null}};function ML(e){const t=DL(e),n=C.forwardRef((s,o)=>{const{children:u,...d}=s,l=C.Children.toArray(u),c=l.find(IL);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}function DL(e){const t=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const d=BL(o),l=OL(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LL=Symbol("radix.slottable");function IL(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LL}function OL(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function BL(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dd="Dialog",[SS,kS]=en(dd),[FL,Un]=SS(dd),jS=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:u,modal:d=!0}=e,l=C.useRef(null),c=C.useRef(null),[f,m]=os({prop:s,defaultProp:o??!1,onChange:u,caller:dd});return r.jsx(FL,{scope:t,triggerRef:l,contentRef:c,contentId:jn(),titleId:jn(),descriptionId:jn(),open:f,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(h=>!h),[m]),modal:d,children:n})};jS.displayName=dd;var NS="DialogTrigger",ES=C.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Un(NS,n),u=ct(t,o.triggerRef);return r.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":og(o.open),...s,ref:u,onClick:Ie(e.onClick,o.onOpenToggle)})});ES.displayName=NS;var sg="DialogPortal",[$L,PS]=SS(sg,{forceMount:void 0}),AS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,u=Un(sg,t);return r.jsx($L,{scope:t,forceMount:n,children:C.Children.map(s,d=>r.jsx(Pr,{present:n||u.open,children:r.jsx(Al,{asChild:!0,container:o,children:d})}))})};AS.displayName=sg;var Ou="DialogOverlay",TS=C.forwardRef((e,t)=>{const n=PS(Ou,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,u=Un(Ou,e.__scopeDialog);return u.modal?r.jsx(Pr,{present:s||u.open,children:r.jsx(HL,{...o,ref:t})}):null});TS.displayName=Ou;var zL=ML("DialogOverlay.RemoveScroll"),HL=C.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Un(Ou,n);return r.jsx(ud,{as:zL,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(et.div,{"data-state":og(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),zi="DialogContent",RS=C.forwardRef((e,t)=>{const n=PS(zi,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,u=Un(zi,e.__scopeDialog);return r.jsx(Pr,{present:s||u.open,children:u.modal?r.jsx(WL,{...o,ref:t}):r.jsx(VL,{...o,ref:t})})});RS.displayName=zi;var WL=C.forwardRef((e,t)=>{const n=Un(zi,e.__scopeDialog),s=C.useRef(null),o=ct(t,n.contentRef,s);return C.useEffect(()=>{const u=s.current;if(u)return ng(u)},[]),r.jsx(MS,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,u=>{var d;u.preventDefault(),(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,l=d.button===0&&d.ctrlKey===!0;(d.button===2||l)&&u.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,u=>u.preventDefault())})}),VL=C.forwardRef((e,t)=>{const n=Un(zi,e.__scopeDialog),s=C.useRef(!1),o=C.useRef(!1);return r.jsx(MS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{var d,l;(d=e.onCloseAutoFocus)==null||d.call(e,u),u.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),u.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:u=>{var c,f;(c=e.onInteractOutside)==null||c.call(e,u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=u.target;((f=n.triggerRef.current)==null?void 0:f.contains(d))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),MS=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:u,...d}=e,l=Un(zi,n),c=C.useRef(null),f=ct(t,c);return rg(),r.jsxs(r.Fragment,{children:[r.jsx(ld,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:u,children:r.jsx(Pl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":og(l.open),...d,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(GL,{titleId:l.titleId}),r.jsx(qL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ig="DialogTitle",DS=C.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Un(ig,n);return r.jsx(et.h2,{id:o.titleId,...s,ref:t})});DS.displayName=ig;var LS="DialogDescription",IS=C.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Un(LS,n);return r.jsx(et.p,{id:o.descriptionId,...s,ref:t})});IS.displayName=LS;var OS="DialogClose",BS=C.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Un(OS,n);return r.jsx(et.button,{type:"button",...s,ref:t,onClick:Ie(e.onClick,()=>o.onOpenChange(!1))})});BS.displayName=OS;function og(e){return e?"open":"closed"}var FS="DialogTitleWarning",[UL,$S]=d3(FS,{contentName:zi,titleName:ig,docsSlug:"dialog"}),GL=({titleId:e})=>{const t=$S(FS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},KL="DialogDescriptionWarning",qL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$S(KL).contentName}}.`;return C.useEffect(()=>{var u;const o=(u=e.current)==null?void 0:u.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},zS=jS,YL=ES,ag=AS,hd=TS,fd=RS,md=DS,pd=IS,lg=BS;const Nt=zS,XL=ag,HS=C.forwardRef(({className:e,...t},n)=>r.jsx(hd,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HS.displayName=hd.displayName;const _t=C.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(XL,{children:[r.jsx(HS,{}),r.jsxs(fd,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(lg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(ri,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=fd.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const Tt=({className:e,...t})=>r.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tt.displayName="DialogFooter";const St=C.forwardRef(({className:e,...t},n)=>r.jsx(md,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));St.displayName=md.displayName;const sr=C.forwardRef(({className:e,...t},n)=>r.jsx(pd,{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));sr.displayName=pd.displayName;function cg(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ug(e){const[t,n]=C.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let d,l;if("borderBoxSize"in u){const c=u.borderBoxSize,f=Array.isArray(c)?c[0]:c;d=f.inlineSize,l=f.blockSize}else d=e.offsetWidth,l=e.offsetHeight;n({width:d,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var gd="Checkbox",[JL]=en(gd),[QL,dg]=JL(gd);function ZL(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:u,form:d,name:l,onCheckedChange:c,required:f,value:m="on",internal_do_not_use_render:h}=e,[x,w]=os({prop:n,defaultProp:o??!1,onChange:c,caller:gd}),[k,_]=C.useState(null),[v,b]=C.useState(null),g=C.useRef(!1),y=k?!!d||!!k.closest("form"):!0,j={checked:x,disabled:u,setChecked:w,control:k,setControl:_,name:l,form:d,value:m,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:ni(o)?!1:o,isFormControl:y,bubbleInput:v,setBubbleInput:b};return r.jsx(QL,{scope:t,...j,children:eI(h)?h(j):s})}var WS="CheckboxTrigger",VS=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:u,value:d,disabled:l,checked:c,required:f,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:x,isFormControl:w,bubbleInput:k}=dg(WS,e),_=ct(o,m),v=C.useRef(c);return C.useEffect(()=>{const b=u==null?void 0:u.form;if(b){const g=()=>h(v.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[u,h]),r.jsx(et.button,{type:"button",role:"checkbox","aria-checked":ni(c)?"mixed":c,"aria-required":f,"data-state":YS(c),"data-disabled":l?"":void 0,disabled:l,value:d,...s,ref:_,onKeyDown:Ie(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ie(n,b=>{h(g=>ni(g)?!0:!g),k&&w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})})});VS.displayName=WS;var hg=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:u,required:d,disabled:l,value:c,onCheckedChange:f,form:m,...h}=e;return r.jsx(ZL,{__scopeCheckbox:n,checked:o,defaultChecked:u,disabled:l,required:d,onCheckedChange:f,name:s,form:m,value:c,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(VS,{...h,ref:t,__scopeCheckbox:n}),x&&r.jsx(qS,{__scopeCheckbox:n})]})})});hg.displayName=gd;var US="CheckboxIndicator",GS=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,u=dg(US,n);return r.jsx(Pr,{present:s||ni(u.checked)||u.checked===!0,children:r.jsx(et.span,{"data-state":YS(u.checked),"data-disabled":u.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});GS.displayName=US;var KS="CheckboxBubbleInput",qS=C.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:u,defaultChecked:d,required:l,disabled:c,name:f,value:m,form:h,bubbleInput:x,setBubbleInput:w}=dg(KS,e),k=ct(n,w),_=cg(u),v=ug(s);C.useEffect(()=>{const g=x;if(!g)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set,P=!o.current;if(_!==u&&E){const T=new Event("click",{bubbles:P});g.indeterminate=ni(u),E.call(g,ni(u)?!1:u),g.dispatchEvent(T)}},[x,_,u,o]);const b=C.useRef(ni(u)?!1:u);return r.jsx(et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??b.current,required:l,disabled:c,name:f,value:m,form:h,...t,tabIndex:-1,ref:k,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qS.displayName=KS;function eI(e){return typeof e=="function"}function ni(e){return e==="indeterminate"}function YS(e){return ni(e)?"indeterminate":e?"checked":"unchecked"}const Tl=C.forwardRef(({className:e,...t},n)=>r.jsx(hg,{ref:n,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(GS,{className:Ee("flex items-center justify-center text-current"),children:r.jsx(Jt,{className:"h-4 w-4"})})}));Tl.displayName=hg.displayName;function Rb(e){const t=tI(e),n=C.forwardRef((s,o)=>{const{children:u,...d}=s,l=C.Children.toArray(u),c=l.find(nI);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}function tI(e){const t=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const d=iI(o),l=sI(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rI=Symbol("radix.slottable");function nI(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rI}function sI(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function iI(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fg(e){const t=e+"CollectionProvider",[n,s]=en(t),[o,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=_=>{const{scope:v,children:b}=_,g=Te.useRef(null),y=Te.useRef(new Map).current;return r.jsx(o,{scope:v,itemMap:y,collectionRef:g,children:b})};d.displayName=t;const l=e+"CollectionSlot",c=Rb(l),f=Te.forwardRef((_,v)=>{const{scope:b,children:g}=_,y=u(l,b),j=ct(v,y.collectionRef);return r.jsx(c,{ref:j,children:g})});f.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",x=Rb(m),w=Te.forwardRef((_,v)=>{const{scope:b,children:g,...y}=_,j=Te.useRef(null),E=ct(v,j),P=u(m,b);return Te.useEffect(()=>(P.itemMap.set(j,{ref:j,...y}),()=>void P.itemMap.delete(j))),r.jsx(x,{[h]:"",ref:E,children:g})});w.displayName=m;function k(_){const v=u(e+"CollectionConsumer",_);return Te.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((P,T)=>y.indexOf(P.ref.current)-y.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:d,Slot:f,ItemSlot:w},k,s]}const oI=["top","right","bottom","left"],ai=Math.min,cn=Math.max,Bu=Math.round,lu=Math.floor,ss=e=>({x:e,y:e}),aI={left:"right",right:"left",bottom:"top",top:"bottom"},lI={start:"end",end:"start"};function $m(e,t,n){return cn(e,ai(t,n))}function js(e,t){return typeof e=="function"?e(t):e}function Ns(e){return e.split("-")[0]}function qo(e){return e.split("-")[1]}function mg(e){return e==="x"?"y":"x"}function pg(e){return e==="y"?"height":"width"}const cI=new Set(["top","bottom"]);function ts(e){return cI.has(Ns(e))?"y":"x"}function gg(e){return mg(ts(e))}function uI(e,t,n){n===void 0&&(n=!1);const s=qo(e),o=gg(e),u=pg(o);let d=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(d=Fu(d)),[d,Fu(d)]}function dI(e){const t=Fu(e);return[zm(e),t,zm(t)]}function zm(e){return e.replace(/start|end/g,t=>lI[t])}const Mb=["left","right"],Db=["right","left"],hI=["top","bottom"],fI=["bottom","top"];function mI(e,t,n){switch(e){case"top":case"bottom":return n?t?Db:Mb:t?Mb:Db;case"left":case"right":return t?hI:fI;default:return[]}}function pI(e,t,n,s){const o=qo(e);let u=mI(Ns(e),n==="start",s);return o&&(u=u.map(d=>d+"-"+o),t&&(u=u.concat(u.map(zm)))),u}function Fu(e){return e.replace(/left|right|bottom|top/g,t=>aI[t])}function gI(e){return{top:0,right:0,bottom:0,left:0,...e}}function XS(e){return typeof e!="number"?gI(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function Lb(e,t,n){let{reference:s,floating:o}=e;const u=ts(t),d=gg(t),l=pg(d),c=Ns(t),f=u==="y",m=s.x+s.width/2-o.width/2,h=s.y+s.height/2-o.height/2,x=s[l]/2-o[l]/2;let w;switch(c){case"top":w={x:m,y:s.y-o.height};break;case"bottom":w={x:m,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:h};break;case"left":w={x:s.x-o.width,y:h};break;default:w={x:s.x,y:s.y}}switch(qo(t)){case"start":w[d]-=x*(n&&f?-1:1);break;case"end":w[d]+=x*(n&&f?-1:1);break}return w}const xI=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:u=[],platform:d}=n,l=u.filter(Boolean),c=await(d.isRTL==null?void 0:d.isRTL(t));let f=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:h}=Lb(f,s,c),x=s,w={},k=0;for(let _=0;_<l.length;_++){const{name:v,fn:b}=l[_],{x:g,y,data:j,reset:E}=await b({x:m,y:h,initialPlacement:s,placement:x,strategy:o,middlewareData:w,rects:f,platform:d,elements:{reference:e,floating:t}});m=g??m,h=y??h,w={...w,[v]:{...w[v],...j}},E&&k<=50&&(k++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(f=E.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:m,y:h}=Lb(f,x,c)),_=-1)}return{x:m,y:h,placement:x,strategy:o,middlewareData:w}};async function cl(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:u,rects:d,elements:l,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:x=!1,padding:w=0}=js(t,e),k=XS(w),v=l[x?h==="floating"?"reference":"floating":h],b=$u(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(v)))==null||n?v:v.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:c})),g=h==="floating"?{x:s,y:o,width:d.floating.width,height:d.floating.height}:d.reference,y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(l.floating)),j=await(u.isElement==null?void 0:u.isElement(y))?await(u.getScale==null?void 0:u.getScale(y))||{x:1,y:1}:{x:1,y:1},E=$u(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:c}):g);return{top:(b.top-E.top+k.top)/j.y,bottom:(E.bottom-b.bottom+k.bottom)/j.y,left:(b.left-E.left+k.left)/j.x,right:(E.right-b.right+k.right)/j.x}}const vI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:u,platform:d,elements:l,middlewareData:c}=t,{element:f,padding:m=0}=js(e,t)||{};if(f==null)return{};const h=XS(m),x={x:n,y:s},w=gg(o),k=pg(w),_=await d.getDimensions(f),v=w==="y",b=v?"top":"left",g=v?"bottom":"right",y=v?"clientHeight":"clientWidth",j=u.reference[k]+u.reference[w]-x[w]-u.floating[k],E=x[w]-u.reference[w],P=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f));let T=P?P[y]:0;(!T||!await(d.isElement==null?void 0:d.isElement(P)))&&(T=l.floating[y]||u.floating[k]);const N=j/2-E/2,R=T/2-_[k]/2-1,I=ai(h[b],R),O=ai(h[g],R),B=I,$=T-_[k]-O,Y=T/2-_[k]/2+N,z=$m(B,Y,$),K=!c.arrow&&qo(o)!=null&&Y!==z&&u.reference[k]/2-(Y<B?I:O)-_[k]/2<0,G=K?Y<B?Y-B:Y-$:0;return{[w]:x[w]+G,data:{[w]:z,centerOffset:Y-z-G,...K&&{alignmentOffset:G}},reset:K}}}),yI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:u,rects:d,initialPlacement:l,platform:c,elements:f}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...v}=js(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const b=Ns(o),g=ts(l),y=Ns(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(f.floating)),E=x||(y||!_?[Fu(l)]:dI(l)),P=k!=="none";!x&&P&&E.push(...pI(l,_,k,j));const T=[l,...E],N=await cl(t,v),R=[];let I=((s=u.flip)==null?void 0:s.overflows)||[];if(m&&R.push(N[b]),h){const Y=uI(o,d,j);R.push(N[Y[0]],N[Y[1]])}if(I=[...I,{placement:o,overflows:R}],!R.every(Y=>Y<=0)){var O,B;const Y=(((O=u.flip)==null?void 0:O.index)||0)+1,z=T[Y];if(z&&(!(h==="alignment"?g!==ts(z):!1)||I.every(U=>ts(U.placement)===g?U.overflows[0]>0:!0)))return{data:{index:Y,overflows:I},reset:{placement:z}};let K=(B=I.filter(G=>G.overflows[0]<=0).sort((G,U)=>G.overflows[1]-U.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(w){case"bestFit":{var $;const G=($=I.filter(U=>{if(P){const L=ts(U.placement);return L===g||L==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(L=>L>0).reduce((L,M)=>L+M,0)]).sort((U,L)=>U[1]-L[1])[0])==null?void 0:$[0];G&&(K=G);break}case"initialPlacement":K=l;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function Ib(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ob(e){return oI.some(t=>e[t]>=0)}const bI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=js(e,t);switch(s){case"referenceHidden":{const u=await cl(t,{...o,elementContext:"reference"}),d=Ib(u,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Ob(d)}}}case"escaped":{const u=await cl(t,{...o,altBoundary:!0}),d=Ib(u,n.floating);return{data:{escapedOffsets:d,escaped:Ob(d)}}}default:return{}}}}},JS=new Set(["left","top"]);async function wI(e,t){const{placement:n,platform:s,elements:o}=e,u=await(s.isRTL==null?void 0:s.isRTL(o.floating)),d=Ns(n),l=qo(n),c=ts(n)==="y",f=JS.has(d)?-1:1,m=u&&c?-1:1,h=js(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:k}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof k=="number"&&(w=l==="end"?k*-1:k),c?{x:w*m,y:x*f}:{x:x*f,y:w*m}}const _I=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:u,placement:d,middlewareData:l}=t,c=await wI(t,e);return d===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:o+c.x,y:u+c.y,data:{...c,placement:d}}}}},CI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:u=!0,crossAxis:d=!1,limiter:l={fn:v=>{let{x:b,y:g}=v;return{x:b,y:g}}},...c}=js(e,t),f={x:n,y:s},m=await cl(t,c),h=ts(Ns(o)),x=mg(h);let w=f[x],k=f[h];if(u){const v=x==="y"?"top":"left",b=x==="y"?"bottom":"right",g=w+m[v],y=w-m[b];w=$m(g,w,y)}if(d){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=k+m[v],y=k-m[b];k=$m(g,k,y)}const _=l.fn({...t,[x]:w,[h]:k});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[x]:u,[h]:d}}}}}},SI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:u,middlewareData:d}=t,{offset:l=0,mainAxis:c=!0,crossAxis:f=!0}=js(e,t),m={x:n,y:s},h=ts(o),x=mg(h);let w=m[x],k=m[h];const _=js(l,t),v=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const y=x==="y"?"height":"width",j=u.reference[x]-u.floating[y]+v.mainAxis,E=u.reference[x]+u.reference[y]-v.mainAxis;w<j?w=j:w>E&&(w=E)}if(f){var b,g;const y=x==="y"?"width":"height",j=JS.has(Ns(o)),E=u.reference[h]-u.floating[y]+(j&&((b=d.offset)==null?void 0:b[h])||0)+(j?0:v.crossAxis),P=u.reference[h]+u.reference[y]+(j?0:((g=d.offset)==null?void 0:g[h])||0)-(j?v.crossAxis:0);k<E?k=E:k>P&&(k=P)}return{[x]:w,[h]:k}}}},kI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:u,platform:d,elements:l}=t,{apply:c=()=>{},...f}=js(e,t),m=await cl(t,f),h=Ns(o),x=qo(o),w=ts(o)==="y",{width:k,height:_}=u.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=x===(await(d.isRTL==null?void 0:d.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=x==="end"?"top":"bottom");const g=_-m.top-m.bottom,y=k-m.left-m.right,j=ai(_-m[v],g),E=ai(k-m[b],y),P=!t.middlewareData.shift;let T=j,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(T=g),P&&!x){const I=cn(m.left,0),O=cn(m.right,0),B=cn(m.top,0),$=cn(m.bottom,0);w?N=k-2*(I!==0||O!==0?I+O:cn(m.left,m.right)):T=_-2*(B!==0||$!==0?B+$:cn(m.top,m.bottom))}await c({...t,availableWidth:N,availableHeight:T});const R=await d.getDimensions(l.floating);return k!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function Yo(e){return QS(e)?(e.nodeName||"").toLowerCase():"#document"}function hn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ds(e){var t;return(t=(QS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QS(e){return xd()?e instanceof Node||e instanceof hn(e).Node:!1}function Wn(e){return xd()?e instanceof Element||e instanceof hn(e).Element:!1}function as(e){return xd()?e instanceof HTMLElement||e instanceof hn(e).HTMLElement:!1}function Bb(e){return!xd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hn(e).ShadowRoot}const jI=new Set(["inline","contents"]);function Rl(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!jI.has(o)}const NI=new Set(["table","td","th"]);function EI(e){return NI.has(Yo(e))}const PI=[":popover-open",":modal"];function vd(e){return PI.some(t=>{try{return e.matches(t)}catch{return!1}})}const AI=["transform","translate","scale","rotate","perspective"],TI=["transform","translate","scale","rotate","perspective","filter"],RI=["paint","layout","strict","content"];function xg(e){const t=vg(),n=Wn(e)?Vn(e):e;return AI.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||TI.some(s=>(n.willChange||"").includes(s))||RI.some(s=>(n.contain||"").includes(s))}function MI(e){let t=li(e);for(;as(t)&&!$o(t);){if(xg(t))return t;if(vd(t))return null;t=li(t)}return null}function vg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DI=new Set(["html","body","#document"]);function $o(e){return DI.has(Yo(e))}function Vn(e){return hn(e).getComputedStyle(e)}function yd(e){return Wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bb(e)&&e.host||ds(e);return Bb(t)?t.host:t}function ZS(e){const t=li(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:as(t)&&Rl(t)?t:ZS(t)}function ul(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ZS(e),u=o===((s=e.ownerDocument)==null?void 0:s.body),d=hn(o);if(u){const l=Hm(d);return t.concat(d,d.visualViewport||[],Rl(o)?o:[],l&&n?ul(l):[])}return t.concat(o,ul(o,[],n))}function Hm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e1(e){const t=Vn(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=as(e),u=o?e.offsetWidth:n,d=o?e.offsetHeight:s,l=Bu(n)!==u||Bu(s)!==d;return l&&(n=u,s=d),{width:n,height:s,$:l}}function yg(e){return Wn(e)?e:e.contextElement}function To(e){const t=yg(e);if(!as(t))return ss(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:u}=e1(t);let d=(u?Bu(n.width):n.width)/s,l=(u?Bu(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!l||!Number.isFinite(l))&&(l=1),{x:d,y:l}}const LI=ss(0);function t1(e){const t=hn(e);return!vg()||!t.visualViewport?LI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function II(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==hn(e)?!1:t}function Hi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),u=yg(e);let d=ss(1);t&&(s?Wn(s)&&(d=To(s)):d=To(e));const l=II(u,n,s)?t1(u):ss(0);let c=(o.left+l.x)/d.x,f=(o.top+l.y)/d.y,m=o.width/d.x,h=o.height/d.y;if(u){const x=hn(u),w=s&&Wn(s)?hn(s):s;let k=x,_=Hm(k);for(;_&&s&&w!==k;){const v=To(_),b=_.getBoundingClientRect(),g=Vn(_),y=b.left+(_.clientLeft+parseFloat(g.paddingLeft))*v.x,j=b.top+(_.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,f*=v.y,m*=v.x,h*=v.y,c+=y,f+=j,k=hn(_),_=Hm(k)}}return $u({width:m,height:h,x:c,y:f})}function bd(e,t){const n=yd(e).scrollLeft;return t?t.left+n:Hi(ds(e)).left+n}function r1(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-bd(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function OI(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const u=o==="fixed",d=ds(s),l=t?vd(t.floating):!1;if(s===d||l&&u)return n;let c={scrollLeft:0,scrollTop:0},f=ss(1);const m=ss(0),h=as(s);if((h||!h&&!u)&&((Yo(s)!=="body"||Rl(d))&&(c=yd(s)),as(s))){const w=Hi(s);f=To(s),m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}const x=d&&!h&&!u?r1(d,c):ss(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+m.x+x.x,y:n.y*f.y-c.scrollTop*f.y+m.y+x.y}}function BI(e){return Array.from(e.getClientRects())}function FI(e){const t=ds(e),n=yd(e),s=e.ownerDocument.body,o=cn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),u=cn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let d=-n.scrollLeft+bd(e);const l=-n.scrollTop;return Vn(s).direction==="rtl"&&(d+=cn(t.clientWidth,s.clientWidth)-o),{width:o,height:u,x:d,y:l}}const Fb=25;function $I(e,t){const n=hn(e),s=ds(e),o=n.visualViewport;let u=s.clientWidth,d=s.clientHeight,l=0,c=0;if(o){u=o.width,d=o.height;const m=vg();(!m||m&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const f=bd(s);if(f<=0){const m=s.ownerDocument,h=m.body,x=getComputedStyle(h),w=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,k=Math.abs(s.clientWidth-h.clientWidth-w);k<=Fb&&(u-=k)}else f<=Fb&&(u+=f);return{width:u,height:d,x:l,y:c}}const zI=new Set(["absolute","fixed"]);function HI(e,t){const n=Hi(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,u=as(e)?To(e):ss(1),d=e.clientWidth*u.x,l=e.clientHeight*u.y,c=o*u.x,f=s*u.y;return{width:d,height:l,x:c,y:f}}function $b(e,t,n){let s;if(t==="viewport")s=$I(e,n);else if(t==="document")s=FI(ds(e));else if(Wn(t))s=HI(t,n);else{const o=t1(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return $u(s)}function n1(e,t){const n=li(e);return n===t||!Wn(n)||$o(n)?!1:Vn(n).position==="fixed"||n1(n,t)}function WI(e,t){const n=t.get(e);if(n)return n;let s=ul(e,[],!1).filter(l=>Wn(l)&&Yo(l)!=="body"),o=null;const u=Vn(e).position==="fixed";let d=u?li(e):e;for(;Wn(d)&&!$o(d);){const l=Vn(d),c=xg(d);!c&&l.position==="fixed"&&(o=null),(u?!c&&!o:!c&&l.position==="static"&&!!o&&zI.has(o.position)||Rl(d)&&!c&&n1(e,d))?s=s.filter(m=>m!==d):o=l,d=li(d)}return t.set(e,s),s}function VI(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const d=[...n==="clippingAncestors"?vd(t)?[]:WI(t,this._c):[].concat(n),s],l=d[0],c=d.reduce((f,m)=>{const h=$b(t,m,o);return f.top=cn(h.top,f.top),f.right=ai(h.right,f.right),f.bottom=ai(h.bottom,f.bottom),f.left=cn(h.left,f.left),f},$b(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UI(e){const{width:t,height:n}=e1(e);return{width:t,height:n}}function GI(e,t,n){const s=as(t),o=ds(t),u=n==="fixed",d=Hi(e,!0,u,t);let l={scrollLeft:0,scrollTop:0};const c=ss(0);function f(){c.x=bd(o)}if(s||!s&&!u)if((Yo(t)!=="body"||Rl(o))&&(l=yd(t)),s){const w=Hi(t,!0,u,t);c.x=w.x+t.clientLeft,c.y=w.y+t.clientTop}else o&&f();u&&!s&&o&&f();const m=o&&!s&&!u?r1(o,l):ss(0),h=d.left+l.scrollLeft-c.x-m.x,x=d.top+l.scrollTop-c.y-m.y;return{x:h,y:x,width:d.width,height:d.height}}function qf(e){return Vn(e).position==="static"}function zb(e,t){if(!as(e)||Vn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ds(e)===n&&(n=n.ownerDocument.body),n}function s1(e,t){const n=hn(e);if(vd(e))return n;if(!as(e)){let o=li(e);for(;o&&!$o(o);){if(Wn(o)&&!qf(o))return o;o=li(o)}return n}let s=zb(e,t);for(;s&&EI(s)&&qf(s);)s=zb(s,t);return s&&$o(s)&&qf(s)&&!xg(s)?n:s||MI(e)||n}const KI=async function(e){const t=this.getOffsetParent||s1,n=this.getDimensions,s=await n(e.floating);return{reference:GI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function qI(e){return Vn(e).direction==="rtl"}const YI={convertOffsetParentRelativeRectToViewportRelativeRect:OI,getDocumentElement:ds,getClippingRect:VI,getOffsetParent:s1,getElementRects:KI,getClientRects:BI,getDimensions:UI,getScale:To,isElement:Wn,isRTL:qI};function i1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XI(e,t){let n=null,s;const o=ds(e);function u(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function d(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),u();const f=e.getBoundingClientRect(),{left:m,top:h,width:x,height:w}=f;if(l||t(),!x||!w)return;const k=lu(h),_=lu(o.clientWidth-(m+x)),v=lu(o.clientHeight-(h+w)),b=lu(m),y={rootMargin:-k+"px "+-_+"px "+-v+"px "+-b+"px",threshold:cn(0,ai(1,c))||1};let j=!0;function E(P){const T=P[0].intersectionRatio;if(T!==c){if(!j)return d();T?d(!1,T):s=setTimeout(()=>{d(!1,1e-7)},1e3)}T===1&&!i1(f,e.getBoundingClientRect())&&d(),j=!1}try{n=new IntersectionObserver(E,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return d(!0),u}function JI(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,f=yg(e),m=o||u?[...f?ul(f):[],...ul(t)]:[];m.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),u&&b.addEventListener("resize",n)});const h=f&&l?XI(f,n):null;let x=-1,w=null;d&&(w=new ResizeObserver(b=>{let[g]=b;g&&g.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var y;(y=w)==null||y.observe(t)})),n()}),f&&!c&&w.observe(f),w.observe(t));let k,_=c?Hi(e):null;c&&v();function v(){const b=Hi(e);_&&!i1(_,b)&&n(),_=b,k=requestAnimationFrame(v)}return n(),()=>{var b;m.forEach(g=>{o&&g.removeEventListener("scroll",n),u&&g.removeEventListener("resize",n)}),h==null||h(),(b=w)==null||b.disconnect(),w=null,c&&cancelAnimationFrame(k)}}const QI=_I,ZI=CI,eO=yI,tO=kI,rO=bI,Hb=vI,nO=SI,sO=(e,t,n)=>{const s=new Map,o={platform:YI,...n},u={...o.platform,_c:s};return xI(e,t,{...o,platform:u})};var iO=typeof document<"u",oO=function(){},bu=iO?C.useLayoutEffect:oO;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!zu(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const u=o[s];if(!(u==="_owner"&&e.$$typeof)&&!zu(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function o1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wb(e,t){const n=o1(e);return Math.round(t*n)/n}function Yf(e){const t=C.useRef(e);return bu(()=>{t.current=e}),t}function aO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:u,floating:d}={},transform:l=!0,whileElementsMounted:c,open:f}=e,[m,h]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=C.useState(s);zu(x,s)||w(s);const[k,_]=C.useState(null),[v,b]=C.useState(null),g=C.useCallback(U=>{U!==P.current&&(P.current=U,_(U))},[]),y=C.useCallback(U=>{U!==T.current&&(T.current=U,b(U))},[]),j=u||k,E=d||v,P=C.useRef(null),T=C.useRef(null),N=C.useRef(m),R=c!=null,I=Yf(c),O=Yf(o),B=Yf(f),$=C.useCallback(()=>{if(!P.current||!T.current)return;const U={placement:t,strategy:n,middleware:x};O.current&&(U.platform=O.current),sO(P.current,T.current,U).then(L=>{const M={...L,isPositioned:B.current!==!1};Y.current&&!zu(N.current,M)&&(N.current=M,yl.flushSync(()=>{h(M)}))})},[x,t,n,O,B]);bu(()=>{f===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[f]);const Y=C.useRef(!1);bu(()=>(Y.current=!0,()=>{Y.current=!1}),[]),bu(()=>{if(j&&(P.current=j),E&&(T.current=E),j&&E){if(I.current)return I.current(j,E,$);$()}},[j,E,$,I,R]);const z=C.useMemo(()=>({reference:P,floating:T,setReference:g,setFloating:y}),[g,y]),K=C.useMemo(()=>({reference:j,floating:E}),[j,E]),G=C.useMemo(()=>{const U={position:n,left:0,top:0};if(!K.floating)return U;const L=Wb(K.floating,m.x),M=Wb(K.floating,m.y);return l?{...U,transform:"translate("+L+"px, "+M+"px)",...o1(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:M}},[n,l,K.floating,m.x,m.y]);return C.useMemo(()=>({...m,update:$,refs:z,elements:K,floatingStyles:G}),[m,$,z,K,G])}const lO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Hb({element:s.current,padding:o}).fn(n):{}:s?Hb({element:s,padding:o}).fn(n):{}}}},cO=(e,t)=>({...QI(e),options:[e,t]}),uO=(e,t)=>({...ZI(e),options:[e,t]}),dO=(e,t)=>({...nO(e),options:[e,t]}),hO=(e,t)=>({...eO(e),options:[e,t]}),fO=(e,t)=>({...tO(e),options:[e,t]}),mO=(e,t)=>({...rO(e),options:[e,t]}),pO=(e,t)=>({...lO(e),options:[e,t]});var gO="Arrow",a1=C.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...u}=e;return r.jsx(et.svg,{...u,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});a1.displayName=gO;var xO=a1,bg="Popper",[l1,Xo]=en(bg),[vO,c1]=l1(bg),u1=e=>{const{__scopePopper:t,children:n}=e,[s,o]=C.useState(null);return r.jsx(vO,{scope:t,anchor:s,onAnchorChange:o,children:n})};u1.displayName=bg;var d1="PopperAnchor",h1=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,u=c1(d1,n),d=C.useRef(null),l=ct(t,d),c=C.useRef(null);return C.useEffect(()=>{const f=c.current;c.current=(s==null?void 0:s.current)||d.current,f!==c.current&&u.onAnchorChange(c.current)}),s?null:r.jsx(et.div,{...o,ref:l})});h1.displayName=d1;var wg="PopperContent",[yO,bO]=l1(wg),f1=C.forwardRef((e,t)=>{var X,W,le,te,J,se;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:u="center",alignOffset:d=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:k,..._}=e,v=c1(wg,n),[b,g]=C.useState(null),y=ct(t,we=>g(we)),[j,E]=C.useState(null),P=ug(j),T=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,R=s+(u!=="center"?"-"+u:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},O=Array.isArray(f)?f:[f],B=O.length>0,$={padding:I,boundary:O.filter(_O),altBoundary:B},{refs:Y,floatingStyles:z,placement:K,isPositioned:G,middlewareData:U}=aO({strategy:"fixed",placement:R,whileElementsMounted:(...we)=>JI(...we,{animationFrame:w==="always"}),elements:{reference:v.anchor},middleware:[cO({mainAxis:o+N,alignmentAxis:d}),c&&uO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dO():void 0,...$}),c&&hO({...$}),fO({...$,apply:({elements:we,rects:Le,availableWidth:Ke,availableHeight:ne})=>{const{width:ue,height:je}=Le.reference,De=we.floating.style;De.setProperty("--radix-popper-available-width",`${Ke}px`),De.setProperty("--radix-popper-available-height",`${ne}px`),De.setProperty("--radix-popper-anchor-width",`${ue}px`),De.setProperty("--radix-popper-anchor-height",`${je}px`)}}),j&&pO({element:j,padding:l}),CO({arrowWidth:T,arrowHeight:N}),x&&mO({strategy:"referenceHidden",...$})]}),[L,M]=g1(K),F=Nr(k);wr(()=>{G&&(F==null||F())},[G,F]);const q=(X=U.arrow)==null?void 0:X.x,H=(W=U.arrow)==null?void 0:W.y,ae=((le=U.arrow)==null?void 0:le.centerOffset)!==0,[fe,me]=C.useState();return wr(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:G?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(te=U.transformOrigin)==null?void 0:te.x,(J=U.transformOrigin)==null?void 0:J.y].join(" "),...((se=U.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(yO,{scope:n,placedSide:L,onArrowChange:E,arrowX:q,arrowY:H,shouldHideArrow:ae,children:r.jsx(et.div,{"data-side":L,"data-align":M,..._,ref:y,style:{..._.style,animation:G?void 0:"none"}})})})});f1.displayName=wg;var m1="PopperArrow",wO={top:"bottom",right:"left",bottom:"top",left:"right"},p1=C.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,u=bO(m1,s),d=wO[u.placedSide];return r.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:r.jsx(xO,{...o,ref:n,style:{...o.style,display:"block"}})})});p1.displayName=m1;function _O(e){return e!==null}var CO=e=>({name:"transformOrigin",options:e,fn(t){var v,b,g;const{placement:n,rects:s,middlewareData:o}=t,d=((v=o.arrow)==null?void 0:v.centerOffset)!==0,l=d?0:e.arrowWidth,c=d?0:e.arrowHeight,[f,m]=g1(n),h={start:"0%",center:"50%",end:"100%"}[m],x=(((b=o.arrow)==null?void 0:b.x)??0)+l/2,w=(((g=o.arrow)==null?void 0:g.y)??0)+c/2;let k="",_="";return f==="bottom"?(k=d?h:`${x}px`,_=`${-c}px`):f==="top"?(k=d?h:`${x}px`,_=`${s.floating.height+c}px`):f==="right"?(k=`${-c}px`,_=d?h:`${w}px`):f==="left"&&(k=`${s.floating.width+c}px`,_=d?h:`${w}px`),{data:{x:k,y:_}}}});function g1(e){const[t,n="center"]=e.split("-");return[t,n]}var _g=u1,Cg=h1,Sg=f1,kg=p1;function SO(e){const t=kO(e),n=C.forwardRef((s,o)=>{const{children:u,...d}=s,l=C.Children.toArray(u),c=l.find(NO);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}function kO(e){const t=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const d=PO(o),l=EO(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jO=Symbol("radix.slottable");function NO(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jO}function EO(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function PO(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AO="VisuallyHidden",v1=C.forwardRef((e,t)=>r.jsx(et.span,{...e,ref:t,style:{...x1,...e.style}}));v1.displayName=AO;var TO=v1,RO=[" ","Enter","ArrowUp","ArrowDown"],MO=[" ","Enter"],Wi="Select",[wd,_d,DO]=fg(Wi),[Jo]=en(Wi,[DO,Xo]),Cd=Xo(),[LO,fi]=Jo(Wi),[IO,OO]=Jo(Wi),y1=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:u,value:d,defaultValue:l,onValueChange:c,dir:f,name:m,autoComplete:h,disabled:x,required:w,form:k}=e,_=Cd(t),[v,b]=C.useState(null),[g,y]=C.useState(null),[j,E]=C.useState(!1),P=El(f),[T,N]=os({prop:s,defaultProp:o??!1,onChange:u,caller:Wi}),[R,I]=os({prop:d,defaultProp:l,onChange:c,caller:Wi}),O=C.useRef(null),B=v?k||!!v.closest("form"):!0,[$,Y]=C.useState(new Set),z=Array.from($).map(K=>K.props.value).join(";");return r.jsx(_g,{..._,children:r.jsxs(LO,{required:w,scope:t,trigger:v,onTriggerChange:b,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:jn(),value:R,onValueChange:I,open:T,onOpenChange:N,dir:P,triggerPointerDownPosRef:O,disabled:x,children:[r.jsx(wd.Provider,{scope:t,children:r.jsx(IO,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(K=>{Y(G=>new Set(G).add(K))},[]),onNativeOptionRemove:C.useCallback(K=>{Y(G=>{const U=new Set(G);return U.delete(K),U})},[]),children:n})}),B?r.jsxs(W1,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:h,value:R,onChange:K=>I(K.target.value),disabled:x,form:k,children:[R===void 0?r.jsx("option",{value:""}):null,Array.from($)]},z):null]})})};y1.displayName=Wi;var b1="SelectTrigger",w1=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,u=Cd(n),d=fi(b1,n),l=d.disabled||s,c=ct(t,d.onTriggerChange),f=_d(n),m=C.useRef("touch"),[h,x,w]=U1(_=>{const v=f().filter(y=>!y.disabled),b=v.find(y=>y.value===d.value),g=G1(v,_,b);g!==void 0&&d.onValueChange(g.value)}),k=_=>{l||(d.onOpenChange(!0),w()),_&&(d.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return r.jsx(Cg,{asChild:!0,...u,children:r.jsx(et.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V1(d.value)?"":void 0,...o,ref:c,onClick:Ie(o.onClick,_=>{_.currentTarget.focus(),m.current!=="mouse"&&k(_)}),onPointerDown:Ie(o.onPointerDown,_=>{m.current=_.pointerType;const v=_.target;v.hasPointerCapture(_.pointerId)&&v.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(k(_),_.preventDefault())}),onKeyDown:Ie(o.onKeyDown,_=>{const v=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(v&&_.key===" ")&&RO.includes(_.key)&&(k(),_.preventDefault())})})})});w1.displayName=b1;var _1="SelectValue",C1=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:u,placeholder:d="",...l}=e,c=fi(_1,n),{onValueNodeHasChildrenChange:f}=c,m=u!==void 0,h=ct(t,c.onValueNodeChange);return wr(()=>{f(m)},[f,m]),r.jsx(et.span,{...l,ref:h,style:{pointerEvents:"none"},children:V1(c.value)?r.jsx(r.Fragment,{children:d}):u})});C1.displayName=_1;var BO="SelectIcon",S1=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return r.jsx(et.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});S1.displayName=BO;var FO="SelectPortal",k1=e=>r.jsx(Al,{asChild:!0,...e});k1.displayName=FO;var Vi="SelectContent",j1=C.forwardRef((e,t)=>{const n=fi(Vi,e.__scopeSelect),[s,o]=C.useState();if(wr(()=>{o(new DocumentFragment)},[]),!n.open){const u=s;return u?yl.createPortal(r.jsx(N1,{scope:e.__scopeSelect,children:r.jsx(wd.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),u):null}return r.jsx(E1,{...e,ref:t})});j1.displayName=Vi;var zn=10,[N1,mi]=Jo(Vi),$O="SelectContentImpl",zO=SO("SelectContent.RemoveScroll"),E1=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:u,onPointerDownOutside:d,side:l,sideOffset:c,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:x,collisionPadding:w,sticky:k,hideWhenDetached:_,avoidCollisions:v,...b}=e,g=fi(Vi,n),[y,j]=C.useState(null),[E,P]=C.useState(null),T=ct(t,X=>j(X)),[N,R]=C.useState(null),[I,O]=C.useState(null),B=_d(n),[$,Y]=C.useState(!1),z=C.useRef(!1);C.useEffect(()=>{if(y)return ng(y)},[y]),rg();const K=C.useCallback(X=>{const[W,...le]=B().map(se=>se.ref.current),[te]=le.slice(-1),J=document.activeElement;for(const se of X)if(se===J||(se==null||se.scrollIntoView({block:"nearest"}),se===W&&E&&(E.scrollTop=0),se===te&&E&&(E.scrollTop=E.scrollHeight),se==null||se.focus(),document.activeElement!==J))return},[B,E]),G=C.useCallback(()=>K([N,y]),[K,N,y]);C.useEffect(()=>{$&&G()},[$,G]);const{onOpenChange:U,triggerPointerDownPosRef:L}=g;C.useEffect(()=>{if(y){let X={x:0,y:0};const W=te=>{var J,se;X={x:Math.abs(Math.round(te.pageX)-(((J=L.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(te.pageY)-(((se=L.current)==null?void 0:se.y)??0))}},le=te=>{X.x<=10&&X.y<=10?te.preventDefault():y.contains(te.target)||U(!1),document.removeEventListener("pointermove",W),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",le,{capture:!0})}}},[y,U,L]),C.useEffect(()=>{const X=()=>U(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[U]);const[M,F]=U1(X=>{const W=B().filter(J=>!J.disabled),le=W.find(J=>J.ref.current===document.activeElement),te=G1(W,X,le);te&&setTimeout(()=>te.ref.current.focus())}),q=C.useCallback((X,W,le)=>{const te=!z.current&&!le;(g.value!==void 0&&g.value===W||te)&&(R(X),te&&(z.current=!0))},[g.value]),H=C.useCallback(()=>y==null?void 0:y.focus(),[y]),ae=C.useCallback((X,W,le)=>{const te=!z.current&&!le;(g.value!==void 0&&g.value===W||te)&&O(X)},[g.value]),fe=s==="popper"?Wm:P1,me=fe===Wm?{side:l,sideOffset:c,align:f,alignOffset:m,arrowPadding:h,collisionBoundary:x,collisionPadding:w,sticky:k,hideWhenDetached:_,avoidCollisions:v}:{};return r.jsx(N1,{scope:n,content:y,viewport:E,onViewportChange:P,itemRefCallback:q,selectedItem:N,onItemLeave:H,itemTextRefCallback:ae,focusSelectedItem:G,selectedItemText:I,position:s,isPositioned:$,searchRef:M,children:r.jsx(ud,{as:zO,allowPinchZoom:!0,children:r.jsx(ld,{asChild:!0,trapped:g.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ie(o,X=>{var W;(W=g.trigger)==null||W.focus({preventScroll:!0}),X.preventDefault()}),children:r.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(fe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:X=>X.preventDefault(),...b,...me,onPlaced:()=>Y(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ie(b.onKeyDown,X=>{const W=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!W&&X.key.length===1&&F(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let te=B().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(X.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const J=X.target,se=te.indexOf(J);te=te.slice(se+1)}setTimeout(()=>K(te)),X.preventDefault()}})})})})})})});E1.displayName=$O;var HO="SelectItemAlignedPosition",P1=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,u=fi(Vi,n),d=mi(Vi,n),[l,c]=C.useState(null),[f,m]=C.useState(null),h=ct(t,T=>m(T)),x=_d(n),w=C.useRef(!1),k=C.useRef(!0),{viewport:_,selectedItem:v,selectedItemText:b,focusSelectedItem:g}=d,y=C.useCallback(()=>{if(u.trigger&&u.valueNode&&l&&f&&_&&v&&b){const T=u.trigger.getBoundingClientRect(),N=f.getBoundingClientRect(),R=u.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(u.dir!=="rtl"){const J=I.left-N.left,se=R.left-J,we=T.left-se,Le=T.width+we,Ke=Math.max(Le,N.width),ne=window.innerWidth-zn,ue=Om(se,[zn,Math.max(zn,ne-Ke)]);l.style.minWidth=Le+"px",l.style.left=ue+"px"}else{const J=N.right-I.right,se=window.innerWidth-R.right-J,we=window.innerWidth-T.right-se,Le=T.width+we,Ke=Math.max(Le,N.width),ne=window.innerWidth-zn,ue=Om(se,[zn,Math.max(zn,ne-Ke)]);l.style.minWidth=Le+"px",l.style.right=ue+"px"}const O=x(),B=window.innerHeight-zn*2,$=_.scrollHeight,Y=window.getComputedStyle(f),z=parseInt(Y.borderTopWidth,10),K=parseInt(Y.paddingTop,10),G=parseInt(Y.borderBottomWidth,10),U=parseInt(Y.paddingBottom,10),L=z+K+$+U+G,M=Math.min(v.offsetHeight*5,L),F=window.getComputedStyle(_),q=parseInt(F.paddingTop,10),H=parseInt(F.paddingBottom,10),ae=T.top+T.height/2-zn,fe=B-ae,me=v.offsetHeight/2,X=v.offsetTop+me,W=z+K+X,le=L-W;if(W<=ae){const J=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const se=f.clientHeight-_.offsetTop-_.offsetHeight,we=Math.max(fe,me+(J?H:0)+se+G),Le=W+we;l.style.height=Le+"px"}else{const J=O.length>0&&v===O[0].ref.current;l.style.top="0px";const we=Math.max(ae,z+_.offsetTop+(J?q:0)+me)+le;l.style.height=we+"px",_.scrollTop=W-ae+_.offsetTop}l.style.margin=`${zn}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>w.current=!0)}},[x,u.trigger,u.valueNode,l,f,_,v,b,u.dir,s]);wr(()=>y(),[y]);const[j,E]=C.useState();wr(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const P=C.useCallback(T=>{T&&k.current===!0&&(y(),g==null||g(),k.current=!1)},[y,g]);return r.jsx(VO,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:P,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:r.jsx(et.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});P1.displayName=HO;var WO="SelectPopperPosition",Wm=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=zn,...u}=e,d=Cd(n);return r.jsx(Sg,{...d,...u,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wm.displayName=WO;var[VO,jg]=Jo(Vi,{}),Vm="SelectViewport",A1=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,u=mi(Vm,n),d=jg(Vm,n),l=ct(t,u.onViewportChange),c=C.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(wd.Slot,{scope:n,children:r.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ie(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=d;if(x!=null&&x.current&&h){const w=Math.abs(c.current-m.scrollTop);if(w>0){const k=window.innerHeight-zn*2,_=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(_,v);if(b<k){const g=b+w,y=Math.min(k,g),j=g-y;h.style.height=y+"px",h.style.bottom==="0px"&&(m.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});A1.displayName=Vm;var T1="SelectGroup",[UO,GO]=Jo(T1),KO=C.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=jn();return r.jsx(UO,{scope:n,id:o,children:r.jsx(et.div,{role:"group","aria-labelledby":o,...s,ref:t})})});KO.displayName=T1;var R1="SelectLabel",M1=C.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=GO(R1,n);return r.jsx(et.div,{id:o.id,...s,ref:t})});M1.displayName=R1;var Hu="SelectItem",[qO,D1]=Jo(Hu),L1=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:u,...d}=e,l=fi(Hu,n),c=mi(Hu,n),f=l.value===s,[m,h]=C.useState(u??""),[x,w]=C.useState(!1),k=ct(t,g=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,g,s,o)}),_=jn(),v=C.useRef("touch"),b=()=>{o||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(qO,{scope:n,value:s,disabled:o,textId:_,isSelected:f,onItemTextChange:C.useCallback(g=>{h(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(wd.ItemSlot,{scope:n,value:s,disabled:o,textValue:m,children:r.jsx(et.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:k,onFocus:Ie(d.onFocus,()=>w(!0)),onBlur:Ie(d.onBlur,()=>w(!1)),onClick:Ie(d.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Ie(d.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Ie(d.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:Ie(d.onPointerMove,g=>{var y;v.current=g.pointerType,o?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(d.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Ie(d.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(MO.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});L1.displayName=Hu;var Ga="SelectItemText",I1=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...u}=e,d=fi(Ga,n),l=mi(Ga,n),c=D1(Ga,n),f=OO(Ga,n),[m,h]=C.useState(null),x=ct(t,b=>h(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),w=m==null?void 0:m.textContent,k=C.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:v}=f;return wr(()=>(_(k),()=>v(k)),[_,v,k]),r.jsxs(r.Fragment,{children:[r.jsx(et.span,{id:c.textId,...u,ref:x}),c.isSelected&&d.valueNode&&!d.valueNodeHasChildren?yl.createPortal(u.children,d.valueNode):null]})});I1.displayName=Ga;var O1="SelectItemIndicator",B1=C.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return D1(O1,n).isSelected?r.jsx(et.span,{"aria-hidden":!0,...s,ref:t}):null});B1.displayName=O1;var Um="SelectScrollUpButton",F1=C.forwardRef((e,t)=>{const n=mi(Um,e.__scopeSelect),s=jg(Um,e.__scopeSelect),[o,u]=C.useState(!1),d=ct(t,s.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=c.scrollTop>0;u(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?r.jsx(z1,{...e,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});F1.displayName=Um;var Gm="SelectScrollDownButton",$1=C.forwardRef((e,t)=>{const n=mi(Gm,e.__scopeSelect),s=jg(Gm,e.__scopeSelect),[o,u]=C.useState(!1),d=ct(t,s.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<f;u(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?r.jsx(z1,{...e,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$1.displayName=Gm;var z1=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,u=mi("SelectScrollButton",n),d=C.useRef(null),l=_d(n),c=C.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),wr(()=>{var m;const f=l().find(h=>h.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),r.jsx(et.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ie(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:Ie(o.onPointerMove,()=>{var f;(f=u.onItemLeave)==null||f.call(u),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:Ie(o.onPointerLeave,()=>{c()})})}),YO="SelectSeparator",H1=C.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(et.div,{"aria-hidden":!0,...s,ref:t})});H1.displayName=YO;var Km="SelectArrow",XO=C.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Cd(n),u=fi(Km,n),d=mi(Km,n);return u.open&&d.position==="popper"?r.jsx(kg,{...o,...s,ref:t}):null});XO.displayName=Km;var JO="SelectBubbleInput",W1=C.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=C.useRef(null),u=ct(s,o),d=cg(t);return C.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(d!==t&&m){const h=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(h)}},[d,t]),r.jsx(et.select,{...n,style:{...x1,...n.style},ref:u,defaultValue:t})});W1.displayName=JO;function V1(e){return e===""||e===void 0}function U1(e){const t=Nr(e),n=C.useRef(""),s=C.useRef(0),o=C.useCallback(d=>{const l=n.current+d;t(l),(function c(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),u=C.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,u]}function G1(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let d=QO(e,Math.max(u,0));o.length===1&&(d=d.filter(f=>f!==n));const c=d.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function QO(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var ZO=y1,K1=w1,e6=C1,t6=S1,r6=k1,q1=j1,n6=A1,Y1=M1,X1=L1,s6=I1,i6=B1,J1=F1,Q1=$1,Z1=H1;const xr=ZO,vr=e6,dr=C.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(K1,{ref:s,className:Ee("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(t6,{asChild:!0,children:r.jsx(yr,{className:"h-4 w-4 opacity-50"})})]}));dr.displayName=K1.displayName;const ek=C.forwardRef(({className:e,...t},n)=>r.jsx(J1,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(yM,{className:"h-4 w-4"})}));ek.displayName=J1.displayName;const tk=C.forwardRef(({className:e,...t},n)=>r.jsx(Q1,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(yr,{className:"h-4 w-4"})}));tk.displayName=Q1.displayName;const hr=C.forwardRef(({className:e,children:t,position:n="popper",...s},o)=>r.jsx(r6,{children:r.jsxs(q1,{ref:o,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(ek,{}),r.jsx(n6,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(tk,{})]})}));hr.displayName=q1.displayName;const o6=C.forwardRef(({className:e,...t},n)=>r.jsx(Y1,{ref:n,className:Ee("px-2 py-1.5 text-sm font-semibold",e),...t}));o6.displayName=Y1.displayName;const kt=C.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(X1,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i6,{children:r.jsx(Jt,{className:"h-4 w-4"})})}),r.jsx(s6,{children:t})]}));kt.displayName=X1.displayName;const a6=C.forwardRef(({className:e,...t},n)=>r.jsx(Z1,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));a6.displayName=Z1.displayName;const Xf={claude:{name:"Claude Code",folder:".claude",color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-950/30"},gemini:{name:"Gemini CLI",folder:".gemini",color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-950/30"},antigravity:{name:"Antigravity",folder:".agent",color:"text-purple-600",bg:"bg-purple-50",darkBg:"dark:bg-purple-950/30"}};function l6({open:e,onOpenChange:t,projectDir:n,onSynced:s}){var N,R,I;const[o,u]=C.useState("claude"),[d,l]=C.useState("antigravity"),[c,f]=C.useState(null),[m,h]=C.useState(!1),[x,w]=C.useState(!1),[k,_]=C.useState(new Set);C.useEffect(()=>{e&&n&&v()},[e,o,d,n]),C.useEffect(()=>{e&&_(new Set)},[e]);const v=async()=>{var O;h(!0);try{const B=await ve.getSyncPreview(n,o,d);f(B);const $=new Set(((O=B.files)==null?void 0:O.filter(Y=>Y.status==="new"||Y.status==="different").map(Y=>Y.name))||[]);_($)}catch(B){Q.error("Failed to load sync preview: "+B.message),f(null)}finally{h(!1)}},b=()=>{u(d),l(o)},g=O=>{const B=new Set(k);B.has(O)?B.delete(O):B.add(O),_(B)},y=()=>{var O,B;k.size===((O=c==null?void 0:c.files)==null?void 0:O.length)?_(new Set):_(new Set(((B=c==null?void 0:c.files)==null?void 0:B.map($=>$.name))||[]))},j=async()=>{if(k.size===0){Q.error("Please select at least one file to sync");return}w(!0);try{const O=await ve.syncRules(n,o,d,Array.from(k));O.success?(Q.success(`Synced ${O.synced.length} file(s) to ${Xf[d].name}`),s==null||s(),t(!1)):Q.error(O.error||"Sync failed")}catch(O){Q.error("Sync failed: "+O.message)}finally{w(!1)}},E=O=>{switch(O){case"new":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"New"});case"different":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-700",children:"Modified"});case"identical":return r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-400",children:"Same"});default:return null}},P=Xf[o],T=Xf[d];return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"sm:max-w-lg",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-indigo-500"}),"Sync Rules Between Tools"]}),r.jsx(sr,{children:"Copy rules from one AI tool's configuration to another."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),r.jsxs(xr,{value:o,onValueChange:u,children:[r.jsx(dr,{className:"w-full",children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"claude",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),r.jsx(kt,{value:"gemini",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),r.jsx(kt,{value:"antigravity",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]}),r.jsx(oe,{variant:"ghost",size:"icon",onClick:b,className:"mt-5",title:"Swap direction",children:r.jsx(Up,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),r.jsxs(xr,{value:d,onValueChange:l,children:[r.jsx(dr,{className:"w-full",children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"claude",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),r.jsx(kt,{value:"gemini",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),r.jsx(kt,{value:"antigravity",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsxs("div",{children:["Source: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[P.folder,"/rules/"]})]}),r.jsxs("div",{children:["Target: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[T.folder,"/rules/"]})]})]}),r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/30",children:[r.jsx("span",{className:"text-sm font-medium",children:"Rules to Sync"}),((N=c==null?void 0:c.files)==null?void 0:N.length)>0&&r.jsx(oe,{variant:"ghost",size:"sm",onClick:y,className:"h-6 text-xs",children:k.size===c.files.length?"Deselect All":"Select All"})]}),r.jsx("div",{className:"max-h-64 overflow-auto",children:m?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(at,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):c!=null&&c.error?r.jsxs("div",{className:"flex items-center gap-2 p-4 text-sm text-amber-600",children:[r.jsx(ks,{className:"w-4 h-4"}),c.error]}):((R=c==null?void 0:c.files)==null?void 0:R.length)===0?r.jsx("div",{className:"p-4 text-sm text-muted-foreground text-center",children:"No rules found in source folder"}):r.jsx("div",{className:"divide-y",children:(I=c==null?void 0:c.files)==null?void 0:I.map(O=>r.jsxs("label",{className:Ee("flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-muted/30",k.has(O.name)&&"bg-primary/5"),children:[r.jsx(Tl,{checked:k.has(O.name),onCheckedChange:()=>g(O.name)}),r.jsx(Er,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"flex-1 text-sm",children:O.name}),E(O.status)]},O.name))})})]}),(c==null?void 0:c.files)&&k.size>0&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.size," file(s) selected for sync"]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(oe,{onClick:j,disabled:x||m||k.size===0,children:x?r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Sync ",k.size," File(s)"]})})]})]})})}const lt=C.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ee("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));lt.displayName="Input";function Ng({open:e,onOpenChange:t,onSelect:n,type:s="directory",initialPath:o="~",title:u="Select Path"}){const[d,l]=C.useState(""),[c,f]=C.useState([]),[m,h]=C.useState(!1),[x,w]=C.useState(null),[k,_]=C.useState(""),[v,b]=C.useState("");C.useEffect(()=>{e&&g(o)},[e,o]);const g=async T=>{h(!0),w(null);try{const N=await ve.browse(T,s);N.error?(w(N.error),N.path&&(l(N.path),b(N.path))):(l(N.path),b(N.path),f(N.items||[]),N.home&&_(N.home))}catch(N){w(N.message)}finally{h(!1)}},y=T=>{T.type==="directory"?g(T.path):s==="file"&&(n(T.path),t(!1))},j=()=>{n(d),t(!1)},E=()=>{v&&g(v)},P=T=>{T.key==="Enter"&&E()};return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[s==="directory"?r.jsx(jr,{className:"w-5 h-5"}):r.jsx(Mm,{className:"w-5 h-5"}),u]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(lt,{value:v,onChange:T=>b(T.target.value),onKeyDown:P,placeholder:"Enter path...",className:"font-mono text-sm flex-1"}),r.jsx(oe,{variant:"outline",size:"icon",onClick:()=>g(k||"~"),title:"Go to home",children:r.jsx(qp,{className:"w-4 h-4"})}),r.jsx(oe,{onClick:E,disabled:m,children:"Go"})]}),r.jsx("div",{className:"text-xs text-gray-500 font-mono truncate px-1",children:d}),x&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:x}),r.jsx(An,{className:"h-64 border rounded-lg",children:m?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(at,{className:"w-6 h-6 animate-spin text-gray-400"})}):r.jsx("div",{className:"p-1",children:c.length===0?r.jsx("div",{className:"text-sm text-gray-500 p-4 text-center",children:s==="directory"?"No subdirectories":"No files found"}):c.map((T,N)=>r.jsxs("button",{onClick:()=>y(T),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 rounded transition-colors text-left",children:[T.type==="directory"?r.jsx(jr,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):r.jsx(Mm,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),r.jsx("span",{className:`flex-1 truncate ${T.isParent?"text-gray-500":""}`,children:T.name}),T.type==="directory"&&!T.isParent&&r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})]},N))})})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(oe,{onClick:j,disabled:!d,children:s==="directory"?"Select Folder":"Select"})]})]})})}var Sd="Switch",[c6]=en(Sd),[u6,d6]=c6(Sd),rk=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:u,required:d,disabled:l,value:c="on",onCheckedChange:f,form:m,...h}=e,[x,w]=C.useState(null),k=ct(t,y=>w(y)),_=C.useRef(!1),v=x?m||!!x.closest("form"):!0,[b,g]=os({prop:o,defaultProp:u??!1,onChange:f,caller:Sd});return r.jsxs(u6,{scope:n,checked:b,disabled:l,children:[r.jsx(et.button,{type:"button",role:"switch","aria-checked":b,"aria-required":d,"data-state":ok(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:k,onClick:Ie(e.onClick,y=>{g(j=>!j),v&&(_.current=y.isPropagationStopped(),_.current||y.stopPropagation())})}),v&&r.jsx(ik,{control:x,bubbles:!_.current,name:s,value:c,checked:b,required:d,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});rk.displayName=Sd;var nk="SwitchThumb",sk=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,o=d6(nk,n);return r.jsx(et.span,{"data-state":ok(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});sk.displayName=nk;var h6="SwitchBubbleInput",ik=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...o},u)=>{const d=C.useRef(null),l=ct(d,u),c=cg(n),f=ug(t);return C.useEffect(()=>{const m=d.current;if(!m)return;const h=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&w){const k=new Event("click",{bubbles:s});w.call(m,n),m.dispatchEvent(k)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ik.displayName=h6;function ok(e){return e?"checked":"unchecked"}var ak=rk,f6=sk;const mt=C.forwardRef(({className:e,...t},n)=>r.jsx(ak,{className:Ee("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(f6,{className:Ee("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));mt.displayName=ak.displayName;var Jf="rovingFocusGroup.onEntryFocus",m6={bubbles:!1,cancelable:!0},Ml="RovingFocusGroup",[qm,lk,p6]=fg(Ml),[g6,kd]=en(Ml,[p6]),[x6,v6]=g6(Ml),ck=C.forwardRef((e,t)=>r.jsx(qm.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(qm.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(y6,{...e,ref:t})})}));ck.displayName=Ml;var y6=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...h}=e,x=C.useRef(null),w=ct(t,x),k=El(u),[_,v]=os({prop:d,defaultProp:l??null,onChange:c,caller:Ml}),[b,g]=C.useState(!1),y=Nr(f),j=lk(n),E=C.useRef(!1),[P,T]=C.useState(0);return C.useEffect(()=>{const N=x.current;if(N)return N.addEventListener(Jf,y),()=>N.removeEventListener(Jf,y)},[y]),r.jsx(x6,{scope:n,orientation:s,dir:k,loop:o,currentTabStopId:_,onItemFocus:C.useCallback(N=>v(N),[v]),onItemShiftTab:C.useCallback(()=>g(!0),[]),onFocusableItemAdd:C.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>T(N=>N-1),[]),children:r.jsx(et.div,{tabIndex:b||P===0?-1:0,"data-orientation":s,...h,ref:w,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{E.current=!0}),onFocus:Ie(e.onFocus,N=>{const R=!E.current;if(N.target===N.currentTarget&&R&&!b){const I=new CustomEvent(Jf,m6);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=j().filter(K=>K.focusable),B=O.find(K=>K.active),$=O.find(K=>K.id===_),z=[B,$,...O].filter(Boolean).map(K=>K.ref.current);hk(z,m)}}E.current=!1}),onBlur:Ie(e.onBlur,()=>g(!1))})})}),uk="RovingFocusGroupItem",dk=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:u,children:d,...l}=e,c=jn(),f=u||c,m=v6(uk,n),h=m.currentTabStopId===f,x=lk(n),{onFocusableItemAdd:w,onFocusableItemRemove:k,currentTabStopId:_}=m;return C.useEffect(()=>{if(s)return w(),()=>k()},[s,w,k]),r.jsx(qm.ItemSlot,{scope:n,id:f,focusable:s,active:o,children:r.jsx(et.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:Ie(e.onMouseDown,v=>{s?m.onItemFocus(f):v.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ie(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){m.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=_6(v,m.orientation,m.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=x().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const j=y.indexOf(v.currentTarget);y=m.loop?C6(y,j+1):y.slice(j+1)}setTimeout(()=>hk(y))}}),children:typeof d=="function"?d({isCurrentTabStop:h,hasTabStop:_!=null}):d})})});dk.displayName=uk;var b6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _6(e,t,n){const s=w6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return b6[s]}function hk(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function C6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var fk=ck,mk=dk;function S6(e){const t=k6(e),n=C.forwardRef((s,o)=>{const{children:u,...d}=s,l=C.Children.toArray(u),c=l.find(N6);if(c){const f=c.props.children,m=l.map(h=>h===c?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return r.jsx(t,{...d,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,m):null})}return r.jsx(t,{...d,ref:o,children:u})});return n.displayName=`${e}.Slot`,n}function k6(e){const t=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const d=P6(o),l=E6(u,o.props);return o.type!==C.Fragment&&(l.ref=s?Ps(s,d):d),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j6=Symbol("radix.slottable");function N6(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j6}function E6(e,t){const n={...t};for(const s in t){const o=e[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...l)=>{const c=u(...l);return o(...l),c}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...e,...n}}function P6(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ym=["Enter"," "],A6=["ArrowDown","PageUp","Home"],pk=["ArrowUp","PageDown","End"],T6=[...A6,...pk],R6={ltr:[...Ym,"ArrowRight"],rtl:[...Ym,"ArrowLeft"]},M6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dl="Menu",[dl,D6,L6]=fg(Dl),[Gi,gk]=en(Dl,[L6,Xo,kd]),jd=Xo(),xk=kd(),[I6,Ki]=Gi(Dl),[O6,Ll]=Gi(Dl),vk=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:u,modal:d=!0}=e,l=jd(t),[c,f]=C.useState(null),m=C.useRef(!1),h=Nr(u),x=El(o);return C.useEffect(()=>{const w=()=>{m.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>m.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),r.jsx(_g,{...l,children:r.jsx(I6,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:f,children:r.jsx(O6,{scope:t,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:x,modal:d,children:s})})})};vk.displayName=Dl;var B6="MenuAnchor",Eg=C.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=jd(n);return r.jsx(Cg,{...o,...s,ref:t})});Eg.displayName=B6;var Pg="MenuPortal",[F6,yk]=Gi(Pg,{forceMount:void 0}),bk=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,u=Ki(Pg,t);return r.jsx(F6,{scope:t,forceMount:n,children:r.jsx(Pr,{present:n||u.open,children:r.jsx(Al,{asChild:!0,container:o,children:s})})})};bk.displayName=Pg;var Nn="MenuContent",[$6,Ag]=Gi(Nn),wk=C.forwardRef((e,t)=>{const n=yk(Nn,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,u=Ki(Nn,e.__scopeMenu),d=Ll(Nn,e.__scopeMenu);return r.jsx(dl.Provider,{scope:e.__scopeMenu,children:r.jsx(Pr,{present:s||u.open,children:r.jsx(dl.Slot,{scope:e.__scopeMenu,children:d.modal?r.jsx(z6,{...o,ref:t}):r.jsx(H6,{...o,ref:t})})})})}),z6=C.forwardRef((e,t)=>{const n=Ki(Nn,e.__scopeMenu),s=C.useRef(null),o=ct(t,s);return C.useEffect(()=>{const u=s.current;if(u)return ng(u)},[]),r.jsx(Tg,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),H6=C.forwardRef((e,t)=>{const n=Ki(Nn,e.__scopeMenu);return r.jsx(Tg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),W6=S6("MenuContent.ScrollLock"),Tg=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:u,onCloseAutoFocus:d,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:x,onDismiss:w,disableOutsideScroll:k,..._}=e,v=Ki(Nn,n),b=Ll(Nn,n),g=jd(n),y=xk(n),j=D6(n),[E,P]=C.useState(null),T=C.useRef(null),N=ct(t,T,v.onContentChange),R=C.useRef(0),I=C.useRef(""),O=C.useRef(0),B=C.useRef(null),$=C.useRef("right"),Y=C.useRef(0),z=k?ud:C.Fragment,K=k?{as:W6,allowPinchZoom:!0}:void 0,G=L=>{var X,W;const M=I.current+L,F=j().filter(le=>!le.disabled),q=document.activeElement,H=(X=F.find(le=>le.ref.current===q))==null?void 0:X.textValue,ae=F.map(le=>le.textValue),fe=tB(ae,M,H),me=(W=F.find(le=>le.textValue===fe))==null?void 0:W.ref.current;(function le(te){I.current=te,window.clearTimeout(R.current),te!==""&&(R.current=window.setTimeout(()=>le(""),1e3))})(M),me&&setTimeout(()=>me.focus())};C.useEffect(()=>()=>window.clearTimeout(R.current),[]),rg();const U=C.useCallback(L=>{var F,q;return $.current===((F=B.current)==null?void 0:F.side)&&nB(L,(q=B.current)==null?void 0:q.area)},[]);return r.jsx($6,{scope:n,searchRef:I,onItemEnter:C.useCallback(L=>{U(L)&&L.preventDefault()},[U]),onItemLeave:C.useCallback(L=>{var M;U(L)||((M=T.current)==null||M.focus(),P(null))},[U]),onTriggerLeave:C.useCallback(L=>{U(L)&&L.preventDefault()},[U]),pointerGraceTimerRef:O,onPointerGraceIntentChange:C.useCallback(L=>{B.current=L},[]),children:r.jsx(z,{...K,children:r.jsx(ld,{asChild:!0,trapped:o,onMountAutoFocus:Ie(u,L=>{var M;L.preventDefault(),(M=T.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:r.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:x,onDismiss:w,children:r.jsx(fk,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:Ie(c,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Sg,{role:"menu","aria-orientation":"vertical","data-state":Ok(v.open),"data-radix-menu-content":"",dir:b.dir,...g,..._,ref:N,style:{outline:"none",..._.style},onKeyDown:Ie(_.onKeyDown,L=>{const F=L.target.closest("[data-radix-menu-content]")===L.currentTarget,q=L.ctrlKey||L.altKey||L.metaKey,H=L.key.length===1;F&&(L.key==="Tab"&&L.preventDefault(),!q&&H&&G(L.key));const ae=T.current;if(L.target!==ae||!T6.includes(L.key))return;L.preventDefault();const me=j().filter(X=>!X.disabled).map(X=>X.ref.current);pk.includes(L.key)&&me.reverse(),Z6(me)}),onBlur:Ie(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(R.current),I.current="")}),onPointerMove:Ie(e.onPointerMove,hl(L=>{const M=L.target,F=Y.current!==L.clientX;if(L.currentTarget.contains(M)&&F){const q=L.clientX>Y.current?"right":"left";$.current=q,Y.current=L.clientX}}))})})})})})})});wk.displayName=Nn;var V6="MenuGroup",Rg=C.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(et.div,{role:"group",...s,ref:t})});Rg.displayName=V6;var U6="MenuLabel",_k=C.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(et.div,{...s,ref:t})});_k.displayName=U6;var Wu="MenuItem",Vb="menu.itemSelect",Nd=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,u=C.useRef(null),d=Ll(Wu,e.__scopeMenu),l=Ag(Wu,e.__scopeMenu),c=ct(t,u),f=C.useRef(!1),m=()=>{const h=u.current;if(!n&&h){const x=new CustomEvent(Vb,{bubbles:!0,cancelable:!0});h.addEventListener(Vb,w=>s==null?void 0:s(w),{once:!0}),QC(h,x),x.defaultPrevented?f.current=!1:d.onClose()}};return r.jsx(Ck,{...o,ref:c,disabled:n,onClick:Ie(e.onClick,m),onPointerDown:h=>{var x;(x=e.onPointerDown)==null||x.call(e,h),f.current=!0},onPointerUp:Ie(e.onPointerUp,h=>{var x;f.current||(x=h.currentTarget)==null||x.click()}),onKeyDown:Ie(e.onKeyDown,h=>{const x=l.searchRef.current!=="";n||x&&h.key===" "||Ym.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Nd.displayName=Wu;var Ck=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...u}=e,d=Ag(Wu,n),l=xk(n),c=C.useRef(null),f=ct(t,c),[m,h]=C.useState(!1),[x,w]=C.useState("");return C.useEffect(()=>{const k=c.current;k&&w((k.textContent??"").trim())},[u.children]),r.jsx(dl.ItemSlot,{scope:n,disabled:s,textValue:o??x,children:r.jsx(mk,{asChild:!0,...l,focusable:!s,children:r.jsx(et.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...u,ref:f,onPointerMove:Ie(e.onPointerMove,hl(k=>{s?d.onItemLeave(k):(d.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,hl(k=>d.onItemLeave(k))),onFocus:Ie(e.onFocus,()=>h(!0)),onBlur:Ie(e.onBlur,()=>h(!1))})})})}),G6="MenuCheckboxItem",Sk=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(Pk,{scope:e.__scopeMenu,checked:n,children:r.jsx(Nd,{role:"menuitemcheckbox","aria-checked":Vu(n)?"mixed":n,...o,ref:t,"data-state":Dg(n),onSelect:Ie(o.onSelect,()=>s==null?void 0:s(Vu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Sk.displayName=G6;var kk="MenuRadioGroup",[K6,q6]=Gi(kk,{value:void 0,onValueChange:()=>{}}),jk=C.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,u=Nr(s);return r.jsx(K6,{scope:e.__scopeMenu,value:n,onValueChange:u,children:r.jsx(Rg,{...o,ref:t})})});jk.displayName=kk;var Nk="MenuRadioItem",Ek=C.forwardRef((e,t)=>{const{value:n,...s}=e,o=q6(Nk,e.__scopeMenu),u=n===o.value;return r.jsx(Pk,{scope:e.__scopeMenu,checked:u,children:r.jsx(Nd,{role:"menuitemradio","aria-checked":u,...s,ref:t,"data-state":Dg(u),onSelect:Ie(s.onSelect,()=>{var d;return(d=o.onValueChange)==null?void 0:d.call(o,n)},{checkForDefaultPrevented:!1})})})});Ek.displayName=Nk;var Mg="MenuItemIndicator",[Pk,Y6]=Gi(Mg,{checked:!1}),Ak=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,u=Y6(Mg,n);return r.jsx(Pr,{present:s||Vu(u.checked)||u.checked===!0,children:r.jsx(et.span,{...o,ref:t,"data-state":Dg(u.checked)})})});Ak.displayName=Mg;var X6="MenuSeparator",Tk=C.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Tk.displayName=X6;var J6="MenuArrow",Rk=C.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=jd(n);return r.jsx(kg,{...o,...s,ref:t})});Rk.displayName=J6;var Q6="MenuSub",[bW,Mk]=Gi(Q6),Ka="MenuSubTrigger",Dk=C.forwardRef((e,t)=>{const n=Ki(Ka,e.__scopeMenu),s=Ll(Ka,e.__scopeMenu),o=Mk(Ka,e.__scopeMenu),u=Ag(Ka,e.__scopeMenu),d=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=u,f={__scopeMenu:e.__scopeMenu},m=C.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return C.useEffect(()=>m,[m]),C.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(Eg,{asChild:!0,...f,children:r.jsx(Ck,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Ok(n.open),...e,ref:Ps(t,o.onTriggerChange),onClick:h=>{var x;(x=e.onClick)==null||x.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,hl(h=>{u.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(u.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ie(e.onPointerLeave,hl(h=>{var w,k;m();const x=(w=n.content)==null?void 0:w.getBoundingClientRect();if(x){const _=(k=n.content)==null?void 0:k.dataset.side,v=_==="right",b=v?-5:5,g=x[v?"left":"right"],y=x[v?"right":"left"];u.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:g,y:x.top},{x:y,y:x.top},{x:y,y:x.bottom},{x:g,y:x.bottom}],side:_}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(h),h.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,h=>{var w;const x=u.searchRef.current!=="";e.disabled||x&&h.key===" "||R6[s.dir].includes(h.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),h.preventDefault())})})})});Dk.displayName=Ka;var Lk="MenuSubContent",Ik=C.forwardRef((e,t)=>{const n=yk(Nn,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,u=Ki(Nn,e.__scopeMenu),d=Ll(Nn,e.__scopeMenu),l=Mk(Lk,e.__scopeMenu),c=C.useRef(null),f=ct(t,c);return r.jsx(dl.Provider,{scope:e.__scopeMenu,children:r.jsx(Pr,{present:s||u.open,children:r.jsx(dl.Slot,{scope:e.__scopeMenu,children:r.jsx(Tg,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:f,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;d.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,m=>{m.target!==l.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,m=>{d.onClose(),m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{var w;const h=m.currentTarget.contains(m.target),x=M6[d.dir].includes(m.key);h&&x&&(u.onOpenChange(!1),(w=l.trigger)==null||w.focus(),m.preventDefault())})})})})})});Ik.displayName=Lk;function Ok(e){return e?"open":"closed"}function Vu(e){return e==="indeterminate"}function Dg(e){return Vu(e)?"indeterminate":e?"checked":"unchecked"}function Z6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function eB(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function tB(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let d=eB(e,Math.max(u,0));o.length===1&&(d=d.filter(f=>f!==n));const c=d.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function rB(e,t){const{x:n,y:s}=e;let o=!1;for(let u=0,d=t.length-1;u<t.length;d=u++){const l=t[u],c=t[d],f=l.x,m=l.y,h=c.x,x=c.y;m>s!=x>s&&n<(h-f)*(s-m)/(x-m)+f&&(o=!o)}return o}function nB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rB(n,t)}function hl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sB=vk,iB=Eg,oB=bk,aB=wk,lB=Rg,cB=_k,uB=Nd,dB=Sk,hB=jk,fB=Ek,mB=Ak,pB=Tk,gB=Rk,xB=Dk,vB=Ik,Ed="DropdownMenu",[yB]=en(Ed,[gk]),Vr=gk(),[bB,Bk]=yB(Ed),Fk=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:u,onOpenChange:d,modal:l=!0}=e,c=Vr(t),f=C.useRef(null),[m,h]=os({prop:o,defaultProp:u??!1,onChange:d,caller:Ed});return r.jsx(bB,{scope:t,triggerId:jn(),triggerRef:f,contentId:jn(),open:m,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(x=>!x),[h]),modal:l,children:r.jsx(sB,{...c,open:m,onOpenChange:h,dir:s,modal:l,children:n})})};Fk.displayName=Ed;var $k="DropdownMenuTrigger",zk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,u=Bk($k,n),d=Vr(n);return r.jsx(iB,{asChild:!0,...d,children:r.jsx(et.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:Ps(t,u.triggerRef),onPointerDown:Ie(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(u.onOpenToggle(),u.open||l.preventDefault())}),onKeyDown:Ie(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&u.onOpenToggle(),l.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zk.displayName=$k;var wB="DropdownMenuPortal",Hk=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Vr(t);return r.jsx(oB,{...s,...n})};Hk.displayName=wB;var Wk="DropdownMenuContent",Vk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Bk(Wk,n),u=Vr(n),d=C.useRef(!1);return r.jsx(aB,{id:o.contentId,"aria-labelledby":o.triggerId,...u,...s,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var c;d.current||(c=o.triggerRef.current)==null||c.focus(),d.current=!1,l.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,m=c.button===2||f;(!o.modal||m)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vk.displayName=Wk;var _B="DropdownMenuGroup",CB=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(lB,{...o,...s,ref:t})});CB.displayName=_B;var SB="DropdownMenuLabel",Uk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(cB,{...o,...s,ref:t})});Uk.displayName=SB;var kB="DropdownMenuItem",Gk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(uB,{...o,...s,ref:t})});Gk.displayName=kB;var jB="DropdownMenuCheckboxItem",Kk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(dB,{...o,...s,ref:t})});Kk.displayName=jB;var NB="DropdownMenuRadioGroup",EB=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(hB,{...o,...s,ref:t})});EB.displayName=NB;var PB="DropdownMenuRadioItem",qk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(fB,{...o,...s,ref:t})});qk.displayName=PB;var AB="DropdownMenuItemIndicator",Yk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(mB,{...o,...s,ref:t})});Yk.displayName=AB;var TB="DropdownMenuSeparator",Xk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(pB,{...o,...s,ref:t})});Xk.displayName=TB;var RB="DropdownMenuArrow",MB=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(gB,{...o,...s,ref:t})});MB.displayName=RB;var DB="DropdownMenuSubTrigger",Jk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(xB,{...o,...s,ref:t})});Jk.displayName=DB;var LB="DropdownMenuSubContent",Qk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=Vr(n);return r.jsx(vB,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qk.displayName=LB;var IB=Fk,OB=zk,BB=Hk,Zk=Vk,ej=Uk,tj=Gk,rj=Kk,nj=qk,sj=Yk,ij=Xk,oj=Jk,aj=Qk;const ci=IB,ui=OB,FB=C.forwardRef(({className:e,inset:t,children:n,...s},o)=>r.jsxs(oj,{ref:o,className:Ee("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(Wr,{className:"ml-auto"})]}));FB.displayName=oj.displayName;const $B=C.forwardRef(({className:e,...t},n)=>r.jsx(aj,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$B.displayName=aj.displayName;const Es=C.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(BB,{children:r.jsx(Zk,{ref:s,sideOffset:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Es.displayName=Zk.displayName;const Lt=C.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(tj,{ref:s,className:Ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));Lt.displayName=tj.displayName;const fl=C.forwardRef(({className:e,children:t,checked:n,...s},o)=>r.jsxs(rj,{ref:o,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(sj,{children:r.jsx(Jt,{className:"h-4 w-4"})})}),t]}));fl.displayName=rj.displayName;const zB=C.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(nj,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(sj,{children:r.jsx(kM,{className:"h-2 w-2 fill-current"})})}),t]}));zB.displayName=nj.displayName;const ml=C.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(ej,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));ml.displayName=ej.displayName;const Hr=C.forwardRef(({className:e,...t},n)=>r.jsx(ij,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));Hr.displayName=ij.displayName;const Ub={development:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",productivity:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",integration:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",external:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",lsp:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};function HB({plugin:e,onToggle:t,isToggling:n,projectDir:s}){const o=Ub[e.category]||Ub.default;return e.mcpServers||e.lspServers||e.commands,r.jsxs(Po.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`
        relative p-3 rounded-lg border transition-all
        ${e.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700"}
      `,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),e.sourceType==="external"&&r.jsx(Fi,{className:"w-3 h-3 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.description||"No description"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.category&&r.jsx(rt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${o}`,children:e.category}),e.lspServers&&r.jsxs(rt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",children:[r.jsx(is,{className:"w-2.5 h-2.5 mr-0.5"}),"LSP"]}),e.mcpServers&&r.jsxs(rt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[r.jsx(En,{className:"w-2.5 h-2.5 mr-0.5"}),"MCP"]}),e.version&&r.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",e.version]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(mt,{checked:e.installed,onCheckedChange:()=>t(e),disabled:n===e.name,className:"data-[state=checked]:bg-green-600"})})]}),n===e.name&&r.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 rounded-lg flex items-center justify-center",children:r.jsx(at,{className:"w-5 h-5 animate-spin text-indigo-600"})})]})}function WB({open:e,onOpenChange:t,projectDir:n,projectName:s}){const[o,u]=C.useState(!0),[d,l]=C.useState({allPlugins:[],categories:[]}),[c,f]=C.useState(""),[m,h]=C.useState("project"),[x,w]=C.useState([]),[k,_]=C.useState(!0),[v,b]=C.useState(!0),[g,y]=C.useState(null),j=async()=>{u(!0);try{const I=await ve.getPlugins();l(I)}catch(I){Q.error("Failed to load plugins: "+I.message)}finally{u(!1)}};C.useEffect(()=>{e&&(j(),f(""))},[e]);const E=C.useMemo(()=>{let I=d.allPlugins||[];if(c){const O=c.toLowerCase();I=I.filter(B=>{var $,Y;return(($=B.name)==null?void 0:$.toLowerCase().includes(O))||((Y=B.description)==null?void 0:Y.toLowerCase().includes(O))})}return I=I.filter(O=>!(O.sourceType==="external"&&!k||O.sourceType==="internal"&&!v)),x.length>0&&(I=I.filter(O=>x.includes(O.category))),I.sort((O,B)=>O.installed&&!B.installed?-1:!O.installed&&B.installed?1:O.name.localeCompare(B.name)),I},[d.allPlugins,c,k,v,x]),P=I=>{w(O=>O.includes(I)?O.filter(B=>B!==I):[...O,I])},T=async I=>{y(I.name);try{if(I.installed){const O=await ve.uninstallPlugin(`${I.name}@${I.marketplace}`);O.success?Q.success(`Uninstalled ${I.name}`):Q.error(O.error||"Failed to uninstall")}else{const O=await ve.installPlugin(I.name,I.marketplace,m,n);O.success?Q.success(`Installed ${I.name} (${m})`):Q.error(O.error||"Failed to install")}await j()}catch(O){Q.error("Operation failed: "+O.message)}finally{y(null)}},N=E.filter(I=>I.installed).length,R=E.filter(I=>!I.installed).length;return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-2xl max-h-[85vh] flex flex-col p-0",children:[r.jsxs(Ct,{className:"px-6 pt-6 pb-4 border-b dark:border-slate-800",children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx($i,{className:"w-5 h-5 text-indigo-600"}),"Install Plugins",s&&r.jsx(rt,{variant:"outline",className:"ml-2 font-normal",children:s})]}),r.jsx(sr,{children:"Enable plugins for enhanced Claude Code capabilities"})]}),r.jsxs("div",{className:"px-6 py-3 border-b dark:border-slate-800 space-y-3 bg-gray-50 dark:bg-slate-900/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(lt,{value:c,onChange:I=>f(I.target.value),placeholder:"Search plugins...",className:"pl-9 h-9 bg-white dark:bg-slate-800"})]}),r.jsxs(xr,{value:m,onValueChange:h,children:[r.jsx(dr,{className:"w-36 h-9 bg-white dark:bg-slate-800",children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"project",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(kC,{className:"w-3.5 h-3.5"}),"Project"]})}),r.jsx(kt,{value:"user",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Fi,{className:"w-3.5 h-3.5"}),"Global"]})}),r.jsx(kt,{value:"local",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-3.5 h-3.5"}),"Local"]})})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsxs(oe,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",children:[r.jsx(EC,{className:"w-3 h-3"}),"Category",x.length>0&&r.jsx(rt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:x.length}),r.jsx(yr,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Es,{align:"start",className:"w-48",children:[r.jsx(ml,{className:"text-xs",children:"Categories"}),r.jsx(Hr,{}),(d.categories||[]).map(I=>r.jsx(fl,{checked:x.includes(I),onCheckedChange:()=>P(I),children:I},I)),x.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Hr,{}),r.jsx(fl,{checked:!1,onCheckedChange:()=>w([]),children:"Clear all"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 ml-auto text-xs",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:v,onCheckedChange:b,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Anthropic"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:k,onCheckedChange:_,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Community"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jt,{className:"w-3 h-3 text-green-600"}),N," installed"]}),r.jsxs("span",{children:[R," available"]}),r.jsxs("span",{className:"ml-auto",children:[E.length," shown"]})]})]}),r.jsx(An,{className:"flex-1 px-6 py-4",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(at,{className:"w-6 h-6 animate-spin text-indigo-600"})}):E.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400",children:[r.jsx($i,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No plugins found"}),c&&r.jsx(oe,{variant:"link",size:"sm",onClick:()=>f(""),className:"mt-2",children:"Clear search"})]}):r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsx(Xw,{mode:"popLayout",children:E.map(I=>r.jsx(HB,{plugin:I,onToggle:T,isToggling:g,projectDir:n},`${I.name}@${I.marketplace}`))})})}),r.jsxs("div",{className:"px-6 py-3 border-t dark:border-slate-800 flex items-center justify-between bg-gray-50 dark:bg-slate-900/50",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500",children:"Plugins extend Claude Code with LSP servers, MCP tools, and commands"}),r.jsx(oe,{variant:"outline",size:"sm",onClick:()=>t(!1),children:"Done"})]})]})})}var Qf={exports:{}},Gb;function VB(){return Gb||(Gb=1,(function(e,t){(function(n,s){e.exports=s()})(globalThis,(()=>(()=>{var n={4567:function(d,l,c){var f=this&&this.__decorate||function(g,y,j,E){var P,T=arguments.length,N=T<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,j):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,y,j,E);else for(var R=g.length-1;R>=0;R--)(P=g[R])&&(N=(T<3?P(N):T>3?P(y,j,N):P(y,j))||N);return T>3&&N&&Object.defineProperty(y,j,N),N},m=this&&this.__param||function(g,y){return function(j,E){y(j,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=c(9042),x=c(9924),w=c(844),k=c(4725),_=c(2585),v=c(3656);let b=l.AccessibilityManager=class extends w.Disposable{constructor(g,y,j,E){super(),this._terminal=g,this._coreBrowserService=j,this._renderService=E,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let P=0;P<this._terminal.rows;P++)this._rowElements[P]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[P]);if(this._topBoundaryFocusListener=P=>this._handleBoundaryFocus(P,0),this._bottomBoundaryFocusListener=P=>this._handleBoundaryFocus(P,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((P=>this._handleResize(P.rows)))),this.register(this._terminal.onRender((P=>this._refreshRows(P.start,P.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((P=>this._handleChar(P)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((P=>this._handleTab(P)))),this.register(this._terminal.onKey((P=>this._handleKey(P.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,v.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,w.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(g){for(let y=0;y<g;y++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,y){this._liveRegionDebouncer.refresh(g,y,this._terminal.rows)}_renderRows(g,y){const j=this._terminal.buffer,E=j.lines.length.toString();for(let P=g;P<=y;P++){const T=j.lines.get(j.ydisp+P),N=[],R=(T==null?void 0:T.translateToString(!0,void 0,void 0,N))||"",I=(j.ydisp+P+1).toString(),O=this._rowElements[P];O&&(R.length===0?(O.innerText="",this._rowColumns.set(O,[0,1])):(O.textContent=R,this._rowColumns.set(O,N)),O.setAttribute("aria-posinset",I),O.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,y){const j=g.target,E=this._rowElements[y===0?1:this._rowElements.length-2];if(j.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==E)return;let P,T;if(y===0?(P=j,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(P=this._rowElements.shift(),T=j,this._rowContainer.removeChild(P)),P.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const N=this._createAccessibilityTreeNode();this._rowElements.unshift(N),this._rowContainer.insertAdjacentElement("afterbegin",N)}else{const N=this._createAccessibilityTreeNode();this._rowElements.push(N),this._rowContainer.appendChild(N)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleSelectionChange(){var R;if(this._rowElements.length===0)return;const g=document.getSelection();if(!g)return;if(g.isCollapsed)return void(this._rowContainer.contains(g.anchorNode)&&this._terminal.clearSelection());if(!g.anchorNode||!g.focusNode)return void console.error("anchorNode and/or focusNode are null");let y={node:g.anchorNode,offset:g.anchorOffset},j={node:g.focusNode,offset:g.focusOffset};if((y.node.compareDocumentPosition(j.node)&Node.DOCUMENT_POSITION_PRECEDING||y.node===j.node&&y.offset>j.offset)&&([y,j]=[j,y]),y.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(y={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(y.node))return;const E=this._rowElements.slice(-1)[0];if(j.node.compareDocumentPosition(E)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(j={node:E,offset:((R=E.textContent)==null?void 0:R.length)??0}),!this._rowContainer.contains(j.node))return;const P=({node:I,offset:O})=>{const B=I instanceof Text?I.parentNode:I;let $=parseInt(B==null?void 0:B.getAttribute("aria-posinset"),10)-1;if(isNaN($))return console.warn("row is invalid. Race condition?"),null;const Y=this._rowColumns.get(B);if(!Y)return console.warn("columns is null. Race condition?"),null;let z=O<Y.length?Y[O]:Y.slice(-1)[0]+1;return z>=this._terminal.cols&&(++$,z=0),{row:$,column:z}},T=P(y),N=P(j);if(T&&N){if(T.row>N.row||T.row===N.row&&T.column>=N.column)throw new Error("invalid range");this._terminal.select(T.column,T.row,(N.row-T.row)*this._terminal.cols-T.column+N.column)}}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=this._coreBrowserService.mainDocument.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=b=f([m(1,_.IInstantiationService),m(2,k.ICoreBrowserService),m(3,k.IRenderService)],b)},3614:(d,l)=>{function c(x){return x.replace(/\r?\n/g,"\r")}function f(x,w){return w?"\x1B[200~"+x+"\x1B[201~":x}function m(x,w,k,_){x=f(x=c(x),k.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(x,!0),w.value=""}function h(x,w,k){const _=k.getBoundingClientRect(),v=x.clientX-_.left-10,b=x.clientY-_.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${v}px`,w.style.top=`${b}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=c,l.bracketTextForPaste=f,l.copyHandler=function(x,w){x.clipboardData&&x.clipboardData.setData("text/plain",w.selectionText),x.preventDefault()},l.handlePasteEvent=function(x,w,k,_){x.stopPropagation(),x.clipboardData&&m(x.clipboardData.getData("text/plain"),w,k,_)},l.paste=m,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(x,w,k,_,v){h(x,w,k),v&&_.rightClickSelect(x),w.value=_.selectionText,w.select()}},7239:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const f=c(1505);l.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(m,h,x){this._css.set(m,h,x)}getCss(m,h){return this._css.get(m,h)}setColor(m,h,x){this._color.set(m,h,x)}getColor(m,h){return this._color.get(m,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(c,f,m,h){c.addEventListener(f,m,h);let x=!1;return{dispose:()=>{x||(x=!0,c.removeEventListener(f,m,h))}}}},3551:function(d,l,c){var f=this&&this.__decorate||function(b,g,y,j){var E,P=arguments.length,T=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,y):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,g,y,j);else for(var N=b.length-1;N>=0;N--)(E=b[N])&&(T=(P<3?E(T):P>3?E(g,y,T):E(g,y))||T);return P>3&&T&&Object.defineProperty(g,y,T),T},m=this&&this.__param||function(b,g){return function(y,j){g(y,j,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier=void 0;const h=c(3656),x=c(8460),w=c(844),k=c(2585),_=c(4725);let v=l.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(b,g,y,j,E){super(),this._element=b,this._mouseService=g,this._renderService=y,this._bufferService=j,this._linkProviderService=E,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new x.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new x.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)((()=>{var P;this._lastMouseEvent=void 0,(P=this._activeProviderReplies)==null||P.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(b){this._lastMouseEvent=b;const g=this._positionFromMouseEvent(b,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const y=b.composedPath();for(let j=0;j<y.length;j++){const E=y[j];if(E.classList.contains("xterm"))break;if(E.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(b){if(this._activeLine!==b.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(b,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,b)||(this._clearCurrentLink(),this._askForLink(b,!0))}_askForLink(b,g){var j,E;this._activeProviderReplies&&g||((j=this._activeProviderReplies)==null||j.forEach((P=>{P==null||P.forEach((T=>{T.link.dispose&&T.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=b.y);let y=!1;for(const[P,T]of this._linkProviderService.linkProviders.entries())g?(E=this._activeProviderReplies)!=null&&E.get(P)&&(y=this._checkLinkProviderResult(P,b,y)):T.provideLinks(b.y,(N=>{var I,O;if(this._isMouseOut)return;const R=N==null?void 0:N.map((B=>({link:B})));(I=this._activeProviderReplies)==null||I.set(P,R),y=this._checkLinkProviderResult(P,b,y),((O=this._activeProviderReplies)==null?void 0:O.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(b.y,this._activeProviderReplies)}))}_removeIntersectingLinks(b,g){const y=new Set;for(let j=0;j<g.size;j++){const E=g.get(j);if(E)for(let P=0;P<E.length;P++){const T=E[P],N=T.link.range.start.y<b?0:T.link.range.start.x,R=T.link.range.end.y>b?this._bufferService.cols:T.link.range.end.x;for(let I=N;I<=R;I++){if(y.has(I)){E.splice(P--,1);break}y.add(I)}}}}_checkLinkProviderResult(b,g,y){var P;if(!this._activeProviderReplies)return y;const j=this._activeProviderReplies.get(b);let E=!1;for(let T=0;T<b;T++)this._activeProviderReplies.has(T)&&!this._activeProviderReplies.get(T)||(E=!0);if(!E&&j){const T=j.find((N=>this._linkAtPosition(N.link,g)));T&&(y=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!y)for(let T=0;T<this._activeProviderReplies.size;T++){const N=(P=this._activeProviderReplies.get(T))==null?void 0:P.find((R=>this._linkAtPosition(R.link,g)));if(N){y=!0,this._handleNewLink(N);break}}return y}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(b){if(!this._currentLink)return;const g=this._positionFromMouseEvent(b,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(b,this._currentLink.link.text)}_clearCurrentLink(b,g){this._currentLink&&this._lastMouseEvent&&(!b||!g||this._currentLink.link.range.start.y>=b&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(b){if(!this._lastMouseEvent)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(b.link,g)&&(this._currentLink=b,this._currentLink.state={decorations:{underline:b.link.decorations===void 0||b.link.decorations.underline,pointerCursor:b.link.decorations===void 0||b.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,b.link,this._lastMouseEvent),b.link.decorations={},Object.defineProperties(b.link.decorations,{pointerCursor:{get:()=>{var y,j;return(j=(y=this._currentLink)==null?void 0:y.state)==null?void 0:j.decorations.pointerCursor},set:y=>{var j;(j=this._currentLink)!=null&&j.state&&this._currentLink.state.decorations.pointerCursor!==y&&(this._currentLink.state.decorations.pointerCursor=y,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",y))}},underline:{get:()=>{var y,j;return(j=(y=this._currentLink)==null?void 0:y.state)==null?void 0:j.decorations.underline},set:y=>{var j,E,P;(j=this._currentLink)!=null&&j.state&&((P=(E=this._currentLink)==null?void 0:E.state)==null?void 0:P.decorations.underline)!==y&&(this._currentLink.state.decorations.underline=y,this._currentLink.state.isHovered&&this._fireUnderlineEvent(b.link,y))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((y=>{if(!this._currentLink)return;const j=y.start===0?0:y.start+1+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.ydisp+1+y.end;if(this._currentLink.link.range.start.y>=j&&this._currentLink.link.range.end.y<=E&&(this._clearCurrentLink(j,E),this._lastMouseEvent)){const P=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);P&&this._askForLink(P,!1)}}))))}_linkHover(b,g,y){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&b.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(y,g.text)}_fireUnderlineEvent(b,g){const y=b.range,j=this._bufferService.buffer.ydisp,E=this._createLinkUnderlineEvent(y.start.x-1,y.start.y-j-1,y.end.x,y.end.y-j-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(E)}_linkLeave(b,g,y){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&b.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(y,g.text)}_linkAtPosition(b,g){const y=b.range.start.y*this._bufferService.cols+b.range.start.x,j=b.range.end.y*this._bufferService.cols+b.range.end.x,E=g.y*this._bufferService.cols+g.x;return y<=E&&E<=j}_positionFromMouseEvent(b,g,y){const j=y.getCoords(b,g,this._bufferService.cols,this._bufferService.rows);if(j)return{x:j[0],y:j[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(b,g,y,j,E){return{x1:b,y1:g,x2:y,y2:j,cols:this._bufferService.cols,fg:E}}};l.Linkifier=v=f([m(1,_.IMouseService),m(2,_.IRenderService),m(3,k.IBufferService),m(4,_.ILinkProviderService)],v)},9042:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(d,l,c){var f=this&&this.__decorate||function(_,v,b,g){var y,j=arguments.length,E=j<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,b):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,v,b,g);else for(var P=_.length-1;P>=0;P--)(y=_[P])&&(E=(j<3?y(E):j>3?y(v,b,E):y(v,b))||E);return j>3&&E&&Object.defineProperty(v,b,E),E},m=this&&this.__param||function(_,v){return function(b,g){v(b,g,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=c(511),x=c(2585);let w=l.OscLinkProvider=class{constructor(_,v,b){this._bufferService=_,this._optionsService=v,this._oscLinkService=b}provideLinks(_,v){var R;const b=this._bufferService.buffer.lines.get(_-1);if(!b)return void v(void 0);const g=[],y=this._optionsService.rawOptions.linkHandler,j=new h.CellData,E=b.getTrimmedLength();let P=-1,T=-1,N=!1;for(let I=0;I<E;I++)if(T!==-1||b.hasContent(I)){if(b.loadCell(I,j),j.hasExtendedAttrs()&&j.extended.urlId){if(T===-1){T=I,P=j.extended.urlId;continue}N=j.extended.urlId!==P}else T!==-1&&(N=!0);if(N||T!==-1&&I===E-1){const O=(R=this._oscLinkService.getLinkData(P))==null?void 0:R.uri;if(O){const B={start:{x:T+1,y:_},end:{x:I+(N||I!==E-1?0:1),y:_}};let $=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const Y=new URL(O);["http:","https:"].includes(Y.protocol)||($=!0)}catch{$=!0}$||g.push({text:O,range:B,activate:(Y,z)=>y?y.activate(Y,z,B):k(0,z),hover:(Y,z)=>{var K;return(K=y==null?void 0:y.hover)==null?void 0:K.call(y,Y,z,B)},leave:(Y,z)=>{var K;return(K=y==null?void 0:y.leave)==null?void 0:K.call(y,Y,z,B)}})}N=!1,j.hasExtendedAttrs()&&j.extended.urlId?(T=I,P=j.extended.urlId):(T=-1,P=-1)}}v(g)}};function k(_,v){if(confirm(`Do you want to navigate to ${v}?

WARNING: This link could potentially be dangerous`)){const b=window.open();if(b){try{b.opener=null}catch{}b.location.href=v}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=w=f([m(0,x.IBufferService),m(1,x.IOptionsService),m(2,x.IOscLinkService)],w)},6193:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(c,f){this._renderCallback=c,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(c,f,m){this._rowCount=m,c=c!==void 0?c:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},3236:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const f=c(3614),m=c(3656),h=c(3551),x=c(9042),w=c(3730),k=c(1680),_=c(3107),v=c(5744),b=c(2950),g=c(1296),y=c(428),j=c(4269),E=c(5114),P=c(8934),T=c(3230),N=c(9312),R=c(4725),I=c(6731),O=c(8055),B=c(8969),$=c(8460),Y=c(844),z=c(6114),K=c(8437),G=c(2584),U=c(7399),L=c(5941),M=c(9074),F=c(2585),q=c(5435),H=c(4567),ae=c(779);class fe extends B.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Y.MutableDisposable),this._onCursorMove=this.register(new $.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new $.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new $.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new $.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new $.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new $.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new $.EventEmitter),this._onBlur=this.register(new $.EventEmitter),this._onA11yCharEmitter=this.register(new $.EventEmitter),this._onA11yTabEmitter=this.register(new $.EventEmitter),this._onWillOpen=this.register(new $.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(F.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ae.LinkProviderService),this._instantiationService.setService(R.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((W,le)=>this.refresh(W,le)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((W=>this._reportWindowsOptions(W)))),this.register(this._inputHandler.onColor((W=>this._handleColorEvent(W)))),this.register((0,$.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,$.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((W=>this._afterResize(W.cols,W.rows)))),this.register((0,Y.toDisposable)((()=>{var W,le;this._customKeyEventHandler=void 0,(le=(W=this.element)==null?void 0:W.parentNode)==null||le.removeChild(this.element)})))}_handleColorEvent(X){if(this._themeService)for(const W of X){let le,te="";switch(W.index){case 256:le="foreground",te="10";break;case 257:le="background",te="11";break;case 258:le="cursor",te="12";break;default:le="ansi",te="4;"+W.index}switch(W.type){case 0:const J=O.color.toColorRGB(le==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[le]);this.coreService.triggerDataEvent(`${G.C0.ESC}]${te};${(0,L.toRgbString)(J)}${G.C1_ESCAPED.ST}`);break;case 1:if(le==="ansi")this._themeService.modifyColors((se=>se.ansi[W.index]=O.channels.toColor(...W.color)));else{const se=le;this._themeService.modifyColors((we=>we[se]=O.channels.toColor(...W.color)))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return(X=this.textarea)==null?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const X=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(X);if(!W)return;const le=Math.min(this.buffer.x,this.cols-1),te=this._renderService.dimensions.css.cell.height,J=W.getWidth(le),se=this._renderService.dimensions.css.cell.width*J,we=this.buffer.y*this._renderService.dimensions.css.cell.height,Le=le*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Le+"px",this.textarea.style.top=we+"px",this.textarea.style.width=se+"px",this.textarea.style.height=te+"px",this.textarea.style.lineHeight=te+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",(W=>{this.hasSelection()&&(0,f.copyHandler)(W,this._selectionService)})));const X=W=>(0,f.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,m.addDisposableDomListener)(this.element,"paste",X)),z.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",(W=>{W.button===2&&(0,f.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",(W=>{(0,f.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),z.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",(W=>{W.button===1&&(0,f.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",(X=>this._keyUp(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",(X=>this._keyDown(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",(X=>this._keyPress(X)),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",(X=>this._compositionHelper.compositionupdate(X)))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,m.addDisposableDomListener)(this.textarea,"input",(X=>this._inputEvent(X)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(X){var le;if(!X)throw new Error("Terminal requires a parent element.");if(X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((le=this.element)==null?void 0:le.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=X.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const W=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),W.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,m.addDisposableDomListener)(this.screenElement,"mousemove",(te=>this.updateCursorStyle(te)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),W.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",x.promptLabel),z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,X.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(R.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",(te=>this._handleTextAreaFocus(te)))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(y.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(I.ThemeService),this._instantiationService.setService(R.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(j.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((te=>this._onRender.fire(te)))),this.onResize((te=>this._renderService.resize(te.cols,te.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(b.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(W);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((te=>this.scrollLines(te.amount,te.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(N.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((te=>this.scrollLines(te.amount,te.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((te=>this._renderService.handleSelectionChanged(te.start,te.end,te.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((te=>{this.textarea.value=te,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((te=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",(te=>this._selectionService.handleMouseDown(te)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(te=>this._handleScreenReaderModeOptionChange(te)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(te=>{!this._overviewRulerRenderer&&te&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const X=this,W=this.element;function le(se){const we=X._mouseService.getMouseReportCoords(se,X.screenElement);if(!we)return!1;let Le,Ke;switch(se.overrideType||se.type){case"mousemove":Ke=32,se.buttons===void 0?(Le=3,se.button!==void 0&&(Le=se.button<3?se.button:3)):Le=1&se.buttons?0:4&se.buttons?1:2&se.buttons?2:3;break;case"mouseup":Ke=0,Le=se.button<3?se.button:3;break;case"mousedown":Ke=1,Le=se.button<3?se.button:3;break;case"wheel":if(X._customWheelEventHandler&&X._customWheelEventHandler(se)===!1||X.viewport.getLinesScrolled(se)===0)return!1;Ke=se.deltaY<0?0:1,Le=4;break;default:return!1}return!(Ke===void 0||Le===void 0||Le>4)&&X.coreMouseService.triggerMouseEvent({col:we.col,row:we.row,x:we.x,y:we.y,button:Le,action:Ke,ctrl:se.ctrlKey,alt:se.altKey,shift:se.shiftKey})}const te={mouseup:null,wheel:null,mousedrag:null,mousemove:null},J={mouseup:se=>(le(se),se.buttons||(this._document.removeEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.removeEventListener("mousemove",te.mousedrag)),this.cancel(se)),wheel:se=>(le(se),this.cancel(se,!0)),mousedrag:se=>{se.buttons&&le(se)},mousemove:se=>{se.buttons||le(se)}};this.register(this.coreMouseService.onProtocolChange((se=>{se?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(se)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&se?te.mousemove||(W.addEventListener("mousemove",J.mousemove),te.mousemove=J.mousemove):(W.removeEventListener("mousemove",te.mousemove),te.mousemove=null),16&se?te.wheel||(W.addEventListener("wheel",J.wheel,{passive:!1}),te.wheel=J.wheel):(W.removeEventListener("wheel",te.wheel),te.wheel=null),2&se?te.mouseup||(te.mouseup=J.mouseup):(this._document.removeEventListener("mouseup",te.mouseup),te.mouseup=null),4&se?te.mousedrag||(te.mousedrag=J.mousedrag):(this._document.removeEventListener("mousemove",te.mousedrag),te.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)(W,"mousedown",(se=>{if(se.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(se))return le(se),te.mouseup&&this._document.addEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.addEventListener("mousemove",te.mousedrag),this.cancel(se)}))),this.register((0,m.addDisposableDomListener)(W,"wheel",(se=>{if(!te.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(se)===!1)return!1;if(!this.buffer.hasScrollback){const we=this.viewport.getLinesScrolled(se);if(we===0)return;const Le=G.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(se.deltaY<0?"A":"B");let Ke="";for(let ne=0;ne<Math.abs(we);ne++)Ke+=Le;return this.coreService.triggerDataEvent(Ke,!0),this.cancel(se,!0)}return this.viewport.handleWheel(se)?this.cancel(se):void 0}}),{passive:!1})),this.register((0,m.addDisposableDomListener)(W,"touchstart",(se=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(se),this.cancel(se)}),{passive:!0})),this.register((0,m.addDisposableDomListener)(W,"touchmove",(se=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(se)?void 0:this.cancel(se)}),{passive:!1}))}refresh(X,W){var le;(le=this._renderService)==null||le.refreshRows(X,W)}updateCursorStyle(X){var W;(W=this._selectionService)!=null&&W.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,W,le=0){var te;le===1?(super.scrollLines(X,W,le),this.refresh(0,this.rows-1)):(te=this.viewport)==null||te.scrollLines(X)}paste(X){(0,f.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}attachCustomWheelEventHandler(X){this._customWheelEventHandler=X}registerLinkProvider(X){return this._linkProviderService.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,W,le){this._selectionService.setSelection(X,W,le)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;(X=this._selectionService)==null||X.clearSelection()}selectAll(){var X;(X=this._selectionService)==null||X.selectAll()}selectLines(X,W){var le;(le=this._selectionService)==null||le.selectLines(X,W)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!W&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||X.key!=="Dead"&&X.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const le=(0,U.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),le.type===3||le.type===2){const te=this.rows-1;return this.scrollLines(le.type===2?-te:te),this.cancel(X,!0)}return le.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(le.cancel&&this.cancel(X,!0),!le.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&X.key.length===1&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(le.key!==G.C0.ETX&&le.key!==G.C0.CR||(this.textarea.value=""),this._onKey.fire({key:le.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(le.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,W){const le=X.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||X.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||X.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?le:le&&(!W.keyCode||W.keyCode>47)}_keyUp(X){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1||((function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18})(X)||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;if(this.cancel(X),X.charCode)W=X.charCode;else if(X.which===null||X.which===void 0)W=X.keyCode;else{if(X.which===0||X.charCode===0)return!1;W=X.which}return!(!W||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){if(X.data&&X.inputType==="insertText"&&(!X.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=X.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(X),!0}return!1}resize(X,W){X!==this.cols||W!==this.rows?super.resize(X,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,W){var le,te;(le=this._charSizeService)==null||le.measure(),(te=this.viewport)==null||te.syncScrollArea(!0)}clear(){var X;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(X=this.viewport)==null||X.reset(),this.refresh(0,this.rows-1)}}reset(){var W,le;this.options.rows=this.rows,this.options.cols=this.cols;const X=this._customKeyEventHandler;this._setup(),super.reset(),(W=this._selectionService)==null||W.reset(),this._decorationService.reset(),(le=this.viewport)==null||le.reset(),this._customKeyEventHandler=X,this.refresh(0,this.rows-1)}clearTextureAtlas(){var X;(X=this._renderService)==null||X.clearTextureAtlas()}_reportFocus(){var X;(X=this.element)!=null&&X.classList.contains("focus")?this.coreService.triggerDataEvent(G.C0.ESC+"[I"):this.coreService.triggerDataEvent(G.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case q.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),le=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[4;${le};${W}t`);break;case q.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const te=this._renderService.dimensions.css.cell.width.toFixed(0),J=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[6;${J};${te}t`)}}cancel(X,W){if(this.options.cancelEvents||W)return X.preventDefault(),X.stopPropagation(),!1}}l.Terminal=fe},9924:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(c,f=1e3){this._renderCallback=c,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,f,m){this._rowCount=m,c=c!==void 0?c:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const x=h-this._lastRefreshMs,w=this._debounceThresholdMS-x;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,f)}}},1680:function(d,l,c){var f=this&&this.__decorate||function(b,g,y,j){var E,P=arguments.length,T=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,y):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,g,y,j);else for(var N=b.length-1;N>=0;N--)(E=b[N])&&(T=(P<3?E(T):P>3?E(g,y,T):E(g,y))||T);return P>3&&T&&Object.defineProperty(g,y,T),T},m=this&&this.__param||function(b,g){return function(y,j){g(y,j,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=c(3656),x=c(4725),w=c(8460),k=c(844),_=c(2585);let v=l.Viewport=class extends k.Disposable{constructor(b,g,y,j,E,P,T,N){super(),this._viewportElement=b,this._scrollArea=g,this._bufferService=y,this._optionsService=j,this._charSizeService=E,this._renderService=P,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((R=>this._activeBuffer=R.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((R=>this._renderDimensions=R))),this._handleThemeChange(N.colors),this.register(N.onChangeColors((R=>this._handleThemeChange(R)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(b){this._viewportElement.style.backgroundColor=b.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(b){if(b)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const b=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==b&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=b),this._refreshAnimationFrame=null}syncScrollArea(b=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(b);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(b)}_handleScroll(b){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const b=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(b*(this._smoothScrollState.target-this._smoothScrollState.origin)),b<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(b,g){const y=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&y<this._lastRecordedBufferHeight)||(b.cancelable&&b.preventDefault(),!1)}handleWheel(b){const g=this._getPixelsScrolled(b);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(b,g))}scrollLines(b){if(b!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=b*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:b,suppressScrollEvent:!1})}_getPixelsScrolled(b){if(b.deltaY===0||b.shiftKey)return 0;let g=this._applyScrollModifier(b.deltaY,b);return b.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:b.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(b,g){var N;let y,j="";const E=[],P=g??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let R=b;R<P;R++){const I=T.get(R);if(!I)continue;const O=(N=T.get(R+1))==null?void 0:N.isWrapped;if(j+=I.translateToString(!O),!O||R===T.length-1){const B=document.createElement("div");B.textContent=j,E.push(B),j.length>0&&(y=B),j=""}}return{bufferElements:E,cursorElement:y}}getLinesScrolled(b){if(b.deltaY===0||b.shiftKey)return 0;let g=this._applyScrollModifier(b.deltaY,b);return b.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):b.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(b,g){const y=this._optionsService.rawOptions.fastScrollModifier;return y==="alt"&&g.altKey||y==="ctrl"&&g.ctrlKey||y==="shift"&&g.shiftKey?b*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:b*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(b){this._lastTouchY=b.touches[0].pageY}handleTouchMove(b){const g=this._lastTouchY-b.touches[0].pageY;return this._lastTouchY=b.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(b,g))}};l.Viewport=v=f([m(2,_.IBufferService),m(3,_.IOptionsService),m(4,x.ICharSizeService),m(5,x.IRenderService),m(6,x.ICoreBrowserService),m(7,x.IThemeService)],v)},3107:function(d,l,c){var f=this&&this.__decorate||function(_,v,b,g){var y,j=arguments.length,E=j<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,b):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,v,b,g);else for(var P=_.length-1;P>=0;P--)(y=_[P])&&(E=(j<3?y(E):j>3?y(v,b,E):y(v,b))||E);return j>3&&E&&Object.defineProperty(v,b,E),E},m=this&&this.__param||function(_,v){return function(b,g){v(b,g,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=c(4725),x=c(844),w=c(2585);let k=l.BufferDecorationRenderer=class extends x.Disposable{constructor(_,v,b,g,y){super(),this._screenElement=_,this._bufferService=v,this._coreBrowserService=b,this._decorationService=g,this._renderService=y,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((j=>this._removeDecoration(j)))),this.register((0,x.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const _ of this._decorationService.decorations)this._renderDecoration(_);this._dimensionsChanged=!1}_renderDecoration(_){this._refreshStyle(_),this._dimensionsChanged&&this._refreshXPosition(_)}_createElement(_){var g;const v=this._coreBrowserService.mainDocument.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((g=_==null?void 0:_.options)==null?void 0:g.layer)==="top"),v.style.width=`${Math.round((_.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(_.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(_.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=_.options.x??0;return b&&b>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(_,v),v}_refreshStyle(_){const v=_.marker.line-this._bufferService.buffers.active.ydisp;if(v<0||v>=this._bufferService.rows)_.element&&(_.element.style.display="none",_.onRenderEmitter.fire(_.element));else{let b=this._decorationElements.get(_);b||(b=this._createElement(_),_.element=b,this._decorationElements.set(_,b),this._container.appendChild(b),_.onDispose((()=>{this._decorationElements.delete(_),b.remove()}))),b.style.top=v*this._renderService.dimensions.css.cell.height+"px",b.style.display=this._altBufferIsActive?"none":"block",_.onRenderEmitter.fire(b)}}_refreshXPosition(_,v=_.element){if(!v)return;const b=_.options.x??0;(_.options.anchor||"left")==="right"?v.style.right=b?b*this._renderService.dimensions.css.cell.width+"px":"":v.style.left=b?b*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(_){var v;(v=this._decorationElements.get(_))==null||v.remove(),this._decorationElements.delete(_),_.dispose()}};l.BufferDecorationRenderer=k=f([m(1,w.IBufferService),m(2,h.ICoreBrowserService),m(3,w.IDecorationService),m(4,h.IRenderService)],k)},5871:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const f of this._zones)if(f.color===c.options.overviewRulerOptions.color&&f.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,c.marker.line))return;if(this._lineAdjacentToZone(f,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(f,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,f){return f>=c.startBufferLine&&f<=c.endBufferLine}_lineAdjacentToZone(c,f,m){return f>=c.startBufferLine-this._linePadding[m||"full"]&&f<=c.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(c,f){c.startBufferLine=Math.min(c.startBufferLine,f),c.endBufferLine=Math.max(c.endBufferLine,f)}}},5744:function(d,l,c){var f=this&&this.__decorate||function(y,j,E,P){var T,N=arguments.length,R=N<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,j,E,P);else for(var I=y.length-1;I>=0;I--)(T=y[I])&&(R=(N<3?T(R):N>3?T(j,E,R):T(j,E))||R);return N>3&&R&&Object.defineProperty(j,E,R),R},m=this&&this.__param||function(y,j){return function(E,P){j(E,P,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=c(5871),x=c(4725),w=c(844),k=c(2585),_={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0},b={full:0,left:0,center:0,right:0};let g=l.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,j,E,P,T,N,R){var O;super(),this._viewportElement=y,this._screenElement=j,this._bufferService=E,this._decorationService=P,this._renderService=T,this._optionsService=N,this._coreBrowserService=R,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)==null||O.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)((()=>{var B;(B=this._canvas)==null||B.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),j=Math.ceil(this._canvas.width/3);v.full=this._canvas.width,v.left=y,v.center=j,v.right=y,this._refreshDrawHeightConstants(),b.full=0,b.left=0,b.center=v.left,b.right=v.left+v.center}_refreshDrawHeightConstants(){_.full=Math.round(2*this._coreBrowserService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,j=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowserService.dpr);_.left=j,_.center=j,_.right=j}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const j of this._decorationService.decorations)this._colorZoneStore.addDecoration(j);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const j of y)j.position!=="full"&&this._renderColorZone(j);for(const j of y)j.position==="full"&&this._renderColorZone(j);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(b[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-_[y.position||"full"]/2),v[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[y.position||"full"]))}_queueRefresh(y,j){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=j||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};l.OverviewRulerRenderer=g=f([m(2,k.IBufferService),m(3,k.IDecorationService),m(4,x.IRenderService),m(5,k.IOptionsService),m(6,x.ICoreBrowserService)],g)},2950:function(d,l,c){var f=this&&this.__decorate||function(_,v,b,g){var y,j=arguments.length,E=j<3?v:g===null?g=Object.getOwnPropertyDescriptor(v,b):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,v,b,g);else for(var P=_.length-1;P>=0;P--)(y=_[P])&&(E=(j<3?y(E):j>3?y(v,b,E):y(v,b))||E);return j>3&&E&&Object.defineProperty(v,b,E),E},m=this&&this.__param||function(_,v){return function(b,g){v(b,g,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=c(4725),x=c(2585),w=c(2584);let k=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,v,b,g,y,j){this._textarea=_,this._compositionView=v,this._bufferService=b,this._optionsService=g,this._coreService=y,this._renderService=j,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let b;this._isSendingComposition=!1,v.start+=this._dataAlreadySent.length,b=this._isComposing?this._textarea.value.substring(v.start,v.end):this._textarea.value.substring(v.start),b.length>0&&this._coreService.triggerDataEvent(b,!0)}}),0)}else{this._isSendingComposition=!1;const v=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(v,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const v=this._textarea.value,b=v.replace(_,"");this._dataAlreadySent=b,v.length>_.length?this._coreService.triggerDataEvent(b,!0):v.length<_.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):v.length===_.length&&v!==_&&this._coreService.triggerDataEvent(v,!0)}}),0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),b=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,y=v*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=y+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=b+"px",this._compositionView.style.lineHeight=b+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const j=this._compositionView.getBoundingClientRect();this._textarea.style.left=y+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(j.width,1)+"px",this._textarea.style.height=Math.max(j.height,1)+"px",this._textarea.style.lineHeight=j.height+"px"}_||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};l.CompositionHelper=k=f([m(2,x.IBufferService),m(3,x.IOptionsService),m(4,x.ICoreService),m(5,h.IRenderService)],k)},9806:(d,l)=>{function c(f,m,h){const x=h.getBoundingClientRect(),w=f.getComputedStyle(h),k=parseInt(w.getPropertyValue("padding-left")),_=parseInt(w.getPropertyValue("padding-top"));return[m.clientX-x.left-k,m.clientY-x.top-_]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=c,l.getCoords=function(f,m,h,x,w,k,_,v,b){if(!k)return;const g=c(f,m,h);return g?(g[0]=Math.ceil((g[0]+(b?_/2:0))/_),g[1]=Math.ceil(g[1]/v),g[0]=Math.min(Math.max(g[0],1),x+(b?1:0)),g[1]=Math.min(Math.max(g[1],1),w),g):void 0}},9504:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const f=c(2584);function m(v,b,g,y){const j=v-h(v,g),E=b-h(b,g),P=Math.abs(j-E)-(function(T,N,R){let I=0;const O=T-h(T,R),B=N-h(N,R);for(let $=0;$<Math.abs(O-B);$++){const Y=x(T,N)==="A"?-1:1,z=R.buffer.lines.get(O+Y*$);z!=null&&z.isWrapped&&I++}return I})(v,b,g);return _(P,k(x(v,b),y))}function h(v,b){let g=0,y=b.buffer.lines.get(v),j=y==null?void 0:y.isWrapped;for(;j&&v>=0&&v<b.rows;)g++,y=b.buffer.lines.get(--v),j=y==null?void 0:y.isWrapped;return g}function x(v,b){return v>b?"A":"B"}function w(v,b,g,y,j,E){let P=v,T=b,N="";for(;P!==g||T!==y;)P+=j?1:-1,j&&P>E.cols-1?(N+=E.buffer.translateBufferLineToString(T,!1,v,P),P=0,v=0,T++):!j&&P<0&&(N+=E.buffer.translateBufferLineToString(T,!1,0,v+1),P=E.cols-1,v=P,T--);return N+E.buffer.translateBufferLineToString(T,!1,v,P)}function k(v,b){const g=b?"O":"[";return f.C0.ESC+g+v}function _(v,b){v=Math.floor(v);let g="";for(let y=0;y<v;y++)g+=b;return g}l.moveToCellSequence=function(v,b,g,y){const j=g.buffer.x,E=g.buffer.y;if(!g.buffer.hasScrollback)return(function(N,R,I,O,B,$){return m(R,O,B,$).length===0?"":_(w(N,R,N,R-h(R,B),!1,B).length,k("D",$))})(j,E,0,b,g,y)+m(E,b,g,y)+(function(N,R,I,O,B,$){let Y;Y=m(R,O,B,$).length>0?O-h(O,B):R;const z=O,K=(function(G,U,L,M,F,q){let H;return H=m(L,M,F,q).length>0?M-h(M,F):U,G<L&&H<=M||G>=L&&H<M?"C":"D"})(N,R,I,O,B,$);return _(w(N,Y,I,z,K==="C",B).length,k(K,$))})(j,E,v,b,g,y);let P;if(E===b)return P=j>v?"D":"C",_(Math.abs(j-v),k(P,y));P=E>b?"D":"C";const T=Math.abs(E-b);return _((function(N,R){return R.cols-N})(E>b?v:j,g)+(T-1)*g.cols+1+((E>b?j:v)-1),k(P,y))}},1296:function(d,l,c){var f=this&&this.__decorate||function($,Y,z,K){var G,U=arguments.length,L=U<3?Y:K===null?K=Object.getOwnPropertyDescriptor(Y,z):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate($,Y,z,K);else for(var M=$.length-1;M>=0;M--)(G=$[M])&&(L=(U<3?G(L):U>3?G(Y,z,L):G(Y,z))||L);return U>3&&L&&Object.defineProperty(Y,z,L),L},m=this&&this.__param||function($,Y){return function(z,K){Y(z,K,$)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=c(3787),x=c(2550),w=c(2223),k=c(6171),_=c(6052),v=c(4725),b=c(8055),g=c(8460),y=c(844),j=c(2585),E="xterm-dom-renderer-owner-",P="xterm-rows",T="xterm-fg-",N="xterm-bg-",R="xterm-focus",I="xterm-selection";let O=1,B=l.DomRenderer=class extends y.Disposable{constructor($,Y,z,K,G,U,L,M,F,q,H,ae,fe){super(),this._terminal=$,this._document=Y,this._element=z,this._screenElement=K,this._viewportElement=G,this._helperContainer=U,this._linkifier2=L,this._charSizeService=F,this._optionsService=q,this._bufferService=H,this._coreBrowserService=ae,this._themeService=fe,this._terminalClass=O++,this._rowElements=[],this._selectionRenderModel=(0,_.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(P),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(I),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((me=>this._injectCss(me)))),this._injectCss(this._themeService.colors),this._rowFactory=M.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(E+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((me=>this._handleLinkHover(me)))),this.register(this._linkifier2.onHideLinkUnderline((me=>this._handleLinkLeave(me)))),this.register((0,y.toDisposable)((()=>{this._element.classList.remove(E+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new x.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const $=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*$,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*$),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/$),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/$),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const z of this._rowElements)z.style.width=`${this.dimensions.css.canvas.width}px`,z.style.height=`${this.dimensions.css.cell.height}px`,z.style.lineHeight=`${this.dimensions.css.cell.height}px`,z.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const Y=`${this._terminalSelector} .${P} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=Y,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss($){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Y=`${this._terminalSelector} .${P} { color: ${$.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;Y+=`${this._terminalSelector} .${P} .xterm-dim { color: ${b.color.multiplyOpacity($.foreground,.5).css};}`,Y+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const z=`blink_underline_${this._terminalClass}`,K=`blink_bar_${this._terminalClass}`,G=`blink_block_${this._terminalClass}`;Y+=`@keyframes ${z} { 50% {  border-bottom-style: hidden; }}`,Y+=`@keyframes ${K} { 50% {  box-shadow: none; }}`,Y+=`@keyframes ${G} { 0% {  background-color: ${$.cursor.css};  color: ${$.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${$.cursor.css}; }}`,Y+=`${this._terminalSelector} .${P}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${P}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${P}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block { background-color: ${$.cursor.css}; color: ${$.cursorAccent.css};}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${$.cursor.css} !important; color: ${$.cursorAccent.css} !important;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${$.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${$.cursor.css} inset;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${$.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,Y+=`${this._terminalSelector} .${I} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${I} div { position: absolute; background-color: ${$.selectionBackgroundOpaque.css};}${this._terminalSelector} .${I} div { position: absolute; background-color: ${$.selectionInactiveBackgroundOpaque.css};}`;for(const[U,L]of $.ansi.entries())Y+=`${this._terminalSelector} .${T}${U} { color: ${L.css}; }${this._terminalSelector} .${T}${U}.xterm-dim { color: ${b.color.multiplyOpacity(L,.5).css}; }${this._terminalSelector} .${N}${U} { background-color: ${L.css}; }`;Y+=`${this._terminalSelector} .${T}${w.INVERTED_DEFAULT_COLOR} { color: ${b.color.opaque($.background).css}; }${this._terminalSelector} .${T}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${b.color.multiplyOpacity(b.color.opaque($.background),.5).css}; }${this._terminalSelector} .${N}${w.INVERTED_DEFAULT_COLOR} { background-color: ${$.foreground.css}; }`,this._themeStyleElement.textContent=Y}_setDefaultSpacing(){const $=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${$}px`,this._rowFactory.defaultSpacing=$}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements($,Y){for(let z=this._rowElements.length;z<=Y;z++){const K=this._document.createElement("div");this._rowContainer.appendChild(K),this._rowElements.push(K)}for(;this._rowElements.length>Y;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize($,Y){this._refreshRowElements($,Y),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(R),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(R),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged($,Y,z){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged($,Y,z),this.renderRows(0,this._bufferService.rows-1),!$||!Y)return;this._selectionRenderModel.update(this._terminal,$,Y,z);const K=this._selectionRenderModel.viewportStartRow,G=this._selectionRenderModel.viewportEndRow,U=this._selectionRenderModel.viewportCappedStartRow,L=this._selectionRenderModel.viewportCappedEndRow;if(U>=this._bufferService.rows||L<0)return;const M=this._document.createDocumentFragment();if(z){const F=$[0]>Y[0];M.appendChild(this._createSelectionElement(U,F?Y[0]:$[0],F?$[0]:Y[0],L-U+1))}else{const F=K===U?$[0]:0,q=U===G?Y[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(U,F,q));const H=L-U-1;if(M.appendChild(this._createSelectionElement(U+1,0,this._bufferService.cols,H)),U!==L){const ae=G===L?Y[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(L,0,ae))}}this._selectionContainer.appendChild(M)}_createSelectionElement($,Y,z,K=1){const G=this._document.createElement("div"),U=Y*this.dimensions.css.cell.width;let L=this.dimensions.css.cell.width*(z-Y);return U+L>this.dimensions.css.canvas.width&&(L=this.dimensions.css.canvas.width-U),G.style.height=K*this.dimensions.css.cell.height+"px",G.style.top=$*this.dimensions.css.cell.height+"px",G.style.left=`${U}px`,G.style.width=`${L}px`,G}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const $ of this._rowElements)$.replaceChildren()}renderRows($,Y){const z=this._bufferService.buffer,K=z.ybase+z.y,G=Math.min(z.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let F=$;F<=Y;F++){const q=F+z.ydisp,H=this._rowElements[F],ae=z.lines.get(q);if(!H||!ae)break;H.replaceChildren(...this._rowFactory.createRow(ae,q,q===K,L,M,G,U,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${E}${this._terminalClass}`}_handleLinkHover($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!0)}_handleLinkLeave($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!1)}_setCellUnderline($,Y,z,K,G,U){z<0&&($=0),K<0&&(Y=0);const L=this._bufferService.rows-1;z=Math.max(Math.min(z,L),0),K=Math.max(Math.min(K,L),0),G=Math.min(G,this._bufferService.cols);const M=this._bufferService.buffer,F=M.ybase+M.y,q=Math.min(M.x,G-1),H=this._optionsService.rawOptions.cursorBlink,ae=this._optionsService.rawOptions.cursorStyle,fe=this._optionsService.rawOptions.cursorInactiveStyle;for(let me=z;me<=K;++me){const X=me+M.ydisp,W=this._rowElements[me],le=M.lines.get(X);if(!W||!le)break;W.replaceChildren(...this._rowFactory.createRow(le,X,X===F,ae,fe,q,H,this.dimensions.css.cell.width,this._widthCache,U?me===z?$:0:-1,U?(me===K?Y:G)-1:-1))}}};l.DomRenderer=B=f([m(7,j.IInstantiationService),m(8,v.ICharSizeService),m(9,j.IOptionsService),m(10,j.IBufferService),m(11,v.ICoreBrowserService),m(12,v.IThemeService)],B)},3787:function(d,l,c){var f=this&&this.__decorate||function(P,T,N,R){var I,O=arguments.length,B=O<3?T:R===null?R=Object.getOwnPropertyDescriptor(T,N):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(P,T,N,R);else for(var $=P.length-1;$>=0;$--)(I=P[$])&&(B=(O<3?I(B):O>3?I(T,N,B):I(T,N))||B);return O>3&&B&&Object.defineProperty(T,N,B),B},m=this&&this.__param||function(P,T){return function(N,R){T(N,R,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=c(2223),x=c(643),w=c(511),k=c(2585),_=c(8055),v=c(4725),b=c(4269),g=c(6171),y=c(3734);let j=l.DomRendererRowFactory=class{constructor(P,T,N,R,I,O,B){this._document=P,this._characterJoinerService=T,this._optionsService=N,this._coreBrowserService=R,this._coreService=I,this._decorationService=O,this._themeService=B,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(P,T,N){this._selectionStart=P,this._selectionEnd=T,this._columnSelectMode=N}createRow(P,T,N,R,I,O,B,$,Y,z,K){const G=[],U=this._characterJoinerService.getJoinedCharacters(T),L=this._themeService.colors;let M,F=P.getNoBgTrimmedLength();N&&F<O+1&&(F=O+1);let q=0,H="",ae=0,fe=0,me=0,X=!1,W=0,le=!1,te=0;const J=[],se=z!==-1&&K!==-1;for(let we=0;we<F;we++){P.loadCell(we,this._workCell);let Le=this._workCell.getWidth();if(Le===0)continue;let Ke=!1,ne=we,ue=this._workCell;if(U.length>0&&we===U[0][0]){Ke=!0;const nt=U.shift();ue=new b.JoinedCellData(this._workCell,P.translateToString(!0,nt[0],nt[1]),nt[1]-nt[0]),ne=nt[1]-1,Le=ue.getWidth()}const je=this._isCellInSelection(we,T),De=N&&we===O,Je=se&&we>=z&&we<=K;let _e=!1;this._decorationService.forEachDecorationAtCell(we,T,void 0,(nt=>{_e=!0}));let ye=ue.getChars()||x.WHITESPACE_CELL_CHAR;if(ye===" "&&(ue.isUnderline()||ue.isOverline())&&(ye=""),te=Le*$-Y.get(ye,ue.isBold(),ue.isItalic()),M){if(q&&(je&&le||!je&&!le&&ue.bg===ae)&&(je&&le&&L.selectionForeground||ue.fg===fe)&&ue.extended.ext===me&&Je===X&&te===W&&!De&&!Ke&&!_e){ue.isInvisible()?H+=x.WHITESPACE_CELL_CHAR:H+=ye,q++;continue}q&&(M.textContent=H),M=this._document.createElement("span"),q=0,H=""}else M=this._document.createElement("span");if(ae=ue.bg,fe=ue.fg,me=ue.extended.ext,X=Je,W=te,le=je,Ke&&O>=we&&O<=ne&&(O=we),!this._coreService.isCursorHidden&&De&&this._coreService.isCursorInitialized){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)B&&J.push("xterm-cursor-blink"),J.push(R==="bar"?"xterm-cursor-bar":R==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(I)switch(I){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline")}}if(ue.isBold()&&J.push("xterm-bold"),ue.isItalic()&&J.push("xterm-italic"),ue.isDim()&&J.push("xterm-dim"),H=ue.isInvisible()?x.WHITESPACE_CELL_CHAR:ue.getChars()||x.WHITESPACE_CELL_CHAR,ue.isUnderline()&&(J.push(`xterm-underline-${ue.extended.underlineStyle}`),H===" "&&(H=""),!ue.isUnderlineColorDefault()))if(ue.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${y.AttributeData.toColorRGB(ue.getUnderlineColor()).join(",")})`;else{let nt=ue.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ue.isBold()&&nt<8&&(nt+=8),M.style.textDecorationColor=L.ansi[nt].css}ue.isOverline()&&(J.push("xterm-overline"),H===" "&&(H="")),ue.isStrikethrough()&&J.push("xterm-strikethrough"),Je&&(M.style.textDecoration="underline");let Oe=ue.getFgColor(),xt=ue.getFgColorMode(),Rt=ue.getBgColor(),ge=ue.getBgColorMode();const Ce=!!ue.isInverse();if(Ce){const nt=Oe;Oe=Rt,Rt=nt;const Gt=xt;xt=ge,ge=Gt}let ze,Xe,Ye,Et=!1;switch(this._decorationService.forEachDecorationAtCell(we,T,void 0,(nt=>{nt.options.layer!=="top"&&Et||(nt.backgroundColorRGB&&(ge=50331648,Rt=nt.backgroundColorRGB.rgba>>8&16777215,ze=nt.backgroundColorRGB),nt.foregroundColorRGB&&(xt=50331648,Oe=nt.foregroundColorRGB.rgba>>8&16777215,Xe=nt.foregroundColorRGB),Et=nt.options.layer==="top")})),!Et&&je&&(ze=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,Rt=ze.rgba>>8&16777215,ge=50331648,Et=!0,L.selectionForeground&&(xt=50331648,Oe=L.selectionForeground.rgba>>8&16777215,Xe=L.selectionForeground)),Et&&J.push("xterm-decoration-top"),ge){case 16777216:case 33554432:Ye=L.ansi[Rt],J.push(`xterm-bg-${Rt}`);break;case 50331648:Ye=_.channels.toColor(Rt>>16,Rt>>8&255,255&Rt),this._addStyle(M,`background-color:#${E((Rt>>>0).toString(16),"0",6)}`);break;default:Ce?(Ye=L.foreground,J.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Ye=L.background}switch(ze||ue.isDim()&&(ze=_.color.multiplyOpacity(Ye,.5)),xt){case 16777216:case 33554432:ue.isBold()&&Oe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Oe+=8),this._applyMinimumContrast(M,Ye,L.ansi[Oe],ue,ze,void 0)||J.push(`xterm-fg-${Oe}`);break;case 50331648:const nt=_.channels.toColor(Oe>>16&255,Oe>>8&255,255&Oe);this._applyMinimumContrast(M,Ye,nt,ue,ze,Xe)||this._addStyle(M,`color:#${E(Oe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,Ye,L.foreground,ue,ze,Xe)||Ce&&J.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}J.length&&(M.className=J.join(" "),J.length=0),De||Ke||_e?M.textContent=H:q++,te!==this.defaultSpacing&&(M.style.letterSpacing=`${te}px`),G.push(M),we=ne}return M&&q&&(M.textContent=H),G}_applyMinimumContrast(P,T,N,R,I,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.treatGlyphAsBackgroundColor)(R.getCode()))return!1;const B=this._getContrastCache(R);let $;if(I||O||($=B.getColor(T.rgba,N.rgba)),$===void 0){const Y=this._optionsService.rawOptions.minimumContrastRatio/(R.isDim()?2:1);$=_.color.ensureContrastRatio(I||T,O||N,Y),B.setColor((I||T).rgba,(O||N).rgba,$??null)}return!!$&&(this._addStyle(P,`color:${$.css}`),!0)}_getContrastCache(P){return P.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(P,T){P.setAttribute("style",`${P.getAttribute("style")||""}${T};`)}_isCellInSelection(P,T){const N=this._selectionStart,R=this._selectionEnd;return!(!N||!R)&&(this._columnSelectMode?N[0]<=R[0]?P>=N[0]&&T>=N[1]&&P<R[0]&&T<=R[1]:P<N[0]&&T>=N[1]&&P>=R[0]&&T<=R[1]:T>N[1]&&T<R[1]||N[1]===R[1]&&T===N[1]&&P>=N[0]&&P<R[0]||N[1]<R[1]&&T===R[1]&&P<R[0]||N[1]<R[1]&&T===N[1]&&P>=N[0])}};function E(P,T,N){for(;P.length<N;)P=T+P;return P}l.DomRendererRowFactory=j=f([m(1,v.ICharacterJoinerService),m(2,k.IOptionsService),m(3,v.ICoreBrowserService),m(4,k.ICoreService),m(5,k.IDecorationService),m(6,v.IThemeService)],j)},2550:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(c,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const m=c.createElement("span");m.classList.add("xterm-char-measure-element");const h=c.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const x=c.createElement("span");x.classList.add("xterm-char-measure-element"),x.style.fontStyle="italic";const w=c.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[m,h,x,w],this._container.appendChild(m),this._container.appendChild(h),this._container.appendChild(x),this._container.appendChild(w),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,f,m,h){c===this._font&&f===this._fontSize&&m===this._weight&&h===this._weightBold||(this._font=c,this._fontSize=f,this._weight=m,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(c,f,m){let h=0;if(!f&&!m&&c.length===1&&(h=c.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const k=this._measure(c,0);return k>0&&(this._flat[h]=k),k}let x=c;f&&(x+="B"),m&&(x+="I");let w=this._holey.get(x);if(w===void 0){let k=0;f&&(k|=1),m&&(k|=2),w=this._measure(c,k),w>0&&this._holey.set(x,w)}return w}_measure(c,f){const m=this._measureElements[f];return m.textContent=c.repeat(32),m.offsetWidth/32}}},2223:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const f=c(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(d,l)=>{function c(m){return 57508<=m&&m<=57558}function f(m){return m>=128512&&m<=128591||m>=127744&&m<=128511||m>=128640&&m<=128767||m>=9728&&m<=9983||m>=9984&&m<=10175||m>=65024&&m<=65039||m>=129280&&m<=129535||m>=127462&&m<=127487}Object.defineProperty(l,"__esModule",{value:!0}),l.computeNextVariantOffset=l.createRenderDimensions=l.treatGlyphAsBackgroundColor=l.allowRescaling=l.isEmoji=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(m){if(!m)throw new Error("value must not be falsy");return m},l.isPowerlineGlyph=c,l.isRestrictedPowerlineGlyph=function(m){return 57520<=m&&m<=57527},l.isEmoji=f,l.allowRescaling=function(m,h,x,w){return h===1&&x>Math.ceil(1.5*w)&&m!==void 0&&m>255&&!f(m)&&!c(m)&&!(function(k){return 57344<=k&&k<=63743})(m)},l.treatGlyphAsBackgroundColor=function(m){return c(m)||(function(h){return 9472<=h&&h<=9631})(m)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},l.computeNextVariantOffset=function(m,h,x=0){return(m-(2*Math.round(h)-x))%(2*Math.round(h))}},6052:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createSelectionRenderModel=void 0;class c{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(m,h,x,w=!1){if(this.selectionStart=h,this.selectionEnd=x,!h||!x||h[0]===x[0]&&h[1]===x[1])return void this.clear();const k=m.buffers.active.ydisp,_=h[1]-k,v=x[1]-k,b=Math.max(_,0),g=Math.min(v,m.rows-1);b>=m.rows||g<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=_,this.viewportEndRow=v,this.viewportCappedStartRow=b,this.viewportCappedEndRow=g,this.startCol=h[0],this.endCol=x[0])}isCellSelected(m,h,x){return!!this.hasSelection&&(x-=m.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&x>=this.viewportCappedStartRow&&h<this.endCol&&x<=this.viewportCappedEndRow:h<this.startCol&&x>=this.viewportCappedStartRow&&h>=this.endCol&&x<=this.viewportCappedEndRow:x>this.viewportStartRow&&x<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&x===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&x===this.viewportStartRow&&h>=this.startCol)}}l.createSelectionRenderModel=function(){return new c}},456:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,f=this.selectionEnd;return!(!c||!f)&&(c[1]>f[1]||c[1]===f[1]&&c[0]>f[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(d,l,c){var f=this&&this.__decorate||function(g,y,j,E){var P,T=arguments.length,N=T<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,j):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,y,j,E);else for(var R=g.length-1;R>=0;R--)(P=g[R])&&(N=(T<3?P(N):T>3?P(y,j,N):P(y,j))||N);return T>3&&N&&Object.defineProperty(y,j,N),N},m=this&&this.__param||function(g,y){return function(j,E){y(j,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=c(2585),x=c(8460),w=c(844);let k=l.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,y,j){super(),this._optionsService=j,this.width=0,this.height=0,this._onCharSizeChange=this.register(new x.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new b(this._optionsService))}catch{this._measureStrategy=this.register(new v(g,y,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};l.CharSizeService=k=f([m(2,h.IOptionsService)],k);class _ extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(y,j){y!==void 0&&y>0&&j!==void 0&&j>0&&(this._result.width=y,this._result.height=j)}}class v extends _{constructor(y,j,E){super(),this._document=y,this._parentElement=j,this._optionsService=E,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class b extends _{constructor(y){super(),this._optionsService=y,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const j=this._ctx.measureText("W");if(!("width"in j&&"fontBoundingBoxAscent"in j&&"fontBoundingBoxDescent"in j))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const y=this._ctx.measureText("W");return this._validateAndSet(y.width,y.fontBoundingBoxAscent+y.fontBoundingBoxDescent),this._result}}},4269:function(d,l,c){var f=this&&this.__decorate||function(b,g,y,j){var E,P=arguments.length,T=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,y):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,g,y,j);else for(var N=b.length-1;N>=0;N--)(E=b[N])&&(T=(P<3?E(T):P>3?E(g,y,T):E(g,y))||T);return P>3&&T&&Object.defineProperty(g,y,T),T},m=this&&this.__param||function(b,g){return function(y,j){g(y,j,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=c(3734),x=c(643),w=c(511),k=c(2585);class _ extends h.AttributeData{constructor(g,y,j){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=y,this._width=j}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=_;let v=l.CharacterJoinerService=class lj{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(g){const y={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(y),y.id}deregister(g){for(let y=0;y<this._characterJoiners.length;y++)if(this._characterJoiners[y].id===g)return this._characterJoiners.splice(y,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const y=this._bufferService.buffer.lines.get(g);if(!y||y.length===0)return[];const j=[],E=y.translateToString(!0);let P=0,T=0,N=0,R=y.getFg(0),I=y.getBg(0);for(let O=0;O<y.getTrimmedLength();O++)if(y.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==R||this._workCell.bg!==I){if(O-P>1){const B=this._getJoinedRanges(E,N,T,y,P);for(let $=0;$<B.length;$++)j.push(B[$])}P=O,N=T,R=this._workCell.fg,I=this._workCell.bg}T+=this._workCell.getChars().length||x.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-P>1){const O=this._getJoinedRanges(E,N,T,y,P);for(let B=0;B<O.length;B++)j.push(O[B])}return j}_getJoinedRanges(g,y,j,E,P){const T=g.substring(y,j);let N=[];try{N=this._characterJoiners[0].handler(T)}catch(R){console.error(R)}for(let R=1;R<this._characterJoiners.length;R++)try{const I=this._characterJoiners[R].handler(T);for(let O=0;O<I.length;O++)lj._mergeRanges(N,I[O])}catch(I){console.error(I)}return this._stringRangesToCellRanges(N,E,P),N}_stringRangesToCellRanges(g,y,j){let E=0,P=!1,T=0,N=g[E];if(N){for(let R=j;R<this._bufferService.cols;R++){const I=y.getWidth(R),O=y.getString(R).length||x.WHITESPACE_CELL_CHAR.length;if(I!==0){if(!P&&N[0]<=T&&(N[0]=R,P=!0),N[1]<=T){if(N[1]=R,N=g[++E],!N)break;N[0]<=T?(N[0]=R,P=!0):P=!1}T+=O}}N&&(N[1]=this._bufferService.cols)}}static _mergeRanges(g,y){let j=!1;for(let E=0;E<g.length;E++){const P=g[E];if(j){if(y[1]<=P[0])return g[E-1][1]=y[1],g;if(y[1]<=P[1])return g[E-1][1]=Math.max(y[1],P[1]),g.splice(E,1),g;g.splice(E,1),E--}else{if(y[1]<=P[0])return g.splice(E,0,y),g;if(y[1]<=P[1])return P[0]=Math.min(y[0],P[0]),g;y[0]<P[1]&&(P[0]=Math.min(y[0],P[0]),j=!0)}}return j?g[g.length-1][1]=y[1]:g.push(y),g}};l.CharacterJoinerService=v=f([m(0,k.IBufferService)],v)},5114:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0;const f=c(844),m=c(8460),h=c(3656);class x extends f.Disposable{constructor(_,v,b){super(),this._textarea=_,this._window=v,this.mainDocument=b,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new m.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new m.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((g=>this._screenDprMonitor.setWindow(g)))),this.register((0,m.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(_){this._window!==_&&(this._window=_,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}l.CoreBrowserService=x;class w extends f.Disposable{constructor(_){super(),this._parentWindow=_,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new m.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)((()=>this.clearListener())))}setWindow(_){this._parentWindow=_,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)==null||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkProviderService=void 0;const f=c(844);class m extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(x){return this.linkProviders.push(x),{dispose:()=>{const w=this.linkProviders.indexOf(x);w!==-1&&this.linkProviders.splice(w,1)}}}}l.LinkProviderService=m},8934:function(d,l,c){var f=this&&this.__decorate||function(k,_,v,b){var g,y=arguments.length,j=y<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,v):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(k,_,v,b);else for(var E=k.length-1;E>=0;E--)(g=k[E])&&(j=(y<3?g(j):y>3?g(_,v,j):g(_,v))||j);return y>3&&j&&Object.defineProperty(_,v,j),j},m=this&&this.__param||function(k,_){return function(v,b){_(v,b,k)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=c(4725),x=c(9806);let w=l.MouseService=class{constructor(k,_){this._renderService=k,this._charSizeService=_}getCoords(k,_,v,b,g){return(0,x.getCoords)(window,k,_,v,b,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(k,_){const v=(0,x.getCoordsRelativeToElement)(window,k,_);if(this._charSizeService.hasValidSize)return v[0]=Math.min(Math.max(v[0],0),this._renderService.dimensions.css.canvas.width-1),v[1]=Math.min(Math.max(v[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(v[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(v[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(v[0]),y:Math.floor(v[1])}}};l.MouseService=w=f([m(0,h.IRenderService),m(1,h.ICharSizeService)],w)},3230:function(d,l,c){var f=this&&this.__decorate||function(g,y,j,E){var P,T=arguments.length,N=T<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,j):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,y,j,E);else for(var R=g.length-1;R>=0;R--)(P=g[R])&&(N=(T<3?P(N):T>3?P(y,j,N):P(y,j))||N);return T>3&&N&&Object.defineProperty(y,j,N),N},m=this&&this.__param||function(g,y){return function(j,E){y(j,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=c(6193),x=c(4725),w=c(8460),k=c(844),_=c(7226),v=c(2585);let b=l.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,y,j,E,P,T,N,R){super(),this._rowCount=g,this._charSizeService=E,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(((I,O)=>this._renderRows(I,O)),N),this.register(this._renderDebouncer),this.register(N.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var I;return(I=this._renderer.value)==null?void 0:I.clear()}))),this.register(j.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(P.onDecorationRegistered((()=>this._fullRefresh()))),this.register(P.onDecorationRemoved((()=>this._fullRefresh()))),this.register(j.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(j.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register(R.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(N.window,y),this.register(N.onWindowChange((I=>this._registerIntersectionObserver(I,y))))}_registerIntersectionObserver(g,y){if("IntersectionObserver"in g){const j=new g.IntersectionObserver((E=>this._handleIntersectionChange(E[E.length-1])),{threshold:0});j.observe(y),this._observerDisposable.value=(0,k.toDisposable)((()=>j.disconnect()))}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,y,j=!1){this._isPaused?this._needsFullRefresh=!0:(j||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,y,this._rowCount))}_renderRows(g,y){this._renderer.value&&(g=Math.min(g,this._rowCount-1),y=Math.min(y,this._rowCount-1),this._renderer.value.renderRows(g,y),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:y}),this._onRender.fire({start:g,end:y}),this._isNextRenderRedrawOnly=!0)}resize(g,y){this._rowCount=y,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value&&(this._renderer.value.onRequestRedraw((y=>this.refreshRows(y.start,y.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,y;this._renderer.value&&((y=(g=this._renderer.value).clearTextureAtlas)==null||y.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,y){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var j;return(j=this._renderer.value)==null?void 0:j.handleResize(g,y)})):this._renderer.value.handleResize(g,y),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)==null||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)==null||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)==null||g.handleFocus()}handleSelectionChanged(g,y,j){var E;this._selectionState.start=g,this._selectionState.end=y,this._selectionState.columnSelectMode=j,(E=this._renderer.value)==null||E.handleSelectionChanged(g,y,j)}handleCursorMove(){var g;(g=this._renderer.value)==null||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)==null||g.clear()}};l.RenderService=b=f([m(2,v.IOptionsService),m(3,x.ICharSizeService),m(4,v.IDecorationService),m(5,v.IBufferService),m(6,x.ICoreBrowserService),m(7,x.IThemeService)],b)},9312:function(d,l,c){var f=this&&this.__decorate||function(N,R,I,O){var B,$=arguments.length,Y=$<3?R:O===null?O=Object.getOwnPropertyDescriptor(R,I):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(N,R,I,O);else for(var z=N.length-1;z>=0;z--)(B=N[z])&&(Y=($<3?B(Y):$>3?B(R,I,Y):B(R,I))||Y);return $>3&&Y&&Object.defineProperty(R,I,Y),Y},m=this&&this.__param||function(N,R){return function(I,O){R(I,O,N)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=c(9806),x=c(9504),w=c(456),k=c(4725),_=c(8460),v=c(844),b=c(6114),g=c(4841),y=c(511),j=c(2585),E="",P=new RegExp(E,"g");let T=l.SelectionService=class extends v.Disposable{constructor(N,R,I,O,B,$,Y,z,K){super(),this._element=N,this._screenElement=R,this._linkifier=I,this._bufferService=O,this._coreService=B,this._mouseService=$,this._optionsService=Y,this._renderService=z,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new y.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=G=>this._handleMouseMove(G),this._mouseUpListener=G=>this._handleMouseUp(G),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((G=>this._handleTrim(G))),this.register(this._bufferService.buffers.onBufferActivate((G=>this._handleBufferActivate(G)))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,v.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const N=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!N||!R||N[0]===R[0]&&N[1]===R[1])}get selectionText(){const N=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;if(!N||!R)return"";const I=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(N[0]===R[0])return"";const B=N[0]<R[0]?N[0]:R[0],$=N[0]<R[0]?R[0]:N[0];for(let Y=N[1];Y<=R[1];Y++){const z=I.translateBufferLineToString(Y,!0,B,$);O.push(z)}}else{const B=N[1]===R[1]?R[0]:void 0;O.push(I.translateBufferLineToString(N[1],!0,N[0],B));for(let $=N[1]+1;$<=R[1]-1;$++){const Y=I.lines.get($),z=I.translateBufferLineToString($,!0);Y!=null&&Y.isWrapped?O[O.length-1]+=z:O.push(z)}if(N[1]!==R[1]){const $=I.lines.get(R[1]),Y=I.translateBufferLineToString(R[1],!0,0,R[0]);$&&$.isWrapped?O[O.length-1]+=Y:O.push(Y)}}return O.map((B=>B.replace(P," "))).join(b.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(N){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),b.isLinux&&N&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(N){const R=this._getMouseBufferCoords(N),I=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(I&&O&&R)&&this._areCoordsInSelection(R,I,O)}isCellInSelection(N,R){const I=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!I||!O)&&this._areCoordsInSelection([N,R],I,O)}_areCoordsInSelection(N,R,I){return N[1]>R[1]&&N[1]<I[1]||R[1]===I[1]&&N[1]===R[1]&&N[0]>=R[0]&&N[0]<I[0]||R[1]<I[1]&&N[1]===I[1]&&N[0]<I[0]||R[1]<I[1]&&N[1]===R[1]&&N[0]>=R[0]}_selectWordAtCursor(N,R){var B,$;const I=($=(B=this._linkifier.currentLink)==null?void 0:B.link)==null?void 0:$.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const O=this._getMouseBufferCoords(N);return!!O&&(this._selectWordAt(O,R),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(N,R){this._model.clearSelection(),N=Math.max(N,0),R=Math.min(R,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,N],this._model.selectionEnd=[this._bufferService.cols,R],this.refresh(),this._onSelectionChange.fire()}_handleTrim(N){this._model.handleTrim(N)&&this.refresh()}_getMouseBufferCoords(N){const R=this._mouseService.getCoords(N,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(R)return R[0]--,R[1]--,R[1]+=this._bufferService.buffer.ydisp,R}_getMouseEventScrollAmount(N){let R=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,N,this._screenElement)[1];const I=this._renderService.dimensions.css.canvas.height;return R>=0&&R<=I?0:(R>I&&(R-=I),R=Math.min(Math.max(R,-50),50),R/=50,R/Math.abs(R)+Math.round(14*R))}shouldForceSelection(N){return b.isMac?N.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:N.shiftKey}handleMouseDown(N){if(this._mouseDownTimeStamp=N.timeStamp,(N.button!==2||!this.hasSelection)&&N.button===0){if(!this._enabled){if(!this.shouldForceSelection(N))return;N.stopPropagation()}N.preventDefault(),this._dragScrollAmount=0,this._enabled&&N.shiftKey?this._handleIncrementalClick(N):N.detail===1?this._handleSingleClick(N):N.detail===2?this._handleDoubleClick(N):N.detail===3&&this._handleTripleClick(N),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(N){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(N))}_handleSingleClick(N){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(N)?3:0,this._model.selectionStart=this._getMouseBufferCoords(N),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const R=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);R&&R.length!==this._model.selectionStart[0]&&R.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(N){this._selectWordAtCursor(N,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(N){const R=this._getMouseBufferCoords(N);R&&(this._activeSelectionMode=2,this._selectLineAt(R[1]))}shouldColumnSelect(N){return N.altKey&&!(b.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(N){if(N.stopImmediatePropagation(),!this._model.selectionStart)return;const R=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(N),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(N),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const I=this._bufferService.buffer;if(this._model.selectionEnd[1]<I.lines.length){const O=I.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}R&&R[0]===this._model.selectionEnd[0]&&R[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const N=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(N.ydisp+this._bufferService.rows,N.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=N.ydisp),this.refresh()}}_handleMouseUp(N){const R=N.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&R<500&&N.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const I=this._mouseService.getCoords(N,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(I&&I[0]!==void 0&&I[1]!==void 0){const O=(0,x.moveToCellSequence)(I[0]-1,I[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const N=this._model.finalSelectionStart,R=this._model.finalSelectionEnd,I=!(!N||!R||N[0]===R[0]&&N[1]===R[1]);I?N&&R&&(this._oldSelectionStart&&this._oldSelectionEnd&&N[0]===this._oldSelectionStart[0]&&N[1]===this._oldSelectionStart[1]&&R[0]===this._oldSelectionEnd[0]&&R[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(N,R,I)):this._oldHasSelection&&this._fireOnSelectionChange(N,R,I)}_fireOnSelectionChange(N,R,I){this._oldSelectionStart=N,this._oldSelectionEnd=R,this._oldHasSelection=I,this._onSelectionChange.fire()}_handleBufferActivate(N){this.clearSelection(),this._trimListener.dispose(),this._trimListener=N.activeBuffer.lines.onTrim((R=>this._handleTrim(R)))}_convertViewportColToCharacterIndex(N,R){let I=R;for(let O=0;R>=O;O++){const B=N.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?I--:B>1&&R!==O&&(I+=B-1)}return I}setSelection(N,R,I){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[N,R],this._model.selectionStartLength=I,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(N){this._isClickInSelection(N)||(this._selectWordAtCursor(N,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(N,R,I=!0,O=!0){if(N[0]>=this._bufferService.cols)return;const B=this._bufferService.buffer,$=B.lines.get(N[1]);if(!$)return;const Y=B.translateBufferLineToString(N[1],!1);let z=this._convertViewportColToCharacterIndex($,N[0]),K=z;const G=N[0]-z;let U=0,L=0,M=0,F=0;if(Y.charAt(z)===" "){for(;z>0&&Y.charAt(z-1)===" ";)z--;for(;K<Y.length&&Y.charAt(K+1)===" ";)K++}else{let ae=N[0],fe=N[0];$.getWidth(ae)===0&&(U++,ae--),$.getWidth(fe)===2&&(L++,fe++);const me=$.getString(fe).length;for(me>1&&(F+=me-1,K+=me-1);ae>0&&z>0&&!this._isCharWordSeparator($.loadCell(ae-1,this._workCell));){$.loadCell(ae-1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===0?(U++,ae--):X>1&&(M+=X-1,z-=X-1),z--,ae--}for(;fe<$.length&&K+1<Y.length&&!this._isCharWordSeparator($.loadCell(fe+1,this._workCell));){$.loadCell(fe+1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,fe++):X>1&&(F+=X-1,K+=X-1),K++,fe++}}K++;let q=z+G-U+M,H=Math.min(this._bufferService.cols,K-z+U+L-M-F);if(R||Y.slice(z,K).trim()!==""){if(I&&q===0&&$.getCodePoint(0)!==32){const ae=B.lines.get(N[1]-1);if(ae&&$.isWrapped&&ae.getCodePoint(this._bufferService.cols-1)!==32){const fe=this._getWordAt([this._bufferService.cols-1,N[1]-1],!1,!0,!1);if(fe){const me=this._bufferService.cols-fe.start;q-=me,H+=me}}}if(O&&q+H===this._bufferService.cols&&$.getCodePoint(this._bufferService.cols-1)!==32){const ae=B.lines.get(N[1]+1);if(ae!=null&&ae.isWrapped&&ae.getCodePoint(0)!==32){const fe=this._getWordAt([0,N[1]+1],!1,!1,!0);fe&&(H+=fe.length)}}return{start:q,length:H}}}_selectWordAt(N,R){const I=this._getWordAt(N,R);if(I){for(;I.start<0;)I.start+=this._bufferService.cols,N[1]--;this._model.selectionStart=[I.start,N[1]],this._model.selectionStartLength=I.length}}_selectToWordAt(N){const R=this._getWordAt(N,!0);if(R){let I=N[1];for(;R.start<0;)R.start+=this._bufferService.cols,I--;if(!this._model.areSelectionValuesReversed())for(;R.start+R.length>this._bufferService.cols;)R.length-=this._bufferService.cols,I++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?R.start:R.start+R.length,I]}}_isCharWordSeparator(N){return N.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(N.getChars())>=0}_selectLineAt(N){const R=this._bufferService.buffer.getWrappedRangeForLine(N),I={start:{x:0,y:R.first},end:{x:this._bufferService.cols-1,y:R.last}};this._model.selectionStart=[0,R.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(I,this._bufferService.cols)}};l.SelectionService=T=f([m(3,j.IBufferService),m(4,j.ICoreService),m(5,k.IMouseService),m(6,j.IOptionsService),m(7,k.IRenderService),m(8,k.ICoreBrowserService)],T)},4725:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ILinkProviderService=l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const f=c(8343);l.ICharSizeService=(0,f.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),l.IMouseService=(0,f.createDecorator)("MouseService"),l.IRenderService=(0,f.createDecorator)("RenderService"),l.ISelectionService=(0,f.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,f.createDecorator)("ThemeService"),l.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(d,l,c){var f=this&&this.__decorate||function(T,N,R,I){var O,B=arguments.length,$=B<3?N:I===null?I=Object.getOwnPropertyDescriptor(N,R):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(T,N,R,I);else for(var Y=T.length-1;Y>=0;Y--)(O=T[Y])&&($=(B<3?O($):B>3?O(N,R,$):O(N,R))||$);return B>3&&$&&Object.defineProperty(N,R,$),$},m=this&&this.__param||function(T,N){return function(R,I){N(R,I,T)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=c(7239),x=c(8055),w=c(8460),k=c(844),_=c(2585),v=x.css.toColor("#ffffff"),b=x.css.toColor("#000000"),g=x.css.toColor("#ffffff"),y=x.css.toColor("#000000"),j={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[x.css.toColor("#2e3436"),x.css.toColor("#cc0000"),x.css.toColor("#4e9a06"),x.css.toColor("#c4a000"),x.css.toColor("#3465a4"),x.css.toColor("#75507b"),x.css.toColor("#06989a"),x.css.toColor("#d3d7cf"),x.css.toColor("#555753"),x.css.toColor("#ef2929"),x.css.toColor("#8ae234"),x.css.toColor("#fce94f"),x.css.toColor("#729fcf"),x.css.toColor("#ad7fa8"),x.css.toColor("#34e2e2"),x.css.toColor("#eeeeec")],N=[0,95,135,175,215,255];for(let R=0;R<216;R++){const I=N[R/36%6|0],O=N[R/6%6|0],B=N[R%6];T.push({css:x.channels.toCss(I,O,B),rgba:x.channels.toRgba(I,O,B)})}for(let R=0;R<24;R++){const I=8+10*R;T.push({css:x.channels.toCss(I,I,I),rgba:x.channels.toRgba(I,I,I)})}return T})());let E=l.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(T){super(),this._optionsService=T,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:b,cursor:g,cursorAccent:y,selectionForeground:void 0,selectionBackgroundTransparent:j,selectionBackgroundOpaque:x.color.blend(b,j),selectionInactiveBackgroundTransparent:j,selectionInactiveBackgroundOpaque:x.color.blend(b,j),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(T={}){const N=this._colors;if(N.foreground=P(T.foreground,v),N.background=P(T.background,b),N.cursor=P(T.cursor,g),N.cursorAccent=P(T.cursorAccent,y),N.selectionBackgroundTransparent=P(T.selectionBackground,j),N.selectionBackgroundOpaque=x.color.blend(N.background,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundTransparent=P(T.selectionInactiveBackground,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundOpaque=x.color.blend(N.background,N.selectionInactiveBackgroundTransparent),N.selectionForeground=T.selectionForeground?P(T.selectionForeground,x.NULL_COLOR):void 0,N.selectionForeground===x.NULL_COLOR&&(N.selectionForeground=void 0),x.color.isOpaque(N.selectionBackgroundTransparent)&&(N.selectionBackgroundTransparent=x.color.opacity(N.selectionBackgroundTransparent,.3)),x.color.isOpaque(N.selectionInactiveBackgroundTransparent)&&(N.selectionInactiveBackgroundTransparent=x.color.opacity(N.selectionInactiveBackgroundTransparent,.3)),N.ansi=l.DEFAULT_ANSI_COLORS.slice(),N.ansi[0]=P(T.black,l.DEFAULT_ANSI_COLORS[0]),N.ansi[1]=P(T.red,l.DEFAULT_ANSI_COLORS[1]),N.ansi[2]=P(T.green,l.DEFAULT_ANSI_COLORS[2]),N.ansi[3]=P(T.yellow,l.DEFAULT_ANSI_COLORS[3]),N.ansi[4]=P(T.blue,l.DEFAULT_ANSI_COLORS[4]),N.ansi[5]=P(T.magenta,l.DEFAULT_ANSI_COLORS[5]),N.ansi[6]=P(T.cyan,l.DEFAULT_ANSI_COLORS[6]),N.ansi[7]=P(T.white,l.DEFAULT_ANSI_COLORS[7]),N.ansi[8]=P(T.brightBlack,l.DEFAULT_ANSI_COLORS[8]),N.ansi[9]=P(T.brightRed,l.DEFAULT_ANSI_COLORS[9]),N.ansi[10]=P(T.brightGreen,l.DEFAULT_ANSI_COLORS[10]),N.ansi[11]=P(T.brightYellow,l.DEFAULT_ANSI_COLORS[11]),N.ansi[12]=P(T.brightBlue,l.DEFAULT_ANSI_COLORS[12]),N.ansi[13]=P(T.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),N.ansi[14]=P(T.brightCyan,l.DEFAULT_ANSI_COLORS[14]),N.ansi[15]=P(T.brightWhite,l.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const R=Math.min(N.ansi.length-16,T.extendedAnsi.length);for(let I=0;I<R;I++)N.ansi[I+16]=P(T.extendedAnsi[I],l.DEFAULT_ANSI_COLORS[I+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let N=0;N<this._restoreColors.ansi.length;++N)this._colors.ansi[N]=this._restoreColors.ansi[N]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function P(T,N){if(T!==void 0)try{return x.css.toColor(T)}catch{}return N}l.ThemeService=E=f([m(0,_.IOptionsService)],E)},6349:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const f=c(8460),m=c(844);class h extends m.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const k=new Array(w);for(let _=0;_<Math.min(w,this.length);_++)k[_]=this._array[this._getCyclicIndex(_)];this._array=k,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let k=this._length;k<w;k++)this._array[k]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,k){this._array[this._getCyclicIndex(w)]=k}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,k,..._){if(k){for(let v=w;v<this._length-k;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+k)];this._length-=k,this.onDeleteEmitter.fire({index:w,amount:k})}for(let v=this._length-1;v>=w;v--)this._array[this._getCyclicIndex(v+_.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<_.length;v++)this._array[this._getCyclicIndex(w+v)]=_[v];if(_.length&&this.onInsertEmitter.fire({index:w,amount:_.length}),this._length+_.length>this._maxLength){const v=this._length+_.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=_.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,k,_){if(!(k<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let b=k-1;b>=0;b--)this.set(w+b+_,this.get(w+b));const v=w+k+_-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<k;v++)this.set(w+v+_,this.get(w+v))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}l.CircularList=h},1439:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function c(f,m=5){if(typeof f!="object")return f;const h=Array.isArray(f)?[]:{};for(const x in f)h[x]=m<=1?f[x]:f[x]&&c(f[x],m-1);return h}},8055:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;let c=0,f=0,m=0,h=0;var x,w,k,_,v;function b(y){const j=y.toString(16);return j.length<2?"0"+j:j}function g(y,j){return y<j?(j+.05)/(y+.05):(y+.05)/(j+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(function(y){y.toCss=function(j,E,P,T){return T!==void 0?`#${b(j)}${b(E)}${b(P)}${b(T)}`:`#${b(j)}${b(E)}${b(P)}`},y.toRgba=function(j,E,P,T=255){return(j<<24|E<<16|P<<8|T)>>>0},y.toColor=function(j,E,P,T){return{css:y.toCss(j,E,P,T),rgba:y.toRgba(j,E,P,T)}}})(x||(l.channels=x={})),(function(y){function j(E,P){return h=Math.round(255*P),[c,f,m]=v.toChannels(E.rgba),{css:x.toCss(c,f,m,h),rgba:x.toRgba(c,f,m,h)}}y.blend=function(E,P){if(h=(255&P.rgba)/255,h===1)return{css:P.css,rgba:P.rgba};const T=P.rgba>>24&255,N=P.rgba>>16&255,R=P.rgba>>8&255,I=E.rgba>>24&255,O=E.rgba>>16&255,B=E.rgba>>8&255;return c=I+Math.round((T-I)*h),f=O+Math.round((N-O)*h),m=B+Math.round((R-B)*h),{css:x.toCss(c,f,m),rgba:x.toRgba(c,f,m)}},y.isOpaque=function(E){return(255&E.rgba)==255},y.ensureContrastRatio=function(E,P,T){const N=v.ensureContrastRatio(E.rgba,P.rgba,T);if(N)return x.toColor(N>>24&255,N>>16&255,N>>8&255)},y.opaque=function(E){const P=(255|E.rgba)>>>0;return[c,f,m]=v.toChannels(P),{css:x.toCss(c,f,m),rgba:P}},y.opacity=j,y.multiplyOpacity=function(E,P){return h=255&E.rgba,j(E,h*P/255)},y.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}})(w||(l.color=w={})),(function(y){let j,E;try{const P=document.createElement("canvas");P.width=1,P.height=1;const T=P.getContext("2d",{willReadFrequently:!0});T&&(j=T,j.globalCompositeOperation="copy",E=j.createLinearGradient(0,0,1,1))}catch{}y.toColor=function(P){if(P.match(/#[\da-f]{3,8}/i))switch(P.length){case 4:return c=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),m=parseInt(P.slice(3,4).repeat(2),16),x.toColor(c,f,m);case 5:return c=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),m=parseInt(P.slice(3,4).repeat(2),16),h=parseInt(P.slice(4,5).repeat(2),16),x.toColor(c,f,m,h);case 7:return{css:P,rgba:(parseInt(P.slice(1),16)<<8|255)>>>0};case 9:return{css:P,rgba:parseInt(P.slice(1),16)>>>0}}const T=P.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return c=parseInt(T[1]),f=parseInt(T[2]),m=parseInt(T[3]),h=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),x.toColor(c,f,m,h);if(!j||!E)throw new Error("css.toColor: Unsupported css format");if(j.fillStyle=E,j.fillStyle=P,typeof j.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(j.fillRect(0,0,1,1),[c,f,m,h]=j.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:x.toRgba(c,f,m,h),css:P}}})(k||(l.css=k={})),(function(y){function j(E,P,T){const N=E/255,R=P/255,I=T/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}y.relativeLuminance=function(E){return j(E>>16&255,E>>8&255,255&E)},y.relativeLuminance2=j})(_||(l.rgb=_={})),(function(y){function j(P,T,N){const R=P>>24&255,I=P>>16&255,O=P>>8&255;let B=T>>24&255,$=T>>16&255,Y=T>>8&255,z=g(_.relativeLuminance2(B,$,Y),_.relativeLuminance2(R,I,O));for(;z<N&&(B>0||$>0||Y>0);)B-=Math.max(0,Math.ceil(.1*B)),$-=Math.max(0,Math.ceil(.1*$)),Y-=Math.max(0,Math.ceil(.1*Y)),z=g(_.relativeLuminance2(B,$,Y),_.relativeLuminance2(R,I,O));return(B<<24|$<<16|Y<<8|255)>>>0}function E(P,T,N){const R=P>>24&255,I=P>>16&255,O=P>>8&255;let B=T>>24&255,$=T>>16&255,Y=T>>8&255,z=g(_.relativeLuminance2(B,$,Y),_.relativeLuminance2(R,I,O));for(;z<N&&(B<255||$<255||Y<255);)B=Math.min(255,B+Math.ceil(.1*(255-B))),$=Math.min(255,$+Math.ceil(.1*(255-$))),Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),z=g(_.relativeLuminance2(B,$,Y),_.relativeLuminance2(R,I,O));return(B<<24|$<<16|Y<<8|255)>>>0}y.blend=function(P,T){if(h=(255&T)/255,h===1)return T;const N=T>>24&255,R=T>>16&255,I=T>>8&255,O=P>>24&255,B=P>>16&255,$=P>>8&255;return c=O+Math.round((N-O)*h),f=B+Math.round((R-B)*h),m=$+Math.round((I-$)*h),x.toRgba(c,f,m)},y.ensureContrastRatio=function(P,T,N){const R=_.relativeLuminance(P>>8),I=_.relativeLuminance(T>>8);if(g(R,I)<N){if(I<R){const $=j(P,T,N),Y=g(R,_.relativeLuminance($>>8));if(Y<N){const z=E(P,T,N);return Y>g(R,_.relativeLuminance(z>>8))?$:z}return $}const O=E(P,T,N),B=g(R,_.relativeLuminance(O>>8));if(B<N){const $=j(P,T,N);return B>g(R,_.relativeLuminance($>>8))?O:$}return O}},y.reduceLuminance=j,y.increaseLuminance=E,y.toChannels=function(P){return[P>>24&255,P>>16&255,P>>8&255,255&P]}})(v||(l.rgba=v={})),l.toPaddedHex=b,l.contrastRatio=g},8969:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const f=c(844),m=c(2585),h=c(4348),x=c(7866),w=c(744),k=c(7302),_=c(6975),v=c(8460),b=c(1753),g=c(1480),y=c(7994),j=c(9282),E=c(5435),P=c(5981),T=c(2660);let N=!1;class R extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new v.EventEmitter),this._onScroll.event((O=>{var B;(B=this._onScrollApi)==null||B.fire(O.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const B in O)this.optionsService.options[B]=O[B]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new v.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new k.OptionsService(O)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(x.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(b.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(y.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,v.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,v.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,v.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,v.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((B=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new P.WriteBuffer(((B,$)=>this._inputHandler.parse(B,$)))),this.register((0,v.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,B){this._writeBuffer.write(O,B)}writeSync(O,B){this._logService.logLevel<=m.LogLevelEnum.WARN&&!N&&(this._logService.warn("writeSync is unreliable and will be removed soon."),N=!0),this._writeBuffer.writeSync(O,B)}input(O,B=!0){this.coreService.triggerDataEvent(O,B)}resize(O,B){isNaN(O)||isNaN(B)||(O=Math.max(O,w.MINIMUM_COLS),B=Math.max(B,w.MINIMUM_ROWS),this._bufferService.resize(O,B))}scroll(O,B=!1){this._bufferService.scroll(O,B)}scrollLines(O,B,$){this._bufferService.scrollLines(O,B,$)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const B=O-this._bufferService.buffer.ydisp;B!==0&&this.scrollLines(B)}registerEscHandler(O,B){return this._inputHandler.registerEscHandler(O,B)}registerDcsHandler(O,B){return this._inputHandler.registerDcsHandler(O,B)}registerCsiHandler(O,B){return this._inputHandler.registerCsiHandler(O,B)}registerOscHandler(O,B){return this._inputHandler.registerOscHandler(O,B)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const B=this.optionsService.rawOptions.windowsPty;B&&B.buildNumber!==void 0&&B.buildNumber!==void 0?O=B.backend==="conpty"&&B.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(j.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},(()=>((0,j.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)((()=>{for(const B of O)B.dispose()}))}}}l.CoreTerminal=R},8460:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===c)return void this._listeners.splice(f,1)}}})),this._event}fire(c,f){const m=[];for(let h=0;h<this._listeners.length;h++)m.push(this._listeners[h]);for(let h=0;h<m.length;h++)m[h].call(void 0,c,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(c,f){return c((m=>f.fire(m)))},l.runAndSubscribe=function(c,f){return f(void 0),c((m=>f(m)))}},5435:function(d,l,c){var f=this&&this.__decorate||function(U,L,M,F){var q,H=arguments.length,ae=H<3?L:F===null?F=Object.getOwnPropertyDescriptor(L,M):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(U,L,M,F);else for(var fe=U.length-1;fe>=0;fe--)(q=U[fe])&&(ae=(H<3?q(ae):H>3?q(L,M,ae):q(L,M))||ae);return H>3&&ae&&Object.defineProperty(L,M,ae),ae},m=this&&this.__param||function(U,L){return function(M,F){L(M,F,U)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=c(2584),x=c(7116),w=c(2015),k=c(844),_=c(482),v=c(8437),b=c(8460),g=c(643),y=c(511),j=c(3734),E=c(2585),P=c(1480),T=c(6242),N=c(6351),R=c(5941),I={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function B(U,L){if(U>24)return L.setWinLines||!1;switch(U){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var $;(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})($||(l.WindowsOptionsReportType=$={}));let Y=0;class z extends k.Disposable{getAttrData(){return this._curAttrData}constructor(L,M,F,q,H,ae,fe,me,X=new w.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=M,this._coreService=F,this._logService=q,this._optionsService=H,this._oscLinkService=ae,this._coreMouseService=fe,this._unicodeService=me,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new y.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new b.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new b.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new b.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new b.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new b.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new b.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new b.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new b.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new b.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new b.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new b.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new b.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new b.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new K(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((W=>this._activeBuffer=W.activeBuffer))),this._parser.setCsiHandlerFallback(((W,le)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(W),params:le.toArray()})})),this._parser.setEscHandlerFallback((W=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(W)})})),this._parser.setExecuteHandlerFallback((W=>{this._logService.debug("Unknown EXECUTE code: ",{code:W})})),this._parser.setOscHandlerFallback(((W,le,te)=>{this._logService.debug("Unknown OSC code: ",{identifier:W,action:le,data:te})})),this._parser.setDcsHandlerFallback(((W,le,te)=>{le==="HOOK"&&(te=te.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(W),action:le,payload:te})})),this._parser.setPrintHandler(((W,le,te)=>this.print(W,le,te))),this._parser.registerCsiHandler({final:"@"},(W=>this.insertChars(W))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(W=>this.scrollLeft(W))),this._parser.registerCsiHandler({final:"A"},(W=>this.cursorUp(W))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(W=>this.scrollRight(W))),this._parser.registerCsiHandler({final:"B"},(W=>this.cursorDown(W))),this._parser.registerCsiHandler({final:"C"},(W=>this.cursorForward(W))),this._parser.registerCsiHandler({final:"D"},(W=>this.cursorBackward(W))),this._parser.registerCsiHandler({final:"E"},(W=>this.cursorNextLine(W))),this._parser.registerCsiHandler({final:"F"},(W=>this.cursorPrecedingLine(W))),this._parser.registerCsiHandler({final:"G"},(W=>this.cursorCharAbsolute(W))),this._parser.registerCsiHandler({final:"H"},(W=>this.cursorPosition(W))),this._parser.registerCsiHandler({final:"I"},(W=>this.cursorForwardTab(W))),this._parser.registerCsiHandler({final:"J"},(W=>this.eraseInDisplay(W,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(W=>this.eraseInDisplay(W,!0))),this._parser.registerCsiHandler({final:"K"},(W=>this.eraseInLine(W,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(W=>this.eraseInLine(W,!0))),this._parser.registerCsiHandler({final:"L"},(W=>this.insertLines(W))),this._parser.registerCsiHandler({final:"M"},(W=>this.deleteLines(W))),this._parser.registerCsiHandler({final:"P"},(W=>this.deleteChars(W))),this._parser.registerCsiHandler({final:"S"},(W=>this.scrollUp(W))),this._parser.registerCsiHandler({final:"T"},(W=>this.scrollDown(W))),this._parser.registerCsiHandler({final:"X"},(W=>this.eraseChars(W))),this._parser.registerCsiHandler({final:"Z"},(W=>this.cursorBackwardTab(W))),this._parser.registerCsiHandler({final:"`"},(W=>this.charPosAbsolute(W))),this._parser.registerCsiHandler({final:"a"},(W=>this.hPositionRelative(W))),this._parser.registerCsiHandler({final:"b"},(W=>this.repeatPrecedingCharacter(W))),this._parser.registerCsiHandler({final:"c"},(W=>this.sendDeviceAttributesPrimary(W))),this._parser.registerCsiHandler({prefix:">",final:"c"},(W=>this.sendDeviceAttributesSecondary(W))),this._parser.registerCsiHandler({final:"d"},(W=>this.linePosAbsolute(W))),this._parser.registerCsiHandler({final:"e"},(W=>this.vPositionRelative(W))),this._parser.registerCsiHandler({final:"f"},(W=>this.hVPosition(W))),this._parser.registerCsiHandler({final:"g"},(W=>this.tabClear(W))),this._parser.registerCsiHandler({final:"h"},(W=>this.setMode(W))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(W=>this.setModePrivate(W))),this._parser.registerCsiHandler({final:"l"},(W=>this.resetMode(W))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(W=>this.resetModePrivate(W))),this._parser.registerCsiHandler({final:"m"},(W=>this.charAttributes(W))),this._parser.registerCsiHandler({final:"n"},(W=>this.deviceStatus(W))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(W=>this.deviceStatusPrivate(W))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(W=>this.softReset(W))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(W=>this.setCursorStyle(W))),this._parser.registerCsiHandler({final:"r"},(W=>this.setScrollRegion(W))),this._parser.registerCsiHandler({final:"s"},(W=>this.saveCursor(W))),this._parser.registerCsiHandler({final:"t"},(W=>this.windowOptions(W))),this._parser.registerCsiHandler({final:"u"},(W=>this.restoreCursor(W))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(W=>this.insertColumns(W))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(W=>this.deleteColumns(W))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(W=>this.selectProtected(W))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(W=>this.requestMode(W,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(W=>this.requestMode(W,!1))),this._parser.setExecuteHandler(h.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(h.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(h.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(h.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(h.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(h.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(h.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(h.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(h.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new T.OscHandler((W=>(this.setTitle(W),this.setIconName(W),!0)))),this._parser.registerOscHandler(1,new T.OscHandler((W=>this.setIconName(W)))),this._parser.registerOscHandler(2,new T.OscHandler((W=>this.setTitle(W)))),this._parser.registerOscHandler(4,new T.OscHandler((W=>this.setOrReportIndexedColor(W)))),this._parser.registerOscHandler(8,new T.OscHandler((W=>this.setHyperlink(W)))),this._parser.registerOscHandler(10,new T.OscHandler((W=>this.setOrReportFgColor(W)))),this._parser.registerOscHandler(11,new T.OscHandler((W=>this.setOrReportBgColor(W)))),this._parser.registerOscHandler(12,new T.OscHandler((W=>this.setOrReportCursorColor(W)))),this._parser.registerOscHandler(104,new T.OscHandler((W=>this.restoreIndexedColor(W)))),this._parser.registerOscHandler(110,new T.OscHandler((W=>this.restoreFgColor(W)))),this._parser.registerOscHandler(111,new T.OscHandler((W=>this.restoreBgColor(W)))),this._parser.registerOscHandler(112,new T.OscHandler((W=>this.restoreCursorColor(W)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const W in x.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:W},(()=>this.selectCharset("("+W))),this._parser.registerEscHandler({intermediates:")",final:W},(()=>this.selectCharset(")"+W))),this._parser.registerEscHandler({intermediates:"*",final:W},(()=>this.selectCharset("*"+W))),this._parser.registerEscHandler({intermediates:"+",final:W},(()=>this.selectCharset("+"+W))),this._parser.registerEscHandler({intermediates:"-",final:W},(()=>this.selectCharset("-"+W))),this._parser.registerEscHandler({intermediates:".",final:W},(()=>this.selectCharset("."+W))),this._parser.registerEscHandler({intermediates:"/",final:W},(()=>this.selectCharset("/"+W)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((W=>(this._logService.error("Parsing error: ",W),W))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new N.DcsHandler(((W,le)=>this.requestStatusString(W,le))))}_preserveStack(L,M,F,q){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=F,this._parseStack.position=q}_logSlowResolvingAsync(L){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([L,new Promise(((M,F)=>setTimeout((()=>F("#SLOW_TIMEOUT")),5e3)))]).catch((M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,M){let F,q=this._activeBuffer.x,H=this._activeBuffer.y,ae=0;const fe=this._parseStack.paused;if(fe){if(F=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(F),F;q=this._parseStack.cursorStartX,H=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>O&&(ae=this._parseStack.position+O)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,(W=>String.fromCharCode(W))).join("")}"`),typeof L=="string"?L.split("").map((W=>W.charCodeAt(0))):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(L.length,O))),fe||this._dirtyRowTracker.clearRange(),L.length>O)for(let W=ae;W<L.length;W+=O){const le=W+O<L.length?W+O:L.length,te=typeof L=="string"?this._stringDecoder.decode(L.substring(W,le),this._parseBuffer):this._utf8Decoder.decode(L.subarray(W,le),this._parseBuffer);if(F=this._parser.parse(this._parseBuffer,te))return this._preserveStack(q,H,te,W),this._logSlowResolvingAsync(F),F}else if(!fe){const W=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(F=this._parser.parse(this._parseBuffer,W))return this._preserveStack(q,H,W,0),this._logSlowResolvingAsync(F),F}this._activeBuffer.x===q&&this._activeBuffer.y===H||this._onCursorMove.fire();const me=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),X=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);X<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(X,this._bufferService.rows-1),Math.min(me,this._bufferService.rows-1))}print(L,M,F){let q,H;const ae=this._charsetService.charset,fe=this._optionsService.rawOptions.screenReaderMode,me=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,W=this._coreService.modes.insertMode,le=this._curAttrData;let te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&F-M>0&&te.getWidth(this._activeBuffer.x-1)===2&&te.setCellFromCodepoint(this._activeBuffer.x-1,0,1,le);let J=this._parser.precedingJoinState;for(let se=M;se<F;++se){if(q=L[se],q<127&&ae){const ne=ae[String.fromCharCode(q)];ne&&(q=ne.charCodeAt(0))}const we=this._unicodeService.charProperties(q,J);H=P.UnicodeService.extractWidth(we);const Le=P.UnicodeService.extractShouldJoin(we),Ke=Le?P.UnicodeService.extractWidth(J):0;if(J=we,fe&&this._onA11yChar.fire((0,_.stringFromCodePoint)(q)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+H-Ke>me){if(X){const ne=te;let ue=this._activeBuffer.x-Ke;for(this._activeBuffer.x=Ke,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ke>0&&te instanceof v.BufferLine&&te.copyCellsFrom(ne,ue,0,Ke,!1);ue<me;)ne.setCellFromCodepoint(ue++,0,1,le)}else if(this._activeBuffer.x=me-1,H===2)continue}if(Le&&this._activeBuffer.x){const ne=te.getWidth(this._activeBuffer.x-1)?1:2;te.addCodepointToCell(this._activeBuffer.x-ne,q,H);for(let ue=H-Ke;--ue>=0;)te.setCellFromCodepoint(this._activeBuffer.x++,0,0,le)}else if(W&&(te.insertCells(this._activeBuffer.x,H-Ke,this._activeBuffer.getNullCell(le)),te.getWidth(me-1)===2&&te.setCellFromCodepoint(me-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,le)),te.setCellFromCodepoint(this._activeBuffer.x++,q,H,le),H>0)for(;--H;)te.setCellFromCodepoint(this._activeBuffer.x++,0,0,le)}this._parser.precedingJoinState=J,this._activeBuffer.x<me&&F-M>0&&te.getWidth(this._activeBuffer.x)===0&&!te.hasContent(this._activeBuffer.x)&&te.setCellFromCodepoint(this._activeBuffer.x,0,1,le),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,M){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,M):this._parser.registerCsiHandler(L,(F=>!B(F.params[0],this._optionsService.rawOptions.windowOptions)||M(F)))}registerDcsHandler(L,M){return this._parser.registerDcsHandler(L,new N.DcsHandler(M))}registerEscHandler(L,M){return this._parser.registerEscHandler(L,M)}registerOscHandler(L,M){return this._parser.registerOscHandler(L,new T.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=L,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+M)}cursorUp(L){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const M=L.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=L.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=L.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const M=L.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,M,F,q=!1,H=!1){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);ae.replaceCells(M,F,this._activeBuffer.getNullCell(this._eraseAttrData()),H),q&&(ae.isWrapped=!1)}_resetBufferLine(L,M=!1){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);F&&(F.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),F.isWrapped=!1)}eraseInDisplay(L,M=!1){let F;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(F=this._activeBuffer.y,this._dirtyRowTracker.markDirty(F),this._eraseInBufferLine(F++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);F<this._bufferService.rows;F++)this._resetBufferLine(F,M);this._dirtyRowTracker.markDirty(F);break;case 1:for(F=this._activeBuffer.y,this._dirtyRowTracker.markDirty(F),this._eraseInBufferLine(F,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(F+1).isWrapped=!1);F--;)this._resetBufferLine(F,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(F=this._bufferService.rows,this._dirtyRowTracker.markDirty(F-1);F--;)this._resetBufferLine(F,M);this._dirtyRowTracker.markDirty(0);break;case 3:const q=this._activeBuffer.lines.length-this._bufferService.rows;q>0&&(this._activeBuffer.lines.trimStart(q),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-q,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-q,0),this._onScroll.fire(0))}return!0}eraseInLine(L,M=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let M=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=this._activeBuffer.ybase+this._activeBuffer.y,q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-q+1;for(;M--;)this._activeBuffer.lines.splice(H-1,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let M=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=this._activeBuffer.ybase+this._activeBuffer.y;let q;for(q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,q=this._bufferService.rows-1+this._activeBuffer.ybase-q;M--;)this._activeBuffer.lines.splice(F,1),this._activeBuffer.lines.splice(q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let M=L.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let M=L.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(v.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);q.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);q.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);q.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);q.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){const M=this._parser.precedingJoinState;if(!M)return!0;const F=L.params[0]||1,q=P.UnicodeService.extractWidth(M),H=this._activeBuffer.x-q,ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(H),fe=new Uint32Array(ae.length*F);let me=0;for(let W=0;W<ae.length;){const le=ae.codePointAt(W)||0;fe[me++]=le,W+=le>65535?2:1}let X=me;for(let W=1;W<F;++W)fe.copyWithin(X,0,me),X+=me;return this.print(fe,0,X),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),this._charsetService.setgCharset(1,x.DEFAULT_CHARSET),this._charsetService.setgCharset(2,x.DEFAULT_CHARSET),this._charsetService.setgCharset(3,x.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,M){const F=this._coreService.decPrivateModes,{activeProtocol:q,activeEncoding:H}=this._coreMouseService,ae=this._coreService,{buffers:fe,cols:me}=this._bufferService,{active:X,alt:W}=fe,le=this._optionsService.rawOptions,te=Le=>Le?1:2,J=L.params[0];return se=J,we=M?J===2?4:J===4?te(ae.modes.insertMode):J===12?3:J===20?te(le.convertEol):0:J===1?te(F.applicationCursorKeys):J===3?le.windowOptions.setWinLines?me===80?2:me===132?1:0:0:J===6?te(F.origin):J===7?te(F.wraparound):J===8?3:J===9?te(q==="X10"):J===12?te(le.cursorBlink):J===25?te(!ae.isCursorHidden):J===45?te(F.reverseWraparound):J===66?te(F.applicationKeypad):J===67?4:J===1e3?te(q==="VT200"):J===1002?te(q==="DRAG"):J===1003?te(q==="ANY"):J===1004?te(F.sendFocus):J===1005?4:J===1006?te(H==="SGR"):J===1015?4:J===1016?te(H==="SGR_PIXELS"):J===1048?1:J===47||J===1047||J===1049?te(X===W):J===2004?te(F.bracketedPasteMode):0,ae.triggerDataEvent(`${h.C0.ESC}[${M?"":"?"}${se};${we}$y`),!0;var se,we}_updateAttrColor(L,M,F,q,H){return M===2?(L|=50331648,L&=-16777216,L|=j.AttributeData.fromColorRGB([F,q,H])):M===5&&(L&=-50331904,L|=33554432|255&F),L}_extractColor(L,M,F){const q=[0,0,-1,0,0,0];let H=0,ae=0;do{if(q[ae+H]=L.params[M+ae],L.hasSubParams(M+ae)){const fe=L.getSubParams(M+ae);let me=0;do q[1]===5&&(H=1),q[ae+me+1+H]=fe[me];while(++me<fe.length&&me+ae+1+H<q.length);break}if(q[1]===5&&ae+H>=2||q[1]===2&&ae+H>=5)break;q[1]&&(H=1)}while(++ae+M<L.length&&ae+H<q.length);for(let fe=2;fe<q.length;++fe)q[fe]===-1&&(q[fe]=0);switch(q[0]){case 38:F.fg=this._updateAttrColor(F.fg,q[1],q[3],q[4],q[5]);break;case 48:F.bg=this._updateAttrColor(F.bg,q[1],q[3],q[4],q[5]);break;case 58:F.extended=F.extended.clone(),F.extended.underlineColor=this._updateAttrColor(F.extended.underlineColor,q[1],q[3],q[4],q[5])}return ae}_processUnderline(L,M){M.extended=M.extended.clone(),(!~L||L>5)&&(L=1),M.extended.underlineStyle=L,M.fg|=268435456,L===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(L){L.fg=v.DEFAULT_ATTR_DATA.fg,L.bg=v.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=L.length;let F;const q=this._curAttrData;for(let H=0;H<M;H++)F=L.params[H],F>=30&&F<=37?(q.fg&=-50331904,q.fg|=16777216|F-30):F>=40&&F<=47?(q.bg&=-50331904,q.bg|=16777216|F-40):F>=90&&F<=97?(q.fg&=-50331904,q.fg|=16777224|F-90):F>=100&&F<=107?(q.bg&=-50331904,q.bg|=16777224|F-100):F===0?this._processSGR0(q):F===1?q.fg|=134217728:F===3?q.bg|=67108864:F===4?(q.fg|=268435456,this._processUnderline(L.hasSubParams(H)?L.getSubParams(H)[0]:1,q)):F===5?q.fg|=536870912:F===7?q.fg|=67108864:F===8?q.fg|=1073741824:F===9?q.fg|=2147483648:F===2?q.bg|=134217728:F===21?this._processUnderline(2,q):F===22?(q.fg&=-134217729,q.bg&=-134217729):F===23?q.bg&=-67108865:F===24?(q.fg&=-268435457,this._processUnderline(0,q)):F===25?q.fg&=-536870913:F===27?q.fg&=-67108865:F===28?q.fg&=-1073741825:F===29?q.fg&=2147483647:F===39?(q.fg&=-67108864,q.fg|=16777215&v.DEFAULT_ATTR_DATA.fg):F===49?(q.bg&=-67108864,q.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):F===38||F===48||F===58?H+=this._extractColor(L,H,q):F===53?q.bg|=1073741824:F===55?q.bg&=-1073741825:F===59?(q.extended=q.extended.clone(),q.extended.underlineColor=-1,q.updateExtended()):F===100?(q.fg&=-67108864,q.fg|=16777215&v.DEFAULT_ATTR_DATA.fg,q.bg&=-67108864,q.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",F);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,F=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${M};${F}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const M=this._activeBuffer.y+1,F=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${M};${F}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const M=L.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const F=M%2==1;return this._optionsService.options.cursorBlink=F,!0}setScrollRegion(L){const M=L.params[0]||1;let F;return(L.length<2||(F=L.params[1])>this._bufferService.rows||F===0)&&(F=this._bufferService.rows),F>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=F-1,this._setCursor(0,0)),!0}windowOptions(L){if(!B(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire($.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire($.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const M=[],F=L.split(";");for(;F.length>1;){const q=F.shift(),H=F.shift();if(/^\d+$/.exec(q)){const ae=parseInt(q);if(G(ae))if(H==="?")M.push({type:0,index:ae});else{const fe=(0,R.parseColor)(H);fe&&M.push({type:1,index:ae,color:fe})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(L){const M=L.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(L,M){this._getCurrentLinkId()&&this._finishHyperlink();const F=L.split(":");let q;const H=F.findIndex((ae=>ae.startsWith("id=")));return H!==-1&&(q=F[H].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:q,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,M){const F=L.split(";");for(let q=0;q<F.length&&!(M>=this._specialColors.length);++q,++M)if(F[q]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const H=(0,R.parseColor)(F[q]);H&&this._onColor.fire([{type:1,index:this._specialColors[M],color:H}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const M=[],F=L.split(";");for(let q=0;q<F.length;++q)if(/^\d+$/.exec(F[q])){const H=parseInt(F[q]);G(H)&&M.push({type:2,index:H})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,x.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(I[L[0]],x.CHARSETS[L[1]]||x.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new y.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const F=this._activeBuffer.ybase+this._activeBuffer.y+M,q=this._activeBuffer.lines.get(F);q&&(q.fill(L),q.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,M){const F=this._bufferService.buffer,q=this._optionsService.rawOptions;return(H=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${H}${h.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${F.scrollTop+1};${F.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[q.cursorStyle]-(q.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,M){this._dirtyRowTracker.markRangeDirty(L,M)}}l.InputHandler=z;let K=class{constructor(U){this._bufferService=U,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(U){U<this.start?this.start=U:U>this.end&&(this.end=U)}markRangeDirty(U,L){U>L&&(Y=U,U=L,L=Y),U<this.start&&(this.start=U),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function G(U){return 0<=U&&U<256}K=f([m(0,E.IBufferService)],K)},844:(d,l)=>{function c(f){for(const m of f)m.dispose();f.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const m=this._disposables.indexOf(f);m!==-1&&this._disposables.splice(m,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var m;this._isDisposed||f===this._value||((m=this._value)==null||m.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},l.toDisposable=function(f){return{dispose:f}},l.disposeArray=c,l.getDisposeArrayDisposable=function(f){return{dispose:()=>c(f)}}},1505:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(m,h,x){this._data[m]||(this._data[m]={}),this._data[m][h]=x}get(m,h){return this._data[m]?this._data[m][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=c,l.FourKeyMap=class{constructor(){this._data=new c}set(f,m,h,x,w){this._data.get(f,m)||this._data.set(f,m,new c),this._data.get(f,m).set(h,x,w)}get(f,m,h,x){var w;return(w=this._data.get(f,m))==null?void 0:w.get(h,x)}clear(){this._data.clear()}}},6114:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof process<"u"&&"title"in process;const c=l.isNode?"node":navigator.userAgent,f=l.isNode?"node":navigator.platform;l.isFirefox=c.includes("Firefox"),l.isLegacyEdge=c.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(c),l.getSafariVersion=function(){if(!l.isSafari)return 0;const m=c.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),l.isIpad=f==="iPad",l.isIphone=f==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),l.isLinux=f.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(c)},6106:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let c=0;l.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(c=this._search(this._getKey(f)),this._array.splice(c,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const m=this._getKey(f);if(m===void 0||(c=this._search(m),c===-1)||this._getKey(this._array[c])!==m)return!1;do if(this._array[c]===f)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===m);return!1}*getKeyIterator(f){if(this._array.length!==0&&(c=this._search(f),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===f))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===f)}forEachByKey(f,m){if(this._array.length!==0&&(c=this._search(f),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===f))do m(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===f)}values(){return[...this._array].values()}_search(f){let m=0,h=this._array.length-1;for(;h>=m;){let x=m+h>>1;const w=this._getKey(this._array[x]);if(w>f)h=x-1;else{if(!(w<f)){for(;x>0&&this._getKey(this._array[x-1])===f;)x--;return x}m=x+1}}return m}}},7226:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const f=c(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let k=0,_=0,v=w.timeRemaining(),b=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),_=Math.max(k,_),b=w.timeRemaining(),1.5*_>b)return v-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-k))}ms`),void this._start();v=b}this.clear()}}class h extends m{_requestCallback(w){return setTimeout((()=>w(this._createDeadline(16))))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const k=Date.now()+w;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(x){return requestIdleCallback(x)}_cancelCallback(x){cancelIdleCallback(x)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(x){this._queue.clear(),this._queue.enqueue(x)}flush(){this._queue.flush()}}},9282:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const f=c(643);l.updateWindowsModeWrappedState=function(m){const h=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),x=h==null?void 0:h.get(m.cols-1),w=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);w&&x&&(w.isWrapped=x[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&x[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new c;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}l.AttributeData=c;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,x=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=x}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=f},9092:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const f=c(6349),m=c(7226),h=c(3734),x=c(8437),w=c(4634),k=c(511),_=c(643),v=c(4863),b=c(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(g,y,j){this._hasScrollback=g,this._optionsService=y,this._bufferService=j,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=x.DEFAULT_ATTR_DATA.clone(),this.savedCharset=b.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,y){return new x.BufferLine(this._bufferService.cols,this.getNullCell(g),y)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const y=g+this._optionsService.rawOptions.scrollback;return y>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:y}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=x.DEFAULT_ATTR_DATA);let y=this._rows;for(;y--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,y){const j=this.getNullCell(x.DEFAULT_ATTR_DATA);let E=0;const P=this._getCorrectBufferLength(y);if(P>this.lines.maxLength&&(this.lines.maxLength=P),this.lines.length>0){if(this._cols<g)for(let N=0;N<this.lines.length;N++)E+=+this.lines.get(N).resize(g,j);let T=0;if(this._rows<y)for(let N=this._rows;N<y;N++)this.lines.length<y+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new x.BufferLine(g,j)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new x.BufferLine(g,j)));else for(let N=this._rows;N>y;N--)this.lines.length>y+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(P<this.lines.maxLength){const N=this.lines.length-P;N>0&&(this.lines.trimStart(N),this.ybase=Math.max(this.ybase-N,0),this.ydisp=Math.max(this.ydisp-N,0),this.savedY=Math.max(this.savedY-N,0)),this.lines.maxLength=P}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,y-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=y-1,this._isReflowEnabled&&(this._reflow(g,y),this._cols>g))for(let T=0;T<this.lines.length;T++)E+=+this.lines.get(T).resize(g,j);this._cols=g,this._rows=y,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let y=0;for(;this._memoryCleanupPosition<this.lines.length;)if(y+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),y>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,y){this._cols!==g&&(g>this._cols?this._reflowLarger(g,y):this._reflowSmaller(g,y))}_reflowLarger(g,y){const j=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(x.DEFAULT_ATTR_DATA));if(j.length>0){const E=(0,w.reflowLargerCreateNewLayout)(this.lines,j);(0,w.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(g,y,E.countRemoved)}}_reflowLargerAdjustViewport(g,y,j){const E=this.getNullCell(x.DEFAULT_ATTR_DATA);let P=j;for(;P-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<y&&this.lines.push(new x.BufferLine(g,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-j,0)}_reflowSmaller(g,y){const j=this.getNullCell(x.DEFAULT_ATTR_DATA),E=[];let P=0;for(let T=this.lines.length-1;T>=0;T--){let N=this.lines.get(T);if(!N||!N.isWrapped&&N.getTrimmedLength()<=g)continue;const R=[N];for(;N.isWrapped&&T>0;)N=this.lines.get(--T),R.unshift(N);const I=this.ybase+this.y;if(I>=T&&I<T+R.length)continue;const O=R[R.length-1].getTrimmedLength(),B=(0,w.reflowSmallerGetNewLineLengths)(R,this._cols,g),$=B.length-R.length;let Y;Y=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);const z=[];for(let F=0;F<$;F++){const q=this.getBlankLine(x.DEFAULT_ATTR_DATA,!0);z.push(q)}z.length>0&&(E.push({start:T+R.length+P,newLines:z}),P+=z.length),R.push(...z);let K=B.length-1,G=B[K];G===0&&(K--,G=B[K]);let U=R.length-$-1,L=O;for(;U>=0;){const F=Math.min(L,G);if(R[K]===void 0)break;if(R[K].copyCellsFrom(R[U],L-F,G-F,F,!0),G-=F,G===0&&(K--,G=B[K]),L-=F,L===0){U--;const q=Math.max(U,0);L=(0,w.getWrappedLineTrimmedLength)(R,q,this._cols)}}for(let F=0;F<R.length;F++)B[F]<g&&R[F].setCell(B[F],j);let M=$-Y;for(;M-- >0;)this.ybase===0?this.y<y-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+P)-y&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+y-1)}if(E.length>0){const T=[],N=[];for(let K=0;K<this.lines.length;K++)N.push(this.lines.get(K));const R=this.lines.length;let I=R-1,O=0,B=E[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+P);let $=0;for(let K=Math.min(this.lines.maxLength-1,R+P-1);K>=0;K--)if(B&&B.start>I+$){for(let G=B.newLines.length-1;G>=0;G--)this.lines.set(K--,B.newLines[G]);K++,T.push({index:I+1,amount:B.newLines.length}),$+=B.newLines.length,B=E[++O]}else this.lines.set(K,N[I--]);let Y=0;for(let K=T.length-1;K>=0;K--)T[K].index+=Y,this.lines.onInsertEmitter.fire(T[K]),Y+=T[K].amount;const z=Math.max(0,R+P-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(g,y,j=0,E){const P=this.lines.get(g);return P?P.translateToString(y,j,E):""}getWrappedRangeForLine(g){let y=g,j=g;for(;y>0&&this.lines.get(y).isWrapped;)y--;for(;j+1<this.lines.length&&this.lines.get(j+1).isWrapped;)j++;return{first:y,last:j}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].line===g&&(this.markers[y].dispose(),this.markers.splice(y--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const y=new v.Marker(g);return this.markers.push(y),y.register(this.lines.onTrim((j=>{y.line-=j,y.line<0&&y.dispose()}))),y.register(this.lines.onInsert((j=>{y.line>=j.index&&(y.line+=j.amount)}))),y.register(this.lines.onDelete((j=>{y.line>=j.index&&y.line<j.index+j.amount&&y.dispose(),y.line>j.index&&(y.line-=j.amount)}))),y.register(y.onDispose((()=>this._removeMarker(y)))),y}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const f=c(3734),m=c(511),h=c(643),x=c(482);l.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class k{constructor(v,b,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*v);const y=b||m.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let j=0;j<v;++j)this.setCell(j,y);this.length=v}get(v){const b=this._data[3*v+0],g=2097151&b;return[this._data[3*v+1],2097152&b?this._combined[v]:g?(0,x.stringFromCodePoint)(g):"",b>>22,2097152&b?this._combined[v].charCodeAt(this._combined[v].length-1):g]}set(v,b){this._data[3*v+1]=b[h.CHAR_DATA_ATTR_INDEX],b[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[v]=b[1],this._data[3*v+0]=2097152|v|b[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*v+0]=b[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(v){return this._data[3*v+0]>>22}hasWidth(v){return 12582912&this._data[3*v+0]}getFg(v){return this._data[3*v+1]}getBg(v){return this._data[3*v+2]}hasContent(v){return 4194303&this._data[3*v+0]}getCodePoint(v){const b=this._data[3*v+0];return 2097152&b?this._combined[v].charCodeAt(this._combined[v].length-1):2097151&b}isCombined(v){return 2097152&this._data[3*v+0]}getString(v){const b=this._data[3*v+0];return 2097152&b?this._combined[v]:2097151&b?(0,x.stringFromCodePoint)(2097151&b):""}isProtected(v){return 536870912&this._data[3*v+2]}loadCell(v,b){return w=3*v,b.content=this._data[w+0],b.fg=this._data[w+1],b.bg=this._data[w+2],2097152&b.content&&(b.combinedData=this._combined[v]),268435456&b.bg&&(b.extended=this._extendedAttrs[v]),b}setCell(v,b){2097152&b.content&&(this._combined[v]=b.combinedData),268435456&b.bg&&(this._extendedAttrs[v]=b.extended),this._data[3*v+0]=b.content,this._data[3*v+1]=b.fg,this._data[3*v+2]=b.bg}setCellFromCodepoint(v,b,g,y){268435456&y.bg&&(this._extendedAttrs[v]=y.extended),this._data[3*v+0]=b|g<<22,this._data[3*v+1]=y.fg,this._data[3*v+2]=y.bg}addCodepointToCell(v,b,g){let y=this._data[3*v+0];2097152&y?this._combined[v]+=(0,x.stringFromCodePoint)(b):2097151&y?(this._combined[v]=(0,x.stringFromCodePoint)(2097151&y)+(0,x.stringFromCodePoint)(b),y&=-2097152,y|=2097152):y=b|4194304,g&&(y&=-12582913,y|=g<<22),this._data[3*v+0]=y}insertCells(v,b,g){if((v%=this.length)&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),b<this.length-v){const y=new m.CellData;for(let j=this.length-v-b-1;j>=0;--j)this.setCell(v+b+j,this.loadCell(v+j,y));for(let j=0;j<b;++j)this.setCell(v+j,g)}else for(let y=v;y<this.length;++y)this.setCell(y,g);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,g)}deleteCells(v,b,g){if(v%=this.length,b<this.length-v){const y=new m.CellData;for(let j=0;j<this.length-v-b;++j)this.setCell(v+j,this.loadCell(v+b+j,y));for(let j=this.length-b;j<this.length;++j)this.setCell(j,g)}else for(let y=v;y<this.length;++y)this.setCell(y,g);v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),this.getWidth(v)!==0||this.hasContent(v)||this.setCellFromCodepoint(v,0,1,g)}replaceCells(v,b,g,y=!1){if(y)for(v&&this.getWidth(v-1)===2&&!this.isProtected(v-1)&&this.setCellFromCodepoint(v-1,0,1,g),b<this.length&&this.getWidth(b-1)===2&&!this.isProtected(b)&&this.setCellFromCodepoint(b,0,1,g);v<b&&v<this.length;)this.isProtected(v)||this.setCell(v,g),v++;else for(v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,g),b<this.length&&this.getWidth(b-1)===2&&this.setCellFromCodepoint(b,0,1,g);v<b&&v<this.length;)this.setCell(v++,g)}resize(v,b){if(v===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*v;if(v>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const y=new Uint32Array(g);y.set(this._data),this._data=y}for(let y=this.length;y<v;++y)this.setCell(y,b)}else{this._data=this._data.subarray(0,g);const y=Object.keys(this._combined);for(let E=0;E<y.length;E++){const P=parseInt(y[E],10);P>=v&&delete this._combined[P]}const j=Object.keys(this._extendedAttrs);for(let E=0;E<j.length;E++){const P=parseInt(j[E],10);P>=v&&delete this._extendedAttrs[P]}}return this.length=v,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const v=new Uint32Array(this._data.length);return v.set(this._data),this._data=v,1}return 0}fill(v,b=!1){if(b)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,v);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,v)}}copyFrom(v){this.length!==v.length?this._data=new Uint32Array(v._data):this._data.set(v._data),this.length=v.length,this._combined={};for(const b in v._combined)this._combined[b]=v._combined[b];this._extendedAttrs={};for(const b in v._extendedAttrs)this._extendedAttrs[b]=v._extendedAttrs[b];this.isWrapped=v.isWrapped}clone(){const v=new k(0);v._data=new Uint32Array(this._data),v.length=this.length;for(const b in this._combined)v._combined[b]=this._combined[b];for(const b in this._extendedAttrs)v._extendedAttrs[b]=this._extendedAttrs[b];return v.isWrapped=this.isWrapped,v}getTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0])return v+(this._data[3*v+0]>>22);return 0}getNoBgTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0]||50331648&this._data[3*v+2])return v+(this._data[3*v+0]>>22);return 0}copyCellsFrom(v,b,g,y,j){const E=v._data;if(j)for(let T=y-1;T>=0;T--){for(let N=0;N<3;N++)this._data[3*(g+T)+N]=E[3*(b+T)+N];268435456&E[3*(b+T)+2]&&(this._extendedAttrs[g+T]=v._extendedAttrs[b+T])}else for(let T=0;T<y;T++){for(let N=0;N<3;N++)this._data[3*(g+T)+N]=E[3*(b+T)+N];268435456&E[3*(b+T)+2]&&(this._extendedAttrs[g+T]=v._extendedAttrs[b+T])}const P=Object.keys(v._combined);for(let T=0;T<P.length;T++){const N=parseInt(P[T],10);N>=b&&(this._combined[N-b+g]=v._combined[N])}}translateToString(v,b,g,y){b=b??0,g=g??this.length,v&&(g=Math.min(g,this.getTrimmedLength())),y&&(y.length=0);let j="";for(;b<g;){const E=this._data[3*b+0],P=2097151&E,T=2097152&E?this._combined[b]:P?(0,x.stringFromCodePoint)(P):h.WHITESPACE_CELL_CHAR;if(j+=T,y)for(let N=0;N<T.length;++N)y.push(b);b+=E>>22||1}return y&&y.push(b),j}}l.BufferLine=k},4841:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(c,f){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return f*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(d,l)=>{function c(f,m,h){if(m===f.length-1)return f[m].getTrimmedLength();const x=!f[m].hasContent(h-1)&&f[m].getWidth(h-1)===1,w=f[m+1].getWidth(0)===2;return x&&w?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(f,m,h,x,w){const k=[];for(let _=0;_<f.length-1;_++){let v=_,b=f.get(++v);if(!b.isWrapped)continue;const g=[f.get(_)];for(;v<f.length&&b.isWrapped;)g.push(b),b=f.get(++v);if(x>=_&&x<v){_+=g.length-1;continue}let y=0,j=c(g,y,m),E=1,P=0;for(;E<g.length;){const N=c(g,E,m),R=N-P,I=h-j,O=Math.min(R,I);g[y].copyCellsFrom(g[E],P,j,O,!1),j+=O,j===h&&(y++,j=0),P+=O,P===N&&(E++,P=0),j===0&&y!==0&&g[y-1].getWidth(h-1)===2&&(g[y].copyCellsFrom(g[y-1],h-1,j++,1,!1),g[y-1].setCell(h-1,w))}g[y].replaceCells(j,h,w);let T=0;for(let N=g.length-1;N>0&&(N>y||g[N].getTrimmedLength()===0);N--)T++;T>0&&(k.push(_+g.length-T),k.push(T)),_+=g.length-1}return k},l.reflowLargerCreateNewLayout=function(f,m){const h=[];let x=0,w=m[x],k=0;for(let _=0;_<f.length;_++)if(w===_){const v=m[++x];f.onDeleteEmitter.fire({index:_-k,amount:v}),_+=v-1,k+=v,w=m[++x]}else h.push(_);return{layout:h,countRemoved:k}},l.reflowLargerApplyNewLayout=function(f,m){const h=[];for(let x=0;x<m.length;x++)h.push(f.get(m[x]));for(let x=0;x<h.length;x++)f.set(x,h[x]);f.length=m.length},l.reflowSmallerGetNewLineLengths=function(f,m,h){const x=[],w=f.map(((b,g)=>c(f,g,m))).reduce(((b,g)=>b+g));let k=0,_=0,v=0;for(;v<w;){if(w-v<h){x.push(w-v);break}k+=h;const b=c(f,_,m);k>b&&(k-=b,_++);const g=f[_].getWidth(k-1)===2;g&&k--;const y=g?h-1:h;x.push(y),v+=y}return x},l.getWrappedLineTrimmedLength=c},5295:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const f=c(8460),m=c(844),h=c(9092);class x extends m.Disposable{constructor(k,_){super(),this._optionsService=k,this._bufferService=_,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,_){this._normal.resize(k,_),this._alt.resize(k,_),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}l.BufferSet=x},511:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const f=c(482),m=c(643),h=c(3734);class x extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const _=new x;return _.setFromCharData(k),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(k[m.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(k[m.CHAR_DATA_CHAR_INDEX].length===2){const v=k[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const b=k[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=b&&b<=57343?this.content=1024*(v-55296)+b-56320+65536|k[m.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=k[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[m.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=k[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=x},643:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const f=c(8460),m=c(844);class h{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}l.Marker=h,h._nextId=1},7116:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(d,l)=>{var c,f,m;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""})(c||(l.C0=c={})),(function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""})(f||(l.C1=f={})),(function(h){h.ST=`${c.ESC}\\`})(m||(l.C1_ESCAPED=m={}))},7399:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const f=c(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,x,w,k){const _={type:0,cancel:!1,key:void 0},v=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?_.key=x?f.C0.ESC+"OA":f.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?_.key=x?f.C0.ESC+"OD":f.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?_.key=x?f.C0.ESC+"OC":f.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(_.key=x?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:_.key=h.ctrlKey?"\b":f.C0.DEL,h.altKey&&(_.key=f.C0.ESC+_.key);break;case 9:if(h.shiftKey){_.key=f.C0.ESC+"[Z";break}_.key=f.C0.HT,_.cancel=!0;break;case 13:_.key=h.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,_.cancel=!0;break;case 27:_.key=f.C0.ESC,h.altKey&&(_.key=f.C0.ESC+f.C0.ESC),_.cancel=!0;break;case 37:if(h.metaKey)break;v?(_.key=f.C0.ESC+"[1;"+(v+1)+"D",_.key===f.C0.ESC+"[1;3D"&&(_.key=f.C0.ESC+(w?"b":"[1;5D"))):_.key=x?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(h.metaKey)break;v?(_.key=f.C0.ESC+"[1;"+(v+1)+"C",_.key===f.C0.ESC+"[1;3C"&&(_.key=f.C0.ESC+(w?"f":"[1;5C"))):_.key=x?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(h.metaKey)break;v?(_.key=f.C0.ESC+"[1;"+(v+1)+"A",w||_.key!==f.C0.ESC+"[1;3A"||(_.key=f.C0.ESC+"[1;5A")):_.key=x?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(h.metaKey)break;v?(_.key=f.C0.ESC+"[1;"+(v+1)+"B",w||_.key!==f.C0.ESC+"[1;3B"||(_.key=f.C0.ESC+"[1;5B")):_.key=x?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(_.key=f.C0.ESC+"[2~");break;case 46:_.key=v?f.C0.ESC+"[3;"+(v+1)+"~":f.C0.ESC+"[3~";break;case 36:_.key=v?f.C0.ESC+"[1;"+(v+1)+"H":x?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:_.key=v?f.C0.ESC+"[1;"+(v+1)+"F":x?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:h.shiftKey?_.type=2:h.ctrlKey?_.key=f.C0.ESC+"[5;"+(v+1)+"~":_.key=f.C0.ESC+"[5~";break;case 34:h.shiftKey?_.type=3:h.ctrlKey?_.key=f.C0.ESC+"[6;"+(v+1)+"~":_.key=f.C0.ESC+"[6~";break;case 112:_.key=v?f.C0.ESC+"[1;"+(v+1)+"P":f.C0.ESC+"OP";break;case 113:_.key=v?f.C0.ESC+"[1;"+(v+1)+"Q":f.C0.ESC+"OQ";break;case 114:_.key=v?f.C0.ESC+"[1;"+(v+1)+"R":f.C0.ESC+"OR";break;case 115:_.key=v?f.C0.ESC+"[1;"+(v+1)+"S":f.C0.ESC+"OS";break;case 116:_.key=v?f.C0.ESC+"[15;"+(v+1)+"~":f.C0.ESC+"[15~";break;case 117:_.key=v?f.C0.ESC+"[17;"+(v+1)+"~":f.C0.ESC+"[17~";break;case 118:_.key=v?f.C0.ESC+"[18;"+(v+1)+"~":f.C0.ESC+"[18~";break;case 119:_.key=v?f.C0.ESC+"[19;"+(v+1)+"~":f.C0.ESC+"[19~";break;case 120:_.key=v?f.C0.ESC+"[20;"+(v+1)+"~":f.C0.ESC+"[20~";break;case 121:_.key=v?f.C0.ESC+"[21;"+(v+1)+"~":f.C0.ESC+"[21~";break;case 122:_.key=v?f.C0.ESC+"[23;"+(v+1)+"~":f.C0.ESC+"[23~";break;case 123:_.key=v?f.C0.ESC+"[24;"+(v+1)+"~":f.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(w&&!k||!h.altKey||h.metaKey)!w||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?_.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(_.key=f.C0.US),h.key==="@"&&(_.key=f.C0.NUL)):h.keyCode===65&&(_.type=1);else{const b=m[h.keyCode],g=b==null?void 0:b[h.shiftKey?1:0];if(g)_.key=f.C0.ESC+g;else if(h.keyCode>=65&&h.keyCode<=90){const y=h.ctrlKey?h.keyCode-64:h.keyCode+32;let j=String.fromCharCode(y);h.shiftKey&&(j=j.toUpperCase()),_.key=f.C0.ESC+j}else if(h.keyCode===32)_.key=f.C0.ESC+(h.ctrlKey?f.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let y=h.code.slice(3,4);h.shiftKey||(y=y.toLowerCase()),_.key=f.C0.ESC+y,_.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?_.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?_.key=f.C0.NUL:h.keyCode>=51&&h.keyCode<=55?_.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?_.key=f.C0.DEL:h.keyCode===219?_.key=f.C0.ESC:h.keyCode===220?_.key=f.C0.FS:h.keyCode===221&&(_.key=f.C0.GS)}return _}},482:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},l.utf32ToString=function(c,f=0,m=c.length){let h="";for(let x=f;x<m;++x){let w=c[x];w>65535?(w-=65536,h+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):h+=String.fromCharCode(w)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,f){const m=c.length;if(!m)return 0;let h=0,x=0;if(this._interim){const w=c.charCodeAt(x++);56320<=w&&w<=57343?f[h++]=1024*(this._interim-55296)+w-56320+65536:(f[h++]=this._interim,f[h++]=w),this._interim=0}for(let w=x;w<m;++w){const k=c.charCodeAt(w);if(55296<=k&&k<=56319){if(++w>=m)return this._interim=k,h;const _=c.charCodeAt(w);56320<=_&&_<=57343?f[h++]=1024*(k-55296)+_-56320+65536:(f[h++]=k,f[h++]=_)}else k!==65279&&(f[h++]=k)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,f){const m=c.length;if(!m)return 0;let h,x,w,k,_=0,v=0,b=0;if(this.interim[0]){let j=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let P,T=0;for(;(P=63&this.interim[++T])&&T<4;)E<<=6,E|=P;const N=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,R=N-T;for(;b<R;){if(b>=m)return 0;if(P=c[b++],(192&P)!=128){b--,j=!0;break}this.interim[T++]=P,E<<=6,E|=63&P}j||(N===2?E<128?b--:f[_++]=E:N===3?E<2048||E>=55296&&E<=57343||E===65279||(f[_++]=E):E<65536||E>1114111||(f[_++]=E)),this.interim.fill(0)}const g=m-4;let y=b;for(;y<m;){for(;!(!(y<g)||128&(h=c[y])||128&(x=c[y+1])||128&(w=c[y+2])||128&(k=c[y+3]));)f[_++]=h,f[_++]=x,f[_++]=w,f[_++]=k,y+=4;if(h=c[y++],h<128)f[_++]=h;else if((224&h)==192){if(y>=m)return this.interim[0]=h,_;if(x=c[y++],(192&x)!=128){y--;continue}if(v=(31&h)<<6|63&x,v<128){y--;continue}f[_++]=v}else if((240&h)==224){if(y>=m)return this.interim[0]=h,_;if(x=c[y++],(192&x)!=128){y--;continue}if(y>=m)return this.interim[0]=h,this.interim[1]=x,_;if(w=c[y++],(192&w)!=128){y--;continue}if(v=(15&h)<<12|(63&x)<<6|63&w,v<2048||v>=55296&&v<=57343||v===65279)continue;f[_++]=v}else if((248&h)==240){if(y>=m)return this.interim[0]=h,_;if(x=c[y++],(192&x)!=128){y--;continue}if(y>=m)return this.interim[0]=h,this.interim[1]=x,_;if(w=c[y++],(192&w)!=128){y--;continue}if(y>=m)return this.interim[0]=h,this.interim[1]=x,this.interim[2]=w,_;if(k=c[y++],(192&k)!=128){y--;continue}if(v=(7&h)<<18|(63&x)<<12|(63&w)<<6|63&k,v<65536||v>1114111)continue;f[_++]=v}}return _}}},225:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const f=c(1480),m=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let x;l.UnicodeV6=class{constructor(){if(this.version="6",!x){x=new Uint8Array(65536),x.fill(1),x[0]=0,x.fill(0,1,32),x.fill(0,127,160),x.fill(2,4352,4448),x[9001]=2,x[9002]=2,x.fill(2,11904,42192),x[12351]=1,x.fill(2,44032,55204),x.fill(2,63744,64256),x.fill(2,65040,65050),x.fill(2,65072,65136),x.fill(2,65280,65377),x.fill(2,65504,65511);for(let w=0;w<m.length;++w)x.fill(0,m[w][0],m[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?x[w]:(function(k,_){let v,b=0,g=_.length-1;if(k<_[0][0]||k>_[g][1])return!1;for(;g>=b;)if(v=b+g>>1,k>_[v][1])b=v+1;else{if(!(k<_[v][0]))return!0;g=v-1}return!1})(w,h)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,k){let _=this.wcwidth(w),v=_===0&&k!==0;if(v){const b=f.UnicodeService.extractWidth(k);b===0?v=!1:b>_&&(_=b)}return f.UnicodeService.createPropertyValue(0,_,v)}}},5981:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const f=c(8460),m=c(844);class h extends m.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const v=this._callbacks.shift();v&&v()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k)}_innerWrite(w=0,k=!0){const _=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const v=this._writeBuffer[this._bufferOffset],b=this._action(v,k);if(b){const y=j=>Date.now()-_>=12?setTimeout((()=>this._innerWrite(0,j))):this._innerWrite(_,j);return void b.catch((j=>(queueMicrotask((()=>{throw j})),Promise.resolve(!1)))).then(y)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=v.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function m(h,x){const w=h.toString(16),k=w.length<2?"0"+w:w;switch(x){case 4:return w[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}l.parseColor=function(h){if(!h)return;let x=h.toLowerCase();if(x.indexOf("rgb:")===0){x=x.slice(4);const w=c.exec(x);if(w){const k=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/k*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/k*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/k*255)]}}else if(x.indexOf("#")===0&&(x=x.slice(1),f.exec(x)&&[3,6,9,12].includes(x.length))){const w=x.length/3,k=[0,0,0];for(let _=0;_<3;++_){const v=parseInt(x.slice(w*_,w*_+w),16);k[_]=w===1?v<<4:w===2?v:w===3?v>>4:v>>8}return k}},l.toRgbString=function(h,x=16){const[w,k,_]=h;return`rgb:${m(w,x)}/${m(k,x)}/${m(_,x)}`}},5770:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const f=c(482),m=c(8742),h=c(5770),x=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=x,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=x}registerHandler(k,_){this._handlers[k]===void 0&&(this._handlers[k]=[]);const v=this._handlers[k];return v.push(_),{dispose:()=>{const b=v.indexOf(_);b!==-1&&v.splice(b,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=x,this._ident=0}hook(k,_){if(this.reset(),this._ident=k,this._active=this._handlers[k]||x,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(k,_,v){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(k,_,v);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(k,_,v))}unhook(k,_=!0){if(this._active.length){let v=!1,b=this._active.length-1,g=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,v=_,g=this._stack.fallThrough,this._stack.paused=!1),!g&&v===!1){for(;b>=0&&(v=this._active[b].unhook(k),v!==!0);b--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,v;b--}for(;b>=0;b--)if(v=this._active[b].unhook(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,v}else this._handlerFb(this._ident,"UNHOOK",k);this._active=x,this._ident=0}};const w=new m.Params;w.addParam(0),l.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=w,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():w,this._data="",this._hitLimit=!1}put(k,_,v){this._hitLimit||(this._data+=(0,f.utf32ToString)(k,_,v),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let _=!1;if(this._hitLimit)_=!1;else if(k&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then((v=>(this._params=w,this._data="",this._hitLimit=!1,v)));return this._params=w,this._data="",this._hitLimit=!1,_}}},2015:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const f=c(844),m=c(8742),h=c(6242),x=c(6351);class w{constructor(b){this.table=new Uint8Array(b)}setDefault(b,g){this.table.fill(b<<4|g)}add(b,g,y,j){this.table[g<<8|b]=y<<4|j}addMany(b,g,y,j){for(let E=0;E<b.length;E++)this.table[g<<8|b[E]]=y<<4|j}}l.TransitionTable=w;const k=160;l.VT500_TRANSITION_TABLE=(function(){const v=new w(4095),b=Array.apply(null,Array(256)).map(((T,N)=>N)),g=(T,N)=>b.slice(T,N),y=g(32,127),j=g(0,24);j.push(25),j.push.apply(j,g(28,32));const E=g(0,14);let P;for(P in v.setDefault(1,0),v.addMany(y,0,2,0),E)v.addMany([24,26,153,154],P,3,0),v.addMany(g(128,144),P,3,0),v.addMany(g(144,152),P,3,0),v.add(156,P,0,0),v.add(27,P,11,1),v.add(157,P,4,8),v.addMany([152,158,159],P,0,7),v.add(155,P,11,3),v.add(144,P,11,9);return v.addMany(j,0,3,0),v.addMany(j,1,3,1),v.add(127,1,0,1),v.addMany(j,8,0,8),v.addMany(j,3,3,3),v.add(127,3,0,3),v.addMany(j,4,3,4),v.add(127,4,0,4),v.addMany(j,6,3,6),v.addMany(j,5,3,5),v.add(127,5,0,5),v.addMany(j,2,3,2),v.add(127,2,0,2),v.add(93,1,4,8),v.addMany(y,8,5,8),v.add(127,8,5,8),v.addMany([156,27,24,26,7],8,6,0),v.addMany(g(28,32),8,0,8),v.addMany([88,94,95],1,0,7),v.addMany(y,7,0,7),v.addMany(j,7,0,7),v.add(156,7,0,0),v.add(127,7,0,7),v.add(91,1,11,3),v.addMany(g(64,127),3,7,0),v.addMany(g(48,60),3,8,4),v.addMany([60,61,62,63],3,9,4),v.addMany(g(48,60),4,8,4),v.addMany(g(64,127),4,7,0),v.addMany([60,61,62,63],4,0,6),v.addMany(g(32,64),6,0,6),v.add(127,6,0,6),v.addMany(g(64,127),6,0,0),v.addMany(g(32,48),3,9,5),v.addMany(g(32,48),5,9,5),v.addMany(g(48,64),5,0,6),v.addMany(g(64,127),5,7,0),v.addMany(g(32,48),4,9,5),v.addMany(g(32,48),1,9,2),v.addMany(g(32,48),2,9,2),v.addMany(g(48,127),2,10,0),v.addMany(g(48,80),1,10,0),v.addMany(g(81,88),1,10,0),v.addMany([89,90,92],1,10,0),v.addMany(g(96,127),1,10,0),v.add(80,1,11,9),v.addMany(j,9,0,9),v.add(127,9,0,9),v.addMany(g(28,32),9,0,9),v.addMany(g(32,48),9,9,12),v.addMany(g(48,60),9,8,10),v.addMany([60,61,62,63],9,9,10),v.addMany(j,11,0,11),v.addMany(g(32,128),11,0,11),v.addMany(g(28,32),11,0,11),v.addMany(j,10,0,10),v.add(127,10,0,10),v.addMany(g(28,32),10,0,10),v.addMany(g(48,60),10,8,10),v.addMany([60,61,62,63],10,0,11),v.addMany(g(32,48),10,9,12),v.addMany(j,12,0,12),v.add(127,12,0,12),v.addMany(g(28,32),12,0,12),v.addMany(g(32,48),12,9,12),v.addMany(g(48,64),12,0,11),v.addMany(g(64,127),12,12,13),v.addMany(g(64,127),10,12,13),v.addMany(g(64,127),9,12,13),v.addMany(j,13,13,13),v.addMany(y,13,13,13),v.add(127,13,0,13),v.addMany([27,156,24,26],13,14,0),v.add(k,0,2,0),v.add(k,8,5,8),v.add(k,6,0,6),v.add(k,11,0,11),v.add(k,13,13,13),v})();class _ extends f.Disposable{constructor(b=l.VT500_TRANSITION_TABLE){super(),this._transitions=b,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(g,y,j)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,y)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new x.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(b,g=[64,126]){let y=0;if(b.prefix){if(b.prefix.length>1)throw new Error("only one byte as prefix supported");if(y=b.prefix.charCodeAt(0),y&&60>y||y>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(b.intermediates){if(b.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<b.intermediates.length;++E){const P=b.intermediates.charCodeAt(E);if(32>P||P>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");y<<=8,y|=P}}if(b.final.length!==1)throw new Error("final must be a single byte");const j=b.final.charCodeAt(0);if(g[0]>j||j>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return y<<=8,y|=j,y}identToString(b){const g=[];for(;b;)g.push(String.fromCharCode(255&b)),b>>=8;return g.reverse().join("")}setPrintHandler(b){this._printHandler=b}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(b,g){const y=this._identifier(b,[48,126]);this._escHandlers[y]===void 0&&(this._escHandlers[y]=[]);const j=this._escHandlers[y];return j.push(g),{dispose:()=>{const E=j.indexOf(g);E!==-1&&j.splice(E,1)}}}clearEscHandler(b){this._escHandlers[this._identifier(b,[48,126])]&&delete this._escHandlers[this._identifier(b,[48,126])]}setEscHandlerFallback(b){this._escHandlerFb=b}setExecuteHandler(b,g){this._executeHandlers[b.charCodeAt(0)]=g}clearExecuteHandler(b){this._executeHandlers[b.charCodeAt(0)]&&delete this._executeHandlers[b.charCodeAt(0)]}setExecuteHandlerFallback(b){this._executeHandlerFb=b}registerCsiHandler(b,g){const y=this._identifier(b);this._csiHandlers[y]===void 0&&(this._csiHandlers[y]=[]);const j=this._csiHandlers[y];return j.push(g),{dispose:()=>{const E=j.indexOf(g);E!==-1&&j.splice(E,1)}}}clearCsiHandler(b){this._csiHandlers[this._identifier(b)]&&delete this._csiHandlers[this._identifier(b)]}setCsiHandlerFallback(b){this._csiHandlerFb=b}registerDcsHandler(b,g){return this._dcsParser.registerHandler(this._identifier(b),g)}clearDcsHandler(b){this._dcsParser.clearHandler(this._identifier(b))}setDcsHandlerFallback(b){this._dcsParser.setHandlerFallback(b)}registerOscHandler(b,g){return this._oscParser.registerHandler(b,g)}clearOscHandler(b){this._oscParser.clearHandler(b)}setOscHandlerFallback(b){this._oscParser.setHandlerFallback(b)}setErrorHandler(b){this._errorHandler=b}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(b,g,y,j,E){this._parseStack.state=b,this._parseStack.handlers=g,this._parseStack.handlerPos=y,this._parseStack.transition=j,this._parseStack.chunkPos=E}parse(b,g,y){let j,E=0,P=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(y===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const N=this._parseStack.handlers;let R=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(y===!1&&R>-1){for(;R>=0&&(j=N[R](this._params),j!==!0);R--)if(j instanceof Promise)return this._parseStack.handlerPos=R,j}this._parseStack.handlers=[];break;case 4:if(y===!1&&R>-1){for(;R>=0&&(j=N[R](),j!==!0);R--)if(j instanceof Promise)return this._parseStack.handlerPos=R,j}this._parseStack.handlers=[];break;case 6:if(E=b[this._parseStack.chunkPos],j=this._dcsParser.unhook(E!==24&&E!==26,y),j)return j;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=b[this._parseStack.chunkPos],j=this._oscParser.end(E!==24&&E!==26,y),j)return j;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let N=T;N<g;++N){switch(E=b[N],P=this._transitions.table[this.currentState<<8|(E<160?E:k)],P>>4){case 2:for(let $=N+1;;++$){if($>=g||(E=b[$])<32||E>126&&E<k){this._printHandler(b,N,$),N=$-1;break}if(++$>=g||(E=b[$])<32||E>126&&E<k){this._printHandler(b,N,$),N=$-1;break}if(++$>=g||(E=b[$])<32||E>126&&E<k){this._printHandler(b,N,$),N=$-1;break}if(++$>=g||(E=b[$])<32||E>126&&E<k){this._printHandler(b,N,$),N=$-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:N,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const R=this._csiHandlers[this._collect<<8|E];let I=R?R.length-1:-1;for(;I>=0&&(j=R[I](this._params),j!==!0);I--)if(j instanceof Promise)return this._preserveStack(3,R,I,P,N),j;I<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingJoinState=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++N<g&&(E=b[N])>47&&E<60);N--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const O=this._escHandlers[this._collect<<8|E];let B=O?O.length-1:-1;for(;B>=0&&(j=O[B](),j!==!0);B--)if(j instanceof Promise)return this._preserveStack(4,O,B,P,N),j;B<0&&this._escHandlerFb(this._collect<<8|E),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let $=N+1;;++$)if($>=g||(E=b[$])===24||E===26||E===27||E>127&&E<k){this._dcsParser.put(b,N,$),N=$-1;break}break;case 14:if(j=this._dcsParser.unhook(E!==24&&E!==26),j)return this._preserveStack(6,[],0,P,N),j;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let $=N+1;;$++)if($>=g||(E=b[$])<32||E>127&&E<k){this._oscParser.put(b,N,$),N=$-1;break}break;case 6:if(j=this._oscParser.end(E!==24&&E!==26),j)return this._preserveStack(5,[],0,P,N),j;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&P}}}l.EscapeSequenceParser=_},6242:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const f=c(5770),m=c(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(x,w){this._handlers[x]===void 0&&(this._handlers[x]=[]);const k=this._handlers[x];return k.push(w),{dispose:()=>{const _=k.indexOf(w);_!==-1&&k.splice(_,1)}}}clearHandler(x){this._handlers[x]&&delete this._handlers[x]}setHandlerFallback(x){this._handlerFb=x}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let x=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;x>=0;--x)this._active[x].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].start();else this._handlerFb(this._id,"START")}_put(x,w,k){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(x,w,k);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(x,w,k))}start(){this.reset(),this._state=1}put(x,w,k){if(this._state!==3){if(this._state===1)for(;w<k;){const _=x[w++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&k-w>0&&this._put(x,w,k)}}end(x,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,_=this._active.length-1,v=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,k=w,v=this._stack.fallThrough,this._stack.paused=!1),!v&&k===!1){for(;_>=0&&(k=this._active[_].end(x),k!==!0);_--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,k;_--}for(;_>=0;_--)if(k=this._active[_].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",x);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(x){this._handler=x,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(x,w,k){this._hitLimit||(this._data+=(0,m.utf32ToString)(x,w,k),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(x){let w=!1;if(this._hitLimit)w=!1;else if(x&&(w=this._handler(this._data),w instanceof Promise))return w.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,w}}},8742:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const c=2147483647;class f{static fromArray(h){const x=new f;if(!h.length)return x;for(let w=Array.isArray(h[0])?1:0;w<h.length;++w){const k=h[w];if(Array.isArray(k))for(let _=0;_<k.length;++_)x.addSubParam(k[_]);else x.addParam(k)}return x}constructor(h=32,x=32){if(this.maxLength=h,this.maxSubParamsLength=x,x>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(x),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new f(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let x=0;x<this.length;++x){h.push(this.params[x]);const w=this._subParamsIdx[x]>>8,k=255&this._subParamsIdx[x];k-w>0&&h.push(Array.prototype.slice.call(this._subParams,w,k))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>c?c:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>c?c:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const x=this._subParamsIdx[h]>>8,w=255&this._subParamsIdx[h];return w-x>0?this._subParams.subarray(x,w):null}getSubParamsAll(){const h={};for(let x=0;x<this.length;++x){const w=this._subParamsIdx[x]>>8,k=255&this._subParamsIdx[x];k-w>0&&(h[x]=this._subParams.slice(w,k))}return h}addDigit(h){let x;if(this._rejectDigits||!(x=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,k=w[x-1];w[x-1]=~k?Math.min(10*k+h,c):h}}l.Params=f},5741:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,f){const m={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(m),f.dispose=()=>this._wrappedAddonDispose(m),f.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let f=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===c){f=m;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(f,1)}}},8771:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const f=c(3785),m=c(511);l.BufferApiView=class{constructor(h,x){this._buffer=h,this.type=x}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const x=this._buffer.lines.get(h);if(x)return new f.BufferLineApiView(x)}getNullCell(){return new m.CellData}}},3785:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const f=c(511);l.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,h){if(!(m<0||m>=this._line.length))return h?(this._line.loadCell(m,h),h):this._line.loadCell(m,new f.CellData)}translateToString(m,h,x){return this._line.translateToString(m,h,x)}}},8285:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const f=c(8771),m=c(8460),h=c(844);class x extends h.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=x},7975:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,f){return this._core.registerCsiHandler(c,(m=>f(m.toArray())))}addCsiHandler(c,f){return this.registerCsiHandler(c,f)}registerDcsHandler(c,f){return this._core.registerDcsHandler(c,((m,h)=>f(m,h.toArray())))}addDcsHandler(c,f){return this.registerDcsHandler(c,f)}registerEscHandler(c,f){return this._core.registerEscHandler(c,f)}addEscHandler(c,f){return this.registerEscHandler(c,f)}registerOscHandler(c,f){return this._core.registerOscHandler(c,f)}addOscHandler(c,f){return this.registerOscHandler(c,f)}}},7090:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(d,l,c){var f=this&&this.__decorate||function(v,b,g,y){var j,E=arguments.length,P=E<3?b:y===null?y=Object.getOwnPropertyDescriptor(b,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(v,b,g,y);else for(var T=v.length-1;T>=0;T--)(j=v[T])&&(P=(E<3?j(P):E>3?j(b,g,P):j(b,g))||P);return E>3&&P&&Object.defineProperty(b,g,P),P},m=this&&this.__param||function(v,b){return function(g,y){b(g,y,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=c(8460),x=c(844),w=c(5295),k=c(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let _=l.BufferService=class extends x.Disposable{get buffer(){return this.buffers.active}constructor(v){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(v.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(v.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(v,this))}resize(v,b){this.cols=v,this.rows=b,this.buffers.resize(v,b),this._onResize.fire({cols:v,rows:b})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(v,b=!1){const g=this.buffer;let y;y=this._cachedBlankLine,y&&y.length===this.cols&&y.getFg(0)===v.fg&&y.getBg(0)===v.bg||(y=g.getBlankLine(v,b),this._cachedBlankLine=y),y.isWrapped=b;const j=g.ybase+g.scrollTop,E=g.ybase+g.scrollBottom;if(g.scrollTop===0){const P=g.lines.isFull;E===g.lines.length-1?P?g.lines.recycle().copyFrom(y):g.lines.push(y.clone()):g.lines.splice(E+1,0,y.clone()),P?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const P=E-j+1;g.lines.shiftElements(j+1,P-1,-1),g.lines.set(E,y.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(v,b,g){const y=this.buffer;if(v<0){if(y.ydisp===0)return;this.isUserScrolling=!0}else v+y.ydisp>=y.ybase&&(this.isUserScrolling=!1);const j=y.ydisp;y.ydisp=Math.max(Math.min(y.ydisp+v,y.ybase),0),j!==y.ydisp&&(b||this._onScroll.fire(y.ydisp))}};l.BufferService=_=f([m(0,k.IOptionsService)],_)},7994:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,f){this._charsets[c]=f,this.glevel===c&&(this.charset=f)}}},1753:function(d,l,c){var f=this&&this.__decorate||function(y,j,E,P){var T,N=arguments.length,R=N<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,j,E,P);else for(var I=y.length-1;I>=0;I--)(T=y[I])&&(R=(N<3?T(R):N>3?T(j,E,R):T(j,E))||R);return N>3&&R&&Object.defineProperty(j,E,R),R},m=this&&this.__param||function(y,j){return function(E,P){j(E,P,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=c(2585),x=c(8460),w=c(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:y=>y.button!==4&&y.action===1&&(y.ctrl=!1,y.alt=!1,y.shift=!1,!0)},VT200:{events:19,restrict:y=>y.action!==32},DRAG:{events:23,restrict:y=>y.action!==32||y.button!==3},ANY:{events:31,restrict:y=>!0}};function _(y,j){let E=(y.ctrl?16:0)|(y.shift?4:0)|(y.alt?8:0);return y.button===4?(E|=64,E|=y.action):(E|=3&y.button,4&y.button&&(E|=64),8&y.button&&(E|=128),y.action===32?E|=32:y.action!==0||j||(E|=3)),E}const v=String.fromCharCode,b={DEFAULT:y=>{const j=[_(y,!1)+32,y.col+32,y.row+32];return j[0]>255||j[1]>255||j[2]>255?"":`\x1B[M${v(j[0])}${v(j[1])}${v(j[2])}`},SGR:y=>{const j=y.action===0&&y.button!==4?"m":"M";return`\x1B[<${_(y,!0)};${y.col};${y.row}${j}`},SGR_PIXELS:y=>{const j=y.action===0&&y.button!==4?"m":"M";return`\x1B[<${_(y,!0)};${y.x};${y.y}${j}`}};let g=l.CoreMouseService=class extends w.Disposable{constructor(y,j){super(),this._bufferService=y,this._coreService=j,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new x.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(k))this.addProtocol(E,k[E]);for(const E of Object.keys(b))this.addEncoding(E,b[E]);this.reset()}addProtocol(y,j){this._protocols[y]=j}addEncoding(y,j){this._encodings[y]=j}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(y){if(!this._protocols[y])throw new Error(`unknown protocol "${y}"`);this._activeProtocol=y,this._onProtocolChange.fire(this._protocols[y].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(y){if(!this._encodings[y])throw new Error(`unknown encoding "${y}"`);this._activeEncoding=y}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(y){if(y.col<0||y.col>=this._bufferService.cols||y.row<0||y.row>=this._bufferService.rows||y.button===4&&y.action===32||y.button===3&&y.action!==32||y.button!==4&&(y.action===2||y.action===3)||(y.col++,y.row++,y.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,y,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(y))return!1;const j=this._encodings[this._activeEncoding](y);return j&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(j):this._coreService.triggerDataEvent(j,!0)),this._lastEvent=y,!0}explainEvents(y){return{down:!!(1&y),up:!!(2&y),drag:!!(4&y),move:!!(8&y),wheel:!!(16&y)}}_equalEvents(y,j,E){if(E){if(y.x!==j.x||y.y!==j.y)return!1}else if(y.col!==j.col||y.row!==j.row)return!1;return y.button===j.button&&y.action===j.action&&y.ctrl===j.ctrl&&y.alt===j.alt&&y.shift===j.shift}};l.CoreMouseService=g=f([m(0,h.IBufferService),m(1,h.ICoreService)],g)},6975:function(d,l,c){var f=this&&this.__decorate||function(g,y,j,E){var P,T=arguments.length,N=T<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,j):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,y,j,E);else for(var R=g.length-1;R>=0;R--)(P=g[R])&&(N=(T<3?P(N):T>3?P(y,j,N):P(y,j))||N);return T>3&&N&&Object.defineProperty(y,j,N),N},m=this&&this.__param||function(g,y){return function(j,E){y(j,E,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=c(1439),x=c(8460),w=c(844),k=c(2585),_=Object.freeze({insertMode:!1}),v=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let b=l.CoreService=class extends w.Disposable{constructor(g,y,j){super(),this._bufferService=g,this._logService=y,this._optionsService=j,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new x.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new x.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new x.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new x.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(_),this.decPrivateModes=(0,h.clone)(v)}reset(){this.modes=(0,h.clone)(_),this.decPrivateModes=(0,h.clone)(v)}triggerDataEvent(g,y=!1){if(this._optionsService.rawOptions.disableStdin)return;const j=this._bufferService.buffer;y&&this._optionsService.rawOptions.scrollOnUserInput&&j.ybase!==j.ydisp&&this._onRequestScrollToBottom.fire(),y&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((E=>E.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((y=>y.charCodeAt(0))))),this._onBinary.fire(g))}};l.CoreService=b=f([m(0,k.IBufferService),m(1,k.ILogService),m(2,k.IOptionsService)],b)},9074:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const f=c(8055),m=c(8460),h=c(844),x=c(6106);let w=0,k=0;class _ extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new x.SortedList((g=>g==null?void 0:g.marker.line)),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const y=new v(g);if(y){const j=y.marker.onDispose((()=>y.dispose()));y.onDispose((()=>{y&&(this._decorations.delete(y)&&this._onDecorationRemoved.fire(y),j.dispose())})),this._decorations.insert(y),this._onDecorationRegistered.fire(y)}return y}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,y,j){let E=0,P=0;for(const T of this._decorations.getKeyIterator(y))E=T.options.x??0,P=E+(T.options.width??1),g>=E&&g<P&&(!j||(T.options.layer??"bottom")===j)&&(yield T)}forEachDecorationAtCell(g,y,j,E){this._decorations.forEachByKey(y,(P=>{w=P.options.x??0,k=w+(P.options.width??1),g>=w&&g<k&&(!j||(P.options.layer??"bottom")===j)&&E(P)}))}}l.DecorationService=_;class v extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const f=c(2585),m=c(8343);class h{constructor(...w){this._entries=new Map;for(const[k,_]of w)this.set(k,_)}set(w,k){const _=this._entries.get(w);return this._entries.set(w,k),_}forEach(w){for(const[k,_]of this._entries.entries())w(k,_)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(f.IInstantiationService,this)}setService(x,w){this._services.set(x,w)}getService(x){return this._services.get(x)}createInstance(x,...w){const k=(0,m.getServiceDependencies)(x).sort(((b,g)=>b.index-g.index)),_=[];for(const b of k){const g=this._services.get(b.id);if(!g)throw new Error(`[createInstance] ${x.name} depends on UNKNOWN service ${b.id}.`);_.push(g)}const v=k.length>0?k[0].index:w.length;if(w.length!==v)throw new Error(`[createInstance] First service dependency of ${x.name} at position ${v+1} conflicts with ${w.length} static arguments`);return new x(...w,..._)}}},7866:function(d,l,c){var f=this&&this.__decorate||function(v,b,g,y){var j,E=arguments.length,P=E<3?b:y===null?y=Object.getOwnPropertyDescriptor(b,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(v,b,g,y);else for(var T=v.length-1;T>=0;T--)(j=v[T])&&(P=(E<3?j(P):E>3?j(b,g,P):j(b,g))||P);return E>3&&P&&Object.defineProperty(b,g,P),P},m=this&&this.__param||function(v,b){return function(g,y){b(g,y,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=c(844),x=c(2585),w={trace:x.LogLevelEnum.TRACE,debug:x.LogLevelEnum.DEBUG,info:x.LogLevelEnum.INFO,warn:x.LogLevelEnum.WARN,error:x.LogLevelEnum.ERROR,off:x.LogLevelEnum.OFF};let k,_=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=x.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let b=0;b<v.length;b++)typeof v[b]=="function"&&(v[b]=v[b]())}_log(v,b,g){this._evalLazyOptionalParams(g),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+b,...g)}trace(v,...b){var g;this._logLevel<=x.LogLevelEnum.TRACE&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.trace.bind(this._optionsService.options.logger))??console.log,v,b)}debug(v,...b){var g;this._logLevel<=x.LogLevelEnum.DEBUG&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.debug.bind(this._optionsService.options.logger))??console.log,v,b)}info(v,...b){var g;this._logLevel<=x.LogLevelEnum.INFO&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.info.bind(this._optionsService.options.logger))??console.info,v,b)}warn(v,...b){var g;this._logLevel<=x.LogLevelEnum.WARN&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.warn.bind(this._optionsService.options.logger))??console.warn,v,b)}error(v,...b){var g;this._logLevel<=x.LogLevelEnum.ERROR&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.error.bind(this._optionsService.options.logger))??console.error,v,b)}};l.LogService=_=f([m(0,x.IOptionsService)],_),l.setTraceLogger=function(v){k=v},l.traceCall=function(v,b,g){if(typeof g.value!="function")throw new Error("not supported");const y=g.value;g.value=function(...j){if(k.logLevel!==x.LogLevelEnum.TRACE)return y.apply(this,j);k.trace(`GlyphRenderer#${y.name}(${j.map((P=>JSON.stringify(P))).join(", ")})`);const E=y.apply(this,j);return k.trace(`GlyphRenderer#${y.name} return`,E),E}}},7302:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const f=c(8460),m=c(844),h=c(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const x=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends m.Disposable{constructor(_){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const v={...l.DEFAULT_OPTIONS};for(const b in _)if(b in v)try{const g=_[b];v[b]=this._sanitizeAndValidateOption(b,g)}catch(g){console.error(g)}this.rawOptions=v,this.options={...v},this._setupOptions(),this.register((0,m.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(_,v){return this.onOptionChange((b=>{b===_&&v(this.rawOptions[_])}))}onMultipleOptionChange(_,v){return this.onOptionChange((b=>{_.indexOf(b)!==-1&&v()}))}_setupOptions(){const _=b=>{if(!(b in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${b}"`);return this.rawOptions[b]},v=(b,g)=>{if(!(b in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${b}"`);g=this._sanitizeAndValidateOption(b,g),this.rawOptions[b]!==g&&(this.rawOptions[b]=g,this._onOptionChange.fire(b))};for(const b in this.rawOptions){const g={get:_.bind(this,b),set:v.bind(this,b)};Object.defineProperty(this.options,b,g)}}_sanitizeAndValidateOption(_,v){switch(_){case"cursorStyle":if(v||(v=l.DEFAULT_OPTIONS[_]),!(function(b){return b==="block"||b==="underline"||b==="bar"})(v))throw new Error(`"${v}" is not a valid value for ${_}`);break;case"wordSeparator":v||(v=l.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=x.includes(v)?v:l.DEFAULT_OPTIONS[_];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${_} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${v}`);break;case"rows":case"cols":if(!v&&v!==0)throw new Error(`${_} must be numeric, value: ${v}`);break;case"windowsPty":v=v??{}}return v}}l.OptionsService=w},2660:function(d,l,c){var f=this&&this.__decorate||function(w,k,_,v){var b,g=arguments.length,y=g<3?k:v===null?v=Object.getOwnPropertyDescriptor(k,_):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(w,k,_,v);else for(var j=w.length-1;j>=0;j--)(b=w[j])&&(y=(g<3?b(y):g>3?b(k,_,y):b(k,_))||y);return g>3&&y&&Object.defineProperty(k,_,y),y},m=this&&this.__param||function(w,k){return function(_,v){k(_,v,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=c(2585);let x=l.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const k=this._bufferService.buffer;if(w.id===void 0){const j=k.addMarker(k.ybase+k.y),E={data:w,id:this._nextId++,lines:[j]};return j.onDispose((()=>this._removeMarkerFromLink(E,j))),this._dataByLinkId.set(E.id,E),E.id}const _=w,v=this._getEntryIdKey(_),b=this._entriesWithId.get(v);if(b)return this.addLineToLink(b.id,k.ybase+k.y),b.id;const g=k.addMarker(k.ybase+k.y),y={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(y,g))),this._entriesWithId.set(y.key,y),this._dataByLinkId.set(y.id,y),y.id}addLineToLink(w,k){const _=this._dataByLinkId.get(w);if(_&&_.lines.every((v=>v.line!==k))){const v=this._bufferService.buffer.addMarker(k);_.lines.push(v),v.onDispose((()=>this._removeMarkerFromLink(_,v)))}}getLinkData(w){var k;return(k=this._dataByLinkId.get(w))==null?void 0:k.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,k){const _=w.lines.indexOf(k);_!==-1&&(w.lines.splice(_,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};l.OscLinkService=x=f([m(0,h.IBufferService)],x)},8343:(d,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const c="di$target",f="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(m){return m[f]||[]},l.createDecorator=function(m){if(l.serviceRegistry.has(m))return l.serviceRegistry.get(m);const h=function(x,w,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,v,b){v[c]===v?v[f].push({id:_,index:b}):(v[f]=[{id:_,index:b}],v[c]=v)})(h,x,k)};return h.toString=()=>m,l.serviceRegistry.set(m,h),h}},2585:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const f=c(8343);var m;l.IBufferService=(0,f.createDecorator)("BufferService"),l.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),l.ICoreService=(0,f.createDecorator)("CoreService"),l.ICharsetService=(0,f.createDecorator)("CharsetService"),l.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"})(m||(l.LogLevelEnum=m={})),l.ILogService=(0,f.createDecorator)("LogService"),l.IOptionsService=(0,f.createDecorator)("OptionsService"),l.IOscLinkService=(0,f.createDecorator)("OscLinkService"),l.IUnicodeService=(0,f.createDecorator)("UnicodeService"),l.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(d,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const f=c(8460),m=c(225);class h{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,k,_=!1){return(16777215&w)<<3|(3&k)<<1|(_?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const w=new m.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let k=0,_=0;const v=w.length;for(let b=0;b<v;++b){let g=w.charCodeAt(b);if(55296<=g&&g<=56319){if(++b>=v)return k+this.wcwidth(g);const E=w.charCodeAt(b);56320<=E&&E<=57343?g=1024*(g-55296)+E-56320+65536:k+=this.wcwidth(E)}const y=this.charProperties(g,_);let j=h.extractWidth(y);h.extractShouldJoin(y)&&(j-=h.extractWidth(_)),k+=j,_=y}return k}charProperties(w,k){return this._activeProvider.charProperties(w,k)}}l.UnicodeService=h}},s={};function o(d){var l=s[d];if(l!==void 0)return l.exports;var c=s[d]={exports:{}};return n[d].call(c.exports,c,c.exports,o),c.exports}var u={};return(()=>{var d=u;Object.defineProperty(d,"__esModule",{value:!0}),d.Terminal=void 0;const l=o(9042),c=o(3236),f=o(844),m=o(5741),h=o(8285),x=o(7975),w=o(7090),k=["cols","rows"];class _ extends f.Disposable{constructor(b){super(),this._core=this.register(new c.Terminal(b)),this._addonManager=this.register(new m.AddonManager),this._publicOptions={...this._core.options};const g=j=>this._core.options[j],y=(j,E)=>{this._checkReadonlyOptions(j),this._core.options[j]=E};for(const j in this._core.options){const E={get:g.bind(this,j),set:y.bind(this,j)};Object.defineProperty(this._publicOptions,j,E)}}_checkReadonlyOptions(b){if(k.includes(b))throw new Error(`Option "${b}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new x.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const b=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:b.applicationCursorKeys,applicationKeypadMode:b.applicationKeypad,bracketedPasteMode:b.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:b.origin,reverseWraparoundMode:b.reverseWraparound,sendFocusMode:b.sendFocus,wraparoundMode:b.wraparound}}get options(){return this._publicOptions}set options(b){for(const g in b)this._publicOptions[g]=b[g]}blur(){this._core.blur()}focus(){this._core.focus()}input(b,g=!0){this._core.input(b,g)}resize(b,g){this._verifyIntegers(b,g),this._core.resize(b,g)}open(b){this._core.open(b)}attachCustomKeyEventHandler(b){this._core.attachCustomKeyEventHandler(b)}attachCustomWheelEventHandler(b){this._core.attachCustomWheelEventHandler(b)}registerLinkProvider(b){return this._core.registerLinkProvider(b)}registerCharacterJoiner(b){return this._checkProposedApi(),this._core.registerCharacterJoiner(b)}deregisterCharacterJoiner(b){this._checkProposedApi(),this._core.deregisterCharacterJoiner(b)}registerMarker(b=0){return this._verifyIntegers(b),this._core.registerMarker(b)}registerDecoration(b){return this._checkProposedApi(),this._verifyPositiveIntegers(b.x??0,b.width??0,b.height??0),this._core.registerDecoration(b)}hasSelection(){return this._core.hasSelection()}select(b,g,y){this._verifyIntegers(b,g,y),this._core.select(b,g,y)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(b,g){this._verifyIntegers(b,g),this._core.selectLines(b,g)}dispose(){super.dispose()}scrollLines(b){this._verifyIntegers(b),this._core.scrollLines(b)}scrollPages(b){this._verifyIntegers(b),this._core.scrollPages(b)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(b){this._verifyIntegers(b),this._core.scrollToLine(b)}clear(){this._core.clear()}write(b,g){this._core.write(b,g)}writeln(b,g){this._core.write(b),this._core.write(`\r
`,g)}paste(b){this._core.paste(b)}refresh(b,g){this._verifyIntegers(b,g),this._core.refresh(b,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(b){this._addonManager.loadAddon(this,b)}static get strings(){return l}_verifyIntegers(...b){for(const g of b)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...b){for(const g of b)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}d.Terminal=_})(),u})()))})(Qf)),Qf.exports}var UB=VB(),Zf={exports:{}},Kb;function GB(){return Kb||(Kb=1,(function(e,t){(function(n,s){e.exports=s()})(self,(()=>(()=>{var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const u=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(u._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,u=o._renderService.dimensions;if(u.css.cell.width===0||u.css.cell.height===0)return;const d=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(l.getPropertyValue("height")),f=Math.max(0,parseInt(l.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),h=c-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),x=f-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-d;return{cols:Math.max(2,Math.floor(x/u.css.cell.width)),rows:Math.max(1,Math.floor(h/u.css.cell.height))}}}})(),n})()))})(Zf)),Zf.exports}var KB=GB(),em={exports:{}},qb;function qB(){return qb||(qb=1,(function(e,t){(function(n,s){e.exports=s()})(self,(()=>(()=>{var n={6:(d,l)=>{function c(m){try{const h=new URL(m),x=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return m.toLocaleLowerCase().startsWith(x.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(l,"__esModule",{value:!0}),l.LinkComputer=l.WebLinkProvider=void 0,l.WebLinkProvider=class{constructor(m,h,x,w={}){this._terminal=m,this._regex=h,this._handler=x,this._options=w}provideLinks(m,h){const x=f.computeLink(m,this._regex,this._terminal,this._handler);h(this._addCallbacks(x))}_addCallbacks(m){return m.map((h=>(h.leave=this._options.leave,h.hover=(x,w)=>{if(this._options.hover){const{range:k}=h;this._options.hover(x,w,k)}},h)))}};class f{static computeLink(h,x,w,k){const _=new RegExp(x.source,(x.flags||"")+"g"),[v,b]=f._getWindowedLineStrings(h-1,w),g=v.join("");let y;const j=[];for(;y=_.exec(g);){const E=y[0];if(!c(E))continue;const[P,T]=f._mapStrIdx(w,b,0,y.index),[N,R]=f._mapStrIdx(w,P,T,E.length);if(P===-1||T===-1||N===-1||R===-1)continue;const I={start:{x:T+1,y:P+1},end:{x:R,y:N+1}};j.push({range:I,text:E,activate:k})}return j}static _getWindowedLineStrings(h,x){let w,k=h,_=h,v=0,b="";const g=[];if(w=x.buffer.active.getLine(h)){const y=w.translateToString(!0);if(w.isWrapped&&y[0]!==" "){for(v=0;(w=x.buffer.active.getLine(--k))&&v<2048&&(b=w.translateToString(!0),v+=b.length,g.push(b),w.isWrapped&&b.indexOf(" ")===-1););g.reverse()}for(g.push(y),v=0;(w=x.buffer.active.getLine(++_))&&w.isWrapped&&v<2048&&(b=w.translateToString(!0),v+=b.length,g.push(b),b.indexOf(" ")===-1););}return[g,k]}static _mapStrIdx(h,x,w,k){const _=h.buffer.active,v=_.getNullCell();let b=w;for(;k;){const g=_.getLine(x);if(!g)return[-1,-1];for(let y=b;y<g.length;++y){g.getCell(y,v);const j=v.getChars();if(v.getWidth()&&(k-=j.length||1,y===g.length-1&&j==="")){const E=_.getLine(x+1);E&&E.isWrapped&&(E.getCell(0,v),v.getWidth()===2&&(k+=1))}if(k<0)return[x,y]}x++,b=0}return[x,b]}}l.LinkComputer=f}},s={};function o(d){var l=s[d];if(l!==void 0)return l.exports;var c=s[d]={exports:{}};return n[d](c,c.exports,o),c.exports}var u={};return(()=>{var d=u;Object.defineProperty(d,"__esModule",{value:!0}),d.WebLinksAddon=void 0;const l=o(6),c=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function f(m,h){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}d.WebLinksAddon=class{constructor(m=f,h={}){this._handler=m,this._options=h}activate(m){this._terminal=m;const h=this._options,x=h.urlRegex||c;this._linkProvider=this._terminal.registerLinkProvider(new l.WebLinkProvider(this._terminal,x,this._handler,h))}dispose(){var m;(m=this._linkProvider)==null||m.dispose()}}})(),u})()))})(em)),em.exports}var YB=qB();function Pd({cwd:e,initialCommand:t,env:n={},onExit:s,onReady:o,className:u="",height:d="400px"}){const l=C.useRef(null),c=C.useRef(null),f=C.useRef(null),m=C.useRef(null),[h,x]=C.useState(!1),[w,k]=C.useState(null);C.useEffect(()=>{if(!l.current||c.current)return;const g=new UB.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', 'Consolas', monospace",theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),y=new KB.FitAddon;g.loadAddon(y),f.current=y;const j=new YB.WebLinksAddon;return g.loadAddon(j),g.open(l.current),c.current=g,setTimeout(()=>{y.fit(),g.focus()},0),_(g),()=>{m.current&&m.current.close(),g.dispose(),c.current=null}},[]);const _=C.useCallback(g=>{const y=window.location.protocol==="https:"?"wss:":"ws:",j=window.location.hostname,E=3333,P=new URLSearchParams;if(e&&P.set("cwd",e),t&&P.set("cmd",t),n&&typeof n=="object")for(const[R,I]of Object.entries(n))P.set(`env_${R}`,I);const T=`${y}//${j}:${E}/ws/terminal?${P.toString()}`;console.log("Connecting to terminal WebSocket:",T);const N=new WebSocket(T);m.current=N,N.onopen=()=>{console.log("Terminal WebSocket connected"),x(!0)},N.onmessage=R=>{try{const I=JSON.parse(R.data);switch(I.type){case"session":k(I.sessionId),o&&o(I.sessionId);break;case"output":g.write(I.data);break;case"exit":g.write(`\r
\x1B[33m[Process exited]\x1B[0m\r
`),s&&s(I.exitCode,I.signal);break;case"error":g.write(`\r
\x1B[31m[Error: ${I.message}]\x1B[0m\r
`),g.write(`\x1B[33mTip: The terminal requires a working shell. Try running the command manually.\x1B[0m\r
`);break}}catch{g.write(R.data)}},N.onclose=()=>{console.log("Terminal WebSocket closed"),x(!1),g.write(`\r
\x1B[31m[Disconnected]\x1B[0m\r
`)},N.onerror=R=>{console.error("Terminal WebSocket error:",R),g.write(`\r
\x1B[31m[Connection error]\x1B[0m\r
`)},g.onData(R=>{N.readyState===WebSocket.OPEN&&N.send(JSON.stringify({type:"input",data:R}))}),g.onResize(({cols:R,rows:I})=>{N.readyState===WebSocket.OPEN&&N.send(JSON.stringify({type:"resize",cols:R,rows:I}))})},[e,t,n,o,s]);C.useEffect(()=>{const g=()=>{f.current&&c.current&&f.current.fit()};window.addEventListener("resize",g);const y=new ResizeObserver(g);return l.current&&y.observe(l.current),()=>{window.removeEventListener("resize",g),y.disconnect()}},[]),C.useCallback(g=>{m.current&&m.current.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"input",data:g+"\r"}))},[]),C.useCallback(()=>{m.current&&m.current.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"kill"}))},[]);const v=C.useCallback(()=>{c.current&&c.current.focus()},[]);C.useCallback(()=>{c.current&&c.current.clear()},[]);const b=C.useCallback(()=>{if(c.current){const y=c.current.buffer.active;let j="";for(let E=0;E<y.length;E++){const P=y.getLine(E);P&&(j+=P.translateToString(!0)+`
`)}navigator.clipboard.writeText(j.trim()).then(()=>{const E=document.getElementById("terminal-copy-btn");E&&(E.classList.add("bg-green-600"),setTimeout(()=>E.classList.remove("bg-green-600"),500))})}},[]);return r.jsxs("div",{className:`relative ${u}`,style:{height:d},children:[r.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[r.jsx("button",{id:"terminal-copy-btn",onClick:b,className:"px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy terminal output",children:"Copy"}),r.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-xs text-gray-400",children:h?"Connected":"Disconnected"})]}),r.jsx("div",{ref:l,className:"w-full h-full rounded-lg overflow-hidden",style:{backgroundColor:"#1e1e1e"},onClick:v})]})}Pd.sendCommand=(e,t)=>{e&&e.sendCommand&&e.sendCommand(t)};function cj({open:e,onOpenChange:t,title:n="Terminal",description:s,cwd:o,initialCommand:u,env:d={},onExit:l,autoCloseOnExit:c=!1,autoCloseDelay:f=1500}){const m=C.useRef(null),[h,x]=C.useState(!1);C.useEffect(()=>{e&&x(!1)},[e]);const w=C.useCallback((b,g)=>{x(!0),l&&l(b,g),c&&setTimeout(()=>{t(!1)},f)},[l,c,f,t]),k=C.useCallback(b=>{b.preventDefault()},[]),_=C.useCallback(b=>{},[]),v=C.useCallback(b=>{b.key!=="Escape"&&b.stopPropagation()},[]);return r.jsx(zS,{open:e,onOpenChange:t,children:r.jsxs(ag,{children:[r.jsx(hd,{className:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),r.jsxs(fd,{className:Ee("fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%]","max-w-4xl w-full h-[600px] flex flex-col p-0 gap-0","border bg-background shadow-lg sm:rounded-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95"),onOpenAutoFocus:k,onEscapeKeyDown:_,onKeyDown:v,children:[r.jsx("div",{className:"px-4 py-3 border-b flex-shrink-0",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(md,{className:"text-lg font-semibold leading-none tracking-tight",children:n}),s&&r.jsx(pd,{className:"text-sm text-muted-foreground mt-1",children:s})]}),r.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t(!1),tabIndex:-1,children:r.jsx(ri,{className:"h-4 w-4"})})]})}),r.jsx("div",{ref:m,className:"flex-1 p-2 min-h-0",children:e&&r.jsx(Pd,{cwd:o,initialCommand:u,env:d,onExit:w,height:"100%",className:"h-full"})})]})]})})}const pl={mcps:{icon:En,color:"text-blue-600",bgColor:"bg-blue-50",label:"MCP Servers"},settings:{icon:Pn,color:"text-gray-600 dark:text-slate-400",bgColor:"bg-gray-50 dark:bg-slate-800",label:"Settings"},command:{icon:It,color:"text-green-600",bgColor:"bg-green-50",label:"Command"},rule:{icon:Oi,color:"text-purple-600",bgColor:"bg-purple-50",label:"Rule"},workflow:{icon:PC,color:"text-cyan-600",bgColor:"bg-cyan-50",label:"Workflow"},claudemd:{icon:Er,color:"text-orange-600",bgColor:"bg-orange-50",label:"CLAUDE.md"},geminimd:{icon:Er,color:"text-blue-600",bgColor:"bg-blue-50",label:"GEMINI.md"},env:{icon:td,color:"text-yellow-600",bgColor:"bg-yellow-50",label:".env"},memory:{icon:Bi,color:"text-pink-600",bgColor:"bg-pink-50",label:"Memory"},folder:{icon:jr,color:"text-yellow-600",bgColor:"bg-yellow-50",label:"Folder"}};function wu({item:e,level:t=0,selectedPath:n,onSelect:s,onContextMenu:o,expandedFolders:u,onToggleFolder:d}){const l=pl[e.type]||pl.folder,c=l.icon,f=n===e.path,m=e.type==="folder",h=u[e.path];return r.jsxs("div",{children:[r.jsxs("div",{className:Ee("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm","hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",f&&"bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/30"),style:{paddingLeft:`${t*16+8}px`},onClick:()=>m?d(e.path):s(e),onContextMenu:x=>o(x,e),children:[m&&r.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:h?r.jsx(yr,{className:"w-3 h-3"}):r.jsx(Wr,{className:"w-3 h-3"})}),!m&&r.jsx("span",{className:"w-4"}),r.jsx(c,{className:Ee("w-4 h-4",l.color)}),r.jsx("span",{className:"flex-1 truncate",children:e.name}),e.mcpCount>0&&r.jsx(rt,{variant:"secondary",className:"text-xs px-1.5 py-0",children:e.mcpCount})]}),m&&h&&e.children&&r.jsx("div",{children:e.children.map(x=>r.jsx(wu,{item:x,level:t+1,selectedPath:n,onSelect:s,onContextMenu:o,expandedFolders:u,onToggleFolder:d},x.path))})]})}function XB({folder:e,isExpanded:t,isHome:n,isProject:s,isSubproject:o,depth:u=0,onToggle:d,onCreateFile:l,onInstallPlugin:c,onSelectItem:f,selectedPath:m,onContextMenu:h,expandedFolders:x,onToggleFolder:w,hasSubprojects:k,onAddSubproject:_,onRemoveSubproject:v,onHideSubproject:b}){var B,$,Y,z,K,G,U;const g=(B=e.files)==null?void 0:B.some(L=>L.name==="mcps.json"),y=($=e.files)==null?void 0:$.some(L=>L.name==="settings.json"),j=(Y=e.files)==null?void 0:Y.some(L=>L.name==="CLAUDE.md"||L.name==="CLAUDE.md (root)"),E=(z=e.files)==null?void 0:z.some(L=>L.name===".env"),P=()=>n?"bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":o&&u>1?"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700":o?"bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30":s?"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30":"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700",T=()=>n?"text-indigo-700 dark:text-indigo-400":o&&u>1?"text-gray-600 dark:text-slate-400":o?"text-amber-700 dark:text-amber-400":s?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-slate-300",R=n?qp:t?oi:jr,I=n?"Home":e.label,O=(((K=e.files)==null?void 0:K.length)||0)+(((G=e.geminiFiles)==null?void 0:G.length)||0)+(((U=e.agentFiles)==null?void 0:U.length)||0);return r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:Ee("flex items-center gap-2 py-2 cursor-pointer transition-colors",P()),style:{paddingLeft:`${12+u*16}px`,paddingRight:"24px"},onClick:d,children:[r.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-gray-500",children:t?r.jsx(yr,{className:"w-4 h-4"}):r.jsx(Wr,{className:"w-4 h-4"})}),r.jsx(R,{className:Ee("w-4 h-4",T())}),r.jsx("span",{className:Ee("flex-1 min-w-0 font-medium text-sm truncate",T()),children:I}),r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,onClick:L=>L.stopPropagation(),children:r.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mr-1 hover:bg-white/50 dark:hover:bg-slate-900/50",children:r.jsx(wt,{className:"w-4 h-4"})})}),r.jsxs(Es,{align:"end",className:"w-48",children:[r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 border-b mb-1",children:[s&&k&&r.jsx(rt,{variant:"outline",className:"text-[10px] px-1 py-0 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-300 dark:border-green-700",children:"root"}),!e.exists&&!n&&r.jsx(rt,{variant:"outline",className:"text-[10px] px-1 py-0",children:"no config"}),!o&&e.exists&&O===0&&r.jsx("span",{className:"text-[10px] text-muted-foreground",children:"configured"})]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"mcps")},disabled:g,className:g?"opacity-50":"",children:[r.jsx(En,{className:"w-4 h-4 mr-2"}),"mcps.json",g&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"settings")},disabled:y,className:y?"opacity-50":"",children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"settings.json",y&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"env")},disabled:E,className:E?"opacity-50":"",children:[r.jsx(td,{className:"w-4 h-4 mr-2"}),".env",E&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),r.jsx(Hr,{}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"command")},children:[r.jsx(It,{className:"w-4 h-4 mr-2"}),"New Command"]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"rule")},children:[r.jsx(Oi,{className:"w-4 h-4 mr-2"}),"New Rule"]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"workflow")},children:[r.jsx(PC,{className:"w-4 h-4 mr-2"}),"New Workflow"]}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"memory")},children:[r.jsx(Bi,{className:"w-4 h-4 mr-2"}),"New Memory"]}),r.jsx(Hr,{}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),c(e.dir,e.name||e.dir.split("/").pop())},children:[r.jsx($i,{className:"w-4 h-4 mr-2"}),"Install Plugins"]}),r.jsx(Hr,{}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),l(e.dir,"claudemd")},disabled:j,className:j?"opacity-50":"",children:[r.jsx(Er,{className:"w-4 h-4 mr-2"}),"CLAUDE.md",j&&r.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),(s||o)&&_&&r.jsxs(r.Fragment,{children:[r.jsx(Hr,{}),r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),_(e.dir)},children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Add Sub-project"]})]}),o&&b&&r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),b(e.dir)},children:[r.jsx(NC,{className:"w-4 h-4 mr-2"}),"Hide"]}),e.isManual&&v&&r.jsxs(Lt,{onClick:L=>{L.stopPropagation(),v(e.dir)},className:"text-destructive focus:text-destructive",children:[r.jsx(mn,{className:"w-4 h-4 mr-2"}),"Remove"]})]})]})]}),t&&r.jsxs("div",{className:"bg-white dark:bg-slate-950 py-1",children:[e.files&&e.files.length>0&&r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Ut,{className:"w-3 h-3"}),"Claude Code"]}),e.files.map(L=>r.jsx(wu,{item:L,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},L.path))]}),e.geminiFiles&&e.geminiFiles.length>0&&r.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Ut,{className:"w-3 h-3"}),"Gemini CLI"]}),e.geminiFiles.map(L=>r.jsx(wu,{item:L,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},L.path))]}),e.agentFiles&&e.agentFiles.length>0&&r.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[r.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide flex items-center gap-1",children:[r.jsx(Ut,{className:"w-3 h-3"}),"Antigravity"]}),e.agentFiles.map(L=>r.jsx(wu,{item:L,selectedPath:m,onSelect:f,onContextMenu:h,expandedFolders:x,onToggleFolder:w},L.path))]}),(!e.files||e.files.length===0)&&(!e.geminiFiles||e.geminiFiles.length===0)&&(!e.agentFiles||e.agentFiles.length===0)&&r.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 dark:text-slate-500 italic text-center",children:"No config files. Use + to create."})]})]})}const vt=C.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ee("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));vt.displayName="Textarea";var Ad="Tabs",[JB]=en(Ad,[kd]),uj=kd(),[QB,Lg]=JB(Ad),dj=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:u,orientation:d="horizontal",dir:l,activationMode:c="automatic",...f}=e,m=El(l),[h,x]=os({prop:s,onChange:o,defaultProp:u??"",caller:Ad});return r.jsx(QB,{scope:n,baseId:jn(),value:h,onValueChange:x,orientation:d,dir:m,activationMode:c,children:r.jsx(et.div,{dir:m,"data-orientation":d,...f,ref:t})})});dj.displayName=Ad;var hj="TabsList",fj=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,u=Lg(hj,n),d=uj(n);return r.jsx(fk,{asChild:!0,...d,orientation:u.orientation,dir:u.dir,loop:s,children:r.jsx(et.div,{role:"tablist","aria-orientation":u.orientation,...o,ref:t})})});fj.displayName=hj;var mj="TabsTrigger",pj=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...u}=e,d=Lg(mj,n),l=uj(n),c=vj(d.baseId,s),f=yj(d.baseId,s),m=s===d.value;return r.jsx(mk,{asChild:!0,...l,focusable:!o,active:m,children:r.jsx(et.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...u,ref:t,onMouseDown:Ie(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?d.onValueChange(s):h.preventDefault()}),onKeyDown:Ie(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&d.onValueChange(s)}),onFocus:Ie(e.onFocus,()=>{const h=d.activationMode!=="manual";!m&&!o&&h&&d.onValueChange(s)})})})});pj.displayName=mj;var gj="TabsContent",xj=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:u,...d}=e,l=Lg(gj,n),c=vj(l.baseId,s),f=yj(l.baseId,s),m=s===l.value,h=C.useRef(m);return C.useEffect(()=>{const x=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Pr,{present:o||m,children:({present:x})=>r.jsx(et.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:f,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:x&&u})})});xj.displayName=gj;function vj(e,t){return`${e}-trigger-${t}`}function yj(e,t){return`${e}-content-${t}`}var ZB=dj,bj=fj,wj=pj,_j=xj;const Td=ZB,Il=C.forwardRef(({className:e,...t},n)=>r.jsx(bj,{ref:n,className:Ee("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Il.displayName=bj.displayName;const Hn=C.forwardRef(({className:e,...t},n)=>r.jsx(wj,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Hn.displayName=wj.displayName;const ws=C.forwardRef(({className:e,...t},n)=>r.jsx(_j,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ws.displayName=_j.displayName;var eF=Symbol("radix.slottable");function tF(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eF,t}var[Rd]=en("Tooltip",[Xo]),Md=Xo(),Cj="TooltipProvider",rF=700,Xm="tooltip.open",[nF,Ig]=Rd(Cj),Sj=e=>{const{__scopeTooltip:t,delayDuration:n=rF,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:u}=e,d=C.useRef(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),r.jsx(nF,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),d.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>d.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(f=>{l.current=f},[]),disableHoverableContent:o,children:u})};Sj.displayName=Cj;var gl="Tooltip",[sF,Ol]=Rd(gl),kj=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:o,onOpenChange:u,disableHoverableContent:d,delayDuration:l}=e,c=Ig(gl,e.__scopeTooltip),f=Md(t),[m,h]=C.useState(null),x=jn(),w=C.useRef(0),k=d??c.disableHoverableContent,_=l??c.delayDuration,v=C.useRef(!1),[b,g]=os({prop:s,defaultProp:o??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Xm))):c.onClose(),u==null||u(T)},caller:gl}),y=C.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),j=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,v.current=!1,g(!0)},[g]),E=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,g(!1)},[g]),P=C.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{v.current=!0,g(!0),w.current=0},_)},[_,g]);return C.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),r.jsx(_g,{...f,children:r.jsx(sF,{scope:t,contentId:x,open:b,stateAttribute:y,trigger:m,onTriggerChange:h,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?P():j()},[c.isOpenDelayedRef,P,j]),onTriggerLeave:C.useCallback(()=>{k?E():(window.clearTimeout(w.current),w.current=0)},[E,k]),onOpen:j,onClose:E,disableHoverableContent:k,children:n})})};kj.displayName=gl;var Jm="TooltipTrigger",jj=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Ol(Jm,n),u=Ig(Jm,n),d=Md(n),l=C.useRef(null),c=ct(t,l,o.onTriggerChange),f=C.useRef(!1),m=C.useRef(!1),h=C.useCallback(()=>f.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(Cg,{asChild:!0,...d,children:r.jsx(et.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:c,onPointerMove:Ie(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!u.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ie(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Ie(e.onBlur,o.onClose),onClick:Ie(e.onClick,o.onClose)})})});jj.displayName=Jm;var Og="TooltipPortal",[iF,oF]=Rd(Og,{forceMount:void 0}),Nj=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:o}=e,u=Ol(Og,t);return r.jsx(iF,{scope:t,forceMount:n,children:r.jsx(Pr,{present:n||u.open,children:r.jsx(Al,{asChild:!0,container:o,children:s})})})};Nj.displayName=Og;var zo="TooltipContent",Ej=C.forwardRef((e,t)=>{const n=oF(zo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...u}=e,d=Ol(zo,e.__scopeTooltip);return r.jsx(Pr,{present:s||d.open,children:d.disableHoverableContent?r.jsx(Pj,{side:o,...u,ref:t}):r.jsx(aF,{side:o,...u,ref:t})})}),aF=C.forwardRef((e,t)=>{const n=Ol(zo,e.__scopeTooltip),s=Ig(zo,e.__scopeTooltip),o=C.useRef(null),u=ct(t,o),[d,l]=C.useState(null),{trigger:c,onClose:f}=n,m=o.current,{onPointerInTransitChange:h}=s,x=C.useCallback(()=>{l(null),h(!1)},[h]),w=C.useCallback((k,_)=>{const v=k.currentTarget,b={x:k.clientX,y:k.clientY},g=hF(b,v.getBoundingClientRect()),y=fF(b,g),j=mF(_.getBoundingClientRect()),E=gF([...y,...j]);l(E),h(!0)},[h]);return C.useEffect(()=>()=>x(),[x]),C.useEffect(()=>{if(c&&m){const k=v=>w(v,m),_=v=>w(v,c);return c.addEventListener("pointerleave",k),m.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",k),m.removeEventListener("pointerleave",_)}}},[c,m,w,x]),C.useEffect(()=>{if(d){const k=_=>{const v=_.target,b={x:_.clientX,y:_.clientY},g=(c==null?void 0:c.contains(v))||(m==null?void 0:m.contains(v)),y=!pF(b,d);g?x():y&&(x(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[c,m,d,f,x]),r.jsx(Pj,{...e,ref:u})}),[lF,cF]=Rd(gl,{isInside:!1}),uF=tF("TooltipContent"),Pj=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:u,onPointerDownOutside:d,...l}=e,c=Ol(zo,n),f=Md(n),{onClose:m}=c;return C.useEffect(()=>(document.addEventListener(Xm,m),()=>document.removeEventListener(Xm,m)),[m]),C.useEffect(()=>{if(c.trigger){const h=x=>{const w=x.target;w!=null&&w.contains(c.trigger)&&m()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,m]),r.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h=>h.preventDefault(),onDismiss:m,children:r.jsxs(Sg,{"data-state":c.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(uF,{children:s}),r.jsx(lF,{scope:n,isInside:!0,children:r.jsx(TO,{id:c.contentId,role:"tooltip",children:o||s})})]})})});Ej.displayName=zo;var Aj="TooltipArrow",dF=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Md(n);return cF(Aj,n).isInside?null:r.jsx(kg,{...o,...s,ref:t})});dF.displayName=Aj;function hF(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),u=Math.abs(t.left-e.x);switch(Math.min(n,s,o,u)){case u:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function fF(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function mF(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function pF(e,t){const{x:n,y:s}=e;let o=!1;for(let u=0,d=t.length-1;u<t.length;d=u++){const l=t[u],c=t[d],f=l.x,m=l.y,h=c.x,x=c.y;m>s!=x>s&&n<(h-f)*(s-m)/(x-m)+f&&(o=!o)}return o}function gF(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),xF(t)}function xF(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const u=t[t.length-1],d=t[t.length-2];if((u.x-d.x)*(o.y-d.y)>=(u.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const u=n[n.length-1],d=n[n.length-2];if((u.x-d.x)*(o.y-d.y)>=(u.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vF=Sj,yF=kj,bF=jj,wF=Nj,Tj=Ej;const Or=vF,Yt=yF,Xt=bF,Vt=C.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(wF,{children:r.jsx(Tj,{ref:s,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vt.displayName=Tj.displayName;function _F({content:e,parsed:t,onSave:n,registry:s,configDir:o}){const[u,d]=C.useState(t||{include:[],exclude:[],mcpServers:{}}),[l,c]=C.useState("rich"),[f,m]=C.useState(JSON.stringify(t||{},null,2)),[h,x]=C.useState(!1),[w,k]=C.useState({open:!1,json:""}),[_,v]=C.useState([]),[b,g]=C.useState(!1),[y,j]=C.useState(!1);C.useEffect(()=>{d(t||{include:[],exclude:[],mcpServers:{}}),m(JSON.stringify(t||{},null,2))},[t]),C.useEffect(()=>{o?ve.getInheritedMcps(o).then(B=>{v(B.inherited||[]),g(B.needsApply||!1)}).catch(()=>{v([]),g(!1)}):(v([]),g(!1))},[o,t]);const E=async B=>{x(!0);try{await n(JSON.stringify(B,null,2))}catch($){Q.error("Failed to save: "+$.message)}finally{x(!1)}},P=B=>{var z;const $=(z=u.include)!=null&&z.includes(B)?u.include.filter(K=>K!==B):[...u.include||[],B],Y={...u,include:$};d(Y),m(JSON.stringify(Y,null,2)),E(Y)},T=B=>{const $=u.exclude||[],Y=$.includes(B),z=Y?$.filter(G=>G!==B):[...$,B],K=z.length>0?{...u,exclude:z}:{...u};z.length===0&&delete K.exclude,d(K),m(JSON.stringify(K,null,2)),E(K),Q.success(Y?`Unblocked ${B}`:`Blocked ${B}`)},N=()=>{try{const B=JSON.parse(f);d(B),E(B)}catch{Q.error("Invalid JSON")}},R=()=>{if(!w.json.trim()){Q.error("Please paste the MCP JSON configuration");return}try{let B;try{B=JSON.parse(w.json)}catch{Q.error("Invalid JSON format");return}let $={};if(B.mcpServers&&typeof B.mcpServers=="object")$=B.mcpServers;else if(typeof B=="object"&&!Array.isArray(B)){if(Object.keys(B).includes("command")){Q.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}$=B}if(Object.keys($).length===0){Q.error("No MCP configurations found in the JSON");return}for(const[G,U]of Object.entries($))if(!U.command){Q.error(`MCP "${G}" is missing required "command" field`);return}const Y={...u.mcpServers||{},...$},z={...u,mcpServers:Y};d(z),m(JSON.stringify(z,null,2)),E(z);const K=Object.keys($).length;Q.success(`Added ${K} MCP${K>1?"s":""}`),k({open:!1,json:""})}catch(B){Q.error("Failed to add: "+B.message)}},I=s!=null&&s.mcpServers?Object.keys(s.mcpServers):[],O=async()=>{if(o){j(!0);try{const B=await ve.applyConfig(o);B.success?(Q.success("Generated .mcp.json"),g(!1)):Q.error(B.error||"Failed to apply")}catch(B){Q.error("Failed to apply: "+B.message)}finally{j(!1)}}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[r.jsx(Td,{value:l,onValueChange:c,children:r.jsxs(Il,{className:"h-8",children:[r.jsx(Hn,{value:"rich",className:"text-xs px-3",children:"Rich Editor"}),r.jsx(Hn,{value:"json",className:"text-xs px-3",children:"JSON"})]})}),r.jsxs("div",{className:"flex gap-2 items-center",children:[h&&r.jsx(rt,{variant:"outline",className:"text-xs text-blue-600",children:"Saving..."}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>k({open:!0,json:""}),children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add MCP"]}),l==="json"&&r.jsxs(oe,{size:"sm",onClick:N,disabled:h,children:[r.jsx(hi,{className:"w-4 h-4 mr-1"}),"Apply JSON"]})]})]}),b&&r.jsxs("div",{className:"mx-3 mt-3 p-3 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800 dark:text-amber-200",children:["No ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900 px-1 rounded",children:".mcp.json"})," generated yet. Apply to enable MCPs for Claude Code."]})]}),r.jsx(oe,{size:"sm",variant:"outline",onClick:O,disabled:y,className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900",children:y?r.jsx("span",{className:"animate-pulse",children:"Applying..."}):r.jsxs(r.Fragment,{children:[r.jsx(Nl,{className:"w-3 h-3 mr-1"}),"Apply"]})})]}),r.jsx(An,{className:"flex-1",children:l==="rich"?r.jsx(Or,{children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Registry MCPs"}),r.jsx("div",{className:"space-y-2",children:I.length===0&&_.length===0?r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No MCPs in registry"}):r.jsxs(r.Fragment,{children:[_.map(B=>{var Y;const $=(Y=u.exclude)==null?void 0:Y.includes(B.name);return r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${$?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-slate-900 border-gray-200 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(En,{className:`w-4 h-4 ${$?"text-red-400":"text-gray-400"}`}),r.jsx("span",{className:`text-sm ${$?"text-red-500 line-through":"text-gray-500 dark:text-slate-400"}`,children:B.name}),r.jsxs(rt,{variant:"outline",className:"text-[10px] text-gray-400 border-gray-300 dark:border-slate-600",children:["from ",B.source]})]}),r.jsx(mt,{checked:!$,onCheckedChange:()=>{$||Q.warning(`Blocking "${B.name}" inherited from ${B.source}`),T(B.name)},className:"data-[state=checked]:bg-gray-400 dark:data-[state=checked]:bg-slate-600"})]})}),r.jsxs(Vt,{children:[r.jsxs("p",{children:["Inherited from ",r.jsx("strong",{children:B.source})]}),r.jsx("p",{className:"text-xs text-gray-400",children:$?"Blocked at this level":"Toggle off to block"})]})]},`inherited-${B.name}`)}),I.map(B=>{var Y;return _.some(z=>z.name===B)?null:r.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-white dark:bg-slate-950",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(En,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:B})]}),r.jsx(mt,{checked:(Y=u.include)==null?void 0:Y.includes(B),onCheckedChange:()=>P(B)})]},B)})]})})]}),Object.keys(u.mcpServers||{}).length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Inline MCPs"}),r.jsx("div",{className:"space-y-2",children:Object.entries(u.mcpServers).map(([B,$])=>{var Y;return r.jsxs("div",{className:"p-2 rounded border bg-white dark:bg-slate-950 group",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:B}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rt,{variant:"outline",className:"text-xs",children:"inline"}),r.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>{const{[B]:z,...K}=u.mcpServers,G={...u,mcpServers:K};d(G),m(JSON.stringify(G,null,2)),E(G),Q.success(`Removed ${B}`)},children:r.jsx(mn,{className:"w-3.5 h-3.5"})})]})]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 font-mono",children:[$.command," ",(Y=$.args)==null?void 0:Y.join(" ")]})]},B)})})]})]})}):r.jsx(vt,{className:"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none resize-none",value:f,onChange:B=>m(B.target.value)})}),r.jsx(Nt,{open:w.open,onOpenChange:B=>k({...w,open:B}),children:r.jsxs(_t,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add MCP to Config"}),r.jsx(sr,{children:"Paste the MCP JSON configuration to add to this config file."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(vt,{value:w.json,onChange:B=>k({...w,json:B.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>k({open:!1,json:""}),children:"Cancel"}),r.jsxs(oe,{onClick:R,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function Yb({content:e,onSave:t,fileType:n}){const[s,o]=C.useState(e||""),[u,d]=C.useState(!1),l=C.useRef(null),c=C.useRef(null),f=C.useRef(e);C.useEffect(()=>{o(e||""),e!==f.current&&(f.current=e,setTimeout(()=>{if(c.current){c.current.focus();const w=(e||"").length;c.current.setSelectionRange(w,w)}},100))},[e]);const m=C.useCallback(w=>{l.current&&clearTimeout(l.current),l.current=setTimeout(async()=>{d(!0);try{await t(w)}finally{d(!1)}},2500)},[t]),h=w=>{const k=w.target.value;o(k),m(k)},x=pl[n]||pl.claudemd;return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(x.icon,{className:Ee("w-4 h-4",x.color)}),r.jsx("span",{className:"text-sm font-medium",children:x.label})]}),r.jsx("div",{className:"flex gap-2",children:u&&r.jsxs(rt,{variant:"outline",className:"text-xs text-blue-600",children:[r.jsx(br,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]})})]}),r.jsx(vt,{ref:c,className:"flex-1 w-full font-mono text-sm border-0 rounded-none resize-none p-4",value:s,onChange:h,placeholder:`Enter ${x.label.toLowerCase()} content...`})]})}var CF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SF=CF.reduce((e,t)=>{const n=sd(`Primitive.${t}`),s=C.forwardRef((o,u)=>{const{asChild:d,...l}=o,c=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),kF="Label",Rj=C.forwardRef((e,t)=>r.jsx(SF.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rj.displayName=kF;var Mj=Rj;const jF=id("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wt=C.forwardRef(({className:e,...t},n)=>r.jsx(Mj,{ref:n,className:Ee(jF(),e),...t}));Wt.displayName=Mj.displayName;const NF=id("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ho=C.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ee(NF({variant:t}),e),...n}));Ho.displayName="Alert";const EF=C.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));EF.displayName="AlertTitle";const Wo=C.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));Wo.displayName="AlertDescription";var Dd="Collapsible",[PF]=en(Dd),[AF,Bg]=PF(Dd),Dj=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:u,onOpenChange:d,...l}=e,[c,f]=os({prop:s,defaultProp:o??!1,onChange:d,caller:Dd});return r.jsx(AF,{scope:n,disabled:u,contentId:jn(),open:c,onOpenToggle:C.useCallback(()=>f(m=>!m),[f]),children:r.jsx(et.div,{"data-state":$g(c),"data-disabled":u?"":void 0,...l,ref:t})})});Dj.displayName=Dd;var Lj="CollapsibleTrigger",Ij=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,o=Bg(Lj,n);return r.jsx(et.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":$g(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:t,onClick:Ie(e.onClick,o.onOpenToggle)})});Ij.displayName=Lj;var Fg="CollapsibleContent",Oj=C.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Bg(Fg,e.__scopeCollapsible);return r.jsx(Pr,{present:n||o.open,children:({present:u})=>r.jsx(TF,{...s,ref:t,present:u})})});Oj.displayName=Fg;var TF=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:o,...u}=e,d=Bg(Fg,n),[l,c]=C.useState(s),f=C.useRef(null),m=ct(t,f),h=C.useRef(0),x=h.current,w=C.useRef(0),k=w.current,_=d.open||l,v=C.useRef(_),b=C.useRef(void 0);return C.useEffect(()=>{const g=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(g)},[]),wr(()=>{const g=f.current;if(g){b.current=b.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const y=g.getBoundingClientRect();h.current=y.height,w.current=y.width,v.current||(g.style.transitionDuration=b.current.transitionDuration,g.style.animationName=b.current.animationName),c(s)}},[d.open,s]),r.jsx(et.div,{"data-state":$g(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!_,...u,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:_&&o})});function $g(e){return e?"open":"closed"}var RF=Dj;const Bl=RF,Fl=Ij,$l=Oj,Qm=[{name:"Bash",icon:It,description:"Shell commands",color:"text-purple-600",bgColor:"bg-purple-50",badgeClass:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Read",icon:Er,description:"Read file contents",color:"text-blue-600",bgColor:"bg-blue-50",badgeClass:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Edit",icon:Kp,description:"Edit existing files",color:"text-amber-600",bgColor:"bg-amber-50",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},{name:"Write",icon:Yp,description:"Create/write files",color:"text-orange-600",bgColor:"bg-orange-50",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},{name:"WebFetch",icon:Fi,description:"Fetch web content",color:"text-green-600",bgColor:"bg-green-50",badgeClass:"bg-green-100 text-green-700 border-green-200"},{name:"WebSearch",icon:jl,description:"Web search capability",color:"text-teal-600",bgColor:"bg-teal-50",badgeClass:"bg-teal-100 text-teal-700 border-teal-200"},{name:"mcp",icon:Bo,description:"MCP server tools",color:"text-indigo-600",bgColor:"bg-indigo-50",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200"}],Xb=[{category:"Git",name:"Git Status",pattern:"Bash(git status:*)",description:"Check repository status",icon:It},{category:"Git",name:"Git Add",pattern:"Bash(git add:*)",description:"Stage files for commit",icon:It},{category:"Git",name:"Git Commit",pattern:"Bash(git commit:*)",description:"Create commits",icon:It},{category:"Git",name:"Git Push",pattern:"Bash(git push:*)",description:"Push to remote repository",icon:It},{category:"Git",name:"Git Diff",pattern:"Bash(git diff:*)",description:"Show changes",icon:It},{category:"NPM",name:"NPM Install",pattern:"Bash(npm install:*)",description:"Install dependencies",icon:It},{category:"NPM",name:"NPM Run Scripts",pattern:"Bash(npm run:*)",description:"Run package scripts",icon:It},{category:"NPM",name:"NPM Test",pattern:"Bash(npm test:*)",description:"Run tests",icon:It},{category:"Files",name:"Read All Files",pattern:"Read(**)",description:"Read any file in the project",icon:Er},{category:"Files",name:"Edit All Files",pattern:"Edit(**)",description:"Edit any file in the project",icon:Kp},{category:"Security",name:"Deny .env Files",pattern:"Read(./.env)",description:"Block reading environment files",icon:Er,suggestedCategory:"deny"},{category:"Security",name:"Deny All .env",pattern:"Read(**/.env*)",description:"Block all environment files",icon:Er,suggestedCategory:"deny"},{category:"Commands",name:"List Files",pattern:"Bash(ls:*)",description:"List directory contents",icon:It},{category:"Commands",name:"Find Files",pattern:"Bash(find:*)",description:"Find files and directories",icon:It},{category:"MCP",name:"Filesystem Operations",pattern:"mcp__filesystem__*",description:"All filesystem MCP operations",icon:Bo},{category:"MCP",name:"GitHub Operations",pattern:"mcp__github__*",description:"All GitHub MCP operations",icon:Bo}];function Ld(e){if(!e)return{type:"unknown",value:"",hasWildcard:!1,description:""};if(e.startsWith("mcp__")){const n=e.split("__");return{type:"mcp",value:e,server:n[1]||"",tool:n[2]||"",hasWildcard:e.includes("*"),description:`MCP tool: ${n.slice(1).join("/")}`}}if(e==="WebSearch")return{type:"WebSearch",value:"",hasWildcard:!1,description:"Web search capability"};const t=e.match(/^(\w+)\((.+)\)$/);if(t){const[,n,s]=t,o=s.includes("*");return{type:n,value:s,hasWildcard:o,description:LF(n,s)}}return{type:"unknown",value:e,hasWildcard:e.includes("*"),description:e}}function MF(e,t){return e==="WebSearch"?"WebSearch":e==="mcp"?t:t?`${e}(${t})`:""}function DF(e){if(!e)return"Rule cannot be empty";if(e==="WebSearch")return null;if(e.startsWith("mcp__"))return e.includes("*")||e.match(/^mcp__\w+__\w+$/)?null:"MCP pattern must be: mcp__server__tool";const t=e.match(/^(\w+)\((.+)\)$/);if(!t)return"Invalid pattern format. Expected: Type(value) or mcp__server__tool";const[,n]=t,s=["Bash","Read","Edit","Write","WebFetch"];return s.includes(n)?null:`Unknown permission type: ${n}. Valid types: ${s.join(", ")}`}function LF(e,t){switch(e){case"Bash":if(t.includes(":")){const[n,s]=t.split(":");return s==="*"?`Run "${n}" with any arguments`:`Run "${n} ${s}"`}return`Run "${t}"`;case"Read":return t==="**"?"Read all files":t.includes("**")?`Read files matching ${t}`:`Read ${t}`;case"Edit":return t==="**"?"Edit all files":t.includes("**")?`Edit files matching ${t}`:`Edit ${t}`;case"Write":return t==="**"?"Write to any file":t.includes("**")?`Write files matching ${t}`:`Write to ${t}`;case"WebFetch":return t==="*"?"Fetch any URL":`Fetch URLs matching ${t}`;default:return t}}function IF(e){return Qm.find(n=>n.name===e)||Qm[0]}function OF(e){return{allow:'Rules in "Allow" will execute automatically without prompting. Use wildcards (*) for flexible matching.',ask:'Rules in "Ask" will prompt for confirmation each time. Good for potentially destructive operations.',deny:'Rules in "Deny" are blocked entirely. Use this to prevent access to sensitive files or dangerous operations.'}[e]}function Jb(e){return{allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeColor:"bg-green-100 text-green-700",description:"Operations that run without asking"},ask:{label:"Ask",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",badgeColor:"bg-amber-100 text-amber-700",description:"Operations that require confirmation"},deny:{label:"Deny",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",description:"Operations that are blocked"}}[e]}function BF(e,t){const n=Ld(e),{type:s,value:o}=n,u={allow:{prefix:" Allowed automatically",meaning:"Claude will do this without asking you first"},ask:{prefix:"? Requires approval",meaning:"Claude will ask for your permission each time"},deny:{prefix:" Blocked",meaning:"Claude cannot do this at all"}},d=u[t]||u.ask;let l="",c="",f=[];switch(s){case"Bash":if(o.includes(":")){const[w,k]=o.split(":");k==="*"?(l=`Run "${w}" command`,c=`Allows running the ${w} command with any arguments`,f=[`${w} build`,`${w} test`,`${w} --help`]):(l=`Run "${w} ${k}"`,c="Allows running this specific command",f=[`${w} ${k}`])}else o==="*"?(l="Run any terminal command",c="Allows executing any command in the terminal. Use with caution!",f=["npm install","git push","rm files"]):(l=`Run "${o}" command`,c="Allows running this specific command",f=[o]);break;case"Read":if(o==="**")l="Read any file",c="Allows reading the contents of any file in the project",f=["package.json","src/index.ts",".env"];else if(o.includes("**/*.")){const w=o.split("**.")[1];l=`Read ${w} files`,c=`Allows reading any file ending in .${w}`,f=[`file.${w}`,`src/component.${w}`]}else o.startsWith("./")?(l=`Read files in ${o}`,c=`Allows reading files in the ${o.replace("./","")} directory`):(l=`Read "${o}"`,c="Allows reading files matching this pattern");break;case"Edit":if(o==="**")l="Edit any file",c="Allows modifying the contents of any file. Changes can be undone with git.",f=["package.json","src/index.ts"];else if(o.includes("**/*.")){const w=o.split("**.")[1];l=`Edit ${w} files`,c=`Allows modifying any file ending in .${w}`}else o.startsWith("./")?(l=`Edit files in ${o}`,c=`Allows modifying files in the ${o.replace("./","")} directory`):(l=`Edit "${o}"`,c="Allows modifying files matching this pattern");break;case"Write":o==="**"?(l="Create any file",c="Allows creating new files anywhere in the project"):(l=`Create files in "${o}"`,c="Allows creating new files matching this pattern");break;case"WebFetch":o==="*"?(l="Fetch any URL",c="Allows making HTTP requests to any website",f=["api.github.com","docs.example.com"]):(l=`Fetch from ${o}`,c="Allows making HTTP requests to URLs matching this pattern");break;case"WebSearch":l="Search the web",c="Allows Claude to search the internet for information";break;case"mcp":const m=e.split("__"),h=m[1]||"unknown",x=m[2]||"*";x==="*"||e.endsWith("*")?(l=`Use ${h} tools`,c=`Allows using any tool from the ${h} MCP server`):(l=`Use ${h}/${x}`,c=`Allows using the ${x} tool from the ${h} MCP server`);break;default:l=e,c="Custom permission rule"}return{summary:l,detail:c,examples:f,categoryMeaning:`${d.prefix}  ${d.meaning}`}}function FF(e){const t={Bash:[],Read:[],Edit:[],Write:[],WebFetch:[],WebSearch:[],mcp:[],other:[]};for(const s of e){const u=Ld(s).type;t[u]?t[u].push(s):t.other.push(s)}return["Bash","Read","Edit","Write","WebFetch","WebSearch","mcp","other"].filter(s=>t[s].length>0).map(s=>({type:s,rules:t[s]}))}function $F({rule:e,category:t,onEdit:n,onDelete:s,readOnly:o}){const[u,d]=C.useState(!1),l=Ld(e);IF(l.type);const c=BF(e,t),f=e.length>25?e.substring(0,22)+"...":e;return r.jsxs("div",{className:"inline-flex items-center group",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx("span",{className:"inline-block",children:r.jsx(rt,{variant:"secondary",className:Ee("cursor-default transition-all text-xs font-mono py-1 px-2 h-7",t==="allow"&&"bg-green-100 dark:bg-green-950 text-green-800 dark:text-green-300",t==="ask"&&"bg-amber-100 dark:bg-amber-950 text-amber-800 dark:text-amber-300",t==="deny"&&"bg-red-100 dark:bg-red-950 text-red-800 dark:text-red-300",!o&&"rounded-r-none"),children:f})})}),r.jsx(Vt,{side:"bottom",className:"max-w-md p-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:c.summary}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.detail})]}),r.jsx("div",{className:Ee("text-xs px-2 py-1 rounded",t==="allow"&&"bg-green-500/20 text-green-700 dark:text-green-300",t==="ask"&&"bg-amber-500/20 text-amber-700 dark:text-amber-300",t==="deny"&&"bg-red-500/20 text-red-700 dark:text-red-300"),children:c.categoryMeaning}),c.examples&&c.examples.length>0&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Examples: "}),c.examples.join(", ")]}),r.jsxs("code",{className:"text-[10px] text-muted-foreground/70 block break-all",children:["Pattern: ",e]})]})})]}),!o&&r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsx("button",{className:Ee("h-7 px-1 rounded-r transition-all border-l","hover:bg-black/10 dark:hover:bg-white/10",t==="allow"&&"bg-green-200 dark:bg-green-900 border-green-300 dark:border-green-800",t==="ask"&&"bg-amber-200 dark:bg-amber-900 border-amber-300 dark:border-amber-800",t==="deny"&&"bg-red-200 dark:bg-red-900 border-red-300 dark:border-red-800",u?"opacity-100":"opacity-0"),children:r.jsx(BM,{className:"w-3 h-3"})})}),r.jsxs(Es,{align:"end",className:"w-32",children:[r.jsx(Lt,{onClick:n,children:"Edit"}),r.jsx(Hr,{}),r.jsx(Lt,{onClick:s,className:"text-red-600",children:"Delete"})]})]})]})}const Qb={Bash:{label:"Bash",color:"text-purple-600 dark:text-purple-400"},Read:{label:"Read",color:"text-blue-600 dark:text-blue-400"},Edit:{label:"Edit",color:"text-orange-600 dark:text-orange-400"},Write:{label:"Write",color:"text-green-600 dark:text-green-400"},WebFetch:{label:"WebFetch",color:"text-cyan-600 dark:text-cyan-400"},WebSearch:{label:"WebSearch",color:"text-teal-600 dark:text-teal-400"},mcp:{label:"MCP",color:"text-indigo-600 dark:text-indigo-400"},other:{label:"Other",color:"text-gray-600 dark:text-gray-400"}};function zF({type:e,rules:t,category:n,onEdit:s,onDelete:o,onAddRule:u,readOnly:d,defaultExpanded:l=!1}){const[c,f]=C.useState(l||t.length<=5),m=Qb[e]||Qb.other;return t.length===0?null:r.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>f(!c),className:Ee("w-full flex items-center gap-2 px-3 py-2 text-left","bg-gray-50 dark:bg-slate-800/50 hover:bg-gray-100 dark:hover:bg-slate-800","transition-colors"),children:[r.jsx(Wr,{className:Ee("w-4 h-4 text-gray-400 transition-transform",c&&"rotate-90")}),r.jsx("span",{className:Ee("font-medium text-sm",m.color),children:m.label}),r.jsx(rt,{variant:"secondary",className:"text-xs",children:t.length}),!c&&t.length>0&&r.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500 truncate flex-1 ml-2",children:[t.slice(0,3).join(", "),t.length>3&&"..."]})]}),c&&r.jsx("div",{className:"p-3 bg-white dark:bg-slate-900",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(h=>r.jsx($F,{rule:h,category:n,onEdit:()=>s(h),onDelete:()=>o(h),readOnly:d},h)),!d&&r.jsxs(oe,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:u,children:[r.jsx(wt,{className:"w-3 h-3 mr-1"}),"Add"]})]})})]})}function HF({open:e,onOpenChange:t,onSubmit:n,defaultCategory:s="allow",defaultRule:o="",isEditing:u=!1,existingRules:d=[]}){const[l,c]=C.useState("preset"),[f,m]=C.useState(s),[h,x]=C.useState("Bash"),[w,k]=C.useState(""),[_,v]=C.useState(o),[b,g]=C.useState(new Set),[y,j]=C.useState(""),[E,P]=C.useState(null);C.useEffect(()=>{if(e)if(m(s),g(new Set),j(""),o&&u){const K=Ld(o);x(K.type==="unknown"?"Bash":K.type),k(K.value),v(o),c("builder")}else x("Bash"),k(""),v(""),c("preset")},[e,o,s,u]);const T=K=>{g(G=>{const U=new Set(G);return U.has(K)?U.delete(K):U.add(K),U})},N=()=>{const K=O.filter(G=>!d.includes(G.pattern)).map(G=>G.pattern);g(new Set(K))},R=()=>{g(new Set)},I=C.useMemo(()=>l==="freeform"?_:l==="builder"?MF(h,w):"",[l,h,w,_]);C.useEffect(()=>{if(l!=="preset"){const K=DF(I);P(K)}else P(null)},[I,l]);const O=C.useMemo(()=>{if(!y)return Xb;const K=y.toLowerCase();return Xb.filter(G=>G.name.toLowerCase().includes(K)||G.pattern.toLowerCase().includes(K)||G.description.toLowerCase().includes(K)||G.category.toLowerCase().includes(K))},[y]),B=C.useMemo(()=>{const K={};return O.forEach(G=>{K[G.category]||(K[G.category]=[]),K[G.category].push(G)}),K},[O]),$=()=>{if(l==="preset"){const K=Array.from(b);if(K.length===0)return;for(const G of K)n(f,G);t(!1)}else{if(E||!I)return;n(f,I),t(!1)}},Y=l==="preset"?b.size===0:!I||!!E,z=UF(h);return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs(Ct,{children:[r.jsx(St,{className:"flex items-center gap-2",children:u?r.jsxs(r.Fragment,{children:[r.jsx(Yp,{className:"w-5 h-5 text-indigo-600"}),"Edit Permission Rule"]}):r.jsxs(r.Fragment,{children:[r.jsx(kn,{className:"w-5 h-5 text-indigo-600"}),"Add Permission Rule"]})}),r.jsx(sr,{children:"Create a permission rule to control Claude Code's behavior."})]}),r.jsxs("div",{className:"flex-1 overflow-auto space-y-6 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{children:"Permission Category"}),r.jsxs(xr,{value:f,onValueChange:m,children:[r.jsx(dr,{children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"allow",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Allow - Execute without asking"]})}),r.jsx(kt,{value:"ask",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),"Ask - Require confirmation"]})}),r.jsx(kt,{value:"deny",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Deny - Block entirely"]})})]})]})]}),r.jsxs(Td,{value:l,onValueChange:c,children:[r.jsxs(Il,{className:"grid w-full grid-cols-3",children:[r.jsxs(Hn,{value:"preset",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Presets"]}),r.jsxs(Hn,{value:"builder",children:[r.jsx(It,{className:"w-4 h-4 mr-2"}),"Builder"]}),r.jsxs(Hn,{value:"freeform",children:[r.jsx(Kp,{className:"w-4 h-4 mr-2"}),"Freeform"]})]}),r.jsxs(ws,{value:"preset",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lt,{placeholder:"Search presets...",value:y,onChange:K=>j(K.target.value),className:"flex-1"}),r.jsx(oe,{variant:"outline",size:"sm",onClick:N,disabled:O.length===0,children:"Select All"}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:R,disabled:b.size===0,children:"Clear"})]}),b.size>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-400",children:[r.jsx(Jt,{className:"w-4 h-4"}),b.size," preset",b.size!==1?"s":""," selected"]}),r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg max-h-[220px] overflow-auto",children:Object.entries(B).map(([K,G])=>r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[r.jsx("div",{className:"px-3 py-1.5 bg-gray-50 dark:bg-slate-800 font-medium text-xs text-gray-600 dark:text-slate-300 sticky top-0",children:K}),G.map(U=>{const L=U.icon,M=b.has(U.pattern),F=d.includes(U.pattern);return r.jsxs("label",{className:Ee("flex items-start gap-2 px-3 py-2 cursor-pointer transition-colors",F?"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-slate-800":M?"bg-indigo-50 dark:bg-indigo-950/50":"hover:bg-gray-50 dark:hover:bg-slate-800"),children:[r.jsx(Tl,{checked:M,onCheckedChange:()=>!F&&T(U.pattern),disabled:F,className:"mt-0.5"}),r.jsx(L,{className:"w-4 h-4 mt-0.5 text-gray-400 dark:text-slate-500 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:U.name}),F&&r.jsx(rt,{variant:"secondary",className:"text-xs",children:"Added"})]}),r.jsx("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate",children:U.pattern})]})]},U.pattern)})]},K))})]}),r.jsxs(ws,{value:"builder",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{children:"Permission Type"}),r.jsxs(xr,{value:h,onValueChange:x,children:[r.jsx(dr,{children:r.jsx(vr,{})}),r.jsx(hr,{children:Qm.map(K=>{const G=K.icon;return r.jsx(kt,{value:K.name,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G,{className:"w-4 h-4"}),K.name,r.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:["- ",K.description]})]})},K.name)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Wt,{children:WF(h)}),r.jsxs(Yt,{children:[r.jsx(Xt,{children:r.jsx(ed,{className:"w-4 h-4 text-gray-400"})}),r.jsx(Vt,{className:"max-w-xs",children:VF(h)})]})]}),h==="WebSearch"?r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"WebSearch does not require a value pattern."}):r.jsx(lt,{value:w,onChange:K=>k(K.target.value),placeholder:h==="Bash"?"command:arguments":"path/pattern",className:"font-mono"})]}),z.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{className:"text-xs text-gray-500 dark:text-slate-400",children:"Quick examples:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(K=>r.jsx(oe,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>k(K.value),children:K.label},K.value))})]})]}),r.jsx(ws,{value:"freeform",className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{children:"Rule Pattern"}),r.jsx(vt,{value:_,onChange:K=>v(K.target.value),placeholder:"e.g., Bash(npm run build), Read(**/*.ts)",className:"font-mono text-sm",rows:3}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Enter the full permission pattern. Use * for wildcards and : for Bash argument separation."})]})})]}),l!=="preset"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{children:"Generated Rule"}),r.jsx("div",{className:Ee("p-3 rounded-lg border font-mono text-sm",E?"bg-red-50 dark:bg-red-950/50 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400":"bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-700 dark:text-slate-300"),children:I||r.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"No rule configured"})}),E&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[r.jsx(ks,{className:"w-4 h-4"}),E]})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),r.jsx(oe,{onClick:$,disabled:Y,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:u?"Update Rule":l==="preset"&&b.size>1?`Add ${b.size} Rules`:"Add Rule"})]})]})})}function WF(e){return{Bash:"Command Pattern",Read:"File Path Pattern",Edit:"File Path Pattern",Write:"File Path Pattern",WebFetch:"URL Pattern",WebSearch:"N/A",mcp:"Tool Name"}[e]||"Value"}function VF(e){return{Bash:"Format: command:arguments. Use * for wildcards. Example: npm run:* matches npm run build, npm run test, etc.",Read:"File path pattern. Use ** for recursive matching. Example: **/*.ts matches all TypeScript files.",Edit:"File path pattern. Use ** for recursive matching.",Write:"File path pattern. Use ** for recursive matching.",WebFetch:"URL pattern. Example: https://api.github.com/* matches all GitHub API calls.",WebSearch:"No value needed - this enables/disables web search entirely.",mcp:"MCP tool name in format: mcp__server__tool"}[e]||""}function UF(e){return{Bash:[{label:"npm run *",value:"npm run:*"},{label:"git add *",value:"git add:*"},{label:"git commit *",value:"git commit:*"},{label:"ls *",value:"ls:*"}],Read:[{label:"All files",value:"**"},{label:"TypeScript",value:"**/*.ts"},{label:"Source only",value:"./src/**"}],Edit:[{label:"All files",value:"**"},{label:"Source only",value:"./src/**"}],Write:[{label:"All files",value:"**"}],WebFetch:[{label:"Any URL",value:"*"},{label:"GitHub API",value:"https://api.github.com/*"}],mcp:[{label:"Filesystem read",value:"mcp__filesystem__read_file"},{label:"GitHub PR",value:"mcp__github__create_pull_request"}]}[e]||[]}function GF({open:e,onOpenChange:t,mode:n,permissions:s,onImport:o}){const[u,d]=C.useState(""),[l,c]=C.useState(null),[f,m]=C.useState(!1);C.useEffect(()=>{e&&n==="export"?(d(JSON.stringify({permissions:s},null,2)),c(null)):e&&n==="import"&&(d(""),c(null))},[e,n,s]);const h=()=>{navigator.clipboard.writeText(u),m(!0),setTimeout(()=>m(!1),2e3),Q.success("Copied to clipboard")},x=()=>{try{const w=JSON.parse(u);if(!w.permissions){c('JSON must have a "permissions" key');return}const{allow:k=[],ask:_=[],deny:v=[]}=w.permissions;if(!Array.isArray(k)||!Array.isArray(_)||!Array.isArray(v)){c("allow, ask, and deny must be arrays");return}if([...k,..._,...v].some(g=>typeof g!="string")){c("All permission rules must be strings");return}o(w.permissions),t(!1)}catch(w){c("Invalid JSON: "+w.message)}};return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsxs(Ct,{children:[r.jsx(St,{className:"flex items-center gap-2",children:n==="export"?r.jsxs(r.Fragment,{children:[r.jsx(Sl,{className:"w-5 h-5 text-indigo-600"}),"Export Permissions"]}):r.jsxs(r.Fragment,{children:[r.jsx(Lm,{className:"w-5 h-5 text-indigo-600"}),"Import Permissions"]})}),r.jsx(sr,{children:n==="export"?"Copy this JSON to save or share your permission configuration.":"Paste a JSON permission configuration to import."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsx(vt,{value:u,onChange:w=>{d(w.target.value),c(null)},placeholder:n==="import"?"Paste JSON here...":"",className:"font-mono text-sm min-h-[300px]",readOnly:n==="export"}),l&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[r.jsx(ks,{className:"w-4 h-4"}),l]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),n==="export"?r.jsxs(oe,{onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f?r.jsx(Jt,{className:"w-4 h-4 mr-2"}):r.jsx(al,{className:"w-4 h-4 mr-2"}),f?"Copied!":"Copy to Clipboard"]}):r.jsxs(oe,{onClick:x,disabled:!u.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[r.jsx(Lm,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})})}function KF({open:e,onOpenChange:t,serverName:n,serverConfig:s={},permissions:o={allow:[],ask:[],deny:[]},onUpdatePermissions:u}){var T,N;const[d,l]=C.useState([]),[c,f]=C.useState(!1),[m,h]=C.useState(null),[x,w]=C.useState("");C.useEffect(()=>{e&&n&&k()},[e,n]);const k=async()=>{f(!0),h(null);try{const R=await ve.getMcpServerTools(n);R.error?(h(R.error),l([])):l(R.tools||[])}catch(R){h(R.message),l([])}finally{f(!1)}},_=async()=>{await ve.clearMcpToolsCache(n),await k()},v=C.useMemo(()=>{var B,$,Y,z;const R=`mcp__${n}__`,I=`${R}*`,O={allowAll:((B=o.allow)==null?void 0:B.includes(I))||!1,toolPermissions:{}};return($=o.allow)==null||$.forEach(K=>{K.startsWith(R)&&K!==I&&(O.toolPermissions[K.replace(R,"")]="allow")}),(Y=o.ask)==null||Y.forEach(K=>{K.startsWith(R)&&K!==I&&(O.toolPermissions[K.replace(R,"")]="ask")}),(z=o.deny)==null||z.forEach(K=>{K.startsWith(R)&&K!==I&&(O.toolPermissions[K.replace(R,"")]="deny")}),O},[n,o]),b=C.useMemo(()=>{const R=new Set;return d.forEach(I=>R.add(I.name)),Object.keys(v.toolPermissions).forEach(I=>R.add(I)),Array.from(R).sort().map(I=>{const O=d.find(B=>B.name===I);return{name:I,description:(O==null?void 0:O.description)||"",discovered:!!O}})},[d,v.toolPermissions]),g=R=>{const I=`mcp__${n}__*`;u==null||u(n,I,R?"allow":"remove")},y=(R,I)=>{const O=`mcp__${n}__${R}`;v.toolPermissions[R]===I?u==null||u(n,O,"remove"):u==null||u(n,O,I)},j=()=>{const R=x.trim();if(!R)return;const I=`mcp__${n}__${R}`;u==null||u(n,I,"allow"),w("")},E=R=>{const I=`mcp__${n}__${R}`;u==null||u(n,I,"remove")},P=s!=null&&s.command?"stdio":s!=null&&s.url?"sse":"unknown";return r.jsx(Or,{children:r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"sm:max-w-[550px] max-h-[85vh] flex flex-col",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Bo,{className:"w-5 h-5 text-purple-600"}),"Configure ",n]}),r.jsxs(sr,{children:[P==="stdio"&&s.command&&r.jsxs("code",{className:"text-xs bg-gray-100 dark:bg-slate-800 px-2 py-1 rounded",children:[s.command," ",(T=s.args)==null?void 0:T.slice(0,2).join(" "),((N=s.args)==null?void 0:N.length)>2&&"..."]}),P==="sse"&&s.url&&r.jsx("code",{className:"text-xs bg-gray-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.url})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(cs,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx(Wt,{className:"font-medium",children:"Allow all tools"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Grant permission for all tools from this server"})]})]}),r.jsx(mt,{checked:v.allowAll,onCheckedChange:g})]}),v.allowAll&&r.jsxs(Ho,{children:[r.jsx(rd,{className:"w-4 h-4"}),r.jsx(Wo,{className:"text-sm",children:"All tools are allowed. Individual tool settings below are informational only."})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Wt,{className:"text-sm font-medium",children:"Available Tools"}),r.jsxs(oe,{variant:"ghost",size:"sm",onClick:_,disabled:c,className:"h-7",children:[r.jsx(br,{className:Ee("w-3 h-3 mr-1",c&&"animate-spin")}),"Refresh"]})]}),m&&r.jsxs(Ho,{variant:"destructive",children:[r.jsx(ks,{className:"w-4 h-4"}),r.jsxs(Wo,{className:"text-sm",children:[m,r.jsx("p",{className:"text-xs mt-1 opacity-80",children:"You can still add tools manually below."})]})]}),c&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(br,{className:"w-5 h-5 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Discovering tools..."})]}),!c&&r.jsx(An,{className:"flex-1 min-h-0 rounded-md border border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:b.length>0?b.map(R=>{const I=v.toolPermissions[R.name];return r.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[r.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm font-mono truncate",children:R.name}),!R.discovered&&r.jsx(rt,{variant:"outline",className:"text-xs",children:"manual"})]}),R.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:R.description})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:I==="allow"?"default":"ghost",size:"sm",className:Ee("h-7 w-7 p-0",I==="allow"&&"bg-green-600 hover:bg-green-700"),onClick:()=>y(R.name,"allow"),children:r.jsx(Jt,{className:"w-3 h-3"})})}),r.jsx(Vt,{children:"Allow"})]}),r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:I==="ask"?"default":"ghost",size:"sm",className:Ee("h-7 w-7 p-0",I==="ask"&&"bg-amber-600 hover:bg-amber-700"),onClick:()=>y(R.name,"ask"),children:"?"})}),r.jsx(Vt,{children:"Ask"})]}),r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:I==="deny"?"default":"ghost",size:"sm",className:Ee("h-7 w-7 p-0",I==="deny"&&"bg-red-600 hover:bg-red-700"),onClick:()=>y(R.name,"deny"),children:r.jsx(ri,{className:"w-3 h-3"})})}),r.jsx(Vt,{children:"Deny"})]}),!R.discovered&&I&&r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-red-600",onClick:()=>E(R.name),children:r.jsx(mn,{className:"w-3 h-3"})})}),r.jsx(Vt,{children:"Remove"})]})]})]},R.name)}):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx("p",{className:"text-sm",children:"No tools discovered"}),r.jsx("p",{className:"text-xs mt-1",children:"Add tools manually below"})]})})}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:[r.jsx(lt,{value:x,onChange:R=>w(R.target.value),placeholder:"Add tool manually...",className:"flex-1 text-sm",onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),j())}}),r.jsx(oe,{size:"sm",onClick:j,disabled:!x.trim(),children:r.jsx(wt,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-400 pt-2 border-t border-gray-200 dark:border-slate-700",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-green-600"}),"Allow"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-amber-600"}),"Ask"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-red-600"}),"Deny"]}),r.jsx("span",{className:"flex items-center gap-1 ml-auto",children:r.jsx("span",{className:"text-gray-400",children:"Click again to remove"})})]})]}),r.jsx(Tt,{children:r.jsx(oe,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})})}function qF({mcpServers:e={},permissions:t={allow:[],ask:[],deny:[]},onToggle:n,onUpdatePermission:s,readOnly:o=!1}){const[u,d]=C.useState(!0),[l,c]=C.useState(!1),[f,m]=C.useState(null),h=C.useMemo(()=>Object.keys(e).sort(),[e]),x=v=>{var g;const b=`mcp__${v}__*`;return((g=t.allow)==null?void 0:g.includes(b))||!1},w=v=>{var j,E,P;const b=`mcp__${v}__`,g=`${b}*`;let y=0;return(j=t.allow)==null||j.forEach(T=>{T.startsWith(b)&&T!==g&&y++}),(E=t.ask)==null||E.forEach(T=>{T.startsWith(b)&&T!==g&&y++}),(P=t.deny)==null||P.forEach(T=>{T.startsWith(b)&&T!==g&&y++}),y},k=(v,b)=>{const g=`mcp__${v}__*`;n==null||n(v,g,b)},_=(v,b)=>{b.stopPropagation(),m(v),c(!0)};return h.length===0?null:r.jsxs(r.Fragment,{children:[r.jsxs(Bl,{open:u,onOpenChange:d,className:"mb-6",children:[r.jsx(Fl,{asChild:!0,children:r.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-950 flex items-center justify-center",children:r.jsx(Bo,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Quick MCP Permissions"}),r.jsxs(rt,{variant:"secondary",className:"ml-2 text-xs",children:[h.length," server",h.length!==1?"s":""]})]})]}),r.jsx(yr,{className:Ee("w-4 h-4 text-gray-500 transition-transform",u&&"rotate-180")})]})}),r.jsx($l,{children:r.jsxs("div",{className:"mt-2 rounded-lg border border-gray-200 dark:border-slate-700 divide-y divide-gray-200 dark:divide-slate-700",children:[h.map(v=>{const b=x(v),g=e[v],y=g!=null&&g.command?"stdio":g!=null&&g.url?"sse":"unknown",j=w(v);return r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[r.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v}),b&&r.jsxs(rt,{variant:"outline",className:"text-xs bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",children:[r.jsx(Jt,{className:"w-3 h-3 mr-1"}),"All"]}),!b&&j>0&&r.jsxs(rt,{variant:"outline",className:"text-xs",children:[j," tool",j!==1?"s":""]})]}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:[y==="stdio"&&g.command,y==="sse"&&g.url]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:E=>_(v,E),disabled:o,children:r.jsx(Dm,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400 whitespace-nowrap",children:"Allow all"}),r.jsx(mt,{checked:b,onCheckedChange:E=>k(v,E),disabled:o})]})]})]},v)}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex items-start gap-2",children:[r.jsx(rd,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["Click ",r.jsx(Dm,{className:"w-3 h-3 inline mx-0.5"})," to configure specific tool permissions"]})]})]})})]}),f&&r.jsx(KF,{open:l,onOpenChange:c,serverName:f,serverConfig:e[f],permissions:t,onUpdatePermissions:s})]})}function YF({permissions:e,onSave:t,loading:n,readOnly:s=!1,mcpServers:o={}}){const[u,d]=C.useState({allow:[],ask:[],deny:[]}),[l,c]=C.useState("allow"),[f,m]=C.useState(!1),[h,x]=C.useState(!1),[w,k]=C.useState(!1),[_,v]=C.useState(null),[b,g]=C.useState(!1),[y,j]=C.useState("export");C.useEffect(()=>{e&&d({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]})},[e]);const E=C.useCallback(async z=>{if(!(!t||s)){m(!0);try{await t(z)}catch(K){Q.error("Failed to save: "+K.message)}finally{m(!1)}}},[t,s]),P=C.useCallback((z,K)=>{d(G=>{if([...G.allow,...G.ask,...G.deny].includes(K))return Q.error("This rule already exists"),G;const L={...G,[z]:[...G[z],K]};return E(L),Q.success(`Rule added to ${z}`),L})},[E]),T=C.useCallback((z,K,G,U)=>{d(L=>{const M={...L};return M[z]=M[z].filter(F=>F!==K),M[G]=[...M[G],U],E(M),Q.success("Rule updated"),M})},[E]),N=C.useCallback((z,K)=>{d(G=>{const U={...G,[z]:G[z].filter(L=>L!==K)};return E(U),Q.success("Rule deleted"),U})},[E]);C.useCallback((z,K,G)=>{d(U=>{const L={...U,[z]:U[z].filter(M=>M!==K),[G]:[...U[G],K]};return E(L),Q.success(`Moved to ${G}`),L})},[E]);const R=C.useCallback(z=>{const K={allow:z.allow||[],ask:z.ask||[],deny:z.deny||[]};d(K),E(K),Q.success("Permissions imported")},[E]),I=C.useCallback((z,K,G)=>{G?P("allow",K):N("allow",K)},[P,N]),O=C.useCallback((z,K,G)=>{d(U=>{const L={allow:[...U.allow||[]],ask:[...U.ask||[]],deny:[...U.deny||[]]};return L.allow=L.allow.filter(M=>M!==K),L.ask=L.ask.filter(M=>M!==K),L.deny=L.deny.filter(M=>M!==K),G==="allow"?L.allow.push(K):G==="ask"?L.ask.push(K):G==="deny"&&L.deny.push(K),E(L),L})},[E]),B=z=>{v(null),c(z),k(!0)},$=(z,K)=>{v({category:z,rule:K}),k(!0)},Y=u.allow.length+u.ask.length+u.deny.length;return r.jsx(Or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:r.jsx(cs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Permissions"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure what Claude Code can do automatically"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(rt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",children:[r.jsx(br,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]}),r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{j("export"),g(!0)},children:r.jsx(Sl,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Export permissions"})]}),r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{j("import"),g(!0)},disabled:s,children:r.jsx(Lm,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Import permissions"})]})]})]}),r.jsxs(Bl,{open:h,onOpenChange:x,children:[r.jsx(Fl,{asChild:!0,children:r.jsxs(oe,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-slate-400",children:[r.jsx(ed,{className:"w-4 h-4 mr-2"}),"How permissions work",r.jsx(yr,{className:Ee("w-4 h-4 ml-2 transition-transform",h&&"rotate-180")})]})}),r.jsx($l,{children:r.jsxs(Ho,{className:"mt-2",children:[r.jsx(rd,{className:"w-4 h-4"}),r.jsxs(Wo,{className:"text-sm",children:[r.jsxs("p",{className:"mb-2",children:["Permissions control what Claude Code can do automatically vs. what requires your approval. These settings are stored in ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded text-xs",children:"~/.claude/settings.json"}),"."]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[r.jsxs("div",{children:[r.jsx(rt,{className:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400 mb-1",children:"Allow"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Operations run without asking"})]}),r.jsxs("div",{children:[r.jsx(rt,{className:"bg-amber-100 dark:bg-amber-950 text-amber-700 dark:text-amber-400 mb-1",children:"Ask"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Prompts for confirmation each time"})]}),r.jsxs("div",{children:[r.jsx(rt,{className:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-400 mb-1",children:"Deny"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Blocked entirely"})]})]}),r.jsxs("p",{className:"mt-3 text-xs text-gray-500 dark:text-slate-400",children:["Use wildcards: ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"*"})," matches anything,"," ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"**"})," matches recursively in paths."]})]})]})})]}),!n&&Object.keys(o).length>0&&r.jsx(qF,{mcpServers:o,permissions:u,onToggle:I,onUpdatePermission:O,readOnly:s}),n&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(br,{className:"w-6 h-6 animate-spin text-gray-400"})}),!n&&Y===0&&r.jsxs(Ho,{children:[r.jsx(nd,{className:"w-4 h-4"}),r.jsxs(Wo,{children:["No permission rules configured. Claude Code will use default behavior and ask for permission on sensitive operations.",r.jsx(oe,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>B("allow"),children:"Add your first rule"})]})]}),!n&&r.jsxs(Td,{value:l,onValueChange:c,children:[r.jsx(Il,{className:"grid w-full grid-cols-3",children:["allow","ask","deny"].map(z=>{var U;const K=Jb(z),G=((U=u[z])==null?void 0:U.length)||0;return r.jsxs(Hn,{value:z,className:"flex items-center gap-2",children:[r.jsx("div",{className:Ee("w-2 h-2 rounded-full",z==="allow"&&"bg-green-500",z==="ask"&&"bg-amber-500",z==="deny"&&"bg-red-500")}),K.label,G>0&&r.jsx(rt,{variant:"secondary",className:"ml-1 text-xs",children:G})]},z)})}),["allow","ask","deny"].map(z=>{const K=Jb(z),G=u[z]||[],U=FF(G);return r.jsxs(ws,{value:z,className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 cursor-help",children:K.description})}),r.jsx(Vt,{className:"max-w-xs",children:OF(z)})]}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>B(z),disabled:s,children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add Rules"]})]}),G.length===0?r.jsxs("div",{className:Ee("text-center py-8 rounded-lg border-2 border-dashed",K.borderColor),children:[r.jsxs("p",{className:"text-gray-500 dark:text-slate-400",children:["No rules in ",z]}),r.jsx(oe,{variant:"link",size:"sm",onClick:()=>B(z),disabled:s,children:"Add rules"})]}):r.jsx("div",{className:"space-y-2",children:U.map(({type:L,rules:M})=>r.jsx(zF,{type:L,rules:M,category:z,onEdit:F=>$(z,F),onDelete:F=>N(z,F),onAddRule:()=>B(z),readOnly:s},L))})]},z)})]}),r.jsx(HF,{open:w,onOpenChange:k,onSubmit:(z,K)=>{_?T(_.category,_.rule,z,K):P(z,K)},defaultCategory:(_==null?void 0:_.category)||l,defaultRule:(_==null?void 0:_.rule)||"",isEditing:!!_,existingRules:[...u.allow,...u.ask,...u.deny]}),r.jsx(GF,{open:b,onOpenChange:g,mode:y,permissions:u,onImport:R})]})})}const XF=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Best balance of speed and capability",tier:"sonnet",recommended:!0},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks",tier:"opus"},{id:"claude-haiku-4-5-20251001",name:"Claude Haiku 4.5",description:"Fastest, best for simple tasks",tier:"haiku"}],JF=[{key:"ANTHROPIC_SMALL_FAST_MODEL",label:"Small/Fast Model",description:"Model for background tasks and quick operations",placeholder:"claude-haiku-4-5-20251001"},{key:"CLAUDE_CODE_SUBAGENT_MODEL",label:"Subagent Model",description:"Model used for subagent/background processing",placeholder:"claude-haiku-4-20241022"}];function Bj({settings:e,onSave:t,loading:n,settingsPath:s="~/.claude/settings.json",mcpServers:o={}}){const[u,d]=C.useState({}),[l,c]=C.useState("permissions"),[f,m]=C.useState(!1),[h,x]=C.useState(!1),[w,k]=C.useState(""),[_,v]=C.useState(null),b=C.useRef(null);C.useEffect(()=>{e&&(d(e),k(JSON.stringify(e,null,2)))},[e]),C.useEffect(()=>{h||k(JSON.stringify(u,null,2))},[u,h]);const g=C.useCallback(async N=>{if(t){m(!0);try{await t(N)}catch(R){Q.error("Failed to save: "+R.message)}finally{m(!1)}}},[t]),y=C.useCallback(N=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{g(N)},800)},[g]),j=C.useCallback((N,R,I=!1)=>{d(O=>{const B={...O,[N]:R};return(R===""||R===null||R===void 0)&&delete B[N],I?g(B):y(B),B})},[g,y]),E=C.useCallback(async N=>{const R={...u,permissions:N};d(R),await g(R)},[u,g]),P=N=>{k(N);try{JSON.parse(N),v(null)}catch(R){v(R.message)}},T=async()=>{if(_){Q.error("Fix JSON errors before saving");return}try{const N=JSON.parse(w);d(N),await g(N),Q.success("Settings applied")}catch{Q.error("Invalid JSON")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:r.jsx(Pn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Settings"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure Claude Code behavior globally"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(rt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800",children:[r.jsx(br,{className:"w-3 h-3 mr-1 animate-spin"}),"Saving..."]}),r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"outline",size:"sm",onClick:()=>x(!h),children:h?r.jsx(Gp,{className:"w-4 h-4"}):r.jsx(AM,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:h?"Show UI":"Show JSON"})]})})]})]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Settings file: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded text-xs",children:s})]}),n&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(br,{className:"w-6 h-6 animate-spin text-gray-400"})}),!n&&h&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Wt,{children:"Raw JSON"}),r.jsxs("div",{className:"flex items-center gap-2",children:[_&&r.jsx(rt,{variant:"destructive",className:"text-xs",children:_}),r.jsxs(oe,{size:"sm",onClick:T,disabled:f||!!_,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[r.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Apply JSON"]})]})]}),r.jsx(vt,{value:w,onChange:N=>P(N.target.value),className:Ee("font-mono text-sm min-h-[400px]",_&&"border-red-300 focus:border-red-500")})]}),!n&&!h&&r.jsxs(Td,{value:l,onValueChange:c,children:[r.jsxs(Il,{className:"grid w-full grid-cols-4",children:[r.jsxs(Hn,{value:"permissions",className:"flex items-center gap-2",children:[r.jsx(cs,{className:"w-4 h-4"}),"Permissions"]}),r.jsxs(Hn,{value:"model",className:"flex items-center gap-2",children:[r.jsx(Nl,{className:"w-4 h-4"}),"Model"]}),r.jsxs(Hn,{value:"behavior",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"w-4 h-4"}),"Behavior"]}),r.jsxs(Hn,{value:"advanced",className:"flex items-center gap-2",children:[r.jsx(It,{className:"w-4 h-4"}),"Advanced"]})]}),r.jsx(ws,{value:"permissions",className:"pt-4",children:r.jsx(YF,{permissions:u.permissions,onSave:E,loading:!1,mcpServers:o})}),r.jsx(ws,{value:"model",className:"space-y-6 pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Wt,{className:"text-base font-medium",children:"Default Model"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Select the default model for Claude Code sessions"}),r.jsx("div",{className:"grid gap-3",children:XF.map(N=>r.jsx("button",{onClick:()=>j("model",N.id,!0),className:Ee("w-full p-4 rounded-lg border text-left transition-all",u.model===N.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/50":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:N.name}),N.recommended&&r.jsx(rt,{variant:"secondary",className:"text-xs",children:"Recommended"}),r.jsx(rt,{variant:"outline",className:Ee("text-xs",N.tier==="opus"&&"border-purple-300 text-purple-700",N.tier==="sonnet"&&"border-blue-300 text-blue-700",N.tier==="haiku"&&"border-green-300 text-green-700"),children:N.tier})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:N.description})]}),u.model===N.id&&r.jsx(Jt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})]})},N.id))})]}),r.jsxs("div",{children:[r.jsx(Wt,{children:"Custom Model ID"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:"Override with a specific model ID (for AWS Bedrock, etc.)"}),r.jsx(lt,{value:u.model||"",onChange:N=>j("model",N.target.value),placeholder:"claude-sonnet-4-20250514",className:"font-mono"})]})]})}),r.jsx(ws,{value:"behavior",className:"space-y-6 pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(Wt,{children:"Auto-accept Edits"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Automatically accept file edits without confirmation"})]}),r.jsx(mt,{checked:u.autoAcceptEdits??!1,onCheckedChange:N=>j("autoAcceptEdits",N,!0)})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(Wt,{children:"Verbose Output"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Show detailed output for operations"})]}),r.jsx(mt,{checked:u.verbose??!1,onCheckedChange:N=>j("verbose",N,!0)})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx(Wt,{children:"Enable MCP Servers"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Allow Claude Code to use MCP server connections"})]}),r.jsx(mt,{checked:u.enableMcp??!0,onCheckedChange:N=>j("enableMcp",N,!0)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{children:"API Base URL"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Custom API endpoint (for proxies or enterprise deployments)"}),r.jsx(lt,{value:u.apiBaseUrl||"",onChange:N=>j("apiBaseUrl",N.target.value),placeholder:"https://api.anthropic.com",className:"font-mono"})]})]})}),r.jsxs(ws,{value:"advanced",className:"space-y-6 pt-4",children:[r.jsxs(Ho,{children:[r.jsx(nd,{className:"w-4 h-4"}),r.jsx(Wo,{children:"Advanced settings for power users. Incorrect values may cause Claude Code to malfunction."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Wt,{className:"text-base font-medium",children:"Environment Variables"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Configure model-related environment variables"}),r.jsx("div",{className:"space-y-3",children:JF.map(N=>{var R;return r.jsxs("div",{className:"space-y-1",children:[r.jsx(Wt,{className:"text-sm",children:N.label}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:N.description}),r.jsx(lt,{value:((R=u.env)==null?void 0:R[N.key])||"",onChange:I=>{const O={...u.env||{},[N.key]:I.target.value};I.target.value||delete O[N.key],j("env",Object.keys(O).length?O:void 0)},placeholder:N.placeholder,className:"font-mono text-sm"})]},N.key)})})]}),r.jsxs("div",{children:[r.jsx(Wt,{className:"text-base font-medium",children:"Hooks"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Scripts to run before/after tool executions (JSON format)"}),r.jsx(vt,{value:u.hooks?JSON.stringify(u.hooks,null,2):"",onChange:N=>{try{const R=N.target.value?JSON.parse(N.target.value):void 0;j("hooks",R)}catch{}},placeholder:`{
  "preToolExecution": "~/.claude/hooks/pre.sh",
  "postToolExecution": "~/.claude/hooks/post.sh"
}`,className:"font-mono text-sm min-h-[120px]"})]}),r.jsxs("div",{children:[r.jsx(Wt,{className:"text-base font-medium",children:"Custom Settings"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Add any additional settings as JSON key-value pairs"}),r.jsx(vt,{value:(()=>{const N=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"],R=Object.keys(u).filter(I=>!N.includes(I)).reduce((I,O)=>({...I,[O]:u[O]}),{});return Object.keys(R).length?JSON.stringify(R,null,2):""})(),onChange:N=>{try{const R=N.target.value?JSON.parse(N.target.value):{},O=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"].reduce((B,$)=>(u[$]!==void 0&&(B[$]=u[$]),B),{});d({...O,...R}),setHasChanges(!0)}catch{}},placeholder:`{
  "customKey": "customValue"
}`,className:"font-mono text-sm min-h-[100px]"})]})]})]})]})]})}const QF=[{id:"Default",name:"Default"},{id:"GitHub",name:"GitHub"},{id:"Monokai",name:"Monokai"},{id:"SolarizedDark",name:"Solarized Dark"},{id:"SolarizedLight",name:"Solarized Light"}],ZF=[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Most capable"},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"Fast and efficient"},{id:"gemini-2.0-pro",name:"Gemini 2.0 Pro",description:"Previous generation"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Previous generation fast"}];function Fj({settings:e,onSave:t,loading:n,settingsPath:s}){var T,N,R,I;const[o,u]=C.useState(e||{}),[d,l]=C.useState(!1),[c,f]=C.useState("rich"),[m,h]=C.useState(JSON.stringify(e||{},null,2)),[x,w]=C.useState({open:!1,name:"",json:""}),[k,_]=C.useState({}),v=async()=>{l(!0);try{if(c==="json")try{const O=JSON.parse(m);await t(O),u(O)}catch{Q.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));Q.success("Settings saved")}finally{l(!1)}},b=(O,B,$)=>{u(Y=>({...Y,[O]:{...Y[O],[B]:$}}))},g=(O,B,$=!1)=>{var Y;return((Y=o==null?void 0:o[O])==null?void 0:Y[B])??$},y=o.mcpServers||{},j=()=>{const{name:O,json:B}=x;if(!O.trim()){Q.error("Please enter a name for the MCP");return}let $;try{$=JSON.parse(B)}catch{Q.error("Invalid JSON configuration");return}if(!$.command){Q.error('MCP config must have a "command" field');return}u(Y=>({...Y,mcpServers:{...Y.mcpServers,[O.trim()]:$}})),w({open:!1,name:"",json:""}),Q.success(`Added MCP: ${O}`)},E=O=>{u(B=>{const{[O]:$,...Y}=B.mcpServers||{};return{...B,mcpServers:Y}}),Q.success(`Removed MCP: ${O}`)},P=O=>{_(B=>({...B,[O]:!B[O]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:r.jsx(It,{className:"w-5 h-5 text-blue-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Gemini CLI Settings",r.jsxs(rt,{variant:"outline",className:"text-xs font-normal text-blue-600 border-blue-300 dark:border-blue-700",children:[r.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Google"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:s})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${c==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${c==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),r.jsxs(oe,{onClick:v,disabled:d||n,children:[d?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),c==="json"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(vt,{value:m,onChange:O=>h(O.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(En,{className:"w-4 h-4 text-blue-500"}),"MCP Servers",r.jsx(rt,{variant:"secondary",className:"text-xs",children:Object.keys(y).length})]}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>w({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(y).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(y).map(([O,B])=>r.jsxs(Bl,{open:k[O],onOpenChange:()=>P(O),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fl,{className:"flex items-center gap-2 flex-1 text-left",children:[k[O]?r.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(En,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"font-medium text-sm",children:O}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:B.command})]}),r.jsx(oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>E(O),children:r.jsx(mn,{className:"w-4 h-4"})})]}),r.jsx($l,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(B,null,2)})})})]},O))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4 text-blue-500"}),"Model"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Model"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Model used for Gemini CLI sessions"})]}),r.jsxs(xr,{value:g("model","name",""),onValueChange:O=>b("model","name",O),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{placeholder:"Select model"})}),r.jsx(hr,{children:ZF.map(O=>r.jsx(kt,{value:O.id,children:r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{children:O.name})})},O.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preview Features"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable access to experimental models and features"})]}),r.jsx(mt,{checked:g("general","previewFeatures",!1),onCheckedChange:O=>b("general","previewFeatures",O)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(v5,{className:"w-4 h-4 text-blue-500"}),"Appearance"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Theme"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Color theme for the CLI interface"})]}),r.jsxs(xr,{value:g("ui","theme","Default"),onValueChange:O=>b("ui","theme",O),children:[r.jsx(dr,{className:"w-40",children:r.jsx(vr,{})}),r.jsx(hr,{children:QF.map(O=>r.jsx(kt,{value:O.id,children:O.name},O.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Output Format"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Format for CLI output"})]}),r.jsxs(xr,{value:g("output","format","text"),onValueChange:O=>b("output","format",O),children:[r.jsx(dr,{className:"w-40",children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"text",children:"Text"}),r.jsx(kt,{value:"json",children:"JSON"})]})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(AC,{className:"w-4 h-4 text-blue-500"}),"Display Options"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Dynamic Window Title"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Update title with status icons (Ready, Working, etc.)"})]}),r.jsx(mt,{checked:g("ui","dynamicWindowTitle",!0),onCheckedChange:O=>b("ui","dynamicWindowTitle",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Line Numbers"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Display line numbers in chat"})]}),r.jsx(mt,{checked:g("ui","showLineNumbers",!0),onCheckedChange:O=>b("ui","showLineNumbers",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Citations"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Display citations for generated text"})]}),r.jsx(mt,{checked:g("ui","showCitations",!1),onCheckedChange:O=>b("ui","showCitations",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Context Summary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide GEMINI.md and MCP servers above input"})]}),r.jsx(mt,{checked:g("ui","hideContextSummary",!1),onCheckedChange:O=>b("ui","hideContextSummary",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Footer"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove footer entirely from the UI"})]}),r.jsx(mt,{checked:g("ui","hideFooter",!1),onCheckedChange:O=>b("ui","hideFooter",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Screen Reader Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Render output in plain-text for accessibility"})]}),r.jsx(mt,{checked:((N=(T=o==null?void 0:o.ui)==null?void 0:T.accessibility)==null?void 0:N.screenReader)??!1,onCheckedChange:O=>u(B=>{var $;return{...B,ui:{...B.ui,accessibility:{...($=B.ui)==null?void 0:$.accessibility,screenReader:O}}}})})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Pn,{className:"w-4 h-4 text-blue-500"}),"General"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Vim Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable Vim keybindings in the prompt editor"})]}),r.jsx(mt,{checked:g("general","vimMode",!1),onCheckedChange:O=>b("general","vimMode",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto Update"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow automatic updates to Gemini CLI"})]}),r.jsx(mt,{checked:g("general","enableAutoUpdate",!0),onCheckedChange:O=>b("general","enableAutoUpdate",O)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Checkpointing"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable session recovery support"})]}),r.jsx(mt,{checked:((I=(R=o==null?void 0:o.general)==null?void 0:R.checkpointing)==null?void 0:I.enabled)??!1,onCheckedChange:O=>u(B=>{var $;return{...B,general:{...B.general,checkpointing:{...($=B.general)==null?void 0:$.checkpointing,enabled:O}}}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Respect .gitignore"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Exclude files matching .gitignore patterns"})]}),r.jsx(mt,{checked:g("general","respectGitignore",!0),onCheckedChange:O=>b("general","respectGitignore",O)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(cs,{className:"w-4 h-4 text-blue-500"}),"Privacy"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Statistics"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow collection of anonymous usage data"})]}),r.jsx(mt,{checked:g("privacy","usageStatisticsEnabled",!0),onCheckedChange:O=>b("privacy","usageStatisticsEnabled",O)})]})})]})]}),r.jsx(Nt,{open:x.open,onOpenChange:O=>w({...x,open:O}),children:r.jsxs(_t,{className:"bg-card",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add MCP Server"}),r.jsx(sr,{children:"Add a new MCP server to Gemini CLI"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(lt,{value:x.name,onChange:O=>w({...x,name:O.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(vt,{value:x.json,onChange:O=>w({...x,json:O.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>w({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(oe,{onClick:j,children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function e8({content:e,parsed:t,onSave:n,filePath:s}){const o=async l=>{const c=JSON.stringify(l,null,2);n(c)},u=(s==null?void 0:s.includes(".gemini"))||(s==null?void 0:s.includes("/.gemini/")),d=(s==null?void 0:s.includes(".agent"))||(s==null?void 0:s.includes("/antigravity/"));return u&&!d?r.jsx("div",{className:"h-full overflow-auto p-4",children:r.jsx(Fj,{settings:t||{},onSave:o,loading:!1,settingsPath:s||"~/.gemini/settings.json"})}):r.jsx("div",{className:"h-full overflow-auto p-4",children:r.jsx(Bj,{settings:t||{},onSave:o,loading:!1,settingsPath:s||"~/.claude/settings.json"})})}function t8({open:e,onClose:t,item:n,intermediatePaths:s,onMove:o}){const[u,d]=C.useState("copy"),[l,c]=C.useState(null),[f,m]=C.useState(""),[h,x]=C.useState(!1),w=()=>{const k=f.trim()||l;if(!k){Q.error("Please select or enter a target path");return}o(n.path,k,u,h)};return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-md",children:[r.jsxs(Ct,{children:[r.jsxs(St,{children:[u==="copy"?"Copy":"Move"," ",n==null?void 0:n.name]}),r.jsx(sr,{children:"Select a destination for this file"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:u==="copy"?"default":"outline",size:"sm",onClick:()=>d("copy"),children:[r.jsx(al,{className:"w-4 h-4 mr-1"})," Copy"]}),r.jsxs(oe,{variant:u==="move"?"default":"outline",size:"sm",onClick:()=>d("move"),children:[r.jsx(TC,{className:"w-4 h-4 mr-1"})," Move"]})]}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s==null?void 0:s.map(k=>r.jsxs("div",{className:Ee("flex items-center justify-between p-2 rounded border cursor-pointer",l===k.dir?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-slate-800"),onClick:()=>{c(k.dir),m("")},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k.isHome?r.jsx(qp,{className:"w-4 h-4"}):r.jsx(jr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:k.label})]}),k.hasClaudeFolder?r.jsx(rt,{variant:"secondary",className:"text-xs",children:"exists"}):r.jsx(rt,{variant:"outline",className:"text-xs",children:"create"})]},k.dir))}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Or enter custom path:"}),r.jsx(lt,{className:"mt-1 font-mono text-sm",placeholder:"/path/to/directory",value:f,onChange:k=>{m(k.target.value),c(null)}})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mt,{checked:h,onCheckedChange:x}),r.jsx("span",{className:"text-sm",children:"Merge if target exists"})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(oe,{onClick:w,children:u==="copy"?"Copy":"Move"})]})]})})}function r8({open:e,onClose:t,item:n,onRename:s}){const[o,u]=C.useState("");C.useEffect(()=>{n!=null&&n.name&&u(n.name.replace(/\.md$/,""))},[n,e]);const d=()=>{if(!o.trim()){Q.error("Please enter a name");return}s(n,o.trim())};return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"sm:max-w-md",children:[r.jsx(Ct,{children:r.jsxs(St,{children:["Rename ",n==null?void 0:n.type]})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"New name"}),r.jsx(lt,{className:"mt-1",placeholder:"new-name",value:o,onChange:l=>u(l.target.value),onKeyDown:l=>l.key==="Enter"&&d()}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:".md extension will be added automatically"})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(oe,{onClick:d,children:"Rename"})]})]})})}function n8({open:e,onClose:t,dir:n,type:s,onCreate:o}){const[u,d]=C.useState("");C.useEffect(()=>{d("")},[e]);const l=()=>{if((s==="command"||s==="rule"||s==="workflow"||s==="memory")&&!u.trim()){Q.error("Please enter a name");return}const m=s==="command"||s==="rule"||s==="workflow"||s==="memory"?u.endsWith(".md")?u:`${u}.md`:u;o(n,m,s)},c=pl[s]||{},f=s==="command"||s==="rule"||s==="workflow"||s==="memory";return r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"max-w-sm",children:[r.jsx(Ct,{children:r.jsxs(St,{children:["Create ",c.label||s]})}),f&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(lt,{className:"mt-1",placeholder:s==="command"?"my-command.md":s==="workflow"?"my-workflow.md":s==="memory"?"context.md":"my-rule.md",value:u,onChange:m=>d(m.target.value),onKeyDown:m=>m.key==="Enter"&&l()})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(oe,{onClick:l,children:"Create"})]})]})})}function s8({project:e,onRefresh:t}){var je,De,Je;const[n,s]=C.useState([]),[o,u]=C.useState([]),[d,l]=C.useState(null),[c,f]=C.useState(null),[m,h]=C.useState(null),[x,w]=C.useState(()=>{try{return localStorage.getItem("claude-config-expanded-folder")||null}catch{return null}}),[k,_]=C.useState({}),[v,b]=C.useState(!0),[g,y]=C.useState({open:!1,item:null}),[j,E]=C.useState({open:!1,dir:null,type:null}),[P,T]=C.useState({open:!1,item:null}),[N,R]=C.useState(!1),[I,O]=C.useState({open:!1,projectDir:null}),[B,$]=C.useState({open:!1,dir:null,name:null}),[Y,z]=C.useState({open:!1,dir:null}),[K,G]=C.useState({x:0,y:0,item:null}),[U,L]=C.useState(["claude"]),M=C.useCallback(async()=>{var _e;try{b(!0);const[ye,Oe,xt,Rt]=await Promise.all([ve.getClaudeFolders(),ve.getIntermediatePaths(),ve.getRegistry(),ve.getConfig()]);if(s(ye),u(Oe),l(xt),L(((_e=Rt.config)==null?void 0:_e.enabledTools)||["claude"]),ye.length>0){const ge=localStorage.getItem("claude-config-expanded-folder");if(!ge||!ye.find(Ce=>Ce.dir===ge)){const Ce=ye.filter(Ye=>!Ye.isSubproject),ze=Ce.length>1?Ce[Ce.length-1]:Ce[0],Xe=(ze==null?void 0:ze.dir)||ye[0].dir;w(Xe);try{localStorage.setItem("claude-config-expanded-folder",Xe)}catch{}}}}catch(ye){Q.error("Failed to load data: "+ye.message)}finally{b(!1)}},[]);C.useEffect(()=>{M(),f(null),h(null)},[M,e==null?void 0:e.dir]);const F=_e=>{const ye=x===_e?null:_e;w(ye);try{ye?localStorage.setItem("claude-config-expanded-folder",ye):localStorage.removeItem("claude-config-expanded-folder")}catch{}},q=async _e=>{f(_e);try{const ye=await ve.getClaudeFile(_e.path);h(ye)}catch(ye){Q.error("Failed to load file: "+ye.message)}},H=async _e=>{if(c)try{await ve.saveClaudeFile(c.path,_e),Q.success("Saved");const ye=await ve.getClaudeFile(c.path);h(ye),M()}catch(ye){Q.error("Failed to save: "+ye.message)}},ae=_e=>{_(ye=>({...ye,[_e]:!ye[_e]}))},fe=(_e,ye)=>{_e.preventDefault(),G({x:_e.clientX,y:_e.clientY,item:ye})},me=async(_e,ye)=>{ye==="command"||ye==="rule"||ye==="workflow"||ye==="memory"?E({open:!0,dir:_e,type:ye}):ye==="claudemd"?z({open:!0,dir:_e}):X(_e,ye==="mcps"?"mcps.json":ye==="settings"?"settings.json":ye==="env"?".env":"CLAUDE.md",ye)},X=async(_e,ye,Oe)=>{try{const xt=await ve.createClaudeFile(_e,ye,Oe);if(Q.success("Created"),E({open:!1,dir:null,type:null}),await M(),xt.path){const Rt={path:xt.path,name:ye,type:["command","rule","workflow","env","mcps","settings","claudemd","memory"].includes(Oe)?Oe:"file"};f(Rt),h({content:xt.content||"",parsed:null})}}catch(xt){Q.error("Failed to create: "+xt.message)}},W=async(_e,ye)=>{try{const Oe=await ve.renameClaudeFile(_e.path,ye);Oe.success?(Q.success("Renamed"),T({open:!1,item:null}),await M(),f({..._e,path:Oe.newPath,name:ye.endsWith(".md")?ye:`${ye}.md`})):Q.error(Oe.error||"Failed to rename")}catch(Oe){Q.error("Failed to rename: "+Oe.message)}},le=async _e=>{if(confirm(`Delete ${_e.name}?`))try{await ve.deleteClaudeFile(_e.path),Q.success("Deleted"),(c==null?void 0:c.path)===_e.path&&(f(null),h(null)),M()}catch(ye){Q.error("Failed to delete: "+ye.message)}},te=async(_e,ye,Oe,xt)=>{try{await ve.moveClaudeItem(_e,ye,Oe,xt),Q.success(Oe==="copy"?"Copied":"Moved"),y({open:!1,item:null}),M()}catch(Rt){Q.error("Failed: "+Rt.message)}},J=async _e=>{if(_e)try{const ye=await ve.addManualSubproject(I.projectDir,_e);ye.success?(Q.success(`Added sub-project: ${_e.split("/").pop()}`),O({open:!1,projectDir:null}),M()):Q.error(ye.error||"Failed to add sub-project")}catch(ye){Q.error("Failed to add sub-project: "+ye.message)}},se=async _e=>{const ye=n.find(Oe=>!Oe.isSubproject&&!Oe.isHome);if(ye)try{const Oe=await ve.removeManualSubproject(ye.dir,_e);Oe.success?(Q.success("Removed sub-project"),M()):Q.error(Oe.error||"Failed to remove sub-project")}catch(Oe){Q.error("Failed to remove sub-project: "+Oe.message)}},we=async _e=>{const ye=n.find(Oe=>!Oe.isSubproject&&!Oe.isHome);if(ye)try{const Oe=await ve.hideSubproject(ye.dir,_e);Oe.success?(Q.success("Sub-project hidden"),M()):Q.error(Oe.error||"Failed to hide sub-project")}catch(Oe){Q.error("Failed to hide sub-project: "+Oe.message)}},Le=()=>{if(!c||!m)return r.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-slate-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mm,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Select a file to edit"})]})});const _e=c.path?c.path.replace(/\/.claude\/mcps\.json$/,""):null;switch(c.type){case"mcps":return r.jsx(_F,{content:m.content,parsed:m.parsed,onSave:H,registry:d,configDir:_e});case"settings":return r.jsx(e8,{content:m.content,parsed:m.parsed,onSave:H,filePath:c==null?void 0:c.path});case"command":case"rule":case"workflow":case"claudemd":case"env":return r.jsx(Yb,{content:m.content,onSave:H,fileType:c.type});default:return r.jsx(Yb,{content:m.content,onSave:H,fileType:"claudemd"})}};if(v)return r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 animate-spin text-gray-400"})});const Ke=n.some(_e=>_e.isSubproject),ne=(_e,ye)=>ye===0,ue=(_e,ye)=>{const Oe=n.findIndex(xt=>xt.isSubproject);return!_e.isSubproject&&(Oe>=0?ye===Oe-1:ye===n.length-1)};return r.jsxs("div",{className:"h-full flex",children:[r.jsxs("div",{className:"w-76 border-r flex flex-col bg-white dark:bg-slate-950",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[r.jsx("h2",{className:"font-semibold text-sm",children:"Project Config"}),r.jsxs("div",{className:"flex gap-1",children:[U.includes("claude")&&U.includes("antigravity")&&r.jsxs(oe,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>R(!0),title:"Sync rules between tools",children:[r.jsx(iM,{className:"w-4 h-4 mr-1"}),"Sync"]}),r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:M,children:r.jsx(br,{className:"w-4 h-4"})})]})]}),r.jsx(An,{className:"flex-1",children:n.map((_e,ye)=>r.jsx(XB,{folder:_e,isExpanded:x===_e.dir,isHome:ne(_e,ye),isProject:ue(_e,ye),isSubproject:_e.isSubproject,depth:_e.depth||0,onToggle:()=>F(_e.dir),onCreateFile:me,onInstallPlugin:(Oe,xt)=>$({open:!0,dir:Oe,name:xt}),onSelectItem:q,selectedPath:c==null?void 0:c.path,onContextMenu:fe,expandedFolders:k,onToggleFolder:ae,hasSubprojects:Ke,onAddSubproject:Oe=>O({open:!0,projectDir:Oe}),onRemoveSubproject:se,onHideSubproject:we},_e.dir))})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-slate-900",children:[c&&r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-white dark:bg-slate-950",children:[r.jsx("div",{className:"flex items-center gap-2 text-sm",children:r.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-mono truncate max-w-md",children:c.path})}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>y({open:!0,item:c}),children:r.jsx(al,{className:"w-4 h-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>le(c),children:r.jsx(mn,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1",children:Le()})]}),K.item&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>G({x:0,y:0,item:null})}),r.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-950 rounded-md shadow-lg border py-1 min-w-[160px]",style:{left:K.x,top:K.y},children:[(((je=K.item)==null?void 0:je.type)==="rule"||((De=K.item)==null?void 0:De.type)==="command"||((Je=K.item)==null?void 0:Je.type)==="workflow")&&r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{T({open:!0,item:K.item}),G({x:0,y:0,item:null})},children:[r.jsx(MC,{className:"w-4 h-4 mr-2"})," Rename"]}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{y({open:!0,item:K.item}),G({x:0,y:0,item:null})},children:[r.jsx(al,{className:"w-4 h-4 mr-2"})," Copy to..."]}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{y({open:!0,item:K.item}),G({x:0,y:0,item:null})},children:[r.jsx(TC,{className:"w-4 h-4 mr-2"})," Move to..."]}),r.jsx("div",{className:"border-t my-1"}),r.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center text-red-600",onClick:()=>{le(K.item),G({x:0,y:0,item:null})},children:[r.jsx(mn,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),r.jsx(t8,{open:g.open,onClose:()=>y({open:!1,item:null}),item:g.item,intermediatePaths:o,onMove:te}),r.jsx(n8,{open:j.open,onClose:()=>E({open:!1,dir:null,type:null}),dir:j.dir,type:j.type,onCreate:X}),r.jsx(r8,{open:P.open,onClose:()=>T({open:!1,item:null}),item:P.item,onRename:W}),r.jsx(l6,{open:N,onOpenChange:R,projectDir:e==null?void 0:e.dir,onSynced:M}),r.jsx(WB,{open:B.open,onOpenChange:_e=>$({...B,open:_e}),projectDir:B.dir,projectName:B.name}),r.jsx(Ng,{open:I.open,onOpenChange:_e=>O({...I,open:_e}),onSelect:J,type:"directory",title:"Add Sub-project",initialPath:I.projectDir||"~"}),r.jsx(cj,{open:Y.open,onOpenChange:_e=>{z({...Y,open:_e}),_e||M()},title:"Initialize CLAUDE.md",description:"Running claude -p /init to generate project-aware CLAUDE.md",cwd:Y.dir,initialCommand:"claude -p /init; exit",autoCloseOnExit:!0,autoCloseDelay:2e3})]})}function i8({projects:e=[],activeProject:t=null,onSwitch:n,onAddClick:s,onManageClick:o,disabled:u=!1}){const d=(t==null?void 0:t.name)||"No Project";return r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsxs(oe,{variant:"outline",className:"gap-2 max-w-[220px] h-9",disabled:u,children:[r.jsx(oi,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),r.jsx("span",{className:"truncate font-medium",children:d}),r.jsx(yr,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),r.jsxs(Es,{align:"start",className:"w-72",children:[r.jsx(ml,{className:"text-xs text-gray-500 font-normal",children:"Projects"}),r.jsx(Hr,{}),e.length===0?r.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 text-center",children:[r.jsx(jr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No projects registered"}),r.jsx("p",{className:"text-xs mt-1",children:"Add a project to get started"})]}):r.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(l=>r.jsxs(Lt,{onClick:()=>!l.isActive&&n(l.id),className:`flex items-start gap-2 py-2 cursor-pointer ${l.isActive?"bg-indigo-50":""}`,disabled:l.isActive,children:[r.jsx("div",{className:"mt-0.5 flex-shrink-0",children:l.isActive?r.jsx(Jt,{className:"w-4 h-4 text-indigo-600"}):l.exists?r.jsx(jr,{className:"w-4 h-4 text-gray-400"}):r.jsx(nd,{className:"w-4 h-4 text-amber-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`truncate font-medium ${l.isActive?"text-indigo-700":""}`,children:l.name}),r.jsx("div",{className:"truncate text-xs text-gray-400 font-mono",children:l.path.replace(/^\/Users\/[^/]+/,"~")}),!l.exists&&r.jsx("div",{className:"text-xs text-amber-600 mt-0.5",children:"Path not found"})]}),l.hasClaudeConfig&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400",title:"Has .claude config"})})]},l.id))}),r.jsx(Hr,{}),r.jsxs(Lt,{onClick:s,className:"gap-2 cursor-pointer",children:[r.jsx(wt,{className:"w-4 h-4"}),"Add Project"]}),e.length>0&&r.jsxs(Lt,{onClick:o,className:"gap-2 cursor-pointer",children:[r.jsx(Dm,{className:"w-4 h-4"}),"Manage Projects"]})]})]})}const tm="claude-config-welcome-seen";function o8({onStartTutorial:e}){const[t,n]=C.useState(!1),[s,o]=C.useState(!0);C.useEffect(()=>{if(!localStorage.getItem(tm)){const c=setTimeout(()=>n(!0),500);return()=>clearTimeout(c)}},[]);const u=()=>{s&&localStorage.setItem(tm,"true"),n(!1)},d=()=>{s&&localStorage.setItem(tm,"true"),n(!1),e==null||e()};return r.jsx(Nt,{open:t,onOpenChange:n,children:r.jsxs(_t,{className:"sm:max-w-lg",children:[r.jsxs(Ct,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx(Pn,{className:"w-6 h-6 text-white"})}),r.jsx(St,{className:"text-2xl",children:"Welcome to Coder Config"})]}),r.jsx(sr,{className:"text-base pt-2",children:"Your control center for Claude Code and AI coding tools."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"We built Coder Config because managing AI coding assistants shouldn't require editing JSON files or memorizing command-line flags. You deserve a visual interface that makes configuration easy."}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 py-2",children:[r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(is,{className:"w-5 h-5 mx-auto mb-2 text-indigo-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"MCP Servers"})]}),r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(cs,{className:"w-5 h-5 mx-auto mb-2 text-green-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Permissions"})]}),r.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[r.jsx(Ut,{className:"w-5 h-5 mx-auto mb-2 text-amber-500"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Rules & Memory"})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Take our guided tutorial to learn the basics, or dive in and explore on your own."}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(Tl,{id:"dont-ask",checked:s,onCheckedChange:o}),r.jsx(Wt,{htmlFor:"dont-ask",className:"text-sm text-muted-foreground cursor-pointer",children:"Don't show this again"})]})]}),r.jsxs(Tt,{className:"flex gap-2 sm:gap-2",children:[r.jsx(oe,{variant:"ghost",onClick:u,children:"Skip for now"}),r.jsxs(oe,{onClick:d,className:"gap-2",children:[r.jsx(Tu,{className:"w-4 h-4"}),"Start Tutorial",r.jsx(Up,{className:"w-4 h-4"})]})]})]})})}const rm="claude-config:claude-init-preference";function $j({open:e,onOpenChange:t,onAdded:n}){const[s,o]=C.useState(""),[u,d]=C.useState(""),[l,c]=C.useState(!1),[f,m]=C.useState(!1),[h,x]=C.useState(!0),[w,k]=C.useState([]),[_,v]=C.useState(null),b=C.useRef(null);C.useEffect(()=>{const E=localStorage.getItem(rm);E==="never"?x(!1):E==="always"&&x(!0)},[]),C.useEffect(()=>{if(e){o(""),d(""),k([]),v(null);const E=localStorage.getItem(rm);x(E!=="never")}},[e]),C.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[w]),C.useEffect(()=>{if(s&&!u){const E=s.split("/").pop();d(E||"")}},[s]);const g=E=>{o(E),c(!1)},y=async()=>{if(!s){Q.error("Please select a project path");return}m(!0),k([]),v(null);try{if(h){v("running");const P=await new Promise(T=>{const N=new EventSource(`/api/projects/init-stream?path=${encodeURIComponent(s)}`);N.onmessage=R=>{const I=JSON.parse(R.data);I.type==="output"?k(O=>[...O,I.text]):I.type==="status"?k(O=>[...O,I.message+`
`]):I.type==="skip"?k(O=>[...O,I.message+`
`]):I.type==="done"?(N.close(),v(I.success?"success":"error"),T(I.success)):I.type==="error"&&(k(O=>[...O,`Error: ${I.message}
`]),N.close(),v("error"),T(!1))},N.onerror=()=>{N.close(),k(R=>[...R,`Connection error - is Claude Code installed?
`]),v("error"),T(!1)}});await new Promise(T=>setTimeout(T,500))}const E=await ve.addProject(s,u||void 0,!1);E.error?Q.error(E.error):(Q.success(`Added project: ${E.project.name}`),n==null||n(E.project),t(!1))}catch(E){Q.error("Failed to add project: "+E.message)}finally{m(!1)}},j=E=>{localStorage.setItem(rm,E),E==="never"?x(!1):E==="always"&&x(!0),Q.success(`Preference saved: ${E==="always"?"Always":E==="never"?"Never":"Ask each time"} run claude /init`)};return r.jsxs(r.Fragment,{children:[r.jsx(Nt,{open:e,onOpenChange:t,children:r.jsxs(_t,{className:"sm:max-w-md",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(oi,{className:"w-5 h-5 text-indigo-500"}),"Add Project"]}),r.jsx(sr,{children:"Register a project folder to quickly switch between projects in the UI."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{htmlFor:"path",children:"Project Path"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(lt,{id:"path",value:s,onChange:E=>o(E.target.value),placeholder:"/path/to/project",className:"font-mono text-sm flex-1"}),r.jsx(oe,{variant:"outline",size:"icon",onClick:()=>c(!0),title:"Browse",children:r.jsx(oi,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wt,{htmlFor:"name",children:"Display Name"}),r.jsx(lt,{id:"name",value:u,onChange:E=>d(E.target.value),placeholder:"Auto-filled from folder name"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Optional. Leave empty to use folder name."})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Tl,{id:"claudeInit",checked:h,onCheckedChange:x,className:"mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(Wt,{htmlFor:"claudeInit",className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Ut,{className:"w-4 h-4 text-orange-500"}),"Initialize with Claude Code"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Run ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"claude /init"})," to create CLAUDE.md"]})]})]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx(oe,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>j("always"),children:"Always"}),r.jsx(oe,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>j("never"),children:"Never"}),r.jsx(oe,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>j("ask"),children:"Ask each time"})]})]})]}),_&&r.jsxs("div",{className:"border rounded-lg overflow-hidden bg-slate-950",children:[r.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-900 border-b border-slate-800",children:_==="running"?r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-4 h-4 animate-spin text-blue-400"}),r.jsx("span",{className:"text-sm text-slate-300",children:"Running claude -p /init..."})]}):_==="success"?r.jsxs(r.Fragment,{children:[r.jsx(ol,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-sm text-green-400",children:"Initialized successfully"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Au,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-sm text-red-400",children:"Initialization failed"})]})}),r.jsxs("div",{ref:b,className:"p-3 font-mono text-xs text-slate-300 max-h-48 overflow-y-auto whitespace-pre-wrap",children:[w.map((E,P)=>r.jsx("span",{children:E},P)),_==="running"&&r.jsx("span",{className:"animate-pulse",children:"_"})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>t(!1),disabled:_==="running",children:"Cancel"}),r.jsx(oe,{onClick:y,disabled:f||!s,children:f?r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),_==="running"?"Initializing...":"Adding..."]}):"Add Project"})]})]})}),r.jsx(Ng,{open:l,onOpenChange:c,onSelect:g,type:"directory",initialPath:"~",title:"Select Project Folder"})]})}const zj=C.createContext({theme:"auto",setTheme:()=>{},resolvedTheme:"light"});function a8({children:e}){const[t,n]=C.useState(()=>{try{return localStorage.getItem("claude-config-theme")||"auto"}catch{return"auto"}}),[s,o]=C.useState("light");C.useEffect(()=>{const d=window.document.documentElement,l=m=>{let h;m==="auto"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=m,o(h),h==="dark"?d.classList.add("dark"):d.classList.remove("dark")};l(t);const c=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{t==="auto"&&l("auto")};return c.addEventListener("change",f),()=>c.removeEventListener("change",f)},[t]);const u=d=>{n(d);try{localStorage.setItem("claude-config-theme",d)}catch{}};return r.jsx(zj.Provider,{value:{theme:t,setTheme:u,resolvedTheme:s},children:e})}function l8(){return C.useContext(zj)}function c8(){const{theme:e,setTheme:t,resolvedTheme:n}=l8(),s=n==="dark"?ab:ub;return r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsxs(oe,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[r.jsx(s,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),r.jsxs(Es,{align:"end",children:[r.jsxs(Lt,{onClick:()=>t("light"),className:e==="light"?"bg-accent":"",children:[r.jsx(ub,{className:"mr-2 h-4 w-4"}),"Light"]}),r.jsxs(Lt,{onClick:()=>t("dark"),className:e==="dark"?"bg-accent":"",children:[r.jsx(ab,{className:"mr-2 h-4 w-4"}),"Dark"]}),r.jsxs(Lt,{onClick:()=>t("auto"),className:e==="auto"?"bg-accent":"",children:[r.jsx(AC,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var u8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],d8=u8.reduce((e,t)=>{const n=sd(`Primitive.${t}`),s=C.forwardRef((o,u)=>{const{asChild:d,...l}=o,c=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),h8="Separator",Zb="horizontal",f8=["horizontal","vertical"],Hj=C.forwardRef((e,t)=>{const{decorative:n,orientation:s=Zb,...o}=e,u=m8(s)?s:Zb,l=n?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return r.jsx(d8.div,{"data-orientation":u,...l,...o,ref:t})});Hj.displayName=h8;function m8(e){return f8.includes(e)}var Wj=Hj;const Vj=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},o)=>r.jsx(Wj,{ref:o,decorative:n,orientation:t,className:Ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Vj.displayName=Wj.displayName;function p8(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const g8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v8={};function ew(e,t){return(v8.jsx?x8:g8).test(e)}const y8=/[ \t\n\f\r]/g;function b8(e){return typeof e=="object"?e.type==="text"?tw(e.value):!1:tw(e)}function tw(e){return e.replace(y8,"")===""}class zl{constructor(t,n,s){this.normal=n,this.property=t,s&&(this.space=s)}}zl.prototype.normal={};zl.prototype.property={};zl.prototype.space=void 0;function Uj(e,t){const n={},s={};for(const o of e)Object.assign(n,o.property),Object.assign(s,o.normal);return new zl(n,s,t)}function Zm(e){return e.toLowerCase()}class tn{constructor(t,n){this.attribute=n,this.property=t}}tn.prototype.attribute="";tn.prototype.booleanish=!1;tn.prototype.boolean=!1;tn.prototype.commaOrSpaceSeparated=!1;tn.prototype.commaSeparated=!1;tn.prototype.defined=!1;tn.prototype.mustUseProperty=!1;tn.prototype.number=!1;tn.prototype.overloadedBoolean=!1;tn.prototype.property="";tn.prototype.spaceSeparated=!1;tn.prototype.space=void 0;let w8=0;const dt=qi(),ar=qi(),ep=qi(),Ne=qi(),Dt=qi(),Ro=qi(),ln=qi();function qi(){return 2**++w8}const tp=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:ar,commaOrSpaceSeparated:ln,commaSeparated:Ro,number:Ne,overloadedBoolean:ep,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),nm=Object.keys(tp);class zg extends tn{constructor(t,n,s,o){let u=-1;if(super(t,n),rw(this,"space",o),typeof s=="number")for(;++u<nm.length;){const d=nm[u];rw(this,nm[u],(s&tp[d])===tp[d])}}}zg.prototype.defined=!0;function rw(e,t,n){n&&(e[t]=n)}function Qo(e){const t={},n={};for(const[s,o]of Object.entries(e.properties)){const u=new zg(s,e.transform(e.attributes||{},s),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(u.mustUseProperty=!0),t[s]=u,n[Zm(s)]=s,n[Zm(u.attribute)]=s}return new zl(t,n,e.space)}const Gj=Qo({properties:{ariaActiveDescendant:null,ariaAtomic:ar,ariaAutoComplete:null,ariaBusy:ar,ariaChecked:ar,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:ar,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:ar,ariaFlowTo:Dt,ariaGrabbed:ar,ariaHasPopup:null,ariaHidden:ar,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:Ne,ariaLive:null,ariaModal:ar,ariaMultiLine:ar,ariaMultiSelectable:ar,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:ar,ariaReadOnly:ar,ariaRelevant:null,ariaRequired:ar,ariaRoleDescription:Dt,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:ar,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Kj(e,t){return t in e?e[t]:t}function qj(e,t){return Kj(e,t.toLowerCase())}const _8=Qo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ro,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:Dt,autoFocus:dt,autoPlay:dt,blocking:Dt,capture:null,charSet:null,checked:dt,cite:null,className:Dt,cols:Ne,colSpan:null,content:null,contentEditable:ar,controls:dt,controlsList:Dt,coords:Ne|Ro,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:ep,draggable:ar,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:Dt,height:Ne,hidden:ep,high:Ne,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:dt,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:Ne,pattern:null,ping:Dt,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:Dt,required:dt,reversed:dt,rows:Ne,rowSpan:Ne,sandbox:Dt,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:ar,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:ar,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:ar,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:qj}),C8=Qo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ln,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ro,g2:Ro,glyphName:Ro,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:ln,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ln,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ln,rev:ln,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ln,requiredFeatures:ln,requiredFonts:ln,requiredFormats:ln,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:ln,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ln,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ln,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Kj}),Yj=Qo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Xj=Qo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qj}),Jj=Qo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),S8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},k8=/[A-Z]/g,nw=/-[a-z]/g,j8=/^data[-\w.:]+$/i;function N8(e,t){const n=Zm(t);let s=t,o=tn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&j8.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(nw,P8);s="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!nw.test(u)){let d=u.replace(k8,E8);d.charAt(0)!=="-"&&(d="-"+d),t="data"+d}}o=zg}return new o(s,t)}function E8(e){return"-"+e.toLowerCase()}function P8(e){return e.charAt(1).toUpperCase()}const A8=Uj([Gj,_8,Yj,Xj,Jj],"html"),Hg=Uj([Gj,C8,Yj,Xj,Jj],"svg");function T8(e){return e.join(" ").trim()}var _o={},sm,sw;function R8(){if(sw)return sm;sw=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,f="/",m="*",h="",x="comment",w="declaration";function k(v,b){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];b=b||{};var g=1,y=1;function j(Y){var z=Y.match(t);z&&(g+=z.length);var K=Y.lastIndexOf(c);y=~K?Y.length-K:y+Y.length}function E(){var Y={line:g,column:y};return function(z){return z.position=new P(Y),R(),z}}function P(Y){this.start=Y,this.end={line:g,column:y},this.source=b.source}P.prototype.content=v;function T(Y){var z=new Error(b.source+":"+g+":"+y+": "+Y);if(z.reason=Y,z.filename=b.source,z.line=g,z.column=y,z.source=v,!b.silent)throw z}function N(Y){var z=Y.exec(v);if(z){var K=z[0];return j(K),v=v.slice(K.length),z}}function R(){N(n)}function I(Y){var z;for(Y=Y||[];z=O();)z!==!1&&Y.push(z);return Y}function O(){var Y=E();if(!(f!=v.charAt(0)||m!=v.charAt(1))){for(var z=2;h!=v.charAt(z)&&(m!=v.charAt(z)||f!=v.charAt(z+1));)++z;if(z+=2,h===v.charAt(z-1))return T("End of comment missing");var K=v.slice(2,z-2);return y+=2,j(K),v=v.slice(z),y+=2,Y({type:x,comment:K})}}function B(){var Y=E(),z=N(s);if(z){if(O(),!N(o))return T("property missing ':'");var K=N(u),G=Y({type:w,property:_(z[0].replace(e,h)),value:K?_(K[0].replace(e,h)):h});return N(d),G}}function $(){var Y=[];I(Y);for(var z;z=B();)z!==!1&&(Y.push(z),I(Y));return Y}return R(),$()}function _(v){return v?v.replace(l,h):h}return sm=k,sm}var iw;function M8(){if(iw)return _o;iw=1;var e=_o&&_o.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=n;const t=e(R8());function n(s,o){let u=null;if(!s||typeof s!="string")return u;const d=(0,t.default)(s),l=typeof o=="function";return d.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:m}=c;l?o(f,m,c):m&&(u=u||{},u[f]=m)}),u}return _o}var Oa={},ow;function D8(){if(ow)return Oa;ow=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(f){return!f||n.test(f)||e.test(f)},d=function(f,m){return m.toUpperCase()},l=function(f,m){return"".concat(m,"-")},c=function(f,m){return m===void 0&&(m={}),u(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,l):f=f.replace(s,l),f.replace(t,d))};return Oa.camelCase=c,Oa}var Ba,aw;function L8(){if(aw)return Ba;aw=1;var e=Ba&&Ba.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(M8()),n=D8();function s(o,u){var d={};return!o||typeof o!="string"||(0,t.default)(o,function(l,c){l&&c&&(d[(0,n.camelCase)(l,u)]=c)}),d}return s.default=s,Ba=s,Ba}var I8=L8();const O8=vl(I8),Qj=Zj("end"),Wg=Zj("start");function Zj(e){return t;function t(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function B8(e){const t=Wg(e),n=Qj(e);if(t&&n)return{start:t,end:n}}function Qa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?lw(e.position):"start"in e||"end"in e?lw(e):"line"in e||"column"in e?rp(e):""}function rp(e){return cw(e&&e.line)+":"+cw(e&&e.column)}function lw(e){return rp(e&&e.start)+"-"+rp(e&&e.end)}function cw(e){return e&&typeof e=="number"?e:1}class Fr extends Error{constructor(t,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let o="",u={},d=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?o=t:!u.cause&&t&&(d=!0,o=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?u.ruleId=s:(u.source=s.slice(0,c),u.ruleId=s.slice(c+1))}if(!u.place&&u.ancestors&&u.ancestors){const c=u.ancestors[u.ancestors.length-1];c&&(u.place=c.position)}const l=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=Qa(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fr.prototype.file="";Fr.prototype.name="";Fr.prototype.reason="";Fr.prototype.message="";Fr.prototype.stack="";Fr.prototype.column=void 0;Fr.prototype.line=void 0;Fr.prototype.ancestors=void 0;Fr.prototype.cause=void 0;Fr.prototype.fatal=void 0;Fr.prototype.place=void 0;Fr.prototype.ruleId=void 0;Fr.prototype.source=void 0;const Vg={}.hasOwnProperty,F8=new Map,$8=/[A-Z]/g,z8=new Set(["table","tbody","thead","tfoot","tr"]),H8=new Set(["td","th"]),eN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function W8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=J8(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=X8(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Hg:A8,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=tN(o,e,void 0);return u&&typeof u!="string"?u:o.create(e,o.Fragment,{children:u||void 0},void 0)}function tN(e,t,n){if(t.type==="element")return V8(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return U8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return K8(e,t,n);if(t.type==="mdxjsEsm")return G8(e,t);if(t.type==="root")return q8(e,t,n);if(t.type==="text")return Y8(e,t)}function V8(e,t,n){const s=e.schema;let o=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(o=Hg,e.schema=o),e.ancestors.push(t);const u=nN(e,t.tagName,!1),d=Q8(e,t);let l=Gg(e,t);return z8.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!b8(c):!0})),rN(e,d,u,t),Ug(d,l),e.ancestors.pop(),e.schema=s,e.create(t,u,d,n)}function U8(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}xl(e,t.position)}function G8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xl(e,t.position)}function K8(e,t,n){const s=e.schema;let o=s;t.name==="svg"&&s.space==="html"&&(o=Hg,e.schema=o),e.ancestors.push(t);const u=t.name===null?e.Fragment:nN(e,t.name,!0),d=Z8(e,t),l=Gg(e,t);return rN(e,d,u,t),Ug(d,l),e.ancestors.pop(),e.schema=s,e.create(t,u,d,n)}function q8(e,t,n){const s={};return Ug(s,Gg(e,t)),e.create(t,e.Fragment,s,n)}function Y8(e,t){return t.value}function rN(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function Ug(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function X8(e,t,n){return s;function s(o,u,d,l){const f=Array.isArray(d.children)?n:t;return l?f(u,d,l):f(u,d)}}function J8(e,t){return n;function n(s,o,u,d){const l=Array.isArray(u.children),c=Wg(s);return t(o,u,d,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Q8(e,t){const n={};let s,o;for(o in t.properties)if(o!=="children"&&Vg.call(t.properties,o)){const u=e7(e,o,t.properties[o]);if(u){const[d,l]=u;e.tableCellAlignToStyle&&d==="align"&&typeof l=="string"&&H8.has(t.tagName)?s=l:n[d]=l}}if(s){const u=n.style||(n.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Z8(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const u=s.data.estree.body[0];u.type;const d=u.expression;d.type;const l=d.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else xl(e,t.position);else{const o=s.name;let u;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const l=s.value.data.estree.body[0];l.type,u=e.evaluater.evaluateExpression(l.expression)}else xl(e,t.position);else u=s.value===null?!0:s.value;n[o]=u}return n}function Gg(e,t){const n=[];let s=-1;const o=e.passKeys?new Map:F8;for(;++s<t.children.length;){const u=t.children[s];let d;if(e.passKeys){const c=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(c){const f=o.get(c)||0;d=c+"-"+f,o.set(c,f+1)}}const l=tN(e,u,d);l!==void 0&&n.push(l)}return n}function e7(e,t,n){const s=N8(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?p8(n):T8(n)),s.property==="style"){let o=typeof n=="object"?n:t7(e,String(n));return e.stylePropertyNameCase==="css"&&(o=r7(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&s.space?S8[s.property]||s.property:s.attribute,n]}}function t7(e,t){try{return O8(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,o=new Fr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=eN+"#cannot-parse-style-attribute",o}}function nN(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let u=-1,d;for(;++u<o.length;){const l=ew(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};d=d?{type:"MemberExpression",object:d,property:l,computed:!!(u&&l.type==="Literal"),optional:!1}:l}s=d}else s=ew(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const o=s.value;return Vg.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(s);xl(e)}function xl(e,t){const n=new Fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=eN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function r7(e){const t={};let n;for(n in e)Vg.call(e,n)&&(t[n7(n)]=e[n]);return t}function n7(e){let t=e.replace($8,s7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function s7(e){return"-"+e.toLowerCase()}const im={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},i7={};function o7(e,t){const n=i7,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sN(e,s,o)}function sN(e,t,n){if(a7(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return uw(e.children,t,n)}return Array.isArray(e)?uw(e,t,n):""}function uw(e,t,n){const s=[];let o=-1;for(;++o<e.length;)s[o]=sN(e[o],t,n);return s.join("")}function a7(e){return!!(e&&typeof e=="object")}const dw=document.createElement("i");function Kg(e){const t="&"+e+";";dw.innerHTML=t;const n=dw.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ls(e,t,n,s){const o=e.length;let u=0,d;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,s.length<1e4)d=Array.from(s),d.unshift(t,n),e.splice(...d);else for(n&&e.splice(t,n);u<s.length;)d=s.slice(u,u+1e4),d.unshift(t,0),e.splice(...d),u+=1e4,t+=1e4}function Sn(e,t){return e.length>0?(ls(e,e.length,0,t),e):t}const hw={}.hasOwnProperty;function l7(e){const t={};let n=-1;for(;++n<e.length;)c7(t,e[n]);return t}function c7(e,t){let n;for(n in t){const o=(hw.call(e,n)?e[n]:void 0)||(e[n]={}),u=t[n];let d;if(u)for(d in u){hw.call(o,d)||(o[d]=[]);const l=u[d];u7(o[d],Array.isArray(l)?l:l?[l]:[])}}}function u7(e,t){let n=-1;const s=[];for(;++n<t.length;)(t[n].add==="after"?e:s).push(t[n]);ls(e,0,0,s)}function iN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const es=pi(/[A-Za-z]/),un=pi(/[\dA-Za-z]/),d7=pi(/[#-'*+\--9=?A-Z^-~]/);function np(e){return e!==null&&(e<32||e===127)}const sp=pi(/\d/),h7=pi(/[\dA-Fa-f]/),f7=pi(/[!-/:-@[-`{-~]/);function ot(e){return e!==null&&e<-2}function Zr(e){return e!==null&&(e<0||e===32)}function jt(e){return e===-2||e===-1||e===32}const m7=pi(new RegExp("\\p{P}|\\p{S}","u")),p7=pi(/\s/);function pi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Zo(e){const t=[];let n=-1,s=0,o=0;for(;++n<e.length;){const u=e.charCodeAt(n);let d="";if(u===37&&un(e.charCodeAt(n+1))&&un(e.charCodeAt(n+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const l=e.charCodeAt(n+1);u<56320&&l>56319&&l<57344?(d=String.fromCharCode(u,l),o=1):d=""}else d=String.fromCharCode(u);d&&(t.push(e.slice(s,n),encodeURIComponent(d)),s=n+o+1,d=""),o&&(n+=o,o=0)}return t.join("")+e.slice(s)}function Ot(e,t,n,s){const o=s?s-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(c){return jt(c)?(e.enter(n),l(c)):t(c)}function l(c){return jt(c)&&u++<o?(e.consume(c),l):(e.exit(n),t(c))}}const g7={tokenize:x7};function x7(e){const t=e.attempt(this.parser.constructs.contentInitial,s,o);let n;return t;function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ot(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),u(l)}function u(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,d(l)}function d(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ot(l)?(e.consume(l),e.exit("chunkText"),u):(e.consume(l),d)}}const v7={tokenize:y7},fw={tokenize:b7};function y7(e){const t=this,n=[];let s=0,o,u,d;return l;function l(y){if(s<n.length){const j=n[s];return t.containerState=j[1],e.attempt(j[0].continuation,c,f)(y)}return f(y)}function c(y){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&g();const j=t.events.length;let E=j,P;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){P=t.events[E][1].end;break}b(s);let T=j;for(;T<t.events.length;)t.events[T][1].end={...P},T++;return ls(t.events,E+1,0,t.events.slice(j)),t.events.length=T,f(y)}return l(y)}function f(y){if(s===n.length){if(!o)return x(y);if(o.currentConstruct&&o.currentConstruct.concrete)return k(y);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fw,m,h)(y)}function m(y){return o&&g(),b(s),x(y)}function h(y){return t.parser.lazy[t.now().line]=s!==n.length,d=t.now().offset,k(y)}function x(y){return t.containerState={},e.attempt(fw,w,k)(y)}function w(y){return s++,n.push([t.currentConstruct,t.containerState]),x(y)}function k(y){if(y===null){o&&g(),b(0),e.consume(y);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),_(y)}function _(y){if(y===null){v(e.exit("chunkFlow"),!0),b(0),e.consume(y);return}return ot(y)?(e.consume(y),v(e.exit("chunkFlow")),s=0,t.interrupt=void 0,l):(e.consume(y),_)}function v(y,j){const E=t.sliceStream(y);if(j&&E.push(null),y.previous=u,u&&(u.next=y),u=y,o.defineSkip(y.start),o.write(E),t.parser.lazy[y.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<d&&(!o.events[P][1].end||o.events[P][1].end.offset>d))return;const T=t.events.length;let N=T,R,I;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(R){I=t.events[N][1].end;break}R=!0}for(b(s),P=T;P<t.events.length;)t.events[P][1].end={...I},P++;ls(t.events,N+1,0,t.events.slice(T)),t.events.length=P}}function b(y){let j=n.length;for(;j-- >y;){const E=n[j];t.containerState=E[1],E[0].exit.call(t,e)}n.length=y}function g(){o.write([null]),u=void 0,o=void 0,t.containerState._closeFlow=void 0}}function b7(e,t,n){return Ot(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mw(e){if(e===null||Zr(e)||p7(e))return 1;if(m7(e))return 2}function qg(e,t,n){const s=[];let o=-1;for(;++o<e.length;){const u=e[o].resolveAll;u&&!s.includes(u)&&(t=u(t,n),s.push(u))}return t}const ip={name:"attention",resolveAll:w7,tokenize:_7};function w7(e,t){let n=-1,s,o,u,d,l,c,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[s][1].end},x={...e[n][1].start};pw(h,-c),pw(x,c),d={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[s][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},u={type:c>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[n][1].start}},o={type:c>1?"strong":"emphasis",start:{...d.start},end:{...l.end}},e[s][1].end={...d.start},e[n][1].start={...l.end},f=[],e[s][1].end.offset-e[s][1].start.offset&&(f=Sn(f,[["enter",e[s][1],t],["exit",e[s][1],t]])),f=Sn(f,[["enter",o,t],["enter",d,t],["exit",d,t],["enter",u,t]]),f=Sn(f,qg(t.parser.constructs.insideSpan.null,e.slice(s+1,n),t)),f=Sn(f,[["exit",u,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=Sn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,ls(e,s-1,n-s+3,f),n=s+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _7(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,o=mw(s);let u;return d;function d(c){return u=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===u)return e.consume(c),l;const f=e.exit("attentionSequence"),m=mw(c),h=!m||m===2&&o||n.includes(c),x=!o||o===2&&m||n.includes(s);return f._open=!!(u===42?h:h&&(o||!x)),f._close=!!(u===42?x:x&&(m||!h)),t(c)}}function pw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const C7={name:"autolink",tokenize:S7};function S7(e,t,n){let s=0;return o;function o(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(w){return es(w)?(e.consume(w),d):w===64?n(w):f(w)}function d(w){return w===43||w===45||w===46||un(w)?(s=1,l(w)):f(w)}function l(w){return w===58?(e.consume(w),s=0,c):(w===43||w===45||w===46||un(w))&&s++<32?(e.consume(w),l):(s=0,f(w))}function c(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||np(w)?n(w):(e.consume(w),c)}function f(w){return w===64?(e.consume(w),m):d7(w)?(e.consume(w),f):n(w)}function m(w){return un(w)?h(w):n(w)}function h(w){return w===46?(e.consume(w),s=0,m):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):x(w)}function x(w){if((w===45||un(w))&&s++<63){const k=w===45?x:h;return e.consume(w),k}return n(w)}}const Id={partial:!0,tokenize:k7};function k7(e,t,n){return s;function s(u){return jt(u)?Ot(e,o,"linePrefix")(u):o(u)}function o(u){return u===null||ot(u)?t(u):n(u)}}const oN={continuation:{tokenize:N7},exit:E7,name:"blockQuote",tokenize:j7};function j7(e,t,n){const s=this;return o;function o(d){if(d===62){const l=s.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(d),e.exit("blockQuoteMarker"),u}return n(d)}function u(d){return jt(d)?(e.enter("blockQuotePrefixWhitespace"),e.consume(d),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(d))}}function N7(e,t,n){const s=this;return o;function o(d){return jt(d)?Ot(e,u,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return e.attempt(oN,t,n)(d)}}function E7(e){e.exit("blockQuote")}const aN={name:"characterEscape",tokenize:P7};function P7(e,t,n){return s;function s(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),o}function o(u){return f7(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(u)}}const lN={name:"characterReference",tokenize:A7};function A7(e,t,n){const s=this;let o=0,u,d;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),u=31,d=un,m(h))}function f(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,d=h7,m):(e.enter("characterReferenceValue"),u=7,d=sp,m(h))}function m(h){if(h===59&&o){const x=e.exit("characterReferenceValue");return d===un&&!Kg(s.sliceSerialize(x))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return d(h)&&o++<u?(e.consume(h),m):n(h)}}const gw={partial:!0,tokenize:R7},xw={concrete:!0,name:"codeFenced",tokenize:T7};function T7(e,t,n){const s=this,o={partial:!0,tokenize:E};let u=0,d=0,l;return c;function c(P){return f(P)}function f(P){const T=s.events[s.events.length-1];return u=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===l?(d++,e.consume(P),m):d<3?n(P):(e.exit("codeFencedFenceSequence"),jt(P)?Ot(e,h,"whitespace")(P):h(P))}function h(P){return P===null||ot(P)?(e.exit("codeFencedFence"),s.interrupt?t(P):e.check(gw,_,j)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(P))}function x(P){return P===null||ot(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(P)):jt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ot(e,w,"whitespace")(P)):P===96&&P===l?n(P):(e.consume(P),x)}function w(P){return P===null||ot(P)?h(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(P))}function k(P){return P===null||ot(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(P)):P===96&&P===l?n(P):(e.consume(P),k)}function _(P){return e.attempt(o,j,v)(P)}function v(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),b}function b(P){return u>0&&jt(P)?Ot(e,g,"linePrefix",u+1)(P):g(P)}function g(P){return P===null||ot(P)?e.check(gw,_,j)(P):(e.enter("codeFlowValue"),y(P))}function y(P){return P===null||ot(P)?(e.exit("codeFlowValue"),g(P)):(e.consume(P),y)}function j(P){return e.exit("codeFenced"),t(P)}function E(P,T,N){let R=0;return I;function I(z){return P.enter("lineEnding"),P.consume(z),P.exit("lineEnding"),O}function O(z){return P.enter("codeFencedFence"),jt(z)?Ot(P,B,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):B(z)}function B(z){return z===l?(P.enter("codeFencedFenceSequence"),$(z)):N(z)}function $(z){return z===l?(R++,P.consume(z),$):R>=d?(P.exit("codeFencedFenceSequence"),jt(z)?Ot(P,Y,"whitespace")(z):Y(z)):N(z)}function Y(z){return z===null||ot(z)?(P.exit("codeFencedFence"),T(z)):N(z)}}}function R7(e,t,n){const s=this;return o;function o(d){return d===null?n(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u)}function u(d){return s.parser.lazy[s.now().line]?n(d):t(d)}}const om={name:"codeIndented",tokenize:D7},M7={partial:!0,tokenize:L7};function D7(e,t,n){const s=this;return o;function o(f){return e.enter("codeIndented"),Ot(e,u,"linePrefix",5)(f)}function u(f){const m=s.events[s.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?d(f):n(f)}function d(f){return f===null?c(f):ot(f)?e.attempt(M7,d,c)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||ot(f)?(e.exit("codeFlowValue"),d(f)):(e.consume(f),l)}function c(f){return e.exit("codeIndented"),t(f)}}function L7(e,t,n){const s=this;return o;function o(d){return s.parser.lazy[s.now().line]?n(d):ot(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),o):Ot(e,u,"linePrefix",5)(d)}function u(d){const l=s.events[s.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(d):ot(d)?o(d):n(d)}}const I7={name:"codeText",previous:B7,resolve:O7,tokenize:F7};function O7(e){let t=e.length-4,n=3,s,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(s=n;++s<t;)if(e[s][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(s=n-1,t++;++s<=t;)o===void 0?s!==t&&e[s][1].type!=="lineEnding"&&(o=s):(s===t||e[s][1].type==="lineEnding")&&(e[o][1].type="codeTextData",s!==o+2&&(e[o][1].end=e[s-1][1].end,e.splice(o+2,s-o-2),t-=s-o-2,s=o+2),o=void 0);return e}function B7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function F7(e,t,n){let s=0,o,u;return d;function d(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),s++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(u=e.enter("codeTextSequence"),o=0,m(h)):ot(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||ot(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),f)}function m(h){return h===96?(e.consume(h),o++,m):o===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(u.type="codeTextData",f(h))}}class $7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,n,s){const o=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return s&&Fa(this.left,s),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Fa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Fa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Fa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Fa(this.left,n.reverse())}}}function Fa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function cN(e){const t={};let n=-1,s,o,u,d,l,c,f;const m=new $7(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(s=m.get(n),n&&s[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(c=s[1]._tokenizer.events,u=0,u<c.length&&c[u][1].type==="lineEndingBlank"&&(u+=2),u<c.length&&c[u][1].type==="content"))for(;++u<c.length&&c[u][1].type!=="content";)c[u][1].type==="chunkText"&&(c[u][1]._isInFirstContentOfListItem=!0,u++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,z7(m,n)),n=t[n],f=!0);else if(s[1]._container){for(u=n,o=void 0;u--;)if(d=m.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),d[1].type="lineEnding",o=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;o&&(s[1].end={...m.get(o)[1].start},l=m.slice(o,n),l.unshift(s),m.splice(o,n-o+1,l))}}return ls(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function z7(e,t){const n=e.get(t)[1],s=e.get(t)[2];let o=t-1;const u=[];let d=n._tokenizer;d||(d=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const l=d.events,c=[],f={};let m,h,x=-1,w=n,k=0,_=0;const v=[_];for(;w;){for(;e.get(++o)[1]!==w;);u.push(o),w._tokenizer||(m=s.sliceStream(w),w.next||m.push(null),h&&d.defineSkip(w.start),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(m),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),h=w,w=w.next}for(w=n;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(_=x+1,v.push(_),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(d.events=[],w?(w._tokenizer=void 0,w.previous=void 0):v.pop(),x=v.length;x--;){const b=l.slice(v[x],v[x+1]),g=u.pop();c.push([g,g+b.length-1]),e.splice(g,2,b)}for(c.reverse(),x=-1;++x<c.length;)f[k+c[x][0]]=k+c[x][1],k+=c[x][1]-c[x][0]-1;return f}const H7={resolve:V7,tokenize:U7},W7={partial:!0,tokenize:G7};function V7(e){return cN(e),e}function U7(e,t){let n;return s;function s(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?u(l):ot(l)?e.check(W7,d,u)(l):(e.consume(l),o)}function u(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function d(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function G7(e,t,n){const s=this;return o;function o(d){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ot(e,u,"linePrefix")}function u(d){if(d===null||ot(d))return n(d);const l=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(d):e.interrupt(s.parser.constructs.flow,n,t)(d)}}function uN(e,t,n,s,o,u,d,l,c){const f=c||Number.POSITIVE_INFINITY;let m=0;return h;function h(b){return b===60?(e.enter(s),e.enter(o),e.enter(u),e.consume(b),e.exit(u),x):b===null||b===32||b===41||np(b)?n(b):(e.enter(s),e.enter(d),e.enter(l),e.enter("chunkString",{contentType:"string"}),_(b))}function x(b){return b===62?(e.enter(u),e.consume(b),e.exit(u),e.exit(o),e.exit(s),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),w(b))}function w(b){return b===62?(e.exit("chunkString"),e.exit(l),x(b)):b===null||b===60||ot(b)?n(b):(e.consume(b),b===92?k:w)}function k(b){return b===60||b===62||b===92?(e.consume(b),w):w(b)}function _(b){return!m&&(b===null||b===41||Zr(b))?(e.exit("chunkString"),e.exit(l),e.exit(d),e.exit(s),t(b)):m<f&&b===40?(e.consume(b),m++,_):b===41?(e.consume(b),m--,_):b===null||b===32||b===40||np(b)?n(b):(e.consume(b),b===92?v:_)}function v(b){return b===40||b===41||b===92?(e.consume(b),_):_(b)}}function dN(e,t,n,s,o,u){const d=this;let l=0,c;return f;function f(w){return e.enter(s),e.enter(o),e.consume(w),e.exit(o),e.enter(u),m}function m(w){return l>999||w===null||w===91||w===93&&!c||w===94&&!l&&"_hiddenFootnoteSupport"in d.parser.constructs?n(w):w===93?(e.exit(u),e.enter(o),e.consume(w),e.exit(o),e.exit(s),t):ot(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||w===91||w===93||ot(w)||l++>999?(e.exit("chunkString"),m(w)):(e.consume(w),c||(c=!jt(w)),w===92?x:h)}function x(w){return w===91||w===92||w===93?(e.consume(w),l++,h):h(w)}}function hN(e,t,n,s,o,u){let d;return l;function l(x){return x===34||x===39||x===40?(e.enter(s),e.enter(o),e.consume(x),e.exit(o),d=x===40?41:x,c):n(x)}function c(x){return x===d?(e.enter(o),e.consume(x),e.exit(o),e.exit(s),t):(e.enter(u),f(x))}function f(x){return x===d?(e.exit(u),c(d)):x===null?n(x):ot(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Ot(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===d||x===null||ot(x)?(e.exit("chunkString"),f(x)):(e.consume(x),x===92?h:m)}function h(x){return x===d||x===92?(e.consume(x),m):m(x)}}function Za(e,t){let n;return s;function s(o){return ot(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,s):jt(o)?Ot(e,s,n?"linePrefix":"lineSuffix")(o):t(o)}}const K7={name:"definition",tokenize:Y7},q7={partial:!0,tokenize:X7};function Y7(e,t,n){const s=this;let o;return u;function u(w){return e.enter("definition"),d(w)}function d(w){return dN.call(s,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function l(w){return o=Mo(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),c):n(w)}function c(w){return Zr(w)?Za(e,f)(w):f(w)}function f(w){return uN(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function m(w){return e.attempt(q7,h,h)(w)}function h(w){return jt(w)?Ot(e,x,"whitespace")(w):x(w)}function x(w){return w===null||ot(w)?(e.exit("definition"),s.parser.defined.push(o),t(w)):n(w)}}function X7(e,t,n){return s;function s(l){return Zr(l)?Za(e,o)(l):n(l)}function o(l){return hN(e,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function u(l){return jt(l)?Ot(e,d,"whitespace")(l):d(l)}function d(l){return l===null||ot(l)?t(l):n(l)}}const J7={name:"hardBreakEscape",tokenize:Q7};function Q7(e,t,n){return s;function s(u){return e.enter("hardBreakEscape"),e.consume(u),o}function o(u){return ot(u)?(e.exit("hardBreakEscape"),t(u)):n(u)}}const Z7={name:"headingAtx",resolve:e9,tokenize:t9};function e9(e,t){let n=e.length-2,s=3,o,u;return e[s][1].type==="whitespace"&&(s+=2),n-2>s&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&e[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(o={type:"atxHeadingText",start:e[s][1].start,end:e[n][1].end},u={type:"chunkText",start:e[s][1].start,end:e[n][1].end,contentType:"text"},ls(e,s,n-s+1,[["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t]])),e}function t9(e,t,n){let s=0;return o;function o(m){return e.enter("atxHeading"),u(m)}function u(m){return e.enter("atxHeadingSequence"),d(m)}function d(m){return m===35&&s++<6?(e.consume(m),d):m===null||Zr(m)?(e.exit("atxHeadingSequence"),l(m)):n(m)}function l(m){return m===35?(e.enter("atxHeadingSequence"),c(m)):m===null||ot(m)?(e.exit("atxHeading"),t(m)):jt(m)?Ot(e,l,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function c(m){return m===35?(e.consume(m),c):(e.exit("atxHeadingSequence"),l(m))}function f(m){return m===null||m===35||Zr(m)?(e.exit("atxHeadingText"),l(m)):(e.consume(m),f)}}const r9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vw=["pre","script","style","textarea"],n9={concrete:!0,name:"htmlFlow",resolveTo:o9,tokenize:a9},s9={partial:!0,tokenize:c9},i9={partial:!0,tokenize:l9};function o9(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function a9(e,t,n){const s=this;let o,u,d,l,c;return f;function f(H){return m(H)}function m(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),h}function h(H){return H===33?(e.consume(H),x):H===47?(e.consume(H),u=!0,_):H===63?(e.consume(H),o=3,s.interrupt?t:M):es(H)?(e.consume(H),d=String.fromCharCode(H),v):n(H)}function x(H){return H===45?(e.consume(H),o=2,w):H===91?(e.consume(H),o=5,l=0,k):es(H)?(e.consume(H),o=4,s.interrupt?t:M):n(H)}function w(H){return H===45?(e.consume(H),s.interrupt?t:M):n(H)}function k(H){const ae="CDATA[";return H===ae.charCodeAt(l++)?(e.consume(H),l===ae.length?s.interrupt?t:B:k):n(H)}function _(H){return es(H)?(e.consume(H),d=String.fromCharCode(H),v):n(H)}function v(H){if(H===null||H===47||H===62||Zr(H)){const ae=H===47,fe=d.toLowerCase();return!ae&&!u&&vw.includes(fe)?(o=1,s.interrupt?t(H):B(H)):r9.includes(d.toLowerCase())?(o=6,ae?(e.consume(H),b):s.interrupt?t(H):B(H)):(o=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(H):u?g(H):y(H))}return H===45||un(H)?(e.consume(H),d+=String.fromCharCode(H),v):n(H)}function b(H){return H===62?(e.consume(H),s.interrupt?t:B):n(H)}function g(H){return jt(H)?(e.consume(H),g):I(H)}function y(H){return H===47?(e.consume(H),I):H===58||H===95||es(H)?(e.consume(H),j):jt(H)?(e.consume(H),y):I(H)}function j(H){return H===45||H===46||H===58||H===95||un(H)?(e.consume(H),j):E(H)}function E(H){return H===61?(e.consume(H),P):jt(H)?(e.consume(H),E):y(H)}function P(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),c=H,T):jt(H)?(e.consume(H),P):N(H)}function T(H){return H===c?(e.consume(H),c=null,R):H===null||ot(H)?n(H):(e.consume(H),T)}function N(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Zr(H)?E(H):(e.consume(H),N)}function R(H){return H===47||H===62||jt(H)?y(H):n(H)}function I(H){return H===62?(e.consume(H),O):n(H)}function O(H){return H===null||ot(H)?B(H):jt(H)?(e.consume(H),O):n(H)}function B(H){return H===45&&o===2?(e.consume(H),K):H===60&&o===1?(e.consume(H),G):H===62&&o===4?(e.consume(H),F):H===63&&o===3?(e.consume(H),M):H===93&&o===5?(e.consume(H),L):ot(H)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(s9,q,$)(H)):H===null||ot(H)?(e.exit("htmlFlowData"),$(H)):(e.consume(H),B)}function $(H){return e.check(i9,Y,q)(H)}function Y(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),z}function z(H){return H===null||ot(H)?$(H):(e.enter("htmlFlowData"),B(H))}function K(H){return H===45?(e.consume(H),M):B(H)}function G(H){return H===47?(e.consume(H),d="",U):B(H)}function U(H){if(H===62){const ae=d.toLowerCase();return vw.includes(ae)?(e.consume(H),F):B(H)}return es(H)&&d.length<8?(e.consume(H),d+=String.fromCharCode(H),U):B(H)}function L(H){return H===93?(e.consume(H),M):B(H)}function M(H){return H===62?(e.consume(H),F):H===45&&o===2?(e.consume(H),M):B(H)}function F(H){return H===null||ot(H)?(e.exit("htmlFlowData"),q(H)):(e.consume(H),F)}function q(H){return e.exit("htmlFlow"),t(H)}}function l9(e,t,n){const s=this;return o;function o(d){return ot(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):n(d)}function u(d){return s.parser.lazy[s.now().line]?n(d):t(d)}}function c9(e,t,n){return s;function s(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Id,t,n)}}const u9={name:"htmlText",tokenize:d9};function d9(e,t,n){const s=this;let o,u,d;return l;function l(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),E):M===63?(e.consume(M),y):es(M)?(e.consume(M),N):n(M)}function f(M){return M===45?(e.consume(M),m):M===91?(e.consume(M),u=0,k):es(M)?(e.consume(M),g):n(M)}function m(M){return M===45?(e.consume(M),w):n(M)}function h(M){return M===null?n(M):M===45?(e.consume(M),x):ot(M)?(d=h,G(M)):(e.consume(M),h)}function x(M){return M===45?(e.consume(M),w):h(M)}function w(M){return M===62?K(M):M===45?x(M):h(M)}function k(M){const F="CDATA[";return M===F.charCodeAt(u++)?(e.consume(M),u===F.length?_:k):n(M)}function _(M){return M===null?n(M):M===93?(e.consume(M),v):ot(M)?(d=_,G(M)):(e.consume(M),_)}function v(M){return M===93?(e.consume(M),b):_(M)}function b(M){return M===62?K(M):M===93?(e.consume(M),b):_(M)}function g(M){return M===null||M===62?K(M):ot(M)?(d=g,G(M)):(e.consume(M),g)}function y(M){return M===null?n(M):M===63?(e.consume(M),j):ot(M)?(d=y,G(M)):(e.consume(M),y)}function j(M){return M===62?K(M):y(M)}function E(M){return es(M)?(e.consume(M),P):n(M)}function P(M){return M===45||un(M)?(e.consume(M),P):T(M)}function T(M){return ot(M)?(d=T,G(M)):jt(M)?(e.consume(M),T):K(M)}function N(M){return M===45||un(M)?(e.consume(M),N):M===47||M===62||Zr(M)?R(M):n(M)}function R(M){return M===47?(e.consume(M),K):M===58||M===95||es(M)?(e.consume(M),I):ot(M)?(d=R,G(M)):jt(M)?(e.consume(M),R):K(M)}function I(M){return M===45||M===46||M===58||M===95||un(M)?(e.consume(M),I):O(M)}function O(M){return M===61?(e.consume(M),B):ot(M)?(d=O,G(M)):jt(M)?(e.consume(M),O):R(M)}function B(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),o=M,$):ot(M)?(d=B,G(M)):jt(M)?(e.consume(M),B):(e.consume(M),Y)}function $(M){return M===o?(e.consume(M),o=void 0,z):M===null?n(M):ot(M)?(d=$,G(M)):(e.consume(M),$)}function Y(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Zr(M)?R(M):(e.consume(M),Y)}function z(M){return M===47||M===62||Zr(M)?R(M):n(M)}function K(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function G(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),U}function U(M){return jt(M)?Ot(e,L,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):L(M)}function L(M){return e.enter("htmlTextData"),d(M)}}const Yg={name:"labelEnd",resolveAll:p9,resolveTo:g9,tokenize:x9},h9={tokenize:v9},f9={tokenize:y9},m9={tokenize:b9};function p9(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const o=s.type==="labelImage"?4:2;s.type="data",t+=o}}return e.length!==n.length&&ls(e,0,e.length,n),e}function g9(e,t){let n=e.length,s=0,o,u,d,l;for(;n--;)if(o=e[n][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(d){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=n,o.type!=="labelLink")){s=2;break}}else o.type==="labelEnd"&&(d=n);const c={type:e[u][1].type==="labelLink"?"link":"image",start:{...e[u][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[u][1].start},end:{...e[d][1].end}},m={type:"labelText",start:{...e[u+s+2][1].end},end:{...e[d-2][1].start}};return l=[["enter",c,t],["enter",f,t]],l=Sn(l,e.slice(u+1,u+s+3)),l=Sn(l,[["enter",m,t]]),l=Sn(l,qg(t.parser.constructs.insideSpan.null,e.slice(u+s+4,d-3),t)),l=Sn(l,[["exit",m,t],e[d-2],e[d-1],["exit",f,t]]),l=Sn(l,e.slice(d+1)),l=Sn(l,[["exit",c,t]]),ls(e,u,e.length,l),e}function x9(e,t,n){const s=this;let o=s.events.length,u,d;for(;o--;)if((s.events[o][1].type==="labelImage"||s.events[o][1].type==="labelLink")&&!s.events[o][1]._balanced){u=s.events[o][1];break}return l;function l(x){return u?u._inactive?h(x):(d=s.parser.defined.includes(Mo(s.sliceSerialize({start:u.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),c):n(x)}function c(x){return x===40?e.attempt(h9,m,d?m:h)(x):x===91?e.attempt(f9,m,d?f:h)(x):d?m(x):h(x)}function f(x){return e.attempt(m9,m,h)(x)}function m(x){return t(x)}function h(x){return u._balanced=!0,n(x)}}function v9(e,t,n){return s;function s(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),o}function o(h){return Zr(h)?Za(e,u)(h):u(h)}function u(h){return h===41?m(h):uN(e,d,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function d(h){return Zr(h)?Za(e,c)(h):m(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?hN(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):m(h)}function f(h){return Zr(h)?Za(e,m)(h):m(h)}function m(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function y9(e,t,n){const s=this;return o;function o(l){return dN.call(s,e,u,d,"reference","referenceMarker","referenceString")(l)}function u(l){return s.parser.defined.includes(Mo(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function d(l){return n(l)}}function b9(e,t,n){return s;function s(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),o}function o(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):n(u)}}const w9={name:"labelStartImage",resolveAll:Yg.resolveAll,tokenize:_9};function _9(e,t,n){const s=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),u}function u(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),d):n(l)}function d(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(l):t(l)}}const C9={name:"labelStartLink",resolveAll:Yg.resolveAll,tokenize:S9};function S9(e,t,n){const s=this;return o;function o(d){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):t(d)}}const am={name:"lineEnding",tokenize:k9};function k9(e,t){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ot(e,t,"linePrefix")}}const _u={name:"thematicBreak",tokenize:j9};function j9(e,t,n){let s=0,o;return u;function u(f){return e.enter("thematicBreak"),d(f)}function d(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),c(f)):s>=3&&(f===null||ot(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===o?(e.consume(f),s++,c):(e.exit("thematicBreakSequence"),jt(f)?Ot(e,l,"whitespace")(f):l(f))}}const Jr={continuation:{tokenize:A9},exit:R9,name:"list",tokenize:P9},N9={partial:!0,tokenize:M9},E9={partial:!0,tokenize:T9};function P9(e,t,n){const s=this,o=s.events[s.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,d=0;return l;function l(w){const k=s.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!s.containerState.marker||w===s.containerState.marker:sp(w)){if(s.containerState.type||(s.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(_u,n,f)(w):f(w);if(!s.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(w)}return n(w)}function c(w){return sp(w)&&++d<10?(e.consume(w),c):(!s.interrupt||d<2)&&(s.containerState.marker?w===s.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),f(w)):n(w)}function f(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||w,e.check(Id,s.interrupt?n:m,e.attempt(N9,x,h))}function m(w){return s.containerState.initialBlankLine=!0,u++,x(w)}function h(w){return jt(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),x):n(w)}function x(w){return s.containerState.size=u+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function A9(e,t,n){const s=this;return s.containerState._closeFlow=void 0,e.check(Id,o,u);function o(l){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Ot(e,t,"listItemIndent",s.containerState.size+1)(l)}function u(l){return s.containerState.furtherBlankLines||!jt(l)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,d(l)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(E9,t,d)(l))}function d(l){return s.containerState._closeFlow=!0,s.interrupt=void 0,Ot(e,e.attempt(Jr,t,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function T9(e,t,n){const s=this;return Ot(e,o,"listItemIndent",s.containerState.size+1);function o(u){const d=s.events[s.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===s.containerState.size?t(u):n(u)}}function R9(e){e.exit(this.containerState.type)}function M9(e,t,n){const s=this;return Ot(e,o,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const d=s.events[s.events.length-1];return!jt(u)&&d&&d[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const yw={name:"setextUnderline",resolveTo:D9,tokenize:L9};function D9(e,t){let n=e.length,s,o,u;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){s=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!u&&e[n][1].type==="definition"&&(u=n);const d={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",u?(e.splice(o,0,["enter",d,t]),e.splice(u+1,0,["exit",e[s][1],t]),e[s][1].end={...e[u][1].end}):e[s][1]=d,e.push(["exit",d,t]),e}function L9(e,t,n){const s=this;let o;return u;function u(f){let m=s.events.length,h;for(;m--;)if(s.events[m][1].type!=="lineEnding"&&s.events[m][1].type!=="linePrefix"&&s.events[m][1].type!=="content"){h=s.events[m][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||h)?(e.enter("setextHeadingLine"),o=f,d(f)):n(f)}function d(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),jt(f)?Ot(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||ot(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const I9={tokenize:O9};function O9(e){const t=this,n=e.attempt(Id,s,e.attempt(this.parser.constructs.flowInitial,o,Ot(e,e.attempt(this.parser.constructs.flow,o,e.attempt(H7,o)),"linePrefix")));return n;function s(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const B9={resolveAll:mN()},F9=fN("string"),$9=fN("text");function fN(e){return{resolveAll:mN(e==="text"?z9:void 0),tokenize:t};function t(n){const s=this,o=this.parser.constructs[e],u=n.attempt(o,d,l);return d;function d(m){return f(m)?u(m):l(m)}function l(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),c}function c(m){return f(m)?(n.exit("data"),u(m)):(n.consume(m),c)}function f(m){if(m===null)return!0;const h=o[m];let x=-1;if(h)for(;++x<h.length;){const w=h[x];if(!w.previous||w.previous.call(s,s.previous))return!0}return!1}}}function mN(e){return t;function t(n,s){let o=-1,u;for(;++o<=n.length;)u===void 0?n[o]&&n[o][1].type==="data"&&(u=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),o=u+2),u=void 0);return e?e(n,s):n}}function z9(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const s=e[n-1][1],o=t.sliceStream(s);let u=o.length,d=-1,l=0,c;for(;u--;){const f=o[u];if(typeof f=="string"){for(d=f.length;f.charCodeAt(d-1)===32;)l++,d--;if(d)break;d=-1}else if(f===-2)c=!0,l++;else if(f!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const f={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:s.start._bufferIndex+d,_index:s.start._index+u,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...f.start},s.start.offset===s.end.offset?Object.assign(s,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const H9={42:Jr,43:Jr,45:Jr,48:Jr,49:Jr,50:Jr,51:Jr,52:Jr,53:Jr,54:Jr,55:Jr,56:Jr,57:Jr,62:oN},W9={91:K7},V9={[-2]:om,[-1]:om,32:om},U9={35:Z7,42:_u,45:[yw,_u],60:n9,61:yw,95:_u,96:xw,126:xw},G9={38:lN,92:aN},K9={[-5]:am,[-4]:am,[-3]:am,33:w9,38:lN,42:ip,60:[C7,u9],91:C9,92:[J7,aN],93:Yg,95:ip,96:I7},q9={null:[ip,B9]},Y9={null:[42,95]},X9={null:[]},J9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Y9,contentInitial:W9,disable:X9,document:H9,flow:U9,flowInitial:V9,insideSpan:q9,string:G9,text:K9},Symbol.toStringTag,{value:"Module"}));function Q9(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},u=[];let d=[],l=[];const c={attempt:T(E),check:T(P),consume:g,enter:y,exit:j,interrupt:T(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:_,events:[],now:k,parser:e,previous:null,sliceSerialize:x,sliceStream:w,write:h};let m=t.tokenize.call(f,c);return t.resolveAll&&u.push(t),f;function h(O){return d=Sn(d,O),v(),d[d.length-1]!==null?[]:(N(t,0),f.events=qg(u,f.events,f),f.events)}function x(O,B){return e$(w(O),B)}function w(O){return Z9(d,O)}function k(){const{_bufferIndex:O,_index:B,line:$,column:Y,offset:z}=s;return{_bufferIndex:O,_index:B,line:$,column:Y,offset:z}}function _(O){o[O.line]=O.column,I()}function v(){let O;for(;s._index<d.length;){const B=d[s._index];if(typeof B=="string")for(O=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===O&&s._bufferIndex<B.length;)b(B.charCodeAt(s._bufferIndex));else b(B)}}function b(O){m=m(O)}function g(O){ot(O)?(s.line++,s.column=1,s.offset+=O===-3?2:1,I()):O!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===d[s._index].length&&(s._bufferIndex=-1,s._index++)),f.previous=O}function y(O,B){const $=B||{};return $.type=O,$.start=k(),f.events.push(["enter",$,f]),l.push($),$}function j(O){const B=l.pop();return B.end=k(),f.events.push(["exit",B,f]),B}function E(O,B){N(O,B.from)}function P(O,B){B.restore()}function T(O,B){return $;function $(Y,z,K){let G,U,L,M;return Array.isArray(Y)?q(Y):"tokenize"in Y?q([Y]):F(Y);function F(me){return X;function X(W){const le=W!==null&&me[W],te=W!==null&&me.null,J=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(te)?te:te?[te]:[]];return q(J)(W)}}function q(me){return G=me,U=0,me.length===0?K:H(me[U])}function H(me){return X;function X(W){return M=R(),L=me,me.partial||(f.currentConstruct=me),me.name&&f.parser.constructs.disable.null.includes(me.name)?fe():me.tokenize.call(B?Object.assign(Object.create(f),B):f,c,ae,fe)(W)}}function ae(me){return O(L,M),z}function fe(me){return M.restore(),++U<G.length?H(G[U]):K}}}function N(O,B){O.resolveAll&&!u.includes(O)&&u.push(O),O.resolve&&ls(f.events,B,f.events.length-B,O.resolve(f.events.slice(B),f)),O.resolveTo&&(f.events=O.resolveTo(f.events,f))}function R(){const O=k(),B=f.previous,$=f.currentConstruct,Y=f.events.length,z=Array.from(l);return{from:Y,restore:K};function K(){s=O,f.previous=B,f.currentConstruct=$,f.events.length=Y,l=z,I()}}function I(){s.line in o&&s.column<2&&(s.column=o[s.line],s.offset+=o[s.line]-1)}}function Z9(e,t){const n=t.start._index,s=t.start._bufferIndex,o=t.end._index,u=t.end._bufferIndex;let d;if(n===o)d=[e[n].slice(s,u)];else{if(d=e.slice(n,o),s>-1){const l=d[0];typeof l=="string"?d[0]=l.slice(s):d.shift()}u>0&&d.push(e[o].slice(0,u))}return d}function e$(e,t){let n=-1;const s=[];let o;for(;++n<e.length;){const u=e[n];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=t?" ":"	";break}case-1:{if(!t&&o)continue;d=" ";break}default:d=String.fromCharCode(u)}o=u===-2,s.push(d)}return s.join("")}function t$(e){const s={constructs:l7([J9,...(e||{}).extensions||[]]),content:o(g7),defined:[],document:o(v7),flow:o(I9),lazy:{},string:o(F9),text:o($9)};return s;function o(u){return d;function d(l){return Q9(s,u,l)}}}function r$(e){for(;!cN(e););return e}const bw=/[\0\t\n\r]/g;function n$(){let e=1,t="",n=!0,s;return o;function o(u,d,l){const c=[];let f,m,h,x,w;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),h=0,t="",n&&(u.charCodeAt(0)===65279&&h++,n=void 0);h<u.length;){if(bw.lastIndex=h,f=bw.exec(u),x=f&&f.index!==void 0?f.index:u.length,w=u.charCodeAt(x),!f){t=u.slice(h);break}if(w===10&&h===x&&s)c.push(-3),s=void 0;else switch(s&&(c.push(-5),s=void 0),h<x&&(c.push(u.slice(h,x)),e+=x-h),w){case 0:{c.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,c.push(-2);e++<m;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:s=!0,e=1}h=x+1}return l&&(s&&c.push(-5),t&&c.push(t),c.push(null)),c}}const s$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i$(e){return e.replace(s$,o$)}function o$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),u=o===120||o===88;return iN(n.slice(u?2:1),u?16:10)}return Kg(n)||e}const pN={}.hasOwnProperty;function a$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),l$(n)(r$(t$(n).document().write(n$()(e,t,!0))))}function l$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(De),autolinkProtocol:R,autolinkEmail:R,atxHeading:u(Ke),blockQuote:u(te),characterEscape:R,characterReference:R,codeFenced:u(J),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(J,d),codeText:u(se,d),codeTextData:R,data:R,codeFlowValue:R,definition:u(we),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(Le),hardBreakEscape:u(ne),hardBreakTrailing:u(ne),htmlFlow:u(ue,d),htmlFlowData:R,htmlText:u(ue,d),htmlTextData:R,image:u(je),label:d,link:u(De),listItem:u(_e),listItemValue:x,listOrdered:u(Je,h),listUnordered:u(Je),paragraph:u(ye),reference:H,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(Ke),strong:u(Oe),thematicBreak:u(Rt)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:le,autolinkProtocol:W,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:me,characterReference:X,codeFenced:c(v),codeFencedFence:_,codeFencedFenceInfo:w,codeFencedFenceMeta:k,codeFlowValue:I,codeIndented:c(b),codeText:c(z),codeTextData:I,data:I,definition:c(),definitionDestinationString:j,definitionLabelString:g,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c($),htmlFlowData:I,htmlText:c(Y),htmlTextData:I,image:c(G),label:L,labelText:U,lineEnding:O,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ae,resourceDestinationString:M,resourceTitleString:F,resource:q,setextHeading:c(N),setextHeadingLineSequence:T,setextHeadingText:P,strong:c(),thematicBreak:c()}};gN(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(ge){let Ce={type:"root",children:[]};const ze={stack:[Ce],tokenStack:[],config:t,enter:l,exit:f,buffer:d,resume:m,data:n},Xe=[];let Ye=-1;for(;++Ye<ge.length;)if(ge[Ye][1].type==="listOrdered"||ge[Ye][1].type==="listUnordered")if(ge[Ye][0]==="enter")Xe.push(Ye);else{const Et=Xe.pop();Ye=o(ge,Et,Ye)}for(Ye=-1;++Ye<ge.length;){const Et=t[ge[Ye][0]];pN.call(Et,ge[Ye][1].type)&&Et[ge[Ye][1].type].call(Object.assign({sliceSerialize:ge[Ye][2].sliceSerialize},ze),ge[Ye][1])}if(ze.tokenStack.length>0){const Et=ze.tokenStack[ze.tokenStack.length-1];(Et[1]||ww).call(ze,void 0,Et[0])}for(Ce.position={start:Qs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Qs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<t.transforms.length;)Ce=t.transforms[Ye](Ce)||Ce;return Ce}function o(ge,Ce,ze){let Xe=Ce-1,Ye=-1,Et=!1,nt,Gt,Ar,Tr;for(;++Xe<=ze;){const re=ge[Xe];switch(re[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{re[0]==="enter"?Ye++:Ye--,Tr=void 0;break}case"lineEndingBlank":{re[0]==="enter"&&(nt&&!Tr&&!Ye&&!Ar&&(Ar=Xe),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!Ye&&re[0]==="enter"&&re[1].type==="listItemPrefix"||Ye===-1&&re[0]==="exit"&&(re[1].type==="listUnordered"||re[1].type==="listOrdered")){if(nt){let Pe=Xe;for(Gt=void 0;Pe--;){const Me=ge[Pe];if(Me[1].type==="lineEnding"||Me[1].type==="lineEndingBlank"){if(Me[0]==="exit")continue;Gt&&(ge[Gt][1].type="lineEndingBlank",Et=!0),Me[1].type="lineEnding",Gt=Pe}else if(!(Me[1].type==="linePrefix"||Me[1].type==="blockQuotePrefix"||Me[1].type==="blockQuotePrefixWhitespace"||Me[1].type==="blockQuoteMarker"||Me[1].type==="listItemIndent"))break}Ar&&(!Gt||Ar<Gt)&&(nt._spread=!0),nt.end=Object.assign({},Gt?ge[Gt][1].start:re[1].end),ge.splice(Gt||Xe,0,["exit",nt,re[2]]),Xe++,ze++}if(re[1].type==="listItemPrefix"){const Pe={type:"listItem",_spread:!1,start:Object.assign({},re[1].start),end:void 0};nt=Pe,ge.splice(Xe,0,["enter",Pe,re[2]]),Xe++,ze++,Ar=void 0,Tr=!0}}}return ge[Ce][1]._spread=Et,ze}function u(ge,Ce){return ze;function ze(Xe){l.call(this,ge(Xe),Xe),Ce&&Ce.call(this,Xe)}}function d(){this.stack.push({type:"fragment",children:[]})}function l(ge,Ce,ze){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ce,ze||void 0]),ge.position={start:Qs(Ce.start),end:void 0}}function c(ge){return Ce;function Ce(ze){ge&&ge.call(this,ze),f.call(this,ze)}}function f(ge,Ce){const ze=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==ge.type&&(Ce?Ce.call(this,ge,Xe[0]):(Xe[1]||ww).call(this,ge,Xe[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Qa({start:ge.start,end:ge.end})+"): its not open");ze.position.end=Qs(ge.end)}function m(){return o7(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function x(ge){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ge}function k(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ge}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/(\r?\n|\r)$/g,"")}function g(ge){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Ce,ze.identifier=Mo(this.sliceSerialize(ge)).toLowerCase()}function y(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function j(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function E(ge){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const ze=this.sliceSerialize(ge).length;Ce.depth=ze}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function T(ge){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ge){const ze=this.stack[this.stack.length-1].children;let Xe=ze[ze.length-1];(!Xe||Xe.type!=="text")&&(Xe=xt(),Xe.position={start:Qs(ge.start),end:void 0},ze.push(Xe)),this.stack.push(Xe)}function I(ge){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ge),Ce.position.end=Qs(ge.end)}function O(ge){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=Ce.children[Ce.children.length-1];ze.position.end=Qs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ce.type)&&(R.call(this,ge),I.call(this,ge))}function B(){this.data.atHardBreak=!0}function $(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function Y(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function z(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function K(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function G(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function U(ge){const Ce=this.sliceSerialize(ge),ze=this.stack[this.stack.length-2];ze.label=i$(Ce),ze.identifier=Mo(Ce).toLowerCase()}function L(){const ge=this.stack[this.stack.length-1],Ce=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const Xe=ge.children;ze.children=Xe}else ze.alt=Ce}function M(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function F(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function q(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function ae(ge){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Ce,ze.identifier=Mo(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function fe(ge){this.data.characterReferenceType=ge.type}function me(ge){const Ce=this.sliceSerialize(ge),ze=this.data.characterReferenceType;let Xe;ze?(Xe=iN(Ce,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Xe=Kg(Ce);const Ye=this.stack[this.stack.length-1];Ye.value+=Xe}function X(ge){const Ce=this.stack.pop();Ce.position.end=Qs(ge.end)}function W(ge){I.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ge)}function le(ge){I.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ge)}function te(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function ne(){return{type:"break"}}function ue(){return{type:"html",value:""}}function je(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function Je(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function _e(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ye(){return{type:"paragraph",children:[]}}function Oe(){return{type:"strong",children:[]}}function xt(){return{type:"text",value:""}}function Rt(){return{type:"thematicBreak"}}}function Qs(e){return{line:e.line,column:e.column,offset:e.offset}}function gN(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?gN(e,s):c$(e,s)}}function c$(e,t){let n;for(n in t)if(pN.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function ww(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qa({start:t.start,end:t.end})+") is still open")}function u$(e){const t=this;t.parser=n;function n(s){return a$(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function d$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function h$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function f$(e,t){const n=t.value?t.value+`
`:"",s={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(s.className=["language-"+o[0]]);let u={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function m$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),o=Zo(s.toLowerCase()),u=e.footnoteOrder.indexOf(s);let d,l=e.footnoteCounts.get(s);l===void 0?(l=0,e.footnoteOrder.push(s),d=e.footnoteOrder.length):d=u+1,l+=1,e.footnoteCounts.set(s,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function x$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function v$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function xN(e,t){const n=t.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const o=e.all(t),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const d=o[o.length-1];return d&&d.type==="text"?d.value+=s:o.push({type:"text",value:s}),o}function y$(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return xN(e,t);const o={src:Zo(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(o.title=s.title);const u={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,u),e.applyData(t,u)}function b$(e,t){const n={src:Zo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)}function w$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)}function _$(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return xN(e,t);const o={href:Zo(s.url||"")};s.title!==null&&s.title!==void 0&&(o.title=s.title);const u={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,u),e.applyData(t,u)}function C$(e,t){const n={href:Zo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function S$(e,t,n){const s=e.all(t),o=n?k$(n):vN(t),u={},d=[];if(typeof t.checked=="boolean"){const m=s[0];let h;m&&m.type==="element"&&m.tagName==="p"?h=m:(h={type:"element",tagName:"p",properties:{},children:[]},s.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let l=-1;for(;++l<s.length;){const m=s[l];(o||l!==0||m.type!=="element"||m.tagName!=="p")&&d.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?d.push(...m.children):d.push(m)}const c=s[s.length-1];c&&(o||c.type!=="element"||c.tagName!=="p")&&d.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:u,children:d};return e.patch(t,f),e.applyData(t,f)}function k$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=vN(n[s])}return t}function vN(e){const t=e.spread;return t??e.children.length>1}function j$(e,t){const n={},s=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<s.length;){const d=s[o];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,u),e.applyData(t,u)}function N$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function E$(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function P$(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A$(e,t){const n=e.all(t),s=n.shift(),o=[];if(s){const d={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],d),o.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Wg(t.children[1]),c=Qj(t.children[t.children.length-1]);l&&c&&(d.position={start:l,end:c}),o.push(d)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,u),e.applyData(t,u)}function T$(e,t,n){const s=n?n.children:void 0,u=(s?s.indexOf(t):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,l=d?d.length:t.children.length;let c=-1;const f=[];for(;++c<l;){const h=t.children[c],x={},w=d?d[c]:void 0;w&&(x.align=w);let k={type:"element",tagName:u,properties:x,children:[]};h&&(k.children=e.all(h),e.patch(h,k),k=e.applyData(h,k)),f.push(k)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function R$(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _w=9,Cw=32;function M$(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),o=0;const u=[];for(;s;)u.push(Sw(t.slice(o,s.index),o>0,!0),s[0]),o=s.index+s[0].length,s=n.exec(t);return u.push(Sw(t.slice(o),o>0,!1)),u.join("")}function Sw(e,t,n){let s=0,o=e.length;if(t){let u=e.codePointAt(s);for(;u===_w||u===Cw;)s++,u=e.codePointAt(s)}if(n){let u=e.codePointAt(o-1);for(;u===_w||u===Cw;)o--,u=e.codePointAt(o-1)}return o>s?e.slice(s,o):""}function D$(e,t){const n={type:"text",value:M$(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function L$(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const I$={blockquote:d$,break:h$,code:f$,delete:m$,emphasis:p$,footnoteReference:g$,heading:x$,html:v$,imageReference:y$,image:b$,inlineCode:w$,linkReference:_$,link:C$,listItem:S$,list:j$,paragraph:N$,root:E$,strong:P$,table:A$,tableCell:R$,tableRow:T$,text:D$,thematicBreak:L$,toml:cu,yaml:cu,definition:cu,footnoteDefinition:cu};function cu(){}const yN=-1,Od=0,el=1,Uu=2,Xg=3,Jg=4,Qg=5,Zg=6,bN=7,wN=8,kw=typeof self=="object"?self:globalThis,O$=(e,t)=>{const n=(o,u)=>(e.set(u,o),o),s=o=>{if(e.has(o))return e.get(o);const[u,d]=t[o];switch(u){case Od:case yN:return n(d,o);case el:{const l=n([],o);for(const c of d)l.push(s(c));return l}case Uu:{const l=n({},o);for(const[c,f]of d)l[s(c)]=s(f);return l}case Xg:return n(new Date(d),o);case Jg:{const{source:l,flags:c}=d;return n(new RegExp(l,c),o)}case Qg:{const l=n(new Map,o);for(const[c,f]of d)l.set(s(c),s(f));return l}case Zg:{const l=n(new Set,o);for(const c of d)l.add(s(c));return l}case bN:{const{name:l,message:c}=d;return n(new kw[l](c),o)}case wN:return n(BigInt(d),o);case"BigInt":return n(Object(BigInt(d)),o);case"ArrayBuffer":return n(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:l}=new Uint8Array(d);return n(new DataView(l),d)}}return n(new kw[u](d),o)};return s},jw=e=>O$(new Map,e)(0),Co="",{toString:B$}={},{keys:F$}=Object,$a=e=>{const t=typeof e;if(t!=="object"||!e)return[Od,t];const n=B$.call(e).slice(8,-1);switch(n){case"Array":return[el,Co];case"Object":return[Uu,Co];case"Date":return[Xg,Co];case"RegExp":return[Jg,Co];case"Map":return[Qg,Co];case"Set":return[Zg,Co];case"DataView":return[el,n]}return n.includes("Array")?[el,n]:n.includes("Error")?[bN,n]:[Uu,n]},uu=([e,t])=>e===Od&&(t==="function"||t==="symbol"),$$=(e,t,n,s)=>{const o=(d,l)=>{const c=s.push(d)-1;return n.set(l,c),c},u=d=>{if(n.has(d))return n.get(d);let[l,c]=$a(d);switch(l){case Od:{let m=d;switch(c){case"bigint":l=wN,m=d.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);m=null;break;case"undefined":return o([yN],d)}return o([l,m],d)}case el:{if(c){let x=d;return c==="DataView"?x=new Uint8Array(d.buffer):c==="ArrayBuffer"&&(x=new Uint8Array(d)),o([c,[...x]],d)}const m=[],h=o([l,m],d);for(const x of d)m.push(u(x));return h}case Uu:{if(c)switch(c){case"BigInt":return o([c,d.toString()],d);case"Boolean":case"Number":case"String":return o([c,d.valueOf()],d)}if(t&&"toJSON"in d)return u(d.toJSON());const m=[],h=o([l,m],d);for(const x of F$(d))(e||!uu($a(d[x])))&&m.push([u(x),u(d[x])]);return h}case Xg:return o([l,d.toISOString()],d);case Jg:{const{source:m,flags:h}=d;return o([l,{source:m,flags:h}],d)}case Qg:{const m=[],h=o([l,m],d);for(const[x,w]of d)(e||!(uu($a(x))||uu($a(w))))&&m.push([u(x),u(w)]);return h}case Zg:{const m=[],h=o([l,m],d);for(const x of d)(e||!uu($a(x)))&&m.push(u(x));return h}}const{message:f}=d;return o([l,{name:c,message:f}],d)};return u},Nw=(e,{json:t,lossy:n}={})=>{const s=[];return $$(!(t||n),!!t,new Map,s)(e),s},Gu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?jw(Nw(e,t)):structuredClone(e):(e,t)=>jw(Nw(e,t));function z$(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H$(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function W$(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||z$,s=e.options.footnoteBackLabel||H$,o=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",d=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const m=e.all(f),h=String(f.identifier).toUpperCase(),x=Zo(h.toLowerCase());let w=0;const k=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++w<=_;){k.length>0&&k.push({type:"text",value:" "});let g=typeof n=="string"?n:n(c,w);typeof g=="string"&&(g={type:"text",value:g}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,w),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const v=m[m.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const g=v.children[v.children.length-1];g&&g.type==="text"?g.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...k)}else m.push(...k);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(m,!0)};e.patch(f,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Gu(d),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const _N=(function(e){if(e==null)return K$;if(typeof e=="function")return Bd(e);if(typeof e=="object")return Array.isArray(e)?V$(e):U$(e);if(typeof e=="string")return G$(e);throw new Error("Expected function, string, or object as test")});function V$(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_N(e[n]);return Bd(s);function s(...o){let u=-1;for(;++u<t.length;)if(t[u].apply(this,o))return!0;return!1}}function U$(e){const t=e;return Bd(n);function n(s){const o=s;let u;for(u in e)if(o[u]!==t[u])return!1;return!0}}function G$(e){return Bd(t);function t(n){return n&&n.type===e}}function Bd(e){return t;function t(n,s,o){return!!(q$(n)&&e.call(this,n,typeof s=="number"?s:void 0,o||void 0))}}function K$(){return!0}function q$(e){return e!==null&&typeof e=="object"&&"type"in e}const CN=[],Y$=!0,Ew=!1,X$="skip";function J$(e,t,n,s){let o;typeof t=="function"&&typeof n!="function"?(s=n,n=t):o=t;const u=_N(o),d=s?-1:1;l(e,void 0,[])();function l(c,f,m){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const w=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(c.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=CN,k,_,v;if((!t||u(c,f,m[m.length-1]||void 0))&&(w=Q$(n(c,m)),w[0]===Ew))return w;if("children"in c&&c.children){const b=c;if(b.children&&w[0]!==X$)for(_=(s?b.children.length:-1)+d,v=m.concat(b);_>-1&&_<b.children.length;){const g=b.children[_];if(k=l(g,_,v)(),k[0]===Ew)return k;_=typeof k[1]=="number"?k[1]:_+d}}return w}}}function Q$(e){return Array.isArray(e)?e:typeof e=="number"?[Y$,e]:e==null?CN:[e]}function SN(e,t,n,s){let o,u,d;typeof t=="function"&&typeof n!="function"?(u=void 0,d=t,o=n):(u=t,d=n,o=s),J$(e,u,l,o);function l(c,f){const m=f[f.length-1],h=m?m.children.indexOf(c):void 0;return d(c,h,m)}}const op={}.hasOwnProperty,Z$={};function ez(e,t){const n=t||Z$,s=new Map,o=new Map,u=new Map,d={...I$,...n.handlers},l={all:f,applyData:rz,definitionById:s,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:d,one:c,options:n,patch:tz,wrap:sz};return SN(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const h=m.type==="definition"?s:o,x=String(m.identifier).toUpperCase();h.has(x)||h.set(x,m)}}),l;function c(m,h){const x=m.type,w=l.handlers[x];if(op.call(l.handlers,x)&&w)return w(l,m,h);if(l.options.passThrough&&l.options.passThrough.includes(x)){if("children"in m){const{children:_,...v}=m,b=Gu(v);return b.children=l.all(m),b}return Gu(m)}return(l.options.unknownHandler||nz)(l,m,h)}function f(m){const h=[];if("children"in m){const x=m.children;let w=-1;for(;++w<x.length;){const k=l.one(x[w],m);if(k){if(w&&x[w-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=Pw(k.value)),!Array.isArray(k)&&k.type==="element")){const _=k.children[0];_&&_.type==="text"&&(_.value=Pw(_.value))}Array.isArray(k)?h.push(...k):h.push(k)}}}return h}}function tz(e,t){e.position&&(t.position=B8(e))}function rz(e,t){let n=t;if(e&&e.data){const s=e.data.hName,o=e.data.hChildren,u=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const d="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:d}}n.type==="element"&&u&&Object.assign(n.properties,Gu(u)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function nz(e,t){const n=t.data||{},s="value"in t&&!(op.call(n,"hProperties")||op.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function sz(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Pw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Aw(e,t){const n=ez(e,t),s=n.one(e,void 0),o=W$(n),u=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function iz(e,t){return e&&"run"in e?async function(n,s){const o=Aw(n,{file:s,...t});await e.run(o,s)}:function(n,s){return Aw(n,{file:s,...e||t})}}function Tw(e){if(e)throw e}var lm,Rw;function oz(){if(Rw)return lm;Rw=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},u=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),h=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!h)return!1;var x;for(x in f);return typeof x>"u"||e.call(f,x)},d=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},l=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(s)return s(f,m).value}else return;return f[m]};return lm=function c(){var f,m,h,x,w,k,_=arguments[0],v=1,b=arguments.length,g=!1;for(typeof _=="boolean"&&(g=_,_=arguments[1]||{},v=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});v<b;++v)if(f=arguments[v],f!=null)for(m in f)h=l(_,m),x=l(f,m),_!==x&&(g&&x&&(u(x)||(w=o(x)))?(w?(w=!1,k=h&&o(h)?h:[]):k=h&&u(h)?h:{},d(_,{name:m,newValue:c(g,k,x)})):typeof x<"u"&&d(_,{name:m,newValue:x}));return _},lm}var az=oz();const cm=vl(az);function ap(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lz(){const e=[],t={run:n,use:s};return t;function n(...o){let u=-1;const d=o.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);l(null,...o);function l(c,...f){const m=e[++u];let h=-1;if(c){d(c);return}for(;++h<o.length;)(f[h]===null||f[h]===void 0)&&(f[h]=o[h]);o=f,m?cz(m,l)(...f):d(null,...f)}}function s(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function cz(e,t){let n;return s;function s(...d){const l=e.length>d.length;let c;l&&d.push(o);try{c=e.apply(this,d)}catch(f){const m=f;if(l&&n)throw m;return o(m)}l||(c&&c.then&&typeof c.then=="function"?c.then(u,o):c instanceof Error?o(c):u(c))}function o(d,...l){n||(n=!0,t(d,...l))}function u(d){o(null,d)}}const Qn={basename:uz,dirname:dz,extname:hz,join:fz,sep:"/"};function uz(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hl(e);let n=0,s=-1,o=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(u){n=o+1;break}}else s<0&&(u=!0,s=o+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let d=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(u){n=o+1;break}}else d<0&&(u=!0,d=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(s=o):(l=-1,s=d));return n===s?s=d:s<0&&(s=e.length),e.slice(n,s)}function dz(e){if(Hl(e),e.length===0)return".";let t=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){t=n;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hz(e){Hl(e);let t=e.length,n=-1,s=0,o=-1,u=0,d;for(;t--;){const l=e.codePointAt(t);if(l===47){if(d){s=t+1;break}continue}n<0&&(d=!0,n=t+1),l===46?o<0?o=t:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===s+1?"":e.slice(o,n)}function fz(...e){let t=-1,n;for(;++t<e.length;)Hl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mz(n)}function mz(e){Hl(e);const t=e.codePointAt(0)===47;let n=pz(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function pz(e,t){let n="",s=0,o=-1,u=0,d=-1,l,c;for(;++d<=e.length;){if(d<e.length)l=e.codePointAt(d);else{if(l===47)break;l=47}if(l===47){if(!(o===d-1||u===1))if(o!==d-1&&u===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",s=0):(n=n.slice(0,c),s=n.length-1-n.lastIndexOf("/")),o=d,u=0;continue}}else if(n.length>0){n="",s=0,o=d,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(o+1,d):n=e.slice(o+1,d),s=d-o-1;o=d,u=0}else l===46&&u>-1?u++:u=-1}return n}function Hl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const gz={cwd:xz};function xz(){return"/"}function lp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vz(e){if(typeof e=="string")e=new URL(e);else if(!lp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return yz(e)}function yz(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const s=t.codePointAt(n+2);if(s===70||s===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const um=["history","path","basename","stem","extname","dirname"];class kN{constructor(t){let n;t?lp(t)?n={path:t}:typeof t=="string"||bz(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":gz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<um.length;){const u=um[s];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)um.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Qn.basename(this.path):void 0}set basename(t){hm(t,"basename"),dm(t,"basename"),this.path=Qn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qn.dirname(this.path):void 0}set dirname(t){Mw(this.basename,"dirname"),this.path=Qn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qn.extname(this.path):void 0}set extname(t){if(dm(t,"extname"),Mw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){lp(t)&&(t=vz(t)),hm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qn.basename(this.path,this.extname):void 0}set stem(t){hm(t,"stem"),dm(t,"stem"),this.path=Qn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,s){const o=this.message(t,n,s);throw o.fatal=!0,o}info(t,n,s){const o=this.message(t,n,s);return o.fatal=void 0,o}message(t,n,s){const o=new Fr(t,n,s);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dm(e,t){if(e&&e.includes(Qn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qn.sep+"`")}function hm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Mw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wz=(function(e){const s=this.constructor.prototype,o=s[e],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,s),u}),_z={}.hasOwnProperty;class ex extends wz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lz()}copy(){const t=new ex;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];t.use(...s)}return t.data(cm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(pm("data",this.frozen),this.namespace[t]=n,this):_z.call(this.namespace,t)&&this.namespace[t]||void 0:t?(pm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const o=n.call(t,...s);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=du(t),s=this.parser||this.Parser;return fm("parse",s),s(String(n),n)}process(t,n){const s=this;return this.freeze(),fm("process",this.parser||this.Parser),mm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(u,d){const l=du(t),c=s.parse(l);s.run(c,l,function(m,h,x){if(m||!h||!x)return f(m);const w=h,k=s.stringify(w,x);kz(k)?x.value=k:x.result=k,f(m,x)});function f(m,h){m||!h?d(m):u?u(h):n(void 0,h)}}}processSync(t){let n=!1,s;return this.freeze(),fm("processSync",this.parser||this.Parser),mm("processSync",this.compiler||this.Compiler),this.process(t,o),Lw("processSync","process",n),s;function o(u,d){n=!0,Tw(u),s=d}}run(t,n,s){Dw(t),this.freeze();const o=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?u(void 0,s):new Promise(u);function u(d,l){const c=du(n);o.run(t,c,f);function f(m,h,x){const w=h||t;m?l(m):d?d(w):s(void 0,w,x)}}}runSync(t,n){let s=!1,o;return this.run(t,n,u),Lw("runSync","run",s),o;function u(d,l){Tw(d),o=l,s=!0}}stringify(t,n){this.freeze();const s=du(n),o=this.compiler||this.Compiler;return mm("stringify",o),Dw(t),o(t,s)}use(t,...n){const s=this.attachers,o=this.namespace;if(pm("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):d(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...h]=f;c(m,h)}else d(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function d(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=cm(!0,o.settings,f.settings))}function l(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const h=f[m];u(h)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,m){let h=-1,x=-1;for(;++h<s.length;)if(s[h][0]===f){x=h;break}if(x===-1)s.push([f,...m]);else if(m.length>0){let[w,...k]=m;const _=s[x][1];ap(_)&&ap(w)&&(w=cm(!0,_,w)),s[x]=[f,w,...k]}}}}const Cz=new ex().freeze();function fm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function mm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function pm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dw(e){if(!ap(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Lw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function du(e){return Sz(e)?e:new kN(e)}function Sz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kz(e){return typeof e=="string"||jz(e)}function jz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Iw=[],Ow={allowDangerousHtml:!0},Ez=/^(https?|ircs?|mailto|xmpp)$/i,Pz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Az(e){const t=Tz(e),n=Rz(e);return Mz(t.runSync(t.parse(n),n),e)}function Tz(e){const t=e.rehypePlugins||Iw,n=e.remarkPlugins||Iw,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ow}:Ow;return Cz().use(u$).use(n).use(iz,s).use(t)}function Rz(e){const t=e.children||"",n=new kN;return typeof t=="string"&&(n.value=t),n}function Mz(e,t){const n=t.allowedElements,s=t.allowElement,o=t.components,u=t.disallowedElements,d=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||Dz;for(const m of Pz)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Nz+m.id,void 0);return SN(e,f),W8(e,{Fragment:r.Fragment,components:o,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function f(m,h,x){if(m.type==="raw"&&x&&typeof h=="number")return d?x.children.splice(h,1):x.children[h]={type:"text",value:m.value},h;if(m.type==="element"){let w;for(w in im)if(Object.hasOwn(im,w)&&Object.hasOwn(m.properties,w)){const k=m.properties[w],_=im[w];(_===null||_.includes(m.tagName))&&(m.properties[w]=c(String(k||""),w,m))}}if(m.type==="element"){let w=n?!n.includes(m.tagName):u?u.includes(m.tagName):!1;if(!w&&s&&typeof h=="number"&&(w=!s(m,h,x)),w&&x&&typeof h=="number")return l&&m.children?x.children.splice(h,1,...m.children):x.children.splice(h,1),h}}}function Dz(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||s!==-1&&t>s||Ez.test(e.slice(0,t))?e:""}function Lz(){var z,K;const[e,t]=C.useState(null),[n,s]=C.useState(""),[o,u]=C.useState({open:!1,field:null,type:"directory"}),[d,l]=C.useState(!0),[c,f]=C.useState(!1),[m,h]=C.useState(null),[x,w]=C.useState(!1),[k,_]=C.useState(null),[v,b]=C.useState([]),[g,y]=C.useState({open:!1,content:"",loading:!1});C.useEffect(()=>{I(),j(),E()},[]);const j=async()=>{try{const G=await ve.checkVersion();h(G)}catch(G){console.error("Failed to load version info:",G)}},E=async()=>{try{const G=await ve.getProject();_(G.dir),P(G.dir)}catch(G){console.error("Failed to load project info:",G)}},P=async G=>{if(G)try{const U=await ve.getHiddenSubprojects(G);b(U.hidden||[])}catch(U){console.error("Failed to load hidden sub-projects:",U)}},T=async G=>{if(k)try{const U=await ve.unhideSubproject(k,G);U.success?(Q.success("Sub-project unhidden"),P(k)):Q.error(U.error||"Failed to unhide")}catch(U){Q.error("Failed to unhide: "+U.message)}},N=async()=>{if(!(m!=null&&m.updateAvailable)){Q.error("No update available");return}w(!0);try{const G=await ve.performUpdate({updateMethod:m.updateMethod,sourcePath:m.sourcePath});if(G.success){Q.success(`Updated to v${G.newVersion}! Restarting server...`);try{await ve.restartServer()}catch{}let U=0;const L=setInterval(async()=>{U++;try{await ve.checkVersion(),clearInterval(L),Q.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{U>30&&(clearInterval(L),Q.info("Server restarting. Please refresh the page."),w(!1))}},500)}else Q.error("Update failed: "+G.error),w(!1)}catch(G){Q.error("Update failed: "+G.message),w(!1)}},R=async()=>{y(G=>({...G,open:!0,loading:!0}));try{const G=await ve.getChangelog();G.success?y(U=>({...U,content:G.content,loading:!1})):(Q.error("Failed to load changelog"),y(U=>({...U,open:!1,loading:!1})))}catch(G){Q.error("Failed to load changelog: "+G.message),y(U=>({...U,open:!1,loading:!1}))}},I=async()=>{try{l(!0);const G=await ve.getConfig();t(G.config),s(G.path)}catch{Q.error("Failed to load settings")}finally{l(!1)}},O=async()=>{f(!0);try{await ve.saveConfig(e),Q.success("Preferences saved!")}catch{Q.error("Failed to save preferences")}finally{f(!1)}},B=(G,U)=>{t(L=>({...L,[G]:U}))},$=(G,U,L)=>{t(M=>({...M,[G]:{...M[G],[U]:L}}))},Y=async G=>{const U=(e==null?void 0:e.enabledTools)||["claude"];let L;if(U.includes(G)){if(U.length<=1){Q.error("At least one tool must be enabled");return}L=U.filter(F=>F!==G)}else L=[...U,G];const M={...e,enabledTools:L};t(M);try{await ve.saveConfig(M),Q.success(`${G==="claude"?"Claude Code":G==="gemini"?"Gemini CLI":"Antigravity"} ${L.includes(G)?"enabled":"disabled"}`)}catch{t(e),Q.error("Failed to save preference")}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:r.jsx(IC,{className:"w-5 h-5 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"coder-config Preferences"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool settings for this configuration manager"})]})]}),r.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-2 py-0.5 rounded",children:n})]})}),r.jsxs(oe,{onClick:O,disabled:c,children:[c?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save"]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(jr,{className:"w-4 h-4"}),"Directories"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"MCP Tools Directories"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Folders containing local MCP tool repositories for discovery"}),r.jsxs("div",{className:"space-y-2",children:[((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).map((G,U)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(lt,{value:G||"",onChange:L=>{const M=[...(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])];M[U]=L.target.value,B("toolsDirs",M),e!=null&&e.toolsDir&&t(F=>{const{toolsDir:q,...H}=F;return{...H,toolsDirs:M}})},placeholder:"~/mcp-tools",className:"font-mono flex-1"}),r.jsx(oe,{variant:"outline",size:"icon",onClick:()=>u({open:!0,field:"toolsDirs",type:"directory",index:U}),title:"Browse...",children:r.jsx(oi,{className:"w-4 h-4"})}),r.jsx(oe,{variant:"outline",size:"icon",onClick:()=>{const M=((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).filter((F,q)=>q!==U);t(F=>{const{toolsDir:q,...H}=F;return{...H,toolsDirs:M.length>0?M:void 0}})},title:"Remove",className:"text-destructive hover:text-destructive",children:r.jsx(ri,{className:"w-4 h-4"})})]},U)),r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>u({open:!0,field:"toolsDirs",type:"directory",index:-1}),className:"mt-2",children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Add Tools Folder"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Global Registry Path"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Path to the global MCP registry file"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(lt,{value:(e==null?void 0:e.registryPath)||"",onChange:G=>B("registryPath",G.target.value),placeholder:"~/.claude/registry.json",className:"font-mono flex-1"}),r.jsx(oe,{variant:"outline",size:"icon",onClick:()=>u({open:!0,field:"registryPath",type:"file"}),title:"Browse...",children:r.jsx(oi,{className:"w-4 h-4"})})]})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(b5,{className:"w-4 h-4"}),"User Interface"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Port"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Port for the web UI server"}),r.jsx(lt,{type:"number",value:((z=e==null?void 0:e.ui)==null?void 0:z.port)||3333,onChange:G=>$("ui","port",parseInt(G.target.value)||3333),placeholder:"3333",className:"w-32"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Open Browser on Start"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically open browser when starting the UI"})]}),r.jsx(mt,{checked:((K=e==null?void 0:e.ui)==null?void 0:K.openBrowser)??!0,onCheckedChange:G=>$("ui","openBrowser",G)})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(cM,{className:"w-4 h-4"}),"AI Assistant"]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose which AI assistant to use for features like MCP creation and tool import."}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${((e==null?void 0:e.aiAssistant)||"claude")==="claude"?"border-orange-500 bg-orange-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>B("aiAssistant","claude"),children:[r.jsx("input",{type:"radio",name:"aiAssistant",value:"claude",checked:((e==null?void 0:e.aiAssistant)||"claude")==="claude",onChange:()=>B("aiAssistant","claude"),className:"sr-only"}),r.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Command: ",r.jsx("code",{className:"text-xs",children:"claude"})]})]}),((e==null?void 0:e.aiAssistant)||"claude")==="claude"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"})]}),r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${(e==null?void 0:e.aiAssistant)==="gemini"?"border-blue-500 bg-blue-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>B("aiAssistant","gemini"),children:[r.jsx("input",{type:"radio",name:"aiAssistant",value:"gemini",checked:(e==null?void 0:e.aiAssistant)==="gemini",onChange:()=>B("aiAssistant","gemini"),className:"sr-only"}),r.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:r.jsx(It,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI coding assistant  Command: ",r.jsx("code",{className:"text-xs",children:"gemini"})]})]}),(e==null?void 0:e.aiAssistant)==="gemini"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})]}),r.jsxs("div",{className:"border-b border-border pb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(MM,{className:"w-4 h-4"}),"Enabled AI Tools"]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Select which AI coding tools to generate MCP configurations for. The Apply button will update all enabled tools."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:".mcp.json"})]})]})]}),r.jsx(mt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("claude"),onCheckedChange:()=>Y("claude")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's terminal AI coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:"~/.gemini/settings.json"})]})]})]}),r.jsx(mt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("gemini"),onCheckedChange:()=>Y("gemini")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/10 flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-purple-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Antigravity"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI IDE  Output: ",r.jsx("code",{className:"text-xs",children:"~/.gemini/antigravity/mcp_config.json"})]})]})]}),r.jsx(mt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("antigravity"),onCheckedChange:()=>Y("antigravity")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-md bg-green-500/10 flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Codex CLI"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["OpenAI's terminal coding assistant  Output: ",r.jsx("code",{className:"text-xs",children:".codex/mcp.json"})]})]})]}),r.jsx(mt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("codex"),onCheckedChange:()=>Y("codex")})]}),r.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Note: Antigravity does not support environment variable interpolation (",r.jsx("code",{children:"${VAR}"}),"). Variables are resolved to actual values when generating its config."]})]})]}),v.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(NC,{className:"w-4 h-4"}),"Hidden Sub-projects"]}),r.jsx("div",{className:"space-y-2",children:v.map(G=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(jr,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:G.name}),r.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:G.dir.replace(k+"/","")})]})]}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>T(G.dir),className:"h-7",children:[r.jsx(Gp,{className:"w-3 h-3 mr-1"}),"Unhide"]})]},G.dir))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Er,{className:"w-4 h-4"}),"About"]}),r.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Installed Version"}),r.jsx("span",{className:"font-medium font-mono text-foreground",children:(m==null?void 0:m.installedVersion)||"Loading..."})]}),(m==null?void 0:m.updateAvailable)&&r.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Update Available!"}),r.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Version ",m.latestVersion," via ",m.updateMethod==="npm"?"npm":m.sourcePath]})]}),r.jsxs(oe,{size:"sm",onClick:N,disabled:x,className:"bg-green-600 hover:bg-green-700 text-white",children:[x?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Update Now"]})]})}),!(m!=null&&m.updateAvailable)&&(m==null?void 0:m.latestVersion)&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Latest Version"}),r.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[m.latestVersion," "]})]}),(m==null?void 0:m.sourcePath)&&!(m!=null&&m.updateAvailable)&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Dev Source"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-xs text-muted-foreground",children:m.sourcePath}),r.jsx(oe,{size:"sm",variant:"outline",onClick:N,disabled:x,className:"h-7",children:x?r.jsx(at,{className:"w-3 h-3 animate-spin"}):r.jsx(br,{className:"w-3 h-3"})})]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Install Location"}),r.jsx("code",{className:"text-xs text-muted-foreground",children:(m==null?void 0:m.installDir)||"~/.coder-config"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm pt-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Auto-Update"}),r.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Automatically install updates when available"})]}),r.jsx(mt,{checked:(e==null?void 0:e.autoUpdate)||!1,onCheckedChange:G=>{B("autoUpdate",G),ve.saveConfig({...e,autoUpdate:G}),Q.success(G?"Auto-update enabled":"Auto-update disabled")}})]}),r.jsxs("div",{className:"border-t border-border pt-3 mt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Documentation"}),r.jsx("a",{href:"https://github.com/regression-io/coder-config",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GitHub"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"What's New"}),r.jsxs("button",{onClick:R,className:"text-primary hover:underline flex items-center gap-1",children:[r.jsx(Ru,{className:"w-3 h-3"}),"Changelog"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["After updating, restart the server with ",r.jsx("code",{className:"bg-muted-foreground/10 px-1 rounded",children:"coder-config ui"})]})]})]})]})]})]}),r.jsx(Ng,{open:o.open,onOpenChange:G=>u(U=>({...U,open:G})),onSelect:G=>{if(o.field==="toolsDirs"){const U=(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]);if(o.index===-1)t(L=>{const{toolsDir:M,...F}=L;return{...F,toolsDirs:[...U,G]}});else{const L=[...U];L[o.index]=G,t(M=>{const{toolsDir:F,...q}=M;return{...q,toolsDirs:L}})}}else o.field&&B(o.field,G)},type:o.type,initialPath:o.field==="toolsDirs"&&o.index>=0?((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]))[o.index]||"~":(e==null?void 0:e[o.field])||"~",title:o.type==="directory"?"Select Directory":"Select File"}),r.jsx(Nt,{open:g.open,onOpenChange:G=>y(U=>({...U,open:G})),children:r.jsxs(_t,{className:"max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[r.jsx(Ct,{className:"flex-shrink-0",children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Ru,{className:"w-5 h-5"}),"Changelog"]})}),g.loading?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(at,{className:"w-6 h-6 animate-spin text-primary"})}):r.jsx(An,{className:"h-[60vh]",children:r.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none pr-4",children:r.jsx(Az,{components:{h1:({children:G})=>r.jsx("h1",{className:"text-xl font-bold text-foreground mb-4",children:G}),h2:({children:G})=>r.jsx("h2",{className:"text-lg font-semibold text-foreground mt-6 mb-3 pb-2 border-b border-border",children:G}),h3:({children:G})=>r.jsx("h3",{className:"text-base font-medium text-foreground mt-4 mb-2",children:G}),p:({children:G})=>r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:G}),ul:({children:G})=>r.jsx("ul",{className:"text-sm text-muted-foreground list-disc pl-5 mb-3 space-y-1",children:G}),li:({children:G})=>r.jsx("li",{className:"text-sm",children:G}),code:({children:G})=>r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:G}),hr:()=>r.jsx("hr",{className:"my-4 border-border"}),strong:({children:G})=>r.jsx("strong",{className:"font-semibold text-foreground",children:G})},children:g.content})})})]})})]})}function Iz(){const[e,t]=C.useState(null),[n,s]=C.useState({}),[o,u]=C.useState(!0);C.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);const[c,f]=await Promise.all([ve.getClaudeSettings(),ve.getRegistry()]);t(c.settings),s(f.mcpServers||{})}catch(c){console.error("Failed to load Claude settings:",c)}finally{u(!1)}},l=async c=>{try{await ve.saveClaudeSettings(c),t(c),Q.success("Claude Code settings saved!")}catch(f){Q.error("Failed to save settings: "+f.message)}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(Bj,{settings:e,onSave:l,loading:o,settingsPath:"~/.claude/settings.json",mcpServers:n})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config init                  # Initialize project"}),r.jsx("p",{children:"coder-config apply                 # Generate .mcp.json from config"}),r.jsx("p",{children:"coder-config show                  # Show current project config"})]})]})]})}function Oz(){const[e,t]=C.useState(null),[n,s]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const d=await ve.getGeminiSettings();t(d.settings)}catch(d){console.error("Failed to load Gemini settings:",d)}finally{s(!1)}},u=async d=>{try{await ve.saveGeminiSettings(d),t(d),Q.success("Gemini CLI settings saved!")}catch(l){Q.error("Failed to save settings: "+l.message)}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(Fj,{settings:e,onSave:u,loading:n,settingsPath:"~/.gemini/settings.json"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config apply                 # Generate settings for all tools"}),r.jsx("p",{children:"coder-config apply --gemini        # Generate Gemini settings only"})]})]})]})}const Bz=[{id:"off",name:"Off",description:"Never auto-execute; requires allow list"},{id:"auto",name:"Auto",description:"Safety model determines execution"},{id:"turbo",name:"Turbo",description:"Auto-execute unless in deny list",dangerous:!0}],Fz=[{id:"always-proceed",name:"Always Proceed",description:"Agent never requests review"},{id:"agent-decides",name:"Agent Decides",description:"Agent determines when review is needed"},{id:"request-review",name:"Request Review",description:"Agent always requests review"}],$z=[{id:"always-proceed",name:"Always Proceed",description:"Maximum autonomy",dangerous:!0},{id:"request-review",name:"Request Review",description:"Ask before browser JavaScript"},{id:"disabled",name:"Disabled",description:"Never run browser JavaScript"}];function zz({settings:e,onSave:t,loading:n,settingsPath:s}){const[o,u]=C.useState(e||{}),[d,l]=C.useState(!1),[c,f]=C.useState("rich"),[m,h]=C.useState(JSON.stringify(e||{},null,2)),[x,w]=C.useState({open:!1,name:"",json:""}),[k,_]=C.useState({}),v=async()=>{l(!0);try{if(c==="json")try{const T=JSON.parse(m);await t(T),u(T)}catch{Q.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));Q.success("Settings saved")}finally{l(!1)}},b=(T,N)=>{u(R=>({...R,[T]:N}))},g=(T,N)=>(o==null?void 0:o[T])??N,y=o.mcpServers||{},j=()=>{const{name:T,json:N}=x;if(!T.trim()){Q.error("Please enter a name for the MCP");return}let R;try{R=JSON.parse(N)}catch{Q.error("Invalid JSON configuration");return}if(!R.command){Q.error('MCP config must have a "command" field');return}u(I=>({...I,mcpServers:{...I.mcpServers,[T.trim()]:R}})),w({open:!1,name:"",json:""}),Q.success(`Added MCP: ${T}`)},E=T=>{u(N=>{const{[T]:R,...I}=N.mcpServers||{};return{...N,mcpServers:I}}),Q.success(`Removed MCP: ${T}`)},P=T=>{_(N=>({...N,[T]:!N[T]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:r.jsx(kl,{className:"w-5 h-5 text-purple-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Antigravity Settings",r.jsx(rt,{variant:"outline",className:"text-xs font-normal text-purple-600 border-purple-300 dark:border-purple-700",children:"Google"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:s})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${c==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${c==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),r.jsxs(oe,{onClick:v,disabled:d||n,children:[d?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),c==="json"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(vt,{value:m,onChange:T=>h(T.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(cs,{className:"w-4 h-4 text-purple-500"}),"Security Policies"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Terminal Command Execution"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Control how the agent executes shell commands"})]}),r.jsxs(xr,{value:g("terminalPolicy","auto"),onValueChange:T=>b("terminalPolicy",T),children:[r.jsx(dr,{className:"w-44",children:r.jsx(vr,{})}),r.jsx(hr,{children:Bz.map(T=>r.jsx(kt,{value:T.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:T.name}),T.dangerous&&r.jsx(rt,{variant:"destructive",className:"text-xs",children:"Risk"})]})},T.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Review Policy"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"When the agent should request human review"})]}),r.jsxs(xr,{value:g("reviewPolicy","agent-decides"),onValueChange:T=>b("reviewPolicy",T),children:[r.jsx(dr,{className:"w-44",children:r.jsx(vr,{})}),r.jsx(hr,{children:Fz.map(T=>r.jsx(kt,{value:T.id,children:T.name},T.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"JavaScript Execution"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Control browser JavaScript execution"})]}),r.jsxs(xr,{value:g("jsPolicy","request-review"),onValueChange:T=>b("jsPolicy",T),children:[r.jsx(dr,{className:"w-44",children:r.jsx(vr,{})}),r.jsx(hr,{children:$z.map(T=>r.jsx(kt,{value:T.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:T.name}),T.dangerous&&r.jsx(rt,{variant:"destructive",className:"text-xs",children:"Risk"})]})},T.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(En,{className:"w-4 h-4 text-purple-500"}),"MCP Servers",r.jsx(rt,{variant:"secondary",className:"text-xs",children:Object.keys(y).length})]}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>w({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(y).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(y).map(([T,N])=>r.jsxs(Bl,{open:k[T],onOpenChange:()=>P(T),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fl,{className:"flex items-center gap-2 flex-1 text-left",children:[k[T]?r.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(En,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"font-medium text-sm",children:T}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:N.command})]}),r.jsx(oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>E(T),children:r.jsx(mn,{className:"w-4 h-4"})})]}),r.jsx($l,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(N,null,2)})})})]},T))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Fi,{className:"w-4 h-4 text-purple-500"}),"Browser Settings"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"URL Allowlist"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Domains the agent can visit (one per line)"}),r.jsx(vt,{value:g("browserAllowlist",""),onChange:T=>b("browserAllowlist",T.target.value),placeholder:`github.com
stackoverflow.com
docs.python.org`,className:"font-mono text-sm",rows:4})]})})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Pn,{className:"w-4 h-4 text-purple-500"}),"Agent Behavior"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Planning mode uses structured plans; Fast mode executes directly"})]}),r.jsxs(xr,{value:g("agentMode","planning"),onValueChange:T=>b("agentMode",T),children:[r.jsx(dr,{className:"w-36",children:r.jsx(vr,{})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"planning",children:"Planning"}),r.jsx(kt,{value:"fast",children:"Fast"})]})]})]})})]})]}),r.jsx(Nt,{open:x.open,onOpenChange:T=>w({...x,open:T}),children:r.jsxs(_t,{className:"bg-card",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add MCP Server"}),r.jsx(sr,{children:"Add a new MCP server to Antigravity"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(lt,{value:x.name,onChange:T=>w({...x,name:T.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(vt,{value:x.json,onChange:T=>w({...x,json:T.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>w({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(oe,{onClick:j,children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function Hz(){const[e,t]=C.useState(null),[n,s]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const d=await ve.getAntigravitySettings();t(d.settings)}catch(d){console.error("Failed to load Antigravity settings:",d)}finally{s(!1)}},u=async d=>{try{await ve.saveAntigravitySettings(d),t(d),Q.success("Antigravity settings saved!")}catch(l){Q.error("Failed to save settings: "+l.message)}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-purple-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(zz,{settings:e,onSave:u,loading:n,settingsPath:"~/.gemini/antigravity/settings.json"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config apply                    # Generate settings for all tools"}),r.jsx("p",{children:"coder-config apply --antigravity      # Generate Antigravity settings only"})]})]})]})}const Wz=[{id:"gpt-5.2-codex",name:"GPT-5.2 Codex",description:"Latest and most capable"},{id:"gpt-5-codex",name:"GPT-5 Codex",description:"Previous generation"},{id:"gpt-5",name:"GPT-5",description:"General purpose"},{id:"o3-mini",name:"o3-mini",description:"Fast reasoning model"}],Vz=[{id:"on-request",name:"On Request",description:"Ask before running commands (default)"},{id:"untrusted",name:"Untrusted",description:"Ask for everything"},{id:"on-failure",name:"On Failure",description:"Ask only when commands fail"},{id:"never",name:"Never",description:"Never ask (use with caution)"}],Uz=[{id:"read-only",name:"Read Only",description:"Can only read files (default)"},{id:"workspace-write",name:"Workspace Write",description:"Can write within workspace"},{id:"danger-full-access",name:"Full Access",description:"Full filesystem access (dangerous)"}],Gz=[{id:"minimal",name:"Minimal",description:"Fastest, least thorough"},{id:"low",name:"Low",description:"Quick responses"},{id:"medium",name:"Medium",description:"Balanced (default)"},{id:"high",name:"High",description:"More thorough"},{id:"xhigh",name:"Extra High",description:"Most thorough"}],Kz=[{id:"save-all",name:"Save All",description:"Keep all session history"},{id:"none",name:"None",description:"Do not persist history"}];function qz({settings:e,rawToml:t,onSave:n,loading:s,settingsPath:o}){const[u,d]=C.useState(e||{}),[l,c]=C.useState(!1),[f,m]=C.useState("rich"),[h,x]=C.useState(t||""),[w,k]=C.useState({open:!1,name:"",json:""}),[_,v]=C.useState({}),b=async()=>{c(!0);try{f==="toml"?await n(null,h):await n(u),Q.success("Settings saved")}catch(I){Q.error("Failed to save: "+I.message)}finally{c(!1)}},g=(I,O)=>{d(B=>({...B,[I]:O}))},y=(I,O,B)=>{d($=>({...$,[I]:{...$[I],[O]:B}}))},j=(I,O="")=>(u==null?void 0:u[I])??O,E=(I,O,B=!1)=>{var $;return(($=u==null?void 0:u[I])==null?void 0:$[O])??B},P=u.mcp_servers||{},T=()=>{const{name:I,json:O}=w;if(!I.trim()){Q.error("Please enter a name for the MCP server");return}let B;try{B=JSON.parse(O)}catch{Q.error("Invalid JSON configuration");return}if(!B.command){Q.error('MCP config must have a "command" field');return}d($=>({...$,mcp_servers:{...$.mcp_servers,[I.trim()]:B}})),k({open:!1,name:"",json:""}),Q.success(`Added MCP: ${I}`)},N=I=>{d(O=>{const{[I]:B,...$}=O.mcp_servers||{};return{...O,mcp_servers:$}}),Q.success(`Removed MCP: ${I}`)},R=I=>{v(O=>({...O,[I]:!O[I]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:r.jsx(It,{className:"w-5 h-5 text-green-500"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Codex CLI Settings",r.jsxs(rt,{variant:"outline",className:"text-xs font-normal text-green-600 border-green-300 dark:border-green-700",children:[r.jsx(Ut,{className:"w-3 h-3 mr-1"}),"OpenAI"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",r.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:o})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>m("rich"),children:"Settings"}),r.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="toml"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>m("toml"),children:"TOML"})]}),r.jsxs(oe,{onClick:b,disabled:l||s,children:[l?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),f==="toml"?r.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:r.jsx(vt,{value:h,onChange:I=>x(I.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"# Codex CLI config.toml"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4 text-green-500"}),"Model"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Model"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Model used for Codex CLI sessions"})]}),r.jsxs(xr,{value:j("model",""),onValueChange:I=>g("model",I),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{placeholder:"Select model"})}),r.jsx(hr,{children:Wz.map(I=>r.jsx(kt,{value:I.id,children:r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{children:I.name})})},I.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Reasoning Effort"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"How thoroughly the model should reason"})]}),r.jsxs(xr,{value:j("model_reasoning_effort","medium"),onValueChange:I=>g("model_reasoning_effort",I),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{})}),r.jsx(hr,{children:Gz.map(I=>r.jsx(kt,{value:I.id,children:I.name},I.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(cs,{className:"w-4 h-4 text-green-500"}),"Security"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Approval Policy"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"When to ask for command approval"})]}),r.jsxs(xr,{value:j("approval_policy","on-request"),onValueChange:I=>g("approval_policy",I),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{})}),r.jsx(hr,{children:Vz.map(I=>r.jsx(kt,{value:I.id,children:I.name},I.id))})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sandbox Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Filesystem and network access level"})]}),r.jsxs(xr,{value:j("sandbox_mode","read-only"),onValueChange:I=>g("sandbox_mode",I),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{})}),r.jsx(hr,{children:Uz.map(I=>r.jsx(kt,{value:I.id,children:I.name},I.id))})]})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[r.jsx(En,{className:"w-4 h-4 text-green-500"}),"MCP Servers",r.jsx(rt,{variant:"secondary",className:"text-xs",children:Object.keys(P).length})]}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>k({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"],
  "enabled": true
}`}),children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),r.jsx("div",{className:"space-y-2",children:Object.keys(P).length===0?r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(P).map(([I,O])=>r.jsxs(Bl,{open:_[I],onOpenChange:()=>R(I),children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[r.jsxs(Fl,{className:"flex items-center gap-2 flex-1 text-left",children:[_[I]?r.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(En,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"font-medium text-sm",children:I}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:O.command}),O.enabled===!1&&r.jsx(rt,{variant:"secondary",className:"text-xs",children:"Disabled"})]}),r.jsx(oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>N(I),children:r.jsx(mn,{className:"w-4 h-4"})})]}),r.jsx($l,{children:r.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:r.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(O,null,2)})})})]},I))})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Nl,{className:"w-4 h-4 text-green-500"}),"Features"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Shell Snapshot"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Speed up repeated commands (Beta)"})]}),r.jsx(mt,{checked:E("features","shell_snapshot",!0),onCheckedChange:I=>y("features","shell_snapshot",I)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Web Search"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow the model to search the web"})]}),r.jsx(mt,{checked:E("features","web_search_request",!0),onCheckedChange:I=>y("features","web_search_request",I)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Pn,{className:"w-4 h-4 text-green-500"}),"Display"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Animations"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable UI animations"})]}),r.jsx(mt,{checked:E("tui","animations",!0),onCheckedChange:I=>y("tui","animations",I)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Notifications"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Show system notifications"})]}),r.jsx(mt,{checked:E("tui","notifications",!0),onCheckedChange:I=>y("tui","notifications",I)})]})]})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(Ru,{className:"w-4 h-4 text-green-500"}),"History"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Persistence"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"How session history is saved"})]}),r.jsxs(xr,{value:E("history","persistence","save-all"),onValueChange:I=>y("history","persistence",I),children:[r.jsx(dr,{className:"w-48",children:r.jsx(vr,{})}),r.jsx(hr,{children:Kz.map(I=>r.jsx(kt,{value:I.id,children:I.name},I.id))})]})]})})]}),r.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[r.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[r.jsx(jC,{className:"w-4 h-4 text-green-500"}),"Analytics"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Metrics"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Send anonymous usage data to OpenAI"})]}),r.jsx(mt,{checked:E("analytics","enabled",!0),onCheckedChange:I=>y("analytics","enabled",I)})]})})]})]}),r.jsx(Nt,{open:w.open,onOpenChange:I=>k({...w,open:I}),children:r.jsxs(_t,{className:"bg-card",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add MCP Server"}),r.jsx(sr,{children:"Add a new MCP server to Codex CLI"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(lt,{value:w.name,onChange:I=>k({...w,name:I.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),r.jsx(vt,{value:w.json,onChange:I=>k({...w,json:I.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>k({open:!1,name:"",json:""}),children:"Cancel"}),r.jsxs(oe,{onClick:T,children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function Yz(){const[e,t]=C.useState(null),[n,s]=C.useState(""),[o,u]=C.useState(!0);C.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);const c=await ve.getCodexSettings();t(c.settings),s(c.raw||"")}catch(c){console.error("Failed to load Codex settings:",c)}finally{u(!1)}},l=async(c,f=void 0)=>{try{const m=await ve.saveCodexSettings(c,f);m.success?(t(m.settings),Q.success("Codex CLI settings saved!")):Q.error("Failed to save: "+m.error)}catch(m){Q.error("Failed to save settings: "+m.message)}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-green-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:r.jsx(qz,{settings:e,rawToml:n,onSave:l,loading:o,settingsPath:"~/.codex/config.toml"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"codex                        # Start Codex CLI"}),r.jsx("p",{children:"codex --model gpt-5.2-codex  # Use specific model"}),r.jsx("p",{children:"codex --full-auto            # Low-friction mode"})]})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[r.jsx("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-1",children:"Documentation"}),r.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["See the full configuration reference at"," ",r.jsx("a",{href:"https://developers.openai.com/codex/config-reference/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"developers.openai.com/codex"})]})]})]})}const Xz="~/reg/tools",Bw={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function Jz({project:e}){const[t,n]=C.useState(""),[s,o]=C.useState(""),[u,d]=C.useState(Xz),[l,c]=C.useState(!1),[f,m]=C.useState(null),[h,x]=C.useState(!1),[w,k]=C.useState("claude");C.useEffect(()=>{_()},[]);const _=async()=>{var E;try{const P=await ve.getConfig();k(((E=P.config)==null?void 0:E.aiAssistant)||"claude")}catch(P){console.error("Failed to load preferences:",P)}},v=Bw[w]||Bw.claude,b=()=>{if(!t.trim()){Q.error("Please enter an MCP name");return}const E=`Create a new MCP server project called "${t}" with the following:
- Use Python with uv for package management
- Use FastMCP framework
- Description: ${s||"A custom MCP server"}
- Create a single mcp_server.py file with basic structure
- Include a pyproject.toml configured for uv
- Add a README.md with usage instructions`;m(`cd "${u}" && ${v.command} "${E}"`),c(!0),x(!0)},g=E=>{console.log("Terminal session ready:",E)},y=(E,P)=>{console.log("Terminal exited:",E,P),x(!1),E===0&&Q.success("MCP project created successfully!")},j=()=>{c(!1),m(null),x(!1),n(""),o("")};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"flex-none p-6 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(kn,{className:"w-7 h-7 text-purple-600"}),"Create MCP Server"]}),r.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:["Generate a new MCP server project with ",v.name," assistance"]})]}),l&&r.jsxs(oe,{variant:"outline",onClick:j,className:"text-gray-600 dark:text-slate-300",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"New Project"]})]})}),r.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[r.jsx("div",{className:`${l?"w-1/3 border-r border-gray-200 dark:border-slate-700":"w-full max-w-2xl mx-auto"} p-6 overflow-auto`,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"MCP Name *"}),r.jsx(lt,{value:t,onChange:E=>n(E.target.value),placeholder:"my-awesome-mcp",disabled:h}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"This will be the project folder name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Description"}),r.jsx(vt,{value:s,onChange:E=>o(E.target.value),placeholder:"Describe what your MCP server will do...",className:"min-h-[100px]",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Output Directory"}),r.jsx(lt,{value:u,onChange:E=>d(E.target.value),placeholder:"/path/to/projects",className:"font-mono text-sm",disabled:h}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Where to create the new MCP project"})]}),r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-purple-900 dark:text-purple-300 mb-2",children:"What will be created:"}),r.jsxs("ul",{className:"text-sm text-purple-700 dark:text-purple-400 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(td,{className:"w-4 h-4"}),"Python project with uv package manager"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Bo,{className:"w-4 h-4"}),"FastMCP framework setup"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Er,{className:"w-4 h-4"}),"mcp_server.py with basic structure"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(is,{className:"w-4 h-4"}),"pyproject.toml configured for uv"]})]})]}),!l&&r.jsxs(oe,{onClick:b,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!t.trim(),children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Create & Launch ",v.name]})]})}),l&&r.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900",children:[r.jsxs("div",{className:"flex-none px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-300",children:[v.name," Terminal"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:h&&r.jsxs(rt,{variant:"outline",className:"bg-green-900/50 text-green-400 border-green-700",children:[r.jsx(at,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]})})]}),r.jsx("div",{className:"flex-1",children:r.jsx(Pd,{cwd:u,initialCommand:f,onReady:g,onExit:y,height:"100%"})})]})]})]})}var Qz=Symbol("radix.slottable");function Zz(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Qz,t}var eH="AlertDialog",[tH]=en(eH,[kS]),gi=kS(),rH="AlertDialogTrigger",nH=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=gi(n);return r.jsx(YL,{...o,...s,ref:t})});nH.displayName=rH;var sH="AlertDialogPortal",jN=e=>{const{__scopeAlertDialog:t,...n}=e,s=gi(t);return r.jsx(ag,{...s,...n})};jN.displayName=sH;var iH="AlertDialogOverlay",NN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=gi(n);return r.jsx(hd,{...o,...s,ref:t})});NN.displayName=iH;var Do="AlertDialogContent",[oH,aH]=tH(Do),lH=Zz("AlertDialogContent"),EN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...o}=e,u=gi(n),d=C.useRef(null),l=ct(t,d),c=C.useRef(null);return r.jsx(UL,{contentName:Do,titleName:PN,docsSlug:"alert-dialog",children:r.jsx(oH,{scope:n,cancelRef:c,children:r.jsxs(fd,{role:"alertdialog",...u,...o,ref:l,onOpenAutoFocus:Ie(o.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[r.jsx(lH,{children:s}),r.jsx(uH,{contentRef:d})]})})})});EN.displayName=Do;var PN="AlertDialogTitle",AN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=gi(n);return r.jsx(md,{...o,...s,ref:t})});AN.displayName=PN;var TN="AlertDialogDescription",RN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=gi(n);return r.jsx(pd,{...o,...s,ref:t})});RN.displayName=TN;var cH="AlertDialogAction",MN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=gi(n);return r.jsx(lg,{...o,...s,ref:t})});MN.displayName=cH;var DN="AlertDialogCancel",LN=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:o}=aH(DN,n),u=gi(n),d=ct(t,o);return r.jsx(lg,{...u,...s,ref:d})});LN.displayName=DN;var uH=({contentRef:e})=>{const t=`\`${Do}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Do}\` by passing a \`${TN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Do}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},dH=jN,IN=NN,ON=EN,BN=MN,FN=LN,$N=AN,zN=RN;const hH=dH,HN=C.forwardRef(({className:e,...t},n)=>r.jsx(IN,{className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));HN.displayName=IN.displayName;const fH=C.forwardRef(({className:e,...t},n)=>r.jsxs(hH,{children:[r.jsx(HN,{}),r.jsx(ON,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fH.displayName=ON.displayName;const mH=C.forwardRef(({className:e,...t},n)=>r.jsx($N,{ref:n,className:Ee("text-lg font-semibold",e),...t}));mH.displayName=$N.displayName;const pH=C.forwardRef(({className:e,...t},n)=>r.jsx(zN,{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));pH.displayName=zN.displayName;const gH=C.forwardRef(({className:e,...t},n)=>r.jsx(BN,{ref:n,className:Ee(Jp(),e),...t}));gH.displayName=BN.displayName;const xH=C.forwardRef(({className:e,...t},n)=>r.jsx(FN,{ref:n,className:Ee(Jp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));xH.displayName=FN.displayName;const vH=(e,t)=>{try{const n=localStorage.getItem(`claude-config-${e}`);return n?JSON.parse(n):t}catch{return t}},yH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}},Fw={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function bH({registry:e,searchQuery:t,setSearchQuery:n,onUpdate:s}){var te;const[o,u]=C.useState(()=>vH("registrySearchMode","local")),d=J=>{u(J),yH("registrySearchMode",J)},[l,c]=C.useState([]),[f,m]=C.useState(!1),[h,x]=C.useState({open:!1,name:"",mcp:null,isNew:!1}),[w,k]=C.useState({name:"",command:"npx",args:"",env:"",description:""}),[_,v]=C.useState(!1),[b,g]=C.useState([]),[y,j]=C.useState(""),[E,P]=C.useState({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),[T,N]=C.useState(""),[R,I]=C.useState("claude");C.useEffect(()=>{(async()=>{var se;try{const we=await ve.getConfig();I(((se=we.config)==null?void 0:se.aiAssistant)||"claude")}catch(we){console.error("Failed to load preferences:",we)}})()},[]);const O=Fw[R]||Fw.claude,B=Object.entries(e.mcpServers||{}),$=B.filter(([J])=>J.toLowerCase().includes(t.toLowerCase()));C.useEffect(()=>{(async()=>{try{const se=await ve.getMcpTools();g(se.tools||[]),j(se.dir||"")}catch(se){console.error("Failed to load MCP tools:",se)}})()},[]);const Y=b.filter(J=>{var se;return!((se=e.mcpServers)!=null&&se[J.name])&&J.name.toLowerCase().includes(t.toLowerCase())}),z=(J,se)=>{k({name:J,command:se.command||"npx",args:JSON.stringify(se.args||[],null,2),env:JSON.stringify(se.env||{},null,2),description:se.description||""}),x({open:!0,name:J,mcp:se,isNew:!1})},[K,G]=C.useState({open:!1,json:""}),U=()=>{G({open:!0,json:""})},L=async()=>{if(!K.json.trim()){Q.error("Please paste the MCP JSON configuration");return}try{let J;try{J=JSON.parse(K.json)}catch{Q.error("Invalid JSON format");return}let se={};if(J.mcpServers&&typeof J.mcpServers=="object")se=J.mcpServers;else if(typeof J=="object"&&!Array.isArray(J)){if(Object.keys(J).includes("command")){Q.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}se=J}if(Object.keys(se).length===0){Q.error("No MCP configurations found in the JSON");return}for(const[Ke,ne]of Object.entries(se))if(!ne.command){Q.error(`MCP "${Ke}" is missing required "command" field`);return}const we={...e};we.mcpServers||(we.mcpServers={});for(const[Ke,ne]of Object.entries(se))we.mcpServers[Ke]=ne;await ve.updateRegistry(we);const Le=Object.keys(se).length;Q.success(`Added ${Le} MCP${Le>1?"s":""} to registry!`),G({open:!1,json:""}),s()}catch(J){Q.error("Failed to add: "+J.message)}},M=J=>{const we={[J.name.replace("@modelcontextprotocol/server-","").replace("mcp-server-","").replace("mcp-","").replace(/-/g,"_")]:{command:J.suggestedCommand||"npx",args:J.suggestedArgs||["-y",J.name],...J.description&&{description:J.description}}};G({open:!0,json:JSON.stringify(we,null,2)})},F=J=>{let se,we;J.type==="python"?(se="uv",we=["run","--directory",J.path,"python",J.entryPoint||"mcp_server.py"]):(se="node",we=[J.path+"/index.js"]);const Le={[J.name]:{command:se,args:we,...J.description&&{description:J.description}}};G({open:!0,json:JSON.stringify(Le,null,2)})},q=()=>{if(!E.url.trim()){Q.error("Please enter a URL");return}P(J=>({...J,showTerminal:!0}))},H=()=>{if(E.localTool){const we=E.localTool,Le=`Analyze the MCP server at ${we.path}. Read the README and source files to understand how to run it. Output a JSON config block with name, command, args array, and description for the MCP registry. Be specific about the exact command needed.`;return`cd '${we.path}' && ${O.command} '${Le}'`}const se=`Clone ${E.url.trim()} into ~/reg/tools. Read the README, determine if Python or Node MCP server, and output a JSON config block with name, command, args, and description.`;return`cd ~/reg/tools && ${O.command} '${se}'`},ae=J=>{P({open:!0,url:"",showTerminal:!0,localTool:J,pastedConfig:""})},fe=J=>{J===0&&(Q.success("Import completed! Paste the JSON config below to add it to the registry."),ve.getMcpTools().then(se=>{g(se.tools||[])}))},me=async()=>{if(!E.pastedConfig.trim()){Q.error("Please paste the JSON config first");return}try{let J;try{J=JSON.parse(E.pastedConfig)}catch{Q.error("Invalid JSON format");return}let se={};if(J.mcpServers&&typeof J.mcpServers=="object")se=J.mcpServers;else if(typeof J=="object"&&!Array.isArray(J))if(Object.keys(J).includes("command")){Q.error('JSON is missing the MCP name. Expected format: { "name": { "command": "...", "args": [...] } }');return}else se=J;if(Object.keys(se).length===0){Q.error("No MCP configurations found in the pasted JSON");return}for(const[Ke,ne]of Object.entries(se))if(!ne.command){Q.error(`MCP "${Ke}" is missing required "command" field`);return}const we={...e};we.mcpServers||(we.mcpServers={});for(const[Ke,ne]of Object.entries(se))we.mcpServers[Ke]=ne;await ve.updateRegistry(we);const Le=Object.keys(se).length;Q.success(`Added ${Le} MCP${Le>1?"s":""} to registry!`),P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),s()}catch(J){Q.error("Failed to add config: "+J.message)}},X=async()=>{v(!0);try{let J,se;try{J=JSON.parse(w.args),se=JSON.parse(w.env)}catch{Q.error("Invalid JSON in args or env"),v(!1);return}const we={...e};we.mcpServers||(we.mcpServers={});const Le={command:w.command,args:J,...Object.keys(se).length>0&&{env:se},...w.description&&{description:w.description}};we.mcpServers[h.name]=Le,await ve.updateRegistry(we),Q.success("MCP updated"),x({open:!1,name:"",mcp:null,isNew:!1}),s()}catch(J){Q.error("Failed to save: "+J.message)}finally{v(!1)}},W=async J=>{try{const se={...e};delete se.mcpServers[J],await ve.updateRegistry(se),Q.success(`Removed ${J} from registry`),s()}catch(se){Q.error("Failed to delete: "+se.message)}},le=async()=>{if(t.trim()){m(!0);try{const J=o==="github"?await ve.searchGithub(t):await ve.searchNpm(t);c(J.results||[])}catch(J){Q.error("Search failed: "+J.message),c([])}finally{m(!1)}}};return C.useEffect(()=>{o!=="local"&&c([])},[o]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white dark:text-white flex items-center gap-2",children:[r.jsx(is,{className:"w-5 h-5 text-blue-600"}),"MCP Registry"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"folder"}),className:"border-green-300 dark:border-green-700 text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-950/30",children:[r.jsx(jr,{className:"w-4 h-4 mr-2"}),"Import Folder"]}),r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[r.jsx(xu,{className:"w-4 h-4 mr-2"}),"Import URL"]}),r.jsxs(oe,{variant:"outline",size:"sm",onClick:U,className:"border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs(oe,{variant:o==="local"?"default":"outline",size:"sm",onClick:()=>d("local"),className:o==="local"?"bg-blue-600":"",children:[r.jsx(is,{className:"w-4 h-4 mr-2"}),"Registry (",B.length,")"]}),r.jsxs(oe,{variant:o==="tools"?"default":"outline",size:"sm",onClick:()=>d("tools"),className:o==="tools"?"bg-purple-600":"",children:[r.jsx(jr,{className:"w-4 h-4 mr-2"}),"Tools (",b.length,")"]}),r.jsxs(oe,{variant:o==="github"?"default":"outline",size:"sm",onClick:()=>d("github"),className:o==="github"?"bg-gray-800":"",children:[r.jsx(t5,{className:"w-4 h-4 mr-2"}),"GitHub"]}),r.jsxs(oe,{variant:o==="npm"?"default":"outline",size:"sm",onClick:()=>d("npm"),className:o==="npm"?"bg-red-600":"",children:[r.jsx(Fi,{className:"w-4 h-4 mr-2"}),"npm"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(lt,{value:t,onChange:J=>n(J.target.value),onKeyDown:J=>J.key==="Enter"&&!["local","tools"].includes(o)&&le(),placeholder:o==="local"?"Filter registry...":o==="tools"?"Filter discovered tools...":`Search ${o} for MCPs...`,className:"pl-9 bg-white border-gray-300"})]}),!["local","tools"].includes(o)&&r.jsx(oe,{onClick:le,disabled:f,children:f?r.jsx(at,{className:"w-4 h-4 animate-spin"}):"Search"})]})]}),o==="local"&&r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[$.map(([J,se],we)=>{var Le;return r.jsxs(Po.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:we*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:J}),r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100",children:r.jsx(IM,{className:"w-4 h-4 text-gray-400"})})}),r.jsxs(Es,{children:[r.jsxs(Lt,{onClick:()=>z(J,se),children:[r.jsx(MC,{className:"w-4 h-4 mr-2"}),"Edit"]}),r.jsxs(Lt,{className:"text-red-600",onClick:()=>W(J),children:[r.jsx(mn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3",children:se.description||"MCP server"}),r.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded",children:[se.command," ",(Le=se.args)==null?void 0:Le.join(" ")]}),se.env&&Object.keys(se.env).length>0&&r.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Requires: ",Object.keys(se.env).join(", ")]})]},J)}),$.length===0&&r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No MCPs match your search.":"Registry is empty. Add MCPs or search online."})]}),o==="tools"&&r.jsxs("div",{className:"p-4",children:[y&&r.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-slate-400 flex items-center gap-2",children:[r.jsx(jr,{className:"w-4 h-4"}),"Scanning: ",y]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Y.map((J,se)=>r.jsxs(Po.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:se*.03},className:"bg-purple-50 rounded-lg border border-purple-200 p-4 hover:border-purple-400 hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-purple-900",children:J.name}),r.jsx(rt,{variant:"outline",className:"text-purple-600 border-purple-300",children:J.type==="python"?"Python":"Node"})]}),r.jsx("p",{className:"text-sm text-purple-700 mb-3",children:J.description||"MCP tool"}),r.jsx("code",{className:"text-xs text-purple-600 block truncate bg-purple-100 px-2 py-1 rounded mb-3",children:J.path}),J.framework&&r.jsxs("div",{className:"text-xs text-purple-500 mb-3",children:["Framework: ",J.framework]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>F(J),className:"flex-1 border-purple-300 text-purple-700 hover:bg-purple-100",children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Quick"]}),r.jsxs(oe,{size:"sm",onClick:()=>ae(J),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(kn,{className:"w-4 h-4 mr-1"}),"Smart"]})]})]},J.name)),Y.length===0&&b.length>0&&r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"All discovered tools are already in the registry."}),b.length===0&&r.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:["No MCP tools found in ",y,". Create one using the Developer > Create MCP view."]})]})]}),!["local","tools"].includes(o)&&r.jsx("div",{className:"p-4",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(at,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),r.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-2",children:["Searching ",o,"..."]})]}):l.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((J,se)=>{var we;return r.jsxs(Po.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:se*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:J.name}),J.stars!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[r.jsx(U5,{className:"w-3 h-3"}),J.stars]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:J.description||"No description"}),r.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded mb-3",children:[J.suggestedCommand," ",(we=J.suggestedArgs)==null?void 0:we.join(" ")]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{size:"sm",onClick:()=>M(J),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(wt,{className:"w-3 h-3 mr-1"}),"Add to Registry"]}),J.url&&r.jsx(oe,{size:"sm",variant:"outline",onClick:()=>window.open(J.url,"_blank"),children:r.jsx(xu,{className:"w-3 h-3"})})]})]},J.name||se)})}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No results found. Try a different search term.":`Enter a search term to find MCPs on ${o}.`})})]}),r.jsx(Nt,{open:K.open,onOpenChange:J=>G({...K,open:J}),children:r.jsxs(_t,{className:" max-w-2xl",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add MCP to Registry"}),r.jsx(sr,{children:"Paste the MCP JSON configuration block to add to your registry."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(vt,{value:K.json,onChange:J=>G({...K,json:J.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>G({open:!1,json:""}),children:"Cancel"}),r.jsxs(oe,{onClick:L,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})}),r.jsx(Nt,{open:h.open,onOpenChange:J=>x({...h,open:J}),children:r.jsxs(_t,{className:" max-w-2xl",children:[r.jsxs(Ct,{children:[r.jsxs(St,{children:["Edit MCP: ",h.name]}),r.jsx(sr,{children:"Edit the MCP server configuration."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(lt,{value:w.description,onChange:J=>k({...w,description:J.target.value}),placeholder:"What does this MCP do?",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Command"}),r.jsx(lt,{value:w.command,onChange:J=>k({...w,command:J.target.value}),placeholder:"npx",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Args (JSON array)"}),r.jsx(vt,{value:w.args,onChange:J=>k({...w,args:J.target.value}),placeholder:'["-y", "@modelcontextprotocol/server-xxx"]',className:"mt-1 font-mono text-sm",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Environment Variables (JSON object)"}),r.jsx(vt,{value:w.env,onChange:J=>k({...w,env:J.target.value}),placeholder:'{"API_KEY": "${API_KEY}"}',className:"mt-1 font-mono text-sm",rows:3}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:["Use $","{VAR_NAME}"," syntax for variables from .env file"]})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>x({...h,open:!1}),children:"Cancel"}),r.jsxs(oe,{onClick:X,disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[_?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),r.jsx(Nt,{open:E.open,onOpenChange:J=>P({open:J,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:r.jsxs(_t,{className:`bg-white ${E.showTerminal?"max-w-4xl h-[80vh] max-h-[800px]":"max-w-lg"}`,children:[r.jsxs(Ct,{children:[r.jsx(St,{className:"flex items-center gap-2",children:E.localTool?r.jsxs(r.Fragment,{children:[r.jsx(kn,{className:"w-5 h-5 text-purple-600"})," Configure ",E.localTool.name]}):E.mode==="folder"?r.jsxs(r.Fragment,{children:[r.jsx(jr,{className:"w-5 h-5 text-green-600"})," Import MCP from Folder"]}):r.jsxs(r.Fragment,{children:[r.jsx(xu,{className:"w-5 h-5 text-purple-600"})," Import MCP from URL"]})}),r.jsx(sr,{children:E.localTool?`${O.name} will analyze ${E.localTool.name} and generate the correct configuration.`:E.mode==="folder"?`Enter the path to a local MCP server folder. ${O.name} will analyze it and generate the configuration.`:`Enter a GitHub repository URL. ${O.name} will clone it, read the README, and help configure it.`})]}),!E.showTerminal&&!E.localTool?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"py-4",children:E.mode==="folder"?r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Folder Path"}),r.jsx(lt,{value:T,onChange:J=>N(J.target.value),placeholder:"/path/to/mcp-server or ~/projects/my-mcp",className:"mt-1 font-mono",onKeyDown:J=>J.key==="Enter"&&T.trim()&&P({...E,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}})}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Enter the full path to an existing MCP server project"})]}):r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL"}),r.jsx(lt,{value:E.url,onChange:J=>P({...E,url:J.target.value}),placeholder:"https://github.com/user/mcp-server-example",className:"mt-1",onKeyDown:J=>J.key==="Enter"&&q()}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["The repository will be cloned to ",y||"~/mcp-tools"]})]})}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Cancel"}),E.mode==="folder"?r.jsxs(oe,{onClick:()=>T.trim()&&P({...E,showTerminal:!0,localTool:{name:T.split("/").pop(),path:T}}),disabled:!T.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Analyze with ",O.name]}):r.jsxs(oe,{onClick:q,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(kn,{className:"w-4 h-4 mr-2"}),"Import with ",O.name]})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[E.localTool&&r.jsx("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(jr,{className:"w-4 h-4 text-purple-600"}),r.jsx("code",{className:"text-purple-700",children:E.localTool.path})]})}),r.jsx("div",{className:"flex-1 bg-gray-900 rounded-lg overflow-hidden",style:{minHeight:"200px"},children:r.jsx(Pd,{cwd:((te=E.localTool)==null?void 0:te.path)||y||"~/reg/tools",initialCommand:H(),onExit:fe,height:"100%"})}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[r.jsx(NM,{className:"w-4 h-4"}),"Paste MCP Config JSON"]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 mb-2",children:"Copy the JSON config from the terminal output above and paste it here to add to your registry."}),r.jsx(vt,{value:E.pastedConfig,onChange:J=>P({...E,pastedConfig:J.target.value}),placeholder:`{
  "mcpServers": {
    "example": {
      "command": "npx",
      "args": ["-y", "@example/mcp-server"]
    }
  }
}`,className:"font-mono text-sm bg-white",rows:6})]}),r.jsxs("div",{className:"mt-4 flex justify-between",children:[r.jsx(oe,{variant:"outline",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Close"}),r.jsxs(oe,{onClick:me,disabled:!E.pastedConfig.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config list                       # List available MCPs ( = active)"}),r.jsx("p",{children:"coder-config add <mcp> [mcp...]         # Add MCP(s) to project"}),r.jsx("p",{children:"coder-config remove <mcp> [mcp...]      # Remove MCP(s) from project"}),r.jsx("p",{children:"coder-config registry                    # List MCPs in registry"}),r.jsx("p",{children:"coder-config registry add <name> '...'  # Add MCP to registry"}),r.jsx("p",{children:"coder-config registry remove <name>     # Remove from registry"})]})]})]})}function wH({project:e,onUpdate:t}){var O,B,$,Y;const[n,s]=C.useState(null),[o,u]=C.useState(!0),[d,l]=C.useState(null),[c,f]=C.useState(""),[m,h]=C.useState(!1),[x,w]=C.useState("global"),[k,_]=C.useState(""),[v,b]=C.useState([]),[g,y]=C.useState({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""});C.useEffect(()=>{j()},[]);const j=async()=>{try{u(!0);const z=await ve.getMemory();s(z)}catch{Q.error("Failed to load memory")}finally{u(!1)}};C.useEffect(()=>{d&&E(d.path)},[d]);const E=async z=>{try{const K=await ve.getMemoryFile(z);f(K.content||"")}catch{Q.error("Failed to load file")}},P=async()=>{if(d){h(!0);try{await ve.saveMemoryFile(d.path,c),Q.success("Saved!"),j()}catch{Q.error("Failed to save")}finally{h(!1)}}},T=async()=>{if(!k.trim()){b([]);return}try{const z=await ve.searchMemory(k);b(z.results||[])}catch{Q.error("Search failed")}},N=async()=>{let z="";const{type:K}=g;switch(K){case"preference":if(!g.name.trim()){Q.error("Name required");return}z=`**${g.name}**: ${g.description}`;break;case"correction":if(!g.wrong.trim()||!g.right.trim()){Q.error('Both "wrong" and "right" are required');return}z=`**Wrong**: ${g.wrong}
**Right**: ${g.right}`;break;case"fact":if(!g.category.trim()){Q.error("Category required");return}z=`**${g.category}**: ${g.details}`;break;case"pattern":if(!g.name.trim()){Q.error("Name required");return}z=`**${g.name}**
${g.description}`;break;case"decision":if(!g.title.trim()){Q.error("Title required");return}z=`**${g.title}**

**Context**: ${g.context}

**Decision**: ${g.decision}

**Rationale**: ${g.rationale}`;break;case"issue":if(!g.title.trim()){Q.error("Title required");return}z=`**${g.title}**

${g.description}`;break;case"history":case"context":default:if(!g.content.trim()){Q.error("Content required");return}z=g.content;break}try{const G=["pattern","decision","issue","history","context"].includes(K)?"project":"global";await ve.addMemoryEntry(K,z,G),Q.success(`Added ${K} entry`),y({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),j()}catch{Q.error("Failed to add entry")}},R=async()=>{try{await ve.initProjectMemory(e.dir),Q.success("Project memory initialized!"),j()}catch(z){Q.error(z.message||"Failed to initialize")}};if(o)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-indigo-600"})});const I={global:[{id:"preference",label:"Preference",icon:Pn,desc:"User preferences (tools, style, etc.)"},{id:"correction",label:"Correction",icon:ks,desc:"Mistakes to avoid"},{id:"fact",label:"Fact",icon:Oi,desc:"Facts about your environment"}],project:[{id:"context",label:"Context",icon:Er,desc:"Project overview and conventions"},{id:"pattern",label:"Pattern",icon:td,desc:"Code patterns in this project"},{id:"decision",label:"Decision",icon:Nl,desc:"Architecture decisions"},{id:"issue",label:"Issue",icon:ks,desc:"Known issues and workarounds"},{id:"history",label:"History",icon:gu,desc:"Session work log"}]};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(Bi,{className:"w-5 h-5 text-purple-600"}),"Memory System"]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>y({open:!0,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Entry"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(lt,{placeholder:"Search memory...",value:k,onChange:z=>_(z.target.value),onKeyDown:z=>z.key==="Enter"&&T(),className:"flex-1"}),r.jsx(oe,{variant:"outline",onClick:T,children:r.jsx(jl,{className:"w-4 h-4"})})]}),v.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-900 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Search Results"}),r.jsx("div",{className:"space-y-2",children:v.map((z,K)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rt,{variant:z.scope==="global"?"default":"secondary",children:z.scope}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:z.file})]}),z.matches.map((G,U)=>r.jsxs("div",{className:"ml-4 text-gray-600 dark:text-slate-400 text-xs mt-1",children:["Line ",G.line,": ",G.text]},U))]},K))})]})]}),r.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:["global","project","sync"].map(z=>r.jsxs("button",{onClick:()=>w(z),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${x===z?"bg-white dark:bg-slate-950 border border-b-white dark:border-b-slate-950 border-gray-200 dark:border-slate-700 -mb-[1px] text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:[z.charAt(0).toUpperCase()+z.slice(1)," Memory"]},z))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[x==="global"&&"Global Memory Files",x==="project"&&"Project Memory Files",x==="sync"&&"Sync State"]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[x==="global"&&"~/.claude/memory/",x==="project"&&`${e.dir}/.claude/memory/`,x==="sync"&&"~/.claude/sync/"]})]}),r.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[x==="global"&&((O=n==null?void 0:n.global)==null?void 0:O.files.map(z=>r.jsxs("button",{onClick:()=>z.exists&&l(z),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(d==null?void 0:d.path)===z.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${z.exists?"":"opacity-50"}`,children:[r.jsx(Er,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:z.type})]}),z.exists?r.jsx(Jt,{className:"w-4 h-4 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},z.name))),x==="project"&&r.jsx(r.Fragment,{children:(B=n==null?void 0:n.project)!=null&&B.initialized?($=n==null?void 0:n.project)==null?void 0:$.files.map(z=>r.jsxs("button",{onClick:()=>z.exists&&l(z),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(d==null?void 0:d.path)===z.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${z.exists?"":"opacity-50"}`,children:[r.jsx(Er,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:z.type})]}),z.exists?r.jsx(Jt,{className:"w-4 h-4 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},z.name)):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Bi,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Project memory not initialized"}),r.jsxs(oe,{onClick:R,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Initialize Project Memory"]})]})}),x==="sync"&&r.jsx("div",{className:"p-4",children:(Y=n==null?void 0:n.sync)!=null&&Y.state?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current State"}),r.jsx("pre",{className:"text-xs bg-gray-50 dark:bg-slate-900 p-3 rounded overflow-auto max-h-48 text-gray-800 dark:text-slate-300",children:JSON.stringify(n.sync.state,null,2)})]}),n.sync.history.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["History (",n.sync.history.length,")"]}),r.jsx("div",{className:"space-y-1",children:n.sync.history.map((z,K)=>r.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400 flex items-center gap-2",children:[r.jsx(gu,{className:"w-3 h-3"}),z.name]},K))})]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(gu,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No sync state"}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"State is created by session hooks"})]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:d?d.name:"Select a file"}),d&&r.jsxs(oe,{size:"sm",onClick:P,disabled:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[m?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save"]})]}),r.jsx("div",{className:"p-4",children:d?r.jsx(vt,{value:c,onChange:z=>f(z.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"File content..."}):r.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400 dark:text-slate-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Er,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Select a file to edit"})]})})})]})]}),r.jsx(Nt,{open:g.open,onOpenChange:z=>y({...g,open:z}),children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Add Memory Entry"}),r.jsx(sr,{children:"Add a new entry to the appropriate memory file."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Entry Type"}),r.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[...I.global,...I.project].map(z=>{const K=z.icon,G=I.global.some(U=>U.id===z.id);return r.jsxs("button",{onClick:()=>y({...g,type:z.id}),className:`p-2 rounded-lg border text-left transition-colors ${g.type===z.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(K,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.label})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:G?"Global":"Project"})]},z.id)})})]}),g.type==="preference"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Name"}),r.jsx(lt,{value:g.name,onChange:z=>y({...g,name:z.target.value}),placeholder:"e.g., package-manager",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(lt,{value:g.description,onChange:z=>y({...g,description:z.target.value}),placeholder:"e.g., Always use pnpm instead of npm",className:"mt-1"})]})]}),g.type==="correction"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Wrong (what to avoid)"}),r.jsx(vt,{value:g.wrong,onChange:z=>y({...g,wrong:z.target.value}),placeholder:"e.g., Using npm install",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Right (what to do instead)"}),r.jsx(vt,{value:g.right,onChange:z=>y({...g,right:z.target.value}),placeholder:"e.g., Use pnpm install",className:"mt-1",rows:2})]})]}),g.type==="fact"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Category"}),r.jsx(lt,{value:g.category,onChange:z=>y({...g,category:z.target.value}),placeholder:"e.g., shell, editor, system",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Details"}),r.jsx(vt,{value:g.details,onChange:z=>y({...g,details:z.target.value}),placeholder:"e.g., Using zsh with oh-my-zsh",className:"mt-1",rows:2})]})]}),g.type==="pattern"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pattern Name"}),r.jsx(lt,{value:g.name,onChange:z=>y({...g,name:z.target.value}),placeholder:"e.g., API Response Format",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),r.jsx(vt,{value:g.description,onChange:z=>y({...g,description:z.target.value}),placeholder:"Describe the pattern and when to use it...",className:"mt-1",rows:3})]})]}),g.type==="decision"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Title"}),r.jsx(lt,{value:g.title,onChange:z=>y({...g,title:z.target.value}),placeholder:"e.g., Use React Query for data fetching",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context"}),r.jsx(vt,{value:g.context,onChange:z=>y({...g,context:z.target.value}),placeholder:"What problem were we solving?",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Decision"}),r.jsx(vt,{value:g.decision,onChange:z=>y({...g,decision:z.target.value}),placeholder:"What did we decide?",className:"mt-1",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rationale"}),r.jsx(vt,{value:g.rationale,onChange:z=>y({...g,rationale:z.target.value}),placeholder:"Why this choice over alternatives?",className:"mt-1",rows:2})]})]}),g.type==="issue"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Issue Title"}),r.jsx(lt,{value:g.title,onChange:z=>y({...g,title:z.target.value}),placeholder:"e.g., Memory leak in useEffect",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description / Workaround"}),r.jsx(vt,{value:g.description,onChange:z=>y({...g,description:z.target.value}),placeholder:"Describe the issue and any workarounds...",className:"mt-1",rows:3})]})]}),(g.type==="history"||g.type==="context")&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Content"}),r.jsx(vt,{value:g.content,onChange:z=>y({...g,content:z.target.value}),placeholder:g.type==="history"?"What work was done this session?":"Project context and overview...",className:"mt-1",rows:4})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>y({...g,open:!1}),children:"Cancel"}),r.jsxs(oe,{onClick:N,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config memory                         # Show memory status"}),r.jsx("p",{children:"coder-config memory init                    # Initialize project memory"}),r.jsx("p",{children:'coder-config memory add <type> "<content>"  # Add entry'}),r.jsx("p",{children:"coder-config memory search <query>          # Search all memory"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 text-xs mt-2",children:"# Types: preference, correction, fact (global) | context, pattern, decision, issue, history (project)"})]})]})]})}function _H({onProjectSwitch:e}){const[t,n]=C.useState([]),[s,o]=C.useState(null),[u,d]=C.useState(!0),[l,c]=C.useState(!1),[f,m]=C.useState({open:!1,project:null,name:""}),[h,x]=C.useState(!1);C.useEffect(()=>{w()},[]);const w=async()=>{try{d(!0);const g=await ve.getProjects();n(g.projects||[]),o(g.activeProjectId)}catch{Q.error("Failed to load projects")}finally{d(!1)}},k=g=>{m({open:!0,project:g,name:g.name})},_=async()=>{if(!(!f.project||!f.name.trim())){x(!0);try{const g=await ve.updateProject(f.project.id,{name:f.name.trim()});g.success?(n(y=>y.map(j=>j.id===f.project.id?{...j,name:g.project.name}:j)),Q.success("Project updated"),m({open:!1,project:null,name:""})):Q.error(g.error||"Failed to update project")}catch(g){Q.error("Failed to update project: "+g.message)}finally{x(!1)}}},v=async g=>{if(confirm(`Remove "${g.name}" from the registry?

This won't delete any files.`))try{const y=await ve.removeProject(g.id);y.success?(n(j=>j.filter(E=>E.id!==g.id)),Q.success(`Removed project: ${g.name}`)):Q.error(y.error||"Failed to remove project")}catch(y){Q.error("Failed to remove project: "+y.message)}},b=g=>{n(y=>[...y,{...g,exists:!0,hasClaudeConfig:!1}])};return u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:r.jsx(oi,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Projects"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Registered projects for quick switching"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:"outline",onClick:w,size:"sm",children:[r.jsx(br,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(oe,{onClick:()=>c(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-700 dark:text-blue-400",children:r.jsx("p",{children:"Projects registered here can be quickly switched in the header dropdown. The UI will update to show the selected project's configuration."})}),r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:t.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(jr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Projects Yet"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Add your first project to get started with quick switching."}),r.jsxs(oe,{onClick:()=>c(!0),children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Your First Project"]})]}):r.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:t.map(g=>r.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${g.isActive?"bg-indigo-50 dark:bg-indigo-950/30":"hover:bg-gray-50 dark:hover:bg-slate-900"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${g.isActive?"bg-indigo-100 dark:bg-indigo-900/50":g.exists?"bg-gray-100 dark:bg-slate-800":"bg-amber-100 dark:bg-amber-900/30"}`,children:g.isActive?r.jsx(Jt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}):g.exists?r.jsx(jr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}):r.jsx(nd,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:`font-medium truncate ${g.isActive?"text-indigo-700 dark:text-indigo-400":"text-gray-900 dark:text-white"}`,children:g.name}),g.hasClaudeConfig&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded",children:".claude"}),g.isActive&&r.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Active"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-mono truncate",children:g.path.replace(/^\/Users\/[^/]+/,"~")}),!g.exists&&r.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Path not found - the directory may have been moved or deleted"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(g),className:"text-gray-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Edit project name",children:r.jsx(Yp,{className:"w-4 h-4"})}),r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>v(g),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Remove from registry",children:r.jsx(mn,{className:"w-4 h-4"})})]})]},g.id))})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config project add [path]        # Add project"}),r.jsx("p",{children:"coder-config project remove <name>    # Remove project"}),r.jsx("p",{children:"coder-config project                   # List projects"})]})]}),r.jsx($j,{open:l,onOpenChange:c,onAdded:b}),r.jsx(Nt,{open:f.open,onOpenChange:g=>!g&&m({open:!1,project:null,name:""}),children:r.jsxs(_t,{className:"bg-card",children:[r.jsxs(Ct,{children:[r.jsx(St,{children:"Edit Project"}),r.jsx(sr,{children:"Update the project name displayed in the registry."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Project Name"}),r.jsx(lt,{value:f.name,onChange:g=>m(y=>({...y,name:g.target.value})),placeholder:"My Project",className:"mt-1",onKeyDown:g=>g.key==="Enter"&&_()}),f.project&&r.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:f.project.path.replace(/^\/Users\/[^/]+/,"~")})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>m({open:!1,project:null,name:""}),children:"Cancel"}),r.jsxs(oe,{onClick:_,disabled:h||!f.name.trim(),children:[h?r.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save"]})]})]})})]})}const CH=[{id:"getting-started",title:"Getting Started",icon:Oi,subsections:[{id:"installation",title:"Installation"},{id:"quick-start",title:"Quick Start"},{id:"updating",title:"Updating"}]},{id:"projects",title:"Project Management",icon:ti,subsections:[{id:"project-registry",title:"Project Registry"},{id:"project-switching",title:"Switching Projects"},{id:"project-structure",title:"Project Structure"}]},{id:"file-explorer",title:"Project Explorer",icon:jr,subsections:[{id:"claude-folders",title:".claude Folders"},{id:"rules",title:"Rules"},{id:"commands",title:"Commands"},{id:"workflows",title:"Workflows"},{id:"hierarchy",title:"Configuration Hierarchy"},{id:"subprojects",title:"Sub-Projects"}]},{id:"workstreams",title:"Workstreams",icon:ti,subsections:[{id:"workstreams-overview",title:"Overview"},{id:"creating-workstreams",title:"Creating Workstreams"},{id:"workstream-hooks",title:"Hook Integration"},{id:"activity-tracking",title:"Activity Tracking"}]},{id:"loops",title:"Ralph Loops",icon:ll,isNew:!0,subsections:[{id:"loops-overview",title:"Overview"},{id:"creating-loops",title:"Creating Loops"},{id:"loop-phases",title:"Loop Phases"},{id:"loop-controls",title:"Controls"},{id:"loop-configuration",title:"Configuration"}]},{id:"plugins",title:"Plugins",icon:is,isNew:!0,subsections:[{id:"plugins-overview",title:"Overview"},{id:"installing-plugins",title:"Installing Plugins"},{id:"plugin-marketplaces",title:"Marketplaces"}]},{id:"mcp-registry",title:"MCP Registry",icon:is,subsections:[{id:"mcp-overview",title:"Overview"},{id:"adding-mcps",title:"Adding MCPs"},{id:"configuring-mcps",title:"Configuring MCPs"},{id:"environment-vars",title:"Environment Variables"}]},{id:"memory",title:"Memory System",icon:Bi,subsections:[{id:"memory-overview",title:"Overview"},{id:"global-memory",title:"Global Memory"},{id:"project-memory",title:"Project Memory"},{id:"memory-entries",title:"Memory Entry Types"}]},{id:"claude-settings",title:"Claude Code Settings",icon:cs,subsections:[{id:"permissions",title:"Permissions"},{id:"model-selection",title:"Model Selection"},{id:"behavior",title:"Behavior Settings"},{id:"hooks",title:"Hooks"}]},{id:"gemini-settings",title:"Gemini CLI Settings",icon:It,isNew:!0,subsections:[{id:"gemini-model",title:"Model Selection"},{id:"gemini-display",title:"Display Options"},{id:"gemini-general",title:"General Settings"},{id:"gemini-sandbox",title:"Sandbox Mode"}]},{id:"codex-settings",title:"Codex CLI Settings",icon:It,isNew:!0,subsections:[{id:"codex-overview",title:"Overview"},{id:"codex-model",title:"Model Selection"},{id:"codex-security",title:"Security Settings"},{id:"codex-mcp",title:"MCP Servers"},{id:"codex-features",title:"Features & Display"}]},{id:"antigravity-settings",title:"Antigravity Settings",icon:kl,isNew:!0,subsections:[{id:"antigravity-security",title:"Security Policies"},{id:"antigravity-mcp",title:"MCP Servers"},{id:"antigravity-browser",title:"Browser Allowlist"},{id:"antigravity-agent",title:"Agent Mode"}]},{id:"cli",title:"CLI Reference",icon:It,subsections:[{id:"cli-overview",title:"Overview"},{id:"cli-commands",title:"All Commands"},{id:"daemon-mode",title:"Daemon Mode"}]},{id:"multi-tool",title:"Multi-Tool Support",icon:Ut,subsections:[{id:"supported-tools",title:"Supported Tools"},{id:"gemini-cli",title:"Gemini CLI"},{id:"antigravity",title:"Antigravity"},{id:"tool-differences",title:"Tool Differences"},{id:"enabling-tools",title:"Enabling Tools"},{id:"syncing-rules",title:"Syncing Rules"}]},{id:"keyboard",title:"Keyboard Shortcuts",icon:l5,subsections:[]},{id:"troubleshooting",title:"Troubleshooting",icon:ed,subsections:[{id:"common-issues",title:"Common Issues"},{id:"getting-help",title:"Getting Help"}]}],SH={installation:{title:"Installation",content:`
## Installation

Choose your preferred installation method:

### Option A: Desktop App (Recommended)

Download the native app from [GitHub Releases](https://github.com/regression-io/coder-config/releases):

| Platform | Download |
|----------|----------|
| **macOS (Apple Silicon)** | \`Claude.Config_*_aarch64.dmg\` |
| **macOS (Intel)** | \`Claude.Config_*_x64.dmg\` |
| **Windows** | \`Claude.Config_*_x64-setup.exe\` |
| **Linux** | \`Claude.Config_*_amd64.deb\` or \`.AppImage\` |

The desktop app bundles everything - no Node.js or npm required. Just download, install, and run.

### Option B: npm Package (CLI)

Install globally via npm:

\`\`\`bash
npm install -g coder-config
\`\`\`

**Requirements:** Node.js 18+

Verify installation:

\`\`\`bash
coder-config --version
\`\`\`

Then start the UI:

\`\`\`bash
coder-config ui
\`\`\`
    `},"quick-start":{title:"Quick Start",content:`
## Quick Start

Claude Code works great out of the box. This tool helps you manage its configuration visually.

### 1. Launch Coder Config

**Desktop App:** Double-click the app after installing from GitHub Releases.

**CLI:** Run \`coder-config ui\` in your terminal.

### 2. Add Your Projects

Click "Add Project" to register directories where you use Claude Code.

### 3. Configure as Needed

| Feature | Description |
|---------|-------------|
| **Rules** | Guidelines Claude follows in this project |
| **Commands** | Reusable prompts (slash commands) |
| **MCPs** | External tools Claude can use |
| **Permissions** | What Claude can do automatically |

### 4. Use Claude Code Normally

\`\`\`bash
cd ~/your-project
claude
\`\`\`

Claude Code automatically reads configuration from the \`.claude/\` folder.

### Optional: Install as PWA

Using the CLI version? The UI is a PWA - install it to your taskbar via Chrome/Edge's install button or Safari's Share  Add to Dock.
    `},updating:{title:"Updating",content:`
## Updating

### Desktop App

Download the latest version from [GitHub Releases](https://github.com/regression-io/coder-config/releases) and install over your existing installation.

### npm Package

The UI automatically checks npm for new versions. When an update is available, you'll see a notification in the Preferences page.

**Manual update:**

\`\`\`bash
npm install -g coder-config@latest
\`\`\`

**After updating (if using daemon mode):**

\`\`\`bash
coder-config ui stop
coder-config ui
\`\`\`
    `}},kH={"project-registry":{title:"Project Registry",content:`
## Project Registry

The project registry keeps track of all your Claude-enabled projects. It's stored in \`~/.coder-config/projects.json\` (or \`~/.claude-config/projects.json\` for legacy installs).

### Adding Projects

**Via UI:**
1. Click "Add Project" in the header
2. Select a directory

**Via CLI:**
\`\`\`bash
coder-config project add /path/to/project
coder-config project add /path/to/project --name "My Project"
\`\`\`

### Listing Projects

\`\`\`bash
coder-config project
\`\`\`

### Removing Projects

\`\`\`bash
coder-config project remove "My Project"
coder-config project remove /path/to/project
\`\`\`

Note: Removing a project from the registry does not delete the project files.
    `},"project-switching":{title:"Switching Projects",content:`
## Switching Projects

### In Claude Code

To work on a project with Claude Code, simply run \`claude\` from the project directory:

\`\`\`bash
cd ~/projects/my-app
claude
\`\`\`

Claude Code automatically uses the configuration from the current directory's \`.claude/\` folder.

### In the Config UI

The project dropdown in the header switches which project's **configuration** you're editing. This doesn't affect Claude Code sessions - it just changes what the UI displays.

\`\`\`bash
# Start UI for a specific project
coder-config ui /path/to/project
\`\`\`

The UI remembers your last active project between sessions.
    `},"project-structure":{title:"Project Structure",content:`
## Project Structure

A Claude-enabled project has a \`.claude\` folder with this structure:

\`\`\`
your-project/
 .claude/
    mcps.json       # MCP configuration
    settings.json   # Project-specific settings
    CLAUDE.md       # Project instructions
    rules/          # Rule files (*.md)
       style.md
       patterns.md
    commands/       # Command files (*.md)
       review.md
       test.md
    workflows/      # Workflow files (*.md)
       deploy.md
    memory/         # Project memory (optional)
        context.md
        patterns.md
 .mcp.json           # Generated - Claude Code reads this
\`\`\`

### Generated Files

The \`.mcp.json\` file in your project root is generated by running \`coder-config apply\`. Claude Code reads this file to configure MCPs.
    `}},jH={"claude-folders":{title:".claude Folders",content:`
## .claude Folders

The \`.claude\` folder contains all Claude Code configuration for a directory.

### Creating .claude Folders

In the Project Explorer, click "+ .claude" on any directory in the hierarchy to create a new configuration folder.

### Hierarchy

Configuration is inherited from parent directories:

\`\`\`
~/.claude/              # Global - applies everywhere
~/projects/.claude/     # Workspace - applies to all projects here
~/projects/my-app/      # Project - specific to this project
\`\`\`

Settings merge from global to project, with more specific settings taking precedence.
    `},rules:{title:"Rules",content:`
## Rules

Rules are markdown files that provide guidelines and instructions for Claude.

### Creating Rules

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "rules"
3. Enter a name (e.g., "coding-style")

### Rule Content

Rules should be written in markdown and contain:
- Guidelines for code style
- Project-specific patterns
- Do's and don'ts
- Architecture decisions

### Example Rule

\`\`\`markdown
# Coding Style

## TypeScript
- Use strict mode
- Prefer interfaces over types
- Use named exports

## React
- Use functional components
- Prefer hooks over HOCs
- Keep components small and focused
\`\`\`

### Rule Priority

Rules are loaded in order from global to project. Project rules can override global rules.
    `},commands:{title:"Commands",content:`
## Commands

Commands are reusable prompts that can be invoked in Claude Code.

### Creating Commands

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "commands"
3. Enter a name (e.g., "review")

### Command Content

Commands are markdown files containing a prompt template. They can include:
- Instructions for Claude
- Templates with placeholders
- Multi-step workflows

### Example Command

\`\`\`markdown
# Code Review

Review the selected code for:

1. **Bugs** - Logic errors, edge cases
2. **Security** - Vulnerabilities, input validation
3. **Performance** - Inefficiencies, memory leaks
4. **Style** - Consistency, readability

Provide specific suggestions with code examples.
\`\`\`

### Using Commands

In Claude Code, use \`/command-name\` to invoke a command.
    `},workflows:{title:"Workflows",content:`
## Workflows

Workflows are markdown files that define multi-step processes or cross-repository operations.

### Location

Workflows are stored in \`.claude/workflows/\` in your project root.

### Creating Workflows

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button and select "New Workflow"
3. Enter a name (e.g., "deploy-all")

### Workflow Content

Workflows typically include:
- Step-by-step instructions
- Cross-repository coordination
- Environment setup
- Deployment processes

### Example Workflow

\`\`\`markdown
# Deploy All Services

## Steps

1. Build auth-service first
2. Then build api-gateway
3. Run integration tests
4. Deploy to staging
5. Deploy to production
\`\`\`

### Use Cases

- Multi-repo deployments
- Complex build processes
- Onboarding procedures
- Release workflows
    `},subprojects:{title:"Sub-Projects",content:`
## Sub-Projects

Sub-projects are nested git repositories within your main project (monorepos, workspaces).

### Detection

Sub-projects are automatically detected by scanning for \`.git\` directories within your project.

### Sub-Projects View

Access via **Sub-Projects** in the sidebar (only appears if sub-projects exist).

The view shows:
- All detected sub-projects
- Which have \`.claude\` folders configured
- MCP count per sub-project

### Managing Sub-Projects

**Initialize .claude folder:**
Click the folder+ icon on a sub-project without configuration.

**Delete .claude folder:**
Click the trash icon (with confirmation) to remove configuration.

**Switch to sub-project:**
Click a sub-project card to switch context and manage it in Project Explorer.

### Sticky Navigation

When inside a sub-project, the Sub-Projects menu remains visible showing all sub-projects from the root project. Use "Back to Root" to return.

### Configuration Inheritance

Sub-projects inherit configuration from parent directories. Each sub-project can have its own \`.claude\` folder that extends the parent configuration.
    `},hierarchy:{title:"Configuration Hierarchy",content:`
## Configuration Hierarchy

Coder Config uses a hierarchical configuration system where settings cascade from global to local.

### Levels

1. **Global** (\`~/.claude/\`) - Applies to all projects
2. **Workspace** (intermediate directories) - Applies to projects in that directory
3. **Project** (your project's \`.claude/\`) - Specific to one project

### Merging Behavior

- **MCPs**: Merged, with local configs overriding global
- **Rules**: All rules are loaded, local rules can override
- **Commands**: All commands are available, local takes precedence
- **Settings**: Deep merged, local values override

### Viewing the Hierarchy

In the Project Explorer, you'll see all \`.claude\` folders in the hierarchy from your project up to home. You can manage configuration at each level.
    `}},NH={"workstreams-overview":{title:"Workstreams Overview",content:`
## Workstreams

Workstreams are **virtual projects** that group multiple repos belonging to the same product or system.

### The Problem

Many products are split across multiple repositories:
- Frontend repo
- Backend/API repo
- Shared libraries or types
- Infrastructure configs

When you work on "Product X", you're jumping between repos that are all part of the same product.

### The Solution

A workstream groups these repos together so Claude understands they're related:

\`\`\`
"Acme App" workstream:
  - acme-frontend (React app)
  - acme-api (Node.js backend)
  - acme-shared (TypeScript types)
\`\`\`

### Workstream Structure

Each workstream has:
- **Name** - Product or system name (e.g., "Acme App", "Customer Portal")
- **Projects** - List of repos that belong to this product
- **Rules** - Context and guidelines for the entire product
- **Active Status** - Only one workstream can be active at a time
    `},"creating-workstreams":{title:"Creating Workstreams",content:`
## Creating Workstreams

### Via UI

1. Go to **Workstreams** in the sidebar
2. Click **New Workstream**
3. Name it after your product (e.g., "Acme App")
4. Add the repos that belong to this product
5. Write rules for Claude to follow
6. Click **Create**

### Via CLI

\`\`\`bash
# Create a workstream for your product
coder-config workstream create "Acme App"

# Add repos to it
coder-config workstream add "Acme App" ~/projects/acme-frontend
coder-config workstream add "Acme App" ~/projects/acme-api
coder-config workstream add "Acme App" ~/projects/acme-shared

# Activate it
coder-config workstream use "Acme App"
\`\`\`

### Managing Workstreams

**List all workstreams:**
\`\`\`bash
coder-config workstream
\`\`\`

**Show active workstream:**
\`\`\`bash
coder-config workstream active
\`\`\`

**Delete a workstream:**
\`\`\`bash
coder-config workstream delete "Acme App"
\`\`\`

### Editing Rules

In the UI, click a workstream to expand it and edit rules. Rules are markdown text that gets injected into Claude sessions:

\`\`\`markdown
# Acme App

Full-stack TypeScript application.
- Frontend: React 18 with Vite
- Backend: Node.js with Express
- Shared types in @acme/shared package

All repos follow the same code style and conventions.
\`\`\`
    `},"workstream-hooks":{title:"Workstream Hook Integration",content:`
## Hook Integration

For workstream rules to be automatically injected into Claude sessions, you need to install a pre-prompt hook.

### One-Click Install (Recommended)

1. Open Web UI  **Workstreams**
2. Click **Install Hook Automatically**
3. Done! A green "Hook Installed" badge will appear

### Manual Installation

Add to \`~/.claude/hooks/pre-prompt.sh\`:

\`\`\`bash
#!/bin/bash
coder-config workstream inject --silent
\`\`\`

Make it executable:
\`\`\`bash
chmod +x ~/.claude/hooks/pre-prompt.sh
\`\`\`

### How It Works

1. When you start a Claude session, the pre-prompt hook runs
2. It checks for an active workstream
3. If found, it outputs the workstream's rules
4. These rules are prepended to your Claude session context

### Testing the Hook

\`\`\`bash
# See what would be injected
coder-config workstream inject

# Silent mode (no output if no workstream)
coder-config workstream inject --silent
\`\`\`

### Auto-Detection

Claude-config can also detect which workstream to use based on your current directory:

\`\`\`bash
coder-config workstream detect /path/to/project
\`\`\`
    `},"activity-tracking":{title:"Activity Tracking",content:`
## Activity Tracking

Activity tracking observes which files and projects you work with during Claude sessions, enabling intelligent workstream suggestions.

### How It Works

1. A post-response hook logs file paths accessed during Claude sessions
2. Co-activity patterns are detected (projects frequently worked on together)
3. Workstream suggestions appear in the UI based on these patterns

### Setting Up Activity Tracking

Add to \`~/.claude/hooks/post-response.sh\`:

\`\`\`bash
#!/bin/bash
source /path/to/coder-config/hooks/activity-track.sh
\`\`\`

Or use the one-click install in the Workstreams view.

### Activity Insights Panel

In the **Workstreams** view, the Activity Insights panel shows:
- **Sessions tracked** - Number of Claude sessions logged
- **Files tracked** - Total file accesses recorded
- **Active projects** - Projects with recent activity
- **Top projects** - Most frequently accessed projects

### Workstream Suggestions

Based on co-activity patterns, coder-config suggests workstreams:

- **Co-activity score** - Percentage showing how often projects are worked on together
- **Create button** - Opens pre-filled dialog (tweak projects as needed)
- **Dismiss button** - Hide suggestions you don't want (persists to localStorage)

### Privacy

- Activity data is stored locally in \`~/.coder-config/activity.json\`
- Only file paths are logged (not file contents)
- You can delete the activity file at any time
- Activity tracking is read-only and never modifies your code
    `}},EH={"loops-overview":{title:"Ralph Loops Overview",content:`
## Ralph Loops

Ralph Loops enable **autonomous development** - Claude Code runs continuously until a task is completed, without requiring manual intervention between iterations.

### The Problem

Complex development tasks often require multiple Claude sessions:
- Start task, Claude makes progress
- Review output, provide more context
- Continue, hit a blocker
- Clarify requirements, continue again
- Repeat until done

This back-and-forth is tedious and breaks your flow.

### The Solution

A Ralph Loop automates this workflow:

1. **Clarify** - Claude asks questions to understand requirements
2. **Plan** - Claude creates an implementation plan (you approve)
3. **Execute** - Claude implements the plan autonomously

The loop continues until the task is complete or budget limits are reached.

### Key Features

- **Three-phase workflow** - Ensures requirements are clear before implementation
- **Iteration limits** - Prevents runaway loops (default: 50 iterations)
- **Cost budgets** - Caps spending (default: $10)
- **Phase gates** - Manual plan approval before execution
- **Graceful pausing** - Stop at any time, resume later
    `},"creating-loops":{title:"Creating Loops",content:`
## Creating Loops

### Via UI

1. Go to **Ralph Loops** in the sidebar
2. Click **New Loop**
3. Describe the task you want completed
4. Optionally select a workstream context
5. Click **Create Loop**

### Via CLI

\`\`\`bash
# Create a loop with a task description
coder-config loop create "Add user authentication with JWT tokens"

# Create within a workstream context
coder-config loop create "Fix API rate limiting" --workstream "Backend Services"
\`\`\`

### Task Description Tips

Be specific about what you want accomplished:

**Good task descriptions:**
- "Add user authentication using JWT tokens with refresh token support"
- "Refactor the payment module to use the new Stripe API v3"
- "Create unit tests for the user service with 80% coverage"

**Less effective:**
- "Fix the bug" (which bug?)
- "Make it better" (what specifically?)
- "Add features" (which features?)

### Starting a Loop

After creation, start the loop:

\`\`\`bash
coder-config loop start <loop-id>
\`\`\`

Then run Claude with the loop context:

\`\`\`bash
export CODER_LOOP_ID=<loop-id>
claude --continue "Your task description"
\`\`\`
    `},"loop-phases":{title:"Loop Phases",content:`
## Loop Phases

Every Ralph Loop progresses through three phases:

### Phase 1: Clarify

**Purpose:** Ensure requirements are fully understood before planning.

In this phase, Claude:
- Asks clarifying questions about the task
- Identifies ambiguities or missing information
- Documents Q&A in \`clarifications.md\`

**Advances when:** Claude determines requirements are clear (max 5 clarification iterations by default).

### Phase 2: Plan

**Purpose:** Create a detailed implementation plan.

In this phase, Claude:
- Analyzes the clarified requirements
- Creates a step-by-step implementation plan
- Saves the plan to \`plan.md\`

**Advances when:** You approve the plan (or auto-approve is enabled).

To approve a plan:
\`\`\`bash
coder-config loop approve <loop-id>
\`\`\`

Or click the approve button in the UI.

### Phase 3: Execute

**Purpose:** Implement the plan.

In this phase, Claude:
- Follows the implementation plan step by step
- Makes code changes, runs tests, etc.
- Continues until the task is complete

**Completes when:** Claude sets \`taskComplete=true\` in the loop state.

### Phase Indicators

In the UI, phases are color-coded:
- **Blue** - Clarify phase
- **Purple** - Plan phase
- **Green** - Execute phase
    `},"loop-controls":{title:"Loop Controls",content:`
## Controlling Loops

### Start / Resume

\`\`\`bash
coder-config loop start <loop-id>
\`\`\`

Starts a pending loop or resumes a paused one.

### Pause

\`\`\`bash
coder-config loop pause <loop-id>
\`\`\`

Pauses at the next safe point. The loop can be resumed later.

### Resume

\`\`\`bash
coder-config loop resume <loop-id>
\`\`\`

Same as \`start\` - continues a paused loop.

### Cancel

\`\`\`bash
coder-config loop cancel <loop-id>
\`\`\`

Stops the loop permanently. Can be deleted after cancellation.

### Approve Plan

\`\`\`bash
coder-config loop approve <loop-id>
\`\`\`

Approves the plan (when in plan phase), advancing to execute phase.

### Mark Complete

\`\`\`bash
coder-config loop complete <loop-id>
\`\`\`

Manually marks a loop as complete.

### Delete

\`\`\`bash
coder-config loop delete <loop-id>
\`\`\`

Deletes the loop and all its data.

### Status Commands

\`\`\`bash
# Show current active loop
coder-config loop status

# Show specific loop details
coder-config loop status <loop-id>

# List all loops
coder-config loop list

# Show completed loops history
coder-config loop history
\`\`\`
    `},"loop-configuration":{title:"Loop Configuration",content:`
## Configuration

Configure default limits for all new loops:

### Via UI

1. Go to **Ralph Loops**
2. Click **Config** button
3. Adjust settings
4. Click **Save**

### Via CLI

\`\`\`bash
# View current configuration
coder-config loop config

# Set max iterations (default: 50)
coder-config loop config --max-iterations 100

# Set max cost budget (default: $10)
coder-config loop config --max-cost 25.00

# Enable auto-approve for plans
coder-config loop config --auto-approve-plan

# Disable auto-approve
coder-config loop config --no-auto-approve-plan
\`\`\`

### Configuration Options

| Setting | Default | Description |
|---------|---------|-------------|
| Max Iterations | 50 | Loop pauses after this many iterations |
| Max Cost | $10.00 | Loop pauses when estimated cost exceeds this |
| Auto-Approve Plan | false | Skip manual plan approval |
| Max Clarify Iterations | 5 | Max questions before auto-advancing to plan |

### Safety Mechanisms

**Iteration Limits:** Prevents infinite loops. When reached, the loop pauses with reason "max_iterations".

**Cost Budgets:** Estimates token costs per iteration. Pauses with reason "budget" when exceeded.

**Phase Gates:** By default, you must manually approve plans. This ensures you review the approach before Claude starts implementing.

### Data Storage

Loop data is stored in:
\`\`\`
~/.coder-config/loops/
 loops.json           # Loop registry
 history.json         # Completed loops
 <loop-id>/
     state.json       # Current state
     plan.md          # Implementation plan
     clarifications.md # Q&A from clarify phase
     iterations/      # Per-iteration logs
\`\`\`
    `}},PH={"plugins-overview":{title:"Plugins Overview",content:`
## Plugins

Claude Code plugins extend functionality with LSP servers, MCP servers, and commands.

### What Are Plugins?

Plugins are packages that add capabilities to Claude Code:

- **LSP Servers** - Language Server Protocol servers for code intelligence
- **MCP Servers** - Model Context Protocol servers for additional tools
- **Commands** - Reusable prompts and workflows

### Plugin Directory

The **Plugins** page shows all available plugins with:

- **Search** - Find plugins by name or description
- **Category filter** - Filter by plugin category
- **Source filter** - Anthropic official vs Community plugins
- **Installed filter** - Show only installed or available plugins

### Plugin Types

| Type | Badge | Description |
|------|-------|-------------|
| LSP | \`LSP\` | Language server providing code intelligence |
| MCP | \`MCP\` | Model context protocol server |
| Commands | \`CMD\` | Custom commands and prompts |
    `},"installing-plugins":{title:"Installing Plugins",content:`
## Installing Plugins

### From Project Explorer

The recommended way to install plugins:

1. Open **Project Explorer**
2. Click the **+** menu on any project folder
3. Select **Install Plugins**
4. Browse available plugins
5. Toggle plugins on/off
6. Select scope (Project/Global/Local)

### Scope Options

| Scope | Location | Description |
|-------|----------|-------------|
| Project | \`.claude/plugins.json\` | Only for this project |
| Global | \`~/.claude/plugins.json\` | All projects |
| Local | Project-specific | Scoped to workspace |

### From Plugin Directory

1. Go to **Plugins** in the sidebar
2. Find a plugin you want
3. Click **Install** button
4. Select target project and scope

### Via CLI

\`\`\`bash
# Install a plugin to current project
claude plugin install plugin-name

# Install globally
claude plugin install plugin-name --global
\`\`\`
    `},"plugin-marketplaces":{title:"Plugin Marketplaces",content:`
## Plugin Marketplaces

Plugins are distributed through marketplaces (Git repositories).

### Default Marketplace

**claude-plugins-official** - Anthropic's official plugins

### Adding Marketplaces

1. Go to **Plugins** page
2. Click **Add Marketplace** button
3. Enter marketplace URL or shorthand

### Supported Formats

- \`owner/repo\`  GitHub shorthand
- \`https://github.com/owner/repo\`  Full URL
- \`/local/path\`  Local directory

### Managing Marketplaces

- **Refresh** - Update plugin list from all marketplaces
- **Remove** - Remove a marketplace (plugins remain installed)
- **View external** - Toggle to see external marketplace plugins

### Creating a Marketplace

A marketplace is a Git repo with:

\`\`\`
marketplace/
 plugins.json      # Plugin registry
 plugins/
     plugin-a/
        plugin.json
        ...
     plugin-b/
         ...
\`\`\`

### plugins.json Format

\`\`\`json
{
  "plugins": [
    {
      "name": "my-plugin",
      "description": "Does something useful",
      "category": "utilities",
      "source": "community"
    }
  ]
}
\`\`\`
    `}},AH={"mcp-overview":{title:"MCP Overview",content:`
## MCP Overview

MCPs (Model Context Protocol servers) extend Claude's capabilities by providing additional tools and context.

### What are MCPs?

MCPs are servers that implement the Model Context Protocol, providing:
- **Tools** - Additional commands Claude can execute
- **Resources** - Data and context Claude can access
- **Prompts** - Pre-defined prompt templates

### Common MCPs

- **filesystem** - File system access
- **github** - GitHub integration
- **postgres** - PostgreSQL database access
- **memory** - Persistent memory storage

### Configuration

MCPs are configured in \`.claude/mcps.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`
    `},"adding-mcps":{title:"Adding MCPs",content:`
## Adding MCPs

### Via UI - Registry

1. Go to **MCP Registry** in the sidebar
2. Click **Add MCP** button
3. Paste JSON configuration:

\`\`\`json
{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}
\`\`\`

4. Click "Add to Registry"

### Via UI - Config Editor

1. Go to **Project Explorer**
2. Select an \`mcps.json\` file
3. Click **Add MCP** in the editor header
4. Paste JSON to add inline MCP to that config level

### Accepted JSON Formats

Both formats work:

**Simple format:**
\`\`\`json
{ "name": { "command": "...", "args": [...] } }
\`\`\`

**Full format:**
\`\`\`json
{ "mcpServers": { "name": { "command": "...", "args": [...] } } }
\`\`\`

### Via CLI

\`\`\`bash
coder-config add filesystem github postgres
\`\`\`

### From Search Results

Search GitHub or npm in the Registry view. Click "Add" to pre-fill the JSON with suggested configuration.
    `},"configuring-mcps":{title:"Configuring MCPs",content:`
## Configuring MCPs

### Required Fields

- **command** - The executable to run (e.g., "npx", "node", "python")
- **args** - Array of command-line arguments

### Optional Fields

- **env** - Environment variables for the MCP
- **cwd** - Working directory

### Example Configuration

\`\`\`json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "\${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "\${DATABASE_URL}"
      }
    }
  }
}
\`\`\`

### Per-Level Configuration

You can enable/disable MCPs at different hierarchy levels. An MCP enabled globally can be disabled for a specific project.
    `},"environment-vars":{title:"Environment Variables",content:`
## Environment Variables

### Syntax

Use \`\${VAR_NAME}\` syntax in your MCP configuration:

\`\`\`json
{
  "env": {
    "API_KEY": "\${MY_API_KEY}"
  }
}
\`\`\`

### .env Files

Create a \`.claude/.env\` file in your project:

\`\`\`
GITHUB_TOKEN=ghp_xxxxx
DATABASE_URL=postgresql://localhost/mydb
\`\`\`

### Environment View

Use the **Environment** view in the sidebar to manage environment variables for your project.

### Security

- Never commit \`.claude/.env\` to version control
- Add it to your \`.gitignore\`
- Use different values for development and production
    `}},TH={"memory-overview":{title:"Memory Overview",content:`
## Memory System

The memory system allows Claude to retain knowledge across sessions.

### Types of Memory

1. **Global Memory** (\`~/.claude/memory/\`)
   - Preferences - Your personal preferences
   - Corrections - Mistakes to avoid
   - Facts - Facts about your environment

2. **Project Memory** (\`project/.claude/memory/\`)
   - Context - Project overview
   - Patterns - Code patterns
   - Decisions - Architecture decisions
   - Issues - Known issues
   - History - Session history

### How It Works

Memory files are markdown documents that Claude reads at the start of each session, providing context and learned knowledge.
    `},"global-memory":{title:"Global Memory",content:`
## Global Memory

Global memory applies to all your Claude interactions.

### Location

\`~/.claude/memory/\`

### Files

- **preferences.md** - Your coding preferences, tool choices, style preferences
- **corrections.md** - Things Claude got wrong that it should remember
- **facts.md** - Facts about your environment, setup, tools

### Example: preferences.md

\`\`\`markdown
# Preferences

## Code Style
- Use 2 spaces for indentation
- Prefer functional programming patterns
- Always add TypeScript types

## Tools
- Use pnpm instead of npm
- Prefer Vite over webpack
\`\`\`
    `},"project-memory":{title:"Project Memory",content:`
## Project Memory

Project memory is specific to a single project.

### Location

\`project/.claude/memory/\`

### Files

- **context.md** - Project overview, tech stack, architecture
- **patterns.md** - Code patterns specific to this project
- **decisions.md** - Architectural decisions and rationale
- **issues.md** - Known issues and workarounds
- **history.md** - Log of work done in sessions

### Initializing Project Memory

In the Memory view, click "Initialize" to create memory files from templates.

### Example: context.md

\`\`\`markdown
# Project Context

## Overview
E-commerce platform built with Next.js and Prisma.

## Tech Stack
- Frontend: Next.js 14, React 18, Tailwind CSS
- Backend: Next.js API routes, Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js

## Key Directories
- /app - Next.js app router pages
- /components - React components
- /lib - Utilities and helpers
\`\`\`
    `},"memory-entries":{title:"Memory Entry Types",content:`
## Memory Entry Types

### Preference

User preferences for tools, style, and workflow.

\`\`\`markdown
## [Category]
- Preference description
- Another preference
\`\`\`

### Correction

Something Claude got wrong that should be remembered.

\`\`\`markdown
## [Topic]
- **Wrong**: What Claude did wrong
- **Right**: What to do instead
\`\`\`

### Pattern

A code pattern specific to the project.

\`\`\`markdown
## Pattern Name
Description of when to use this pattern.

\\\`\\\`\\\`typescript
// Code example
\\\`\\\`\\\`
\`\`\`

### Decision

An architectural decision with context.

\`\`\`markdown
## Decision Title
**Context**: Why this decision was needed
**Decision**: What was decided
**Rationale**: Why this was chosen
\`\`\`

### Issue

A known issue with workaround.

\`\`\`markdown
## Issue Title
**Problem**: Description of the issue
**Workaround**: How to work around it
\`\`\`
    `}},RH={permissions:{title:"Permissions",content:`
## Permissions

Control what Claude Code can do automatically.

### Permission Levels

- **Allow** - Tools that run without asking
- **Ask** - Tools that require confirmation
- **Deny** - Tools that are blocked

### Pattern Syntax

\`\`\`
Tool(pattern)
\`\`\`

Examples:
- \`Bash(npm run build)\` - Specific command
- \`Bash(npm:*)\` - Prefix match (npm anything)
- \`Read(**)\` - All file reads
- \`Edit(src/**)\` - Edit files in src/
- \`mcp__github__*\` - All GitHub MCP tools

### Managing Permissions

In the **Claude Code** settings view:
1. Navigate to the Permissions tab
2. Add patterns to Allow, Ask, or Deny lists
3. Click Save to apply

### Best Practices

- Start restrictive, allow more as needed
- Use specific patterns over wildcards
- Review deny list for security-sensitive operations
    `},"model-selection":{title:"Model Selection",content:`
## Model Selection

Choose which Claude model to use.

### Available Models

- **Claude Sonnet 4** - Fast, capable, good for most tasks
- **Claude Opus 4** - Most capable, best for complex tasks
- **Claude Haiku** - Fastest, good for simple tasks

### Setting the Model

In **Claude Code** settings, use the Model dropdown to select your preferred model.

### Per-Task Model

Some tasks may benefit from different models:
- Use Haiku for quick edits
- Use Opus for complex refactoring
- Use Sonnet as a balanced default
    `},behavior:{title:"Behavior Settings",content:`
## Behavior Settings

Configure how Claude Code behaves.

### Available Settings

- **Auto-accept edits** - Automatically accept file changes
- **Verbose mode** - Show more detailed output
- **Enable MCPs** - Toggle MCP servers on/off

### Configuration

These settings are stored in \`~/.claude/settings.json\` and can be edited in the Claude Code settings view.
    `},hooks:{title:"Hooks",content:`
## Hooks

Hooks allow you to run custom commands at specific points.

### Available Hooks

- **preToolUse** - Before a tool is used
- **postToolUse** - After a tool is used
- **notification** - When Claude sends a notification

### Configuration

\`\`\`json
{
  "hooks": {
    "postToolUse": "echo 'Tool used'"
  }
}
\`\`\`

### Use Cases

- Run linters after file edits
- Log tool usage
- Custom notifications
    `}},MH={"gemini-model":{title:"Model Selection",content:`
## Model Selection

Choose which Gemini model to use.

### Available Models

| Model | Description |
|-------|-------------|
| **Gemini 2.5 Pro** | Most capable, best for complex tasks |
| **Gemini 2.5 Flash** | Fast and efficient, good balance |
| **Gemini 2.0 Pro** | Previous generation capable model |
| **Gemini 2.0 Flash** | Previous generation fast model |

### Preview Features

Enable **Preview Features** to access experimental models like Gemini 2.5 Pro Preview.
    `},"gemini-display":{title:"Display Options",content:`
## Display Options

Configure Gemini CLI's appearance and output.

### Settings

| Setting | Description |
|---------|-------------|
| **Theme** | Color theme (Dark, Light, System) |
| **Show Token Count** | Display token usage in responses |
| **Show Diff View** | Use diff format for file changes |
| **Streaming** | Enable real-time response streaming |
    `},"gemini-general":{title:"General Settings",content:`
## General Settings

Core Gemini CLI behavior options.

### Settings

| Setting | Description |
|---------|-------------|
| **Vim Keybindings** | Enable Vim mode in the CLI |
| **Auto-save** | Automatically save file changes |
| **Check for Updates** | Check for new Gemini CLI versions |

### Configuration File

Settings are stored in \`~/.gemini/settings.json\`:

\`\`\`json
{
  "general": {
    "vimMode": false,
    "autoSave": true,
    "checkForUpdates": true
  },
  "model": {
    "default": "gemini-2.5-flash",
    "previewFeatures": false
  }
}
\`\`\`
    `},"gemini-sandbox":{title:"Sandbox Mode",content:`
## Sandbox Mode

Control command execution safety.

### Options

| Mode | Description |
|------|-------------|
| **Enabled** | Commands run in isolated environment |
| **Disabled** | Commands run directly on system |

### When to Disable

Only disable sandbox mode when:
- Working with local development servers
- Running commands that need direct system access
- Debugging sandbox-related issues

**Warning**: Disabling sandbox mode reduces security isolation.
    `}},DH={"codex-overview":{title:"Codex CLI Overview",content:`
## Codex CLI

OpenAI's Codex CLI is an AI-powered coding assistant that runs in your terminal, similar to Claude Code.

### Configuration File

Codex settings are stored in:
\`\`\`
~/.codex/config.toml
\`\`\`

### Key Features

- **GPT-5.2 Codex** - Latest OpenAI coding model
- **Reasoning effort** - Control how thoroughly the model thinks
- **Sandbox modes** - Configurable filesystem access
- **MCP support** - Connect external tools and services
- **Web search** - Allow the model to search the web

### Quick Start

\`\`\`bash
# Install Codex CLI
npm install -g @openai/codex

# Start a session
codex

# Use a specific model
codex --model gpt-5.2-codex

# Full auto mode (minimal approvals)
codex --full-auto
\`\`\`

### In Coder Config

Navigate to **Configuration > Codex CLI** to manage settings through the UI, or edit the TOML file directly.
    `},"codex-model":{title:"Model Selection",content:`
## Codex Model Selection

Choose the AI model that powers your Codex CLI sessions.

### Available Models

| Model | Description |
|-------|-------------|
| **gpt-5.2-codex** | Latest and most capable (recommended) |
| **gpt-5-codex** | Previous generation, still very capable |
| **gpt-5** | General purpose model |
| **o3-mini** | Fast reasoning model for quick tasks |

### Reasoning Effort

Control how thoroughly the model reasons about problems:

| Level | Description |
|-------|-------------|
| **Minimal** | Fastest responses, least thorough |
| **Low** | Quick responses |
| **Medium** | Balanced (default) |
| **High** | More thorough reasoning |
| **Extra High** | Most thorough, slowest |

### Configuration

\`\`\`toml
# ~/.codex/config.toml

model = "gpt-5.2-codex"
model_reasoning_effort = "medium"
\`\`\`

### CLI Override

\`\`\`bash
# Use a specific model for one session
codex --model o3-mini
\`\`\`
    `},"codex-security":{title:"Security Settings",content:`
## Codex Security Settings

Configure how Codex handles permissions and approvals.

### Approval Policies

Control when Codex asks for permission to run commands:

| Policy | Description |
|--------|-------------|
| **On Request** | Ask before running commands (default) |
| **Untrusted** | Ask for everything |
| **On Failure** | Ask only when commands fail |
| **Never** | Never ask (use with caution) |

### Sandbox Modes

Control filesystem and network access:

| Mode | Description |
|------|-------------|
| **Read Only** | Can only read files (default, safest) |
| **Workspace Write** | Can write within workspace |
| **Full Access** | Full filesystem access (dangerous) |

### Configuration

\`\`\`toml
# ~/.codex/config.toml

approval_policy = "on-request"
sandbox_mode = "read-only"
\`\`\`

### Best Practices

1. **Start restrictive** - Use read-only sandbox until you trust the workflow
2. **Project-specific** - Consider workspace-write for active development
3. **Review commands** - Keep approval on "on-request" for learning
    `},"codex-mcp":{title:"MCP Servers",content:`
## Codex MCP Servers

Connect external tools and services to Codex via the Model Context Protocol.

### Adding MCP Servers

In Coder Config, click **Add MCP** in the Codex CLI settings, or edit the TOML directly:

\`\`\`toml
# ~/.codex/config.toml

[mcp_servers.filesystem]
command = "npx"
args = ["-y", "@anthropic/mcp-filesystem"]
enabled = true

[mcp_servers.github]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-github"]
enabled = true
env = { GITHUB_TOKEN = "your-token" }
\`\`\`

### MCP Server Format

Each MCP server needs:

- **command** - The executable to run (required)
- **args** - Command arguments (optional)
- **env** - Environment variables (optional)
- **enabled** - Whether the server is active (optional, defaults to true)

### Popular MCP Servers

| Server | Description |
|--------|-------------|
| **filesystem** | Read/write local files |
| **github** | Interact with GitHub repos |
| **postgres** | Query PostgreSQL databases |
| **fetch** | Make HTTP requests |

### Enabling/Disabling

Toggle servers on/off without removing the configuration:

\`\`\`toml
[mcp_servers.expensive-server]
command = "npx"
args = ["-y", "@example/expensive-mcp"]
enabled = false  # Disabled but config preserved
\`\`\`
    `},"codex-features":{title:"Features & Display",content:`
## Codex Features & Display

Configure Codex behavior and visual settings.

### Features

| Feature | Description | Default |
|---------|-------------|---------|
| **Shell Snapshot** | Speed up repeated commands (Beta) | On |
| **Web Search** | Allow the model to search the web | On |

### Display Settings

| Setting | Description | Default |
|---------|-------------|---------|
| **Animations** | Enable UI animations | On |
| **Notifications** | Show system notifications | On |

### History

| Option | Description |
|--------|-------------|
| **Save All** | Keep all session history |
| **None** | Do not persist history |

### Analytics

Control whether anonymous usage data is sent to OpenAI.

### Configuration

\`\`\`toml
# ~/.codex/config.toml

[features]
shell_snapshot = true
web_search_request = true

[tui]
animations = true
notifications = true

[history]
persistence = "save-all"

[analytics]
enabled = true
\`\`\`

### CLI Mode

For low-friction autonomous coding:

\`\`\`bash
# Full auto mode - minimal approvals
codex --full-auto
\`\`\`
    `}},LH={"antigravity-security":{title:"Security Policies",content:`
## Security Policies

Control Antigravity's execution behavior.

### Terminal Execution Policy

| Policy | Description |
|--------|-------------|
| **Off** | Never auto-execute; requires explicit allow list |
| **Auto** | Safety model determines execution |
| **Turbo** | Auto-execute unless in deny list (dangerous) |

### Code Review Policy

| Policy | Description |
|--------|-------------|
| **Enabled** | Review code changes before applying |
| **Disabled** | Apply code changes automatically |

### JavaScript Execution

| Policy | Description |
|--------|-------------|
| **Sandboxed** | Run JS in isolated environment |
| **Direct** | Run JS without sandboxing |

**Recommendation**: Use "Auto" for terminal and enable code review for safety.
    `},"antigravity-mcp":{title:"MCP Servers",content:`
## MCP Servers

Configure Model Context Protocol servers for Antigravity.

### Configuration Location

MCP config is stored at \`~/.gemini/antigravity/mcp_config.json\`.

### Important Limitation

**Antigravity does NOT support environment variable interpolation.**

Variables like \`\${HOME}\` are resolved to actual values when generating config.

### Managing Servers

Use the MCP Registry view to add/remove servers. When you apply config with Antigravity enabled, the config is generated at the correct location.
    `},"antigravity-browser":{title:"Browser Allowlist",content:`
## Browser Allowlist

Control which URLs Antigravity can access.

### Configuration

Add trusted domains to the allowlist:

\`\`\`json
{
  "browserAllowlist": [
    "github.com",
    "stackoverflow.com",
    "docs.google.com"
  ]
}
\`\`\`

### Security Note

Only add domains you trust. Antigravity will be able to access and interact with these sites during sessions.
    `},"antigravity-agent":{title:"Agent Mode",content:`
## Agent Mode

Configure Antigravity's autonomous capabilities.

### Settings

| Setting | Description |
|---------|-------------|
| **Enable Agent Mode** | Allow autonomous multi-step operations |
| **Max Iterations** | Limit on autonomous action steps |
| **Require Confirmation** | Ask before major changes |

### When to Use

Agent mode is useful for:
- Complex refactoring tasks
- Multi-file changes
- Automated testing workflows

### Caution

Agent mode can make many changes quickly. Use with code review policy enabled.
    `}},IH={"cli-overview":{title:"CLI Overview",content:`
## CLI Overview

The \`coder-config\` CLI provides command-line access to all features.

### Basic Usage

\`\`\`bash
coder-config [command] [options]
\`\`\`

### Getting Help

\`\`\`bash
coder-config --help
coder-config <command> --help
\`\`\`

### Global Options

- \`--version, -v\` - Show version
- \`--help, -h\` - Show help
    `},"cli-commands":{title:"All Commands",content:`
## All CLI Commands

### UI Commands

\`\`\`bash
coder-config ui                  # Start UI (daemon mode)
coder-config ui --foreground     # Run in foreground
coder-config ui --port 8080      # Custom port
coder-config ui status           # Check daemon status
coder-config ui stop             # Stop daemon
\`\`\`

### Project Commands

\`\`\`bash
coder-config init                # Initialize project
coder-config init --template X   # Initialize with template
coder-config apply               # Generate .mcp.json
coder-config show                # Show configuration
\`\`\`

### MCP Commands

\`\`\`bash
coder-config list                      # List available MCPs
coder-config add <mcp>                 # Add MCP to project
coder-config remove <mcp>              # Remove MCP
coder-config registry                  # List registry
coder-config registry add <name> '{}'  # Add to registry
coder-config registry remove <name>    # Remove from registry
\`\`\`

### Project Registry

\`\`\`bash
coder-config project             # List projects
coder-config project add         # Add project
coder-config project remove      # Remove project
\`\`\`

### Memory Commands

\`\`\`bash
coder-config memory              # Show memory status
coder-config memory init         # Initialize memory
coder-config memory add          # Add entry
coder-config memory search       # Search memory
\`\`\`

### Environment

\`\`\`bash
coder-config env                 # List variables
coder-config env set KEY value   # Set variable
coder-config env unset KEY       # Remove variable
\`\`\`

### Templates

\`\`\`bash
coder-config templates           # List templates
coder-config apply-template X    # Apply template
\`\`\`

### Workstreams

\`\`\`bash
coder-config workstream              # List workstreams
coder-config workstream create "X"   # Create workstream
coder-config workstream delete "X"   # Delete workstream
coder-config workstream use "X"      # Set active
coder-config workstream active       # Show active
coder-config workstream add "X" /path     # Add project
coder-config workstream remove "X" /path  # Remove project
coder-config workstream inject       # Output rules for hooks
coder-config workstream detect       # Detect from directory
\`\`\`
    `},"daemon-mode":{title:"Daemon Mode",content:`
## Daemon Mode

By default, \`coder-config ui\` runs as a background daemon.

### Starting the Daemon

\`\`\`bash
coder-config ui
\`\`\`

The UI starts in the background and you can continue using your terminal.

### Checking Status

\`\`\`bash
coder-config ui status
\`\`\`

### Stopping the Daemon

\`\`\`bash
coder-config ui stop
\`\`\`

### Foreground Mode

To run in the foreground (blocking):

\`\`\`bash
coder-config ui --foreground
# or
coder-config ui -f
\`\`\`

### Logs

Daemon logs are stored in \`~/.coder-config/ui.log\`
    `}},OH={"supported-tools":{title:"Supported Tools",content:`
## Supported AI Coding Tools

coder-config supports multiple AI coding assistants:

| Tool | Type | Config Location |
|------|------|-----------------|
| **Claude Code** | Terminal CLI | \`.mcp.json\`, \`~/.claude/\` |
| **Gemini CLI** | Terminal CLI | \`.gemini/settings.json\`, \`~/.gemini/settings.json\` |
| **Codex CLI** | Terminal CLI | \`~/.codex/config.toml\` |
| **Antigravity** | Full IDE | \`~/.gemini/antigravity/mcp_config.json\` |

### Shared MCP Registry

All tools use the **MCP (Model Context Protocol)** for server configurations. coder-config maintains a shared registry and generates tool-specific output files.

### Enabling Tools

In **Preferences**, toggle which tools receive configuration updates:

- **Claude Code** - Anthropic's terminal AI assistant
- **Gemini CLI** - Google's terminal AI assistant
- **Codex CLI** - OpenAI's terminal AI assistant
- **Antigravity** - Google's AI-powered IDE

When you click **Apply Config**, enabled tools get updated configurations.
    `},"gemini-cli":{title:"Gemini CLI",content:`
## Gemini CLI Support

Gemini CLI is Google's terminal-based AI coding assistant, similar to Claude Code.

### Configuration

Gemini CLI settings are stored in two locations:
- **Global**: \`~/.gemini/settings.json\`
- **Per-project**: \`.gemini/settings.json\` (in project directory)

When you apply config, both files are generated:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`

### Key Differences from Claude Code

| Feature | Claude Code | Gemini CLI |
|---------|-------------|------------|
| MCP Config | Separate \`.mcp.json\` | Embedded in settings.json |
| Global Instructions | \`~/.claude/CLAUDE.md\` | \`~/.gemini/GEMINI.md\` |
| Project Instructions | \`CLAUDE.md\` | \`GEMINI.md\` |
| Commands | \`.claude/commands/\` | \`.gemini/commands/\` (TOML) |

### Gemini Settings Editor

Access via **Gemini CLI** in the sidebar to:

- Configure MCP servers
- Edit global settings
- Manage Gemini-specific options

### Project Files

| Purpose | File |
|---------|------|
| Project instructions | \`GEMINI.md\` or \`.gemini/GEMINI.md\` |
| Commands | \`.gemini/commands/*.toml\` |
| Config folder | \`.gemini/\` |
    `},antigravity:{title:"Antigravity Support",content:`
## Antigravity Support

Antigravity is Google's full AI-powered IDE (similar to Cursor/Windsurf).

### Configuration

Antigravity MCP config is stored at \`~/.gemini/antigravity/mcp_config.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/absolute/path"]
    }
  }
}
\`\`\`

### Key Difference: No Environment Variables

**Important**: Antigravity does NOT support \`\${VAR}\` interpolation.

When generating Antigravity configs, coder-config automatically resolves all environment variables to their actual values.

Example:
- Claude Code: \`"path": "\${HOME}/projects"\`
- Antigravity: \`"path": "/Users/you/projects"\`

### Project Files

| Purpose | Claude Code | Antigravity |
|---------|-------------|-------------|
| Config folder | \`.claude/\` | \`.agent/\` |
| Rules | \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` or \`AGENT.md\` |

### Known Limitation

Antigravity and Gemini CLI share \`~/.gemini/GEMINI.md\` for global instructions. This is a known conflict in Google's tools.
    `},"tool-differences":{title:"Tool Differences",content:`
## Tool Differences

### Configuration Formats

All tools use identical JSON format for MCP server definitions:

\`\`\`json
{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@some/server"],
      "env": { "API_KEY": "..." }
    }
  }
}
\`\`\`

### Feature Comparison

| Feature | Claude Code | Gemini CLI | Codex CLI | Antigravity |
|---------|-------------|------------|-----------|-------------|
| Type | Terminal CLI | Terminal CLI | Terminal CLI | Full IDE |
| MCP Config | \`.mcp.json\` | \`.gemini/settings.json\` | \`~/.codex/config.toml\` | \`~/.gemini/antigravity/\` |
| Config Format | JSON | JSON | TOML | JSON |
| Env Interpolation | Yes (\`\${VAR}\`) | Yes | Yes | No |
| Commands | \`.claude/commands/\` | \`.gemini/commands/\` | N/A | Unknown |
| Rules | \`.claude/rules/\` | \`.gemini/rules/\` | N/A | \`.agent/rules/\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` | N/A | \`GEMINI.md\` |

### What This Means

- Your MCP registry is shared between all tools
- When you click "Apply Config", all enabled tools get updated
- Rules can be synced between Claude Code, Gemini CLI, and Antigravity
- Gemini CLI and Antigravity share global instructions (known conflict)
    `},"enabling-tools":{title:"Enabling Tools",content:`
## Enabling Tools

Control which tools receive configuration updates.

### Via Preferences UI

1. Go to **Preferences** in the sidebar
2. Find the **Enabled AI Tools** section
3. Toggle tools on/off:
   - **Claude Code** - Writes to \`.mcp.json\`
   - **Gemini CLI** - Writes to \`~/.gemini/settings.json\`
   - **Codex CLI** - Writes to \`~/.codex/config.toml\`
   - **Antigravity** - Writes to \`~/.gemini/antigravity/mcp_config.json\`

### Apply Behavior

When you click **Apply Config**:
- Config is generated for ALL enabled tools
- Toast notification shows which tools were updated
- Each tool receives its format-specific output

### Config File

Tool preferences are stored in \`~/.coder-config/config.json\`:

\`\`\`json
{
  "enabledTools": ["claude", "gemini", "codex", "antigravity"]
}
\`\`\`
    `},"syncing-rules":{title:"Syncing Rules",content:`
## Syncing Rules Between Tools

Sync rules between Claude Code, Gemini CLI, and Antigravity to maintain consistency.

### Accessing Sync

1. Enable **multiple tools** in Preferences
2. Go to **Project Explorer**
3. Click the **Sync** button in the toolbar

### Sync Dialog

The sync dialog allows you to:

- **Choose direction**: Any tool  Any tool (Claude Code  Gemini CLI  Antigravity)
- **Preview changes**: See which files will be copied
- **Selective sync**: Choose specific files to sync
- **Status indicators**:
  - **New**: File doesn't exist in target
  - **Modified**: File differs from target
  - **Same**: Files are identical

### What Gets Synced

| Tool | Rules Location |
|------|----------------|
| Claude Code | \`.claude/rules/*.md\` |
| Gemini CLI | \`.gemini/rules/*.md\` |
| Antigravity | \`.agent/rules/*.md\` |

Rules can be synced in any direction between these three tools.

### Notes

- Syncing **copies** files (doesn't move them)
- Target files are **overwritten** if they exist
- Instructions files (CLAUDE.md / GEMINI.md) are not synced
- Commands and workflows are Claude-specific (not synced)
    `}},BH={keyboard:{title:"Keyboard Shortcuts",content:`
## Keyboard Shortcuts

### File Explorer

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save current file |
| \`Delete\` | Delete selected item |
| \`Enter\` | Open selected item |

### Editor

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save file |
| \`Ctrl/Cmd + Z\` | Undo |
| \`Ctrl/Cmd + Shift + Z\` | Redo |

### Navigation

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + 1-9\` | Switch sidebar sections |
    `}},FH={"common-issues":{title:"Common Issues",content:`
## Common Issues

### UI won't start

**Symptom**: \`coder-config ui\` shows "Started daemon" but the UI doesn't open.

**Solution**:
\`\`\`bash
coder-config ui stop
coder-config ui --foreground
\`\`\`

Check for errors in the output.

### Port already in use

**Symptom**: Error about port 3333 being in use.

**Solution**:
\`\`\`bash
coder-config ui --port 3334
\`\`\`

Or find and stop the process using port 3333.

### MCPs not loading

**Symptom**: MCPs show in config but aren't available in Claude Code.

**Solution**:
1. Run \`coder-config apply\` to regenerate .mcp.json
2. Restart Claude Code
3. Check environment variables are set

### npm install fails

**Symptom**: Errors during \`npm install -g\`

**Solution**:
\`\`\`bash
npm cache clean --force
npm install -g coder-config
\`\`\`
    `},"getting-help":{title:"Getting Help",content:`
## Getting Help

### Documentation

This documentation is available in the app under **Docs & Help**.

### GitHub Issues

Report bugs and request features:
https://github.com/regression-io/coder-config/issues

### Version Info

\`\`\`bash
coder-config --version
\`\`\`

### Debug Info

When reporting issues, include:
- coder-config version
- Node.js version (\`node --version\`)
- Operating system
- Error messages or logs
    `}},$H={...SH,...kH,...jH,...NH,...EH,...PH,...AH,...TH,...RH,...MH,...DH,...LH,...IH,...OH,...BH,...FH};function WN(e){let t=e.replace(/```(\w*)\n([\s\S]*?)```/g,(n,s,o)=>`<pre class="bg-zinc-900 text-zinc-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm">${o.replace(/\\\`/g,"`").replace(/</g,"&lt;").replace(/>/g,"&gt;").trim()}</code></pre>`);return t=t.replace(/(\|[^\n]+\|\n\|[-| :]+\|\n(?:\|[^\n]+\|\n?)+)/g,n=>{const s=n.trim().split(`
`);if(s.length<2)return n;const o=s[0].split("|").filter(d=>d.trim()).map(d=>`<th class="border border-border px-3 py-2 bg-muted font-semibold text-left">${d.trim()}</th>`).join(""),u=s.slice(2).map(d=>`<tr>${d.split("|").filter(c=>c.trim()).map(c=>`<td class="border border-border px-3 py-2">${c.trim()}</td>`).join("")}</tr>`).join("");return`<table class="w-full border-collapse border border-border my-4"><thead><tr>${o}</tr></thead><tbody>${u}</tbody></table>`}),t.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-6 mb-2 text-foreground">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-8 mb-4 text-foreground">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mb-6 text-foreground">$1</h1>').replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" class="rounded-lg shadow-lg my-4 max-w-full border border-border" />').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono">$1</code>').replace(/^- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/(<li.*<\/li>\n?)+/g,'<ul class="list-disc my-2">$&</ul>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="my-3 text-foreground">').replace(/\n/g,"<br/>")}function zH(){const[e,t]=C.useState("installation"),[n,s]=C.useState({"getting-started":!0}),o=d=>{s(l=>({...l,[d]:!l[d]}))},u=$H[e];return r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-64 border-r border-border bg-muted/50 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-border",children:r.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-foreground",children:[r.jsx(Oi,{className:"w-5 h-5"}),"Documentation"]})}),r.jsx(An,{className:"flex-1",children:r.jsx("div",{className:"p-2",children:CH.map(d=>r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{className:Ee("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",(e===d.id||d.subsections.some(l=>l.id===e))&&"bg-accent"),onClick:()=>{d.subsections.length>0?(o(d.id),n[d.id]||t(d.subsections[0].id)):t(d.id)},children:[r.jsx(d.icon,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"flex-1",children:d.title}),d.isNew&&r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"}),d.subsections.length>0&&r.jsx(Wr,{className:Ee("w-4 h-4 text-muted-foreground transition-transform",n[d.id]&&"rotate-90")})]}),d.subsections.length>0&&n[d.id]&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:d.subsections.map(l=>r.jsx("button",{className:Ee("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground",e===l.id&&"bg-accent text-primary font-medium"),onClick:()=>t(l.id),children:l.title},l.id))})]},d.id))})})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(An,{className:"h-full",children:r.jsx("div",{className:"max-w-3xl mx-auto p-8",children:u?r.jsx("div",{className:"prose prose-sm max-w-none",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:WN(u.content)}})}):r.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[r.jsx(Oi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a topic from the sidebar"})]})})})})]})}var HH={};const $w={development:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",productivity:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",integration:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",external:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",lsp:"bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",default:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"};function WH(){var le,te,J,se,we,Le,Ke;const[e,t]=C.useState(!0),[n,s]=C.useState({allPlugins:[],categories:[],marketplaces:[],enabledPlugins:null}),[o,u]=C.useState(""),[d,l]=C.useState([]),[c,f]=C.useState([]),[m,h]=C.useState(!0),[x,w]=C.useState(!0),[k,_]=C.useState(!0),[v,b]=C.useState(!0),[g,y]=C.useState("name"),[j,E]=C.useState(null),[P,T]=C.useState({open:!1,repo:""}),[N,R]=C.useState(!1),[I,O]=C.useState({open:!1,plugin:null}),[B,$]=C.useState(!1),Y=async()=>{t(!0);try{const ne=await ve.getPlugins();s(ne)}catch(ne){Q.error("Failed to load plugins: "+ne.message)}finally{t(!1)}};C.useEffect(()=>{Y()},[]);const z=C.useMemo(()=>{let ne=n.allPlugins||[];if(o){const ue=o.toLowerCase();ne=ne.filter(je=>{var De,Je,_e;return((De=je.name)==null?void 0:De.toLowerCase().includes(ue))||((Je=je.description)==null?void 0:Je.toLowerCase().includes(ue))||((_e=je.category)==null?void 0:_e.toLowerCase().includes(ue))})}return ne=ne.filter(ue=>!(ue.sourceType==="external"&&!x||ue.sourceType==="internal"&&!m)),ne=ne.filter(ue=>!(ue.installed&&!k||!ue.installed&&!v)),d.length>0&&(ne=ne.filter(ue=>d.includes(ue.category))),c.length>0&&(ne=ne.filter(ue=>c.includes(ue.marketplace))),ne.sort((ue,je)=>{if(g==="installed"){if(ue.installed&&!je.installed)return-1;if(!ue.installed&&je.installed)return 1}if(g==="category"){const De=(ue.category||"zzz").localeCompare(je.category||"zzz");if(De!==0)return De}return ue.name.localeCompare(je.name)}),ne},[n.allPlugins,o,x,m,k,v,d,c,g]),K=ne=>{l(ue=>ue.includes(ne)?ue.filter(je=>je!==ne):[...ue,ne])},G=ne=>{f(ue=>ue.includes(ne)?ue.filter(je=>je!==ne):[...ue,ne])},U=async ne=>{E(ne);try{const ue=await ve.refreshMarketplace(ne);ue.success?(Q.success(`Refreshed ${ne}`),await Y()):Q.error(ue.error||"Failed to refresh marketplace")}catch(ue){Q.error("Failed to refresh: "+ue.message)}finally{E(null)}},L=async()=>{if(!P.repo.trim()){Q.error("Please enter a repository URL");return}try{const ne=await ve.addMarketplace("",P.repo.trim());ne.success?(Q.success("Marketplace added"),T({open:!1,repo:""}),await Y()):Q.error(ne.error||"Failed to add marketplace")}catch(ne){Q.error("Failed to add marketplace: "+ne.message)}},M=async(ne,ue,je)=>{$(!0);try{const De=je!==!0,Je=await ve.setPluginEnabled(ne,ue,De);Je.success?(Q.success(`Plugin ${De?"enabled":"disabled"} for ${ne===HH.HOME?"~":ne}`),await Y()):Q.error(Je.error||"Failed to update plugin state")}catch(De){Q.error("Failed to update plugin: "+De.message)}finally{$(!1)}},F=async(ne,ue)=>{$(!0);try{const je=await ve.setPluginEnabled(ne,ue,null);je.success?(Q.success("Plugin override removed"),await Y()):Q.error(je.error||"Failed to remove override")}catch(je){Q.error("Failed to update plugin: "+je.message)}finally{$(!1)}},q=ne=>{O({open:!0,plugin:ne})},H=(n.allPlugins||[]).filter(ne=>ne.installed).length,ae=(n.allPlugins||[]).filter(ne=>!ne.installed).length,fe=(n.allPlugins||[]).filter(ne=>ne.sourceType==="internal").length,me=(n.allPlugins||[]).filter(ne=>ne.sourceType==="external").length,X=n.marketplaces||[],W=n.categories||[];return e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(rd,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-indigo-800 dark:text-indigo-300",children:[r.jsx("p",{className:"font-medium",children:"Install plugins from Project Explorer"}),r.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 mt-1",children:["Use the ",r.jsx("kbd",{className:"px-1.5 py-0.5 bg-indigo-100 dark:bg-indigo-900 rounded text-xs",children:"+"}),' menu on any project and select "Install Plugins" to add plugins with project-level scope control.']})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx($i,{className:"w-5 h-5 text-indigo-600"}),"Plugin Directory",r.jsxs(rt,{variant:"outline",className:"ml-2 font-normal",children:[z.length," of ",((le=n.allPlugins)==null?void 0:le.length)||0]})]}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:Y,disabled:e,children:r.jsx(br,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(jl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx(lt,{value:o,onChange:ne=>u(ne.target.value),placeholder:"Search plugins...",className:"pl-9 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-700"})]}),r.jsxs(xr,{value:g,onValueChange:y,children:[r.jsx(dr,{className:"w-40",children:r.jsx(vr,{placeholder:"Sort by"})}),r.jsxs(hr,{children:[r.jsx(kt,{value:"name",children:"Name"}),r.jsx(kt,{value:"installed",children:"Installed first"}),r.jsx(kt,{value:"category",children:"Category"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsxs(oe,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[r.jsx(eu,{className:"w-3 h-3"}),"Marketplace",c.length>0&&r.jsx(rt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:c.length}),r.jsx(yr,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Es,{align:"start",className:"w-56",children:[r.jsx(ml,{className:"text-xs",children:"Filter by marketplace"}),r.jsx(Hr,{}),X.length>0?X.map(ne=>r.jsx(fl,{checked:c.includes(ne.name),onCheckedChange:()=>G(ne.name),children:ne.name},ne.name)):r.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"No marketplaces"}),r.jsx(Hr,{}),r.jsxs(Lt,{onClick:()=>R(!0),children:[r.jsx(Pn,{className:"w-3 h-3 mr-2"}),"Manage Marketplaces"]}),c.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Hr,{}),r.jsx(Lt,{onClick:()=>f([]),children:"Clear filters"})]})]})]}),r.jsxs(ci,{children:[r.jsx(ui,{asChild:!0,children:r.jsxs(oe,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[r.jsx(EC,{className:"w-3 h-3"}),"Category",d.length>0&&r.jsx(rt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:d.length}),r.jsx(yr,{className:"w-3 h-3 ml-1"})]})}),r.jsxs(Es,{align:"start",className:"w-48",children:[r.jsx(ml,{className:"text-xs",children:"Filter by category"}),r.jsx(Hr,{}),W.map(ne=>r.jsx(fl,{checked:d.includes(ne),onCheckedChange:()=>K(ne),children:ne},ne)),d.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Hr,{}),r.jsx(Lt,{onClick:()=>l([]),children:"Clear filters"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:k,onCheckedChange:_,className:"h-4 w-7 data-[state=checked]:bg-green-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Installed (",H,")"]})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:v,onCheckedChange:b,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Available (",ae,")"]})]}),r.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:m,onCheckedChange:h,className:"h-4 w-7 data-[state=checked]:bg-indigo-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[r.jsx(kC,{className:"w-3 h-3"})," Anthropic (",fe,")"]})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx(mt,{checked:x,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),r.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[r.jsx(Fi,{className:"w-3 h-3"})," Community (",me,")"]})]})]})]})]}),r.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[z.map((ne,ue)=>{const je=$w[ne.category]||$w.default,De=ne.mcpServers?Object.keys(ne.mcpServers).length:0,Je=ne.lspServers?Object.keys(ne.lspServers).length:0,_e=`${ne.name}@${ne.marketplace}`,ye=ne.enabledState,Oe=(ye==null?void 0:ye.merged)===!0;return(ye==null?void 0:ye.merged)!==null&&(ye==null||ye.merged),r.jsxs(Po.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(ue*.02,.3)},className:`rounded-lg border p-4 transition-all hover:shadow-md ${Oe?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/20 dark:border-emerald-800":ne.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:ne.name}),ne.sourceType==="external"&&r.jsx(Fi,{className:"w-3.5 h-3.5 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),r.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[ne.installed&&r.jsxs(rt,{variant:"outline",className:"text-green-600 border-green-300 dark:text-green-400 dark:border-green-700 text-[10px]",children:[r.jsx(Jt,{className:"w-2.5 h-2.5 mr-0.5"}),"Installed"]}),Oe&&r.jsxs(rt,{variant:"outline",className:"text-emerald-600 border-emerald-300 dark:text-emerald-400 dark:border-emerald-700 text-[10px]",children:[r.jsx(cb,{className:"w-2.5 h-2.5 mr-0.5"}),"Enabled"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[ne.installed&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>q(ne),children:r.jsx(Pn,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:r.jsx("p",{children:"Configure per-directory"})})]})}),ne.homepage&&r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>window.open(ne.homepage,"_blank"),children:r.jsx(xu,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:ne.description||"No description available"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[ne.category&&r.jsx(rt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${je}`,children:ne.category}),ne.version&&r.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",ne.version]})]}),(De>0||Je>0||ne.commands)&&r.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 dark:text-slate-500 pt-2 border-t border-gray-100 dark:border-slate-800",children:[Je>0&&r.jsxs("span",{className:"flex items-center gap-1 bg-cyan-50 dark:bg-cyan-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(is,{className:"w-3 h-3 text-cyan-600"}),Je," LSP"]}),De>0&&r.jsxs("span",{className:"flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(En,{className:"w-3 h-3 text-blue-600"}),De," MCP"]}),ne.commands&&r.jsxs("span",{className:"flex items-center gap-1 bg-green-50 dark:bg-green-900/20 px-1.5 py-0.5 rounded",children:[r.jsx(It,{className:"w-3 h-3 text-green-600"}),"Commands"]})]})]},_e)}),z.length===0&&r.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-slate-400",children:[r.jsx($i,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{className:"font-medium",children:"No plugins found"}),r.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your filters or search query"}),(d.length>0||c.length>0||o)&&r.jsx(oe,{variant:"link",size:"sm",onClick:()=>{l([]),f([]),u("")},className:"mt-2",children:"Clear all filters"})]})]})]}),r.jsx(Nt,{open:P.open,onOpenChange:ne=>T({...P,open:ne}),children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(eu,{className:"w-5 h-5 text-purple-600"}),"Add Plugin Marketplace"]}),r.jsx(sr,{children:"Add a marketplace from a GitHub repository URL or local path."})]}),r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL or Path"}),r.jsx(lt,{value:P.repo,onChange:ne=>T({...P,repo:ne.target.value}),placeholder:"owner/repo or full GitHub URL",className:"mt-1"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Supported formats:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 space-y-1 ml-2",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"owner/repo"}),"  GitHub shorthand"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"https://github.com/owner/repo"}),"  Full URL"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"/local/path"}),"  Local directory"]})]}),r.jsxs("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2",children:["Search GitHub for ",r.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"claude-plugins"})," to find community marketplaces."]})]})}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"ghost",onClick:()=>T({open:!1,repo:""}),children:"Cancel"}),r.jsxs(oe,{onClick:L,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})}),r.jsx(Nt,{open:N,onOpenChange:R,children:r.jsxs(_t,{className:"max-w-2xl",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(eu,{className:"w-5 h-5 text-purple-600"}),"Plugin Marketplaces",r.jsx(rt,{variant:"outline",className:"ml-2 font-normal",children:X.length})]}),r.jsx(sr,{children:"Manage your plugin marketplaces. Add external marketplaces to discover more plugins."})]}),r.jsx("div",{className:"py-4",children:X.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:X.map(ne=>{var je,De,Je;const ue=(((je=ne.plugins)==null?void 0:je.length)||0)+(((De=ne.externalPlugins)==null?void 0:De.length)||0);return r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-200",children:ne.name}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>U(ne.name),disabled:j===ne.name,className:"h-7 w-7 p-0",children:r.jsx(br,{className:`w-4 h-4 text-purple-600 dark:text-purple-400 ${j===ne.name?"animate-spin":""}`})})]}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-2 truncate",children:typeof ne.source=="string"?ne.source:((Je=ne.source)==null?void 0:Je.repo)||"Unknown source"}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-600 dark:text-purple-400",children:[r.jsxs("span",{children:[ue," plugins"]}),ne.lastUpdated&&r.jsxs("span",{children:["Updated: ",new Date(ne.lastUpdated).toLocaleDateString()]})]})]},ne.name)})}):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx(eu,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No marketplaces configured."}),r.jsx("p",{className:"text-sm mt-1",children:"Add a marketplace to discover plugins."})]})}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>R(!1),children:"Close"}),r.jsxs(oe,{onClick:()=>{R(!1),T({open:!0,repo:""})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})}),r.jsx(Nt,{open:I.open,onOpenChange:ne=>O({...I,open:ne}),children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsxs(Ct,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(ob,{className:"w-5 h-5 text-emerald-600"}),"Configure Plugin: ",(te=I.plugin)==null?void 0:te.name]}),r.jsx(sr,{children:"Enable or disable this plugin for specific directories. Child directories inherit parent settings unless overridden."})]}),r.jsxs("div",{className:"space-y-3 py-4 max-h-[400px] overflow-y-auto",children:[(we=(se=(J=I.plugin)==null?void 0:J.enabledState)==null?void 0:se.perDir)==null?void 0:we.map((ne,ue)=>{const je=`${I.plugin.name}@${I.plugin.marketplace}`,De=ne.enabled!==null&&ne.enabled!==void 0,Je=ne.enabled===!0,_e=ne.enabled===!1;let ye=null;if(!De&&ue>0)for(let Oe=ue-1;Oe>=0;Oe--){const xt=I.plugin.enabledState.perDir[Oe];if(xt.enabled!==null&&xt.enabled!==void 0){ye=xt.enabled;break}}return r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${Je?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/30 dark:border-emerald-800":_e?"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800":"bg-gray-50 border-gray-200 dark:bg-slate-800/50 dark:border-slate-700"}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:ne.label}),!De&&ye!==null&&r.jsxs(rt,{variant:"outline",className:"text-[10px] text-gray-500",children:["inherited: ",ye?"on":"off"]})]}),De&&r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mt-0.5",children:Je?"Explicitly enabled":"Explicitly disabled"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[De&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",onClick:()=>F(ne.dir,je),disabled:B,children:r.jsx(h5,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:r.jsx("p",{children:"Remove override (inherit from parent)"})})]})}),r.jsxs("div",{className:"flex items-center gap-1 border rounded-lg overflow-hidden",children:[r.jsx(oe,{variant:Je?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${Je?"bg-emerald-600 hover:bg-emerald-700 text-white":""}`,onClick:()=>M(ne.dir,je,!1),disabled:B||Je,children:r.jsx(cb,{className:"w-3 h-3"})}),r.jsx(oe,{variant:_e?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${_e?"bg-red-600 hover:bg-red-700 text-white":""}`,onClick:()=>M(ne.dir,je,!0),disabled:B||_e,children:r.jsx(P5,{className:"w-3 h-3"})})]})]})]},ne.dir)}),(!((Ke=(Le=I.plugin)==null?void 0:Le.enabledState)!=null&&Ke.perDir)||I.plugin.enabledState.perDir.length===0)&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[r.jsx(ob,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No config hierarchy found."}),r.jsx("p",{className:"text-sm mt-1",children:"Create a .claude/mcps.json in your project first."})]})]}),r.jsx(Tt,{children:r.jsx(oe,{variant:"ghost",onClick:()=>O({open:!1,plugin:null}),children:"Done"})})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands (Claude Code)"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{className:"text-gray-400 dark:text-slate-500",children:"# Add marketplace (one-time)"}),r.jsx("p",{children:"claude plugin marketplace add regression-io/coder-config-plugins"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 mt-2",children:"# Install plugins from marketplace"}),r.jsx("p",{children:"claude plugin install <name>@coder-config-plugins"}),r.jsx("p",{className:"text-gray-400 dark:text-slate-500 mt-2",children:"# Manage plugins"}),r.jsx("p",{children:"claude plugin list                    # List installed"}),r.jsx("p",{children:"claude plugin uninstall <name>       # Remove plugin"})]})]})]})}function VH({projects:e=[],onWorkstreamChange:t}){var Gt,Ar,Tr;const[n,s]=C.useState([]),[o,u]=C.useState(!0),[d,l]=C.useState(null),[c,f]=C.useState(!1),[m,h]=C.useState(null),[x,w]=C.useState(!1),[k,_]=C.useState(null),[v,b]=C.useState(new Set),[g,y]=C.useState(""),[j,E]=C.useState(""),[P,T]=C.useState([]),[N,R]=C.useState(!1),[I,O]=C.useState(!1),[B,$]=C.useState({}),[Y,z]=C.useState({}),[K,G]=C.useState({}),[U,L]=C.useState({isInstalled:!1,loading:!0}),[M,F]=C.useState(!1),[q,H]=C.useState(null),[ae,fe]=C.useState([]),[me,X]=C.useState(!1),[W,le]=C.useState(()=>{try{return JSON.parse(localStorage.getItem("dismissedWorkstreamSuggestions")||"[]")}catch{return[]}}),[te,J]=C.useState(!1);C.useEffect(()=>{Oe(),se(),we()},[]);const se=async()=>{try{const re=await ve.getWorkstreamHookStatus();L({...re,loading:!1})}catch(re){L({isInstalled:!1,loading:!1,error:re.message})}},we=async()=>{try{X(!0);const[re,Pe]=await Promise.all([ve.getActivitySummary(),ve.getWorkstreamSuggestions()]);H(re),fe(Pe.suggestions||[])}catch(re){console.log("Activity data not available:",re.message)}finally{X(!1)}},Le=re=>{y(re.name),T([...re.projects]),E(`# Auto-generated workstream based on activity patterns

These projects are frequently worked on together.`),f(!0)},Ke=re=>{T(Pe=>Pe.filter(Me=>Me!==re))},ne=re=>{P.includes(re)||T(Pe=>[...Pe,re])},ue=async re=>{const Pe=B[re];if(!Pe&&!Y[re]){G(Me=>({...Me,[re]:!0}));try{const Me=await ve.getSubprojects(re);z(st=>({...st,[re]:Me.subprojects||[]}))}catch(Me){console.error("Failed to load subprojects:",Me),z(st=>({...st,[re]:[]}))}finally{G(Me=>({...Me,[re]:!1}))}}$(Me=>({...Me,[re]:!Pe}))},je=re=>{const Pe=re.projects.sort().join("|"),Me=[...W,Pe];le(Me),localStorage.setItem("dismissedWorkstreamSuggestions",JSON.stringify(Me)),fe(st=>st.filter(gt=>gt.projects.sort().join("|")!==Pe)),Q.success("Suggestion dismissed")},De=ae.filter(re=>{const Pe=re.projects.sort().join("|");return!W.includes(Pe)}),Je=async()=>{if(confirm("Clear activity data older than 30 days?"))try{const re=await ve.clearActivity(30);re.success&&(Q.success(`Cleared ${re.cleared} old entries`),we())}catch(re){Q.error("Failed to clear activity: "+re.message)}},_e=async(re,Pe)=>{if(!re||re.length===0){Q.error("Add projects first to generate rules");return}J(!0);try{const Me=await ve.generateWorkstreamRules(re);Me.success&&Me.rules?(Pe(Me.rules),Q.success("Generated rules from repos")):Q.error(Me.error||"Failed to generate rules")}catch(Me){Q.error("Failed to generate rules: "+Me.message)}finally{J(!1)}},ye=async()=>{F(!0);try{const re=await ve.installWorkstreamHook();re.success?(Q.success(re.message),L(Pe=>({...Pe,isInstalled:!0}))):Q.error(re.error||"Failed to install hook")}catch(re){Q.error("Failed to install hook: "+re.message)}finally{F(!1)}},Oe=async()=>{try{u(!0);const re=await ve.getWorkstreams();s(re.workstreams||[])}catch{Q.error("Failed to load workstreams")}finally{u(!1)}},xt=async()=>{if(!g.trim()){Q.error("Name is required");return}R(!0);try{const re=await ve.createWorkstream(g.trim(),P,j);re.success?(s(Pe=>[...Pe,re.workstream]),Q.success(`Created workstream: ${g}`),f(!1),y(""),E(""),T([]),fe(Pe=>Pe.filter(Me=>Me.name!==g.trim()))):Q.error(re.error||"Failed to create workstream")}catch(re){Q.error("Failed to create workstream: "+re.message)}finally{R(!1)}},Rt=async re=>{if(confirm(`Delete workstream "${re.name}"?

This cannot be undone.`))try{const Pe=await ve.deleteWorkstream(re.id);Pe.success?(s(Me=>Me.filter(st=>st.id!==re.id)),Q.success(`Deleted workstream: ${re.name}`)):Q.error(Pe.error||"Failed to delete workstream")}catch(Pe){Q.error("Failed to delete workstream: "+Pe.message)}},ge=async()=>{if(m){R(!0);try{const re=await ve.updateWorkstream(m.id,{name:m.name,rules:m.rules,projects:m.projects||[]});re.success?(s(Pe=>Pe.map(Me=>Me.id===m.id?re.workstream:Me)),Q.success("Workstream updated"),h(null)):Q.error(re.error||"Failed to update workstream")}catch(re){Q.error("Failed to update workstream: "+re.message)}finally{R(!1)}}},Ce=re=>{b(Pe=>{const Me=new Set(Pe);return Me.has(re)?Me.delete(re):Me.add(re),Me})},ze=async()=>{if(!k||v.size===0)return;R(!0);let re=0,Pe=null;for(const Me of v)try{const st=await ve.addProjectToWorkstream(k.id,Me);st.success&&(Pe=st.workstream,re++)}catch(st){console.error("Failed to add project:",Me,st)}Pe&&s(Me=>Me.map(st=>st.id===k.id?Pe:st)),re>0?Q.success(`Added ${re} project${re>1?"s":""} to ${k.name}`):Q.error("Failed to add projects"),R(!1),w(!1),_(null),b(new Set)},Xe=async(re,Pe)=>{try{const Me=await ve.removeProjectFromWorkstream(re.id,Pe);Me.success?(s(st=>st.map(gt=>gt.id===re.id?Me.workstream:gt)),Q.success(`Removed project from ${re.name}`)):Q.error(Me.error||"Failed to remove project")}catch(Me){Q.error("Failed to remove project: "+Me.message)}},Ye=re=>re.split("/").pop()||re,Et=re=>n.filter(Pe=>{var Me;return(Me=Pe.projects)==null?void 0:Me.includes(re)}).length,nt=(re,Pe=null)=>{var gt,he;const Me=Et(re),st=Pe?(he=(gt=n.find(Be=>Be.id===Pe))==null?void 0:gt.projects)==null?void 0:he.includes(re):!1;return Me===0?null:Me===1?st?null:"in use":"shared"};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(at,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:r.jsx(ti,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Workstreams"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Context sets for multi-project workflows"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:"outline",onClick:Oe,size:"sm",children:[r.jsx(br,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(oe,{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"New Workstream"]})]})]}),r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4 text-sm text-purple-700 dark:text-purple-400",children:[r.jsx("p",{className:"font-medium mb-1",children:"What are Workstreams?"}),r.jsx("p",{children:"Workstreams are virtual projects that group repos belonging to the same product. When active, workstream rules are automatically injected into every Claude session."})]}),r.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:n.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(ti,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Workstreams Yet"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Create your first workstream to organize multi-project contexts."}),r.jsxs(oe,{onClick:()=>f(!0),children:[r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Create Your First Workstream"]})]}):r.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:n.map(re=>{var Pe,Me,st;return r.jsxs("div",{className:"group",children:[r.jsxs("div",{className:"p-4 flex items-center gap-4 transition-colors cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-900",onClick:()=>l(d===re.id?null:re.id),children:[r.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400",children:d===re.id?r.jsx(yr,{className:"w-4 h-4"}):r.jsx(Wr,{className:"w-4 h-4"})}),r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gray-100 dark:bg-slate-800",children:r.jsx(ti,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium truncate text-gray-900 dark:text-white",children:re.name}),((Pe=re.projects)==null?void 0:Pe.length)>0&&r.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-1.5 py-0.5 rounded",children:[re.projects.length," project",re.projects.length!==1?"s":""]}),re.rules&&r.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-1.5 py-0.5 rounded",children:[r.jsx(Er,{className:"w-3 h-3 inline mr-0.5"}),"Rules"]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 truncate",children:((Me=re.projects)==null?void 0:Me.length)>0?re.projects.map(gt=>Ye(gt)).join(", "):"No projects added"})]}),r.jsxs("div",{className:"flex items-center gap-2",onClick:gt=>gt.stopPropagation(),children:[r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>h({...re}),className:"text-gray-500 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Edit workstream",children:r.jsx(lb,{className:"w-4 h-4"})}),r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>Rt(re),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete workstream",children:r.jsx(mn,{className:"w-4 h-4"})})]})]}),d===re.id&&r.jsxs("div",{className:"px-4 pb-4 pl-16 space-y-4 bg-gray-50/50 dark:bg-slate-900/50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{_(re),w(!0)},children:[r.jsx(Li,{className:"w-4 h-4 mr-1"}),"Add Project"]})]}),((st=re.projects)==null?void 0:st.length)>0?r.jsx("div",{className:"space-y-1",children:re.projects.map(gt=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:gt.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>Xe(re,gt),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(qM,{className:"w-4 h-4"})})]},gt))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No projects added yet. Add projects to help organize your workstream."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Rules"}),re.rules?r.jsx("pre",{className:"text-sm text-gray-600 dark:text-slate-400 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-3 overflow-auto max-h-40 whitespace-pre-wrap",children:re.rules}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No rules defined. Click Edit to add context rules for this workstream."})]})]})]},re.id)})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Hook Integration"}),r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:r.jsx(ed,{className:"w-4 h-4"})})}),r.jsx(Vt,{side:"right",className:"max-w-xs",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"What are hooks?"}),r.jsx("br",{}),r.jsx("br",{}),"Hooks are scripts that run automatically at specific points in Claude Code sessions. The workstream hook runs before each prompt and injects your active workstream's rules into the context.",r.jsx("br",{}),r.jsx("br",{}),r.jsx("strong",{children:"How it works:"}),r.jsx("br",{}),"1. You activate a workstream",r.jsx("br",{}),"2. Hook detects the active workstream",r.jsx("br",{}),"3. Rules are prepended to Claude's context",r.jsx("br",{}),"4. Claude understands your project context"]})})]})})]}),U.isInstalled?r.jsx("div",{className:"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4 text-sm text-green-700 dark:text-green-400",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ol,{className:"w-5 h-5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Hook Installed"}),r.jsx("p",{className:"text-green-600 dark:text-green-500",children:"Workstream rules will be automatically injected into every Claude session."})]})]})}):r.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg p-4 text-sm text-amber-700 dark:text-amber-400",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ks,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium mb-1",children:"Hook Not Installed"}),r.jsx("p",{className:"mb-3",children:"Install the pre-prompt hook to automatically inject workstream rules into every Claude session."}),r.jsxs(oe,{onClick:ye,disabled:M||U.loading,size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white",children:[M?r.jsx(at,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Install Hook"]}),r.jsxs("p",{className:"text-xs mt-2 text-amber-600 dark:text-amber-500",children:["Creates ",r.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"~/.claude/hooks/pre-prompt.sh"})]})]})]})})]}),q&&q.totalSessions>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nM,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Activity Insights"})]}),r.jsxs(oe,{variant:"ghost",size:"sm",onClick:Je,className:"text-gray-500 dark:text-slate-400 hover:text-red-500",children:[r.jsx(mn,{className:"w-4 h-4 mr-1"}),"Clear Old"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(jC,{className:"w-3 h-3"}),"Sessions"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.totalSessions})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(Er,{className:"w-3 h-3"}),"Files Tracked"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.totalFiles})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[r.jsx(ti,{className:"w-3 h-3"}),"Projects Active"]}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.projectCount})]})]}),((Gt=q.topProjects)==null?void 0:Gt.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Most Active Projects"}),r.jsx("div",{className:"space-y-1",children:q.topProjects.slice(0,5).map((re,Pe)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-slate-400 truncate",title:re.path,children:re.path.split("/").pop()}),r.jsxs("span",{className:"text-gray-400 dark:text-slate-500 text-xs",children:[re.fileCount," files"]})]},re.path))})]})]}),De.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 rounded-xl border border-indigo-200 dark:border-indigo-800 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Ut,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),r.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-300",children:"Suggested Workstreams"}),r.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Based on activity patterns"})]}),r.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 mb-4",children:"These projects are frequently worked on together. Create a workstream to group them?"}),r.jsx("div",{className:"space-y-3",children:De.map(re=>r.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-indigo-200 dark:border-indigo-800 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nl,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:re.name}),re.coActivityScore&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[re.coActivityScore,"% co-activity"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>je(re),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",title:"Dismiss suggestion",children:r.jsx(ri,{className:"w-4 h-4"})}),r.jsxs(oe,{size:"sm",onClick:()=>Le(re),className:"bg-indigo-600 hover:bg-indigo-700",children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"Create"]})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:re.projects.map(Pe=>r.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-2 py-0.5 rounded",children:Pe.split("/").pop()},Pe))})]},re.name))})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[r.jsx("p",{children:"coder-config workstream                  # List workstreams"}),r.jsx("p",{children:'coder-config workstream use "Name"      # Set workstream for this tab'}),r.jsx("p",{children:'coder-config workstream create "Name"   # Create workstream'})]})]}),r.jsx(Nt,{open:c,onOpenChange:re=>{re||(f(!1),y(""),E(""),T([]),O(!1),$({}))},children:r.jsxs(_t,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(ti,{className:"w-5 h-5 text-purple-600"}),"Create Workstream"]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),r.jsx(lt,{value:g,onChange:re=>y(re.target.value),placeholder:"e.g., User Auth, Admin Dashboard",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(oe,{type:"button",size:"sm",variant:"outline",onClick:()=>O(!I),children:[r.jsx(Li,{className:"w-4 h-4 mr-1"}),"Add"]})]}),P.length>0?r.jsx("div",{className:"space-y-1 mb-2",children:P.map(re=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:re.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>Ke(re),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(ri,{className:"w-4 h-4"})})]},re))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects added. Add projects to help organize your workstream."}),I&&e.length>0&&r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-64 overflow-y-auto bg-white dark:bg-slate-900",children:e.map(re=>{const Pe=nt(re.path),Me=B[re.path],st=K[re.path],gt=Y[re.path]||[],he=P.includes(re.path);return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>ue(re.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:st?r.jsx(at,{className:"w-4 h-4 animate-spin text-gray-400"}):Me?r.jsx(yr,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>ne(re.path),disabled:he,className:`flex-1 text-left p-2 rounded transition-colors ${he?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:re.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[Pe&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Pe==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Pe}),he&&r.jsx(Jt,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:re.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),Me&&gt.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:gt.map(Be=>{const Pt=P.includes(Be.dir),$e=nt(Be.dir);return r.jsxs("button",{type:"button",onClick:()=>ne(Be.dir),disabled:Pt,className:`w-full text-left p-2 rounded transition-colors ${Pt?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:Be.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[$e&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$e==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:$e}),Pt&&r.jsx(Jt,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono",children:Be.relativePath})]},Be.dir)})}),Me&&gt.length===0&&!st&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},re.id)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context (optional)"}),r.jsxs(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>_e(P,E),disabled:te||P.length===0,className:"text-xs h-7 text-purple-600 hover:text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-950/30",title:"Auto-generate rules from repo README, package.json, etc.",children:[te?r.jsx(at,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(kn,{className:"w-3 h-3 mr-1"}),"Generate"]})]}),r.jsx(vt,{value:j,onChange:re=>E(re.target.value),placeholder:"Context rules for this workstream. These will be injected into every Claude session when this workstream is active.",rows:6}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:'Example: "Focus on user authentication. Use JWT tokens. React Query for state management."'})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>{f(!1),y(""),E(""),T([]),O(!1),$({})},children:"Cancel"}),r.jsxs(oe,{onClick:xt,disabled:N||!g.trim(),className:"bg-purple-600 hover:bg-purple-700",children:[N?r.jsx(at,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Create"]})]})]})}),r.jsx(Nt,{open:!!m,onOpenChange:re=>!re&&h(null),children:r.jsxs(_t,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(lb,{className:"w-5 h-5 text-purple-600"}),"Edit Workstream"]})}),m&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),r.jsx(lt,{value:m.name,onChange:re=>h(Pe=>({...Pe,name:re.target.value}))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),r.jsxs(oe,{type:"button",size:"sm",variant:"outline",onClick:()=>h(re=>({...re,showPicker:!re.showPicker})),children:[r.jsx(Li,{className:"w-4 h-4 mr-1"}),"Add"]})]}),((Ar=m.projects)==null?void 0:Ar.length)>0?r.jsx("div",{className:"space-y-1 mb-2",children:m.projects.map(re=>r.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[r.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:re.replace(/^\/Users\/[^/]+/,"~")}),r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>h(Pe=>({...Pe,projects:Pe.projects.filter(Me=>Me!==re)})),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:r.jsx(ri,{className:"w-4 h-4"})})]},re))}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects in this workstream."}),m.showPicker&&e.length>0&&r.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-48 overflow-y-auto bg-white dark:bg-slate-900",children:e.map(re=>{var Be;const Pe=(Be=m.projects)==null?void 0:Be.includes(re.path),Me=nt(re.path,m.id),st=B[re.path],gt=K[re.path],he=Y[re.path]||[];return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>ue(re.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:gt?r.jsx(at,{className:"w-4 h-4 animate-spin text-gray-400"}):st?r.jsx(yr,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>!Pe&&h(Pt=>({...Pt,projects:[...Pt.projects||[],re.path]})),disabled:Pe,className:`flex-1 text-left p-2 rounded transition-colors ${Pe?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:re.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[Me&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Me==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Me}),Pe&&r.jsx(Jt,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:re.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),st&&he.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:he.map(Pt=>{var ht;const $e=(ht=m.projects)==null?void 0:ht.includes(Pt.dir),ut=nt(Pt.dir,m.id);return r.jsxs("button",{type:"button",onClick:()=>!$e&&h(Bt=>({...Bt,projects:[...Bt.projects||[],Pt.dir]})),disabled:$e,className:`w-full text-left p-2 rounded transition-colors ${$e?"bg-purple-50 dark:bg-purple-950/30 opacity-50":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:Pt.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[ut&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${ut==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:ut}),$e&&r.jsx(Jt,{className:"w-4 h-4 text-purple-600"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:Pt.relativePath})]},Pt.dir)})}),st&&he.length===0&&!gt&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},re.id)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rules"}),r.jsxs(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>_e(m.projects,re=>h(Pe=>({...Pe,rules:re}))),disabled:te||!((Tr=m.projects)!=null&&Tr.length),className:"text-xs h-7 text-purple-600 hover:text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-950/30",title:"Auto-generate rules from repo README, package.json, etc.",children:[te?r.jsx(at,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(kn,{className:"w-3 h-3 mr-1"}),"Generate"]})]}),r.jsx(vt,{value:m.rules||"",onChange:re=>h(Pe=>({...Pe,rules:re.target.value})),placeholder:"Context rules for this workstream...",rows:8})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),r.jsxs(oe,{onClick:ge,disabled:N,className:"bg-purple-600 hover:bg-purple-700",children:[N?r.jsx(at,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(hi,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),r.jsx(Nt,{open:x,onOpenChange:re=>{w(re),re||($({}),b(new Set))},children:r.jsxs(_t,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Li,{className:"w-5 h-5 text-purple-600"}),"Add Project to ",k==null?void 0:k.name]})}),r.jsxs("div",{className:"py-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Select projects to add to this workstream (multi-select enabled):"}),e.length>0?r.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto border border-gray-200 dark:border-slate-700 rounded-lg p-2 bg-white dark:bg-slate-900",children:e.map(re=>{var Pt;const Pe=(Pt=k==null?void 0:k.projects)==null?void 0:Pt.includes(re.path),Me=v.has(re.path),st=nt(re.path,k==null?void 0:k.id),gt=B[re.path],he=K[re.path],Be=Y[re.path]||[];return r.jsxs("div",{className:"mb-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>ue(re.path),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-800 rounded",title:"Show sub-projects",children:he?r.jsx(at,{className:"w-4 h-4 animate-spin text-gray-400"}):gt?r.jsx(yr,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("button",{type:"button",onClick:()=>!Pe&&Ce(re.path),disabled:Pe,className:`flex-1 text-left p-2 rounded transition-colors ${Pe?"bg-gray-100 dark:bg-slate-800 opacity-50 cursor-not-allowed":Me?"bg-purple-100 dark:bg-purple-950/50 ring-2 ring-purple-500":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${Pe?"bg-gray-300 dark:bg-slate-600 border-gray-300 dark:border-slate-600":Me?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600"}`,children:(Pe||Me)&&r.jsx(Jt,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:re.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[st&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${st==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:st}),Pe&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"added"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate ml-6",children:re.path.replace(/^\/Users\/[^/]+/,"~")})]})]}),gt&&Be.length>0&&r.jsx("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-slate-700 pl-2",children:Be.map($e=>{var Rn;const ut=(Rn=k==null?void 0:k.projects)==null?void 0:Rn.includes($e.dir),ht=v.has($e.dir),Bt=nt($e.dir,k==null?void 0:k.id);return r.jsxs("button",{type:"button",onClick:()=>!ut&&Ce($e.dir),disabled:ut,className:`w-full text-left p-2 rounded transition-colors ${ut?"bg-gray-100 dark:bg-slate-800 opacity-50 cursor-not-allowed":ht?"bg-purple-100 dark:bg-purple-950/50 ring-2 ring-purple-500":"hover:bg-purple-50 dark:hover:bg-purple-950/30"}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${ut?"bg-gray-300 dark:bg-slate-600 border-gray-300 dark:border-slate-600":ht?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600"}`,children:(ut||ht)&&r.jsx(Jt,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"text-gray-700 dark:text-slate-300",children:$e.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[Bt&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${Bt==="shared"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-400"}`,children:Bt}),ut&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"added"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate ml-6",children:$e.relativePath})]},$e.dir)})}),gt&&Be.length===0&&!he&&r.jsx("div",{className:"ml-6 mt-1 pl-2 text-xs text-gray-400 dark:text-slate-500 italic",children:"No sub-projects found"})]},re.id)})}):r.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"No projects registered. Add projects in the Projects view first."})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>{w(!1),b(new Set)},children:"Cancel"}),r.jsxs(oe,{onClick:ze,disabled:v.size===0||N,className:"bg-purple-600 hover:bg-purple-700",children:[N?r.jsx(at,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(wt,{className:"w-4 h-4 mr-2"}),"Add Selected (",v.size,")"]})]})]})})]})}const zw={clarify:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",plan:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",execute:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},za={pending:r.jsx(gu,{className:"w-4 h-4 text-gray-500"}),running:r.jsx(DC,{className:"w-4 h-4 text-green-500"}),paused:r.jsx(RC,{className:"w-4 h-4 text-yellow-500"}),completed:r.jsx(ol,{className:"w-4 h-4 text-green-600"}),failed:r.jsx(Au,{className:"w-4 h-4 text-red-500"}),cancelled:r.jsx(Au,{className:"w-4 h-4 text-gray-500"})};function UH({activeProject:e=null}){var Ar,Tr,re,Pe,Me,st,gt;const[t,n]=C.useState([]),[s,o]=C.useState(!0),[u,d]=C.useState(null),[l,c]=C.useState({}),[f,m]=C.useState([]),[h,x]=C.useState(null),[w,k]=C.useState(!1),[_,v]=C.useState(!1),[b,g]=C.useState(!1),[y,j]=C.useState(!1),[E,P]=C.useState(null),[T,N]=C.useState(""),[R,I]=C.useState(""),[O,B]=C.useState(50),[$,Y]=C.useState("DONE"),[z,K]=C.useState(!1),[G,U]=C.useState(50),[L,M]=C.useState(!1),[F,q]=C.useState("DONE"),[H,ae]=C.useState([]),[fe,me]=C.useState({stopHook:{},prepromptHook:{}}),[X,W]=C.useState(!1),[le,te]=C.useState(!1),[J,se]=C.useState(null);C.useEffect(()=>{Le(),Ke(),ne(),we()},[]);const we=async()=>{try{const he=await ve.getWorkstreams();m(he.workstreams||[]),x(he.activeId||null)}catch(he){console.error("Failed to load workstreams:",he)}};C.useEffect(()=>{w&&h&&I(h)},[w,h]);const Le=async()=>{try{o(!0);const he=await ve.getLoops();n(he.loops||[]),c(he.config||{})}catch{Q.error("Failed to load loops")}finally{o(!1)}},Ke=async()=>{try{const Be=(await ve.getLoopConfig()).config||{};c(Be),U(Be.maxIterations||50),M(Be.autoApprovePlan||!1),q(Be.completionPromise||"DONE"),B(Be.maxIterations||50),Y(Be.completionPromise||"DONE")}catch(he){console.error("Failed to load config:",he)}},ne=async()=>{try{const he=await ve.getLoopHookStatus();me(he)}catch(he){console.error("Failed to load hook status:",he)}},ue=async()=>{try{const he=await ve.getLoopHistory();ae(he.completed||[])}catch{Q.error("Failed to load history")}},je=async()=>{if(!T.trim()){Q.error("Task description is required");return}try{K(!0);const he=await ve.createLoop(T,{workstreamId:R||null,projectPath:(e==null?void 0:e.path)||(e==null?void 0:e.dir)||null,maxIterations:parseInt(O,10)||50,completionPromise:$||"DONE"});he.success?(Q.success("Loop created"),k(!1),N(""),I(""),B(G),Y(F),Le()):Q.error(he.error||"Failed to create loop")}catch(he){Q.error(he.message)}finally{K(!1)}},De=async he=>{try{const Be=await ve.startLoop(he);Be.success&&Be.loop?(Q.success("Loop started - launching Claude Code"),se(Be.loop),te(!0),Le()):Q.error(Be.error||"Failed to start loop")}catch(Be){Q.error(Be.message)}},Je=C.useCallback(async(he,Be)=>{var Pt,$e;if(J)try{const ht=(await ve.getLoop(J.id)).loop;ht.taskComplete||ht.status==="completed"?(Q.success("Loop completed successfully!"),te(!1),se(null)):ht.status==="paused"?Q.info(`Loop paused: ${ht.pauseReason||"user requested"}`):((Pt=ht.iterations)==null?void 0:Pt.current)>=(($e=ht.iterations)==null?void 0:$e.max)?(Q.warning("Loop reached max iterations"),await ve.pauseLoop(ht.id)):Q.info("Claude exited. Click Start to continue the loop."),Le()}catch(ut){console.error("Failed to check loop status:",ut)}},[J]),_e=async he=>{try{const Be=await ve.pauseLoop(he);Be.success?(Q.success("Loop paused"),Le()):Q.error(Be.error||"Failed to pause loop")}catch(Be){Q.error(Be.message)}},ye=async he=>{try{const Be=await ve.resumeLoop(he);Be.success?(Q.success("Loop resumed"),Le()):Q.error(Be.error||"Failed to resume loop")}catch(Be){Q.error(Be.message)}},Oe=async he=>{if(confirm("Cancel this loop?"))try{const Be=await ve.cancelLoop(he);Be.success?(Q.success("Loop cancelled"),Le()):Q.error(Be.error||"Failed to cancel loop")}catch(Be){Q.error(Be.message)}},xt=async he=>{if(confirm("Delete this loop and all its data?"))try{const Be=await ve.deleteLoop(he);Be.success?(Q.success("Loop deleted"),Le()):Q.error(Be.error||"Failed to delete loop")}catch(Be){Q.error(Be.message)}},Rt=async he=>{try{const Be=await ve.approveLoop(he);Be.success?(Q.success("Plan approved"),Le()):Q.error(Be.error||"Failed to approve plan")}catch(Be){Q.error(Be.message)}},ge=async()=>{try{K(!0);const he=await ve.updateLoopConfig({maxIterations:parseInt(G,10),autoApprovePlan:L,completionPromise:F});he.success?(Q.success("Configuration saved"),v(!1),Ke()):Q.error(he.error||"Failed to save configuration")}catch(he){Q.error(he.message)}finally{K(!1)}},Ce=async()=>{try{W(!0);const he=await ve.installLoopHooks();he.success?(Q.success("Hooks installed successfully"),ne()):Q.error(he.error||"Failed to install hooks")}catch(he){Q.error(he.message)}finally{W(!1)}},ze=async he=>{try{const Be=await ve.getLoop(he.id);P({...Be.loop,clarifications:Be.clarifications,plan:Be.plan}),j(!0)}catch{Q.error("Failed to load loop details")}},Xe=he=>{navigator.clipboard.writeText(he),Q.success("Copied to clipboard")},Ye=he=>he?new Date(he).toLocaleString():"-",Et=he=>he.iterations?Math.min(100,he.iterations.current/he.iterations.max*100):0,nt=((Ar=fe.stopHook)==null?void 0:Ar.exists)&&((Tr=fe.prepromptHook)==null?void 0:Tr.exists),Gt=he=>{var ut,ht;const Be=(((ut=he.task)==null?void 0:ut.original)||"").replace(/"/g,'\\"'),Pt=((ht=he.iterations)==null?void 0:ht.max)||50,$e=he.completionPromise||"DONE";return`claude --dangerously-skip-permissions "/ralph-loop ${Be} --max-iterations ${Pt} --completion-promise '${$e}'"`};return r.jsxs("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(ll,{className:"w-6 h-6"}),"Ralph Loops"]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Autonomous development loops using the official ralph-loop plugin"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{ue(),g(!0)},children:[r.jsx(Ru,{className:"w-4 h-4 mr-1"}),"History"]})}),r.jsx(Vt,{children:"View completed loops"})]})}),r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>v(!0),children:[r.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Config"]})}),r.jsx(Vt,{children:"Configure loop defaults"})]})}),r.jsxs(oe,{onClick:()=>k(!0),children:[r.jsx(wt,{className:"w-4 h-4 mr-1"}),"New Loop"]})]})]}),!nt&&r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ks,{className:"w-5 h-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Hooks not installed"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Install the Ralph Loop hooks to enable automatic loop continuation"})]})]}),r.jsxs(oe,{variant:"outline",size:"sm",onClick:Ce,disabled:X,children:[X?r.jsx(at,{className:"w-4 h-4 animate-spin mr-1"}):null,"Install Hooks"]})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(at,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):t.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ll,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:"No loops yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Create a loop to start autonomous development"})]}):r.jsx("div",{className:"space-y-3",children:t.map(he=>{var Be,Pt,$e,ut,ht;return r.jsxs("div",{className:"border rounded-lg bg-card overflow-hidden",children:[r.jsxs("div",{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>d(u===he.id?null:he.id),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[u===he.id?r.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}):r.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),za[he.status]||za.pending,r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:he.name}),r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-md",children:((Be=he.task)==null?void 0:Be.original)||"No task"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${zw[he.phase]||"bg-gray-100"}`,children:he.phase}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[((Pt=he.iterations)==null?void 0:Pt.current)||0,"/",(($e=he.iterations)==null?void 0:$e.max)||50]}),r.jsxs("div",{className:"flex items-center gap-1",onClick:Bt=>Bt.stopPropagation(),children:[he.status==="pending"&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>De(he.id),children:r.jsx(DC,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Start loop"})]})}),he.status==="running"&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>_e(he.id),children:r.jsx(RC,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Pause loop"})]})}),he.status==="paused"&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>ye(he.id),children:r.jsx(I5,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Resume loop"})]})}),he.phase==="plan"&&he.status==="running"&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Rt(he.id),children:r.jsx(Jt,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Approve plan"})]})}),r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>ze(he),children:r.jsx(Gp,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"View details"})]})}),(he.status==="running"||he.status==="paused")&&r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Oe(he.id),children:r.jsx(Au,{className:"w-4 h-4"})})}),r.jsx(Vt,{children:"Cancel loop"})]})}),r.jsx(Or,{children:r.jsxs(Yt,{children:[r.jsx(Xt,{asChild:!0,children:r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>xt(he.id),children:r.jsx(mn,{className:"w-4 h-4 text-red-500"})})}),r.jsx(Vt,{children:"Delete loop"})]})})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[r.jsx("span",{children:"Iterations"}),r.jsxs("span",{children:[((ut=he.iterations)==null?void 0:ut.current)||0," / ",((ht=he.iterations)==null?void 0:ht.max)||50]})]}),r.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${Et(he)}%`}})})]})]}),u===he.id&&r.jsxs("div",{className:"border-t p-4 bg-muted/30 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"ID:"}),r.jsx("span",{className:"ml-2 font-mono",children:he.id}),r.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",onClick:()=>Xe(he.id),children:r.jsx(al,{className:"w-3 h-3"})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Status:"}),r.jsxs("span",{className:"ml-2",children:[he.status,he.pauseReason?` (${he.pauseReason})`:""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Created:"}),r.jsx("span",{className:"ml-2",children:Ye(he.createdAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),r.jsx("span",{className:"ml-2",children:Ye(he.updatedAt)})]}),he.workstreamId&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"text-muted-foreground",children:"Workstream:"}),r.jsx("span",{className:"ml-2",children:he.workstreamId})]})]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(It,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Run this loop (uses official ralph-loop plugin):"})]}),r.jsx("code",{className:"text-xs bg-background p-2 rounded block whitespace-pre-wrap",children:Gt(he)})]})]})]},he.id)})}),r.jsx(Nt,{open:w,onOpenChange:k,children:r.jsxs(_t,{className:"sm:max-w-lg",children:[r.jsx(Ct,{children:r.jsx(St,{children:"Create New Loop"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Task Description"}),r.jsx(vt,{placeholder:"Describe what you want Claude to accomplish...",value:T,onChange:he=>N(he.target.value),rows:4}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Be specific about the goal. The loop will continue until this task is completed."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Project"}),r.jsx("div",{className:"text-sm p-2 bg-muted rounded-md",children:e?r.jsx("span",{className:"font-mono",children:e.name||e.path||e.dir}):r.jsx("span",{className:"text-muted-foreground",children:"No project selected - loop will run in server directory"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Max Iterations"}),r.jsx(lt,{type:"number",value:O,onChange:he=>B(he.target.value),min:1,max:1e3}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Safety limit for the loop"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Completion Promise"}),r.jsx(lt,{value:$,onChange:he=>Y(he.target.value),placeholder:"DONE"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Text that signals completion"})]})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Workstream (optional)"}),r.jsxs("select",{className:"w-full border rounded-md p-2 bg-background",value:R,onChange:he=>I(he.target.value),children:[r.jsx("option",{value:"",children:"No workstream"}),f.map(he=>r.jsx("option",{value:he.id,children:he.name},he.id))]})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),r.jsxs(oe,{onClick:je,disabled:z||!T.trim(),children:[z?r.jsx(at,{className:"w-4 h-4 animate-spin mr-1"}):null,"Create Loop"]})]})]})}),r.jsx(Nt,{open:_,onOpenChange:v,children:r.jsxs(_t,{className:"sm:max-w-md",children:[r.jsx(Ct,{children:r.jsx(St,{children:"Loop Configuration"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Max Iterations"}),r.jsx(lt,{type:"number",value:G,onChange:he=>U(he.target.value),min:1,max:1e3}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Loop will pause after this many iterations"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Default Completion Promise"}),r.jsx(lt,{value:F,onChange:he=>q(he.target.value),placeholder:"DONE"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Default text that signals loop completion (used with official ralph-loop plugin)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"autoApprovePlan",checked:L,onChange:he=>M(he.target.checked),className:"rounded"}),r.jsx("label",{htmlFor:"autoApprovePlan",className:"text-sm",children:"Auto-approve plans (skip manual plan approval)"})]})]}),r.jsxs(Tt,{children:[r.jsx(oe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),r.jsxs(oe,{onClick:ge,disabled:z,children:[z?r.jsx(at,{className:"w-4 h-4 animate-spin mr-1"}):null,"Save"]})]})]})}),r.jsx(Nt,{open:b,onOpenChange:g,children:r.jsxs(_t,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(St,{children:"Loop History"})}),r.jsx("div",{className:"space-y-3 py-4",children:H.length===0?r.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No completed loops yet"}):H.slice().reverse().map(he=>r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[za[he.status]||za.completed,r.jsx("span",{className:"font-medium",children:he.name})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:Ye(he.completedAt)})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:he.task}),r.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:r.jsxs("span",{children:["Iterations: ",he.totalIterations]})})]},he.id))})]})}),r.jsx(Nt,{open:y,onOpenChange:j,children:r.jsxs(_t,{className:"sm:max-w-3xl max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(St,{children:(E==null?void 0:E.name)||"Loop Details"})}),E&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Phase"}),r.jsx("span",{className:`text-sm px-2 py-0.5 rounded-full ${zw[E.phase]||""}`,children:E.phase})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-1",children:[za[E.status],r.jsx("span",{children:E.status})]})]}),r.jsxs("div",{className:"border rounded p-3",children:[r.jsx("div",{className:"text-muted-foreground text-xs mb-1",children:"Progress"}),r.jsxs("span",{children:[((re=E.iterations)==null?void 0:re.current)||0," / ",((Pe=E.iterations)==null?void 0:Pe.max)||50]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Task"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm",children:(Me=E.task)==null?void 0:Me.original})]}),E.clarifications&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Clarifications"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap max-h-40 overflow-y-auto",children:E.clarifications})]}),E.plan&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Plan"}),r.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap max-h-60 overflow-y-auto font-mono",children:E.plan})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Max Iterations"}),r.jsx("div",{className:"bg-muted p-2 rounded text-sm",children:((st=E.iterations)==null?void 0:st.max)||50})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Completion Promise"}),r.jsxs("div",{className:"bg-muted p-2 rounded text-sm font-mono",children:["<promise>",E.completionPromise||"DONE","</promise>"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Run Command (uses official ralph-loop plugin)"}),r.jsx("code",{className:"text-xs bg-muted p-3 rounded block whitespace-pre-wrap",children:Gt(E)})]})]})]})}),r.jsx(cj,{open:le,onOpenChange:he=>{te(he),he||(se(null),Le())},title:J?`Loop: ${J.name}`:"Running Loop",description:(gt=J==null?void 0:J.task)==null?void 0:gt.original,cwd:J==null?void 0:J.projectPath,initialCommand:J?Gt(J):"",env:J?{CODER_LOOP_ID:J.id,...J.workstreamId&&{CODER_WORKSTREAM:J.workstreamId}}:{},onExit:Je})]})}function GH(e,t=[]){let n=[];function s(u,d){const l=C.createContext(d);l.displayName=u+"Context";const c=n.length;n=[...n,d];const f=h=>{var b;const{scope:x,children:w,...k}=h,_=((b=x==null?void 0:x[e])==null?void 0:b[c])||l,v=C.useMemo(()=>k,Object.values(k));return r.jsx(_.Provider,{value:v,children:w})};f.displayName=u+"Provider";function m(h,x){var _;const w=((_=x==null?void 0:x[e])==null?void 0:_[c])||l,k=C.useContext(w);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${h}\` must be used within \`${u}\``)}return[f,m]}const o=()=>{const u=n.map(d=>C.createContext(d));return function(l){const c=(l==null?void 0:l[e])||u;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[s,KH(o,...t)]}function KH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const d=s.reduce((l,{useScope:c,scopeName:f})=>{const h=c(u)[`__scope${f}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var qH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VN=qH.reduce((e,t)=>{const n=sd(`Primitive.${t}`),s=C.forwardRef((o,u)=>{const{asChild:d,...l}=o,c=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),tx="Progress",rx=100,[YH]=GH(tx),[XH,JH]=YH(tx),UN=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:o,getValueLabel:u=QH,...d}=e;(o||o===0)&&!Hw(o)&&console.error(ZH(`${o}`,"Progress"));const l=Hw(o)?o:rx;s!==null&&!Ww(s,l)&&console.error(eW(`${s}`,"Progress"));const c=Ww(s,l)?s:null,f=Ku(c)?u(c,l):void 0;return r.jsx(XH,{scope:n,value:c,max:l,children:r.jsx(VN.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ku(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":qN(c,l),"data-value":c??void 0,"data-max":l,...d,ref:t})})});UN.displayName=tx;var GN="ProgressIndicator",KN=C.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,o=JH(GN,n);return r.jsx(VN.div,{"data-state":qN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:t})});KN.displayName=GN;function QH(e,t){return`${Math.round(e/t*100)}%`}function qN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ku(e){return typeof e=="number"}function Hw(e){return Ku(e)&&!isNaN(e)&&e>0}function Ww(e,t){return Ku(e)&&!isNaN(e)&&e<=t&&e>=0}function ZH(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rx}\`.`}function eW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YN=UN,tW=KN;const XN=C.forwardRef(({className:e,value:t,...n},s)=>r.jsx(YN,{ref:s,className:Ee("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:r.jsx(tW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));XN.displayName=YN.displayName;const Ha=[{id:"welcome",title:"Welcome",icon:Ut,subsections:[{id:"intro",title:"What is Coder Config?"},{id:"what-youll-learn",title:"What You'll Learn"}]},{id:"first-project",title:"Your First Project",icon:Li,subsections:[{id:"adding-project",title:"Adding a Project"},{id:"exploring-project",title:"Exploring Your Project"},{id:"claude-folder",title:"The .claude Folder"}]},{id:"rules-guide",title:"Working with Rules",icon:Er,subsections:[{id:"what-are-rules",title:"What Are Rules?"},{id:"creating-rules",title:"Creating Your First Rule"},{id:"rule-tips",title:"Tips for Great Rules"}]},{id:"mcp-guide",title:"MCP Servers",icon:is,subsections:[{id:"what-are-mcps",title:"What Are MCPs?"},{id:"adding-mcp",title:"Adding Your First MCP"},{id:"mcp-config",title:"Configuring MCPs"}]},{id:"permissions-guide",title:"Permissions",icon:cs,subsections:[{id:"understanding-permissions",title:"How Permissions Work"},{id:"setting-permissions",title:"Setting Up Permissions"},{id:"permission-patterns",title:"Permission Patterns"}]},{id:"memory-guide",title:"Memory System",icon:Bi,subsections:[{id:"what-is-memory",title:"What is Memory?"},{id:"using-memory",title:"Using Memory"}]},{id:"plugins-guide",title:"Plugins",icon:$i,subsections:[{id:"what-are-plugins",title:"What Are Plugins?"},{id:"installing-plugin",title:"Installing a Plugin"}]},{id:"workstreams-guide",title:"Workstreams",icon:LC,subsections:[{id:"what-are-workstreams",title:"What Are Workstreams?"},{id:"creating-workstream",title:"Creating a Workstream"}]},{id:"loops-guide",title:"Ralph Loops",icon:ll,isNew:!0,subsections:[{id:"what-are-loops",title:"What Are Ralph Loops?"},{id:"creating-first-loop",title:"Your First Loop"}]},{id:"multi-tool-guide",title:"Multi-Tool Support",icon:kn,subsections:[{id:"other-tools",title:"Beyond Claude Code"},{id:"syncing-tools",title:"Syncing Between Tools"}]},{id:"next-steps",title:"Next Steps",icon:kl,subsections:[]}],rW={intro:{title:"What is Coder Config?",content:`
Think of Coder Config as your **control center** for Claude Code (and other AI coding tools). Instead of manually editing JSON files or remembering command-line flags, you get a friendly UI to manage everything.

### How are you using Coder Config?

**Desktop App** - Downloaded from [GitHub Releases](https://github.com/regression-io/coder-config/releases). No terminal needed!

**npm Package** - Installed via \`npm install -g coder-config\` and running \`coder-config ui\`.

Both work identically - this tutorial applies to either.

### What can you do here?

- **Register projects** you're working on
- **Add rules** that tell Claude how to behave in each project
- **Configure MCP servers** to give Claude superpowers (database access, file operations, etc.)
- **Set permissions** to control what Claude can do automatically
- **Manage memory** so Claude remembers important things
- **Install plugins** for pre-built configurations

### Who is this for?

Anyone using Claude Code! Whether you're:
- A developer wanting more control over Claude's behavior
- Working on multiple projects with different requirements
- Using Claude with other tools like Gemini CLI

Let's get started!
    `},"what-youll-learn":{title:"What You'll Learn",content:`
This tutorial walks you through Coder Config step-by-step. By the end, you'll know how to:

### The Basics
1. **Add and manage projects** - Register the codebases you work on
2. **Create rules** - Give Claude context about your project
3. **Configure MCPs** - Connect Claude to databases, APIs, and more

### Intermediate
4. **Set permissions** - Control what Claude can do without asking
5. **Use memory** - Help Claude remember things across sessions
6. **Install plugins** - Get pre-built configurations

### Advanced
7. **Create workstreams** - Manage multi-project workflows
8. **Multi-tool support** - Use with Gemini CLI and Antigravity

### How long will this take?

Each section takes about **5 minutes**. You can stop anytime and pick up where you left off.

Ready? Click **"Adding a Project"** in the sidebar to begin.
    `}},nW={"adding-project":{title:"Adding a Project",content:`
A "project" in Coder Config is simply a directory on your computer - usually a git repository or a folder containing code.

### How to Add a Project

![All Projects View](/tutorial/projects-view.png)

**Option 1: From the Header**
1. Look at the top of the screen - you'll see a project dropdown
2. Click it and select **"Add Project"**
3. Enter the path to your project folder

**Option 2: From All Projects**
1. Click **"All Projects"** in the sidebar
2. Click the **"Add Project"** button
3. Enter the path (e.g., \`/Users/you/code/my-app\`)

### Tips

- Use **absolute paths** (starting with \`/\` on Mac/Linux or \`C:\\\` on Windows)
- The folder should ideally be a **git repository** (but doesn't have to be)
- You can add as many projects as you like

### What Happens Next?

Once you add a project:
- It appears in your project dropdown for quick switching
- You can create a \`.claude\` folder with configuration
- Rules and settings will apply when you work in that project with Claude

Try adding a project now, then continue to the next section!
    `},"exploring-project":{title:"Exploring Your Project",content:`
Now that you've added a project, let's explore what you can do with it.

### The Project Explorer

Click **"Project Explorer"** in the sidebar. This shows you the configuration files inside your project's \`.claude\` folder.

![Project Explorer](/tutorial/project-explorer.png)

If you see "No .claude folder found", that's okay! We'll create one in the next section.

### What's in the Project Explorer?

The explorer shows a file tree with:
- **rules/** - Markdown files with guidelines for Claude
- **commands/** - Reusable prompts you can invoke
- **settings.local.json** - Project-specific settings
- **mcps.json** - MCP server configurations

### Creating and Editing Files

You can:
- **Click a file** to view/edit it
- **Right-click** for options like rename, delete, duplicate
- **Click the + button** to create new files

### The Info Panel

At the top, you'll see project info:
- Project name and path
- Quick stats (number of rules, commands, etc.)
- Buttons to open in VS Code or terminal

Let's create the .claude folder next!
    `},"claude-folder":{title:"The .claude Folder",content:`
The \`.claude\` folder is where all your project's Claude configuration lives. Think of it as Claude's "instruction manual" for your project.

### Creating the Folder

If your project doesn't have a \`.claude\` folder yet:

1. Go to **Project Explorer**
2. Click the **"Initialize .claude"** button (or create the folder manually)
3. A basic structure will be created for you

### What Goes Inside?

\`\`\`
.claude/
 rules/           # Guidelines for Claude
    README.md    # Project overview
 commands/        # Reusable prompts
 settings.local.json  # Local settings
 mcps.json        # MCP configurations
\`\`\`

### Why Use a .claude Folder?

- **Context**: Claude reads these files to understand your project
- **Consistency**: Same rules apply every time you use Claude
- **Sharing**: Commit to git so your team has the same setup
- **Organization**: Keep Claude config separate from your code

### Pro Tip

You can also create a \`CLAUDE.md\` file in your project root. Claude reads this automatically for high-level project context.

Next, let's learn about rules - the most powerful part of Coder Config!
    `}},sW={"what-are-rules":{title:"What Are Rules?",content:`
Rules are **instructions for Claude** written in plain Markdown. They tell Claude things like:

- How your project is structured
- What coding conventions to follow
- What to avoid doing
- Important context about your tech stack

### How Claude Uses Rules

When you work with Claude in a project, it automatically reads:
1. Files in \`.claude/rules/\`
2. The \`CLAUDE.md\` file in your project root

These become part of Claude's "system prompt" - the background context that shapes all its responses.

### Example Rule

\`\`\`markdown
# Code Style

- Use TypeScript for all new files
- Prefer functional components with hooks
- Always add JSDoc comments for exported functions
- Use absolute imports from @/
\`\`\`

### Why Rules Matter

Without rules, Claude makes assumptions. With rules, Claude follows **your** preferences.

For example, you might want Claude to:
- Always use a specific test framework
- Follow a particular naming convention
- Never modify certain files
- Use specific patterns for error handling
    `},"creating-rules":{title:"Creating Your First Rule",content:`
Let's create a simple rule file. This takes just a minute!

### Step by Step

1. Go to **Project Explorer** in the sidebar
2. Navigate to the \`rules/\` folder (create it if needed)
3. Click the **+** button to create a new file
4. Name it something descriptive like \`coding-style.md\`

### Write Your Rule

Start simple. Here's a template:

\`\`\`markdown
# Project Guidelines

## Tech Stack
- Frontend: React with TypeScript
- Backend: Node.js
- Database: PostgreSQL

## Coding Style
- Use async/await instead of callbacks
- Keep functions small and focused
- Add error handling to all API calls

## What to Avoid
- Don't use var, use const/let
- Don't commit console.log statements
- Don't modify package-lock.json
\`\`\`

### Test Your Rule

After saving:
1. Open Claude Code in your project
2. Ask Claude something related to your rule
3. Notice how it follows your guidelines!

### Pro Tip

You can have multiple rule files. Claude reads them all. Organize by topic:
- \`code-style.md\` - Coding conventions
- \`architecture.md\` - Project structure
- \`testing.md\` - Test guidelines
    `},"rule-tips":{title:"Tips for Great Rules",content:`
Good rules make Claude more helpful. Here's what works best.

### Be Specific, Not Vague

**Good**: "Use Tailwind CSS classes, never inline styles"

**Vague**: "Follow good CSS practices"

### Use Examples

\`\`\`markdown
## API Response Format

Always return responses in this format:
\\\`\\\`\\\`json
{
  "success": true,
  "data": { ... },
  "error": null
}
\\\`\\\`\\\`
\`\`\`

### State What TO Do, Not Just What NOT to Do

**Better**: "Use the logger from src/utils/logger.ts for all logging"

**Less helpful**: "Don't use console.log"

### Keep It Updated

Rules should evolve with your project. Outdated rules confuse Claude.

### Organize by Topic

Instead of one huge file, use multiple focused files:
- \`database.md\` - Database conventions
- \`api.md\` - API patterns
- \`testing.md\` - Test guidelines
- \`security.md\` - Security requirements

### Don't Over-Rule

Claude is smart. You don't need to specify everything. Focus on:
- Your unique preferences
- Project-specific patterns
- Things Claude might not know about your codebase
    `}},iW={"what-are-mcps":{title:"What Are MCPs?",content:`
MCP stands for **Model Context Protocol**. Think of MCPs as "plugins" that give Claude new abilities.

### What Can MCPs Do?

MCPs connect Claude to external systems:

- **Database access** - Query your PostgreSQL, MySQL, or SQLite databases
- **File operations** - Read/write files with more control
- **API integrations** - Connect to GitHub, Slack, Linear, and more
- **Memory** - Persistent storage across sessions
- **Custom tools** - Anything you can imagine!

### How They Work

1. An MCP server runs in the background
2. Claude connects to it via the MCP protocol
3. Claude can now use the tools that server provides

### Example: Filesystem MCP

The filesystem MCP lets Claude:
- Read files from specific directories
- Write files with proper permissions
- Search file contents

\`\`\`
Claude: "Read the config file at /etc/myapp/config.json"
 Uses filesystem MCP to safely access the file
\`\`\`

### Where Do MCPs Come From?

- **Official MCPs** - Built by Anthropic and partners
- **Community MCPs** - Open source on npm and GitHub
- **Custom MCPs** - Build your own for specific needs
    `},"adding-mcp":{title:"Adding Your First MCP",content:`
Let's add an MCP to your project. We'll use the popular **filesystem** MCP as an example.

![MCP Registry](/tutorial/mcp-registry.png)

### Step by Step

1. Click **"MCP Registry"** in the sidebar
2. Use the search bar to find "filesystem"
3. Click on the MCP card to see details
4. Click **"Add to Project"**

### Configure the MCP

After adding, you'll see a configuration panel:

\`\`\`json
{
  "command": "npx",
  "args": [
    "-y",
    "@anthropic/mcp-server-filesystem",
    "/path/to/allowed/directory"
  ]
}
\`\`\`

Customize the path to match where you want Claude to have access.

### Apply Your Changes

After configuring:
1. Click **"Re-apply Config"** in the header
2. Restart Claude Code if it's running

### Verify It's Working

In Claude Code, try:
\`\`\`
"List files in /path/to/allowed/directory"
\`\`\`

If Claude can list the files, your MCP is working!

### Popular MCPs to Try

- **@anthropic/mcp-server-filesystem** - File access
- **@anthropic/mcp-server-memory** - Persistent memory
- **@anthropic/mcp-server-github** - GitHub integration
- **@anthropic/mcp-server-postgres** - PostgreSQL queries
    `},"mcp-config":{title:"Configuring MCPs",content:`
Each MCP has its own configuration options. Here's how to manage them.

### The Configuration Panel

When you click on an MCP in your project, you'll see:
- **Command** - How to start the server
- **Args** - Arguments passed to the server
- **Environment Variables** - Secrets and settings

### Environment Variables

Many MCPs need API keys or secrets. Add them in the **Environment Variables** section:

\`\`\`
GITHUB_TOKEN=ghp_xxxxxxxxxxxx
DATABASE_URL=postgres://user:pass@host/db
\`\`\`

These are stored locally and **never** committed to git.

### Global vs Project MCPs

- **Global MCPs** apply to all projects (configured in Preferences)
- **Project MCPs** apply to one project (stored in \`.claude/mcps.json\`)

Use global for MCPs you want everywhere (like memory). Use project for project-specific ones (like a specific database).

### Removing MCPs

To remove an MCP:
1. Go to MCP Registry
2. Find the MCP in your project list
3. Click the delete button

### Troubleshooting

If an MCP isn't working:
1. Check the environment variables are set correctly
2. Make sure the MCP package is installed
3. Restart Claude Code
4. Check Claude's output for error messages
    `}},oW={"understanding-permissions":{title:"How Permissions Work",content:`
Permissions control what Claude can do **automatically** vs what requires your approval.

### The Three Categories

**Allow** (Green)
- Claude does this without asking
- Good for safe, routine operations
- Example: Reading source code files

**Ask** (Amber)
- Claude asks for permission each time
- Good for operations you want to review
- Example: Running npm install

**Deny** (Red)
- Claude cannot do this at all
- Good for dangerous operations
- Example: Deleting production files

### Why This Matters

Without permissions:
- Claude asks about EVERYTHING (annoying)
- Or you use "trust mode" (risky)

With permissions:
- Claude works smoothly on safe operations
- You stay in control of sensitive ones

### Example Workflow

1. You allow \`Read(**)\` - Claude can read any file
2. You ask for \`Bash(npm:*)\` - Claude asks before running npm commands
3. You deny \`Edit(.env)\` - Claude can never edit .env files

This gives you speed AND safety.
    `},"setting-permissions":{title:"Setting Up Permissions",content:`
Let's configure some permissions for your workflow.

![Claude Code Settings](/tutorial/claude-settings.png)

### Getting There

1. Click **"Claude Code"** in the sidebar
2. Find the **"Permissions"** section
3. You'll see three tabs: Allow, Ask, Deny

### Adding a Rule

1. Click **"Add Rules"** on any tab
2. Choose from **presets** or create a **custom rule**
3. Select one or more rules to add
4. Click **"Add"**

### Recommended Starting Point

For most developers, try:

**Allow:**
- \`Read(**)\` - Read all files
- \`Bash(npm:*)\` - Run npm commands
- \`Bash(git:*)\` - Run git commands

**Ask:**
- \`Edit(**)\` - Edit any file (review changes)
- \`Write(**)\` - Create new files

**Deny:**
- \`Edit(.env)\` - Protect secrets
- \`Bash(rm:*)\` - No delete commands

### Hover for Explanations

Hover over any rule chip to see:
- What the rule means in plain English
- Examples of what it matches
- What category means for this operation
    `},"permission-patterns":{title:"Permission Patterns",content:`
Permissions use **patterns** to match operations. Here's how they work.

### File Patterns

- \`**\` - All files, any depth
- \`*.js\` - All .js files in current directory
- \`src/**\` - Everything under src/
- \`.env\` - Exactly the .env file

### Bash Patterns

- \`npm:*\` - Any npm command with any args
- \`git:*\` - Any git command
- \`node:*\` - Run node with any args
- \`*\` - Any command (be careful!)

### Pattern Examples

\`\`\`
Read(src/**)         Read any file under src/
Edit(*.ts)           Edit TypeScript files
Bash(npm:install)    Run "npm install" only
Bash(docker:*)       Any docker command
Write(tests/**)      Create files under tests/
\`\`\`

### MCP Patterns

\`\`\`
mcp__filesystem__*   Any filesystem MCP tool
mcp__github__*       Any GitHub MCP tool
mcp__*__*            Any MCP tool (broad!)
\`\`\`

### Tips

- Start restrictive, then allow more as needed
- Use specific patterns for sensitive operations
- Group related permissions (all npm stuff in one rule)
    `}},aW={"what-is-memory":{title:"What is Memory?",content:`
Memory lets Claude **remember things** across conversations. Instead of repeating yourself, teach Claude once and it remembers.

### Types of Memory

**Global Memory** (applies everywhere)
- Your preferences ("I prefer tabs over spaces")
- Corrections ("When I say 'deploy', I mean to staging")
- Facts about you ("I work on a Mac M2")

**Project Memory** (applies to one project)
- Project context ("This is a React 18 app")
- Code patterns ("We use React Query for data fetching")
- Architecture decisions ("We chose PostgreSQL because...")
- Known issues ("The auth service is flaky on Mondays")

### How It Works

Memory is stored in markdown files:
- Global: \`~/.claude/memory/\`
- Project: \`your-project/.claude/memory/\`

Claude reads these automatically when you start a conversation.

### Example Memory Entry

\`\`\`markdown
## Preference: Testing
- Always run tests before committing
- Use Jest for unit tests, Playwright for e2e
- Learned: 2024-01-15
\`\`\`
    `},"using-memory":{title:"Using Memory",content:`
Let's add some memory entries to make Claude smarter about your work.

![Memory View](/tutorial/memory-view.png)

### Accessing Memory

1. Click **"Memory"** in the sidebar
2. Choose **Global** or **Project** tab
3. Browse existing entries or add new ones

### Adding Memory

Click **"Add Entry"** and choose a type:

- **Preference** - How you like things done
- **Correction** - Fix a mistake Claude makes
- **Fact** - Something Claude should know
- **Pattern** - Code patterns in your project
- **Decision** - Why you chose a certain approach

### Example: Adding a Preference

\`\`\`
Type: Preference
Title: Code Style
Content: I prefer functional components with hooks.
         Never use class components.
\`\`\`

### Example: Adding a Correction

\`\`\`
Type: Correction
What you did wrong: Used console.log for debugging
What to do instead: Use the logger at src/utils/logger.ts
\`\`\`

### Tips

- Be specific - vague memory isn't helpful
- Update memory when things change
- Delete outdated entries
- Use project memory for project-specific stuff
    `}},lW={"what-are-plugins":{title:"What Are Plugins?",content:`
Plugins are **pre-built configurations** you can install with one click. Instead of writing rules from scratch, use plugins created by the community.

### What's in a Plugin?

A plugin can include:
- **Rules** - Guidelines for Claude
- **Commands** - Reusable prompts
- **MCPs** - Tool configurations

### Example Plugins

- **react-typescript** - Best practices for React + TypeScript
- **fastapi** - Python FastAPI conventions
- **nextjs** - Next.js 14 patterns
- **security** - Security-focused rules

### Why Use Plugins?

- **Save time** - Don't reinvent the wheel
- **Learn best practices** - See how experts configure Claude
- **Consistency** - Use the same setup across projects
- **Easy updates** - Plugin authors maintain the config

### Plugin Sources

Plugins come from **marketplaces** - curated collections maintained by the community. The default marketplace has popular, vetted plugins.
    `},"installing-plugin":{title:"Installing a Plugin",content:`
Let's install your first plugin!

![Plugins View](/tutorial/plugins-view.png)

### Step by Step

1. Click **"Plugins"** in the sidebar
2. Browse the available plugins
3. Click on one that interests you
4. Click **"Install"**

### Choose a Scope

When installing, you'll choose where to install:

- **Project** - Only this project (\`.claude/\` folder)
- **Global** - All projects (\`~/.claude/\` folder)
- **Local** - Your machine only (not committed to git)

### What Happens

After installing:
1. Plugin files are copied to your chosen location
2. Rules become active immediately
3. Commands become available to use
4. MCPs may need additional setup (like API keys)

### Managing Installed Plugins

- View installed plugins in the Plugins view
- Uninstall by clicking the trash icon
- Update when new versions are available

### Finding More Plugins

Want more plugins? You can:
1. Add custom marketplaces in Settings
2. Create your own plugins
3. Share plugins with your team
    `}},cW={"what-are-workstreams":{title:"What Are Workstreams?",content:`
Workstreams are **virtual projects** that group multiple repos belonging to the same product or system.

### The Problem

Many products are split across multiple repositories:
- A frontend repo
- A backend/API repo
- Shared libraries or types
- Infrastructure configs

When you work on "Product X", you're often jumping between these repos - but they're all part of the same thing.

### The Solution

A workstream groups these repos together so Claude understands they're related:

\`\`\`
"Acme App" workstream:
  - acme-frontend (React app)
  - acme-api (Node.js backend)
  - acme-shared (TypeScript types)
\`\`\`

### Benefits

- **Unified context** - Claude knows all three repos are part of "Acme App"
- **Shared rules** - Write rules once, apply to all repos in the workstream
- **Auto-switching** - Claude detects which workstream you're in based on the repo
- **Cross-repo awareness** - Claude can reference patterns from related repos
    `},"creating-workstream":{title:"Creating a Workstream",content:`
Let's create a workstream for your product.

### Step by Step

1. Click **"Workstreams"** in the sidebar
2. Click **"New Workstream"**
3. Name it after your product (e.g., "Acme App", "Customer Portal")
4. Add the repos that belong to this product

### Adding Repos

Click **"Add"** and select from your registered projects. Only add repos that are part of the same product - don't mix repos from different products.

### Workstream Rules

Add rules that apply across all repos in this workstream:

\`\`\`markdown
# Acme App Context

This is a full-stack TypeScript app.
- Frontend: React 18 with Vite
- Backend: Node.js with Express
- Shared types in acme-shared package

Always import types from @acme/shared.
\`\`\`

### When It Activates

The workstream automatically activates when you're working in any of its repos. Claude will inject the workstream rules into every session.

### One Product = One Workstream

Keep it simple: each workstream represents one product or system. If you have multiple products, create separate workstreams for each.
    `}},uW={"what-are-loops":{title:"What Are Ralph Loops?",content:`
## Ralph Loops: Autonomous Development

Ever wished Claude could just... keep going until a task is done?

That's exactly what **Ralph Loops** do.

### The Old Way

\`\`\`
You: "Add user authentication"
Claude: *makes some progress* "I've started the auth module..."
You: "Continue"
Claude: *more progress* "Added the login endpoint..."
You: "Keep going"
Claude: *even more* "JWT tokens are set up..."
You: "Finish it"
...repeat 10 more times...
\`\`\`

### The Ralph Loop Way

\`\`\`
You: Create a loop "Add user authentication"
Claude: *asks clarifying questions*
Claude: *creates implementation plan*
You: "Looks good, approve"
Claude: *implements everything autonomously*
Claude: "Done! Authentication system complete."
\`\`\`

### Three Phases

1. **Clarify** - Claude asks questions to understand requirements
2. **Plan** - Claude creates a detailed implementation plan
3. **Execute** - Claude implements the plan, iteration by iteration

### Safety Built In

- **Iteration limits** prevent runaway loops (default: 50)
- **Cost budgets** cap spending (default: $10)
- **Plan approval** lets you review before execution
- **Pause anytime** and resume later
    `},"creating-first-loop":{title:"Creating Your First Loop",content:`
## Let's Create a Loop!

### Step 1: Open Ralph Loops

Click **Ralph Loops** in the sidebar (under Tools).

### Step 2: Click New Loop

You'll see a dialog asking for a task description.

### Step 3: Describe Your Task

Be specific! Good examples:

- "Add a dark mode toggle to the settings page"
- "Create unit tests for the UserService class"
- "Refactor the payment module to use async/await"

Not as helpful:
- "Fix bugs" (which ones?)
- "Make it better" (how?)

### Step 4: Create the Loop

Click **Create Loop**. You'll see it in the list with status "pending".

### Step 5: Start the Loop

Click the **play button** or run:

\`\`\`bash
coder-config loop start <loop-id>
\`\`\`

### Step 6: Run with Claude

The UI shows you the command to run:

\`\`\`bash
export CODER_LOOP_ID=<loop-id>
claude --continue "Your task description"
\`\`\`

### What Happens Next

1. Claude enters **Clarify** phase, asking questions
2. Once clear, moves to **Plan** phase
3. You **approve** the plan
4. Claude enters **Execute** phase
5. Loop continues until task is complete!

### Pro Tip

Watch the progress bars! They show:
- **Iterations** - How many rounds completed
- **Budget** - Estimated cost so far
    `}},dW={"other-tools":{title:"Beyond Claude Code",content:`
Coder Config isn't just for Claude Code! It also supports other AI coding tools.

### Supported Tools

**Claude Code** (Full support)
- Everything in this tutorial applies
- The primary tool we support

**Gemini CLI** (Good support)
- Google's AI coding assistant
- MCP configuration
- Rule syncing
- Per-project settings

**Codex CLI** (Good support)
- OpenAI's AI coding assistant
- MCP configuration
- Security policies and sandbox modes
- Per-project settings

**Antigravity** (Basic support)
- Alternative AI coding tool
- MCP configuration
- Rule syncing

### Why Multi-Tool?

You might use different tools for different things:
- Claude Code for complex reasoning
- Gemini CLI for quick tasks
- Different tools for different languages

With Coder Config, you configure once and use everywhere.

### Enabling Other Tools

1. Go to **Preferences** in the sidebar
2. Find **"Enabled Tools"**
3. Check the tools you want to use
4. New tabs appear in the sidebar for each tool
    `},"syncing-tools":{title:"Syncing Between Tools",content:`
Keep your rules consistent across all your AI coding tools.

### The Sync Feature

Coder Config can sync rules between:
- \`.claude/rules/\` (Claude Code)
- \`.gemini/rules/\` (Gemini CLI)
- \`.agent/rules/\` (Antigravity)

### How to Sync

1. Go to **Project Explorer**
2. Click **"Sync Rules"** button
3. Choose which tools to sync
4. Rules are copied to each tool's folder

### What Gets Synced

- Rule files (\`.md\` files)
- Directory structure
- File contents

What doesn't sync:
- MCPs (different format per tool)
- Settings (tool-specific)

### Best Practice

Use Coder Config as your "source of truth":
1. Edit rules in Coder Config
2. Sync to other tools
3. Don't edit directly in other tool folders

This keeps everything consistent.

### Per-Tool Settings

Each tool has its own settings page in the sidebar:
- **Claude Code** - Permissions, model, behavior
- **Gemini CLI** - Model, display, sandbox settings
- **Codex CLI** - Model, security policies, MCP servers
- **Antigravity** - Security, MCP, browser allowlist
- Configure each tool separately for tool-specific needs
    `}},hW={"next-steps":{title:"Next Steps",content:`
You've completed the Coder Config tutorial! You now know how to:

- Add and manage projects
- Create rules for Claude
- Configure MCP servers
- Set up permissions
- Use the memory system
- Install plugins
- Work with workstreams
- Sync across multiple tools

### What's Next?

**Explore the Docs**

For deeper dives, check out **Docs & Help** in the sidebar. It has detailed information on every feature.

**Try Creating an MCP**

Click **"Create MCP"** to build your own MCP server. Great for connecting Claude to your internal tools.

**Join the Community**

- **GitHub**: Report issues and request features
- **Discussions**: Share your configurations

### Quick Reference

**Keyboard Shortcuts**
- \`Cmd/Ctrl + K\` - Quick project switch
- \`Cmd/Ctrl + ,\` - Open preferences
- \`Cmd/Ctrl + R\` - Refresh

**For CLI Users**
\`\`\`bash
coder-config ui          # Start the UI
coder-config ui stop     # Stop the daemon
coder-config apply       # Apply config to current project
coder-config --help      # See all commands
\`\`\`

*Desktop app users: These commands are optional - the app handles everything automatically.*

### Thank You!

Thanks for using Coder Config. We built this to make working with AI coding tools easier and more powerful.

Happy coding!
    `}},fW={...rW,...nW,...sW,...iW,...oW,...aW,...lW,...cW,...uW,...dW,...hW},hu={welcome:{bg:"bg-violet-500",light:"bg-violet-100 dark:bg-violet-950",text:"text-violet-600 dark:text-violet-400"},"first-project":{bg:"bg-blue-500",light:"bg-blue-100 dark:bg-blue-950",text:"text-blue-600 dark:text-blue-400"},"rules-guide":{bg:"bg-emerald-500",light:"bg-emerald-100 dark:bg-emerald-950",text:"text-emerald-600 dark:text-emerald-400"},"mcp-guide":{bg:"bg-orange-500",light:"bg-orange-100 dark:bg-orange-950",text:"text-orange-600 dark:text-orange-400"},"permissions-guide":{bg:"bg-green-500",light:"bg-green-100 dark:bg-green-950",text:"text-green-600 dark:text-green-400"},"memory-guide":{bg:"bg-pink-500",light:"bg-pink-100 dark:bg-pink-950",text:"text-pink-600 dark:text-pink-400"},"plugins-guide":{bg:"bg-purple-500",light:"bg-purple-100 dark:bg-purple-950",text:"text-purple-600 dark:text-purple-400"},"workstreams-guide":{bg:"bg-cyan-500",light:"bg-cyan-100 dark:bg-cyan-950",text:"text-cyan-600 dark:text-cyan-400"},"loops-guide":{bg:"bg-teal-500",light:"bg-teal-100 dark:bg-teal-950",text:"text-teal-600 dark:text-teal-400"},"multi-tool-guide":{bg:"bg-amber-500",light:"bg-amber-100 dark:bg-amber-950",text:"text-amber-600 dark:text-amber-400"},"next-steps":{bg:"bg-rose-500",light:"bg-rose-100 dark:bg-rose-950",text:"text-rose-600 dark:text-rose-400"}},Vw="claude-config-tutorial-visited";function mW(){const[e,t]=C.useState("intro"),[n,s]=C.useState({welcome:!0}),[o,u]=C.useState(()=>{try{return JSON.parse(localStorage.getItem(Vw)||"[]")}catch{return[]}}),d=C.useRef(null);C.useEffect(()=>{if(d.current){const y=d.current.querySelector("[data-radix-scroll-area-viewport]");y&&(y.scrollTop=0)}},[e]),C.useEffect(()=>{if(e&&!o.includes(e)){const y=[...o,e];u(y),localStorage.setItem(Vw,JSON.stringify(y))}},[e,o]);const l=y=>{s(j=>({...j,[y]:!j[y]}))},c=fW[e],f=Ha.flatMap(y=>y.subsections.length>0?y.subsections.map(j=>j.id):[y.id]),m=f.indexOf(e),h=m>0?f[m-1]:null,x=m<f.length-1?f[m+1]:null,w=Math.round(o.length/f.length*100),_=(()=>{for(const y of Ha)if(y.id===e||y.subsections.some(j=>j.id===e))return y;return Ha[0]})(),v=hu[_.id]||hu.welcome,b=y=>{for(const j of Ha){if(j.id===y)return j.title;const E=j.subsections.find(P=>P.id===y);if(E)return E.title}return""},g=y=>({__html:WN(y)});return r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-border bg-gradient-to-r from-indigo-500/10 to-purple-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx(Tu,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-foreground",children:"Tutorial"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Step-by-step guide"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[w,"% complete"]})]}),r.jsx(XN,{value:w,className:"h-2"})]})]}),r.jsx(An,{className:"flex-1",children:r.jsx("div",{className:"p-2",children:Ha.map((y,j)=>{const E=y.icon,P=hu[y.id]||hu.welcome,T=e===y.id||y.subsections.some(R=>R.id===e),N=y.subsections.length>0?y.subsections.every(R=>o.includes(R.id)):o.includes(y.id);return r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{className:Ee("w-full flex items-center gap-2 px-3 py-2.5 text-sm rounded-lg hover:bg-accent text-left transition-all",T&&"bg-accent"),onClick:()=>{y.subsections.length>0?(l(y.id),n[y.id]||t(y.subsections[0].id)):t(y.id)},children:[r.jsx("span",{className:Ee("w-7 h-7 rounded-lg flex items-center justify-center transition-colors",T?P.bg+" text-white":P.light),children:N?r.jsx(ol,{className:"w-4 h-4"}):r.jsx(E,{className:Ee("w-4 h-4",!T&&P.text)})}),r.jsx("span",{className:Ee("flex-1",T&&"font-medium"),children:y.title}),y.subsections.length>0&&r.jsx(Wr,{className:Ee("w-4 h-4 text-muted-foreground transition-transform",n[y.id]&&"rotate-90")})]}),y.subsections.length>0&&n[y.id]&&r.jsx("div",{className:"ml-4 mt-1 space-y-0.5 border-l-2 border-border pl-3",children:y.subsections.map(R=>{const I=e===R.id,O=o.includes(R.id);return r.jsxs("button",{className:Ee("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground flex items-center gap-2",I&&"bg-accent font-medium",I&&P.text),onClick:()=>t(R.id),children:[O&&!I&&r.jsx(ol,{className:"w-3 h-3 text-green-500"}),r.jsx("span",{className:Ee(!O&&!I&&"ml-5"),children:R.title})]},R.id)})})]},y.id)})})})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:Ee("px-8 py-4 border-b border-border",v.light),children:r.jsxs("div",{className:"max-w-3xl mx-auto flex items-center gap-3",children:[r.jsx("div",{className:Ee("w-10 h-10 rounded-xl flex items-center justify-center",v.bg,"text-white"),children:r.jsx(_.icon,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:Ee("text-sm font-medium",v.text),children:_.title}),r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:(c==null?void 0:c.title)||b(e)})]})]})}),r.jsx(An,{className:"flex-1",ref:d,children:r.jsx("div",{className:"max-w-3xl mx-auto p-8",children:c?r.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:text-foreground prose-p:text-muted-foreground prose-strong:text-foreground prose-code:text-primary prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-muted prose-pre:border prose-pre:border-border",dangerouslySetInnerHTML:g(c.content)}):r.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[r.jsx(Tu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a topic from the sidebar"})]})})}),r.jsx("div",{className:"border-t border-border p-4 bg-muted/30",children:r.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[h?r.jsxs(oe,{variant:"ghost",onClick:()=>t(h),className:"flex items-center gap-2",children:[r.jsx(gM,{className:"w-4 h-4"}),r.jsx("span",{className:"max-w-[150px] truncate",children:b(h)})]}):r.jsx("div",{}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[m+1," of ",f.length]}),x?r.jsxs(oe,{onClick:()=>t(x),className:Ee("flex items-center gap-2",v.bg,"hover:opacity-90"),children:[r.jsx("span",{className:"max-w-[150px] truncate",children:b(x)}),r.jsx(Up,{className:"w-4 h-4"})]}):r.jsx(oe,{variant:"outline",onClick:()=>t("intro"),className:"flex items-center gap-2",children:"Start Over"})]})})]})]})}const pW=[{id:"projects",label:"All Projects",icon:ti,section:"Projects"},{id:"explorer",label:"Project Explorer",icon:oi,section:"Projects"},{id:"registry",label:"MCP Registry",icon:is,section:"Tools"},{id:"plugins",label:"Plugins",icon:$i,section:"Tools"},{id:"memory",label:"Memory",icon:Bi,section:"Tools"},{id:"workstreams",label:"Workstreams",icon:LC,section:"Tools"},{id:"loops",label:"Ralph Loops",icon:ll,section:"Tools",isNew:!0},{id:"claude-settings",label:"Claude Code",icon:cs,section:"Configuration"},{id:"gemini-settings",label:"Gemini CLI",icon:It,section:"Configuration"},{id:"codex-settings",label:"Codex CLI",icon:It,section:"Configuration",isNew:!0},{id:"antigravity-settings",label:"Antigravity",icon:kl,section:"Configuration"},{id:"create-mcp",label:"Create MCP",icon:kn,section:"Developer"},{id:"preferences",label:"Preferences",icon:IC,section:"System"},{id:"tutorial",label:"Tutorial",icon:Tu,section:"Help"},{id:"docs",label:"Docs & Help",icon:Oi,section:"Help"}],Uw=(e,t)=>{try{const n=localStorage.getItem(`claude-config-${e}`);return n?JSON.parse(n):t}catch{return t}},gW=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function xW(){const[e,t]=C.useState(()=>Uw("currentView","explorer")),[n,s]=C.useState(!0),[o,u]=C.useState({dir:"",subprojects:[],hierarchy:[]}),[d,l]=C.useState([]),[c,f]=C.useState({mcpServers:{}}),[m,h]=C.useState([]),[x,w]=C.useState([]),[k,_]=C.useState(null),[v,b]=C.useState(null),[g,y]=C.useState(!1),[j,E]=C.useState({title:"",type:""}),[P,T]=C.useState(""),[N,R]=C.useState(""),[I,O]=C.useState({}),[B,$]=C.useState(null),[Y,z]=C.useState(null),[K,G]=C.useState(!1),[U,L]=C.useState([]),[M,F]=C.useState(null),[q,H]=C.useState(!1),[ae,fe]=C.useState(null);C.useEffect(()=>{gW("currentView",e)},[e]);const me=C.useCallback(async()=>{try{const[ne,ue,je,De,Je]=await Promise.all([ve.getProject(),ve.getConfigs(),ve.getRegistry(),ve.getRules(),ve.getCommands()]);u(ne),l(ue),f(je),h(De),w(Je),ue.length>0&&!k&&_(ue[ue.length-1])}catch(ne){Q.error("Failed to load data: "+ne.message)}finally{s(!1)}},[k]),X=C.useCallback(async(ne=!1)=>{var ue;try{const je=await ve.getProjects();L(je.projects||[]);const De=(ue=je.projects)==null?void 0:ue.find(Je=>Je.isActive);if(F(De||null),ne&&De){const Je=await ve.getSubprojects(De.path);fe({dir:De.path,subprojects:Je.subprojects||[]})}ne&&!De&&(Uw("currentView",null)||t("projects"))}catch{console.log("Projects API not available")}},[]),W=async ne=>{try{const ue=await ve.setActiveProject(ne);ue.success?(u({dir:ue.dir,hierarchy:ue.hierarchy,subprojects:ue.subprojects}),fe({dir:ue.dir,subprojects:ue.subprojects}),F(ue.project),L(je=>je.map(De=>({...De,isActive:De.id===ne}))),await me(),Q.success(`Switched to ${ue.project.name}`)):Q.error(ue.error||"Failed to switch project")}catch(ue){Q.error("Failed to switch project: "+ue.message)}},le=ne=>{L(ue=>[...ue,{...ne,exists:!0,hasClaudeConfig:!1}])};C.useEffect(()=>{me(),X(!0),(async()=>{var ue;try{const[je,De]=await Promise.all([ve.checkVersion(),ve.getConfig()]);if($(je==null?void 0:je.installedVersion),je!=null&&je.updateAvailable&&(je==null?void 0:je.updateMethod)==="npm")if((ue=De==null?void 0:De.config)!=null&&ue.autoUpdate){Q.info(`Auto-updating to v${je.latestVersion}...`),G(!0);const Je=await ve.performUpdate({updateMethod:je.updateMethod,targetVersion:je.latestVersion});if(Je.success){Q.success(`Updated to v${Je.newVersion}! Restarting server...`);try{await ve.restartServer()}catch{}let _e=0;const ye=setInterval(async()=>{_e++;try{await ve.checkVersion(),clearInterval(ye),Q.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{_e>30&&(clearInterval(ye),Q.info("Server restarting. Please refresh the page."),G(!1))}},500)}else Q.error("Auto-update failed: "+Je.error),G(!1),z(je)}else z(je)}catch{}})()},[]);const te=async()=>{if(Y!=null&&Y.updateAvailable){G(!0);try{const ne=await ve.performUpdate({updateMethod:Y.updateMethod,sourcePath:Y.sourcePath,targetVersion:Y.latestVersion});if(ne.success){Q.success(`Updated to v${ne.newVersion}! Restarting server...`),z(null),$(ne.newVersion);try{await ve.restartServer()}catch{}let ue=0;const je=setInterval(async()=>{ue++;try{await ve.checkVersion(),clearInterval(je),Q.success("Server restarted! Reloading..."),setTimeout(()=>window.location.reload(),500)}catch{ue>30&&(clearInterval(je),Q.info("Server restarting. Please refresh the page."),G(!1))}},500)}else Q.error("Update failed: "+ne.error),G(!1)}catch(ne){Q.error("Update failed: "+ne.message),G(!1)}}};C.useEffect(()=>{const ne=async()=>{try{const{hashes:je}=await ve.getFileHashes(),De=I;(Object.keys(je).some(_e=>De[_e]!==je[_e])||Object.keys(De).some(_e=>!je[_e]))&&Object.keys(De).length>0&&(Q.info("Files changed externally, reloading..."),await me()),O(je)}catch{}},ue=setInterval(ne,2e3);return ne(),()=>clearInterval(ue)},[I,me]);const J=new Set;d.forEach(ne=>{var ue,je;(((ue=ne.config)==null?void 0:ue.include)||[]).forEach(De=>J.add(De)),Object.keys(((je=ne.config)==null?void 0:je.mcpServers)||{}).forEach(De=>J.add(De))});const se={mcps:J.size,rules:m.length,commands:x.length},we=async()=>{try{const ne=await ve.applyConfig(o.dir);if(ne.tools){const ue=Object.entries(ne.tools).filter(([,je])=>je).map(([je])=>je==="claude"?"Claude Code":"Antigravity");ue.length>0?Q.success(`Config applied to: ${ue.join(", ")}`):Q.warning("No tools were updated")}else Q.success("Configuration applied successfully!")}catch(ne){Q.error("Failed to apply config: "+ne.message)}},Le=async()=>{s(!0),await me(),Q.success("Data refreshed")};if(n)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(at,{className:"w-8 h-8 animate-spin text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})});const Ke=()=>{switch(e){case"explorer":return r.jsx(s8,{project:o,onRefresh:me});case"registry":return r.jsx(bH,{registry:c,searchQuery:P,setSearchQuery:T,onUpdate:me});case"plugins":return r.jsx(WH,{});case"memory":return r.jsx(wH,{project:o,onUpdate:me});case"create-mcp":return r.jsx(Jz,{project:o});case"claude-settings":return r.jsx(Iz,{});case"gemini-settings":return r.jsx(Oz,{});case"codex-settings":return r.jsx(Yz,{});case"antigravity-settings":return r.jsx(Hz,{});case"preferences":return r.jsx(Lz,{});case"projects":return r.jsx(_H,{onProjectSwitch:ne=>{u({dir:ne.dir,hierarchy:ne.hierarchy,subprojects:ne.subprojects}),fe({dir:ne.dir,subprojects:ne.subprojects}),me(),X()}});case"workstreams":return r.jsx(VH,{projects:U,onWorkstreamChange:ne=>{Q.success(`Switched to workstream: ${ne.name}`)}});case"loops":return r.jsx(UH,{activeProject:M});case"docs":return r.jsx(zH,{});case"tutorial":return r.jsx(mW,{});default:return null}};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"h-16 bg-card border-b border-border sticky top-0 z-50 shadow-sm",children:r.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:r.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 128 128",children:[r.jsx("circle",{cx:"64",cy:"64",r:"52",fill:"none",stroke:"white",strokeWidth:"10",strokeDasharray:"24 12"}),r.jsx("circle",{cx:"64",cy:"64",r:"28",fill:"white"}),r.jsx("circle",{cx:"64",cy:"64",r:"12",fill:"#7c3aed"})]})}),r.jsx("div",{children:r.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Coder ",r.jsx("span",{className:"text-primary",children:"Config"})]})}),Y&&r.jsxs("button",{onClick:te,disabled:K,className:"ml-3 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 hover:bg-green-200 rounded-full flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[K?r.jsx(at,{className:"w-3 h-3 animate-spin"}):r.jsx(Sl,{className:"w-3 h-3"}),K?"Updating...":`Update to v${Y.latestVersion}`]})]}),r.jsx(Vj,{orientation:"vertical",className:"h-6"}),r.jsx(i8,{projects:U,activeProject:M,onSwitch:W,onAddClick:()=>H(!0),onManageClick:()=>t("projects")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(c8,{}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:Le,children:r.jsx(br,{className:"w-4 h-4"})}),r.jsxs(oe,{onClick:we,variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground",title:"Config auto-applies on save. Click to manually re-apply.",children:[r.jsx(kl,{className:"w-4 h-4"}),"Re-apply"]})]})]})}),r.jsxs("div",{className:"flex",children:[r.jsxs("aside",{className:"w-64 h-[calc(100vh-64px)] border-r border-border bg-card sticky top-16 flex flex-col",children:[r.jsx(An,{className:"flex-1 py-4",children:["Projects","Tools","Configuration","Developer","System","Help"].map(ne=>r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"px-4 mb-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:ne}),r.jsx("div",{className:"space-y-0.5",children:pW.filter(ue=>ue.section===ne).map(ue=>{const je=ue.icon,De=e===ue.id;return r.jsxs("button",{onClick:()=>t(ue.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-all duration-200 border-l-2 ${De?"bg-accent border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[r.jsx(je,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:ue.label}),ue.badge&&r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${De?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:se[ue.badge]}),ue.isNew&&r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"})]},ue.id)})})]},ne))}),r.jsx("div",{className:"px-4 py-3 border-t border-border",children:r.jsx("span",{className:"text-xs text-muted-foreground",children:B?`v${B}`:""})})]}),r.jsx("main",{className:Ee("flex-1 overflow-auto",["explorer","docs","tutorial"].includes(e)?"h-[calc(100vh-64px)]":"p-6"),children:r.jsx(Xw,{mode:"wait",children:r.jsx(Po.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:["explorer","docs","tutorial"].includes(e)?"h-full":"",children:Ke()},e)})})]}),r.jsx($j,{open:q,onOpenChange:H,onAdded:le}),r.jsx(o8,{onStartTutorial:()=>t("tutorial")})]})}function vW(){const[e,t]=C.useState(!1),[n,s]=C.useState(!1),[o,u]=C.useState(!1),d=C.useCallback(async()=>{s(!0);try{await ve.restartServer(),Q.info("Server restarting... page will reload."),setTimeout(()=>{window.location.reload()},2e3)}catch(c){Q.error("Failed to restart: "+c.message),s(!1)}},[]),l=C.useCallback(()=>{u(!0),t(!1),Q.dismiss("update-available")},[]);return C.useEffect(()=>{let c;const f=async()=>{try{const m=await ve.getVersion();console.log("[Update Check]",m),m.needsRestart&&!o&&t(!0)}catch{}};return f(),c=setInterval(f,3e4),()=>clearInterval(c)},[o]),r.jsx(a8,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[e&&!n&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white px-4 py-2 flex items-center justify-center gap-2 shadow-lg cursor-pointer hover:bg-blue-700 transition-colors",onClick:d,children:[r.jsx(br,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Update available  click to restart"}),r.jsx("button",{onClick:c=>{c.stopPropagation(),l()},className:"absolute right-3 p-1 hover:bg-blue-500 rounded",children:r.jsx(ri,{className:"w-4 h-4"})})]}),n&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-600 text-white px-4 py-2 flex items-center justify-center gap-2",children:[r.jsx(br,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm font-medium",children:"Restarting server..."})]}),r.jsx(xW,{}),r.jsx(jP,{position:"bottom-right",richColors:!0})]})})}ZE.createRoot(document.getElementById("root")).render(r.jsx(vW,{}));
