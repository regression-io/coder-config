function bE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const d=Object.getOwnPropertyDescriptor(n,o);d&&Object.defineProperty(e,o,d.get?d:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function ul(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nf={exports:{}},Aa={},sf={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function wE(){if(yx)return st;yx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=h&&O[h]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function x(O,W,I){this.props=O,this.context=W,this.refs=w,this.updater=I||_}x.prototype.isReactComponent={},x.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function y(){}y.prototype=x.prototype;function g(O,W,I){this.props=O,this.context=W,this.refs=w,this.updater=I||_}var b=g.prototype=new y;b.constructor=g,k(b,x.prototype),b.isPureReactComponent=!0;var j=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(O,W,I){var re,de={},me=null,Y=null;if(W!=null)for(re in W.ref!==void 0&&(Y=W.ref),W.key!==void 0&&(me=""+W.key),W)T.call(W,re)&&!E.hasOwnProperty(re)&&(de[re]=W[re]);var z=arguments.length-2;if(z===1)de.children=I;else if(1<z){for(var oe=Array(z),ne=0;ne<z;ne++)oe[ne]=arguments[ne+2];de.children=oe}if(O&&O.defaultProps)for(re in z=O.defaultProps,z)de[re]===void 0&&(de[re]=z[re]);return{$$typeof:e,type:O,key:me,ref:Y,props:de,_owner:P.current}}function L(O,W){return{$$typeof:e,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function F(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function B(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(I){return W[I]})}var V=/\/+/g;function U(O,W){return typeof O=="object"&&O!==null&&O.key!=null?B(""+O.key):W.toString(36)}function X(O,W,I,re,de){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var Y=!1;if(O===null)Y=!0;else switch(me){case"string":case"number":Y=!0;break;case"object":switch(O.$$typeof){case e:case t:Y=!0}}if(Y)return Y=O,de=de(Y),O=re===""?"."+U(Y,0):re,j(de)?(I="",O!=null&&(I=O.replace(V,"$&/")+"/"),X(de,W,I,"",function(ne){return ne})):de!=null&&(F(de)&&(de=L(de,I+(!de.key||Y&&Y.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+O)),W.push(de)),1;if(Y=0,re=re===""?".":re+":",j(O))for(var z=0;z<O.length;z++){me=O[z];var oe=re+U(me,z);Y+=X(me,W,I,oe,de)}else if(oe=v(O),typeof oe=="function")for(O=oe.call(O),z=0;!(me=O.next()).done;)me=me.value,oe=re+U(me,z++),Y+=X(me,W,I,oe,de);else if(me==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Y}function G(O,W,I){if(O==null)return O;var re=[],de=0;return X(O,re,"","",function(me){return W.call(I,me,de++)}),re}function q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(I){(O._status===0||O._status===-1)&&(O._status=1,O._result=I)},function(I){(O._status===0||O._status===-1)&&(O._status=2,O._result=I)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var K={current:null},$={transition:null},D={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:G,forEach:function(O,W,I){G(O,function(){W.apply(this,arguments)},I)},count:function(O){var W=0;return G(O,function(){W++}),W},toArray:function(O){return G(O,function(W){return W})||[]},only:function(O){if(!F(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},st.Component=x,st.Fragment=r,st.Profiler=o,st.PureComponent=g,st.StrictMode=n,st.Suspense=u,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,st.act=M,st.cloneElement=function(O,W,I){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var re=k({},O.props),de=O.key,me=O.ref,Y=O._owner;if(W!=null){if(W.ref!==void 0&&(me=W.ref,Y=P.current),W.key!==void 0&&(de=""+W.key),O.type&&O.type.defaultProps)var z=O.type.defaultProps;for(oe in W)T.call(W,oe)&&!E.hasOwnProperty(oe)&&(re[oe]=W[oe]===void 0&&z!==void 0?z[oe]:W[oe])}var oe=arguments.length-2;if(oe===1)re.children=I;else if(1<oe){z=Array(oe);for(var ne=0;ne<oe;ne++)z[ne]=arguments[ne+2];re.children=z}return{$$typeof:e,type:O.type,key:de,ref:me,props:re,_owner:Y}},st.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:d,_context:O},O.Consumer=O},st.createElement=N,st.createFactory=function(O){var W=N.bind(null,O);return W.type=O,W},st.createRef=function(){return{current:null}},st.forwardRef=function(O){return{$$typeof:l,render:O}},st.isValidElement=F,st.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:q}},st.memo=function(O,W){return{$$typeof:f,type:O,compare:W===void 0?null:W}},st.startTransition=function(O){var W=$.transition;$.transition={};try{O()}finally{$.transition=W}},st.unstable_act=M,st.useCallback=function(O,W){return K.current.useCallback(O,W)},st.useContext=function(O){return K.current.useContext(O)},st.useDebugValue=function(){},st.useDeferredValue=function(O){return K.current.useDeferredValue(O)},st.useEffect=function(O,W){return K.current.useEffect(O,W)},st.useId=function(){return K.current.useId()},st.useImperativeHandle=function(O,W,I){return K.current.useImperativeHandle(O,W,I)},st.useInsertionEffect=function(O,W){return K.current.useInsertionEffect(O,W)},st.useLayoutEffect=function(O,W){return K.current.useLayoutEffect(O,W)},st.useMemo=function(O,W){return K.current.useMemo(O,W)},st.useReducer=function(O,W,I){return K.current.useReducer(O,W,I)},st.useRef=function(O){return K.current.useRef(O)},st.useState=function(O){return K.current.useState(O)},st.useSyncExternalStore=function(O,W,I){return K.current.useSyncExternalStore(O,W,I)},st.useTransition=function(){return K.current.useTransition()},st.version="18.3.1",st}var _x;function Wp(){return _x||(_x=1,sf.exports=wE()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function SE(){if(bx)return Aa;bx=1;var e=Wp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,f){var p,h={},v=null,_=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(_=u.ref);for(p in u)n.call(u,p)&&!d.hasOwnProperty(p)&&(h[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:t,type:l,key:v,ref:_,props:h,_owner:o.current}}return Aa.Fragment=r,Aa.jsx=c,Aa.jsxs=c,Aa}var wx;function CE(){return wx||(wx=1,nf.exports=SE()),nf.exports}var i=CE(),C=Wp();const Pe=ul(C),Gp=bE({__proto__:null,default:Pe},[C]);var Ic={},of={exports:{}},Lr={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function kE(){return Sx||(Sx=1,(function(e){function t($,D){var M=$.length;$.push(D);e:for(;0<M;){var O=M-1>>>1,W=$[O];if(0<o(W,D))$[O]=D,$[M]=W,M=O;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var D=$[0],M=$.pop();if(M!==D){$[0]=M;e:for(var O=0,W=$.length,I=W>>>1;O<I;){var re=2*(O+1)-1,de=$[re],me=re+1,Y=$[me];if(0>o(de,M))me<W&&0>o(Y,de)?($[O]=Y,$[me]=M,O=me):($[O]=de,$[re]=M,O=re);else if(me<W&&0>o(Y,M))$[O]=Y,$[me]=M,O=me;else break e}}return D}function o($,D){var M=$.sortIndex-D.sortIndex;return M!==0?M:$.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var u=[],f=[],p=1,h=null,v=3,_=!1,k=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var D=r(f);D!==null;){if(D.callback===null)n(f);else if(D.startTime<=$)n(f),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(f)}}function j($){if(w=!1,b($),!k)if(r(u)!==null)k=!0,q(T);else{var D=r(f);D!==null&&K(j,D.startTime-$)}}function T($,D){k=!1,w&&(w=!1,y(N),N=-1),_=!0;var M=v;try{for(b(D),h=r(u);h!==null&&(!(h.expirationTime>D)||$&&!B());){var O=h.callback;if(typeof O=="function"){h.callback=null,v=h.priorityLevel;var W=O(h.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?h.callback=W:h===r(u)&&n(u),b(D)}else n(u);h=r(u)}if(h!==null)var I=!0;else{var re=r(f);re!==null&&K(j,re.startTime-D),I=!1}return I}finally{h=null,v=M,_=!1}}var P=!1,E=null,N=-1,L=5,F=-1;function B(){return!(e.unstable_now()-F<L)}function V(){if(E!==null){var $=e.unstable_now();F=$;var D=!0;try{D=E(!0,$)}finally{D?U():(P=!1,E=null)}}else P=!1}var U;if(typeof g=="function")U=function(){g(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=V,U=function(){G.postMessage(null)}}else U=function(){x(V,0)};function q($){E=$,P||(P=!0,U())}function K($,D){N=x(function(){$(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){k||_||(k=!0,q(T))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var M=v;v=D;try{return $()}finally{v=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,D){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=v;v=$;try{return D()}finally{v=M}},e.unstable_scheduleCallback=function($,D,M){var O=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?O+M:O):M=O,$){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,$={id:p++,callback:D,priorityLevel:$,startTime:M,expirationTime:W,sortIndex:-1},M>O?($.sortIndex=M,t(f,$),r(u)===null&&$===r(f)&&(w?(y(N),N=-1):w=!0,K(j,M-O))):($.sortIndex=W,t(u,$),k||_||(k=!0,q(T))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var D=v;return function(){var M=v;v=D;try{return $.apply(this,arguments)}finally{v=M}}}})(lf)),lf}var Cx;function jE(){return Cx||(Cx=1,af.exports=kE()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function NE(){if(kx)return Lr;kx=1;var e=Wp(),t=jE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)a+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function d(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(s){return u.call(h,s)?!0:u.call(p,s)?!1:f.test(s)?h[s]=!0:(p[s]=!0,!1)}function _(s,a,m,S){if(m!==null&&m.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return S?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,m,S){if(a===null||typeof a>"u"||_(s,a,m,S))return!0;if(S)return!1;if(m!==null)switch(m.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,m,S,A,R,H){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=S,this.attributeNamespace=A,this.mustUseProperty=m,this.propertyName=s,this.type=a,this.sanitizeURL=R,this.removeEmptyString=H}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];x[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(y,g);x[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(y,g);x[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(y,g);x[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function b(s,a,m,S){var A=x.hasOwnProperty(a)?x[a]:null;(A!==null?A.type!==0:S||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,m,A,S)&&(m=null),S||A===null?v(a)&&(m===null?s.removeAttribute(a):s.setAttribute(a,""+m)):A.mustUseProperty?s[A.propertyName]=m===null?A.type===3?!1:"":m:(a=A.attributeName,S=A.attributeNamespace,m===null?s.removeAttribute(a):(A=A.type,m=A===3||A===4&&m===!0?"":""+m,S?s.setAttributeNS(S,a,m):s.setAttribute(a,m))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),$=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,O;function W(s){if(O===void 0)try{throw Error()}catch(m){var a=m.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||""}return`
`+O+s}var I=!1;function re(s,a){if(!s||I)return"";I=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(fe){var S=fe}Reflect.construct(s,[],a)}else{try{a.call()}catch(fe){S=fe}s.call(a.prototype)}else{try{throw Error()}catch(fe){S=fe}s()}}catch(fe){if(fe&&S&&typeof fe.stack=="string"){for(var A=fe.stack.split(`
`),R=S.stack.split(`
`),H=A.length-1,Z=R.length-1;1<=H&&0<=Z&&A[H]!==R[Z];)Z--;for(;1<=H&&0<=Z;H--,Z--)if(A[H]!==R[Z]){if(H!==1||Z!==1)do if(H--,Z--,0>Z||A[H]!==R[Z]){var te=`
`+A[H].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=H&&0<=Z);break}}}finally{I=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?W(s):""}function de(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=re(s.type,!1),s;case 11:return s=re(s.type.render,!1),s;case 1:return s=re(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case P:return"Portal";case L:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return a=s.displayName||null,a!==null?a:me(s.type)||"Memo";case q:a=s._payload,s=s._init;try{return me(s(a))}catch{}}return null}function Y(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function z(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ne(s){var a=oe(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),S=""+s[a];if(!s.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,R=m.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return A.call(this)},set:function(H){S=""+H,R.call(this,H)}}),Object.defineProperty(s,a,{enumerable:m.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Q(s){s._valueTracker||(s._valueTracker=ne(s))}function ie(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var m=a.getValue(),S="";return s&&(S=oe(s)?s.checked?"true":"false":s.value),s=S,s!==m?(a.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ae(s,a){var m=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function Se(s,a){var m=a.defaultValue==null?"":a.defaultValue,S=a.checked!=null?a.checked:a.defaultChecked;m=z(a.value!=null?a.value:m),s._wrapperState={initialChecked:S,initialValue:m,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Me(s,a){a=a.checked,a!=null&&b(s,"checked",a,!1)}function ke(s,a){Me(s,a);var m=z(a.value),S=a.type;if(m!=null)S==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(S==="submit"||S==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Te(s,a.type,m):a.hasOwnProperty("defaultValue")&&Te(s,a.type,z(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ne(s,a,m){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var S=a.type;if(!(S!=="submit"&&S!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,m||a===s.value||(s.value=a),s.defaultValue=a}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function Te(s,a,m){(a!=="number"||ye(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var Ue=Array.isArray;function Ye(s,a,m,S){if(s=s.options,a){a={};for(var A=0;A<m.length;A++)a["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=a.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&S&&(s[m].defaultSelected=!0)}else{for(m=""+z(m),a=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,S&&(s[A].defaultSelected=!0);return}a!==null||s[A].disabled||(a=s[A])}a!==null&&(a.selected=!0)}}function et(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function it(s,a){var m=a.value;if(m==null){if(m=a.children,a=a.defaultValue,m!=null){if(a!=null)throw Error(r(92));if(Ue(m)){if(1<m.length)throw Error(r(93));m=m[0]}a=m}a==null&&(a=""),m=a}s._wrapperState={initialValue:z(m)}}function ir(s,a){var m=z(a.value),S=z(a.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),a.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),S!=null&&(s.defaultValue=""+S)}function At(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ge(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ge(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ve,J=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,m,S,A){MSApp.execUnsafeLocalFunction(function(){return s(a,m,S,A)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ve.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function pe(s,a){if(a){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=a;return}}s.textContent=a}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(Ie).forEach(function(s){Ve.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ie[a]=Ie[s]})});function at(s,a,m){return a==null||typeof a=="boolean"||a===""?"":m||typeof a!="number"||a===0||Ie.hasOwnProperty(s)&&Ie[s]?(""+a).trim():a+"px"}function or(s,a){s=s.style;for(var m in a)if(a.hasOwnProperty(m)){var S=m.indexOf("--")===0,A=at(m,a[m],S);m==="float"&&(m="cssFloat"),S?s.setProperty(m,A):s[m]=A}}var Er=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(s,a){if(a){if(Er[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Pr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function Zr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yo=null,_s=null,Jn=null;function Xo(s){if(s=ga(s)){if(typeof Yo!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Jl(a),Yo(s.stateNode,s.type,a))}}function Qe(s){_s?Jn?Jn.push(s):Jn=[s]:_s=s}function Lt(){if(_s){var s=_s,a=Jn;if(Jn=_s=null,Xo(s),a)for(s=0;s<a.length;s++)Xo(a[s])}}function Gt(s,a){return s(a)}function mr(){}var bs=!1;function Ht(s,a,m){if(bs)return s(a,m);bs=!0;try{return Gt(s,a,m)}finally{bs=!1,(_s!==null||Jn!==null)&&(mr(),Lt())}}function Qt(s,a){var m=s.stateNode;if(m===null)return null;var S=Jl(m);if(S===null)return null;m=S[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,a,typeof m));return m}var ws=!1;if(l)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){ws=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{ws=!1}function $r(s,a,m,S,A,R,H,Z,te){var fe=Array.prototype.slice.call(arguments,3);try{a.apply(m,fe)}catch(_e){this.onError(_e)}}var Ss=!1,en=null,Jo=!1,wd=null,E2={onError:function(s){Ss=!0,en=s}};function P2(s,a,m,S,A,R,H,Z,te){Ss=!1,en=null,$r.apply(E2,arguments)}function T2(s,a,m,S,A,R,H,Z,te){if(P2.apply(this,arguments),Ss){if(Ss){var fe=en;Ss=!1,en=null}else throw Error(r(198));Jo||(Jo=!0,wd=fe)}}function ui(s){var a=s,m=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(m=a.return),s=a.return;while(s)}return a.tag===3?m:null}function $g(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Vg(s){if(ui(s)!==s)throw Error(r(188))}function A2(s){var a=s.alternate;if(!a){if(a=ui(s),a===null)throw Error(r(188));return a!==s?null:s}for(var m=s,S=a;;){var A=m.return;if(A===null)break;var R=A.alternate;if(R===null){if(S=A.return,S!==null){m=S;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===m)return Vg(A),s;if(R===S)return Vg(A),a;R=R.sibling}throw Error(r(188))}if(m.return!==S.return)m=A,S=R;else{for(var H=!1,Z=A.child;Z;){if(Z===m){H=!0,m=A,S=R;break}if(Z===S){H=!0,S=A,m=R;break}Z=Z.sibling}if(!H){for(Z=R.child;Z;){if(Z===m){H=!0,m=R,S=A;break}if(Z===S){H=!0,S=R,m=A;break}Z=Z.sibling}if(!H)throw Error(r(189))}}if(m.alternate!==S)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:a}function Ug(s){return s=A2(s),s!==null?Wg(s):null}function Wg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Wg(s);if(a!==null)return a;s=s.sibling}return null}var Gg=t.unstable_scheduleCallback,Kg=t.unstable_cancelCallback,R2=t.unstable_shouldYield,M2=t.unstable_requestPaint,It=t.unstable_now,D2=t.unstable_getCurrentPriorityLevel,Sd=t.unstable_ImmediatePriority,qg=t.unstable_UserBlockingPriority,Al=t.unstable_NormalPriority,L2=t.unstable_LowPriority,Yg=t.unstable_IdlePriority,Rl=null,Pn=null;function I2(s){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Rl,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:F2,O2=Math.log,B2=Math.LN2;function F2(s){return s>>>=0,s===0?32:31-(O2(s)/B2|0)|0}var Ml=64,Dl=4194304;function Qo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ll(s,a){var m=s.pendingLanes;if(m===0)return 0;var S=0,A=s.suspendedLanes,R=s.pingedLanes,H=m&268435455;if(H!==0){var Z=H&~A;Z!==0?S=Qo(Z):(R&=H,R!==0&&(S=Qo(R)))}else H=m&~A,H!==0?S=Qo(H):R!==0&&(S=Qo(R));if(S===0)return 0;if(a!==0&&a!==S&&(a&A)===0&&(A=S&-S,R=a&-a,A>=R||A===16&&(R&4194240)!==0))return a;if((S&4)!==0&&(S|=m&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=S;0<a;)m=31-pn(a),A=1<<m,S|=s[m],a&=~A;return S}function z2(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H2(s,a){for(var m=s.suspendedLanes,S=s.pingedLanes,A=s.expirationTimes,R=s.pendingLanes;0<R;){var H=31-pn(R),Z=1<<H,te=A[H];te===-1?((Z&m)===0||(Z&S)!==0)&&(A[H]=z2(Z,a)):te<=a&&(s.expiredLanes|=Z),R&=~Z}}function Cd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xg(){var s=Ml;return Ml<<=1,(Ml&4194240)===0&&(Ml=64),s}function kd(s){for(var a=[],m=0;31>m;m++)a.push(s);return a}function Zo(s,a,m){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-pn(a),s[a]=m}function $2(s,a){var m=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var S=s.eventTimes;for(s=s.expirationTimes;0<m;){var A=31-pn(m),R=1<<A;a[A]=0,S[A]=-1,s[A]=-1,m&=~R}}function jd(s,a){var m=s.entangledLanes|=a;for(s=s.entanglements;m;){var S=31-pn(m),A=1<<S;A&a|s[S]&a&&(s[S]|=a),m&=~A}}var ft=0;function Jg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qg,Nd,Zg,e0,t0,Ed=!1,Il=[],Cs=null,ks=null,js=null,ea=new Map,ta=new Map,Ns=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(s,a){switch(s){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":ea.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(a.pointerId)}}function ra(s,a,m,S,A,R){return s===null||s.nativeEvent!==R?(s={blockedOn:a,domEventName:m,eventSystemFlags:S,nativeEvent:R,targetContainers:[A]},a!==null&&(a=ga(a),a!==null&&Nd(a)),s):(s.eventSystemFlags|=S,a=s.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),s)}function U2(s,a,m,S,A){switch(a){case"focusin":return Cs=ra(Cs,s,a,m,S,A),!0;case"dragenter":return ks=ra(ks,s,a,m,S,A),!0;case"mouseover":return js=ra(js,s,a,m,S,A),!0;case"pointerover":var R=A.pointerId;return ea.set(R,ra(ea.get(R)||null,s,a,m,S,A)),!0;case"gotpointercapture":return R=A.pointerId,ta.set(R,ra(ta.get(R)||null,s,a,m,S,A)),!0}return!1}function n0(s){var a=di(s.target);if(a!==null){var m=ui(a);if(m!==null){if(a=m.tag,a===13){if(a=$g(m),a!==null){s.blockedOn=a,t0(s.priority,function(){Zg(m)});return}}else if(a===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ol(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var m=Td(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var S=new m.constructor(m.type,m);ar=S,m.target.dispatchEvent(S),ar=null}else return a=ga(m),a!==null&&Nd(a),s.blockedOn=m,!1;a.shift()}return!0}function s0(s,a,m){Ol(s)&&m.delete(a)}function W2(){Ed=!1,Cs!==null&&Ol(Cs)&&(Cs=null),ks!==null&&Ol(ks)&&(ks=null),js!==null&&Ol(js)&&(js=null),ea.forEach(s0),ta.forEach(s0)}function na(s,a){s.blockedOn===a&&(s.blockedOn=null,Ed||(Ed=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W2)))}function sa(s){function a(A){return na(A,s)}if(0<Il.length){na(Il[0],s);for(var m=1;m<Il.length;m++){var S=Il[m];S.blockedOn===s&&(S.blockedOn=null)}}for(Cs!==null&&na(Cs,s),ks!==null&&na(ks,s),js!==null&&na(js,s),ea.forEach(a),ta.forEach(a),m=0;m<Ns.length;m++)S=Ns[m],S.blockedOn===s&&(S.blockedOn=null);for(;0<Ns.length&&(m=Ns[0],m.blockedOn===null);)n0(m),m.blockedOn===null&&Ns.shift()}var $i=j.ReactCurrentBatchConfig,Bl=!0;function G2(s,a,m,S){var A=ft,R=$i.transition;$i.transition=null;try{ft=1,Pd(s,a,m,S)}finally{ft=A,$i.transition=R}}function K2(s,a,m,S){var A=ft,R=$i.transition;$i.transition=null;try{ft=4,Pd(s,a,m,S)}finally{ft=A,$i.transition=R}}function Pd(s,a,m,S){if(Bl){var A=Td(s,a,m,S);if(A===null)Kd(s,a,S,Fl,m),r0(s,S);else if(U2(A,s,a,m,S))S.stopPropagation();else if(r0(s,S),a&4&&-1<V2.indexOf(s)){for(;A!==null;){var R=ga(A);if(R!==null&&Qg(R),R=Td(s,a,m,S),R===null&&Kd(s,a,S,Fl,m),R===A)break;A=R}A!==null&&S.stopPropagation()}else Kd(s,a,S,null,m)}}var Fl=null;function Td(s,a,m,S){if(Fl=null,s=Zr(S),s=di(s),s!==null)if(a=ui(s),a===null)s=null;else if(m=a.tag,m===13){if(s=$g(a),s!==null)return s;s=null}else if(m===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Fl=s,null}function i0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D2()){case Sd:return 1;case qg:return 4;case Al:case L2:return 16;case Yg:return 536870912;default:return 16}default:return 16}}var Es=null,Ad=null,zl=null;function o0(){if(zl)return zl;var s,a=Ad,m=a.length,S,A="value"in Es?Es.value:Es.textContent,R=A.length;for(s=0;s<m&&a[s]===A[s];s++);var H=m-s;for(S=1;S<=H&&a[m-S]===A[R-S];S++);return zl=A.slice(s,1<S?1-S:void 0)}function Hl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function $l(){return!0}function a0(){return!1}function Vr(s){function a(m,S,A,R,H){this._reactName=m,this._targetInst=A,this.type=S,this.nativeEvent=R,this.target=H,this.currentTarget=null;for(var Z in s)s.hasOwnProperty(Z)&&(m=s[Z],this[Z]=m?m(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?$l:a0,this.isPropagationStopped=a0,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),a}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=Vr(Vi),ia=M({},Vi,{view:0,detail:0}),q2=Vr(ia),Md,Dd,oa,Vl=M({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oa&&(oa&&s.type==="mousemove"?(Md=s.screenX-oa.screenX,Dd=s.screenY-oa.screenY):Dd=Md=0,oa=s),Md)},movementY:function(s){return"movementY"in s?s.movementY:Dd}}),l0=Vr(Vl),Y2=M({},Vl,{dataTransfer:0}),X2=Vr(Y2),J2=M({},ia,{relatedTarget:0}),Ld=Vr(J2),Q2=M({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Z2=Vr(Q2),eN=M({},Vi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tN=Vr(eN),rN=M({},Vi,{data:0}),c0=Vr(rN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oN(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=iN[s])?!!a[s]:!1}function Id(){return oN}var aN=M({},ia,{key:function(s){if(s.key){var a=nN[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Hl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(s){return s.type==="keypress"?Hl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),lN=Vr(aN),cN=M({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=Vr(cN),uN=M({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),dN=Vr(uN),hN=M({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),fN=Vr(hN),pN=M({},Vl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=Vr(pN),gN=[9,13,27,32],Od=l&&"CompositionEvent"in window,aa=null;l&&"documentMode"in document&&(aa=document.documentMode);var vN=l&&"TextEvent"in window&&!aa,d0=l&&(!Od||aa&&8<aa&&11>=aa),h0=" ",f0=!1;function p0(s,a){switch(s){case"keyup":return gN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ui=!1;function xN(s,a){switch(s){case"compositionend":return m0(a);case"keypress":return a.which!==32?null:(f0=!0,h0);case"textInput":return s=a.data,s===h0&&f0?null:s;default:return null}}function yN(s,a){if(Ui)return s==="compositionend"||!Od&&p0(s,a)?(s=o0(),zl=Ad=Es=null,Ui=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return d0&&a.locale!=="ko"?null:a.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!_N[s.type]:a==="textarea"}function v0(s,a,m,S){Qe(S),a=ql(a,"onChange"),0<a.length&&(m=new Rd("onChange","change",null,m,S),s.push({event:m,listeners:a}))}var la=null,ca=null;function bN(s){L0(s,0)}function Ul(s){var a=Yi(s);if(ie(a))return s}function wN(s,a){if(s==="change")return a}var x0=!1;if(l){var Bd;if(l){var Fd="oninput"in document;if(!Fd){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Fd=typeof y0.oninput=="function"}Bd=Fd}else Bd=!1;x0=Bd&&(!document.documentMode||9<document.documentMode)}function _0(){la&&(la.detachEvent("onpropertychange",b0),ca=la=null)}function b0(s){if(s.propertyName==="value"&&Ul(ca)){var a=[];v0(a,ca,s,Zr(s)),Ht(bN,a)}}function SN(s,a,m){s==="focusin"?(_0(),la=a,ca=m,la.attachEvent("onpropertychange",b0)):s==="focusout"&&_0()}function CN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ul(ca)}function kN(s,a){if(s==="click")return Ul(a)}function jN(s,a){if(s==="input"||s==="change")return Ul(a)}function NN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mn=typeof Object.is=="function"?Object.is:NN;function ua(s,a){if(mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var m=Object.keys(s),S=Object.keys(a);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var A=m[S];if(!u.call(a,A)||!mn(s[A],a[A]))return!1}return!0}function w0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function S0(s,a){var m=w0(s);s=0;for(var S;m;){if(m.nodeType===3){if(S=s+m.textContent.length,s<=a&&S>=a)return{node:m,offset:a-s};s=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=w0(m)}}function C0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?C0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function k0(){for(var s=window,a=ye();a instanceof s.HTMLIFrameElement;){try{var m=typeof a.contentWindow.location.href=="string"}catch{m=!1}if(m)s=a.contentWindow;else break;a=ye(s.document)}return a}function zd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function EN(s){var a=k0(),m=s.focusedElem,S=s.selectionRange;if(a!==m&&m&&m.ownerDocument&&C0(m.ownerDocument.documentElement,m)){if(S!==null&&zd(m)){if(a=S.start,s=S.end,s===void 0&&(s=a),"selectionStart"in m)m.selectionStart=a,m.selectionEnd=Math.min(s,m.value.length);else if(s=(a=m.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var A=m.textContent.length,R=Math.min(S.start,A);S=S.end===void 0?R:Math.min(S.end,A),!s.extend&&R>S&&(A=S,S=R,R=A),A=S0(m,R);var H=S0(m,S);A&&H&&(s.rangeCount!==1||s.anchorNode!==A.node||s.anchorOffset!==A.offset||s.focusNode!==H.node||s.focusOffset!==H.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),s.removeAllRanges(),R>S?(s.addRange(a),s.extend(H.node,H.offset)):(a.setEnd(H.node,H.offset),s.addRange(a)))}}for(a=[],s=m;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<a.length;m++)s=a[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var PN=l&&"documentMode"in document&&11>=document.documentMode,Wi=null,Hd=null,da=null,$d=!1;function j0(s,a,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;$d||Wi==null||Wi!==ye(S)||(S=Wi,"selectionStart"in S&&zd(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),da&&ua(da,S)||(da=S,S=ql(Hd,"onSelect"),0<S.length&&(a=new Rd("onSelect","select",null,a,m),s.push({event:a,listeners:S}),a.target=Wi)))}function Wl(s,a){var m={};return m[s.toLowerCase()]=a.toLowerCase(),m["Webkit"+s]="webkit"+a,m["Moz"+s]="moz"+a,m}var Gi={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},Vd={},N0={};l&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Gl(s){if(Vd[s])return Vd[s];if(!Gi[s])return s;var a=Gi[s],m;for(m in a)if(a.hasOwnProperty(m)&&m in N0)return Vd[s]=a[m];return s}var E0=Gl("animationend"),P0=Gl("animationiteration"),T0=Gl("animationstart"),A0=Gl("transitionend"),R0=new Map,M0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(s,a){R0.set(s,a),d(a,[s])}for(var Ud=0;Ud<M0.length;Ud++){var Wd=M0[Ud],TN=Wd.toLowerCase(),AN=Wd[0].toUpperCase()+Wd.slice(1);Ps(TN,"on"+AN)}Ps(E0,"onAnimationEnd"),Ps(P0,"onAnimationIteration"),Ps(T0,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(A0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function D0(s,a,m){var S=s.type||"unknown-event";s.currentTarget=m,T2(S,a,void 0,s),s.currentTarget=null}function L0(s,a){a=(a&4)!==0;for(var m=0;m<s.length;m++){var S=s[m],A=S.event;S=S.listeners;e:{var R=void 0;if(a)for(var H=S.length-1;0<=H;H--){var Z=S[H],te=Z.instance,fe=Z.currentTarget;if(Z=Z.listener,te!==R&&A.isPropagationStopped())break e;D0(A,Z,fe),R=te}else for(H=0;H<S.length;H++){if(Z=S[H],te=Z.instance,fe=Z.currentTarget,Z=Z.listener,te!==R&&A.isPropagationStopped())break e;D0(A,Z,fe),R=te}}}if(Jo)throw s=wd,Jo=!1,wd=null,s}function yt(s,a){var m=a[Zd];m===void 0&&(m=a[Zd]=new Set);var S=s+"__bubble";m.has(S)||(I0(a,s,2,!1),m.add(S))}function Gd(s,a,m){var S=0;a&&(S|=4),I0(m,s,S,a)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function fa(s){if(!s[Kl]){s[Kl]=!0,n.forEach(function(m){m!=="selectionchange"&&(RN.has(m)||Gd(m,!1,s),Gd(m,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Kl]||(a[Kl]=!0,Gd("selectionchange",!1,a))}}function I0(s,a,m,S){switch(i0(a)){case 1:var A=G2;break;case 4:A=K2;break;default:A=Pd}m=A.bind(null,a,m,s),A=void 0,!ws||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),S?A!==void 0?s.addEventListener(a,m,{capture:!0,passive:A}):s.addEventListener(a,m,!0):A!==void 0?s.addEventListener(a,m,{passive:A}):s.addEventListener(a,m,!1)}function Kd(s,a,m,S,A){var R=S;if((a&1)===0&&(a&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var Z=S.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(H===4)for(H=S.return;H!==null;){var te=H.tag;if((te===3||te===4)&&(te=H.stateNode.containerInfo,te===A||te.nodeType===8&&te.parentNode===A))return;H=H.return}for(;Z!==null;){if(H=di(Z),H===null)return;if(te=H.tag,te===5||te===6){S=R=H;continue e}Z=Z.parentNode}}S=S.return}Ht(function(){var fe=R,_e=Zr(m),Ce=[];e:{var xe=R0.get(s);if(xe!==void 0){var Le=Rd,Be=s;switch(s){case"keypress":if(Hl(m)===0)break e;case"keydown":case"keyup":Le=lN;break;case"focusin":Be="focus",Le=Ld;break;case"focusout":Be="blur",Le=Ld;break;case"beforeblur":case"afterblur":Le=Ld;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=dN;break;case E0:case P0:case T0:Le=Z2;break;case A0:Le=fN;break;case"scroll":Le=q2;break;case"wheel":Le=mN;break;case"copy":case"cut":case"paste":Le=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=u0}var He=(a&4)!==0,Ot=!He&&s==="scroll",le=He?xe!==null?xe+"Capture":null:xe;He=[];for(var se=fe,ue;se!==null;){ue=se;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,le!==null&&(Ee=Qt(se,le),Ee!=null&&He.push(pa(se,Ee,ue)))),Ot)break;se=se.return}0<He.length&&(xe=new Le(xe,Be,null,m,_e),Ce.push({event:xe,listeners:He}))}}if((a&7)===0){e:{if(xe=s==="mouseover"||s==="pointerover",Le=s==="mouseout"||s==="pointerout",xe&&m!==ar&&(Be=m.relatedTarget||m.fromElement)&&(di(Be)||Be[Qn]))break e;if((Le||xe)&&(xe=_e.window===_e?_e:(xe=_e.ownerDocument)?xe.defaultView||xe.parentWindow:window,Le?(Be=m.relatedTarget||m.toElement,Le=fe,Be=Be?di(Be):null,Be!==null&&(Ot=ui(Be),Be!==Ot||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Le=null,Be=fe),Le!==Be)){if(He=l0,Ee="onMouseLeave",le="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(He=u0,Ee="onPointerLeave",le="onPointerEnter",se="pointer"),Ot=Le==null?xe:Yi(Le),ue=Be==null?xe:Yi(Be),xe=new He(Ee,se+"leave",Le,m,_e),xe.target=Ot,xe.relatedTarget=ue,Ee=null,di(_e)===fe&&(He=new He(le,se+"enter",Be,m,_e),He.target=ue,He.relatedTarget=Ot,Ee=He),Ot=Ee,Le&&Be)t:{for(He=Le,le=Be,se=0,ue=He;ue;ue=Ki(ue))se++;for(ue=0,Ee=le;Ee;Ee=Ki(Ee))ue++;for(;0<se-ue;)He=Ki(He),se--;for(;0<ue-se;)le=Ki(le),ue--;for(;se--;){if(He===le||le!==null&&He===le.alternate)break t;He=Ki(He),le=Ki(le)}He=null}else He=null;Le!==null&&O0(Ce,xe,Le,He,!1),Be!==null&&Ot!==null&&O0(Ce,Ot,Be,He,!0)}}e:{if(xe=fe?Yi(fe):window,Le=xe.nodeName&&xe.nodeName.toLowerCase(),Le==="select"||Le==="input"&&xe.type==="file")var $e=wN;else if(g0(xe))if(x0)$e=jN;else{$e=CN;var We=SN}else(Le=xe.nodeName)&&Le.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&($e=kN);if($e&&($e=$e(s,fe))){v0(Ce,$e,m,_e);break e}We&&We(s,xe,fe),s==="focusout"&&(We=xe._wrapperState)&&We.controlled&&xe.type==="number"&&Te(xe,"number",xe.value)}switch(We=fe?Yi(fe):window,s){case"focusin":(g0(We)||We.contentEditable==="true")&&(Wi=We,Hd=fe,da=null);break;case"focusout":da=Hd=Wi=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,j0(Ce,m,_e);break;case"selectionchange":if(PN)break;case"keydown":case"keyup":j0(Ce,m,_e)}var Ge;if(Od)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ui?p0(s,m)&&(Xe="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(Xe="onCompositionStart");Xe&&(d0&&m.locale!=="ko"&&(Ui||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ui&&(Ge=o0()):(Es=_e,Ad="value"in Es?Es.value:Es.textContent,Ui=!0)),We=ql(fe,Xe),0<We.length&&(Xe=new c0(Xe,s,null,m,_e),Ce.push({event:Xe,listeners:We}),Ge?Xe.data=Ge:(Ge=m0(m),Ge!==null&&(Xe.data=Ge)))),(Ge=vN?xN(s,m):yN(s,m))&&(fe=ql(fe,"onBeforeInput"),0<fe.length&&(_e=new c0("onBeforeInput","beforeinput",null,m,_e),Ce.push({event:_e,listeners:fe}),_e.data=Ge))}L0(Ce,a)})}function pa(s,a,m){return{instance:s,listener:a,currentTarget:m}}function ql(s,a){for(var m=a+"Capture",S=[];s!==null;){var A=s,R=A.stateNode;A.tag===5&&R!==null&&(A=R,R=Qt(s,m),R!=null&&S.unshift(pa(s,R,A)),R=Qt(s,a),R!=null&&S.push(pa(s,R,A))),s=s.return}return S}function Ki(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function O0(s,a,m,S,A){for(var R=a._reactName,H=[];m!==null&&m!==S;){var Z=m,te=Z.alternate,fe=Z.stateNode;if(te!==null&&te===S)break;Z.tag===5&&fe!==null&&(Z=fe,A?(te=Qt(m,R),te!=null&&H.unshift(pa(m,te,Z))):A||(te=Qt(m,R),te!=null&&H.push(pa(m,te,Z)))),m=m.return}H.length!==0&&s.push({event:a,listeners:H})}var MN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function B0(s){return(typeof s=="string"?s:""+s).replace(MN,`
`).replace(DN,"")}function Yl(s,a,m){if(a=B0(a),B0(s)!==a&&m)throw Error(r(425))}function Xl(){}var qd=null,Yd=null;function Xd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(s){return F0.resolve(null).then(s).catch(ON)}:Jd;function ON(s){setTimeout(function(){throw s})}function Qd(s,a){var m=a,S=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"){if(S===0){s.removeChild(A),sa(a);return}S--}else m!=="$"&&m!=="$?"&&m!=="$!"||S++;m=A}while(m);sa(a)}function Ts(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function z0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(a===0)return s;a--}else m==="/$"&&a++}s=s.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Tn="__reactFiber$"+qi,ma="__reactProps$"+qi,Qn="__reactContainer$"+qi,Zd="__reactEvents$"+qi,BN="__reactListeners$"+qi,FN="__reactHandles$"+qi;function di(s){var a=s[Tn];if(a)return a;for(var m=s.parentNode;m;){if(a=m[Qn]||m[Tn]){if(m=a.alternate,a.child!==null||m!==null&&m.child!==null)for(s=z0(s);s!==null;){if(m=s[Tn])return m;s=z0(s)}return a}s=m,m=s.parentNode}return null}function ga(s){return s=s[Tn]||s[Qn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Yi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Jl(s){return s[ma]||null}var eh=[],Xi=-1;function As(s){return{current:s}}function _t(s){0>Xi||(s.current=eh[Xi],eh[Xi]=null,Xi--)}function gt(s,a){Xi++,eh[Xi]=s.current,s.current=a}var Rs={},gr=As(Rs),Tr=As(!1),hi=Rs;function Ji(s,a){var m=s.type.contextTypes;if(!m)return Rs;var S=s.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===a)return S.__reactInternalMemoizedMaskedChildContext;var A={},R;for(R in m)A[R]=a[R];return S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=A),A}function Ar(s){return s=s.childContextTypes,s!=null}function Ql(){_t(Tr),_t(gr)}function H0(s,a,m){if(gr.current!==Rs)throw Error(r(168));gt(gr,a),gt(Tr,m)}function $0(s,a,m){var S=s.stateNode;if(a=a.childContextTypes,typeof S.getChildContext!="function")return m;S=S.getChildContext();for(var A in S)if(!(A in a))throw Error(r(108,Y(s)||"Unknown",A));return M({},m,S)}function Zl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rs,hi=gr.current,gt(gr,s),gt(Tr,Tr.current),!0}function V0(s,a,m){var S=s.stateNode;if(!S)throw Error(r(169));m?(s=$0(s,a,hi),S.__reactInternalMemoizedMergedChildContext=s,_t(Tr),_t(gr),gt(gr,s)):_t(Tr),gt(Tr,m)}var Zn=null,ec=!1,th=!1;function U0(s){Zn===null?Zn=[s]:Zn.push(s)}function zN(s){ec=!0,U0(s)}function Ms(){if(!th&&Zn!==null){th=!0;var s=0,a=ft;try{var m=Zn;for(ft=1;s<m.length;s++){var S=m[s];do S=S(!0);while(S!==null)}Zn=null,ec=!1}catch(A){throw Zn!==null&&(Zn=Zn.slice(s+1)),Gg(Sd,Ms),A}finally{ft=a,th=!1}}return null}var Qi=[],Zi=0,tc=null,rc=0,tn=[],rn=0,fi=null,es=1,ts="";function pi(s,a){Qi[Zi++]=rc,Qi[Zi++]=tc,tc=s,rc=a}function W0(s,a,m){tn[rn++]=es,tn[rn++]=ts,tn[rn++]=fi,fi=s;var S=es;s=ts;var A=32-pn(S)-1;S&=~(1<<A),m+=1;var R=32-pn(a)+A;if(30<R){var H=A-A%5;R=(S&(1<<H)-1).toString(32),S>>=H,A-=H,es=1<<32-pn(a)+A|m<<A|S,ts=R+s}else es=1<<R|m<<A|S,ts=s}function rh(s){s.return!==null&&(pi(s,1),W0(s,1,0))}function nh(s){for(;s===tc;)tc=Qi[--Zi],Qi[Zi]=null,rc=Qi[--Zi],Qi[Zi]=null;for(;s===fi;)fi=tn[--rn],tn[rn]=null,ts=tn[--rn],tn[rn]=null,es=tn[--rn],tn[rn]=null}var Ur=null,Wr=null,wt=!1,gn=null;function G0(s,a){var m=an(5,null,null,0);m.elementType="DELETED",m.stateNode=a,m.return=s,a=s.deletions,a===null?(s.deletions=[m],s.flags|=16):a.push(m)}function K0(s,a){switch(s.tag){case 5:var m=s.type;return a=a.nodeType!==1||m.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ur=s,Wr=Ts(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ur=s,Wr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(m=fi!==null?{id:es,overflow:ts}:null,s.memoizedState={dehydrated:a,treeContext:m,retryLane:1073741824},m=an(18,null,null,0),m.stateNode=a,m.return=s,s.child=m,Ur=s,Wr=null,!0):!1;default:return!1}}function sh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ih(s){if(wt){var a=Wr;if(a){var m=a;if(!K0(s,a)){if(sh(s))throw Error(r(418));a=Ts(m.nextSibling);var S=Ur;a&&K0(s,a)?G0(S,m):(s.flags=s.flags&-4097|2,wt=!1,Ur=s)}}else{if(sh(s))throw Error(r(418));s.flags=s.flags&-4097|2,wt=!1,Ur=s}}}function q0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ur=s}function nc(s){if(s!==Ur)return!1;if(!wt)return q0(s),wt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Xd(s.type,s.memoizedProps)),a&&(a=Wr)){if(sh(s))throw Y0(),Error(r(418));for(;a;)G0(s,a),a=Ts(a.nextSibling)}if(q0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(a===0){Wr=Ts(s.nextSibling);break e}a--}else m!=="$"&&m!=="$!"&&m!=="$?"||a++}s=s.nextSibling}Wr=null}}else Wr=Ur?Ts(s.stateNode.nextSibling):null;return!0}function Y0(){for(var s=Wr;s;)s=Ts(s.nextSibling)}function eo(){Wr=Ur=null,wt=!1}function oh(s){gn===null?gn=[s]:gn.push(s)}var HN=j.ReactCurrentBatchConfig;function va(s,a,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var S=m.stateNode}if(!S)throw Error(r(147,s));var A=S,R=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===R?a.ref:(a=function(H){var Z=A.refs;H===null?delete Z[R]:Z[R]=H},a._stringRef=R,a)}if(typeof s!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,s))}return s}function sc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function X0(s){var a=s._init;return a(s._payload)}function J0(s){function a(le,se){if(s){var ue=le.deletions;ue===null?(le.deletions=[se],le.flags|=16):ue.push(se)}}function m(le,se){if(!s)return null;for(;se!==null;)a(le,se),se=se.sibling;return null}function S(le,se){for(le=new Map;se!==null;)se.key!==null?le.set(se.key,se):le.set(se.index,se),se=se.sibling;return le}function A(le,se){return le=Hs(le,se),le.index=0,le.sibling=null,le}function R(le,se,ue){return le.index=ue,s?(ue=le.alternate,ue!==null?(ue=ue.index,ue<se?(le.flags|=2,se):ue):(le.flags|=2,se)):(le.flags|=1048576,se)}function H(le){return s&&le.alternate===null&&(le.flags|=2),le}function Z(le,se,ue,Ee){return se===null||se.tag!==6?(se=Jh(ue,le.mode,Ee),se.return=le,se):(se=A(se,ue),se.return=le,se)}function te(le,se,ue,Ee){var $e=ue.type;return $e===E?_e(le,se,ue.props.children,Ee,ue.key):se!==null&&(se.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===q&&X0($e)===se.type)?(Ee=A(se,ue.props),Ee.ref=va(le,se,ue),Ee.return=le,Ee):(Ee=Ec(ue.type,ue.key,ue.props,null,le.mode,Ee),Ee.ref=va(le,se,ue),Ee.return=le,Ee)}function fe(le,se,ue,Ee){return se===null||se.tag!==4||se.stateNode.containerInfo!==ue.containerInfo||se.stateNode.implementation!==ue.implementation?(se=Qh(ue,le.mode,Ee),se.return=le,se):(se=A(se,ue.children||[]),se.return=le,se)}function _e(le,se,ue,Ee,$e){return se===null||se.tag!==7?(se=wi(ue,le.mode,Ee,$e),se.return=le,se):(se=A(se,ue),se.return=le,se)}function Ce(le,se,ue){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Jh(""+se,le.mode,ue),se.return=le,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return ue=Ec(se.type,se.key,se.props,null,le.mode,ue),ue.ref=va(le,null,se),ue.return=le,ue;case P:return se=Qh(se,le.mode,ue),se.return=le,se;case q:var Ee=se._init;return Ce(le,Ee(se._payload),ue)}if(Ue(se)||D(se))return se=wi(se,le.mode,ue,null),se.return=le,se;sc(le,se)}return null}function xe(le,se,ue,Ee){var $e=se!==null?se.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $e!==null?null:Z(le,se,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:return ue.key===$e?te(le,se,ue,Ee):null;case P:return ue.key===$e?fe(le,se,ue,Ee):null;case q:return $e=ue._init,xe(le,se,$e(ue._payload),Ee)}if(Ue(ue)||D(ue))return $e!==null?null:_e(le,se,ue,Ee,null);sc(le,ue)}return null}function Le(le,se,ue,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return le=le.get(ue)||null,Z(se,le,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case T:return le=le.get(Ee.key===null?ue:Ee.key)||null,te(se,le,Ee,$e);case P:return le=le.get(Ee.key===null?ue:Ee.key)||null,fe(se,le,Ee,$e);case q:var We=Ee._init;return Le(le,se,ue,We(Ee._payload),$e)}if(Ue(Ee)||D(Ee))return le=le.get(ue)||null,_e(se,le,Ee,$e,null);sc(se,Ee)}return null}function Be(le,se,ue,Ee){for(var $e=null,We=null,Ge=se,Xe=se=0,tr=null;Ge!==null&&Xe<ue.length;Xe++){Ge.index>Xe?(tr=Ge,Ge=null):tr=Ge.sibling;var ct=xe(le,Ge,ue[Xe],Ee);if(ct===null){Ge===null&&(Ge=tr);break}s&&Ge&&ct.alternate===null&&a(le,Ge),se=R(ct,se,Xe),We===null?$e=ct:We.sibling=ct,We=ct,Ge=tr}if(Xe===ue.length)return m(le,Ge),wt&&pi(le,Xe),$e;if(Ge===null){for(;Xe<ue.length;Xe++)Ge=Ce(le,ue[Xe],Ee),Ge!==null&&(se=R(Ge,se,Xe),We===null?$e=Ge:We.sibling=Ge,We=Ge);return wt&&pi(le,Xe),$e}for(Ge=S(le,Ge);Xe<ue.length;Xe++)tr=Le(Ge,le,Xe,ue[Xe],Ee),tr!==null&&(s&&tr.alternate!==null&&Ge.delete(tr.key===null?Xe:tr.key),se=R(tr,se,Xe),We===null?$e=tr:We.sibling=tr,We=tr);return s&&Ge.forEach(function($s){return a(le,$s)}),wt&&pi(le,Xe),$e}function He(le,se,ue,Ee){var $e=D(ue);if(typeof $e!="function")throw Error(r(150));if(ue=$e.call(ue),ue==null)throw Error(r(151));for(var We=$e=null,Ge=se,Xe=se=0,tr=null,ct=ue.next();Ge!==null&&!ct.done;Xe++,ct=ue.next()){Ge.index>Xe?(tr=Ge,Ge=null):tr=Ge.sibling;var $s=xe(le,Ge,ct.value,Ee);if($s===null){Ge===null&&(Ge=tr);break}s&&Ge&&$s.alternate===null&&a(le,Ge),se=R($s,se,Xe),We===null?$e=$s:We.sibling=$s,We=$s,Ge=tr}if(ct.done)return m(le,Ge),wt&&pi(le,Xe),$e;if(Ge===null){for(;!ct.done;Xe++,ct=ue.next())ct=Ce(le,ct.value,Ee),ct!==null&&(se=R(ct,se,Xe),We===null?$e=ct:We.sibling=ct,We=ct);return wt&&pi(le,Xe),$e}for(Ge=S(le,Ge);!ct.done;Xe++,ct=ue.next())ct=Le(Ge,le,Xe,ct.value,Ee),ct!==null&&(s&&ct.alternate!==null&&Ge.delete(ct.key===null?Xe:ct.key),se=R(ct,se,Xe),We===null?$e=ct:We.sibling=ct,We=ct);return s&&Ge.forEach(function(_E){return a(le,_E)}),wt&&pi(le,Xe),$e}function Ot(le,se,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===E&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:e:{for(var $e=ue.key,We=se;We!==null;){if(We.key===$e){if($e=ue.type,$e===E){if(We.tag===7){m(le,We.sibling),se=A(We,ue.props.children),se.return=le,le=se;break e}}else if(We.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===q&&X0($e)===We.type){m(le,We.sibling),se=A(We,ue.props),se.ref=va(le,We,ue),se.return=le,le=se;break e}m(le,We);break}else a(le,We);We=We.sibling}ue.type===E?(se=wi(ue.props.children,le.mode,Ee,ue.key),se.return=le,le=se):(Ee=Ec(ue.type,ue.key,ue.props,null,le.mode,Ee),Ee.ref=va(le,se,ue),Ee.return=le,le=Ee)}return H(le);case P:e:{for(We=ue.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===ue.containerInfo&&se.stateNode.implementation===ue.implementation){m(le,se.sibling),se=A(se,ue.children||[]),se.return=le,le=se;break e}else{m(le,se);break}else a(le,se);se=se.sibling}se=Qh(ue,le.mode,Ee),se.return=le,le=se}return H(le);case q:return We=ue._init,Ot(le,se,We(ue._payload),Ee)}if(Ue(ue))return Be(le,se,ue,Ee);if(D(ue))return He(le,se,ue,Ee);sc(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,se!==null&&se.tag===6?(m(le,se.sibling),se=A(se,ue),se.return=le,le=se):(m(le,se),se=Jh(ue,le.mode,Ee),se.return=le,le=se),H(le)):m(le,se)}return Ot}var to=J0(!0),Q0=J0(!1),ic=As(null),oc=null,ro=null,ah=null;function lh(){ah=ro=oc=null}function ch(s){var a=ic.current;_t(ic),s._currentValue=a}function uh(s,a,m){for(;s!==null;){var S=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,S!==null&&(S.childLanes|=a)):S!==null&&(S.childLanes&a)!==a&&(S.childLanes|=a),s===m)break;s=s.return}}function no(s,a){oc=s,ah=ro=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Rr=!0),s.firstContext=null)}function nn(s){var a=s._currentValue;if(ah!==s)if(s={context:s,memoizedValue:a,next:null},ro===null){if(oc===null)throw Error(r(308));ro=s,oc.dependencies={lanes:0,firstContext:s}}else ro=ro.next=s;return a}var mi=null;function dh(s){mi===null?mi=[s]:mi.push(s)}function Z0(s,a,m,S){var A=a.interleaved;return A===null?(m.next=m,dh(a)):(m.next=A.next,A.next=m),a.interleaved=m,rs(s,S)}function rs(s,a){s.lanes|=a;var m=s.alternate;for(m!==null&&(m.lanes|=a),m=s,s=s.return;s!==null;)s.childLanes|=a,m=s.alternate,m!==null&&(m.childLanes|=a),m=s,s=s.return;return m.tag===3?m.stateNode:null}var Ds=!1;function hh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ns(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ls(s,a,m){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(lt&2)!==0){var A=S.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),S.pending=a,rs(s,m)}return A=S.interleaved,A===null?(a.next=a,dh(S)):(a.next=A.next,A.next=a),S.interleaved=a,rs(s,m)}function ac(s,a,m){if(a=a.updateQueue,a!==null&&(a=a.shared,(m&4194240)!==0)){var S=a.lanes;S&=s.pendingLanes,m|=S,a.lanes=m,jd(s,m)}}function tv(s,a){var m=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var A=null,R=null;if(m=m.firstBaseUpdate,m!==null){do{var H={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};R===null?A=R=H:R=R.next=H,m=m.next}while(m!==null);R===null?A=R=a:R=R.next=a}else A=R=a;m={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:S.shared,effects:S.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=a:s.next=a,m.lastBaseUpdate=a}function lc(s,a,m,S){var A=s.updateQueue;Ds=!1;var R=A.firstBaseUpdate,H=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var te=Z,fe=te.next;te.next=null,H===null?R=fe:H.next=fe,H=te;var _e=s.alternate;_e!==null&&(_e=_e.updateQueue,Z=_e.lastBaseUpdate,Z!==H&&(Z===null?_e.firstBaseUpdate=fe:Z.next=fe,_e.lastBaseUpdate=te))}if(R!==null){var Ce=A.baseState;H=0,_e=fe=te=null,Z=R;do{var xe=Z.lane,Le=Z.eventTime;if((S&xe)===xe){_e!==null&&(_e=_e.next={eventTime:Le,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Be=s,He=Z;switch(xe=a,Le=m,He.tag){case 1:if(Be=He.payload,typeof Be=="function"){Ce=Be.call(Le,Ce,xe);break e}Ce=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=He.payload,xe=typeof Be=="function"?Be.call(Le,Ce,xe):Be,xe==null)break e;Ce=M({},Ce,xe);break e;case 2:Ds=!0}}Z.callback!==null&&Z.lane!==0&&(s.flags|=64,xe=A.effects,xe===null?A.effects=[Z]:xe.push(Z))}else Le={eventTime:Le,lane:xe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},_e===null?(fe=_e=Le,te=Ce):_e=_e.next=Le,H|=xe;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;xe=Z,Z=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);if(_e===null&&(te=Ce),A.baseState=te,A.firstBaseUpdate=fe,A.lastBaseUpdate=_e,a=A.shared.interleaved,a!==null){A=a;do H|=A.lane,A=A.next;while(A!==a)}else R===null&&(A.shared.lanes=0);xi|=H,s.lanes=H,s.memoizedState=Ce}}function rv(s,a,m){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var S=s[a],A=S.callback;if(A!==null){if(S.callback=null,S=m,typeof A!="function")throw Error(r(191,A));A.call(S)}}}var xa={},An=As(xa),ya=As(xa),_a=As(xa);function gi(s){if(s===xa)throw Error(r(174));return s}function fh(s,a){switch(gt(_a,a),gt(ya,s),gt(An,xa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ce(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ce(a,s)}_t(An),gt(An,a)}function so(){_t(An),_t(ya),_t(_a)}function nv(s){gi(_a.current);var a=gi(An.current),m=ce(a,s.type);a!==m&&(gt(ya,s),gt(An,m))}function ph(s){ya.current===s&&(_t(An),_t(ya))}var kt=As(0);function cc(s){for(var a=s;a!==null;){if(a.tag===13){var m=a.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mh=[];function gh(){for(var s=0;s<mh.length;s++)mh[s]._workInProgressVersionPrimary=null;mh.length=0}var uc=j.ReactCurrentDispatcher,vh=j.ReactCurrentBatchConfig,vi=0,jt=null,Kt=null,Zt=null,dc=!1,ba=!1,wa=0,$N=0;function vr(){throw Error(r(321))}function xh(s,a){if(a===null)return!1;for(var m=0;m<a.length&&m<s.length;m++)if(!mn(s[m],a[m]))return!1;return!0}function yh(s,a,m,S,A,R){if(vi=R,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,uc.current=s===null||s.memoizedState===null?GN:KN,s=m(S,A),ba){R=0;do{if(ba=!1,wa=0,25<=R)throw Error(r(301));R+=1,Zt=Kt=null,a.updateQueue=null,uc.current=qN,s=m(S,A)}while(ba)}if(uc.current=pc,a=Kt!==null&&Kt.next!==null,vi=0,Zt=Kt=jt=null,dc=!1,a)throw Error(r(300));return s}function _h(){var s=wa!==0;return wa=0,s}function Rn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?jt.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function sn(){if(Kt===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var a=Zt===null?jt.memoizedState:Zt.next;if(a!==null)Zt=a,Kt=s;else{if(s===null)throw Error(r(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Zt===null?jt.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function Sa(s,a){return typeof a=="function"?a(s):a}function bh(s){var a=sn(),m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var S=Kt,A=S.baseQueue,R=m.pending;if(R!==null){if(A!==null){var H=A.next;A.next=R.next,R.next=H}S.baseQueue=A=R,m.pending=null}if(A!==null){R=A.next,S=S.baseState;var Z=H=null,te=null,fe=R;do{var _e=fe.lane;if((vi&_e)===_e)te!==null&&(te=te.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),S=fe.hasEagerState?fe.eagerState:s(S,fe.action);else{var Ce={lane:_e,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};te===null?(Z=te=Ce,H=S):te=te.next=Ce,jt.lanes|=_e,xi|=_e}fe=fe.next}while(fe!==null&&fe!==R);te===null?H=S:te.next=Z,mn(S,a.memoizedState)||(Rr=!0),a.memoizedState=S,a.baseState=H,a.baseQueue=te,m.lastRenderedState=S}if(s=m.interleaved,s!==null){A=s;do R=A.lane,jt.lanes|=R,xi|=R,A=A.next;while(A!==s)}else A===null&&(m.lanes=0);return[a.memoizedState,m.dispatch]}function wh(s){var a=sn(),m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var S=m.dispatch,A=m.pending,R=a.memoizedState;if(A!==null){m.pending=null;var H=A=A.next;do R=s(R,H.action),H=H.next;while(H!==A);mn(R,a.memoizedState)||(Rr=!0),a.memoizedState=R,a.baseQueue===null&&(a.baseState=R),m.lastRenderedState=R}return[R,S]}function sv(){}function iv(s,a){var m=jt,S=sn(),A=a(),R=!mn(S.memoizedState,A);if(R&&(S.memoizedState=A,Rr=!0),S=S.queue,Sh(lv.bind(null,m,S,s),[s]),S.getSnapshot!==a||R||Zt!==null&&Zt.memoizedState.tag&1){if(m.flags|=2048,Ca(9,av.bind(null,m,S,A,a),void 0,null),er===null)throw Error(r(349));(vi&30)!==0||ov(m,a,A)}return A}function ov(s,a,m){s.flags|=16384,s={getSnapshot:a,value:m},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[s]):(m=a.stores,m===null?a.stores=[s]:m.push(s))}function av(s,a,m,S){a.value=m,a.getSnapshot=S,cv(a)&&uv(s)}function lv(s,a,m){return m(function(){cv(a)&&uv(s)})}function cv(s){var a=s.getSnapshot;s=s.value;try{var m=a();return!mn(s,m)}catch{return!0}}function uv(s){var a=rs(s,1);a!==null&&_n(a,s,1,-1)}function dv(s){var a=Rn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:s},a.queue=s,s=s.dispatch=WN.bind(null,jt,s),[a.memoizedState,s]}function Ca(s,a,m,S){return s={tag:s,create:a,destroy:m,deps:S,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=s.next=s):(m=a.lastEffect,m===null?a.lastEffect=s.next=s:(S=m.next,m.next=s,s.next=S,a.lastEffect=s)),s}function hv(){return sn().memoizedState}function hc(s,a,m,S){var A=Rn();jt.flags|=s,A.memoizedState=Ca(1|a,m,void 0,S===void 0?null:S)}function fc(s,a,m,S){var A=sn();S=S===void 0?null:S;var R=void 0;if(Kt!==null){var H=Kt.memoizedState;if(R=H.destroy,S!==null&&xh(S,H.deps)){A.memoizedState=Ca(a,m,R,S);return}}jt.flags|=s,A.memoizedState=Ca(1|a,m,R,S)}function fv(s,a){return hc(8390656,8,s,a)}function Sh(s,a){return fc(2048,8,s,a)}function pv(s,a){return fc(4,2,s,a)}function mv(s,a){return fc(4,4,s,a)}function gv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function vv(s,a,m){return m=m!=null?m.concat([s]):null,fc(4,4,gv.bind(null,a,s),m)}function Ch(){}function xv(s,a){var m=sn();a=a===void 0?null:a;var S=m.memoizedState;return S!==null&&a!==null&&xh(a,S[1])?S[0]:(m.memoizedState=[s,a],s)}function yv(s,a){var m=sn();a=a===void 0?null:a;var S=m.memoizedState;return S!==null&&a!==null&&xh(a,S[1])?S[0]:(s=s(),m.memoizedState=[s,a],s)}function _v(s,a,m){return(vi&21)===0?(s.baseState&&(s.baseState=!1,Rr=!0),s.memoizedState=m):(mn(m,a)||(m=Xg(),jt.lanes|=m,xi|=m,s.baseState=!0),a)}function VN(s,a){var m=ft;ft=m!==0&&4>m?m:4,s(!0);var S=vh.transition;vh.transition={};try{s(!1),a()}finally{ft=m,vh.transition=S}}function bv(){return sn().memoizedState}function UN(s,a,m){var S=Fs(s);if(m={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null},wv(s))Sv(a,m);else if(m=Z0(s,a,m,S),m!==null){var A=Nr();_n(m,s,S,A),Cv(m,a,S)}}function WN(s,a,m){var S=Fs(s),A={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null};if(wv(s))Sv(a,A);else{var R=s.alternate;if(s.lanes===0&&(R===null||R.lanes===0)&&(R=a.lastRenderedReducer,R!==null))try{var H=a.lastRenderedState,Z=R(H,m);if(A.hasEagerState=!0,A.eagerState=Z,mn(Z,H)){var te=a.interleaved;te===null?(A.next=A,dh(a)):(A.next=te.next,te.next=A),a.interleaved=A;return}}catch{}finally{}m=Z0(s,a,A,S),m!==null&&(A=Nr(),_n(m,s,S,A),Cv(m,a,S))}}function wv(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function Sv(s,a){ba=dc=!0;var m=s.pending;m===null?a.next=a:(a.next=m.next,m.next=a),s.pending=a}function Cv(s,a,m){if((m&4194240)!==0){var S=a.lanes;S&=s.pendingLanes,m|=S,a.lanes=m,jd(s,m)}}var pc={readContext:nn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},GN={readContext:nn,useCallback:function(s,a){return Rn().memoizedState=[s,a===void 0?null:a],s},useContext:nn,useEffect:fv,useImperativeHandle:function(s,a,m){return m=m!=null?m.concat([s]):null,hc(4194308,4,gv.bind(null,a,s),m)},useLayoutEffect:function(s,a){return hc(4194308,4,s,a)},useInsertionEffect:function(s,a){return hc(4,2,s,a)},useMemo:function(s,a){var m=Rn();return a=a===void 0?null:a,s=s(),m.memoizedState=[s,a],s},useReducer:function(s,a,m){var S=Rn();return a=m!==void 0?m(a):a,S.memoizedState=S.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},S.queue=s,s=s.dispatch=UN.bind(null,jt,s),[S.memoizedState,s]},useRef:function(s){var a=Rn();return s={current:s},a.memoizedState=s},useState:dv,useDebugValue:Ch,useDeferredValue:function(s){return Rn().memoizedState=s},useTransition:function(){var s=dv(!1),a=s[0];return s=VN.bind(null,s[1]),Rn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,m){var S=jt,A=Rn();if(wt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=a(),er===null)throw Error(r(349));(vi&30)!==0||ov(S,a,m)}A.memoizedState=m;var R={value:m,getSnapshot:a};return A.queue=R,fv(lv.bind(null,S,R,s),[s]),S.flags|=2048,Ca(9,av.bind(null,S,R,m,a),void 0,null),m},useId:function(){var s=Rn(),a=er.identifierPrefix;if(wt){var m=ts,S=es;m=(S&~(1<<32-pn(S)-1)).toString(32)+m,a=":"+a+"R"+m,m=wa++,0<m&&(a+="H"+m.toString(32)),a+=":"}else m=$N++,a=":"+a+"r"+m.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},KN={readContext:nn,useCallback:xv,useContext:nn,useEffect:Sh,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:yv,useReducer:bh,useRef:hv,useState:function(){return bh(Sa)},useDebugValue:Ch,useDeferredValue:function(s){var a=sn();return _v(a,Kt.memoizedState,s)},useTransition:function(){var s=bh(Sa)[0],a=sn().memoizedState;return[s,a]},useMutableSource:sv,useSyncExternalStore:iv,useId:bv,unstable_isNewReconciler:!1},qN={readContext:nn,useCallback:xv,useContext:nn,useEffect:Sh,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:yv,useReducer:wh,useRef:hv,useState:function(){return wh(Sa)},useDebugValue:Ch,useDeferredValue:function(s){var a=sn();return Kt===null?a.memoizedState=s:_v(a,Kt.memoizedState,s)},useTransition:function(){var s=wh(Sa)[0],a=sn().memoizedState;return[s,a]},useMutableSource:sv,useSyncExternalStore:iv,useId:bv,unstable_isNewReconciler:!1};function vn(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var m in s)a[m]===void 0&&(a[m]=s[m]);return a}return a}function kh(s,a,m,S){a=s.memoizedState,m=m(S,a),m=m==null?a:M({},a,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var mc={isMounted:function(s){return(s=s._reactInternals)?ui(s)===s:!1},enqueueSetState:function(s,a,m){s=s._reactInternals;var S=Nr(),A=Fs(s),R=ns(S,A);R.payload=a,m!=null&&(R.callback=m),a=Ls(s,R,A),a!==null&&(_n(a,s,A,S),ac(a,s,A))},enqueueReplaceState:function(s,a,m){s=s._reactInternals;var S=Nr(),A=Fs(s),R=ns(S,A);R.tag=1,R.payload=a,m!=null&&(R.callback=m),a=Ls(s,R,A),a!==null&&(_n(a,s,A,S),ac(a,s,A))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var m=Nr(),S=Fs(s),A=ns(m,S);A.tag=2,a!=null&&(A.callback=a),a=Ls(s,A,S),a!==null&&(_n(a,s,S,m),ac(a,s,S))}};function kv(s,a,m,S,A,R,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,R,H):a.prototype&&a.prototype.isPureReactComponent?!ua(m,S)||!ua(A,R):!0}function jv(s,a,m){var S=!1,A=Rs,R=a.contextType;return typeof R=="object"&&R!==null?R=nn(R):(A=Ar(a)?hi:gr.current,S=a.contextTypes,R=(S=S!=null)?Ji(s,A):Rs),a=new a(m,R),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=mc,s.stateNode=a,a._reactInternals=s,S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=A,s.__reactInternalMemoizedMaskedChildContext=R),a}function Nv(s,a,m,S){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(m,S),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(m,S),a.state!==s&&mc.enqueueReplaceState(a,a.state,null)}function jh(s,a,m,S){var A=s.stateNode;A.props=m,A.state=s.memoizedState,A.refs={},hh(s);var R=a.contextType;typeof R=="object"&&R!==null?A.context=nn(R):(R=Ar(a)?hi:gr.current,A.context=Ji(s,R)),A.state=s.memoizedState,R=a.getDerivedStateFromProps,typeof R=="function"&&(kh(s,a,R,m),A.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&mc.enqueueReplaceState(A,A.state,null),lc(s,m,A,S),A.state=s.memoizedState),typeof A.componentDidMount=="function"&&(s.flags|=4194308)}function io(s,a){try{var m="",S=a;do m+=de(S),S=S.return;while(S);var A=m}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:s,source:a,stack:A,digest:null}}function Nh(s,a,m){return{value:s,source:null,stack:m??null,digest:a??null}}function Eh(s,a){try{console.error(a.value)}catch(m){setTimeout(function(){throw m})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function Ev(s,a,m){m=ns(-1,m),m.tag=3,m.payload={element:null};var S=a.value;return m.callback=function(){wc||(wc=!0,Vh=S),Eh(s,a)},m}function Pv(s,a,m){m=ns(-1,m),m.tag=3;var S=s.type.getDerivedStateFromError;if(typeof S=="function"){var A=a.value;m.payload=function(){return S(A)},m.callback=function(){Eh(s,a)}}var R=s.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(m.callback=function(){Eh(s,a),typeof S!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var H=a.stack;this.componentDidCatch(a.value,{componentStack:H!==null?H:""})}),m}function Tv(s,a,m){var S=s.pingCache;if(S===null){S=s.pingCache=new YN;var A=new Set;S.set(a,A)}else A=S.get(a),A===void 0&&(A=new Set,S.set(a,A));A.has(m)||(A.add(m),s=cE.bind(null,s,a,m),a.then(s,s))}function Av(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Rv(s,a,m,S,A){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(a=ns(-1,1),a.tag=2,Ls(m,a,1))),m.lanes|=1),s):(s.flags|=65536,s.lanes=A,s)}var XN=j.ReactCurrentOwner,Rr=!1;function jr(s,a,m,S){a.child=s===null?Q0(a,null,m,S):to(a,s.child,m,S)}function Mv(s,a,m,S,A){m=m.render;var R=a.ref;return no(a,A),S=yh(s,a,m,S,R,A),m=_h(),s!==null&&!Rr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~A,ss(s,a,A)):(wt&&m&&rh(a),a.flags|=1,jr(s,a,S,A),a.child)}function Dv(s,a,m,S,A){if(s===null){var R=m.type;return typeof R=="function"&&!Xh(R)&&R.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(a.tag=15,a.type=R,Lv(s,a,R,S,A)):(s=Ec(m.type,null,S,a,a.mode,A),s.ref=a.ref,s.return=a,a.child=s)}if(R=s.child,(s.lanes&A)===0){var H=R.memoizedProps;if(m=m.compare,m=m!==null?m:ua,m(H,S)&&s.ref===a.ref)return ss(s,a,A)}return a.flags|=1,s=Hs(R,S),s.ref=a.ref,s.return=a,a.child=s}function Lv(s,a,m,S,A){if(s!==null){var R=s.memoizedProps;if(ua(R,S)&&s.ref===a.ref)if(Rr=!1,a.pendingProps=S=R,(s.lanes&A)!==0)(s.flags&131072)!==0&&(Rr=!0);else return a.lanes=s.lanes,ss(s,a,A)}return Ph(s,a,m,S,A)}function Iv(s,a,m){var S=a.pendingProps,A=S.children,R=s!==null?s.memoizedState:null;if(S.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ao,Gr),Gr|=m;else{if((m&1073741824)===0)return s=R!==null?R.baseLanes|m:m,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,gt(ao,Gr),Gr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=R!==null?R.baseLanes:m,gt(ao,Gr),Gr|=S}else R!==null?(S=R.baseLanes|m,a.memoizedState=null):S=m,gt(ao,Gr),Gr|=S;return jr(s,a,A,m),a.child}function Ov(s,a){var m=a.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(a.flags|=512,a.flags|=2097152)}function Ph(s,a,m,S,A){var R=Ar(m)?hi:gr.current;return R=Ji(a,R),no(a,A),m=yh(s,a,m,S,R,A),S=_h(),s!==null&&!Rr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~A,ss(s,a,A)):(wt&&S&&rh(a),a.flags|=1,jr(s,a,m,A),a.child)}function Bv(s,a,m,S,A){if(Ar(m)){var R=!0;Zl(a)}else R=!1;if(no(a,A),a.stateNode===null)vc(s,a),jv(a,m,S),jh(a,m,S,A),S=!0;else if(s===null){var H=a.stateNode,Z=a.memoizedProps;H.props=Z;var te=H.context,fe=m.contextType;typeof fe=="object"&&fe!==null?fe=nn(fe):(fe=Ar(m)?hi:gr.current,fe=Ji(a,fe));var _e=m.getDerivedStateFromProps,Ce=typeof _e=="function"||typeof H.getSnapshotBeforeUpdate=="function";Ce||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==S||te!==fe)&&Nv(a,H,S,fe),Ds=!1;var xe=a.memoizedState;H.state=xe,lc(a,S,H,A),te=a.memoizedState,Z!==S||xe!==te||Tr.current||Ds?(typeof _e=="function"&&(kh(a,m,_e,S),te=a.memoizedState),(Z=Ds||kv(a,m,Z,S,xe,te,fe))?(Ce||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(a.flags|=4194308)):(typeof H.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=S,a.memoizedState=te),H.props=S,H.state=te,H.context=fe,S=Z):(typeof H.componentDidMount=="function"&&(a.flags|=4194308),S=!1)}else{H=a.stateNode,ev(s,a),Z=a.memoizedProps,fe=a.type===a.elementType?Z:vn(a.type,Z),H.props=fe,Ce=a.pendingProps,xe=H.context,te=m.contextType,typeof te=="object"&&te!==null?te=nn(te):(te=Ar(m)?hi:gr.current,te=Ji(a,te));var Le=m.getDerivedStateFromProps;(_e=typeof Le=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==Ce||xe!==te)&&Nv(a,H,S,te),Ds=!1,xe=a.memoizedState,H.state=xe,lc(a,S,H,A);var Be=a.memoizedState;Z!==Ce||xe!==Be||Tr.current||Ds?(typeof Le=="function"&&(kh(a,m,Le,S),Be=a.memoizedState),(fe=Ds||kv(a,m,fe,S,xe,Be,te)||!1)?(_e||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(S,Be,te),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(S,Be,te)),typeof H.componentDidUpdate=="function"&&(a.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof H.componentDidUpdate!="function"||Z===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),a.memoizedProps=S,a.memoizedState=Be),H.props=S,H.state=Be,H.context=te,S=fe):(typeof H.componentDidUpdate!="function"||Z===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),S=!1)}return Th(s,a,m,S,R,A)}function Th(s,a,m,S,A,R){Ov(s,a);var H=(a.flags&128)!==0;if(!S&&!H)return A&&V0(a,m,!1),ss(s,a,R);S=a.stateNode,XN.current=a;var Z=H&&typeof m.getDerivedStateFromError!="function"?null:S.render();return a.flags|=1,s!==null&&H?(a.child=to(a,s.child,null,R),a.child=to(a,null,Z,R)):jr(s,a,Z,R),a.memoizedState=S.state,A&&V0(a,m,!0),a.child}function Fv(s){var a=s.stateNode;a.pendingContext?H0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&H0(s,a.context,!1),fh(s,a.containerInfo)}function zv(s,a,m,S,A){return eo(),oh(A),a.flags|=256,jr(s,a,m,S),a.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Rh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Hv(s,a,m){var S=a.pendingProps,A=kt.current,R=!1,H=(a.flags&128)!==0,Z;if((Z=H)||(Z=s!==null&&s.memoizedState===null?!1:(A&2)!==0),Z?(R=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(A|=1),gt(kt,A&1),s===null)return ih(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(H=S.children,s=S.fallback,R?(S=a.mode,R=a.child,H={mode:"hidden",children:H},(S&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=H):R=Pc(H,S,0,null),s=wi(s,S,m,null),R.return=a,s.return=a,R.sibling=s,a.child=R,a.child.memoizedState=Rh(m),a.memoizedState=Ah,s):Mh(a,H));if(A=s.memoizedState,A!==null&&(Z=A.dehydrated,Z!==null))return JN(s,a,H,S,Z,A,m);if(R){R=S.fallback,H=a.mode,A=s.child,Z=A.sibling;var te={mode:"hidden",children:S.children};return(H&1)===0&&a.child!==A?(S=a.child,S.childLanes=0,S.pendingProps=te,a.deletions=null):(S=Hs(A,te),S.subtreeFlags=A.subtreeFlags&14680064),Z!==null?R=Hs(Z,R):(R=wi(R,H,m,null),R.flags|=2),R.return=a,S.return=a,S.sibling=R,a.child=S,S=R,R=a.child,H=s.child.memoizedState,H=H===null?Rh(m):{baseLanes:H.baseLanes|m,cachePool:null,transitions:H.transitions},R.memoizedState=H,R.childLanes=s.childLanes&~m,a.memoizedState=Ah,S}return R=s.child,s=R.sibling,S=Hs(R,{mode:"visible",children:S.children}),(a.mode&1)===0&&(S.lanes=m),S.return=a,S.sibling=null,s!==null&&(m=a.deletions,m===null?(a.deletions=[s],a.flags|=16):m.push(s)),a.child=S,a.memoizedState=null,S}function Mh(s,a){return a=Pc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function gc(s,a,m,S){return S!==null&&oh(S),to(a,s.child,null,m),s=Mh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function JN(s,a,m,S,A,R,H){if(m)return a.flags&256?(a.flags&=-257,S=Nh(Error(r(422))),gc(s,a,H,S)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(R=S.fallback,A=a.mode,S=Pc({mode:"visible",children:S.children},A,0,null),R=wi(R,A,H,null),R.flags|=2,S.return=a,R.return=a,S.sibling=R,a.child=S,(a.mode&1)!==0&&to(a,s.child,null,H),a.child.memoizedState=Rh(H),a.memoizedState=Ah,R);if((a.mode&1)===0)return gc(s,a,H,null);if(A.data==="$!"){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Z=S.dgst;return S=Z,R=Error(r(419)),S=Nh(R,S,void 0),gc(s,a,H,S)}if(Z=(H&s.childLanes)!==0,Rr||Z){if(S=er,S!==null){switch(H&-H){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(S.suspendedLanes|H))!==0?0:A,A!==0&&A!==R.retryLane&&(R.retryLane=A,rs(s,A),_n(S,s,A,-1))}return Yh(),S=Nh(Error(r(421))),gc(s,a,H,S)}return A.data==="$?"?(a.flags|=128,a.child=s.child,a=uE.bind(null,s),A._reactRetry=a,null):(s=R.treeContext,Wr=Ts(A.nextSibling),Ur=a,wt=!0,gn=null,s!==null&&(tn[rn++]=es,tn[rn++]=ts,tn[rn++]=fi,es=s.id,ts=s.overflow,fi=a),a=Mh(a,S.children),a.flags|=4096,a)}function $v(s,a,m){s.lanes|=a;var S=s.alternate;S!==null&&(S.lanes|=a),uh(s.return,a,m)}function Dh(s,a,m,S,A){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:A}:(R.isBackwards=a,R.rendering=null,R.renderingStartTime=0,R.last=S,R.tail=m,R.tailMode=A)}function Vv(s,a,m){var S=a.pendingProps,A=S.revealOrder,R=S.tail;if(jr(s,a,S.children,m),S=kt.current,(S&2)!==0)S=S&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$v(s,m,a);else if(s.tag===19)$v(s,m,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}S&=1}if(gt(kt,S),(a.mode&1)===0)a.memoizedState=null;else switch(A){case"forwards":for(m=a.child,A=null;m!==null;)s=m.alternate,s!==null&&cc(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=a.child,a.child=null):(A=m.sibling,m.sibling=null),Dh(a,!1,A,m,R);break;case"backwards":for(m=null,A=a.child,a.child=null;A!==null;){if(s=A.alternate,s!==null&&cc(s)===null){a.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}Dh(a,!0,m,null,R);break;case"together":Dh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ss(s,a,m){if(s!==null&&(a.dependencies=s.dependencies),xi|=a.lanes,(m&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,m=Hs(s,s.pendingProps),a.child=m,m.return=a;s.sibling!==null;)s=s.sibling,m=m.sibling=Hs(s,s.pendingProps),m.return=a;m.sibling=null}return a.child}function QN(s,a,m){switch(a.tag){case 3:Fv(a),eo();break;case 5:nv(a);break;case 1:Ar(a.type)&&Zl(a);break;case 4:fh(a,a.stateNode.containerInfo);break;case 10:var S=a.type._context,A=a.memoizedProps.value;gt(ic,S._currentValue),S._currentValue=A;break;case 13:if(S=a.memoizedState,S!==null)return S.dehydrated!==null?(gt(kt,kt.current&1),a.flags|=128,null):(m&a.child.childLanes)!==0?Hv(s,a,m):(gt(kt,kt.current&1),s=ss(s,a,m),s!==null?s.sibling:null);gt(kt,kt.current&1);break;case 19:if(S=(m&a.childLanes)!==0,(s.flags&128)!==0){if(S)return Vv(s,a,m);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),gt(kt,kt.current),S)break;return null;case 22:case 23:return a.lanes=0,Iv(s,a,m)}return ss(s,a,m)}var Uv,Lh,Wv,Gv;Uv=function(s,a){for(var m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Lh=function(){},Wv=function(s,a,m,S){var A=s.memoizedProps;if(A!==S){s=a.stateNode,gi(An.current);var R=null;switch(m){case"input":A=ae(s,A),S=ae(s,S),R=[];break;case"select":A=M({},A,{value:void 0}),S=M({},S,{value:void 0}),R=[];break;case"textarea":A=et(s,A),S=et(s,S),R=[];break;default:typeof A.onClick!="function"&&typeof S.onClick=="function"&&(s.onclick=Xl)}Ct(m,S);var H;m=null;for(fe in A)if(!S.hasOwnProperty(fe)&&A.hasOwnProperty(fe)&&A[fe]!=null)if(fe==="style"){var Z=A[fe];for(H in Z)Z.hasOwnProperty(H)&&(m||(m={}),m[H]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?R||(R=[]):(R=R||[]).push(fe,null));for(fe in S){var te=S[fe];if(Z=A!=null?A[fe]:void 0,S.hasOwnProperty(fe)&&te!==Z&&(te!=null||Z!=null))if(fe==="style")if(Z){for(H in Z)!Z.hasOwnProperty(H)||te&&te.hasOwnProperty(H)||(m||(m={}),m[H]="");for(H in te)te.hasOwnProperty(H)&&Z[H]!==te[H]&&(m||(m={}),m[H]=te[H])}else m||(R||(R=[]),R.push(fe,m)),m=te;else fe==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Z=Z?Z.__html:void 0,te!=null&&Z!==te&&(R=R||[]).push(fe,te)):fe==="children"?typeof te!="string"&&typeof te!="number"||(R=R||[]).push(fe,""+te):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(te!=null&&fe==="onScroll"&&yt("scroll",s),R||Z===te||(R=[])):(R=R||[]).push(fe,te))}m&&(R=R||[]).push("style",m);var fe=R;(a.updateQueue=fe)&&(a.flags|=4)}},Gv=function(s,a,m,S){m!==S&&(a.flags|=4)};function ka(s,a){if(!wt)switch(s.tailMode){case"hidden":a=s.tail;for(var m=null;a!==null;)a.alternate!==null&&(m=a),a=a.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function xr(s){var a=s.alternate!==null&&s.alternate.child===s.child,m=0,S=0;if(a)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,S|=A.subtreeFlags&14680064,S|=A.flags&14680064,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=S,s.childLanes=m,a}function ZN(s,a,m){var S=a.pendingProps;switch(nh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(a),null;case 1:return Ar(a.type)&&Ql(),xr(a),null;case 3:return S=a.stateNode,so(),_t(Tr),_t(gr),gh(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(s===null||s.child===null)&&(nc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gn!==null&&(Gh(gn),gn=null))),Lh(s,a),xr(a),null;case 5:ph(a);var A=gi(_a.current);if(m=a.type,s!==null&&a.stateNode!=null)Wv(s,a,m,S,A),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!S){if(a.stateNode===null)throw Error(r(166));return xr(a),null}if(s=gi(An.current),nc(a)){S=a.stateNode,m=a.type;var R=a.memoizedProps;switch(S[Tn]=a,S[ma]=R,s=(a.mode&1)!==0,m){case"dialog":yt("cancel",S),yt("close",S);break;case"iframe":case"object":case"embed":yt("load",S);break;case"video":case"audio":for(A=0;A<ha.length;A++)yt(ha[A],S);break;case"source":yt("error",S);break;case"img":case"image":case"link":yt("error",S),yt("load",S);break;case"details":yt("toggle",S);break;case"input":Se(S,R),yt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!R.multiple},yt("invalid",S);break;case"textarea":it(S,R),yt("invalid",S)}Ct(m,R),A=null;for(var H in R)if(R.hasOwnProperty(H)){var Z=R[H];H==="children"?typeof Z=="string"?S.textContent!==Z&&(R.suppressHydrationWarning!==!0&&Yl(S.textContent,Z,s),A=["children",Z]):typeof Z=="number"&&S.textContent!==""+Z&&(R.suppressHydrationWarning!==!0&&Yl(S.textContent,Z,s),A=["children",""+Z]):o.hasOwnProperty(H)&&Z!=null&&H==="onScroll"&&yt("scroll",S)}switch(m){case"input":Q(S),Ne(S,R,!0);break;case"textarea":Q(S),At(S);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(S.onclick=Xl)}S=A,a.updateQueue=S,S!==null&&(a.flags|=4)}else{H=A.nodeType===9?A:A.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ge(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=H.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof S.is=="string"?s=H.createElement(m,{is:S.is}):(s=H.createElement(m),m==="select"&&(H=s,S.multiple?H.multiple=!0:S.size&&(H.size=S.size))):s=H.createElementNS(s,m),s[Tn]=a,s[ma]=S,Uv(s,a,!1,!1),a.stateNode=s;e:{switch(H=Pr(m,S),m){case"dialog":yt("cancel",s),yt("close",s),A=S;break;case"iframe":case"object":case"embed":yt("load",s),A=S;break;case"video":case"audio":for(A=0;A<ha.length;A++)yt(ha[A],s);A=S;break;case"source":yt("error",s),A=S;break;case"img":case"image":case"link":yt("error",s),yt("load",s),A=S;break;case"details":yt("toggle",s),A=S;break;case"input":Se(s,S),A=ae(s,S),yt("invalid",s);break;case"option":A=S;break;case"select":s._wrapperState={wasMultiple:!!S.multiple},A=M({},S,{value:void 0}),yt("invalid",s);break;case"textarea":it(s,S),A=et(s,S),yt("invalid",s);break;default:A=S}Ct(m,A),Z=A;for(R in Z)if(Z.hasOwnProperty(R)){var te=Z[R];R==="style"?or(s,te):R==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&J(s,te)):R==="children"?typeof te=="string"?(m!=="textarea"||te!=="")&&pe(s,te):typeof te=="number"&&pe(s,""+te):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(o.hasOwnProperty(R)?te!=null&&R==="onScroll"&&yt("scroll",s):te!=null&&b(s,R,te,H))}switch(m){case"input":Q(s),Ne(s,S,!1);break;case"textarea":Q(s),At(s);break;case"option":S.value!=null&&s.setAttribute("value",""+z(S.value));break;case"select":s.multiple=!!S.multiple,R=S.value,R!=null?Ye(s,!!S.multiple,R,!1):S.defaultValue!=null&&Ye(s,!!S.multiple,S.defaultValue,!0);break;default:typeof A.onClick=="function"&&(s.onclick=Xl)}switch(m){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return xr(a),null;case 6:if(s&&a.stateNode!=null)Gv(s,a,s.memoizedProps,S);else{if(typeof S!="string"&&a.stateNode===null)throw Error(r(166));if(m=gi(_a.current),gi(An.current),nc(a)){if(S=a.stateNode,m=a.memoizedProps,S[Tn]=a,(R=S.nodeValue!==m)&&(s=Ur,s!==null))switch(s.tag){case 3:Yl(S.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yl(S.nodeValue,m,(s.mode&1)!==0)}R&&(a.flags|=4)}else S=(m.nodeType===9?m:m.ownerDocument).createTextNode(S),S[Tn]=a,a.stateNode=S}return xr(a),null;case 13:if(_t(kt),S=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&Wr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Y0(),eo(),a.flags|=98560,R=!1;else if(R=nc(a),S!==null&&S.dehydrated!==null){if(s===null){if(!R)throw Error(r(318));if(R=a.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Tn]=a}else eo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xr(a),R=!1}else gn!==null&&(Gh(gn),gn=null),R=!0;if(!R)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=m,a):(S=S!==null,S!==(s!==null&&s.memoizedState!==null)&&S&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(kt.current&1)!==0?qt===0&&(qt=3):Yh())),a.updateQueue!==null&&(a.flags|=4),xr(a),null);case 4:return so(),Lh(s,a),s===null&&fa(a.stateNode.containerInfo),xr(a),null;case 10:return ch(a.type._context),xr(a),null;case 17:return Ar(a.type)&&Ql(),xr(a),null;case 19:if(_t(kt),R=a.memoizedState,R===null)return xr(a),null;if(S=(a.flags&128)!==0,H=R.rendering,H===null)if(S)ka(R,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(H=cc(s),H!==null){for(a.flags|=128,ka(R,!1),S=H.updateQueue,S!==null&&(a.updateQueue=S,a.flags|=4),a.subtreeFlags=0,S=m,m=a.child;m!==null;)R=m,s=S,R.flags&=14680066,H=R.alternate,H===null?(R.childLanes=0,R.lanes=s,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=H.childLanes,R.lanes=H.lanes,R.child=H.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=H.memoizedProps,R.memoizedState=H.memoizedState,R.updateQueue=H.updateQueue,R.type=H.type,s=H.dependencies,R.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return gt(kt,kt.current&1|2),a.child}s=s.sibling}R.tail!==null&&It()>lo&&(a.flags|=128,S=!0,ka(R,!1),a.lanes=4194304)}else{if(!S)if(s=cc(H),s!==null){if(a.flags|=128,S=!0,m=s.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),ka(R,!0),R.tail===null&&R.tailMode==="hidden"&&!H.alternate&&!wt)return xr(a),null}else 2*It()-R.renderingStartTime>lo&&m!==1073741824&&(a.flags|=128,S=!0,ka(R,!1),a.lanes=4194304);R.isBackwards?(H.sibling=a.child,a.child=H):(m=R.last,m!==null?m.sibling=H:a.child=H,R.last=H)}return R.tail!==null?(a=R.tail,R.rendering=a,R.tail=a.sibling,R.renderingStartTime=It(),a.sibling=null,m=kt.current,gt(kt,S?m&1|2:m&1),a):(xr(a),null);case 22:case 23:return qh(),S=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==S&&(a.flags|=8192),S&&(a.mode&1)!==0?(Gr&1073741824)!==0&&(xr(a),a.subtreeFlags&6&&(a.flags|=8192)):xr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function eE(s,a){switch(nh(a),a.tag){case 1:return Ar(a.type)&&Ql(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return so(),_t(Tr),_t(gr),gh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return ph(a),null;case 13:if(_t(kt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));eo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(kt),null;case 4:return so(),null;case 10:return ch(a.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var xc=!1,yr=!1,tE=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function oo(s,a){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(S){Rt(s,a,S)}else m.current=null}function Ih(s,a,m){try{m()}catch(S){Rt(s,a,S)}}var Kv=!1;function rE(s,a){if(qd=Bl,s=k0(),zd(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var A=S.anchorOffset,R=S.focusNode;S=S.focusOffset;try{m.nodeType,R.nodeType}catch{m=null;break e}var H=0,Z=-1,te=-1,fe=0,_e=0,Ce=s,xe=null;t:for(;;){for(var Le;Ce!==m||A!==0&&Ce.nodeType!==3||(Z=H+A),Ce!==R||S!==0&&Ce.nodeType!==3||(te=H+S),Ce.nodeType===3&&(H+=Ce.nodeValue.length),(Le=Ce.firstChild)!==null;)xe=Ce,Ce=Le;for(;;){if(Ce===s)break t;if(xe===m&&++fe===A&&(Z=H),xe===R&&++_e===S&&(te=H),(Le=Ce.nextSibling)!==null)break;Ce=xe,xe=Ce.parentNode}Ce=Le}m=Z===-1||te===-1?null:{start:Z,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(Yd={focusedElem:s,selectionRange:m},Bl=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Be=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var He=Be.memoizedProps,Ot=Be.memoizedState,le=a.stateNode,se=le.getSnapshotBeforeUpdate(a.elementType===a.type?He:vn(a.type,He),Ot);le.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ue=a.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){Rt(a,a.return,Ee)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Be=Kv,Kv=!1,Be}function ja(s,a,m){var S=a.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var A=S=S.next;do{if((A.tag&s)===s){var R=A.destroy;A.destroy=void 0,R!==void 0&&Ih(a,m,R)}A=A.next}while(A!==S)}}function yc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var m=a=a.next;do{if((m.tag&s)===s){var S=m.create;m.destroy=S()}m=m.next}while(m!==a)}}function Oh(s){var a=s.ref;if(a!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof a=="function"?a(s):a.current=s}}function qv(s){var a=s.alternate;a!==null&&(s.alternate=null,qv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Tn],delete a[ma],delete a[Zd],delete a[BN],delete a[FN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yv(s){return s.tag===5||s.tag===3||s.tag===4}function Xv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bh(s,a,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,a?m.nodeType===8?m.parentNode.insertBefore(s,a):m.insertBefore(s,a):(m.nodeType===8?(a=m.parentNode,a.insertBefore(s,m)):(a=m,a.appendChild(s)),m=m._reactRootContainer,m!=null||a.onclick!==null||(a.onclick=Xl));else if(S!==4&&(s=s.child,s!==null))for(Bh(s,a,m),s=s.sibling;s!==null;)Bh(s,a,m),s=s.sibling}function Fh(s,a,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,a?m.insertBefore(s,a):m.appendChild(s);else if(S!==4&&(s=s.child,s!==null))for(Fh(s,a,m),s=s.sibling;s!==null;)Fh(s,a,m),s=s.sibling}var cr=null,xn=!1;function Is(s,a,m){for(m=m.child;m!==null;)Jv(s,a,m),m=m.sibling}function Jv(s,a,m){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Rl,m)}catch{}switch(m.tag){case 5:yr||oo(m,a);case 6:var S=cr,A=xn;cr=null,Is(s,a,m),cr=S,xn=A,cr!==null&&(xn?(s=cr,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):cr.removeChild(m.stateNode));break;case 18:cr!==null&&(xn?(s=cr,m=m.stateNode,s.nodeType===8?Qd(s.parentNode,m):s.nodeType===1&&Qd(s,m),sa(s)):Qd(cr,m.stateNode));break;case 4:S=cr,A=xn,cr=m.stateNode.containerInfo,xn=!0,Is(s,a,m),cr=S,xn=A;break;case 0:case 11:case 14:case 15:if(!yr&&(S=m.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){A=S=S.next;do{var R=A,H=R.destroy;R=R.tag,H!==void 0&&((R&2)!==0||(R&4)!==0)&&Ih(m,a,H),A=A.next}while(A!==S)}Is(s,a,m);break;case 1:if(!yr&&(oo(m,a),S=m.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=m.memoizedProps,S.state=m.memoizedState,S.componentWillUnmount()}catch(Z){Rt(m,a,Z)}Is(s,a,m);break;case 21:Is(s,a,m);break;case 22:m.mode&1?(yr=(S=yr)||m.memoizedState!==null,Is(s,a,m),yr=S):Is(s,a,m);break;default:Is(s,a,m)}}function Qv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new tE),a.forEach(function(S){var A=dE.bind(null,s,S);m.has(S)||(m.add(S),S.then(A,A))})}}function yn(s,a){var m=a.deletions;if(m!==null)for(var S=0;S<m.length;S++){var A=m[S];try{var R=s,H=a,Z=H;e:for(;Z!==null;){switch(Z.tag){case 5:cr=Z.stateNode,xn=!1;break e;case 3:cr=Z.stateNode.containerInfo,xn=!0;break e;case 4:cr=Z.stateNode.containerInfo,xn=!0;break e}Z=Z.return}if(cr===null)throw Error(r(160));Jv(R,H,A),cr=null,xn=!1;var te=A.alternate;te!==null&&(te.return=null),A.return=null}catch(fe){Rt(A,a,fe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Zv(a,s),a=a.sibling}function Zv(s,a){var m=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yn(a,s),Mn(s),S&4){try{ja(3,s,s.return),yc(3,s)}catch(He){Rt(s,s.return,He)}try{ja(5,s,s.return)}catch(He){Rt(s,s.return,He)}}break;case 1:yn(a,s),Mn(s),S&512&&m!==null&&oo(m,m.return);break;case 5:if(yn(a,s),Mn(s),S&512&&m!==null&&oo(m,m.return),s.flags&32){var A=s.stateNode;try{pe(A,"")}catch(He){Rt(s,s.return,He)}}if(S&4&&(A=s.stateNode,A!=null)){var R=s.memoizedProps,H=m!==null?m.memoizedProps:R,Z=s.type,te=s.updateQueue;if(s.updateQueue=null,te!==null)try{Z==="input"&&R.type==="radio"&&R.name!=null&&Me(A,R),Pr(Z,H);var fe=Pr(Z,R);for(H=0;H<te.length;H+=2){var _e=te[H],Ce=te[H+1];_e==="style"?or(A,Ce):_e==="dangerouslySetInnerHTML"?J(A,Ce):_e==="children"?pe(A,Ce):b(A,_e,Ce,fe)}switch(Z){case"input":ke(A,R);break;case"textarea":ir(A,R);break;case"select":var xe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!R.multiple;var Le=R.value;Le!=null?Ye(A,!!R.multiple,Le,!1):xe!==!!R.multiple&&(R.defaultValue!=null?Ye(A,!!R.multiple,R.defaultValue,!0):Ye(A,!!R.multiple,R.multiple?[]:"",!1))}A[ma]=R}catch(He){Rt(s,s.return,He)}}break;case 6:if(yn(a,s),Mn(s),S&4){if(s.stateNode===null)throw Error(r(162));A=s.stateNode,R=s.memoizedProps;try{A.nodeValue=R}catch(He){Rt(s,s.return,He)}}break;case 3:if(yn(a,s),Mn(s),S&4&&m!==null&&m.memoizedState.isDehydrated)try{sa(a.containerInfo)}catch(He){Rt(s,s.return,He)}break;case 4:yn(a,s),Mn(s);break;case 13:yn(a,s),Mn(s),A=s.child,A.flags&8192&&(R=A.memoizedState!==null,A.stateNode.isHidden=R,!R||A.alternate!==null&&A.alternate.memoizedState!==null||($h=It())),S&4&&Qv(s);break;case 22:if(_e=m!==null&&m.memoizedState!==null,s.mode&1?(yr=(fe=yr)||_e,yn(a,s),yr=fe):yn(a,s),Mn(s),S&8192){if(fe=s.memoizedState!==null,(s.stateNode.isHidden=fe)&&!_e&&(s.mode&1)!==0)for(Oe=s,_e=s.child;_e!==null;){for(Ce=Oe=_e;Oe!==null;){switch(xe=Oe,Le=xe.child,xe.tag){case 0:case 11:case 14:case 15:ja(4,xe,xe.return);break;case 1:oo(xe,xe.return);var Be=xe.stateNode;if(typeof Be.componentWillUnmount=="function"){S=xe,m=xe.return;try{a=S,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(He){Rt(S,m,He)}}break;case 5:oo(xe,xe.return);break;case 22:if(xe.memoizedState!==null){rx(Ce);continue}}Le!==null?(Le.return=xe,Oe=Le):rx(Ce)}_e=_e.sibling}e:for(_e=null,Ce=s;;){if(Ce.tag===5){if(_e===null){_e=Ce;try{A=Ce.stateNode,fe?(R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Z=Ce.stateNode,te=Ce.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null,Z.style.display=at("display",H))}catch(He){Rt(s,s.return,He)}}}else if(Ce.tag===6){if(_e===null)try{Ce.stateNode.nodeValue=fe?"":Ce.memoizedProps}catch(He){Rt(s,s.return,He)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===s)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===s)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===s)break e;_e===Ce&&(_e=null),Ce=Ce.return}_e===Ce&&(_e=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:yn(a,s),Mn(s),S&4&&Qv(s);break;case 21:break;default:yn(a,s),Mn(s)}}function Mn(s){var a=s.flags;if(a&2){try{e:{for(var m=s.return;m!==null;){if(Yv(m)){var S=m;break e}m=m.return}throw Error(r(160))}switch(S.tag){case 5:var A=S.stateNode;S.flags&32&&(pe(A,""),S.flags&=-33);var R=Xv(s);Fh(s,R,A);break;case 3:case 4:var H=S.stateNode.containerInfo,Z=Xv(s);Bh(s,Z,H);break;default:throw Error(r(161))}}catch(te){Rt(s,s.return,te)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function nE(s,a,m){Oe=s,ex(s)}function ex(s,a,m){for(var S=(s.mode&1)!==0;Oe!==null;){var A=Oe,R=A.child;if(A.tag===22&&S){var H=A.memoizedState!==null||xc;if(!H){var Z=A.alternate,te=Z!==null&&Z.memoizedState!==null||yr;Z=xc;var fe=yr;if(xc=H,(yr=te)&&!fe)for(Oe=A;Oe!==null;)H=Oe,te=H.child,H.tag===22&&H.memoizedState!==null?nx(A):te!==null?(te.return=H,Oe=te):nx(A);for(;R!==null;)Oe=R,ex(R),R=R.sibling;Oe=A,xc=Z,yr=fe}tx(s)}else(A.subtreeFlags&8772)!==0&&R!==null?(R.return=A,Oe=R):tx(s)}}function tx(s){for(;Oe!==null;){var a=Oe;if((a.flags&8772)!==0){var m=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:yr||yc(5,a);break;case 1:var S=a.stateNode;if(a.flags&4&&!yr)if(m===null)S.componentDidMount();else{var A=a.elementType===a.type?m.memoizedProps:vn(a.type,m.memoizedProps);S.componentDidUpdate(A,m.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var R=a.updateQueue;R!==null&&rv(a,R,S);break;case 3:var H=a.updateQueue;if(H!==null){if(m=null,a.child!==null)switch(a.child.tag){case 5:m=a.child.stateNode;break;case 1:m=a.child.stateNode}rv(a,H,m)}break;case 5:var Z=a.stateNode;if(m===null&&a.flags&4){m=Z;var te=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&m.focus();break;case"img":te.src&&(m.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var fe=a.alternate;if(fe!==null){var _e=fe.memoizedState;if(_e!==null){var Ce=_e.dehydrated;Ce!==null&&sa(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yr||a.flags&512&&Oh(a)}catch(xe){Rt(a,a.return,xe)}}if(a===s){Oe=null;break}if(m=a.sibling,m!==null){m.return=a.return,Oe=m;break}Oe=a.return}}function rx(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var m=a.sibling;if(m!==null){m.return=a.return,Oe=m;break}Oe=a.return}}function nx(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var m=a.return;try{yc(4,a)}catch(te){Rt(a,m,te)}break;case 1:var S=a.stateNode;if(typeof S.componentDidMount=="function"){var A=a.return;try{S.componentDidMount()}catch(te){Rt(a,A,te)}}var R=a.return;try{Oh(a)}catch(te){Rt(a,R,te)}break;case 5:var H=a.return;try{Oh(a)}catch(te){Rt(a,H,te)}}}catch(te){Rt(a,a.return,te)}if(a===s){Oe=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,Oe=Z;break}Oe=a.return}}var sE=Math.ceil,_c=j.ReactCurrentDispatcher,zh=j.ReactCurrentOwner,on=j.ReactCurrentBatchConfig,lt=0,er=null,$t=null,ur=0,Gr=0,ao=As(0),qt=0,Na=null,xi=0,bc=0,Hh=0,Ea=null,Mr=null,$h=0,lo=1/0,is=null,wc=!1,Vh=null,Os=null,Sc=!1,Bs=null,Cc=0,Pa=0,Uh=null,kc=-1,jc=0;function Nr(){return(lt&6)!==0?It():kc!==-1?kc:kc=It()}function Fs(s){return(s.mode&1)===0?1:(lt&2)!==0&&ur!==0?ur&-ur:HN.transition!==null?(jc===0&&(jc=Xg()),jc):(s=ft,s!==0||(s=window.event,s=s===void 0?16:i0(s.type)),s)}function _n(s,a,m,S){if(50<Pa)throw Pa=0,Uh=null,Error(r(185));Zo(s,m,S),((lt&2)===0||s!==er)&&(s===er&&((lt&2)===0&&(bc|=m),qt===4&&zs(s,ur)),Dr(s,S),m===1&&lt===0&&(a.mode&1)===0&&(lo=It()+500,ec&&Ms()))}function Dr(s,a){var m=s.callbackNode;H2(s,a);var S=Ll(s,s===er?ur:0);if(S===0)m!==null&&Kg(m),s.callbackNode=null,s.callbackPriority=0;else if(a=S&-S,s.callbackPriority!==a){if(m!=null&&Kg(m),a===1)s.tag===0?zN(ix.bind(null,s)):U0(ix.bind(null,s)),IN(function(){(lt&6)===0&&Ms()}),m=null;else{switch(Jg(S)){case 1:m=Sd;break;case 4:m=qg;break;case 16:m=Al;break;case 536870912:m=Yg;break;default:m=Al}m=fx(m,sx.bind(null,s))}s.callbackPriority=a,s.callbackNode=m}}function sx(s,a){if(kc=-1,jc=0,(lt&6)!==0)throw Error(r(327));var m=s.callbackNode;if(co()&&s.callbackNode!==m)return null;var S=Ll(s,s===er?ur:0);if(S===0)return null;if((S&30)!==0||(S&s.expiredLanes)!==0||a)a=Nc(s,S);else{a=S;var A=lt;lt|=2;var R=ax();(er!==s||ur!==a)&&(is=null,lo=It()+500,_i(s,a));do try{aE();break}catch(Z){ox(s,Z)}while(!0);lh(),_c.current=R,lt=A,$t!==null?a=0:(er=null,ur=0,a=qt)}if(a!==0){if(a===2&&(A=Cd(s),A!==0&&(S=A,a=Wh(s,A))),a===1)throw m=Na,_i(s,0),zs(s,S),Dr(s,It()),m;if(a===6)zs(s,S);else{if(A=s.current.alternate,(S&30)===0&&!iE(A)&&(a=Nc(s,S),a===2&&(R=Cd(s),R!==0&&(S=R,a=Wh(s,R))),a===1))throw m=Na,_i(s,0),zs(s,S),Dr(s,It()),m;switch(s.finishedWork=A,s.finishedLanes=S,a){case 0:case 1:throw Error(r(345));case 2:bi(s,Mr,is);break;case 3:if(zs(s,S),(S&130023424)===S&&(a=$h+500-It(),10<a)){if(Ll(s,0)!==0)break;if(A=s.suspendedLanes,(A&S)!==S){Nr(),s.pingedLanes|=s.suspendedLanes&A;break}s.timeoutHandle=Jd(bi.bind(null,s,Mr,is),a);break}bi(s,Mr,is);break;case 4:if(zs(s,S),(S&4194240)===S)break;for(a=s.eventTimes,A=-1;0<S;){var H=31-pn(S);R=1<<H,H=a[H],H>A&&(A=H),S&=~R}if(S=A,S=It()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*sE(S/1960))-S,10<S){s.timeoutHandle=Jd(bi.bind(null,s,Mr,is),S);break}bi(s,Mr,is);break;case 5:bi(s,Mr,is);break;default:throw Error(r(329))}}}return Dr(s,It()),s.callbackNode===m?sx.bind(null,s):null}function Wh(s,a){var m=Ea;return s.current.memoizedState.isDehydrated&&(_i(s,a).flags|=256),s=Nc(s,a),s!==2&&(a=Mr,Mr=m,a!==null&&Gh(a)),s}function Gh(s){Mr===null?Mr=s:Mr.push.apply(Mr,s)}function iE(s){for(var a=s;;){if(a.flags&16384){var m=a.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var S=0;S<m.length;S++){var A=m[S],R=A.getSnapshot;A=A.value;try{if(!mn(R(),A))return!1}catch{return!1}}}if(m=a.child,a.subtreeFlags&16384&&m!==null)m.return=a,a=m;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(s,a){for(a&=~Hh,a&=~bc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var m=31-pn(a),S=1<<m;s[m]=-1,a&=~S}}function ix(s){if((lt&6)!==0)throw Error(r(327));co();var a=Ll(s,0);if((a&1)===0)return Dr(s,It()),null;var m=Nc(s,a);if(s.tag!==0&&m===2){var S=Cd(s);S!==0&&(a=S,m=Wh(s,S))}if(m===1)throw m=Na,_i(s,0),zs(s,a),Dr(s,It()),m;if(m===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,bi(s,Mr,is),Dr(s,It()),null}function Kh(s,a){var m=lt;lt|=1;try{return s(a)}finally{lt=m,lt===0&&(lo=It()+500,ec&&Ms())}}function yi(s){Bs!==null&&Bs.tag===0&&(lt&6)===0&&co();var a=lt;lt|=1;var m=on.transition,S=ft;try{if(on.transition=null,ft=1,s)return s()}finally{ft=S,on.transition=m,lt=a,(lt&6)===0&&Ms()}}function qh(){Gr=ao.current,_t(ao)}function _i(s,a){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,LN(m)),$t!==null)for(m=$t.return;m!==null;){var S=m;switch(nh(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Ql();break;case 3:so(),_t(Tr),_t(gr),gh();break;case 5:ph(S);break;case 4:so();break;case 13:_t(kt);break;case 19:_t(kt);break;case 10:ch(S.type._context);break;case 22:case 23:qh()}m=m.return}if(er=s,$t=s=Hs(s.current,null),ur=Gr=a,qt=0,Na=null,Hh=bc=xi=0,Mr=Ea=null,mi!==null){for(a=0;a<mi.length;a++)if(m=mi[a],S=m.interleaved,S!==null){m.interleaved=null;var A=S.next,R=m.pending;if(R!==null){var H=R.next;R.next=A,S.next=H}m.pending=S}mi=null}return s}function ox(s,a){do{var m=$t;try{if(lh(),uc.current=pc,dc){for(var S=jt.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}dc=!1}if(vi=0,Zt=Kt=jt=null,ba=!1,wa=0,zh.current=null,m===null||m.return===null){qt=1,Na=a,$t=null;break}e:{var R=s,H=m.return,Z=m,te=a;if(a=ur,Z.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var fe=te,_e=Z,Ce=_e.tag;if((_e.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var xe=_e.alternate;xe?(_e.updateQueue=xe.updateQueue,_e.memoizedState=xe.memoizedState,_e.lanes=xe.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Le=Av(H);if(Le!==null){Le.flags&=-257,Rv(Le,H,Z,R,a),Le.mode&1&&Tv(R,fe,a),a=Le,te=fe;var Be=a.updateQueue;if(Be===null){var He=new Set;He.add(te),a.updateQueue=He}else Be.add(te);break e}else{if((a&1)===0){Tv(R,fe,a),Yh();break e}te=Error(r(426))}}else if(wt&&Z.mode&1){var Ot=Av(H);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),Rv(Ot,H,Z,R,a),oh(io(te,Z));break e}}R=te=io(te,Z),qt!==4&&(qt=2),Ea===null?Ea=[R]:Ea.push(R),R=H;do{switch(R.tag){case 3:R.flags|=65536,a&=-a,R.lanes|=a;var le=Ev(R,te,a);tv(R,le);break e;case 1:Z=te;var se=R.type,ue=R.stateNode;if((R.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Os===null||!Os.has(ue)))){R.flags|=65536,a&=-a,R.lanes|=a;var Ee=Pv(R,Z,a);tv(R,Ee);break e}}R=R.return}while(R!==null)}cx(m)}catch($e){a=$e,$t===m&&m!==null&&($t=m=m.return);continue}break}while(!0)}function ax(){var s=_c.current;return _c.current=pc,s===null?pc:s}function Yh(){(qt===0||qt===3||qt===2)&&(qt=4),er===null||(xi&268435455)===0&&(bc&268435455)===0||zs(er,ur)}function Nc(s,a){var m=lt;lt|=2;var S=ax();(er!==s||ur!==a)&&(is=null,_i(s,a));do try{oE();break}catch(A){ox(s,A)}while(!0);if(lh(),lt=m,_c.current=S,$t!==null)throw Error(r(261));return er=null,ur=0,qt}function oE(){for(;$t!==null;)lx($t)}function aE(){for(;$t!==null&&!R2();)lx($t)}function lx(s){var a=hx(s.alternate,s,Gr);s.memoizedProps=s.pendingProps,a===null?cx(s):$t=a,zh.current=null}function cx(s){var a=s;do{var m=a.alternate;if(s=a.return,(a.flags&32768)===0){if(m=ZN(m,a,Gr),m!==null){$t=m;return}}else{if(m=eE(m,a),m!==null){m.flags&=32767,$t=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{qt=6,$t=null;return}}if(a=a.sibling,a!==null){$t=a;return}$t=a=s}while(a!==null);qt===0&&(qt=5)}function bi(s,a,m){var S=ft,A=on.transition;try{on.transition=null,ft=1,lE(s,a,m,S)}finally{on.transition=A,ft=S}return null}function lE(s,a,m,S){do co();while(Bs!==null);if((lt&6)!==0)throw Error(r(327));m=s.finishedWork;var A=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var R=m.lanes|m.childLanes;if($2(s,R),s===er&&($t=er=null,ur=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Sc||(Sc=!0,fx(Al,function(){return co(),null})),R=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||R){R=on.transition,on.transition=null;var H=ft;ft=1;var Z=lt;lt|=4,zh.current=null,rE(s,m),Zv(m,s),EN(Yd),Bl=!!qd,Yd=qd=null,s.current=m,nE(m),M2(),lt=Z,ft=H,on.transition=R}else s.current=m;if(Sc&&(Sc=!1,Bs=s,Cc=A),R=s.pendingLanes,R===0&&(Os=null),I2(m.stateNode),Dr(s,It()),a!==null)for(S=s.onRecoverableError,m=0;m<a.length;m++)A=a[m],S(A.value,{componentStack:A.stack,digest:A.digest});if(wc)throw wc=!1,s=Vh,Vh=null,s;return(Cc&1)!==0&&s.tag!==0&&co(),R=s.pendingLanes,(R&1)!==0?s===Uh?Pa++:(Pa=0,Uh=s):Pa=0,Ms(),null}function co(){if(Bs!==null){var s=Jg(Cc),a=on.transition,m=ft;try{if(on.transition=null,ft=16>s?16:s,Bs===null)var S=!1;else{if(s=Bs,Bs=null,Cc=0,(lt&6)!==0)throw Error(r(331));var A=lt;for(lt|=4,Oe=s.current;Oe!==null;){var R=Oe,H=R.child;if((Oe.flags&16)!==0){var Z=R.deletions;if(Z!==null){for(var te=0;te<Z.length;te++){var fe=Z[te];for(Oe=fe;Oe!==null;){var _e=Oe;switch(_e.tag){case 0:case 11:case 15:ja(8,_e,R)}var Ce=_e.child;if(Ce!==null)Ce.return=_e,Oe=Ce;else for(;Oe!==null;){_e=Oe;var xe=_e.sibling,Le=_e.return;if(qv(_e),_e===fe){Oe=null;break}if(xe!==null){xe.return=Le,Oe=xe;break}Oe=Le}}}var Be=R.alternate;if(Be!==null){var He=Be.child;if(He!==null){Be.child=null;do{var Ot=He.sibling;He.sibling=null,He=Ot}while(He!==null)}}Oe=R}}if((R.subtreeFlags&2064)!==0&&H!==null)H.return=R,Oe=H;else e:for(;Oe!==null;){if(R=Oe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:ja(9,R,R.return)}var le=R.sibling;if(le!==null){le.return=R.return,Oe=le;break e}Oe=R.return}}var se=s.current;for(Oe=se;Oe!==null;){H=Oe;var ue=H.child;if((H.subtreeFlags&2064)!==0&&ue!==null)ue.return=H,Oe=ue;else e:for(H=se;Oe!==null;){if(Z=Oe,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:yc(9,Z)}}catch($e){Rt(Z,Z.return,$e)}if(Z===H){Oe=null;break e}var Ee=Z.sibling;if(Ee!==null){Ee.return=Z.return,Oe=Ee;break e}Oe=Z.return}}if(lt=A,Ms(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Rl,s)}catch{}S=!0}return S}finally{ft=m,on.transition=a}}return!1}function ux(s,a,m){a=io(m,a),a=Ev(s,a,1),s=Ls(s,a,1),a=Nr(),s!==null&&(Zo(s,1,a),Dr(s,a))}function Rt(s,a,m){if(s.tag===3)ux(s,s,m);else for(;a!==null;){if(a.tag===3){ux(a,s,m);break}else if(a.tag===1){var S=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Os===null||!Os.has(S))){s=io(m,s),s=Pv(a,s,1),a=Ls(a,s,1),s=Nr(),a!==null&&(Zo(a,1,s),Dr(a,s));break}}a=a.return}}function cE(s,a,m){var S=s.pingCache;S!==null&&S.delete(a),a=Nr(),s.pingedLanes|=s.suspendedLanes&m,er===s&&(ur&m)===m&&(qt===4||qt===3&&(ur&130023424)===ur&&500>It()-$h?_i(s,0):Hh|=m),Dr(s,a)}function dx(s,a){a===0&&((s.mode&1)===0?a=1:(a=Dl,Dl<<=1,(Dl&130023424)===0&&(Dl=4194304)));var m=Nr();s=rs(s,a),s!==null&&(Zo(s,a,m),Dr(s,m))}function uE(s){var a=s.memoizedState,m=0;a!==null&&(m=a.retryLane),dx(s,m)}function dE(s,a){var m=0;switch(s.tag){case 13:var S=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:S=s.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(a),dx(s,m)}var hx;hx=function(s,a,m){if(s!==null)if(s.memoizedProps!==a.pendingProps||Tr.current)Rr=!0;else{if((s.lanes&m)===0&&(a.flags&128)===0)return Rr=!1,QN(s,a,m);Rr=(s.flags&131072)!==0}else Rr=!1,wt&&(a.flags&1048576)!==0&&W0(a,rc,a.index);switch(a.lanes=0,a.tag){case 2:var S=a.type;vc(s,a),s=a.pendingProps;var A=Ji(a,gr.current);no(a,m),A=yh(null,a,S,s,A,m);var R=_h();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ar(S)?(R=!0,Zl(a)):R=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,hh(a),A.updater=mc,a.stateNode=A,A._reactInternals=a,jh(a,S,s,m),a=Th(null,a,S,!0,R,m)):(a.tag=0,wt&&R&&rh(a),jr(null,a,A,m),a=a.child),a;case 16:S=a.elementType;e:{switch(vc(s,a),s=a.pendingProps,A=S._init,S=A(S._payload),a.type=S,A=a.tag=fE(S),s=vn(S,s),A){case 0:a=Ph(null,a,S,s,m);break e;case 1:a=Bv(null,a,S,s,m);break e;case 11:a=Mv(null,a,S,s,m);break e;case 14:a=Dv(null,a,S,vn(S.type,s),m);break e}throw Error(r(306,S,""))}return a;case 0:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:vn(S,A),Ph(s,a,S,A,m);case 1:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:vn(S,A),Bv(s,a,S,A,m);case 3:e:{if(Fv(a),s===null)throw Error(r(387));S=a.pendingProps,R=a.memoizedState,A=R.element,ev(s,a),lc(a,S,null,m);var H=a.memoizedState;if(S=H.element,R.isDehydrated)if(R={element:S,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},a.updateQueue.baseState=R,a.memoizedState=R,a.flags&256){A=io(Error(r(423)),a),a=zv(s,a,S,m,A);break e}else if(S!==A){A=io(Error(r(424)),a),a=zv(s,a,S,m,A);break e}else for(Wr=Ts(a.stateNode.containerInfo.firstChild),Ur=a,wt=!0,gn=null,m=Q0(a,null,S,m),a.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(eo(),S===A){a=ss(s,a,m);break e}jr(s,a,S,m)}a=a.child}return a;case 5:return nv(a),s===null&&ih(a),S=a.type,A=a.pendingProps,R=s!==null?s.memoizedProps:null,H=A.children,Xd(S,A)?H=null:R!==null&&Xd(S,R)&&(a.flags|=32),Ov(s,a),jr(s,a,H,m),a.child;case 6:return s===null&&ih(a),null;case 13:return Hv(s,a,m);case 4:return fh(a,a.stateNode.containerInfo),S=a.pendingProps,s===null?a.child=to(a,null,S,m):jr(s,a,S,m),a.child;case 11:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:vn(S,A),Mv(s,a,S,A,m);case 7:return jr(s,a,a.pendingProps,m),a.child;case 8:return jr(s,a,a.pendingProps.children,m),a.child;case 12:return jr(s,a,a.pendingProps.children,m),a.child;case 10:e:{if(S=a.type._context,A=a.pendingProps,R=a.memoizedProps,H=A.value,gt(ic,S._currentValue),S._currentValue=H,R!==null)if(mn(R.value,H)){if(R.children===A.children&&!Tr.current){a=ss(s,a,m);break e}}else for(R=a.child,R!==null&&(R.return=a);R!==null;){var Z=R.dependencies;if(Z!==null){H=R.child;for(var te=Z.firstContext;te!==null;){if(te.context===S){if(R.tag===1){te=ns(-1,m&-m),te.tag=2;var fe=R.updateQueue;if(fe!==null){fe=fe.shared;var _e=fe.pending;_e===null?te.next=te:(te.next=_e.next,_e.next=te),fe.pending=te}}R.lanes|=m,te=R.alternate,te!==null&&(te.lanes|=m),uh(R.return,m,a),Z.lanes|=m;break}te=te.next}}else if(R.tag===10)H=R.type===a.type?null:R.child;else if(R.tag===18){if(H=R.return,H===null)throw Error(r(341));H.lanes|=m,Z=H.alternate,Z!==null&&(Z.lanes|=m),uh(H,m,a),H=R.sibling}else H=R.child;if(H!==null)H.return=R;else for(H=R;H!==null;){if(H===a){H=null;break}if(R=H.sibling,R!==null){R.return=H.return,H=R;break}H=H.return}R=H}jr(s,a,A.children,m),a=a.child}return a;case 9:return A=a.type,S=a.pendingProps.children,no(a,m),A=nn(A),S=S(A),a.flags|=1,jr(s,a,S,m),a.child;case 14:return S=a.type,A=vn(S,a.pendingProps),A=vn(S.type,A),Dv(s,a,S,A,m);case 15:return Lv(s,a,a.type,a.pendingProps,m);case 17:return S=a.type,A=a.pendingProps,A=a.elementType===S?A:vn(S,A),vc(s,a),a.tag=1,Ar(S)?(s=!0,Zl(a)):s=!1,no(a,m),jv(a,S,A),jh(a,S,A,m),Th(null,a,S,!0,s,m);case 19:return Vv(s,a,m);case 22:return Iv(s,a,m)}throw Error(r(156,a.tag))};function fx(s,a){return Gg(s,a)}function hE(s,a,m,S){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(s,a,m,S){return new hE(s,a,m,S)}function Xh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fE(s){if(typeof s=="function")return Xh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===G)return 14}return 2}function Hs(s,a){var m=s.alternate;return m===null?(m=an(s.tag,a,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=a,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,a=s.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function Ec(s,a,m,S,A,R){var H=2;if(S=s,typeof s=="function")Xh(s)&&(H=1);else if(typeof s=="string")H=5;else e:switch(s){case E:return wi(m.children,A,R,a);case N:H=8,A|=8;break;case L:return s=an(12,m,a,A|2),s.elementType=L,s.lanes=R,s;case U:return s=an(13,m,a,A),s.elementType=U,s.lanes=R,s;case X:return s=an(19,m,a,A),s.elementType=X,s.lanes=R,s;case K:return Pc(m,A,R,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:H=10;break e;case B:H=9;break e;case V:H=11;break e;case G:H=14;break e;case q:H=16,S=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=an(H,m,a,A),a.elementType=s,a.type=S,a.lanes=R,a}function wi(s,a,m,S){return s=an(7,s,S,a),s.lanes=m,s}function Pc(s,a,m,S){return s=an(22,s,S,a),s.elementType=K,s.lanes=m,s.stateNode={isHidden:!1},s}function Jh(s,a,m){return s=an(6,s,null,a),s.lanes=m,s}function Qh(s,a,m){return a=an(4,s.children!==null?s.children:[],s.key,a),a.lanes=m,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function pE(s,a,m,S,A){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=S,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Zh(s,a,m,S,A,R,H,Z,te){return s=new pE(s,a,m,Z,te),a===1?(a=1,R===!0&&(a|=8)):a=0,R=an(3,null,null,a),s.current=R,R.stateNode=s,R.memoizedState={element:S,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(R),s}function mE(s,a,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:S==null?null:""+S,children:s,containerInfo:a,implementation:m}}function px(s){if(!s)return Rs;s=s._reactInternals;e:{if(ui(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var m=s.type;if(Ar(m))return $0(s,m,a)}return a}function mx(s,a,m,S,A,R,H,Z,te){return s=Zh(m,S,!0,s,A,R,H,Z,te),s.context=px(null),m=s.current,S=Nr(),A=Fs(m),R=ns(S,A),R.callback=a??null,Ls(m,R,A),s.current.lanes=A,Zo(s,A,S),Dr(s,S),s}function Tc(s,a,m,S){var A=a.current,R=Nr(),H=Fs(A);return m=px(m),a.context===null?a.context=m:a.pendingContext=m,a=ns(R,H),a.payload={element:s},S=S===void 0?null:S,S!==null&&(a.callback=S),s=Ls(A,a,H),s!==null&&(_n(s,A,H,R),ac(s,A,H)),H}function Ac(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function gx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<a?m:a}}function ef(s,a){gx(s,a),(s=s.alternate)&&gx(s,a)}function gE(){return null}var vx=typeof reportError=="function"?reportError:function(s){console.error(s)};function tf(s){this._internalRoot=s}Rc.prototype.render=tf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Tc(s,a,null,null)},Rc.prototype.unmount=tf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yi(function(){Tc(null,s,null,null)}),a[Qn]=null}};function Rc(s){this._internalRoot=s}Rc.prototype.unstable_scheduleHydration=function(s){if(s){var a=e0();s={blockedOn:null,target:s,priority:a};for(var m=0;m<Ns.length&&a!==0&&a<Ns[m].priority;m++);Ns.splice(m,0,s),m===0&&n0(s)}};function rf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Mc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function xx(){}function vE(s,a,m,S,A){if(A){if(typeof S=="function"){var R=S;S=function(){var fe=Ac(H);R.call(fe)}}var H=mx(a,S,s,0,null,!1,!1,"",xx);return s._reactRootContainer=H,s[Qn]=H.current,fa(s.nodeType===8?s.parentNode:s),yi(),H}for(;A=s.lastChild;)s.removeChild(A);if(typeof S=="function"){var Z=S;S=function(){var fe=Ac(te);Z.call(fe)}}var te=Zh(s,0,!1,null,null,!1,!1,"",xx);return s._reactRootContainer=te,s[Qn]=te.current,fa(s.nodeType===8?s.parentNode:s),yi(function(){Tc(a,te,m,S)}),te}function Dc(s,a,m,S,A){var R=m._reactRootContainer;if(R){var H=R;if(typeof A=="function"){var Z=A;A=function(){var te=Ac(H);Z.call(te)}}Tc(a,H,s,A)}else H=vE(m,a,s,A,S);return Ac(H)}Qg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var m=Qo(a.pendingLanes);m!==0&&(jd(a,m|1),Dr(a,It()),(lt&6)===0&&(lo=It()+500,Ms()))}break;case 13:yi(function(){var S=rs(s,1);if(S!==null){var A=Nr();_n(S,s,1,A)}}),ef(s,1)}},Nd=function(s){if(s.tag===13){var a=rs(s,134217728);if(a!==null){var m=Nr();_n(a,s,134217728,m)}ef(s,134217728)}},Zg=function(s){if(s.tag===13){var a=Fs(s),m=rs(s,a);if(m!==null){var S=Nr();_n(m,s,a,S)}ef(s,a)}},e0=function(){return ft},t0=function(s,a){var m=ft;try{return ft=s,a()}finally{ft=m}},Yo=function(s,a,m){switch(a){case"input":if(ke(s,m),a=m.name,m.type==="radio"&&a!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<m.length;a++){var S=m[a];if(S!==s&&S.form===s.form){var A=Jl(S);if(!A)throw Error(r(90));ie(S),ke(S,A)}}}break;case"textarea":ir(s,m);break;case"select":a=m.value,a!=null&&Ye(s,!!m.multiple,a,!1)}},Gt=Kh,mr=yi;var xE={usingClientEntryPoint:!1,Events:[ga,Yi,Jl,Qe,Lt,Kh]},Ta={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yE={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ug(s),s===null?null:s.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Rl=Lc.inject(yE),Pn=Lc}catch{}}return Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE,Lr.createPortal=function(s,a){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(a))throw Error(r(200));return mE(s,a,null,m)},Lr.createRoot=function(s,a){if(!rf(s))throw Error(r(299));var m=!1,S="",A=vx;return a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=Zh(s,1,!1,null,null,m,!1,S,A),s[Qn]=a.current,fa(s.nodeType===8?s.parentNode:s),new tf(a)},Lr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Ug(a),s=s===null?null:s.stateNode,s},Lr.flushSync=function(s){return yi(s)},Lr.hydrate=function(s,a,m){if(!Mc(a))throw Error(r(200));return Dc(null,s,a,!0,m)},Lr.hydrateRoot=function(s,a,m){if(!rf(s))throw Error(r(405));var S=m!=null&&m.hydratedSources||null,A=!1,R="",H=vx;if(m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onRecoverableError!==void 0&&(H=m.onRecoverableError)),a=mx(a,null,s,1,m??null,A,!1,R,H),s[Qn]=a.current,fa(s),S)for(s=0;s<S.length;s++)m=S[s],A=m._getVersion,A=A(m._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[m,A]:a.mutableSourceEagerHydrationData.push(m,A);return new Rc(a)},Lr.render=function(s,a,m){if(!Mc(a))throw Error(r(200));return Dc(null,s,a,!1,m)},Lr.unmountComponentAtNode=function(s){if(!Mc(s))throw Error(r(40));return s._reactRootContainer?(yi(function(){Dc(null,null,s,!1,function(){s._reactRootContainer=null,s[Qn]=null})}),!0):!1},Lr.unstable_batchedUpdates=Kh,Lr.unstable_renderSubtreeIntoContainer=function(s,a,m,S){if(!Mc(m))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Dc(s,a,m,!1,S)},Lr.version="18.3.1-next-f1338f8080-20240426",Lr}var jx;function jb(){if(jx)return of.exports;jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),of.exports=NE(),of.exports}var Nx;function EE(){if(Nx)return Ic;Nx=1;var e=jb();return Ic.createRoot=e.createRoot,Ic.hydrateRoot=e.hydrateRoot,Ic}var PE=EE();const TE=ul(PE);var dl=jb();const Nb=ul(dl);function AE(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const RE=e=>{switch(e){case"success":return LE;case"info":return OE;case"warning":return IE;case"error":return BE;default:return null}},ME=Array(12).fill(0),DE=({visible:e,className:t})=>Pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Pe.createElement("div",{className:"sonner-spinner"},ME.map((r,n)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),LE=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IE=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OE=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BE=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FE=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zE=()=>{const[e,t]=Pe.useState(document.hidden);return Pe.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Qf=1;class HE{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,d=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Qf++,c=this.toasts.find(u=>u.id===d),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),c?this.toasts=this.toasts.map(u=>u.id===d?(this.publish({...u,...t,id:d,title:n}),{...u,...t,id:d,dismissible:l,title:n}):u):this.addToast({title:n,...o,dismissible:l,id:d}),d},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let d=n!==void 0,c;const l=o.then(async f=>{if(c=["resolve",f],Pe.isValidElement(f))d=!1,this.create({id:n,type:"default",message:f});else if(VE(f)&&!f.ok){d=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,k=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...k})}else if(f instanceof Error){d=!1;const h=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,k=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...k})}else if(r.success!==void 0){d=!1;const h=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,k=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:v,...k})}}).catch(async f=>{if(c=["reject",f],r.error!==void 0){d=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,_=typeof p=="object"&&!Pe.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,..._})}}).finally(()=>{d&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,p)=>l.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Qf++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Or=new HE,$E=(e,t)=>{const r=(t==null?void 0:t.id)||Qf++;return Or.addToast({title:e,...t,id:r}),r},VE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",UE=$E,WE=()=>Or.toasts,GE=()=>Or.getActiveToasts(),ee=Object.assign(UE,{success:Or.success,info:Or.info,warning:Or.warning,error:Or.error,custom:Or.custom,message:Or.message,promise:Or.promise,dismiss:Or.dismiss,loading:Or.loading},{getHistory:WE,getToasts:GE});AE("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Oc(e){return e.label!==void 0}const KE=3,qE="24px",YE="16px",Ex=4e3,XE=356,JE=14,QE=45,ZE=200;function Dn(...e){return e.filter(Boolean).join(" ")}function eP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const tP=e=>{var t,r,n,o,d,c,l,u,f;const{invert:p,toast:h,unstyled:v,interacting:_,setHeights:k,visibleToasts:w,heights:x,index:y,toasts:g,expanded:b,removeToast:j,defaultRichColors:T,closeButton:P,style:E,cancelButtonStyle:N,actionButtonStyle:L,className:F="",descriptionClassName:B="",duration:V,position:U,gap:X,expandByDefault:G,classNames:q,icons:K,closeButtonAriaLabel:$="Close toast"}=e,[D,M]=Pe.useState(null),[O,W]=Pe.useState(null),[I,re]=Pe.useState(!1),[de,me]=Pe.useState(!1),[Y,z]=Pe.useState(!1),[oe,ne]=Pe.useState(!1),[Q,ie]=Pe.useState(!1),[ye,ae]=Pe.useState(0),[Se,Me]=Pe.useState(0),ke=Pe.useRef(h.duration||V||Ex),Ne=Pe.useRef(null),Te=Pe.useRef(null),Ue=y===0,Ye=y+1<=w,et=h.type,it=h.dismissible!==!1,ir=h.className||"",At=h.descriptionClassName||"",ge=Pe.useMemo(()=>x.findIndex(Qe=>Qe.toastId===h.id)||0,[x,h.id]),ce=Pe.useMemo(()=>{var Qe;return(Qe=h.closeButton)!=null?Qe:P},[h.closeButton,P]),ve=Pe.useMemo(()=>h.duration||V||Ex,[h.duration,V]),J=Pe.useRef(0),pe=Pe.useRef(0),Ie=Pe.useRef(0),Ve=Pe.useRef(null),[at,or]=U.split("-"),Er=Pe.useMemo(()=>x.reduce((Qe,Lt,Gt)=>Gt>=ge?Qe:Qe+Lt.height,0),[x,ge]),Ct=zE(),Pr=h.invert||p,ar=et==="loading";pe.current=Pe.useMemo(()=>ge*X+Er,[ge,Er]),Pe.useEffect(()=>{ke.current=ve},[ve]),Pe.useEffect(()=>{re(!0)},[]),Pe.useEffect(()=>{const Qe=Te.current;if(Qe){const Lt=Qe.getBoundingClientRect().height;return Me(Lt),k(Gt=>[{toastId:h.id,height:Lt,position:h.position},...Gt]),()=>k(Gt=>Gt.filter(mr=>mr.toastId!==h.id))}},[k,h.id]),Pe.useLayoutEffect(()=>{if(!I)return;const Qe=Te.current,Lt=Qe.style.height;Qe.style.height="auto";const Gt=Qe.getBoundingClientRect().height;Qe.style.height=Lt,Me(Gt),k(mr=>mr.find(Ht=>Ht.toastId===h.id)?mr.map(Ht=>Ht.toastId===h.id?{...Ht,height:Gt}:Ht):[{toastId:h.id,height:Gt,position:h.position},...mr])},[I,h.title,h.description,k,h.id,h.jsx,h.action,h.cancel]);const Zr=Pe.useCallback(()=>{me(!0),ae(pe.current),k(Qe=>Qe.filter(Lt=>Lt.toastId!==h.id)),setTimeout(()=>{j(h)},ZE)},[h,j,k,pe]);Pe.useEffect(()=>{if(h.promise&&et==="loading"||h.duration===1/0||h.type==="loading")return;let Qe;return b||_||Ct?(()=>{if(Ie.current<J.current){const mr=new Date().getTime()-J.current;ke.current=ke.current-mr}Ie.current=new Date().getTime()})():(()=>{ke.current!==1/0&&(J.current=new Date().getTime(),Qe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Zr()},ke.current))})(),()=>clearTimeout(Qe)},[b,_,h,et,Ct,Zr]),Pe.useEffect(()=>{h.delete&&(Zr(),h.onDismiss==null||h.onDismiss.call(h,h))},[Zr,h.delete]);function Yo(){var Qe;if(K!=null&&K.loading){var Lt;return Pe.createElement("div",{className:Dn(q==null?void 0:q.loader,h==null||(Lt=h.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":et==="loading"},K.loading)}return Pe.createElement(DE,{className:Dn(q==null?void 0:q.loader,h==null||(Qe=h.classNames)==null?void 0:Qe.loader),visible:et==="loading"})}const _s=h.icon||(K==null?void 0:K[et])||RE(et);var Jn,Xo;return Pe.createElement("li",{tabIndex:0,ref:Te,className:Dn(F,ir,q==null?void 0:q.toast,h==null||(t=h.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[et],h==null||(r=h.classNames)==null?void 0:r[et]),"data-sonner-toast":"","data-rich-colors":(Jn=h.richColors)!=null?Jn:T,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":I,"data-promise":!!h.promise,"data-swiped":Q,"data-removed":de,"data-visible":Ye,"data-y-position":at,"data-x-position":or,"data-index":y,"data-front":Ue,"data-swiping":Y,"data-dismissible":it,"data-type":et,"data-invert":Pr,"data-swipe-out":oe,"data-swipe-direction":O,"data-expanded":!!(b||G&&I),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":g.length-y,"--offset":`${de?ye:pe.current}px`,"--initial-height":G?"auto":`${Se}px`,...E,...h.style},onDragEnd:()=>{z(!1),M(null),Ve.current=null},onPointerDown:Qe=>{Qe.button!==2&&(ar||!it||(Ne.current=new Date,ae(pe.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(z(!0),Ve.current={x:Qe.clientX,y:Qe.clientY})))},onPointerUp:()=>{var Qe,Lt,Gt;if(oe||!it)return;Ve.current=null;const mr=Number(((Qe=Te.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bs=Number(((Lt=Te.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((Gt=Ne.current)==null?void 0:Gt.getTime()),Qt=D==="x"?mr:bs,ws=Math.abs(Qt)/Ht;if(Math.abs(Qt)>=QE||ws>.11){ae(pe.current),h.onDismiss==null||h.onDismiss.call(h,h),W(D==="x"?mr>0?"right":"left":bs>0?"down":"up"),Zr(),ne(!0);return}else{var lr,$r;(lr=Te.current)==null||lr.style.setProperty("--swipe-amount-x","0px"),($r=Te.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}ie(!1),z(!1),M(null)},onPointerMove:Qe=>{var Lt,Gt,mr;if(!Ve.current||!it||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const Ht=Qe.clientY-Ve.current.y,Qt=Qe.clientX-Ve.current.x;var ws;const lr=(ws=e.swipeDirections)!=null?ws:eP(U);!D&&(Math.abs(Qt)>1||Math.abs(Ht)>1)&&M(Math.abs(Qt)>Math.abs(Ht)?"x":"y");let $r={x:0,y:0};const Ss=en=>1/(1.5+Math.abs(en)/20);if(D==="y"){if(lr.includes("top")||lr.includes("bottom"))if(lr.includes("top")&&Ht<0||lr.includes("bottom")&&Ht>0)$r.y=Ht;else{const en=Ht*Ss(Ht);$r.y=Math.abs(en)<Math.abs(Ht)?en:Ht}}else if(D==="x"&&(lr.includes("left")||lr.includes("right")))if(lr.includes("left")&&Qt<0||lr.includes("right")&&Qt>0)$r.x=Qt;else{const en=Qt*Ss(Qt);$r.x=Math.abs(en)<Math.abs(Qt)?en:Qt}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&ie(!0),(Gt=Te.current)==null||Gt.style.setProperty("--swipe-amount-x",`${$r.x}px`),(mr=Te.current)==null||mr.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},ce&&!h.jsx&&et!=="loading"?Pe.createElement("button",{"aria-label":$,"data-disabled":ar,"data-close-button":!0,onClick:ar||!it?()=>{}:()=>{Zr(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Dn(q==null?void 0:q.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Xo=K==null?void 0:K.close)!=null?Xo:FE):null,(et||h.icon||h.promise)&&h.icon!==null&&((K==null?void 0:K[et])!==null||h.icon)?Pe.createElement("div",{"data-icon":"",className:Dn(q==null?void 0:q.icon,h==null||(o=h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Yo():null,h.type!=="loading"?_s:null):null,Pe.createElement("div",{"data-content":"",className:Dn(q==null?void 0:q.content,h==null||(d=h.classNames)==null?void 0:d.content)},Pe.createElement("div",{"data-title":"",className:Dn(q==null?void 0:q.title,h==null||(c=h.classNames)==null?void 0:c.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Pe.createElement("div",{"data-description":"",className:Dn(B,At,q==null?void 0:q.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),Pe.isValidElement(h.cancel)?h.cancel:h.cancel&&Oc(h.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:Qe=>{Oc(h.cancel)&&it&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Qe),Zr())},className:Dn(q==null?void 0:q.cancelButton,h==null||(u=h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,Pe.isValidElement(h.action)?h.action:h.action&&Oc(h.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:Qe=>{Oc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Qe),!Qe.defaultPrevented&&Zr())},className:Dn(q==null?void 0:q.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function Px(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rP(e,t){const r={};return[e,t].forEach((n,o)=>{const d=o===1,c=d?"--mobile-offset":"--offset",l=d?YE:qE;function u(f){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${c}-${f}`]=l:r[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):u(l)}),r}const nP=Pe.forwardRef(function(t,r){const{id:n,invert:o,position:d="bottom-right",hotkey:c=["altKey","KeyT"],expand:l,closeButton:u,className:f,offset:p,mobileOffset:h,theme:v="light",richColors:_,duration:k,style:w,visibleToasts:x=KE,toastOptions:y,dir:g=Px(),gap:b=JE,icons:j,containerAriaLabel:T="Notifications"}=t,[P,E]=Pe.useState([]),N=Pe.useMemo(()=>n?P.filter(I=>I.toasterId===n):P.filter(I=>!I.toasterId),[P,n]),L=Pe.useMemo(()=>Array.from(new Set([d].concat(N.filter(I=>I.position).map(I=>I.position)))),[N,d]),[F,B]=Pe.useState([]),[V,U]=Pe.useState(!1),[X,G]=Pe.useState(!1),[q,K]=Pe.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Pe.useRef(null),D=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Pe.useRef(null),O=Pe.useRef(!1),W=Pe.useCallback(I=>{E(re=>{var de;return(de=re.find(me=>me.id===I.id))!=null&&de.delete||Or.dismiss(I.id),re.filter(({id:me})=>me!==I.id)})},[]);return Pe.useEffect(()=>Or.subscribe(I=>{if(I.dismiss){requestAnimationFrame(()=>{E(re=>re.map(de=>de.id===I.id?{...de,delete:!0}:de))});return}setTimeout(()=>{Nb.flushSync(()=>{E(re=>{const de=re.findIndex(me=>me.id===I.id);return de!==-1?[...re.slice(0,de),{...re[de],...I},...re.slice(de+1)]:[I,...re]})})})}),[P]),Pe.useEffect(()=>{if(v!=="system"){K(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:re})=>{K(re?"dark":"light")})}catch{I.addListener(({matches:de})=>{try{K(de?"dark":"light")}catch(me){console.error(me)}})}},[v]),Pe.useEffect(()=>{P.length<=1&&U(!1)},[P]),Pe.useEffect(()=>{const I=re=>{var de;if(c.every(z=>re[z]||re.code===z)){var Y;U(!0),(Y=$.current)==null||Y.focus()}re.code==="Escape"&&(document.activeElement===$.current||(de=$.current)!=null&&de.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[c]),Pe.useEffect(()=>{if($.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,O.current=!1)}},[$.current]),Pe.createElement("section",{ref:r,"aria-label":`${T} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((I,re)=>{var de;const[me,Y]=I.split("-");return N.length?Pe.createElement("ol",{key:I,dir:g==="auto"?Px():g,tabIndex:-1,ref:$,className:f,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":me,"data-x-position":Y,style:{"--front-toast-height":`${((de=F[0])==null?void 0:de.height)||0}px`,"--width":`${XE}px`,"--gap":`${b}px`,...w,...rP(p,h)},onBlur:z=>{O.current&&!z.currentTarget.contains(z.relatedTarget)&&(O.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||O.current||(O.current=!0,M.current=z.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{X||U(!1)},onDragEnd:()=>U(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},N.filter(z=>!z.position&&re===0||z.position===I).map((z,oe)=>{var ne,Q;return Pe.createElement(tP,{key:z.id,icons:j,index:oe,toast:z,defaultRichColors:_,duration:(ne=y==null?void 0:y.duration)!=null?ne:k,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:o,visibleToasts:x,closeButton:(Q=y==null?void 0:y.closeButton)!=null?Q:u,interacting:X,position:I,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:W,toasts:N.filter(ie=>ie.position==z.position),heights:F.filter(ie=>ie.position==z.position),setHeights:B,expandByDefault:l,gap:b,expanded:V,swipeDirections:t.swipeDirections})})):null}))}),Kp=C.createContext({});function qp(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bu=C.createContext(null),Yp=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class sP extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iP({children:e,isPresent:t}){const r=C.useId(),n=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=C.useContext(Yp);return C.useInsertionEffect(()=>{const{width:c,height:l,top:u,left:f}=o.current;if(t||!n.current||!c||!l)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return d&&(p.nonce=d),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),i.jsx(sP,{isPresent:t,childRef:n,sizeRef:o,children:C.cloneElement(e,{ref:n})})}const oP=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:d,mode:c})=>{const l=qp(aP),u=C.useId(),f=C.useCallback(h=>{l.set(h,!0);for(const v of l.values())if(!v)return;n&&n()},[l,n]),p=C.useMemo(()=>({id:u,initial:t,isPresent:r,custom:o,onExitComplete:f,register:h=>(l.set(h,!1),()=>l.delete(h))}),d?[Math.random(),f]:[r,f]);return C.useMemo(()=>{l.forEach((h,v)=>l.set(v,!1))},[r]),C.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),c==="popLayout"&&(e=i.jsx(iP,{isPresent:r,children:e})),i.jsx(Bu.Provider,{value:p,children:e})};function aP(){return new Map}function Eb(e=!0){const t=C.useContext(Bu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=t,d=C.useId();C.useEffect(()=>{e&&o(d)},[e]);const c=C.useCallback(()=>e&&n&&n(d),[d,n,e]);return!r&&n?[!1,c]:[!0]}const Bc=e=>e.key||"";function Tx(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const Xp=typeof window<"u",Pb=Xp?C.useLayoutEffect:C.useEffect,Fu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:d="sync",propagate:c=!1})=>{const[l,u]=Eb(c),f=C.useMemo(()=>Tx(e),[e]),p=c&&!l?[]:f.map(Bc),h=C.useRef(!0),v=C.useRef(f),_=qp(()=>new Map),[k,w]=C.useState(f),[x,y]=C.useState(f);Pb(()=>{h.current=!1,v.current=f;for(let j=0;j<x.length;j++){const T=Bc(x[j]);p.includes(T)?_.delete(T):_.get(T)!==!0&&_.set(T,!1)}},[x,p.length,p.join("-")]);const g=[];if(f!==k){let j=[...f];for(let T=0;T<x.length;T++){const P=x[T],E=Bc(P);p.includes(E)||(j.splice(T,0,P),g.push(P))}d==="wait"&&g.length&&(j=g),y(Tx(j)),w(f);return}const{forceRender:b}=C.useContext(Kp);return i.jsx(i.Fragment,{children:x.map(j=>{const T=Bc(j),P=c&&!l?!1:f===x||p.includes(T),E=()=>{if(_.has(T))_.set(T,!0);else return;let N=!0;_.forEach(L=>{L||(N=!1)}),N&&(b==null||b(),y(v.current),c&&(u==null||u()),n&&n())};return i.jsx(oP,{isPresent:P,initial:!h.current||r?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:o,mode:d,onExitComplete:P?void 0:E,children:j},T)})})},Xr=e=>e;let Tb=Xr;function Jp(e){let t;return()=>(t===void 0&&(t=e()),t)}const No=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},cs=e=>e*1e3,us=e=>e/1e3,lP={useManualTiming:!1};function cP(e){let t=new Set,r=new Set,n=!1,o=!1;const d=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function l(f){d.has(f)&&(u.schedule(f),e()),f(c)}const u={schedule:(f,p=!1,h=!1)=>{const _=h&&n?t:r;return p&&d.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),d.delete(f)},process:f=>{if(c=f,n){o=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,o&&(o=!1,u.process(f))}};return u}const Fc=["read","resolveKeyframes","update","preRender","render","postRender"],uP=40;function Ab(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},d=()=>r=!0,c=Fc.reduce((y,g)=>(y[g]=cP(d),y),{}),{read:l,resolveKeyframes:u,update:f,preRender:p,render:h,postRender:v}=c,_=()=>{const y=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(y-o.timestamp,uP),1),o.timestamp=y,o.isProcessing=!0,l.process(o),u.process(o),f.process(o),p.process(o),h.process(o),v.process(o),o.isProcessing=!1,r&&t&&(n=!1,e(_))},k=()=>{r=!0,n=!0,o.isProcessing||e(_)};return{schedule:Fc.reduce((y,g)=>{const b=c[g];return y[g]=(j,T=!1,P=!1)=>(r||k(),b.schedule(j,T,P)),y},{}),cancel:y=>{for(let g=0;g<Fc.length;g++)c[Fc[g]].cancel(y)},state:o,steps:c}}const{schedule:bt,cancel:Ys,state:dr,steps:cf}=Ab(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xr,!0),Rb=C.createContext({strict:!1}),Ax={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eo={};for(const e in Ax)Eo[e]={isEnabled:t=>Ax[e].some(r=>!!t[r])};function dP(e){for(const t in e)Eo[t]={...Eo[t],...e[t]}}const hP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function du(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hP.has(e)}let Mb=e=>!du(e);function fP(e){e&&(Mb=t=>t.startsWith("on")?!du(t):e(t))}try{fP(require("@emotion/is-prop-valid").default)}catch{}function pP(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(Mb(o)||r===!0&&du(o)||!t&&!du(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function mP(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const zu=C.createContext({});function Xa(e){return typeof e=="string"||Array.isArray(e)}function Hu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zp=["initial",...Qp];function $u(e){return Hu(e.animate)||Zp.some(t=>Xa(e[t]))}function Db(e){return!!($u(e)||e.variants)}function gP(e,t){if($u(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Xa(r)?r:void 0,animate:Xa(n)?n:void 0}}return e.inherit!==!1?t:{}}function vP(e){const{initial:t,animate:r}=gP(e,C.useContext(zu));return C.useMemo(()=>({initial:t,animate:r}),[Rx(t),Rx(r)])}function Rx(e){return Array.isArray(e)?e.join(" "):e}const xP=Symbol.for("motionComponentSymbol");function vo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yP(e,t,r){return C.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):vo(r)&&(r.current=n))},[t])}const em=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_P="framerAppearId",Lb="data-"+em(_P),{schedule:tm}=Ab(queueMicrotask,!1),Ib=C.createContext({});function bP(e,t,r,n,o){var d,c;const{visualElement:l}=C.useContext(zu),u=C.useContext(Rb),f=C.useContext(Bu),p=C.useContext(Yp).reducedMotion,h=C.useRef(null);n=n||u.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const v=h.current,_=C.useContext(Ib);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&wP(h.current,r,o,_);const k=C.useRef(!1);C.useInsertionEffect(()=>{v&&k.current&&v.update(r,f)});const w=r[Lb],x=C.useRef(!!w&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,w))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,w)));return Pb(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),tm.render(v.render),x.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!x.current&&v.animationState&&v.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,w)}),x.current=!1))}),v}function wP(e,t,r,n){const{layoutId:o,layout:d,drag:c,dragConstraints:l,layoutScroll:u,layoutRoot:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Ob(e.parent)),e.projection.setOptions({layoutId:o,layout:d,alwaysMeasureLayout:!!c||l&&vo(l),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:f})}function Ob(e){if(e)return e.options.allowProjection!==!1?e.projection:Ob(e.parent)}function SP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){var d,c;e&&dP(e);function l(f,p){let h;const v={...C.useContext(Yp),...f,layoutId:CP(f)},{isStatic:_}=v,k=vP(f),w=n(f,_);if(!_&&Xp){kP();const x=jP(v);h=x.MeasureLayout,k.visualElement=bP(o,w,v,t,x.ProjectionNode)}return i.jsxs(zu.Provider,{value:k,children:[h&&k.visualElement?i.jsx(h,{visualElement:k.visualElement,...v}):null,r(o,f,yP(w,k.visualElement,p),w,_,k.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${(c=(d=o.displayName)!==null&&d!==void 0?d:o.name)!==null&&c!==void 0?c:""})`}`;const u=C.forwardRef(l);return u[xP]=o,u}function CP({layoutId:e}){const t=C.useContext(Kp).id;return t&&e!==void 0?t+"-"+e:e}function kP(e,t){C.useContext(Rb).strict}function jP(e){const{drag:t,layout:r}=Eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const NP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rm(e){return typeof e!="string"||e.includes("-")?!1:!!(NP.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mx(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function nm(e,t,r,n){if(typeof t=="function"){const[o,d]=Mx(n);t=t(r!==void 0?r:e.custom,o,d)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,d]=Mx(n);t=t(r!==void 0?r:e.custom,o,d)}return t}const Zf=e=>Array.isArray(e),EP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),PP=e=>Zf(e)?e[e.length-1]||0:e,br=e=>!!(e&&e.getVelocity);function eu(e){const t=br(e)?e.get():e;return EP(t)?t.toValue():t}function TP({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,o,d){const c={latestValues:AP(n,o,d,e),renderState:t()};return r&&(c.onMount=l=>r({props:n,current:l,...c}),c.onUpdate=l=>r(l)),c}const Bb=e=>(t,r)=>{const n=C.useContext(zu),o=C.useContext(Bu),d=()=>TP(e,t,n,o);return r?d():qp(d)};function AP(e,t,r,n){const o={},d=n(e,{});for(const v in d)o[v]=eu(d[v]);let{initial:c,animate:l}=e;const u=$u(e),f=Db(e);t&&f&&!u&&e.inherit!==!1&&(c===void 0&&(c=t.initial),l===void 0&&(l=t.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const h=p?l:c;if(h&&typeof h!="boolean"&&!Hu(h)){const v=Array.isArray(h)?h:[h];for(let _=0;_<v.length;_++){const k=nm(e,v[_]);if(k){const{transitionEnd:w,transition:x,...y}=k;for(const g in y){let b=y[g];if(Array.isArray(b)){const j=p?b.length-1:0;b=b[j]}b!==null&&(o[g]=b)}for(const g in w)o[g]=w[g]}}}return o}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oi=new Set(Bo),Fb=e=>t=>typeof t=="string"&&t.startsWith(e),zb=Fb("--"),RP=Fb("var(--"),sm=e=>RP(e)?MP.test(e.split("/*")[0].trim()):!1,MP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ds=(e,t,r)=>r>t?t:r<e?e:r,Fo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ja={...Fo,transform:e=>ds(0,1,e)},zc={...Fo,default:1},hl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ws=hl("deg"),Fn=hl("%"),qe=hl("px"),DP=hl("vh"),LP=hl("vw"),Dx={...Fn,parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(e*100)},IP={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe},OP={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:Ws,skewX:Ws,skewY:Ws,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Ja,originX:Dx,originY:Dx,originZ:qe},Lx={...Fo,transform:Math.round},im={...IP,...OP,zIndex:Lx,size:qe,fillOpacity:Ja,strokeOpacity:Ja,numOctaves:Lx},BP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FP=Bo.length;function zP(e,t,r){let n="",o=!0;for(let d=0;d<FP;d++){const c=Bo[d],l=e[c];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(c.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const f=Hb(l,im[c]);if(!u){o=!1;const p=BP[c]||c;n+=`${p}(${f}) `}r&&(t[c]=f)}}return n=n.trim(),r?n=r(t,o?"":n):o&&(n="none"),n}function om(e,t,r){const{style:n,vars:o,transformOrigin:d}=e;let c=!1,l=!1;for(const u in t){const f=t[u];if(Oi.has(u)){c=!0;continue}else if(zb(u)){o[u]=f;continue}else{const p=Hb(f,im[u]);u.startsWith("origin")?(l=!0,d[u]=p):n[u]=p}}if(t.transform||(c||r?n.transform=zP(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=d;n.transformOrigin=`${u} ${f} ${p}`}}const HP={offset:"stroke-dashoffset",array:"stroke-dasharray"},$P={offset:"strokeDashoffset",array:"strokeDasharray"};function VP(e,t,r=1,n=0,o=!0){e.pathLength=1;const d=o?HP:$P;e[d.offset]=qe.transform(-n);const c=qe.transform(t),l=qe.transform(r);e[d.array]=`${c} ${l}`}function Ix(e,t,r){return typeof e=="string"?e:qe.transform(t+r*e)}function UP(e,t,r){const n=Ix(t,e.x,e.width),o=Ix(r,e.y,e.height);return`${n} ${o}`}function am(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:d,pathLength:c,pathSpacing:l=1,pathOffset:u=0,...f},p,h){if(om(e,f,h),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:_,dimensions:k}=e;v.transform&&(k&&(_.transform=v.transform),delete v.transform),k&&(o!==void 0||d!==void 0||_.transform)&&(_.transformOrigin=UP(k,o!==void 0?o:.5,d!==void 0?d:.5)),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),n!==void 0&&(v.scale=n),c!==void 0&&VP(v,c,l,u,!1)}const lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$b=()=>({...lm(),attrs:{}}),cm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vb(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const d in r)e.style.setProperty(d,r[d])}const Ub=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wb(e,t,r,n){Vb(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(Ub.has(o)?o:em(o),t.attrs[o])}const hu={};function WP(e){Object.assign(hu,e)}function Gb(e,{layout:t,layoutId:r}){return Oi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!hu[e]||e==="opacity")}function um(e,t,r){var n;const{style:o}=e,d={};for(const c in o)(br(o[c])||t.style&&br(t.style[c])||Gb(c,e)||((n=r==null?void 0:r.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(d[c]=o[c]);return d}function Kb(e,t,r){const n=um(e,t,r);for(const o in e)if(br(e[o])||br(t[o])){const d=Bo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[d]=e[o]}return n}function GP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ox=["x","y","width","height","cx","cy","r"],KP={useVisualState:Bb({scrapeMotionValuesFromProps:Kb,createRenderState:$b,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:o})=>{if(!r)return;let d=!!e.drag;if(!d){for(const l in o)if(Oi.has(l)){d=!0;break}}if(!d)return;let c=!t;if(t)for(let l=0;l<Ox.length;l++){const u=Ox[l];e[u]!==t[u]&&(c=!0)}c&&bt.read(()=>{GP(r,n),bt.render(()=>{am(n,o,cm(r.tagName),e.transformTemplate),Wb(r,n)})})}})},qP={useVisualState:Bb({scrapeMotionValuesFromProps:um,createRenderState:lm})};function qb(e,t,r){for(const n in t)!br(t[n])&&!Gb(n,r)&&(e[n]=t[n])}function YP({transformTemplate:e},t){return C.useMemo(()=>{const r=lm();return om(r,t,e),Object.assign({},r.vars,r.style)},[t])}function XP(e,t){const r=e.style||{},n={};return qb(n,r,e),Object.assign(n,YP(e,t)),n}function JP(e,t){const r={},n=XP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function QP(e,t,r,n){const o=C.useMemo(()=>{const d=$b();return am(d,t,cm(n),e.transformTemplate),{...d.attrs,style:{...d.style}}},[t]);if(e.style){const d={};qb(d,e.style,e),o.style={...d,...o.style}}return o}function ZP(e=!1){return(r,n,o,{latestValues:d},c)=>{const u=(rm(r)?QP:JP)(n,d,c,r),f=pP(n,typeof r=="string",e),p=r!==C.Fragment?{...f,...u,ref:o}:{},{children:h}=n,v=C.useMemo(()=>br(h)?h.get():h,[h]);return C.createElement(r,{...p,children:v})}}function eT(e,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...rm(n)?KP:qP,preloadedFeatures:e,useRender:ZP(o),createVisualElement:t,Component:n};return SP(c)}}function Yb(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Vu(e,t,r){const n=e.getProps();return nm(n,t,r!==void 0?r:n.custom,e)}const tT=Jp(()=>window.ScrollTimeline!==void 0);class rT{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(o=>{if(tT()&&o.attachTimeline)return o.attachTimeline(t);if(typeof r=="function")return r(o)});return()=>{n.forEach((o,d)=>{o&&o(),this.animations[d].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nT extends rT{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function dm(e,t){return e?e[t]||e.default||e:void 0}const ep=2e4;function Xb(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ep;)t+=r,n=e.next(t);return t>=ep?1/0:t}function hm(e){return typeof e=="function"}function Bx(e,t){e.timeline=t,e.onfinish=null}const fm=e=>Array.isArray(e)&&typeof e[0]=="number",sT={linearEasing:void 0};function iT(e,t){const r=Jp(e);return()=>{var n;return(n=sT[t])!==null&&n!==void 0?n:r()}}const fu=iT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jb=(e,t,r=10)=>{let n="";const o=Math.max(Math.round(t/r),2);for(let d=0;d<o;d++)n+=e(No(0,o-1,d))+", ";return`linear(${n.substring(0,n.length-2)})`};function Qb(e){return!!(typeof e=="function"&&fu()||!e||typeof e=="string"&&(e in tp||fu())||fm(e)||Array.isArray(e)&&e.every(Qb))}const Ba=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ba([0,.65,.55,1]),circOut:Ba([.55,0,1,.45]),backIn:Ba([.31,.01,.66,-.59]),backOut:Ba([.33,1.53,.69,.99])};function Zb(e,t){if(e)return typeof e=="function"&&fu()?Jb(e,t):fm(e)?Ba(e):Array.isArray(e)?e.map(r=>Zb(r,t)||tp.easeOut):tp[e]}const bn={x:!1,y:!1};function ew(){return bn.x||bn.y}function oT(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const d=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(e);return d?Array.from(d):[]}return Array.from(e)}function tw(e,t){const r=oT(e),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[r,o,()=>n.abort()]}function Fx(e){return t=>{t.pointerType==="touch"||ew()||e(t)}}function aT(e,t,r={}){const[n,o,d]=tw(e,r),c=Fx(l=>{const{target:u}=l,f=t(l);if(typeof f!="function"||!u)return;const p=Fx(h=>{f(h),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,o)});return n.forEach(l=>{l.addEventListener("pointerenter",c,o)}),d}const rw=(e,t)=>t?e===t?!0:rw(e,t.parentElement):!1,pm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cT(e){return lT.has(e.tagName)||e.tabIndex!==-1}const Fa=new WeakSet;function zx(e){return t=>{t.key==="Enter"&&e(t)}}function uf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uT=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=zx(()=>{if(Fa.has(r))return;uf(r,"down");const o=zx(()=>{uf(r,"up")}),d=()=>uf(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",d,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Hx(e){return pm(e)&&!ew()}function dT(e,t,r={}){const[n,o,d]=tw(e,r),c=l=>{const u=l.currentTarget;if(!Hx(l)||Fa.has(u))return;Fa.add(u);const f=t(l),p=(_,k)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",v),!(!Hx(_)||!Fa.has(u))&&(Fa.delete(u),typeof f=="function"&&f(_,{success:k}))},h=_=>{p(_,r.useGlobalTarget||rw(u,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",v,o)};return n.forEach(l=>{!cT(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",c,o),l.addEventListener("focus",f=>uT(f,o),o)}),d}function hT(e){return e==="x"||e==="y"?bn[e]?null:(bn[e]=!0,()=>{bn[e]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}const nw=new Set(["width","height","top","left","right","bottom",...Bo]);let tu;function fT(){tu=void 0}const zn={now:()=>(tu===void 0&&zn.set(dr.isProcessing||lP.useManualTiming?dr.timestamp:performance.now()),tu),set:e=>{tu=e,queueMicrotask(fT)}};function mm(e,t){e.indexOf(t)===-1&&e.push(t)}function gm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class vm{constructor(){this.subscriptions=[]}add(t){return mm(this.subscriptions,t),()=>gm(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let d=0;d<o;d++){const c=this.subscriptions[d];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function sw(e,t){return t?e*(1e3/t):0}const $x=30,pT=e=>!isNaN(parseFloat(e));class mT{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const d=zn.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new vm);const n=this.events[t].add(r);return t==="change"?()=>{n(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$x)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$x);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qa(e,t){return new mT(e,t)}function gT(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qa(r))}function vT(e,t){const r=Vu(e,t);let{transitionEnd:n={},transition:o={},...d}=r||{};d={...d,...n};for(const c in d){const l=PP(d[c]);gT(e,c,l)}}function xT(e){return!!(br(e)&&e.add)}function rp(e,t){const r=e.getValue("willChange");if(xT(r))return r.add(t)}function iw(e){return e.props[Lb]}const ow=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,yT=1e-7,_T=12;function bT(e,t,r,n,o){let d,c,l=0;do c=t+(r-t)/2,d=ow(c,n,o)-e,d>0?r=c:t=c;while(Math.abs(d)>yT&&++l<_T);return c}function fl(e,t,r,n){if(e===t&&r===n)return Xr;const o=d=>bT(d,0,1,e,r);return d=>d===0||d===1?d:ow(o(d),t,n)}const aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lw=e=>t=>1-e(1-t),cw=fl(.33,1.53,.69,.99),xm=lw(cw),uw=aw(xm),dw=e=>(e*=2)<1?.5*xm(e):.5*(2-Math.pow(2,-10*(e-1))),ym=e=>1-Math.sin(Math.acos(e)),hw=lw(ym),fw=aw(ym),pw=e=>/^0[^.\s]+$/u.test(e);function wT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pw(e):!0}const Va=e=>Math.round(e*1e5)/1e5,_m=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ST(e){return e==null}const CT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bm=(e,t)=>r=>!!(typeof r=="string"&&CT.test(r)&&r.startsWith(e)||t&&!ST(r)&&Object.prototype.hasOwnProperty.call(r,t)),mw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[o,d,c,l]=n.match(_m);return{[e]:parseFloat(o),[t]:parseFloat(d),[r]:parseFloat(c),alpha:l!==void 0?parseFloat(l):1}},kT=e=>ds(0,255,e),df={...Fo,transform:e=>Math.round(kT(e))},Ni={test:bm("rgb","red"),parse:mw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+df.transform(e)+", "+df.transform(t)+", "+df.transform(r)+", "+Va(Ja.transform(n))+")"};function jT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const np={test:bm("#"),parse:jT,transform:Ni.transform},xo={test:bm("hsl","hue"),parse:mw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Fn.transform(Va(t))+", "+Fn.transform(Va(r))+", "+Va(Ja.transform(n))+")"},_r={test:e=>Ni.test(e)||np.test(e)||xo.test(e),parse:e=>Ni.test(e)?Ni.parse(e):xo.test(e)?xo.parse(e):np.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ni.transform(e):xo.transform(e)},NT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ET(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_m))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(NT))===null||r===void 0?void 0:r.length)||0)>0}const gw="number",vw="color",PT="var",TT="var(",Vx="${}",AT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},o=[];let d=0;const l=t.replace(AT,u=>(_r.test(u)?(n.color.push(d),o.push(vw),r.push(_r.parse(u))):u.startsWith(TT)?(n.var.push(d),o.push(PT),r.push(u)):(n.number.push(d),o.push(gw),r.push(parseFloat(u))),++d,Vx)).split(Vx);return{values:r,split:l,indexes:n,types:o}}function xw(e){return Za(e).values}function yw(e){const{split:t,types:r}=Za(e),n=t.length;return o=>{let d="";for(let c=0;c<n;c++)if(d+=t[c],o[c]!==void 0){const l=r[c];l===gw?d+=Va(o[c]):l===vw?d+=_r.transform(o[c]):d+=o[c]}return d}}const RT=e=>typeof e=="number"?0:e;function MT(e){const t=xw(e);return yw(e)(t.map(RT))}const Xs={test:ET,parse:xw,createTransformer:yw,getAnimatableNone:MT},DT=new Set(["brightness","contrast","saturate","opacity"]);function LT(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(_m)||[];if(!n)return e;const o=r.replace(n,"");let d=DT.has(t)?1:0;return n!==r&&(d*=100),t+"("+d+o+")"}const IT=/\b([a-z-]*)\(.*?\)/gu,sp={...Xs,getAnimatableNone:e=>{const t=e.match(IT);return t?t.map(LT).join(" "):e}},OT={...im,color:_r,backgroundColor:_r,outlineColor:_r,fill:_r,stroke:_r,borderColor:_r,borderTopColor:_r,borderRightColor:_r,borderBottomColor:_r,borderLeftColor:_r,filter:sp,WebkitFilter:sp},wm=e=>OT[e];function _w(e,t){let r=wm(e);return r!==sp&&(r=Xs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const BT=new Set(["auto","none","0"]);function FT(e,t,r){let n=0,o;for(;n<e.length&&!o;){const d=e[n];typeof d=="string"&&!BT.has(d)&&Za(d).values.length&&(o=e[n]),n++}if(o&&r)for(const d of t)e[d]=_w(r,o)}const Ux=e=>e===Fo||e===qe,Wx=(e,t)=>parseFloat(e.split(", ")[t]),Gx=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return Wx(o[1],t);{const d=n.match(/^matrix\((.+)\)$/u);return d?Wx(d[1],e):0}},zT=new Set(["x","y","z"]),HT=Bo.filter(e=>!zT.has(e));function $T(e){const t=[];return HT.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gx(4,13),y:Gx(5,14)};Po.translateX=Po.x;Po.translateY=Po.y;const Pi=new Set;let ip=!1,op=!1;function bw(){if(op){const e=Array.from(Pi).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const o=$T(n);o.length&&(r.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([d,c])=>{var l;(l=n.getValue(d))===null||l===void 0||l.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}op=!1,ip=!1,Pi.forEach(e=>e.complete()),Pi.clear()}function ww(){Pi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(op=!0)})}function VT(){ww(),bw()}class Sm{constructor(t,r,n,o,d,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=o,this.element=d,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pi.add(this),ip||(ip=!0,bt.read(ww),bt.resolveKeyframes(bw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:o}=this;for(let d=0;d<t.length;d++)if(t[d]===null)if(d===0){const c=o==null?void 0:o.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(n&&r){const u=n.readValue(r,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),o&&c===void 0&&o.set(t[0])}else t[d]=t[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),UT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WT(e){const t=UT.exec(e);if(!t)return[,];const[,r,n,o]=t;return[`--${r??n}`,o]}function Cw(e,t,r=1){const[n,o]=WT(e);if(!n)return;const d=window.getComputedStyle(t).getPropertyValue(n);if(d){const c=d.trim();return Sw(c)?parseFloat(c):c}return sm(o)?Cw(o,t,r+1):o}const kw=e=>t=>t.test(e),GT={test:e=>e==="auto",parse:e=>e},jw=[Fo,qe,Fn,Ws,LP,DP,GT],Kx=e=>jw.find(kw(e));class Nw extends Sm{constructor(t,r,n,o,d){super(t,r,n,o,d,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),sm(f))){const p=Cw(f,r.current);p!==void 0&&(t[u]=p),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!nw.has(n)||t.length!==2)return;const[o,d]=t,c=Kx(o),l=Kx(d);if(c!==l)if(Ux(c)&&Ux(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let o=0;o<t.length;o++)wT(t[o])&&n.push(o);n.length&&FT(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const d=r.getValue(n);d&&d.jump(this.measuredOrigin,!1);const c=o.length-1,l=o[c];o[c]=Po[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,f])=>{r.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const qx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xs.test(e)||e==="0")&&!e.startsWith("url("));function KT(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function qT(e,t,r,n){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const d=e[e.length-1],c=qx(o,t),l=qx(d,t);return!c||!l?!1:KT(e)||(r==="spring"||hm(r))&&n}const YT=e=>e!==null;function Uu(e,{repeat:t,repeatType:r="loop"},n){const o=e.filter(YT),d=t&&r!=="loop"&&t%2===1?0:o.length-1;return!d||n===void 0?o[d]:n}const XT=40;class Ew{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:d=0,repeatType:c="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zn.now(),this.options={autoplay:t,delay:r,type:n,repeat:o,repeatDelay:d,repeatType:c,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XT?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VT(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=zn.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:d,delay:c,onComplete:l,onUpdate:u,isGenerator:f}=this.options;if(!f&&!qT(t,n,o,d))if(c)this.options.duration=0;else{u&&u(Uu(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,r);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Nt=(e,t,r)=>e+(t-e)*r;function hf(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function JT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,d=0,c=0;if(!t)o=d=c=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;o=hf(u,l,e+1/3),d=hf(u,l,e),c=hf(u,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(d*255),blue:Math.round(c*255),alpha:n}}function pu(e,t){return r=>r>0?t:e}const ff=(e,t,r)=>{const n=e*e,o=r*(t*t-n)+n;return o<0?0:Math.sqrt(o)},QT=[np,Ni,xo],ZT=e=>QT.find(t=>t.test(e));function Yx(e){const t=ZT(e);if(!t)return!1;let r=t.parse(e);return t===xo&&(r=JT(r)),r}const Xx=(e,t)=>{const r=Yx(e),n=Yx(t);if(!r||!n)return pu(e,t);const o={...r};return d=>(o.red=ff(r.red,n.red,d),o.green=ff(r.green,n.green,d),o.blue=ff(r.blue,n.blue,d),o.alpha=Nt(r.alpha,n.alpha,d),Ni.transform(o))},eA=(e,t)=>r=>t(e(r)),pl=(...e)=>e.reduce(eA),ap=new Set(["none","hidden"]);function tA(e,t){return ap.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rA(e,t){return r=>Nt(e,t,r)}function Cm(e){return typeof e=="number"?rA:typeof e=="string"?sm(e)?pu:_r.test(e)?Xx:iA:Array.isArray(e)?Pw:typeof e=="object"?_r.test(e)?Xx:nA:pu}function Pw(e,t){const r=[...e],n=r.length,o=e.map((d,c)=>Cm(d)(d,t[c]));return d=>{for(let c=0;c<n;c++)r[c]=o[c](d);return r}}function nA(e,t){const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Cm(e[o])(e[o],t[o]));return o=>{for(const d in n)r[d]=n[d](o);return r}}function sA(e,t){var r;const n=[],o={color:0,var:0,number:0};for(let d=0;d<t.values.length;d++){const c=t.types[d],l=e.indexes[c][o[c]],u=(r=e.values[l])!==null&&r!==void 0?r:0;n[d]=u,o[c]++}return n}const iA=(e,t)=>{const r=Xs.createTransformer(t),n=Za(e),o=Za(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?ap.has(e)&&!o.values.length||ap.has(t)&&!n.values.length?tA(e,t):pl(Pw(sA(n,o),o.values),r):pu(e,t)};function Tw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Nt(e,t,r):Cm(e)(e,t)}const oA=5;function Aw(e,t,r){const n=Math.max(t-oA,0);return sw(r-e(n),t-n)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pf=.001;function aA({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:r=Mt.velocity,mass:n=Mt.mass}){let o,d,c=1-t;c=ds(Mt.minDamping,Mt.maxDamping,c),e=ds(Mt.minDuration,Mt.maxDuration,us(e)),c<1?(o=f=>{const p=f*c,h=p*e,v=p-r,_=lp(f,c),k=Math.exp(-h);return pf-v/_*k},d=f=>{const h=f*c*e,v=h*r+r,_=Math.pow(c,2)*Math.pow(f,2)*e,k=Math.exp(-h),w=lp(Math.pow(f,2),c);return(-o(f)+pf>0?-1:1)*((v-_)*k)/w}):(o=f=>{const p=Math.exp(-f*e),h=(f-r)*e+1;return-pf+p*h},d=f=>{const p=Math.exp(-f*e),h=(r-f)*(e*e);return p*h});const l=5/e,u=cA(o,d,l);if(e=cs(e),isNaN(u))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:c*2*Math.sqrt(n*f),duration:e}}}const lA=12;function cA(e,t,r){let n=r;for(let o=1;o<lA;o++)n=n-e(n)/t(n);return n}function lp(e,t){return e*Math.sqrt(1-t*t)}const uA=["duration","bounce"],dA=["stiffness","damping","mass"];function Jx(e,t){return t.some(r=>e[r]!==void 0)}function hA(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!Jx(e,dA)&&Jx(e,uA))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,d=2*ds(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Mt.mass,stiffness:o,damping:d}}else{const r=aA(e);t={...t,...r,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function Rw(e=Mt.visualDuration,t=Mt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:o}=r;const d=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],l={done:!1,value:d},{stiffness:u,damping:f,mass:p,duration:h,velocity:v,isResolvedFromDuration:_}=hA({...r,velocity:-us(r.velocity||0)}),k=v||0,w=f/(2*Math.sqrt(u*p)),x=c-d,y=us(Math.sqrt(u/p)),g=Math.abs(x)<5;n||(n=g?Mt.restSpeed.granular:Mt.restSpeed.default),o||(o=g?Mt.restDelta.granular:Mt.restDelta.default);let b;if(w<1){const T=lp(y,w);b=P=>{const E=Math.exp(-w*y*P);return c-E*((k+w*y*x)/T*Math.sin(T*P)+x*Math.cos(T*P))}}else if(w===1)b=T=>c-Math.exp(-y*T)*(x+(k+y*x)*T);else{const T=y*Math.sqrt(w*w-1);b=P=>{const E=Math.exp(-w*y*P),N=Math.min(T*P,300);return c-E*((k+w*y*x)*Math.sinh(N)+T*x*Math.cosh(N))/T}}const j={calculatedDuration:_&&h||null,next:T=>{const P=b(T);if(_)l.done=T>=h;else{let E=0;w<1&&(E=T===0?cs(k):Aw(b,T,P));const N=Math.abs(E)<=n,L=Math.abs(c-P)<=o;l.done=N&&L}return l.value=l.done?c:P,l},toString:()=>{const T=Math.min(Xb(j),ep),P=Jb(E=>j.next(T*E).value,T,30);return T+"ms "+P}};return j}function Qx({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:d=500,modifyTarget:c,min:l,max:u,restDelta:f=.5,restSpeed:p}){const h=e[0],v={done:!1,value:h},_=N=>l!==void 0&&N<l||u!==void 0&&N>u,k=N=>l===void 0?u:u===void 0||Math.abs(l-N)<Math.abs(u-N)?l:u;let w=r*t;const x=h+w,y=c===void 0?x:c(x);y!==x&&(w=y-h);const g=N=>-w*Math.exp(-N/n),b=N=>y+g(N),j=N=>{const L=g(N),F=b(N);v.done=Math.abs(L)<=f,v.value=v.done?y:F};let T,P;const E=N=>{_(v.value)&&(T=N,P=Rw({keyframes:[v.value,k(v.value)],velocity:Aw(b,N,v.value),damping:o,stiffness:d,restDelta:f,restSpeed:p}))};return E(0),{calculatedDuration:null,next:N=>{let L=!1;return!P&&T===void 0&&(L=!0,j(N),E(N)),T!==void 0&&N>=T?P.next(N-T):(!L&&j(N),v)}}}const fA=fl(.42,0,1,1),pA=fl(0,0,.58,1),Mw=fl(.42,0,.58,1),mA=e=>Array.isArray(e)&&typeof e[0]!="number",gA={linear:Xr,easeIn:fA,easeInOut:Mw,easeOut:pA,circIn:ym,circInOut:fw,circOut:hw,backIn:xm,backInOut:uw,backOut:cw,anticipate:dw},Zx=e=>{if(fm(e)){Tb(e.length===4);const[t,r,n,o]=e;return fl(t,r,n,o)}else if(typeof e=="string")return gA[e];return e};function vA(e,t,r){const n=[],o=r||Tw,d=e.length-1;for(let c=0;c<d;c++){let l=o(e[c],e[c+1]);if(t){const u=Array.isArray(t)?t[c]||Xr:t;l=pl(u,l)}n.push(l)}return n}function xA(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const d=e.length;if(Tb(d===t.length),d===1)return()=>t[0];if(d===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=vA(t,n,o),u=l.length,f=p=>{if(c&&p<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(p<e[h+1]);h++);const v=No(e[h],e[h+1],p);return l[h](v)};return r?p=>f(ds(e[0],e[d-1],p)):f}function yA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=No(0,t,n);e.push(Nt(r,1,o))}}function _A(e){const t=[0];return yA(t,e.length-1),t}function bA(e,t){return e.map(r=>r*t)}function wA(e,t){return e.map(()=>t||Mw).splice(0,e.length-1)}function mu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=mA(n)?n.map(Zx):Zx(n),d={done:!1,value:t[0]},c=bA(r&&r.length===t.length?r:_A(t),e),l=xA(c,t,{ease:Array.isArray(o)?o:wA(t,o)});return{calculatedDuration:e,next:u=>(d.value=l(u),d.done=u>=e,d)}}const SA=e=>{const t=({timestamp:r})=>e(r);return{start:()=>bt.update(t,!0),stop:()=>Ys(t),now:()=>dr.isProcessing?dr.timestamp:zn.now()}},CA={decay:Qx,inertia:Qx,tween:mu,keyframes:mu,spring:Rw},kA=e=>e/100;class km extends Ew{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:n,element:o,keyframes:d}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Sm,l=(u,f)=>this.onKeyframesResolved(u,f);this.resolver=new c(d,l,r,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:d,velocity:c=0}=this.options,l=hm(r)?r:CA[r]||mu;let u,f;l!==mu&&typeof t[0]!="number"&&(u=pl(kA,Tw(t[0],t[1])),t=[0,100]);const p=l({...this.options,keyframes:t});d==="mirror"&&(f=l({...this.options,keyframes:[...t].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Xb(p));const{calculatedDuration:h}=p,v=h+o,_=v*(n+1)-o;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:u,calculatedDuration:h,resolvedDuration:v,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:o,generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:f,totalDuration:p,resolvedDuration:h}=n;if(this.startTime===null)return d.next(0);const{delay:v,repeat:_,repeatType:k,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-v*(this.speed>=0?1:-1),g=this.speed>=0?y<0:y>p;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let b=this.currentTime,j=d;if(_){const N=Math.min(this.currentTime,p)/h;let L=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&L--,L=Math.min(L,_+1),!!(L%2)&&(k==="reverse"?(F=1-F,w&&(F-=w/h)):k==="mirror"&&(j=c)),b=ds(0,1,F)*h}const T=g?{done:!1,value:u[0]}:j.next(b);l&&(T.value=l(T.value));let{done:P}=T;!g&&f!==null&&(P=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return E&&o!==void 0&&(T.value=Uu(u,this.options,o)),x&&x(T.value),E&&this.finish(),T}get duration(){const{resolved:t}=this;return t?us(t.calculatedDuration):0}get time(){return us(this.currentTime)}set time(t){t=cs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=us(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=SA,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const jA=new Set(["opacity","clipPath","filter","transform"]);function NA(e,t,r,{delay:n=0,duration:o=300,repeat:d=0,repeatType:c="loop",ease:l="easeInOut",times:u}={}){const f={[t]:r};u&&(f.offset=u);const p=Zb(l,o);return Array.isArray(p)&&(f.easing=p),e.animate(f,{delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:d+1,direction:c==="reverse"?"alternate":"normal"})}const EA=Jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gu=10,PA=2e4;function TA(e){return hm(e.type)||e.type==="spring"||!Qb(e.ease)}function AA(e,t){const r=new km({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const o=[];let d=0;for(;!n.done&&d<PA;)n=r.sample(d),o.push(n.value),d+=gu;return{times:void 0,keyframes:o,duration:d-gu,ease:"linear"}}const Dw={anticipate:dw,backInOut:uw,circInOut:fw};function RA(e){return e in Dw}class ey extends Ew{constructor(t){super(t);const{name:r,motionValue:n,element:o,keyframes:d}=this.options;this.resolver=new Nw(d,(c,l)=>this.onKeyframesResolved(c,l),r,n,o),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:o,ease:d,type:c,motionValue:l,name:u,startTime:f}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof d=="string"&&fu()&&RA(d)&&(d=Dw[d]),TA(this.options)){const{onComplete:h,onUpdate:v,motionValue:_,element:k,...w}=this.options,x=AA(t,w);t=x.keyframes,t.length===1&&(t[1]=t[0]),n=x.duration,o=x.times,d=x.ease,c="keyframes"}const p=NA(l.owner.current,u,t,{...this.options,duration:n,times:o,ease:d});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(Bx(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:h}=this.options;l.set(Uu(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:o,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return us(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return us(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=cs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Xr;const{animation:n}=r;Bx(n,t)}return Xr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:o,type:d,ease:c,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:h,element:v,..._}=this.options,k=new km({..._,keyframes:n,duration:o,type:d,ease:c,times:l,isGenerator:!0}),w=cs(this.time);f.setWithVelocity(k.sample(w-gu).value,k.sample(w).value,gu)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:o,repeatType:d,damping:c,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=r.owner.getProps();return EA()&&n&&jA.has(n)&&!u&&!f&&!o&&d!=="mirror"&&c!==0&&l!=="inertia"}}const MA={type:"spring",stiffness:500,damping:25,restSpeed:10},DA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LA={type:"keyframes",duration:.8},IA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OA=(e,{keyframes:t})=>t.length>2?LA:Oi.has(e)?e.startsWith("scale")?DA(t[1]):MA:IA;function BA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:d,repeatType:c,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const jm=(e,t,r,n={},o,d)=>c=>{const l=dm(n,e)||{},u=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-cs(u);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{c(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:d?void 0:o};BA(l)||(p={...p,...OA(e,p)}),p.duration&&(p.duration=cs(p.duration)),p.repeatDelay&&(p.repeatDelay=cs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(h=!0)),h&&!d&&t.get()!==void 0){const v=Uu(p.keyframes,l);if(v!==void 0)return bt.update(()=>{p.onUpdate(v),p.onComplete()}),new nT([])}return!d&&ey.supports(p)?new ey(p):new km(p)};function FA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Lw(e,t,{delay:r=0,transitionOverride:n,type:o}={}){var d;let{transition:c=e.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(c=n);const f=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const h in u){const v=e.getValue(h,(d=e.latestValues[h])!==null&&d!==void 0?d:null),_=u[h];if(_===void 0||p&&FA(p,h))continue;const k={delay:r,...dm(c||{},h)};let w=!1;if(window.MotionHandoffAnimation){const y=iw(e);if(y){const g=window.MotionHandoffAnimation(y,h,bt);g!==null&&(k.startTime=g,w=!0)}}rp(e,h),v.start(jm(h,v,_,e.shouldReduceMotion&&nw.has(h)?{type:!1}:k,e,w));const x=v.animation;x&&f.push(x)}return l&&Promise.all(f).then(()=>{bt.update(()=>{l&&vT(e,l)})}),f}function cp(e,t,r={}){var n;const o=Vu(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(d=r.transitionOverride);const c=o?()=>Promise.all(Lw(e,o,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:v}=d;return zA(e,t,p+f,h,v,r)}:()=>Promise.resolve(),{when:u}=d;if(u){const[f,p]=u==="beforeChildren"?[c,l]:[l,c];return f().then(()=>p())}else return Promise.all([c(),l(r.delay)])}function zA(e,t,r=0,n=0,o=1,d){const c=[],l=(e.variantChildren.size-1)*n,u=o===1?(f=0)=>f*n:(f=0)=>l-f*n;return Array.from(e.variantChildren).sort(HA).forEach((f,p)=>{f.notify("AnimationStart",t),c.push(cp(f,t,{...d,delay:r+u(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function HA(e,t){return e.sortNodePosition(t)}function $A(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(d=>cp(e,d,r));n=Promise.all(o)}else if(typeof t=="string")n=cp(e,t,r);else{const o=typeof t=="function"?Vu(e,t,r.custom):t;n=Promise.all(Lw(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const VA=Zp.length;function Iw(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Iw(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<VA;r++){const n=Zp[r],o=e.props[n];(Xa(o)||o===!1)&&(t[n]=o)}return t}const UA=[...Qp].reverse(),WA=Qp.length;function GA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>$A(e,r,n)))}function KA(e){let t=GA(e),r=ty(),n=!0;const o=u=>(f,p)=>{var h;const v=Vu(e,p,u==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(v){const{transition:_,transitionEnd:k,...w}=v;f={...f,...w,...k}}return f};function d(u){t=u(e)}function c(u){const{props:f}=e,p=Iw(e.parent)||{},h=[],v=new Set;let _={},k=1/0;for(let x=0;x<WA;x++){const y=UA[x],g=r[y],b=f[y]!==void 0?f[y]:p[y],j=Xa(b),T=y===u?g.isActive:null;T===!1&&(k=x);let P=b===p[y]&&b!==f[y]&&j;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={..._},!g.isActive&&T===null||!b&&!g.prevProp||Hu(b)||typeof b=="boolean")continue;const E=qA(g.prevProp,b);let N=E||y===u&&g.isActive&&!P&&j||x>k&&j,L=!1;const F=Array.isArray(b)?b:[b];let B=F.reduce(o(y),{});T===!1&&(B={});const{prevResolvedValues:V={}}=g,U={...V,...B},X=K=>{N=!0,v.has(K)&&(L=!0,v.delete(K)),g.needsAnimating[K]=!0;const $=e.getValue(K);$&&($.liveStyle=!1)};for(const K in U){const $=B[K],D=V[K];if(_.hasOwnProperty(K))continue;let M=!1;Zf($)&&Zf(D)?M=!Yb($,D):M=$!==D,M?$!=null?X(K):v.add(K):$!==void 0&&v.has(K)?X(K):g.protectedKeys[K]=!0}g.prevProp=b,g.prevResolvedValues=B,g.isActive&&(_={..._,...B}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(P&&E)||L)&&h.push(...F.map(K=>({animation:K,options:{type:y}})))}if(v.size){const x={};v.forEach(y=>{const g=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=g??null}),h.push({animation:x})}let w=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(h):Promise.resolve()}function l(u,f){var p;if(r[u].isActive===f)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var _;return(_=v.animationState)===null||_===void 0?void 0:_.setActive(u,f)}),r[u].isActive=f;const h=c(u);for(const v in r)r[v].protectedKeys={};return h}return{animateChanges:c,setActive:l,setAnimateFunction:d,getState:()=>r,reset:()=>{r=ty(),n=!0}}}function qA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Yb(t,e):!1}function Si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ty(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class si{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YA extends si{constructor(t){super(t),t.animationState||(t.animationState=KA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let XA=0;class JA extends si{constructor(){super(...arguments),this.id=XA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const QA={animation:{Feature:YA},exit:{Feature:JA}};function el(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ml(e){return{point:{x:e.pageX,y:e.pageY}}}const ZA=e=>t=>pm(t)&&e(t,ml(t));function Ua(e,t,r,n){return el(e,t,ZA(r),n)}const ry=(e,t)=>Math.abs(e-t);function eR(e,t){const r=ry(e.x,t.x),n=ry(e.y,t.y);return Math.sqrt(r**2+n**2)}class Ow{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gf(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=eR(h.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:k}=h,{timestamp:w}=dr;this.history.push({...k,timestamp:w});const{onStart:x,onMove:y}=this.handlers;v||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,v)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=mf(v,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(h,v)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gf(h.type==="pointercancel"?this.lastMoveEventInfo:mf(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(h,x),k&&k(h,x)},!pm(t))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=ml(t),l=mf(c,this.transformPagePoint),{point:u}=l,{timestamp:f}=dr;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(t,gf(l,this.history)),this.removeListeners=pl(Ua(this.contextWindow,"pointermove",this.handlePointerMove),Ua(this.contextWindow,"pointerup",this.handlePointerUp),Ua(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function mf(e,t){return t?{point:t(e.point)}:e}function ny(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gf({point:e},t){return{point:e,delta:ny(e,Bw(t)),offset:ny(e,tR(t)),velocity:rR(t,.1)}}function tR(e){return e[0]}function Bw(e){return e[e.length-1]}function rR(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=Bw(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>cs(t)));)r--;if(!n)return{x:0,y:0};const d=us(o.timestamp-n.timestamp);if(d===0)return{x:0,y:0};const c={x:(o.x-n.x)/d,y:(o.y-n.y)/d};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Fw=1e-4,nR=1-Fw,sR=1+Fw,zw=.01,iR=0-zw,oR=0+zw;function Qr(e){return e.max-e.min}function aR(e,t,r){return Math.abs(e-t)<=r}function sy(e,t,r,n=.5){e.origin=n,e.originPoint=Nt(t.min,t.max,e.origin),e.scale=Qr(r)/Qr(t),e.translate=Nt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=nR&&e.scale<=sR||isNaN(e.scale))&&(e.scale=1),(e.translate>=iR&&e.translate<=oR||isNaN(e.translate))&&(e.translate=0)}function Wa(e,t,r,n){sy(e.x,t.x,r.x,n?n.originX:void 0),sy(e.y,t.y,r.y,n?n.originY:void 0)}function iy(e,t,r){e.min=r.min+t.min,e.max=e.min+Qr(t)}function lR(e,t,r){iy(e.x,t.x,r.x),iy(e.y,t.y,r.y)}function oy(e,t,r){e.min=t.min-r.min,e.max=e.min+Qr(t)}function Ga(e,t,r){oy(e.x,t.x,r.x),oy(e.y,t.y,r.y)}function cR(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Nt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Nt(r,e,n.max):Math.min(e,r)),e}function ay(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function uR(e,{top:t,left:r,bottom:n,right:o}){return{x:ay(e.x,r,o),y:ay(e.y,t,n)}}function ly(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function dR(e,t){return{x:ly(e.x,t.x),y:ly(e.y,t.y)}}function hR(e,t){let r=.5;const n=Qr(e),o=Qr(t);return o>n?r=No(t.min,t.max-n,e.min):n>o&&(r=No(e.min,e.max-o,t.min)),ds(0,1,r)}function fR(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const up=.35;function pR(e=up){return e===!1?e=0:e===!0&&(e=up),{x:cy(e,"left","right"),y:cy(e,"top","bottom")}}function cy(e,t,r){return{min:uy(e,t),max:uy(e,r)}}function uy(e,t){return typeof e=="number"?e:e[t]||0}const dy=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:dy(),y:dy()}),hy=()=>({min:0,max:0}),Bt=()=>({x:hy(),y:hy()});function cn(e){return[e("x"),e("y")]}function Hw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function mR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gR(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function vf(e){return e===void 0||e===1}function dp({scale:e,scaleX:t,scaleY:r}){return!vf(e)||!vf(t)||!vf(r)}function ki(e){return dp(e)||$w(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $w(e){return fy(e.x)||fy(e.y)}function fy(e){return e&&e!=="0%"}function vu(e,t,r){const n=e-r,o=t*n;return r+o}function py(e,t,r,n,o){return o!==void 0&&(e=vu(e,o,n)),vu(e,r,n)+t}function hp(e,t=0,r=1,n,o){e.min=py(e.min,t,r,n,o),e.max=py(e.max,t,r,n,o)}function Vw(e,{x:t,y:r}){hp(e.x,t.translate,t.scale,t.originPoint),hp(e.y,r.translate,r.scale,r.originPoint)}const my=.999999999999,gy=1.0000000000001;function vR(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let d,c;for(let l=0;l<o;l++){d=r[l],c=d.projectionDelta;const{visualElement:u}=d.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bo(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Vw(e,c)),n&&ki(d.latestValues)&&bo(e,d.latestValues))}t.x<gy&&t.x>my&&(t.x=1),t.y<gy&&t.y>my&&(t.y=1)}function _o(e,t){e.min=e.min+t,e.max=e.max+t}function vy(e,t,r,n,o=.5){const d=Nt(e.min,e.max,o);hp(e,t,r,d,n)}function bo(e,t){vy(e.x,t.x,t.scaleX,t.scale,t.originX),vy(e.y,t.y,t.scaleY,t.scale,t.originY)}function Uw(e,t){return Hw(gR(e.getBoundingClientRect(),t))}function xR(e,t,r){const n=Uw(e,r),{scroll:o}=t;return o&&(_o(n.x,o.offset.x),_o(n.y,o.offset.y)),n}const Ww=({current:e})=>e?e.ownerDocument.defaultView:null,yR=new WeakMap;class _R{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ml(p).point)},d=(p,h)=>{const{drag:v,dragPropagation:_,onDragStart:k}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hT(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Fn.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[x];b&&(y=Qr(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),k&&bt.postRender(()=>k(p,h)),rp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(p,h)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:k,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=h;if(_&&this.currentDirection===null){this.currentDirection=bR(x),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(p,h)},l=(p,h)=>this.stop(p,h),u=()=>cn(p=>{var h;return this.getAnimationState(p)==="paused"&&((h=this.getAxisMotionValue(p).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Ow(t,{onSessionStart:o,onStart:d,onMove:c,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Ww(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:d}=this.getProps();d&&bt.postRender(()=>d(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!Hc(t,o,this.currentDirection))return;const d=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=cR(c,this.constraints[t],this.elastic[t])),d.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,d=this.constraints;r&&vo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=uR(o.layoutBox,r):this.constraints=!1,this.elastic=pR(n),d!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&cn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=fR(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!vo(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const d=xR(n,o.root,this.visualElement.getTransformPagePoint());let c=dR(o.layout.layoutBox,d);if(r){const l=r(mR(c));this.hasMutatedConstraints=!!l,l&&(c=Hw(l))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:d,dragSnapToOrigin:c,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=cn(p=>{if(!Hc(p,r,this.currentDirection))return;let h=u&&u[p]||{};c&&(h={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,k={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...d,...h};return this.startAxisValueAnimation(p,k)});return Promise.all(f).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return rp(this.visualElement,t),n.start(jm(t,n,0,r,this.visualElement,!1))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){cn(r=>{const{drag:n}=this.getProps();if(!Hc(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,d=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:l}=o.layout.layoutBox[r];d.set(t[r]-Nt(c,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vo(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};cn(c=>{const l=this.getAxisMotionValue(c);if(l&&this.constraints!==!1){const u=l.get();o[c]=hR({min:u,max:u},this.constraints[c])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cn(c=>{if(!Hc(c,t,null))return;const l=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];l.set(Nt(u,f,o[c]))})}addListeners(){if(!this.visualElement.current)return;yR.set(this.visualElement,this);const t=this.visualElement.current,r=Ua(t,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();vo(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,d=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),bt.read(n);const c=el(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(cn(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=u[p].translate,h.set(h.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),d(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:d=!1,dragElastic:c=up,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:d,dragElastic:c,dragMomentum:l}}}function Hc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function bR(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class wR extends si{constructor(t){super(t),this.removeGroupControls=Xr,this.removeListeners=Xr,this.controls=new _R(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xy=e=>(t,r)=>{e&&bt.postRender(()=>e(t,r))};class SR extends si{constructor(){super(...arguments),this.removePointerDownListener=Xr}onPointerDown(t){this.session=new Ow(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ww(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:xy(t),onStart:xy(r),onMove:n,onEnd:(d,c)=>{delete this.session,o&&bt.postRender(()=>o(d,c))}}}mount(){this.removePointerDownListener=Ua(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ra={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const r=yy(e,t.target.x),n=yy(e,t.target.y);return`${r}% ${n}%`}},CR={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Xs.parse(e);if(o.length>5)return n;const d=Xs.createTransformer(e),c=typeof o[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;o[0+c]/=l,o[1+c]/=u;const f=Nt(l,u,.5);return typeof o[2+c]=="number"&&(o[2+c]/=f),typeof o[3+c]=="number"&&(o[3+c]/=f),d(o)}};class kR extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:d}=t;WP(jR),d&&(r.group&&r.group.add(d),n&&n.register&&o&&n.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:d}=this.props,c=n.projection;return c&&(c.isPresent=d,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?c.promote():c.relegate()||bt.postRender(()=>{const l=c.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Gw(e){const[t,r]=Eb(),n=C.useContext(Kp);return i.jsx(kR,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(Ib),isPresent:t,safeToRemove:r})}const jR={borderRadius:{...Ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomLeftRadius:Ra,borderBottomRightRadius:Ra,boxShadow:CR};function NR(e,t,r){const n=br(e)?e:Qa(e);return n.start(jm("",n,t,r)),n.animation}function ER(e){return e instanceof SVGElement&&e.tagName!=="svg"}const PR=(e,t)=>e.depth-t.depth;class TR{constructor(){this.children=[],this.isDirty=!1}add(t){mm(this.children,t),this.isDirty=!0}remove(t){gm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PR),this.isDirty=!1,this.children.forEach(t)}}function AR(e,t){const r=zn.now(),n=({timestamp:o})=>{const d=o-r;d>=t&&(Ys(n),e(d-t))};return bt.read(n,!0),()=>Ys(n)}const Kw=["TopLeft","TopRight","BottomLeft","BottomRight"],RR=Kw.length,_y=e=>typeof e=="string"?parseFloat(e):e,by=e=>typeof e=="number"||qe.test(e);function MR(e,t,r,n,o,d){o?(e.opacity=Nt(0,r.opacity!==void 0?r.opacity:1,DR(n)),e.opacityExit=Nt(t.opacity!==void 0?t.opacity:1,0,LR(n))):d&&(e.opacity=Nt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<RR;c++){const l=`border${Kw[c]}Radius`;let u=wy(t,l),f=wy(r,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||by(u)===by(f)?(e[l]=Math.max(Nt(_y(u),_y(f),n),0),(Fn.test(f)||Fn.test(u))&&(e[l]+="%")):e[l]=f}(t.rotate||r.rotate)&&(e.rotate=Nt(t.rotate||0,r.rotate||0,n))}function wy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DR=qw(0,.5,hw),LR=qw(.5,.95,Xr);function qw(e,t,r){return n=>n<e?0:n>t?1:r(No(e,t,n))}function Sy(e,t){e.min=t.min,e.max=t.max}function ln(e,t){Sy(e.x,t.x),Sy(e.y,t.y)}function Cy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ky(e,t,r,n,o){return e-=t,e=vu(e,1/r,n),o!==void 0&&(e=vu(e,1/o,n)),e}function IR(e,t=0,r=1,n=.5,o,d=e,c=e){if(Fn.test(t)&&(t=parseFloat(t),t=Nt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let l=Nt(d.min,d.max,n);e===d&&(l-=t),e.min=ky(e.min,t,r,l,o),e.max=ky(e.max,t,r,l,o)}function jy(e,t,[r,n,o],d,c){IR(e,t[r],t[n],t[o],t.scale,d,c)}const OR=["x","scaleX","originX"],BR=["y","scaleY","originY"];function Ny(e,t,r,n){jy(e.x,t,OR,r?r.x:void 0,n?n.x:void 0),jy(e.y,t,BR,r?r.y:void 0,n?n.y:void 0)}function Ey(e){return e.translate===0&&e.scale===1}function Yw(e){return Ey(e.x)&&Ey(e.y)}function Py(e,t){return e.min===t.min&&e.max===t.max}function FR(e,t){return Py(e.x,t.x)&&Py(e.y,t.y)}function Ty(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Xw(e,t){return Ty(e.x,t.x)&&Ty(e.y,t.y)}function Ay(e){return Qr(e.x)/Qr(e.y)}function Ry(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zR{constructor(){this.members=[]}add(t){mm(this.members,t),t.scheduleRender()}remove(t){if(gm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const d=this.members[o];if(d.isPresent!==!1){n=d;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HR(e,t,r){let n="";const o=e.x.translate/t.x,d=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((o||d||c)&&(n=`translate3d(${o}px, ${d}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:h,rotateY:v,skewX:_,skewY:k}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),v&&(n+=`rotateY(${v}deg) `),_&&(n+=`skewX(${_}deg) `),k&&(n+=`skewY(${k}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const ji={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},za=typeof window<"u"&&window.MotionDebug!==void 0,xf=["","X","Y","Z"],$R={visibility:"hidden"},My=1e3;let VR=0;function yf(e,t,r,n){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Jw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=iw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",bt,!(o||d))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Jw(n)}function Qw({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},l=t==null?void 0:t()){this.id=VR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,za&&(ji.totalNodes=ji.resolvedTargetDeltas=ji.recalculatedProjection=0),this.nodes.forEach(GR),this.nodes.forEach(JR),this.nodes.forEach(QR),this.nodes.forEach(KR),za&&window.MotionDebug.record(ji)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new TR)}addEventListener(c,l){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vm),this.eventHandlers.get(c).add(l)}notifyListeners(c,...l){const u=this.eventHandlers.get(c);u&&u.notify(...l)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ER(c),this.instance=c;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||u)&&(this.isLayoutDirty=!0),e){let h;const v=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=AR(v,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(Ly))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:v,hasRelativeTargetChanged:_,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||n4,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=p.getProps(),g=!this.targetLayout||!Xw(this.targetLayout,k)||_,b=!v&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||v&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const j={...dm(w,"layout"),onPlay:x,onComplete:y};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else v||Ly(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZR),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dy);return}this.isUpdating||this.nodes.forEach(YR),this.isUpdating=!1,this.nodes.forEach(XR),this.nodes.forEach(UR),this.nodes.forEach(WR),this.clearAllSnapshots();const l=zn.now();dr.delta=ds(0,1e3/60,l-dr.timestamp),dr.timestamp=l,dr.isProcessing=!0,cf.update.process(dr),cf.preRender.process(dr),cf.render.process(dr),dr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qR),this.sharedNodes.forEach(e4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(l=!1),l){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Yw(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&(l||ki(this.latestValues)||p)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return c&&(u=this.removeTransform(u)),s4(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:l}=this.options;if(!l)return Bt();const u=l.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(i4))){const{scroll:p}=this.root;p&&(_o(u.x,p.offset.x),_o(u.y,p.offset.y))}return u}removeElementScroll(c){var l;const u=Bt();if(ln(u,c),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:h,options:v}=p;p!==this.root&&h&&v.layoutScroll&&(h.wasRoot&&ln(u,c),_o(u.x,h.offset.x),_o(u.y,h.offset.y))}return u}applyTransform(c,l=!1){const u=Bt();ln(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&bo(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ki(p.latestValues)&&bo(u,p.latestValues)}return ki(this.latestValues)&&bo(u,this.latestValues),u}removeTransform(c){const l=Bt();ln(l,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!ki(f.latestValues))continue;dp(f.latestValues)&&f.updateSnapshot();const p=Bt(),h=f.measurePageBox();ln(p,h),Ny(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ki(this.latestValues)&&Ny(l,this.latestValues),l}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:v}=this.options;if(!(!this.layout||!(h||v))){if(this.resolvedRelativeTargetAt=dr.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),Vw(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Ga(this.relativeTargetOrigin,this.target,_.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}za&&ji.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dp(this.parent.latestValues)||$w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===dr.timestamp&&(f=!1),f)return;const{layout:p,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||h))return;ln(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;vR(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:k}=l;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cy(this.prevProjectionDelta.x,this.projectionDelta.x),Cy(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!Ry(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ry(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),za&&ji.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(c,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},h=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Bt(),_=u?u.source:void 0,k=this.layout?this.layout.source:void 0,w=_!==k,x=this.getStack(),y=!x||x.members.length<=1,g=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(r4));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const T=j/1e3;Iy(h.x,c.x,T),Iy(h.y,c.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t4(this.relativeTarget,this.relativeTargetOrigin,v,T),b&&FR(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Bt()),ln(b,this.relativeTarget)),w&&(this.animationValues=p,MR(p,f,this.latestValues,T,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{ru.hasAnimatedSinceResize=!0,this.currentAnimation=NR(0,My,{...c,onUpdate:l=>{this.mixTargetDelta(l),c.onUpdate&&c.onUpdate(l)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(My),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=c;if(!(!l||!u||!f)){if(this!==c&&this.layout&&f&&Zw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Bt();const h=Qr(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+h;const v=Qr(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}ln(l,u),bo(l,p),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(c,l){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zR),this.sharedNodes.get(c).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let l=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&yf("z",c,f,this.animationValues);for(let p=0;p<xf.length;p++)yf(`rotate${xf[p]}`,c,f,this.animationValues),yf(`skew${xf[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}getProjectionStyles(c){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $R;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=eu(c==null?void 0:c.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=eu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ki(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const v=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=HR(this.projectionDeltaWithTransform,this.treeScale,v),p&&(f.transform=p(v,f.transform));const{x:_,y:k}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${k.origin*100}% 0`,h.animationValues?f.opacity=h===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in hu){if(v[w]===void 0)continue;const{correct:x,applyTo:y}=hu[w],g=f.transform==="none"?v[w]:x(v[w],h);if(y){const b=y.length;for(let j=0;j<b;j++)f[y[j]]=g}else f[w]=g}return this.options.layoutId&&(f.pointerEvents=h===this?eu(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var l;return(l=c.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Dy),this.root.sharedNodes.clear()}}}function UR(e){e.updateLayout()}function WR(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:d}=e.options,c=r.source!==e.layout.source;d==="size"?cn(h=>{const v=c?r.measuredBox[h]:r.layoutBox[h],_=Qr(v);v.min=n[h].min,v.max=v.min+_}):Zw(d,r.layoutBox,n)&&cn(h=>{const v=c?r.measuredBox[h]:r.layoutBox[h],_=Qr(n[h]);v.max=v.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+_)});const l=yo();Wa(l,n,r.layoutBox);const u=yo();c?Wa(u,e.applyTransform(o,!0),r.measuredBox):Wa(u,n,r.layoutBox);const f=!Yw(l);let p=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:v,layout:_}=h;if(v&&_){const k=Bt();Ga(k,r.layoutBox,v.layoutBox);const w=Bt();Ga(w,n,_.layoutBox),Xw(k,w)||(p=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=k,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function GR(e){za&&ji.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qR(e){e.clearSnapshot()}function Dy(e){e.clearMeasurements()}function YR(e){e.isLayoutDirty=!1}function XR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ly(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JR(e){e.resolveTargetDelta()}function QR(e){e.calcProjection()}function ZR(e){e.resetSkewAndRotation()}function e4(e){e.removeLeadSnapshot()}function Iy(e,t,r){e.translate=Nt(t.translate,0,r),e.scale=Nt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Oy(e,t,r,n){e.min=Nt(t.min,r.min,n),e.max=Nt(t.max,r.max,n)}function t4(e,t,r,n){Oy(e.x,t.x,r.x,n),Oy(e.y,t.y,r.y,n)}function r4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const n4={duration:.45,ease:[.4,0,.1,1]},By=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fy=By("applewebkit/")&&!By("chrome/")?Math.round:Xr;function zy(e){e.min=Fy(e.min),e.max=Fy(e.max)}function s4(e){zy(e.x),zy(e.y)}function Zw(e,t,r){return e==="position"||e==="preserve-aspect"&&!aR(Ay(t),Ay(r),.2)}function i4(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const o4=Qw({attachResizeListener:(e,t)=>el(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_f={current:void 0},e1=Qw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_f.current){const e=new o4({});e.mount(window),e.setOptions({layoutScroll:!0}),_f.current=e}return _f.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),a4={pan:{Feature:SR},drag:{Feature:wR,ProjectionNode:e1,MeasureLayout:Gw}};function Hy(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,d=n[o];d&&bt.postRender(()=>d(t,ml(t)))}class l4 extends si{mount(){const{current:t}=this.node;t&&(this.unmount=aT(t,r=>(Hy(this.node,r,"Start"),n=>Hy(this.node,n,"End"))))}unmount(){}}class c4 extends si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(el(this.node.current,"focus",()=>this.onFocus()),el(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $y(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),d=n[o];d&&bt.postRender(()=>d(t,ml(t)))}class u4 extends si{mount(){const{current:t}=this.node;t&&(this.unmount=dT(t,r=>($y(this.node,r,"Start"),(n,{success:o})=>$y(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fp=new WeakMap,bf=new WeakMap,d4=e=>{const t=fp.get(e.target);t&&t(e)},h4=e=>{e.forEach(d4)};function f4({root:e,...t}){const r=e||document;bf.has(r)||bf.set(r,{});const n=bf.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(h4,{root:e,...t})),n[o]}function p4(e,t,r){const n=f4(t);return fp.set(e,r),n.observe(e),()=>{fp.delete(e),n.unobserve(e)}}const m4={some:0,all:1};class g4 extends si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:d}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:m4[o]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,d&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),v=f?p:h;v&&v(u)};return p4(this.node.current,c,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(v4(t,r))&&this.startObserver()}unmount(){}}function v4({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const x4={inView:{Feature:g4},tap:{Feature:u4},focus:{Feature:c4},hover:{Feature:l4}},y4={layout:{ProjectionNode:e1,MeasureLayout:Gw}},pp={current:null},t1={current:!1};function _4(){if(t1.current=!0,!!Xp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pp.current=e.matches;e.addListener(t),t()}else pp.current=!1}const b4=[...jw,_r,Xs],w4=e=>b4.find(kw(e)),Vy=new WeakMap;function S4(e,t,r){for(const n in t){const o=t[n],d=r[n];if(br(o))e.addValue(n,o);else if(br(d))e.addValue(n,Qa(o,{owner:e}));else if(d!==o)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(n);e.addValue(n,Qa(c!==void 0?c:o,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Uy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C4{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:d,visualState:c},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=zn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,bt.render(this.render,!1,!0))};const{latestValues:u,renderState:f,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=!!d,this.isControllingVariants=$u(r),this.isVariantNode=Db(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const _ in v){const k=v[_];u[_]!==void 0&&br(k)&&k.set(u[_],!1)}}mount(t){this.current=t,Vy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),t1.current||_4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vy.delete(this.current),this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Oi.has(t),o=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&bt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),d(),c&&c(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eo){const r=Eo[t];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const d=this.features[t];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Uy.length;n++){const o=Uy[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const d="on"+o,c=t[d];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=S4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Qa(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Sw(o)||pw(o))?o=parseFloat(o):!w4(o)&&Xs.test(r)&&(o=_w(t,r)),this.setBaseTarget(t,br(o)?o.get():o)),br(o)?o.get():o}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const c=nm(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(o=c[t])}if(n&&o!==void 0)return o;const d=this.getBaseTargetFromProps(this.props,t);return d!==void 0&&!br(d)?d:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new vm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class r1 extends C4{constructor(){super(...arguments),this.KeyframeResolver=Nw}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;br(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function k4(e){return window.getComputedStyle(e)}class j4 extends r1{constructor(){super(...arguments),this.type="html",this.renderInstance=Vb}readValueFromInstance(t,r){if(Oi.has(r)){const n=wm(r);return n&&n.default||0}else{const n=k4(t),o=(zb(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Uw(t,r)}build(t,r,n){om(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return um(t,r,n)}}class N4 extends r1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Oi.has(r)){const n=wm(r);return n&&n.default||0}return r=Ub.has(r)?r:em(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Kb(t,r,n)}build(t,r,n){am(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,o){Wb(t,r,n,o)}mount(t){this.isSVGTag=cm(t.tagName),super.mount(t)}}const E4=(e,t)=>rm(e)?new N4(t):new j4(t,{allowProjection:e!==C.Fragment}),P4=eT({...QA,...x4,...a4,...y4},E4),Hn=mP(P4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:c,...l},u)=>C.createElement("svg",{ref:u,...A4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:n1("lucide",o),...l},[...c.map(([f,p])=>C.createElement(f,p)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=C.forwardRef(({className:n,...o},d)=>C.createElement(R4,{ref:d,iconNode:t,className:n1(`lucide-${T4(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D4=Ae("Activity",M4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],I4=Ae("ArrowLeftRight",L4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nm=Ae("ArrowRight",O4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ai=Ae("BookOpen",B4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],z4=Ae("Bot",F4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],To=Ae("Brain",H4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],s1=Ae("Building2",$4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U4=Ae("ChartColumn",V4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jt=Ae("Check",W4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hn=Ae("ChevronDown",G4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bi=Ae("ChevronRight",K4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y4=Ae("ChevronUp",q4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ao=Ae("CircleAlert",X4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Q4=Ae("CircleCheck",J4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Em=Ae("CircleHelp",Z4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t5=Ae("Circle",e5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],n5=Ae("Clipboard",r5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nu=Ae("Clock",s5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],o5=Ae("Code",i5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tl=Ae("Copy",a5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],c5=Ae("Cpu",l5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gl=Ae("Download",u5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],i1=Ae("EllipsisVertical",d5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],su=Ae("ExternalLink",h5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],o1=Ae("EyeOff",f5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a1=Ae("Eye",p5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Wu=Ae("FileCode",m5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],Pm=Ae("FilePen",g5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wr=Ae("FileText",v5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],mp=Ae("File",x5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],l1=Ae("Filter",y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],b5=Ae("FolderMinus",_5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Js=Ae("FolderOpen",w5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ei=Ae("FolderPlus",S5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Wy=Ae("FolderTree",C5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],hr=Ae("Folder",k5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],c1=Ae("GitBranch",j5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],E5=Ae("Github",N5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ro=Ae("Globe",P5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gy=Ae("History",T5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Tm=Ae("House",A5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],u1=Ae("Info",R5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],D5=Ae("Keyboard",M5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ks=Ae("Layers",L5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dt=Ae("LoaderCircle",I5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M5 12h14",key:"1ays0h"}]],B5=Ae("Minus",O5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],d1=Ae("Monitor",F5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ky=Ae("Moon",z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],h1=Ae("Move",H5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Qs=Ae("Package",$5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],U5=Ae("Palette",V5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],zo=Ae("PanelsTopLeft",W5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Am=Ae("PenLine",G5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qy=Ae("Pen",K5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],f1=Ae("Pencil",q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],X5=Ae("Play",Y5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],xu=Ae("Plug",J5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],St=Ae("Plus",Q5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eM=Ae("PowerOff",Z5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Yy=Ae("Power",tM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Mo=Ae("Puzzle",rM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fr=Ae("RefreshCw",nM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],iM=Ae("Rocket",sM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fi=Ae("Save",oM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vl=Ae("Search",aM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Ri=Ae("Server",lM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],p1=Ae("Settings2",cM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zs=Ae("Settings",uM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xl=Ae("Shield",dM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Xt=Ae("Sparkles",hM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pM=Ae("Star",fM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],$c=Ae("Store",mM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xy=Ae("Sun",gM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],Ft=Ae("Terminal",vM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wn=Ae("Trash2",xM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gu=Ae("TriangleAlert",yM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],gp=Ae("Upload",_M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],as=Ae("WandSparkles",bM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],iu=Ae("Workflow",wM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],m1=Ae("Wrench",SM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ti=Ae("X",CM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ku=Ae("Zap",kM),jM="/api";async function be(e,t={}){const r=`${jM}${e}`,n={headers:{"Content-Type":"application/json"},...t};t.body&&typeof t.body=="object"&&(n.body=JSON.stringify(t.body));const o=await fetch(r,n);if(!o.ok){const d=await o.json().catch(()=>({error:"Request failed"}));throw new Error(d.error||`HTTP ${o.status}`)}return o.json()}const we={async getProject(){return be("/project")},async getSubprojects(e){return be(`/subprojects?dir=${encodeURIComponent(e)}`)},async addManualSubproject(e,t){return be("/subprojects/add",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async removeManualSubproject(e,t){return be("/subprojects/remove",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async hideSubproject(e,t){return be("/subprojects/hide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async unhideSubproject(e,t){return be("/subprojects/unhide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async getHiddenSubprojects(e){return be(`/subprojects/hidden?dir=${encodeURIComponent(e)}`)},async detectTemplate(e){return be(`/detect-template?dir=${encodeURIComponent(e)}`)},async switchProject(e){return be("/switch-project",{method:"POST",body:{dir:e}})},async getProjects(){return be("/projects")},async addProject(e,t=null){return be("/projects",{method:"POST",body:{path:e,name:t}})},async removeProject(e){return be(`/projects/${e}`,{method:"DELETE"})},async setActiveProject(e){return be("/projects/active",{method:"PUT",body:{id:e}})},async getConfigs(){return be("/configs")},async updateConfig(e,t){return be("/config",{method:"PUT",body:{dir:e,config:t}})},async getRegistry(){return be("/registry")},async updateRegistry(e){return be("/registry",{method:"PUT",body:e})},async getRules(){return be("/rules")},async getRule(e){return be(`/rule?path=${encodeURIComponent(e)}`)},async saveRule(e,t){return be("/rule",{method:"PUT",body:{path:e,content:t}})},async createRule(e,t,r=""){return be("/rule",{method:"POST",body:{dir:e,name:t,content:r}})},async deleteRule(e){return be(`/rule?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getCommands(){return be("/commands")},async getCommand(e){return be(`/command?path=${encodeURIComponent(e)}`)},async saveCommand(e,t){return be("/command",{method:"PUT",body:{path:e,content:t}})},async createCommand(e,t,r=""){return be("/command",{method:"POST",body:{dir:e,name:t,content:r}})},async deleteCommand(e){return be(`/command?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getTemplates(){return be("/templates")},async applyTemplate(e,t){return be("/apply-template",{method:"POST",body:{template:e,dir:t}})},async applyConfig(e){return be("/apply",{method:"POST",body:{dir:e}})},async getEnv(e){return be(`/env?dir=${encodeURIComponent(e)}`)},async saveEnv(e,t){return be("/env",{method:"PUT",body:{dir:e,content:t}})},async getFileHashes(){return be("/file-hashes")},async checkVersion(){return be("/version-check")},async performUpdate(e){return be("/update",{method:"POST",body:e})},async reload(){return be("/reload",{method:"POST"})},async searchGithub(e){return be(`/search/github?q=${encodeURIComponent(e)}`)},async searchNpm(e){return be(`/search/npm?q=${encodeURIComponent(e)}`)},async getMcpTools(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return be(`/mcp-tools${t}`)},async getClaudeFolders(){return be("/claude-folders")},async getIntermediatePaths(){return be("/intermediate-paths")},async getClaudeFile(e){return be(`/claude-file?path=${encodeURIComponent(e)}`)},async saveClaudeFile(e,t){return be("/claude-file",{method:"PUT",body:{path:e,content:t}})},async deleteClaudeFile(e){return be(`/claude-file?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async createClaudeFile(e,t,r,n=""){return be("/claude-file",{method:"POST",body:{dir:e,name:t,type:r,content:n}})},async initClaudeFolder(e){return be("/init-claude-folder",{method:"POST",body:{dir:e}})},async deleteClaudeFolder(e){return be("/delete-claude-folder",{method:"POST",body:{dir:e}})},async initClaudeFolderBatch(e){return be("/init-claude-folder-batch",{method:"POST",body:{dirs:e}})},async applyTemplateToProjects(e,t){return be("/apply-template-batch",{method:"POST",body:{templateId:e,dirs:t}})},async getSyncPreview(e,t="claude",r="antigravity"){return be("/sync/preview",{method:"POST",body:{dir:e,source:t,target:r}})},async syncRules(e,t="claude",r="antigravity",n=null){return be("/sync/rules",{method:"POST",body:{dir:e,source:t,target:r,files:n}})},async moveClaudeItem(e,t,r="copy",n=!1){return be("/claude-move",{method:"POST",body:{sourcePath:e,targetDir:t,mode:r,merge:n}})},async renameClaudeFile(e,t){return be("/claude-rename",{method:"POST",body:{oldPath:e,newName:t}})},async getMemory(){return be("/memory")},async getMemoryFile(e){return be(`/memory/file?path=${encodeURIComponent(e)}`)},async saveMemoryFile(e,t){return be("/memory/file",{method:"PUT",body:{path:e,content:t}})},async addMemoryEntry(e,t,r="global"){return be("/memory/entry",{method:"POST",body:{type:e,content:t,scope:r}})},async initProjectMemory(e){return be("/memory/init",{method:"POST",body:{dir:e}})},async searchMemory(e){return be(`/memory/search?q=${encodeURIComponent(e)}`)},async getSyncState(){return be("/memory/sync")},async getClaudeSettings(){return be("/claude-settings")},async saveClaudeSettings(e){return be("/claude-settings",{method:"PUT",body:{settings:e}})},async getGeminiSettings(){return be("/gemini-settings")},async saveGeminiSettings(e){return be("/gemini-settings",{method:"PUT",body:e})},async getConfig(){return be("/preferences")},async saveConfig(e){return be("/preferences",{method:"PUT",body:e})},async browse(e,t="directory"){return be("/browse",{method:"POST",body:{path:e,type:t}})},async markTemplateApplied(e,t){return be("/mark-template",{method:"POST",body:{template:e,dir:t}})},async getVersion(){return be("/version")},async getChangelog(){return be("/changelog")},async restartServer(){return be("/restart",{method:"POST"})},async getPlugins(){return be("/plugins")},async installPlugin(e,t,r="user",n=null){return be("/plugins/install",{method:"POST",body:{pluginId:e,marketplace:t,scope:r,projectDir:n}})},async uninstallPlugin(e){return be("/plugins/uninstall",{method:"POST",body:{pluginId:e}})},async getEnabledPlugins(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return be(`/plugins/enabled${t}`)},async setPluginEnabled(e,t,r){return be("/plugins/enabled",{method:"POST",body:{dir:e,pluginId:t,enabled:r}})},async getMarketplaces(){return be("/plugins/marketplaces")},async addMarketplace(e,t){return be("/plugins/marketplaces",{method:"POST",body:{name:e,repo:t}})},async refreshMarketplace(e){return be("/plugins/marketplaces/refresh",{method:"POST",body:{name:e}})},async getWorkstreams(){return be("/workstreams")},async getActiveWorkstream(){return be("/workstreams/active")},async setActiveWorkstream(e){return be("/workstreams/active",{method:"PUT",body:{id:e}})},async createWorkstream(e,t=[],r=""){return be("/workstreams",{method:"POST",body:{name:e,projects:t,rules:r}})},async updateWorkstream(e,t){return be(`/workstreams/${e}`,{method:"PUT",body:t})},async deleteWorkstream(e){return be(`/workstreams/${e}`,{method:"DELETE"})},async addProjectToWorkstream(e,t){return be(`/workstreams/${e}/add-project`,{method:"POST",body:{projectPath:t}})},async removeProjectFromWorkstream(e,t){return be(`/workstreams/${e}/remove-project`,{method:"POST",body:{projectPath:t}})},async injectWorkstream(){return be("/workstreams/inject")},async detectWorkstream(e){return be("/workstreams/detect",{method:"POST",body:{dir:e}})},async getWorkstreamHookStatus(){return be("/workstreams/hook-status")},async installWorkstreamHook(){return be("/workstreams/install-hook",{method:"POST"})},async getActivitySummary(){return be("/activity")},async logActivity(e,t){return be("/activity/log",{method:"POST",body:{files:e,sessionId:t}})},async getWorkstreamSuggestions(){return be("/activity/suggestions")},async clearActivity(e=30){return be("/activity",{method:"DELETE",body:{olderThanDays:e}})},async getSmartSyncStatus(){return be("/smart-sync/status")},async smartSyncDetect(e){return be("/smart-sync/detect",{method:"POST",body:{projects:e}})},async smartSyncCheckNudge(e){return be("/smart-sync/nudge",{method:"POST",body:{projects:e}})},async smartSyncHandleAction(e,t,r={}){return be("/smart-sync/action",{method:"POST",body:{nudgeKey:e,action:t,context:r}})},async smartSyncUpdateSettings(e){return be("/smart-sync/settings",{method:"PUT",body:e})},async smartSyncRememberChoice(e,t,r){return be("/smart-sync/remember",{method:"POST",body:{projectPath:e,workstreamId:t,choice:r}})}};function Jy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ys(...e){return t=>{let r=!1;const n=e.map(o=>{const d=Jy(o,t);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let o=0;o<n.length;o++){const d=n[o];typeof d=="function"?d():Jy(e[o],null)}}}}function Ze(...e){return C.useCallback(ys(...e),e)}var NM=Symbol.for("react.lazy"),yu=Gp[" use ".trim().toString()];function EM(e){return typeof e=="object"&&e!==null&&"then"in e}function g1(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===NM&&"_payload"in e&&EM(e._payload)}function Rm(e){const t=TM(e),r=C.forwardRef((n,o)=>{let{children:d,...c}=n;g1(d)&&typeof yu=="function"&&(d=yu(d._payload));const l=C.Children.toArray(d),u=l.find(RM);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}var PM=Rm("Slot");function TM(e){const t=C.forwardRef((r,n)=>{let{children:o,...d}=r;if(g1(o)&&typeof yu=="function"&&(o=yu(o._payload)),C.isValidElement(o)){const c=DM(o),l=MM(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AM=Symbol("radix.slottable");function RM(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AM}function MM(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function DM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function v1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=v1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function x1(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=v1(e))&&(n&&(n+=" "),n+=t);return n}const Qy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zy=x1,qu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:d}=t,c=Object.keys(o).map(f=>{const p=r==null?void 0:r[f],h=d==null?void 0:d[f];if(p===null)return null;const v=Qy(p)||Qy(h);return o[f][v]}),l=r&&Object.entries(r).reduce((f,p)=>{let[h,v]=p;return v===void 0||(f[h]=v),f},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:v,..._}=p;return Object.entries(_).every(k=>{let[w,x]=k;return Array.isArray(x)?x.includes({...d,...l}[w]):{...d,...l}[w]===x})?[...f,h,v]:f},[]);return Zy(e,c,u,r==null?void 0:r.class,r==null?void 0:r.className)},LM=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},IM=(e,t)=>({classGroupId:e,validator:t}),y1=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),_u="-",e_=[],OM="arbitrary..",BM=e=>{const t=zM(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return FM(c);const l=c.split(_u),u=l[0]===""&&l.length>1?1:0;return _1(l,u,t)},getConflictingClassGroupIds:(c,l)=>{if(l){const u=n[c],f=r[c];return u?f?LM(f,u):u:f||e_}return r[c]||e_}}},_1=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],d=r.nextPart.get(o);if(d){const f=_1(e,t+1,d);if(f)return f}const c=r.validators;if(c===null)return;const l=t===0?e.join(_u):e.slice(t).join(_u),u=c.length;for(let f=0;f<u;f++){const p=c[f];if(p.validator(l))return p.classGroupId}},FM=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?OM+n:void 0})(),zM=e=>{const{theme:t,classGroups:r}=e;return HM(r,t)},HM=(e,t)=>{const r=y1();for(const n in e){const o=e[n];Mm(o,r,n,t)}return r},Mm=(e,t,r,n)=>{const o=e.length;for(let d=0;d<o;d++){const c=e[d];$M(c,t,r,n)}},$M=(e,t,r,n)=>{if(typeof e=="string"){VM(e,t,r);return}if(typeof e=="function"){UM(e,t,r,n);return}WM(e,t,r,n)},VM=(e,t,r)=>{const n=e===""?t:b1(t,e);n.classGroupId=r},UM=(e,t,r,n)=>{if(GM(e)){Mm(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(IM(r,e))},WM=(e,t,r,n)=>{const o=Object.entries(e),d=o.length;for(let c=0;c<d;c++){const[l,u]=o[c];Mm(u,b1(t,l),r,n)}},b1=(e,t)=>{let r=e;const n=t.split(_u),o=n.length;for(let d=0;d<o;d++){const c=n[d];let l=r.nextPart.get(c);l||(l=y1(),r.nextPart.set(c,l)),r=l}return r},GM=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,KM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(d,c)=>{r[d]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(d){let c=r[d];if(c!==void 0)return c;if((c=n[d])!==void 0)return o(d,c),c},set(d,c){d in r?r[d]=c:o(d,c)}}},vp="!",t_=":",qM=[],r_=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),YM=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const d=[];let c=0,l=0,u=0,f;const p=o.length;for(let w=0;w<p;w++){const x=o[w];if(c===0&&l===0){if(x===t_){d.push(o.slice(u,w)),u=w+1;continue}if(x==="/"){f=w;continue}}x==="["?c++:x==="]"?c--:x==="("?l++:x===")"&&l--}const h=d.length===0?o:o.slice(u);let v=h,_=!1;h.endsWith(vp)?(v=h.slice(0,-1),_=!0):h.startsWith(vp)&&(v=h.slice(1),_=!0);const k=f&&f>u?f-u:void 0;return r_(d,_,v,k)};if(t){const o=t+t_,d=n;n=c=>c.startsWith(o)?d(c.slice(o.length)):r_(qM,!1,c,void 0,!0)}if(r){const o=n;n=d=>r({className:d,parseClassName:o})}return n},XM=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let d=0;d<r.length;d++){const c=r[d],l=c[0]==="[",u=t.has(c);l||u?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(c)):o.push(c)}return o.length>0&&(o.sort(),n.push(...o)),n}},JM=e=>({cache:KM(e.cacheSize),parseClassName:YM(e),sortModifiers:XM(e),...BM(e)}),QM=/\s+/,ZM=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:d}=t,c=[],l=e.trim().split(QM);let u="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{isExternal:h,modifiers:v,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:w}=r(p);if(h){u=p+(u.length>0?" "+u:u);continue}let x=!!w,y=n(x?k.substring(0,w):k);if(!y){if(!x){u=p+(u.length>0?" "+u:u);continue}if(y=n(k),!y){u=p+(u.length>0?" "+u:u);continue}x=!1}const g=v.length===0?"":v.length===1?v[0]:d(v).join(":"),b=_?g+vp:g,j=b+y;if(c.indexOf(j)>-1)continue;c.push(j);const T=o(y,x);for(let P=0;P<T.length;++P){const E=T[P];c.push(b+E)}u=p+(u.length>0?" "+u:u)}return u},eD=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=w1(r))&&(o&&(o+=" "),o+=n);return o},w1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=w1(e[n]))&&(r&&(r+=" "),r+=t);return r},tD=(e,...t)=>{let r,n,o,d;const c=u=>{const f=t.reduce((p,h)=>h(p),e());return r=JM(f),n=r.cache.get,o=r.cache.set,d=l,l(u)},l=u=>{const f=n(u);if(f)return f;const p=ZM(u,r);return o(u,p),p};return d=c,(...u)=>d(eD(...u))},rD=[],Yt=e=>{const t=r=>r[e]||rD;return t.isThemeGetter=!0,t},S1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,C1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nD=/^\d+\/\d+$/,sD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=e=>nD.test(e),rt=e=>!!e&&!Number.isNaN(Number(e)),Vs=e=>!!e&&Number.isInteger(Number(e)),wf=e=>e.endsWith("%")&&rt(e.slice(0,-1)),os=e=>sD.test(e),cD=()=>!0,uD=e=>iD.test(e)&&!oD.test(e),k1=()=>!1,dD=e=>aD.test(e),hD=e=>lD.test(e),fD=e=>!Fe(e)&&!ze(e),pD=e=>Ho(e,E1,k1),Fe=e=>S1.test(e),Ci=e=>Ho(e,P1,uD),Sf=e=>Ho(e,yD,rt),n_=e=>Ho(e,j1,k1),mD=e=>Ho(e,N1,hD),Vc=e=>Ho(e,T1,dD),ze=e=>C1.test(e),Ma=e=>$o(e,P1),gD=e=>$o(e,_D),s_=e=>$o(e,j1),vD=e=>$o(e,E1),xD=e=>$o(e,N1),Uc=e=>$o(e,T1,!0),Ho=(e,t,r)=>{const n=S1.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},$o=(e,t,r=!1)=>{const n=C1.exec(e);return n?n[1]?t(n[1]):r:!1},j1=e=>e==="position"||e==="percentage",N1=e=>e==="image"||e==="url",E1=e=>e==="length"||e==="size"||e==="bg-size",P1=e=>e==="length",yD=e=>e==="number",_D=e=>e==="family-name",T1=e=>e==="shadow",bD=()=>{const e=Yt("color"),t=Yt("font"),r=Yt("text"),n=Yt("font-weight"),o=Yt("tracking"),d=Yt("leading"),c=Yt("breakpoint"),l=Yt("container"),u=Yt("spacing"),f=Yt("radius"),p=Yt("shadow"),h=Yt("inset-shadow"),v=Yt("text-shadow"),_=Yt("drop-shadow"),k=Yt("blur"),w=Yt("perspective"),x=Yt("aspect"),y=Yt("ease"),g=Yt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...j(),ze,Fe],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],N=()=>[ze,Fe,u],L=()=>[uo,"full","auto",...N()],F=()=>[Vs,"none","subgrid",ze,Fe],B=()=>["auto",{span:["full",Vs,ze,Fe]},Vs,ze,Fe],V=()=>[Vs,"auto",ze,Fe],U=()=>["auto","min","max","fr",ze,Fe],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...N()],K=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],$=()=>[e,ze,Fe],D=()=>[...j(),s_,n_,{position:[ze,Fe]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",vD,pD,{size:[ze,Fe]}],W=()=>[wf,Ma,Ci],I=()=>["","none","full",f,ze,Fe],re=()=>["",rt,Ma,Ci],de=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[rt,wf,s_,n_],z=()=>["","none",k,ze,Fe],oe=()=>["none",rt,ze,Fe],ne=()=>["none",rt,ze,Fe],Q=()=>[rt,ze,Fe],ie=()=>[uo,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[os],breakpoint:[os],color:[cD],container:[os],"drop-shadow":[os],ease:["in","out","in-out"],font:[fD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[os],shadow:[os],spacing:["px",rt],text:[os],"text-shadow":[os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,Fe,ze,x]}],container:["container"],columns:[{columns:[rt,Fe,ze,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Vs,"auto",ze,Fe]}],basis:[{basis:[uo,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,uo,"auto","initial","none",Fe]}],grow:[{grow:["",rt,ze,Fe]}],shrink:[{shrink:["",rt,ze,Fe]}],order:[{order:[Vs,"first","last","none",ze,Fe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[c]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Ma,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ze,Sf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wf,Fe]}],"font-family":[{font:[gD,Fe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ze,Fe]}],"line-clamp":[{"line-clamp":[rt,"none",ze,Sf]}],leading:[{leading:[d,...N()]}],"list-image":[{"list-image":["none",ze,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ze,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",ze,Ci]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[rt,"auto",ze,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vs,ze,Fe],radial:["",ze,Fe],conic:[Vs,ze,Fe]},xD,mD]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,ze,Fe]}],"outline-w":[{outline:["",rt,Ma,Ci]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",p,Uc,Vc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",h,Uc,Vc]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[rt,Ci]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,Uc,Vc]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[rt,ze,Fe]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ze,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ze,Fe]}],filter:[{filter:["","none",ze,Fe]}],blur:[{blur:z()}],brightness:[{brightness:[rt,ze,Fe]}],contrast:[{contrast:[rt,ze,Fe]}],"drop-shadow":[{"drop-shadow":["","none",_,Uc,Vc]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",rt,ze,Fe]}],"hue-rotate":[{"hue-rotate":[rt,ze,Fe]}],invert:[{invert:["",rt,ze,Fe]}],saturate:[{saturate:[rt,ze,Fe]}],sepia:[{sepia:["",rt,ze,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",ze,Fe]}],"backdrop-blur":[{"backdrop-blur":z()}],"backdrop-brightness":[{"backdrop-brightness":[rt,ze,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[rt,ze,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,ze,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,ze,Fe]}],"backdrop-invert":[{"backdrop-invert":["",rt,ze,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[rt,ze,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[rt,ze,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,ze,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ze,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",ze,Fe]}],ease:[{ease:["linear","initial",y,ze,Fe]}],delay:[{delay:[rt,ze,Fe]}],animate:[{animate:["none",g,ze,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ze,Fe]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[ze,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ie()}],"translate-x":[{"translate-x":ie()}],"translate-y":[{"translate-y":ie()}],"translate-z":[{"translate-z":ie()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze,Fe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[rt,Ma,Ci,Sf]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wD=tD(bD);function De(...e){return wD(x1(e))}const Dm=qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),he=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},d)=>{const c=n?PM:"button";return i.jsx(c,{className:De(Dm({variant:t,size:r,className:e})),ref:d,...o})});he.displayName="Button";const SD=qu("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nt({className:e,variant:t,...r}){return i.jsx("div",{className:De(SD({variant:t}),e),...r})}function CD(e){const t=kD(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(ND);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function kD(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=PD(o),l=ED(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jD=Symbol("radix.slottable");function ND(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jD}function ED(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function PD(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=TD.reduce((e,t)=>{const r=CD(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function A1(e,t){e&&dl.flushSync(()=>e.dispatchEvent(t))}var sr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function AD(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var pr=e=>{const{present:t,children:r}=e,n=RD(t),o=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),d=Ze(n.ref,MD(o));return typeof r=="function"||n.isPresent?C.cloneElement(o,{ref:d}):null};pr.displayName="Presence";function RD(e){const[t,r]=C.useState(),n=C.useRef(null),o=C.useRef(e),d=C.useRef("none"),c=e?"mounted":"unmounted",[l,u]=AD(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const f=Wc(n.current);d.current=l==="mounted"?f:"none"},[l]),sr(()=>{const f=n.current,p=o.current;if(p!==e){const v=d.current,_=Wc(f);e?u("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(p&&v!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),sr(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=_=>{const w=Wc(n.current).includes(CSS.escape(_.animationName));if(_.target===t&&w&&(u("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},v=_=>{_.target===t&&(d.current=Wc(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Wc(e){return(e==null?void 0:e.animationName)||"none"}function MD(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function DD(e,t){const r=C.createContext(t),n=d=>{const{children:c,...l}=d,u=C.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:u,children:c})};n.displayName=e+"Provider";function o(d){const c=C.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[n,o]}function zr(e,t=[]){let r=[];function n(d,c){const l=C.createContext(c),u=r.length;r=[...r,c];const f=h=>{var y;const{scope:v,children:_,...k}=h,w=((y=v==null?void 0:v[e])==null?void 0:y[u])||l,x=C.useMemo(()=>k,Object.values(k));return i.jsx(w.Provider,{value:x,children:_})};f.displayName=d+"Provider";function p(h,v){var w;const _=((w=v==null?void 0:v[e])==null?void 0:w[u])||l,k=C.useContext(_);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${d}\``)}return[f,p]}const o=()=>{const d=r.map(c=>C.createContext(c));return function(l){const u=(l==null?void 0:l[e])||d;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return o.scopeName=e,[n,LD(o,...t)]}function LD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(d){const c=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(d)[`__scope${f}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function nr(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var ID=C.createContext(void 0);function yl(e){const t=C.useContext(ID);return e||t||"ltr"}function xp(e,[t,r]){return Math.min(r,Math.max(t,e))}function Re(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function OD(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var Lm="ScrollArea",[R1]=zr(Lm),[BD,fn]=R1(Lm),M1=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:d=600,...c}=e,[l,u]=C.useState(null),[f,p]=C.useState(null),[h,v]=C.useState(null),[_,k]=C.useState(null),[w,x]=C.useState(null),[y,g]=C.useState(0),[b,j]=C.useState(0),[T,P]=C.useState(!1),[E,N]=C.useState(!1),L=Ze(t,B=>u(B)),F=yl(o);return i.jsx(BD,{scope:r,type:n,dir:F,scrollHideDelay:d,scrollArea:l,viewport:f,onViewportChange:p,content:h,onContentChange:v,scrollbarX:_,onScrollbarXChange:k,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:w,onScrollbarYChange:x,scrollbarYEnabled:E,onScrollbarYEnabledChange:N,onCornerWidthChange:g,onCornerHeightChange:j,children:i.jsx(Ke.div,{dir:F,...c,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});M1.displayName=Lm;var D1="ScrollAreaViewport",L1=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...d}=e,c=fn(D1,r),l=C.useRef(null),u=Ze(t,l,c.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(Ke.div,{"data-radix-scroll-area-viewport":"",...d,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});L1.displayName=D1;var Yn="ScrollAreaScrollbar",Im=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=fn(Yn,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:c}=o,l=e.orientation==="horizontal";return C.useEffect(()=>(l?d(!0):c(!0),()=>{l?d(!1):c(!1)}),[l,d,c]),o.type==="hover"?i.jsx(FD,{...n,ref:t,forceMount:r}):o.type==="scroll"?i.jsx(zD,{...n,ref:t,forceMount:r}):o.type==="auto"?i.jsx(I1,{...n,ref:t,forceMount:r}):o.type==="always"?i.jsx(Om,{...n,ref:t}):null});Im.displayName=Yn;var FD=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=fn(Yn,e.__scopeScrollArea),[d,c]=C.useState(!1);return C.useEffect(()=>{const l=o.scrollArea;let u=0;if(l){const f=()=>{window.clearTimeout(u),c(!0)},p=()=>{u=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(pr,{present:r||d,children:i.jsx(I1,{"data-state":d?"visible":"hidden",...n,ref:t})})}),zD=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=fn(Yn,e.__scopeScrollArea),d=e.orientation==="horizontal",c=Xu(()=>u("SCROLL_END"),100),[l,u]=OD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,o.scrollHideDelay,u]),C.useEffect(()=>{const f=o.viewport,p=d?"scrollLeft":"scrollTop";if(f){let h=f[p];const v=()=>{const _=f[p];h!==_&&(u("SCROLL"),c()),h=_};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[o.viewport,d,u,c]),i.jsx(pr,{present:r||l!=="hidden",children:i.jsx(Om,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),I1=C.forwardRef((e,t)=>{const r=fn(Yn,e.__scopeScrollArea),{forceMount:n,...o}=e,[d,c]=C.useState(!1),l=e.orientation==="horizontal",u=Xu(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?f:p)}},10);return Do(r.viewport,u),Do(r.content,u),i.jsx(pr,{present:n||d,children:i.jsx(Om,{"data-state":d?"visible":"hidden",...o,ref:t})})}),Om=C.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=fn(Yn,e.__scopeScrollArea),d=C.useRef(null),c=C.useRef(0),[l,u]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=H1(l.viewport,l.content),p={...n,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:v=>d.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function h(v,_){return GD(v,c.current,l,_)}return r==="horizontal"?i.jsx(HD,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&d.current){const v=o.viewport.scrollLeft,_=i_(v,l,o.dir);d.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=h(v,o.dir))}}):r==="vertical"?i.jsx($D,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&d.current){const v=o.viewport.scrollTop,_=i_(v,l);d.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=h(v))}}):null}),HD=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,d=fn(Yn,e.__scopeScrollArea),[c,l]=C.useState(),u=C.useRef(null),f=Ze(t,u,d.onScrollbarXChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(B1,{"data-orientation":"horizontal",...o,ref:f,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yu(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,h)=>{if(d.viewport){const v=d.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),V1(v,h)&&p.preventDefault()}},onResize:()=>{u.current&&d.viewport&&c&&n({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:wu(c.paddingLeft),paddingEnd:wu(c.paddingRight)}})}})}),$D=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,d=fn(Yn,e.__scopeScrollArea),[c,l]=C.useState(),u=C.useRef(null),f=Ze(t,u,d.onScrollbarYChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(B1,{"data-orientation":"vertical",...o,ref:f,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yu(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,h)=>{if(d.viewport){const v=d.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),V1(v,h)&&p.preventDefault()}},onResize:()=>{u.current&&d.viewport&&c&&n({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:wu(c.paddingTop),paddingEnd:wu(c.paddingBottom)}})}})}),[VD,O1]=R1(Yn),B1=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:d,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:p,onResize:h,...v}=e,_=fn(Yn,r),[k,w]=C.useState(null),x=Ze(t,L=>w(L)),y=C.useRef(null),g=C.useRef(""),b=_.viewport,j=n.content-n.viewport,T=nr(p),P=nr(u),E=Xu(h,10);function N(L){if(y.current){const F=L.clientX-y.current.left,B=L.clientY-y.current.top;f({x:F,y:B})}}return C.useEffect(()=>{const L=F=>{const B=F.target;(k==null?void 0:k.contains(B))&&T(F,j)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,k,j,T]),C.useEffect(P,[n,P]),Do(k,E),Do(_.content,E),i.jsx(VD,{scope:r,scrollbar:k,hasThumb:o,onThumbChange:nr(d),onThumbPointerUp:nr(c),onThumbPositionChange:P,onThumbPointerDown:nr(l),children:i.jsx(Ke.div,{...v,ref:x,style:{position:"absolute",...v.style},onPointerDown:Re(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),y.current=k.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),N(L))}),onPointerMove:Re(e.onPointerMove,N),onPointerUp:Re(e.onPointerUp,L=>{const F=L.target;F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=g.current,_.viewport&&(_.viewport.style.scrollBehavior=""),y.current=null})})})}),bu="ScrollAreaThumb",F1=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=O1(bu,e.__scopeScrollArea);return i.jsx(pr,{present:r||o.hasThumb,children:i.jsx(UD,{ref:t,...n})})}),UD=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,d=fn(bu,r),c=O1(bu,r),{onThumbPositionChange:l}=c,u=Ze(t,h=>c.onThumbChange(h)),f=C.useRef(void 0),p=Xu(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const h=d.viewport;if(h){const v=()=>{if(p(),!f.current){const _=KD(h,l);f.current=_,l()}};return l(),h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[d.viewport,p,l]),i.jsx(Ke.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Re(e.onPointerDownCapture,h=>{const _=h.target.getBoundingClientRect(),k=h.clientX-_.left,w=h.clientY-_.top;c.onThumbPointerDown({x:k,y:w})}),onPointerUp:Re(e.onPointerUp,c.onThumbPointerUp)})});F1.displayName=bu;var Bm="ScrollAreaCorner",z1=C.forwardRef((e,t)=>{const r=fn(Bm,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(WD,{...e,ref:t}):null});z1.displayName=Bm;var WD=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=fn(Bm,r),[d,c]=C.useState(0),[l,u]=C.useState(0),f=!!(d&&l);return Do(o.scrollbarX,()=>{var h;const p=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(p),u(p)}),Do(o.scrollbarY,()=>{var h;const p=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(p),c(p)}),f?i.jsx(Ke.div,{...n,ref:t,style:{width:d,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wu(e){return e?parseInt(e,10):0}function H1(e,t){const r=e/t;return isNaN(r)?0:r}function Yu(e){const t=H1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function GD(e,t,r,n="ltr"){const o=Yu(r),d=o/2,c=t||d,l=o-c,u=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,p=r.content-r.viewport,h=n==="ltr"?[0,p]:[p*-1,0];return $1([u,f],h)(e)}function i_(e,t,r="ltr"){const n=Yu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-o,c=t.content-t.viewport,l=d-n,u=r==="ltr"?[0,c]:[c*-1,0],f=xp(e,u);return $1([0,c],[0,l])(f)}function $1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function V1(e,t){return e>0&&e<t}var KD=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const d={left:e.scrollLeft,top:e.scrollTop},c=r.left!==d.left,l=r.top!==d.top;(c||l)&&t(),r=d,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Xu(e,t){const r=nr(e),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Do(e,t){const r=nr(t);sr(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var U1=M1,qD=L1,YD=z1;const hs=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(U1,{ref:n,className:De("relative overflow-hidden",e),...r,children:[i.jsx(qD,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(W1,{}),i.jsx(YD,{})]}));hs.displayName=U1.displayName;const W1=C.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Im,{ref:n,orientation:t,className:De("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(F1,{className:"relative flex-1 rounded-full bg-border"})}));W1.displayName=Im.displayName;var XD=Gp[" useId ".trim().toString()]||(()=>{}),JD=0;function Br(e){const[t,r]=C.useState(XD());return sr(()=>{r(n=>n??String(JD++))},[e]),t?`radix-${t}`:""}var QD=Gp[" useInsertionEffect ".trim().toString()]||sr;function kn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,d,c]=ZD({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:o;{const p=C.useRef(e!==void 0);C.useEffect(()=>{const h=p.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,n])}const f=C.useCallback(p=>{var h;if(l){const v=e3(p)?p(e):p;v!==e&&((h=c.current)==null||h.call(c,v))}else d(p)},[l,e,d,c]);return[u,f]}function ZD({defaultProp:e,onChange:t}){const[r,n]=C.useState(e),o=C.useRef(r),d=C.useRef(t);return QD(()=>{d.current=t},[t]),C.useEffect(()=>{var c;o.current!==r&&((c=d.current)==null||c.call(d,r),o.current=r)},[r,o]),[r,n,d]}function e3(e){return typeof e=="function"}function t3(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e);C.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var r3="DismissableLayer",yp="dismissableLayer.update",n3="dismissableLayer.pointerDownOutside",s3="dismissableLayer.focusOutside",o_,G1=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_l=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:c,onDismiss:l,...u}=e,f=C.useContext(G1),[p,h]=C.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),k=Ze(t,E=>h(E)),w=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(x),g=p?w.indexOf(p):-1,b=f.layersWithOutsidePointerEventsDisabled.size>0,j=g>=y,T=a3(E=>{const N=E.target,L=[...f.branches].some(F=>F.contains(N));!j||L||(o==null||o(E),c==null||c(E),E.defaultPrevented||l==null||l())},v),P=l3(E=>{const N=E.target;[...f.branches].some(F=>F.contains(N))||(d==null||d(E),c==null||c(E),E.defaultPrevented||l==null||l())},v);return t3(E=>{g===f.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},v),C.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(o_=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),a_(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=o_)}},[p,v,r,f]),C.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),a_())},[p,f]),C.useEffect(()=>{const E=()=>_({});return document.addEventListener(yp,E),()=>document.removeEventListener(yp,E)},[]),i.jsx(Ke.div,{...u,ref:k,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,T.onPointerDownCapture)})});_l.displayName=r3;var i3="DismissableLayerBranch",o3=C.forwardRef((e,t)=>{const r=C.useContext(G1),n=C.useRef(null),o=Ze(t,n);return C.useEffect(()=>{const d=n.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),i.jsx(Ke.div,{...e,ref:o})});o3.displayName=i3;function a3(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),n=C.useRef(!1),o=C.useRef(()=>{});return C.useEffect(()=>{const d=l=>{if(l.target&&!n.current){let u=function(){K1(n3,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",d),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function l3(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),n=C.useRef(!1);return C.useEffect(()=>{const o=d=>{d.target&&!n.current&&K1(s3,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function a_(){const e=new CustomEvent(yp);document.dispatchEvent(e)}function K1(e,t,r,{discrete:n}){const o=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?A1(o,d):o.dispatchEvent(d)}var Cf="focusScope.autoFocusOnMount",kf="focusScope.autoFocusOnUnmount",l_={bubbles:!1,cancelable:!0},c3="FocusScope",Ju=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:d,...c}=e,[l,u]=C.useState(null),f=nr(o),p=nr(d),h=C.useRef(null),v=Ze(t,w=>u(w)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let w=function(b){if(_.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:Gs(h.current,{select:!0})},x=function(b){if(_.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Gs(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&Gs(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,_.paused]),C.useEffect(()=>{if(l){u_.add(_);const w=document.activeElement;if(!l.contains(w)){const y=new CustomEvent(Cf,l_);l.addEventListener(Cf,f),l.dispatchEvent(y),y.defaultPrevented||(u3(m3(q1(l)),{select:!0}),document.activeElement===w&&Gs(l))}return()=>{l.removeEventListener(Cf,f),setTimeout(()=>{const y=new CustomEvent(kf,l_);l.addEventListener(kf,p),l.dispatchEvent(y),y.defaultPrevented||Gs(w??document.body,{select:!0}),l.removeEventListener(kf,p),u_.remove(_)},0)}}},[l,f,p,_]);const k=C.useCallback(w=>{if(!r&&!n||_.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,y=document.activeElement;if(x&&y){const g=w.currentTarget,[b,j]=d3(g);b&&j?!w.shiftKey&&y===j?(w.preventDefault(),r&&Gs(b,{select:!0})):w.shiftKey&&y===b&&(w.preventDefault(),r&&Gs(j,{select:!0})):y===g&&w.preventDefault()}},[r,n,_.paused]);return i.jsx(Ke.div,{tabIndex:-1,...c,ref:v,onKeyDown:k})});Ju.displayName=c3;function u3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gs(n,{select:t}),document.activeElement!==r)return}function d3(e){const t=q1(e),r=c_(t,e),n=c_(t.reverse(),e);return[r,n]}function q1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c_(e,t){for(const r of e)if(!h3(r,{upTo:t}))return r}function h3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function f3(e){return e instanceof HTMLInputElement&&"select"in e}function Gs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&f3(e)&&t&&e.select()}}var u_=p3();function p3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=d_(e,t),e.unshift(t)},remove(t){var r;e=d_(e,t),(r=e[0])==null||r.resume()}}}function d_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function m3(e){return e.filter(t=>t.tagName!=="A")}var g3="Portal",bl=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,d]=C.useState(!1);sr(()=>d(!0),[]);const c=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return c?Nb.createPortal(i.jsx(Ke.div,{...n,ref:t}),c):null});bl.displayName=g3;var jf=0;function Fm(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h_()),document.body.insertAdjacentElement("beforeend",e[1]??h_()),jf++,()=>{jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jf--}},[])}function h_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var In=function(){return In=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},In.apply(this,arguments)};function Y1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function v3(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,d;n<o;n++)(d||!(n in t))&&(d||(d=Array.prototype.slice.call(t,0,n)),d[n]=t[n]);return e.concat(d||Array.prototype.slice.call(t))}var ou="right-scroll-bar-position",au="width-before-scroll-bar",x3="with-scroll-bars-hidden",y3="--removed-body-scroll-bar-size";function Nf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _3(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var b3=typeof window<"u"?C.useLayoutEffect:C.useEffect,f_=new WeakMap;function w3(e,t){var r=_3(null,function(n){return e.forEach(function(o){return Nf(o,n)})});return b3(function(){var n=f_.get(r);if(n){var o=new Set(n),d=new Set(e),c=r.current;o.forEach(function(l){d.has(l)||Nf(l,null)}),d.forEach(function(l){o.has(l)||Nf(l,c)})}f_.set(r,e)},[e]),r}function S3(e){return e}function C3(e,t){t===void 0&&(t=S3);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var c=t(d,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(d){for(n=!0;r.length;){var c=r;r=[],c.forEach(d)}r={push:function(l){return d(l)},filter:function(){return r}}},assignMedium:function(d){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(d),c=r}var u=function(){var p=c;c=[],p.forEach(d)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),r}}}};return o}function k3(e){e===void 0&&(e={});var t=C3(null);return t.options=In({async:!0,ssr:!1},e),t}var X1=function(e){var t=e.sideCar,r=Y1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,In({},r))};X1.isSideCarExport=!0;function j3(e,t){return e.useMedium(t),X1}var J1=k3(),Ef=function(){},Qu=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:Ef,onWheelCapture:Ef,onTouchMoveCapture:Ef}),o=n[0],d=n[1],c=e.forwardProps,l=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,v=e.sideCar,_=e.noRelative,k=e.noIsolation,w=e.inert,x=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,b=e.gapMode,j=Y1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,P=w3([r,t]),E=In(In({},j),o);return C.createElement(C.Fragment,null,p&&C.createElement(T,{sideCar:J1,removeScrollBar:f,shards:h,noRelative:_,noIsolation:k,inert:w,setCallbacks:d,allowPinchZoom:!!x,lockRef:r,gapMode:b}),c?C.cloneElement(C.Children.only(l),In(In({},E),{ref:P})):C.createElement(g,In({},E,{className:u,ref:P}),l))});Qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qu.classNames={fullWidth:au,zeroRight:ou};var N3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=N3();return t&&e.setAttribute("nonce",t),e}function P3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function T3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=E3())&&(P3(t,r),T3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R3=function(){var e=A3();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Q1=function(){var e=R3(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},M3={left:0,top:0,right:0,gap:0},Pf=function(e){return parseInt(e||"",10)||0},D3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Pf(r),Pf(n),Pf(o)]},L3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M3;var t=D3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},I3=Q1(),wo="data-scroll-locked",O3=function(e,t,r,n){var o=e.left,d=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(x3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(au,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(au," .").concat(au,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(y3,": ").concat(l,`px;
  }
`)},p_=function(){var e=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(e)?e:0},B3=function(){C.useEffect(function(){return document.body.setAttribute(wo,(p_()+1).toString()),function(){var e=p_()-1;e<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,e.toString())}},[])},F3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;B3();var d=C.useMemo(function(){return L3(o)},[o]);return C.createElement(I3,{styles:O3(d,!t,o,r?"":"!important")})},_p=!1;if(typeof window<"u")try{var Gc=Object.defineProperty({},"passive",{get:function(){return _p=!0,!0}});window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{_p=!1}var ho=_p?{passive:!1}:!1,z3=function(e){return e.tagName==="TEXTAREA"},Z1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!z3(e)&&r[t]==="visible")},H3=function(e){return Z1(e,"overflowY")},$3=function(e){return Z1(e,"overflowX")},m_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=eS(e,n);if(o){var d=tS(e,n),c=d[1],l=d[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},V3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},U3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eS=function(e,t){return e==="v"?H3(t):$3(t)},tS=function(e,t){return e==="v"?V3(t):U3(t)},W3=function(e,t){return e==="h"&&t==="rtl"?-1:1},G3=function(e,t,r,n,o){var d=W3(e,window.getComputedStyle(t).direction),c=d*n,l=r.target,u=t.contains(l),f=!1,p=c>0,h=0,v=0;do{if(!l)break;var _=tS(e,l),k=_[0],w=_[1],x=_[2],y=w-x-d*k;(k||y)&&eS(e,l)&&(h+=y,v+=k);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(p&&Math.abs(h)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Kc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g_=function(e){return[e.deltaX,e.deltaY]},v_=function(e){return e&&"current"in e?e.current:e},K3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},q3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y3=0,fo=[];function X3(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),o=C.useState(Y3++)[0],d=C.useState(Q1)[0],c=C.useRef(e);C.useEffect(function(){c.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=v3([e.lockRef.current],(e.shards||[]).map(v_),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var y=Kc(w),g=r.current,b="deltaX"in w?w.deltaX:g[0]-y[0],j="deltaY"in w?w.deltaY:g[1]-y[1],T,P=w.target,E=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in w&&E==="h"&&P.type==="range")return!1;var N=window.getSelection(),L=N&&N.anchorNode,F=L?L===P||L.contains(P):!1;if(F)return!1;var B=m_(E,P);if(!B)return!0;if(B?T=E:(T=E==="v"?"h":"v",B=m_(E,P)),!B)return!1;if(!n.current&&"changedTouches"in w&&(b||j)&&(n.current=T),!T)return!0;var V=n.current||T;return G3(V,x,w,V==="h"?b:j)},[]),u=C.useCallback(function(w){var x=w;if(!(!fo.length||fo[fo.length-1]!==d)){var y="deltaY"in x?g_(x):Kc(x),g=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&K3(T.delta,y)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(c.current.shards||[]).map(v_).filter(Boolean).filter(function(T){return T.contains(x.target)}),j=b.length>0?l(x,b[0]):!c.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),f=C.useCallback(function(w,x,y,g){var b={name:w,delta:x,target:y,should:g,shadowParent:J3(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),p=C.useCallback(function(w){r.current=Kc(w),n.current=void 0},[]),h=C.useCallback(function(w){f(w.type,g_(w),w.target,l(w,e.lockRef.current))},[]),v=C.useCallback(function(w){f(w.type,Kc(w),w.target,l(w,e.lockRef.current))},[]);C.useEffect(function(){return fo.push(d),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",u,ho),document.addEventListener("touchmove",u,ho),document.addEventListener("touchstart",p,ho),function(){fo=fo.filter(function(w){return w!==d}),document.removeEventListener("wheel",u,ho),document.removeEventListener("touchmove",u,ho),document.removeEventListener("touchstart",p,ho)}},[]);var _=e.removeScrollBar,k=e.inert;return C.createElement(C.Fragment,null,k?C.createElement(d,{styles:q3(o)}):null,_?C.createElement(F3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function J3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q3=j3(J1,X3);var Zu=C.forwardRef(function(e,t){return C.createElement(Qu,In({},e,{ref:t,sideCar:Q3}))});Zu.classNames=Qu.classNames;var Z3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},po=new WeakMap,qc=new WeakMap,Yc={},Tf=0,rS=function(e){return e&&(e.host||rS(e.parentNode))},eL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=rS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},tL=function(e,t,r,n){var o=eL(t,Array.isArray(e)?e:[e]);Yc[r]||(Yc[r]=new WeakMap);var d=Yc[r],c=[],l=new Set,u=new Set(o),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};o.forEach(f);var p=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(v){if(l.has(v))p(v);else try{var _=v.getAttribute(n),k=_!==null&&_!=="false",w=(po.get(v)||0)+1,x=(d.get(v)||0)+1;po.set(v,w),d.set(v,x),c.push(v),w===1&&k&&qc.set(v,!0),x===1&&v.setAttribute(r,"true"),k||v.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",v,y)}})};return p(t),l.clear(),Tf++,function(){c.forEach(function(h){var v=po.get(h)-1,_=d.get(h)-1;po.set(h,v),d.set(h,_),v||(qc.has(h)||h.removeAttribute(n),qc.delete(h)),_||h.removeAttribute(r)}),Tf--,Tf||(po=new WeakMap,po=new WeakMap,qc=new WeakMap,Yc={})}},zm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Z3(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),tL(n,o,r,"aria-hidden")):function(){return null}};function rL(e){const t=nL(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(iL);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function nL(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=aL(o),l=oL(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sL=Symbol("radix.slottable");function iL(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sL}function oL(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function aL(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ed="Dialog",[nS,sS]=zr(ed),[lL,En]=nS(ed),iS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,l=C.useRef(null),u=C.useRef(null),[f,p]=kn({prop:n,defaultProp:o??!1,onChange:d,caller:ed});return i.jsx(lL,{scope:t,triggerRef:l,contentRef:u,contentId:Br(),titleId:Br(),descriptionId:Br(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(h=>!h),[p]),modal:c,children:r})};iS.displayName=ed;var oS="DialogTrigger",aS=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=En(oS,r),d=Ze(t,o.triggerRef);return i.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vm(o.open),...n,ref:d,onClick:Re(e.onClick,o.onOpenToggle)})});aS.displayName=oS;var Hm="DialogPortal",[cL,lS]=nS(Hm,{forceMount:void 0}),cS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,d=En(Hm,t);return i.jsx(cL,{scope:t,forceMount:r,children:C.Children.map(n,c=>i.jsx(pr,{present:r||d.open,children:i.jsx(bl,{asChild:!0,container:o,children:c})}))})};cS.displayName=Hm;var Su="DialogOverlay",uS=C.forwardRef((e,t)=>{const r=lS(Su,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,d=En(Su,e.__scopeDialog);return d.modal?i.jsx(pr,{present:n||d.open,children:i.jsx(dL,{...o,ref:t})}):null});uS.displayName=Su;var uL=rL("DialogOverlay.RemoveScroll"),dL=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=En(Su,r);return i.jsx(Zu,{as:uL,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ke.div,{"data-state":Vm(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Mi="DialogContent",dS=C.forwardRef((e,t)=>{const r=lS(Mi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,d=En(Mi,e.__scopeDialog);return i.jsx(pr,{present:n||d.open,children:d.modal?i.jsx(hL,{...o,ref:t}):i.jsx(fL,{...o,ref:t})})});dS.displayName=Mi;var hL=C.forwardRef((e,t)=>{const r=En(Mi,e.__scopeDialog),n=C.useRef(null),o=Ze(t,r.contentRef,n);return C.useEffect(()=>{const d=n.current;if(d)return zm(d)},[]),i.jsx(hS,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,d=>{var c;d.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,d=>{const c=d.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&d.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,d=>d.preventDefault())})}),fL=C.forwardRef((e,t)=>{const r=En(Mi,e.__scopeDialog),n=C.useRef(!1),o=C.useRef(!1);return i.jsx(hS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,d),d.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),d.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:d=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,d),d.defaultPrevented||(n.current=!0,d.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=d.target;((f=r.triggerRef.current)==null?void 0:f.contains(c))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&o.current&&d.preventDefault()}})}),hS=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:d,...c}=e,l=En(Mi,r),u=C.useRef(null),f=Ze(t,u);return Fm(),i.jsxs(i.Fragment,{children:[i.jsx(Ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:d,children:i.jsx(_l,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vm(l.open),...c,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(mL,{titleId:l.titleId}),i.jsx(vL,{contentRef:u,descriptionId:l.descriptionId})]})]})}),$m="DialogTitle",fS=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=En($m,r);return i.jsx(Ke.h2,{id:o.titleId,...n,ref:t})});fS.displayName=$m;var pS="DialogDescription",mS=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=En(pS,r);return i.jsx(Ke.p,{id:o.descriptionId,...n,ref:t})});mS.displayName=pS;var gS="DialogClose",vS=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=En(gS,r);return i.jsx(Ke.button,{type:"button",...n,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});vS.displayName=gS;function Vm(e){return e?"open":"closed"}var xS="DialogTitleWarning",[pL,yS]=DD(xS,{contentName:Mi,titleName:$m,docsSlug:"dialog"}),mL=({titleId:e})=>{const t=yS(xS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},gL="DialogDescriptionWarning",vL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yS(gL).contentName}}.`;return C.useEffect(()=>{var d;const o=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xL=iS,yL=aS,_S=cS,Um=uS,Wm=dS,Gm=fS,Km=mS,qm=vS;const Dt=xL,_L=_S,bS=C.forwardRef(({className:e,...t},r)=>i.jsx(Um,{ref:r,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bS.displayName=Um.displayName;const Et=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(_L,{children:[i.jsx(bS,{}),i.jsxs(Wm,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(qm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ti,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=Wm.displayName;const Pt=({className:e,...t})=>i.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pt.displayName="DialogHeader";const zt=({className:e,...t})=>i.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zt.displayName="DialogFooter";const Tt=C.forwardRef(({className:e,...t},r)=>i.jsx(Gm,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=Gm.displayName;const Sr=C.forwardRef(({className:e,...t},r)=>i.jsx(Km,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Sr.displayName=Km.displayName;function Ym(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Xm(e){const[t,r]=C.useState(void 0);return sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const d=o[0];let c,l;if("borderBoxSize"in d){const u=d.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,l=f.blockSize}else c=e.offsetWidth,l=e.offsetHeight;r({width:c,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var td="Checkbox",[bL]=zr(td),[wL,Jm]=bL(td);function SL(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:d,form:c,name:l,onCheckedChange:u,required:f,value:p="on",internal_do_not_use_render:h}=e,[v,_]=kn({prop:r,defaultProp:o??!1,onChange:u,caller:td}),[k,w]=C.useState(null),[x,y]=C.useState(null),g=C.useRef(!1),b=k?!!c||!!k.closest("form"):!0,j={checked:v,disabled:d,setChecked:_,control:k,setControl:w,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:qs(o)?!1:o,isFormControl:b,bubbleInput:x,setBubbleInput:y};return i.jsx(wL,{scope:t,...j,children:CL(h)?h(j):n})}var wS="CheckboxTrigger",SS=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:d,value:c,disabled:l,checked:u,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:v,isFormControl:_,bubbleInput:k}=Jm(wS,e),w=Ze(o,p),x=C.useRef(u);return C.useEffect(()=>{const y=d==null?void 0:d.form;if(y){const g=()=>h(x.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[d,h]),i.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":qs(u)?"mixed":u,"aria-required":f,"data-state":ES(u),"data-disabled":l?"":void 0,disabled:l,value:c,...n,ref:w,onKeyDown:Re(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Re(r,y=>{h(g=>qs(g)?!0:!g),k&&_&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})})});SS.displayName=wS;var Qm=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:d,required:c,disabled:l,value:u,onCheckedChange:f,form:p,...h}=e;return i.jsx(SL,{__scopeCheckbox:r,checked:o,defaultChecked:d,disabled:l,required:c,onCheckedChange:f,name:n,form:p,value:u,internal_do_not_use_render:({isFormControl:v})=>i.jsxs(i.Fragment,{children:[i.jsx(SS,{...h,ref:t,__scopeCheckbox:r}),v&&i.jsx(NS,{__scopeCheckbox:r})]})})});Qm.displayName=td;var CS="CheckboxIndicator",kS=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,d=Jm(CS,r);return i.jsx(pr,{present:n||qs(d.checked)||d.checked===!0,children:i.jsx(Ke.span,{"data-state":ES(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});kS.displayName=CS;var jS="CheckboxBubbleInput",NS=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:d,defaultChecked:c,required:l,disabled:u,name:f,value:p,form:h,bubbleInput:v,setBubbleInput:_}=Jm(jS,e),k=Ze(r,_),w=Ym(d),x=Xm(n);C.useEffect(()=>{const g=v;if(!g)return;const b=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(b,"checked").set,P=!o.current;if(w!==d&&T){const E=new Event("click",{bubbles:P});g.indeterminate=qs(d),T.call(g,qs(d)?!1:d),g.dispatchEvent(E)}},[v,w,d,o]);const y=C.useRef(qs(d)?!1:d);return i.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??y.current,required:l,disabled:u,name:f,value:p,form:h,...t,tabIndex:-1,ref:k,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NS.displayName=jS;function CL(e){return typeof e=="function"}function qs(e){return e==="indeterminate"}function ES(e){return qs(e)?"indeterminate":e?"checked":"unchecked"}const PS=C.forwardRef(({className:e,...t},r)=>i.jsx(Qm,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(kS,{className:De("flex items-center justify-center text-current"),children:i.jsx(Jt,{className:"h-4 w-4"})})}));PS.displayName=Qm.displayName;function x_(e){const t=kL(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(NL);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function kL(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=PL(o),l=EL(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jL=Symbol("radix.slottable");function NL(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jL}function EL(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function PL(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zm(e){const t=e+"CollectionProvider",[r,n]=zr(t),[o,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:x,children:y}=w,g=Pe.useRef(null),b=Pe.useRef(new Map).current;return i.jsx(o,{scope:x,itemMap:b,collectionRef:g,children:y})};c.displayName=t;const l=e+"CollectionSlot",u=x_(l),f=Pe.forwardRef((w,x)=>{const{scope:y,children:g}=w,b=d(l,y),j=Ze(x,b.collectionRef);return i.jsx(u,{ref:j,children:g})});f.displayName=l;const p=e+"CollectionItemSlot",h="data-radix-collection-item",v=x_(p),_=Pe.forwardRef((w,x)=>{const{scope:y,children:g,...b}=w,j=Pe.useRef(null),T=Ze(x,j),P=d(p,y);return Pe.useEffect(()=>(P.itemMap.set(j,{ref:j,...b}),()=>void P.itemMap.delete(j))),i.jsx(v,{[h]:"",ref:T,children:g})});_.displayName=p;function k(w){const x=d(e+"CollectionConsumer",w);return Pe.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((P,E)=>b.indexOf(P.ref.current)-b.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:c,Slot:f,ItemSlot:_},k,n]}const TL=["top","right","bottom","left"],ei=Math.min,qr=Math.max,Cu=Math.round,Xc=Math.floor,$n=e=>({x:e,y:e}),AL={left:"right",right:"left",bottom:"top",top:"bottom"},RL={start:"end",end:"start"};function bp(e,t,r){return qr(e,ei(t,r))}function fs(e,t){return typeof e=="function"?e(t):e}function ps(e){return e.split("-")[0]}function Vo(e){return e.split("-")[1]}function eg(e){return e==="x"?"y":"x"}function tg(e){return e==="y"?"height":"width"}const ML=new Set(["top","bottom"]);function Bn(e){return ML.has(ps(e))?"y":"x"}function rg(e){return eg(Bn(e))}function DL(e,t,r){r===void 0&&(r=!1);const n=Vo(e),o=rg(e),d=tg(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(c=ku(c)),[c,ku(c)]}function LL(e){const t=ku(e);return[wp(e),t,wp(t)]}function wp(e){return e.replace(/start|end/g,t=>RL[t])}const y_=["left","right"],__=["right","left"],IL=["top","bottom"],OL=["bottom","top"];function BL(e,t,r){switch(e){case"top":case"bottom":return r?t?__:y_:t?y_:__;case"left":case"right":return t?IL:OL;default:return[]}}function FL(e,t,r,n){const o=Vo(e);let d=BL(ps(e),r==="start",n);return o&&(d=d.map(c=>c+"-"+o),t&&(d=d.concat(d.map(wp)))),d}function ku(e){return e.replace(/left|right|bottom|top/g,t=>AL[t])}function zL(e){return{top:0,right:0,bottom:0,left:0,...e}}function TS(e){return typeof e!="number"?zL(e):{top:e,right:e,bottom:e,left:e}}function ju(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function b_(e,t,r){let{reference:n,floating:o}=e;const d=Bn(t),c=rg(t),l=tg(c),u=ps(t),f=d==="y",p=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,v=n[l]/2-o[l]/2;let _;switch(u){case"top":_={x:p,y:n.y-o.height};break;case"bottom":_={x:p,y:n.y+n.height};break;case"right":_={x:n.x+n.width,y:h};break;case"left":_={x:n.x-o.width,y:h};break;default:_={x:n.x,y:n.y}}switch(Vo(t)){case"start":_[c]-=v*(r&&f?-1:1);break;case"end":_[c]+=v*(r&&f?-1:1);break}return _}const HL=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:d=[],platform:c}=r,l=d.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=b_(f,n,u),v=n,_={},k=0;for(let w=0;w<l.length;w++){const{name:x,fn:y}=l[w],{x:g,y:b,data:j,reset:T}=await y({x:p,y:h,initialPlacement:n,placement:v,strategy:o,middlewareData:_,rects:f,platform:c,elements:{reference:e,floating:t}});p=g??p,h=b??h,_={..._,[x]:{..._[x],...j}},T&&k<=50&&(k++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(f=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:p,y:h}=b_(f,v,u)),w=-1)}return{x:p,y:h,placement:v,strategy:o,middlewareData:_}};async function rl(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:d,rects:c,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:v=!1,padding:_=0}=fs(t,e),k=TS(_),x=l[v?h==="floating"?"reference":"floating":h],y=ju(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(x)))==null||r?x:x.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:u})),g=h==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,b=await(d.getOffsetParent==null?void 0:d.getOffsetParent(l.floating)),j=await(d.isElement==null?void 0:d.isElement(b))?await(d.getScale==null?void 0:d.getScale(b))||{x:1,y:1}:{x:1,y:1},T=ju(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:u}):g);return{top:(y.top-T.top+k.top)/j.y,bottom:(T.bottom-y.bottom+k.bottom)/j.y,left:(y.left-T.left+k.left)/j.x,right:(T.right-y.right+k.right)/j.x}}const $L=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:d,platform:c,elements:l,middlewareData:u}=t,{element:f,padding:p=0}=fs(e,t)||{};if(f==null)return{};const h=TS(p),v={x:r,y:n},_=rg(o),k=tg(_),w=await c.getDimensions(f),x=_==="y",y=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=d.reference[k]+d.reference[_]-v[_]-d.floating[k],T=v[_]-d.reference[_],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let E=P?P[b]:0;(!E||!await(c.isElement==null?void 0:c.isElement(P)))&&(E=l.floating[b]||d.floating[k]);const N=j/2-T/2,L=E/2-w[k]/2-1,F=ei(h[y],L),B=ei(h[g],L),V=F,U=E-w[k]-B,X=E/2-w[k]/2+N,G=bp(V,X,U),q=!u.arrow&&Vo(o)!=null&&X!==G&&d.reference[k]/2-(X<V?F:B)-w[k]/2<0,K=q?X<V?X-V:X-U:0;return{[_]:v[_]+K,data:{[_]:G,centerOffset:X-G-K,...q&&{alignmentOffset:K}},reset:q}}}),VL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:d,rects:c,initialPlacement:l,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,...x}=fs(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const y=ps(o),g=Bn(l),b=ps(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(f.floating)),T=v||(b||!w?[ku(l)]:LL(l)),P=k!=="none";!v&&P&&T.push(...FL(l,w,k,j));const E=[l,...T],N=await rl(t,x),L=[];let F=((n=d.flip)==null?void 0:n.overflows)||[];if(p&&L.push(N[y]),h){const X=DL(o,c,j);L.push(N[X[0]],N[X[1]])}if(F=[...F,{placement:o,overflows:L}],!L.every(X=>X<=0)){var B,V;const X=(((B=d.flip)==null?void 0:B.index)||0)+1,G=E[X];if(G&&(!(h==="alignment"?g!==Bn(G):!1)||F.every($=>Bn($.placement)===g?$.overflows[0]>0:!0)))return{data:{index:X,overflows:F},reset:{placement:G}};let q=(V=F.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(_){case"bestFit":{var U;const K=(U=F.filter($=>{if(P){const D=Bn($.placement);return D===g||D==="y"}return!0}).map($=>[$.placement,$.overflows.filter(D=>D>0).reduce((D,M)=>D+M,0)]).sort(($,D)=>$[1]-D[1])[0])==null?void 0:U[0];K&&(q=K);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function w_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function S_(e){return TL.some(t=>e[t]>=0)}const UL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=fs(e,t);switch(n){case"referenceHidden":{const d=await rl(t,{...o,elementContext:"reference"}),c=w_(d,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:S_(c)}}}case"escaped":{const d=await rl(t,{...o,altBoundary:!0}),c=w_(d,r.floating);return{data:{escapedOffsets:c,escaped:S_(c)}}}default:return{}}}}},AS=new Set(["left","top"]);async function WL(e,t){const{placement:r,platform:n,elements:o}=e,d=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=ps(r),l=Vo(r),u=Bn(r)==="y",f=AS.has(c)?-1:1,p=d&&u?-1:1,h=fs(t,e);let{mainAxis:v,crossAxis:_,alignmentAxis:k}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof k=="number"&&(_=l==="end"?k*-1:k),u?{x:_*p,y:v*f}:{x:v*f,y:_*p}}const GL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:d,placement:c,middlewareData:l}=t,u=await WL(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:d+u.y,data:{...u,placement:c}}}}},KL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:d=!0,crossAxis:c=!1,limiter:l={fn:x=>{let{x:y,y:g}=x;return{x:y,y:g}}},...u}=fs(e,t),f={x:r,y:n},p=await rl(t,u),h=Bn(ps(o)),v=eg(h);let _=f[v],k=f[h];if(d){const x=v==="y"?"top":"left",y=v==="y"?"bottom":"right",g=_+p[x],b=_-p[y];_=bp(g,_,b)}if(c){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=k+p[x],b=k-p[y];k=bp(g,k,b)}const w=l.fn({...t,[v]:_,[h]:k});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[v]:d,[h]:c}}}}}},qL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:d,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=fs(e,t),p={x:r,y:n},h=Bn(o),v=eg(h);let _=p[v],k=p[h];const w=fs(l,t),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const b=v==="y"?"height":"width",j=d.reference[v]-d.floating[b]+x.mainAxis,T=d.reference[v]+d.reference[b]-x.mainAxis;_<j?_=j:_>T&&(_=T)}if(f){var y,g;const b=v==="y"?"width":"height",j=AS.has(ps(o)),T=d.reference[h]-d.floating[b]+(j&&((y=c.offset)==null?void 0:y[h])||0)+(j?0:x.crossAxis),P=d.reference[h]+d.reference[b]+(j?0:((g=c.offset)==null?void 0:g[h])||0)-(j?x.crossAxis:0);k<T?k=T:k>P&&(k=P)}return{[v]:_,[h]:k}}}},YL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:d,platform:c,elements:l}=t,{apply:u=()=>{},...f}=fs(e,t),p=await rl(t,f),h=ps(o),v=Vo(o),_=Bn(o)==="y",{width:k,height:w}=d.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=v===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=v==="end"?"top":"bottom");const g=w-p.top-p.bottom,b=k-p.left-p.right,j=ei(w-p[x],g),T=ei(k-p[y],b),P=!t.middlewareData.shift;let E=j,N=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=g),P&&!v){const F=qr(p.left,0),B=qr(p.right,0),V=qr(p.top,0),U=qr(p.bottom,0);_?N=k-2*(F!==0||B!==0?F+B:qr(p.left,p.right)):E=w-2*(V!==0||U!==0?V+U:qr(p.top,p.bottom))}await u({...t,availableWidth:N,availableHeight:E});const L=await c.getDimensions(l.floating);return k!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function rd(){return typeof window<"u"}function Uo(e){return RS(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xn(e){var t;return(t=(RS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RS(e){return rd()?e instanceof Node||e instanceof Jr(e).Node:!1}function jn(e){return rd()?e instanceof Element||e instanceof Jr(e).Element:!1}function Gn(e){return rd()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function C_(e){return!rd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const XL=new Set(["inline","contents"]);function wl(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Nn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!XL.has(o)}const JL=new Set(["table","td","th"]);function QL(e){return JL.has(Uo(e))}const ZL=[":popover-open",":modal"];function nd(e){return ZL.some(t=>{try{return e.matches(t)}catch{return!1}})}const eI=["transform","translate","scale","rotate","perspective"],tI=["transform","translate","scale","rotate","perspective","filter"],rI=["paint","layout","strict","content"];function ng(e){const t=sg(),r=jn(e)?Nn(e):e;return eI.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tI.some(n=>(r.willChange||"").includes(n))||rI.some(n=>(r.contain||"").includes(n))}function nI(e){let t=ti(e);for(;Gn(t)&&!Lo(t);){if(ng(t))return t;if(nd(t))return null;t=ti(t)}return null}function sg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sI=new Set(["html","body","#document"]);function Lo(e){return sI.has(Uo(e))}function Nn(e){return Jr(e).getComputedStyle(e)}function sd(e){return jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ti(e){if(Uo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||C_(e)&&e.host||Xn(e);return C_(t)?t.host:t}function MS(e){const t=ti(e);return Lo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gn(t)&&wl(t)?t:MS(t)}function nl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=MS(e),d=o===((n=e.ownerDocument)==null?void 0:n.body),c=Jr(o);if(d){const l=Sp(c);return t.concat(c,c.visualViewport||[],wl(o)?o:[],l&&r?nl(l):[])}return t.concat(o,nl(o,[],r))}function Sp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DS(e){const t=Nn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Gn(e),d=o?e.offsetWidth:r,c=o?e.offsetHeight:n,l=Cu(r)!==d||Cu(n)!==c;return l&&(r=d,n=c),{width:r,height:n,$:l}}function ig(e){return jn(e)?e:e.contextElement}function So(e){const t=ig(e);if(!Gn(t))return $n(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:d}=DS(t);let c=(d?Cu(r.width):r.width)/n,l=(d?Cu(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const iI=$n(0);function LS(e){const t=Jr(e);return!sg()||!t.visualViewport?iI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jr(e)?!1:t}function Di(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),d=ig(e);let c=$n(1);t&&(n?jn(n)&&(c=So(n)):c=So(e));const l=oI(d,r,n)?LS(d):$n(0);let u=(o.left+l.x)/c.x,f=(o.top+l.y)/c.y,p=o.width/c.x,h=o.height/c.y;if(d){const v=Jr(d),_=n&&jn(n)?Jr(n):n;let k=v,w=Sp(k);for(;w&&n&&_!==k;){const x=So(w),y=w.getBoundingClientRect(),g=Nn(w),b=y.left+(w.clientLeft+parseFloat(g.paddingLeft))*x.x,j=y.top+(w.clientTop+parseFloat(g.paddingTop))*x.y;u*=x.x,f*=x.y,p*=x.x,h*=x.y,u+=b,f+=j,k=Jr(w),w=Sp(k)}}return ju({width:p,height:h,x:u,y:f})}function id(e,t){const r=sd(e).scrollLeft;return t?t.left+r:Di(Xn(e)).left+r}function IS(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-id(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function aI(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const d=o==="fixed",c=Xn(n),l=t?nd(t.floating):!1;if(n===c||l&&d)return r;let u={scrollLeft:0,scrollTop:0},f=$n(1);const p=$n(0),h=Gn(n);if((h||!h&&!d)&&((Uo(n)!=="body"||wl(c))&&(u=sd(n)),Gn(n))){const _=Di(n);f=So(n),p.x=_.x+n.clientLeft,p.y=_.y+n.clientTop}const v=c&&!h&&!d?IS(c,u):$n(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+p.x+v.x,y:r.y*f.y-u.scrollTop*f.y+p.y+v.y}}function lI(e){return Array.from(e.getClientRects())}function cI(e){const t=Xn(e),r=sd(e),n=e.ownerDocument.body,o=qr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),d=qr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+id(e);const l=-r.scrollTop;return Nn(n).direction==="rtl"&&(c+=qr(t.clientWidth,n.clientWidth)-o),{width:o,height:d,x:c,y:l}}const k_=25;function uI(e,t){const r=Jr(e),n=Xn(e),o=r.visualViewport;let d=n.clientWidth,c=n.clientHeight,l=0,u=0;if(o){d=o.width,c=o.height;const p=sg();(!p||p&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}const f=id(n);if(f<=0){const p=n.ownerDocument,h=p.body,v=getComputedStyle(h),_=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,k=Math.abs(n.clientWidth-h.clientWidth-_);k<=k_&&(d-=k)}else f<=k_&&(d+=f);return{width:d,height:c,x:l,y:u}}const dI=new Set(["absolute","fixed"]);function hI(e,t){const r=Di(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,d=Gn(e)?So(e):$n(1),c=e.clientWidth*d.x,l=e.clientHeight*d.y,u=o*d.x,f=n*d.y;return{width:c,height:l,x:u,y:f}}function j_(e,t,r){let n;if(t==="viewport")n=uI(e,r);else if(t==="document")n=cI(Xn(e));else if(jn(t))n=hI(t,r);else{const o=LS(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ju(n)}function OS(e,t){const r=ti(e);return r===t||!jn(r)||Lo(r)?!1:Nn(r).position==="fixed"||OS(r,t)}function fI(e,t){const r=t.get(e);if(r)return r;let n=nl(e,[],!1).filter(l=>jn(l)&&Uo(l)!=="body"),o=null;const d=Nn(e).position==="fixed";let c=d?ti(e):e;for(;jn(c)&&!Lo(c);){const l=Nn(c),u=ng(c);!u&&l.position==="fixed"&&(o=null),(d?!u&&!o:!u&&l.position==="static"&&!!o&&dI.has(o.position)||wl(c)&&!u&&OS(e,c))?n=n.filter(p=>p!==c):o=l,c=ti(c)}return t.set(e,n),n}function pI(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?nd(t)?[]:fI(t,this._c):[].concat(r),n],l=c[0],u=c.reduce((f,p)=>{const h=j_(t,p,o);return f.top=qr(h.top,f.top),f.right=ei(h.right,f.right),f.bottom=ei(h.bottom,f.bottom),f.left=qr(h.left,f.left),f},j_(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mI(e){const{width:t,height:r}=DS(e);return{width:t,height:r}}function gI(e,t,r){const n=Gn(t),o=Xn(t),d=r==="fixed",c=Di(e,!0,d,t);let l={scrollLeft:0,scrollTop:0};const u=$n(0);function f(){u.x=id(o)}if(n||!n&&!d)if((Uo(t)!=="body"||wl(o))&&(l=sd(t)),n){const _=Di(t,!0,d,t);u.x=_.x+t.clientLeft,u.y=_.y+t.clientTop}else o&&f();d&&!n&&o&&f();const p=o&&!n&&!d?IS(o,l):$n(0),h=c.left+l.scrollLeft-u.x-p.x,v=c.top+l.scrollTop-u.y-p.y;return{x:h,y:v,width:c.width,height:c.height}}function Af(e){return Nn(e).position==="static"}function N_(e,t){if(!Gn(e)||Nn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xn(e)===r&&(r=r.ownerDocument.body),r}function BS(e,t){const r=Jr(e);if(nd(e))return r;if(!Gn(e)){let o=ti(e);for(;o&&!Lo(o);){if(jn(o)&&!Af(o))return o;o=ti(o)}return r}let n=N_(e,t);for(;n&&QL(n)&&Af(n);)n=N_(n,t);return n&&Lo(n)&&Af(n)&&!ng(n)?r:n||nI(e)||r}const vI=async function(e){const t=this.getOffsetParent||BS,r=this.getDimensions,n=await r(e.floating);return{reference:gI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xI(e){return Nn(e).direction==="rtl"}const yI={convertOffsetParentRelativeRectToViewportRelativeRect:aI,getDocumentElement:Xn,getClippingRect:pI,getOffsetParent:BS,getElementRects:vI,getClientRects:lI,getDimensions:mI,getScale:So,isElement:jn,isRTL:xI};function FS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _I(e,t){let r=null,n;const o=Xn(e);function d(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),d();const f=e.getBoundingClientRect(),{left:p,top:h,width:v,height:_}=f;if(l||t(),!v||!_)return;const k=Xc(h),w=Xc(o.clientWidth-(p+v)),x=Xc(o.clientHeight-(h+_)),y=Xc(p),b={rootMargin:-k+"px "+-w+"px "+-x+"px "+-y+"px",threshold:qr(0,ei(1,u))||1};let j=!0;function T(P){const E=P[0].intersectionRatio;if(E!==u){if(!j)return c();E?c(!1,E):n=setTimeout(()=>{c(!1,1e-7)},1e3)}E===1&&!FS(f,e.getBoundingClientRect())&&c(),j=!1}try{r=new IntersectionObserver(T,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,b)}r.observe(e)}return c(!0),d}function bI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:d=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=ig(e),p=o||d?[...f?nl(f):[],...nl(t)]:[];p.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),d&&y.addEventListener("resize",r)});const h=f&&l?_I(f,r):null;let v=-1,_=null;c&&(_=new ResizeObserver(y=>{let[g]=y;g&&g.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var b;(b=_)==null||b.observe(t)})),r()}),f&&!u&&_.observe(f),_.observe(t));let k,w=u?Di(e):null;u&&x();function x(){const y=Di(e);w&&!FS(w,y)&&r(),w=y,k=requestAnimationFrame(x)}return r(),()=>{var y;p.forEach(g=>{o&&g.removeEventListener("scroll",r),d&&g.removeEventListener("resize",r)}),h==null||h(),(y=_)==null||y.disconnect(),_=null,u&&cancelAnimationFrame(k)}}const wI=GL,SI=KL,CI=VL,kI=YL,jI=UL,E_=$L,NI=qL,EI=(e,t,r)=>{const n=new Map,o={platform:yI,...r},d={...o.platform,_c:n};return HL(e,t,{...o,platform:d})};var PI=typeof document<"u",TI=function(){},lu=PI?C.useLayoutEffect:TI;function Nu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Nu(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const d=o[n];if(!(d==="_owner"&&e.$$typeof)&&!Nu(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function zS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function P_(e,t){const r=zS(e);return Math.round(t*r)/r}function Rf(e){const t=C.useRef(e);return lu(()=>{t.current=e}),t}function AI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:d,floating:c}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[p,h]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,_]=C.useState(n);Nu(v,n)||_(n);const[k,w]=C.useState(null),[x,y]=C.useState(null),g=C.useCallback($=>{$!==P.current&&(P.current=$,w($))},[]),b=C.useCallback($=>{$!==E.current&&(E.current=$,y($))},[]),j=d||k,T=c||x,P=C.useRef(null),E=C.useRef(null),N=C.useRef(p),L=u!=null,F=Rf(u),B=Rf(o),V=Rf(f),U=C.useCallback(()=>{if(!P.current||!E.current)return;const $={placement:t,strategy:r,middleware:v};B.current&&($.platform=B.current),EI(P.current,E.current,$).then(D=>{const M={...D,isPositioned:V.current!==!1};X.current&&!Nu(N.current,M)&&(N.current=M,dl.flushSync(()=>{h(M)}))})},[v,t,r,B,V]);lu(()=>{f===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[f]);const X=C.useRef(!1);lu(()=>(X.current=!0,()=>{X.current=!1}),[]),lu(()=>{if(j&&(P.current=j),T&&(E.current=T),j&&T){if(F.current)return F.current(j,T,U);U()}},[j,T,U,F,L]);const G=C.useMemo(()=>({reference:P,floating:E,setReference:g,setFloating:b}),[g,b]),q=C.useMemo(()=>({reference:j,floating:T}),[j,T]),K=C.useMemo(()=>{const $={position:r,left:0,top:0};if(!q.floating)return $;const D=P_(q.floating,p.x),M=P_(q.floating,p.y);return l?{...$,transform:"translate("+D+"px, "+M+"px)",...zS(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:M}},[r,l,q.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:U,refs:G,elements:q,floatingStyles:K}),[p,U,G,q,K])}const RI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?E_({element:n.current,padding:o}).fn(r):{}:n?E_({element:n,padding:o}).fn(r):{}}}},MI=(e,t)=>({...wI(e),options:[e,t]}),DI=(e,t)=>({...SI(e),options:[e,t]}),LI=(e,t)=>({...NI(e),options:[e,t]}),II=(e,t)=>({...CI(e),options:[e,t]}),OI=(e,t)=>({...kI(e),options:[e,t]}),BI=(e,t)=>({...jI(e),options:[e,t]}),FI=(e,t)=>({...RI(e),options:[e,t]});var zI="Arrow",HS=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...d}=e;return i.jsx(Ke.svg,{...d,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});HS.displayName=zI;var HI=HS,og="Popper",[$S,Wo]=zr(og),[$I,VS]=$S(og),US=e=>{const{__scopePopper:t,children:r}=e,[n,o]=C.useState(null);return i.jsx($I,{scope:t,anchor:n,onAnchorChange:o,children:r})};US.displayName=og;var WS="PopperAnchor",GS=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,d=VS(WS,r),c=C.useRef(null),l=Ze(t,c),u=C.useRef(null);return C.useEffect(()=>{const f=u.current;u.current=(n==null?void 0:n.current)||c.current,f!==u.current&&d.onAnchorChange(u.current)}),n?null:i.jsx(Ke.div,{...o,ref:l})});GS.displayName=WS;var ag="PopperContent",[VI,UI]=$S(ag),KS=C.forwardRef((e,t)=>{var Y,z,oe,ne,Q,ie;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:d="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:_="optimized",onPlaced:k,...w}=e,x=VS(ag,r),[y,g]=C.useState(null),b=Ze(t,ye=>g(ye)),[j,T]=C.useState(null),P=Xm(j),E=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,L=n+(d!=="center"?"-"+d:""),F=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(f)?f:[f],V=B.length>0,U={padding:F,boundary:B.filter(GI),altBoundary:V},{refs:X,floatingStyles:G,placement:q,isPositioned:K,middlewareData:$}=AI({strategy:"fixed",placement:L,whileElementsMounted:(...ye)=>bI(...ye,{animationFrame:_==="always"}),elements:{reference:x.anchor},middleware:[MI({mainAxis:o+N,alignmentAxis:c}),u&&DI({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?LI():void 0,...U}),u&&II({...U}),OI({...U,apply:({elements:ye,rects:ae,availableWidth:Se,availableHeight:Me})=>{const{width:ke,height:Ne}=ae.reference,Te=ye.floating.style;Te.setProperty("--radix-popper-available-width",`${Se}px`),Te.setProperty("--radix-popper-available-height",`${Me}px`),Te.setProperty("--radix-popper-anchor-width",`${ke}px`),Te.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),j&&FI({element:j,padding:l}),KI({arrowWidth:E,arrowHeight:N}),v&&BI({strategy:"referenceHidden",...U})]}),[D,M]=XS(q),O=nr(k);sr(()=>{K&&(O==null||O())},[K,O]);const W=(Y=$.arrow)==null?void 0:Y.x,I=(z=$.arrow)==null?void 0:z.y,re=((oe=$.arrow)==null?void 0:oe.centerOffset)!==0,[de,me]=C.useState();return sr(()=>{y&&me(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:K?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ne=$.transformOrigin)==null?void 0:ne.x,(Q=$.transformOrigin)==null?void 0:Q.y].join(" "),...((ie=$.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(VI,{scope:r,placedSide:D,onArrowChange:T,arrowX:W,arrowY:I,shouldHideArrow:re,children:i.jsx(Ke.div,{"data-side":D,"data-align":M,...w,ref:b,style:{...w.style,animation:K?void 0:"none"}})})})});KS.displayName=ag;var qS="PopperArrow",WI={top:"bottom",right:"left",bottom:"top",left:"right"},YS=C.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,d=UI(qS,n),c=WI[d.placedSide];return i.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:i.jsx(HI,{...o,ref:r,style:{...o.style,display:"block"}})})});YS.displayName=qS;function GI(e){return e!==null}var KI=e=>({name:"transformOrigin",options:e,fn(t){var x,y,g;const{placement:r,rects:n,middlewareData:o}=t,c=((x=o.arrow)==null?void 0:x.centerOffset)!==0,l=c?0:e.arrowWidth,u=c?0:e.arrowHeight,[f,p]=XS(r),h={start:"0%",center:"50%",end:"100%"}[p],v=(((y=o.arrow)==null?void 0:y.x)??0)+l/2,_=(((g=o.arrow)==null?void 0:g.y)??0)+u/2;let k="",w="";return f==="bottom"?(k=c?h:`${v}px`,w=`${-u}px`):f==="top"?(k=c?h:`${v}px`,w=`${n.floating.height+u}px`):f==="right"?(k=`${-u}px`,w=c?h:`${_}px`):f==="left"&&(k=`${n.floating.width+u}px`,w=c?h:`${_}px`),{data:{x:k,y:w}}}});function XS(e){const[t,r="center"]=e.split("-");return[t,r]}var od=US,lg=GS,cg=KS,ug=YS;function qI(e){const t=YI(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(JI);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function YI(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=ZI(o),l=QI(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XI=Symbol("radix.slottable");function JI(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XI}function QI(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function ZI(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var JS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eO="VisuallyHidden",QS=C.forwardRef((e,t)=>i.jsx(Ke.span,{...e,ref:t,style:{...JS,...e.style}}));QS.displayName=eO;var tO=QS,rO=[" ","Enter","ArrowUp","ArrowDown"],nO=[" ","Enter"],Li="Select",[ad,ld,sO]=Zm(Li),[Go]=zr(Li,[sO,Wo]),cd=Wo(),[iO,ii]=Go(Li),[oO,aO]=Go(Li),ZS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:d,value:c,defaultValue:l,onValueChange:u,dir:f,name:p,autoComplete:h,disabled:v,required:_,form:k}=e,w=cd(t),[x,y]=C.useState(null),[g,b]=C.useState(null),[j,T]=C.useState(!1),P=yl(f),[E,N]=kn({prop:n,defaultProp:o??!1,onChange:d,caller:Li}),[L,F]=kn({prop:c,defaultProp:l,onChange:u,caller:Li}),B=C.useRef(null),V=x?k||!!x.closest("form"):!0,[U,X]=C.useState(new Set),G=Array.from(U).map(q=>q.props.value).join(";");return i.jsx(od,{...w,children:i.jsxs(iO,{required:_,scope:t,trigger:x,onTriggerChange:y,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:T,contentId:Br(),value:L,onValueChange:F,open:E,onOpenChange:N,dir:P,triggerPointerDownPosRef:B,disabled:v,children:[i.jsx(ad.Provider,{scope:t,children:i.jsx(oO,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(q=>{X(K=>new Set(K).add(q))},[]),onNativeOptionRemove:C.useCallback(q=>{X(K=>{const $=new Set(K);return $.delete(q),$})},[]),children:r})}),V?i.jsxs(SC,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:h,value:L,onChange:q=>F(q.target.value),disabled:v,form:k,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},G):null]})})};ZS.displayName=Li;var eC="SelectTrigger",tC=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,d=cd(r),c=ii(eC,r),l=c.disabled||n,u=Ze(t,c.onTriggerChange),f=ld(r),p=C.useRef("touch"),[h,v,_]=kC(w=>{const x=f().filter(b=>!b.disabled),y=x.find(b=>b.value===c.value),g=jC(x,w,y);g!==void 0&&c.onValueChange(g.value)}),k=w=>{l||(c.onOpenChange(!0),_()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(lg,{asChild:!0,...d,children:i.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":CC(c.value)?"":void 0,...o,ref:u,onClick:Re(o.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&k(w)}),onPointerDown:Re(o.onPointerDown,w=>{p.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(k(w),w.preventDefault())}),onKeyDown:Re(o.onKeyDown,w=>{const x=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(x&&w.key===" ")&&rO.includes(w.key)&&(k(),w.preventDefault())})})})});tC.displayName=eC;var rC="SelectValue",nC=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:d,placeholder:c="",...l}=e,u=ii(rC,r),{onValueNodeHasChildrenChange:f}=u,p=d!==void 0,h=Ze(t,u.onValueNodeChange);return sr(()=>{f(p)},[f,p]),i.jsx(Ke.span,{...l,ref:h,style:{pointerEvents:"none"},children:CC(u.value)?i.jsx(i.Fragment,{children:c}):d})});nC.displayName=rC;var lO="SelectIcon",sC=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return i.jsx(Ke.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});sC.displayName=lO;var cO="SelectPortal",iC=e=>i.jsx(bl,{asChild:!0,...e});iC.displayName=cO;var Ii="SelectContent",oC=C.forwardRef((e,t)=>{const r=ii(Ii,e.__scopeSelect),[n,o]=C.useState();if(sr(()=>{o(new DocumentFragment)},[]),!r.open){const d=n;return d?dl.createPortal(i.jsx(aC,{scope:e.__scopeSelect,children:i.jsx(ad.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),d):null}return i.jsx(lC,{...e,ref:t})});oC.displayName=Ii;var wn=10,[aC,oi]=Go(Ii),uO="SelectContentImpl",dO=qI("SelectContent.RemoveScroll"),lC=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:c,side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:k,hideWhenDetached:w,avoidCollisions:x,...y}=e,g=ii(Ii,r),[b,j]=C.useState(null),[T,P]=C.useState(null),E=Ze(t,Y=>j(Y)),[N,L]=C.useState(null),[F,B]=C.useState(null),V=ld(r),[U,X]=C.useState(!1),G=C.useRef(!1);C.useEffect(()=>{if(b)return zm(b)},[b]),Fm();const q=C.useCallback(Y=>{const[z,...oe]=V().map(ie=>ie.ref.current),[ne]=oe.slice(-1),Q=document.activeElement;for(const ie of Y)if(ie===Q||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===z&&T&&(T.scrollTop=0),ie===ne&&T&&(T.scrollTop=T.scrollHeight),ie==null||ie.focus(),document.activeElement!==Q))return},[V,T]),K=C.useCallback(()=>q([N,b]),[q,N,b]);C.useEffect(()=>{U&&K()},[U,K]);const{onOpenChange:$,triggerPointerDownPosRef:D}=g;C.useEffect(()=>{if(b){let Y={x:0,y:0};const z=ne=>{var Q,ie;Y={x:Math.abs(Math.round(ne.pageX)-(((Q=D.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((ie=D.current)==null?void 0:ie.y)??0))}},oe=ne=>{Y.x<=10&&Y.y<=10?ne.preventDefault():b.contains(ne.target)||$(!1),document.removeEventListener("pointermove",z),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",oe,{capture:!0})}}},[b,$,D]),C.useEffect(()=>{const Y=()=>$(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[$]);const[M,O]=kC(Y=>{const z=V().filter(Q=>!Q.disabled),oe=z.find(Q=>Q.ref.current===document.activeElement),ne=jC(z,Y,oe);ne&&setTimeout(()=>ne.ref.current.focus())}),W=C.useCallback((Y,z,oe)=>{const ne=!G.current&&!oe;(g.value!==void 0&&g.value===z||ne)&&(L(Y),ne&&(G.current=!0))},[g.value]),I=C.useCallback(()=>b==null?void 0:b.focus(),[b]),re=C.useCallback((Y,z,oe)=>{const ne=!G.current&&!oe;(g.value!==void 0&&g.value===z||ne)&&B(Y)},[g.value]),de=n==="popper"?Cp:cC,me=de===Cp?{side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:k,hideWhenDetached:w,avoidCollisions:x}:{};return i.jsx(aC,{scope:r,content:b,viewport:T,onViewportChange:P,itemRefCallback:W,selectedItem:N,onItemLeave:I,itemTextRefCallback:re,focusSelectedItem:K,selectedItemText:F,position:n,isPositioned:U,searchRef:M,children:i.jsx(Zu,{as:dO,allowPinchZoom:!0,children:i.jsx(Ju,{asChild:!0,trapped:g.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Re(o,Y=>{var z;(z=g.trigger)==null||z.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(_l,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(de,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Y=>Y.preventDefault(),...y,...me,onPlaced:()=>X(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Re(y.onKeyDown,Y=>{const z=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!z&&Y.key.length===1&&O(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ne=V().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Q=Y.target,ie=ne.indexOf(Q);ne=ne.slice(ie+1)}setTimeout(()=>q(ne)),Y.preventDefault()}})})})})})})});lC.displayName=uO;var hO="SelectItemAlignedPosition",cC=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,d=ii(Ii,r),c=oi(Ii,r),[l,u]=C.useState(null),[f,p]=C.useState(null),h=Ze(t,E=>p(E)),v=ld(r),_=C.useRef(!1),k=C.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:y,focusSelectedItem:g}=c,b=C.useCallback(()=>{if(d.trigger&&d.valueNode&&l&&f&&w&&x&&y){const E=d.trigger.getBoundingClientRect(),N=f.getBoundingClientRect(),L=d.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(d.dir!=="rtl"){const Q=F.left-N.left,ie=L.left-Q,ye=E.left-ie,ae=E.width+ye,Se=Math.max(ae,N.width),Me=window.innerWidth-wn,ke=xp(ie,[wn,Math.max(wn,Me-Se)]);l.style.minWidth=ae+"px",l.style.left=ke+"px"}else{const Q=N.right-F.right,ie=window.innerWidth-L.right-Q,ye=window.innerWidth-E.right-ie,ae=E.width+ye,Se=Math.max(ae,N.width),Me=window.innerWidth-wn,ke=xp(ie,[wn,Math.max(wn,Me-Se)]);l.style.minWidth=ae+"px",l.style.right=ke+"px"}const B=v(),V=window.innerHeight-wn*2,U=w.scrollHeight,X=window.getComputedStyle(f),G=parseInt(X.borderTopWidth,10),q=parseInt(X.paddingTop,10),K=parseInt(X.borderBottomWidth,10),$=parseInt(X.paddingBottom,10),D=G+q+U+$+K,M=Math.min(x.offsetHeight*5,D),O=window.getComputedStyle(w),W=parseInt(O.paddingTop,10),I=parseInt(O.paddingBottom,10),re=E.top+E.height/2-wn,de=V-re,me=x.offsetHeight/2,Y=x.offsetTop+me,z=G+q+Y,oe=D-z;if(z<=re){const Q=B.length>0&&x===B[B.length-1].ref.current;l.style.bottom="0px";const ie=f.clientHeight-w.offsetTop-w.offsetHeight,ye=Math.max(de,me+(Q?I:0)+ie+K),ae=z+ye;l.style.height=ae+"px"}else{const Q=B.length>0&&x===B[0].ref.current;l.style.top="0px";const ye=Math.max(re,G+w.offsetTop+(Q?W:0)+me)+oe;l.style.height=ye+"px",w.scrollTop=z-re+w.offsetTop}l.style.margin=`${wn}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>_.current=!0)}},[v,d.trigger,d.valueNode,l,f,w,x,y,d.dir,n]);sr(()=>b(),[b]);const[j,T]=C.useState();sr(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const P=C.useCallback(E=>{E&&k.current===!0&&(b(),g==null||g(),k.current=!1)},[b,g]);return i.jsx(pO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:_,onScrollButtonChange:P,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Ke.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});cC.displayName=hO;var fO="SelectPopperPosition",Cp=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=wn,...d}=e,c=cd(r);return i.jsx(cg,{...c,...d,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cp.displayName=fO;var[pO,dg]=Go(Ii,{}),kp="SelectViewport",uC=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,d=oi(kp,r),c=dg(kp,r),l=Ze(t,d.onViewportChange),u=C.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(ad.Slot,{scope:r,children:i.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Re(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&h){const _=Math.abs(u.current-p.scrollTop);if(_>0){const k=window.innerHeight-wn*2,w=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(w,x);if(y<k){const g=y+_,b=Math.min(k,g),j=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});uC.displayName=kp;var dC="SelectGroup",[mO,gO]=Go(dC),vO=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Br();return i.jsx(mO,{scope:r,id:o,children:i.jsx(Ke.div,{role:"group","aria-labelledby":o,...n,ref:t})})});vO.displayName=dC;var hC="SelectLabel",fC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=gO(hC,r);return i.jsx(Ke.div,{id:o.id,...n,ref:t})});fC.displayName=hC;var Eu="SelectItem",[xO,pC]=Go(Eu),mC=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:d,...c}=e,l=ii(Eu,r),u=oi(Eu,r),f=l.value===n,[p,h]=C.useState(d??""),[v,_]=C.useState(!1),k=Ze(t,g=>{var b;return(b=u.itemRefCallback)==null?void 0:b.call(u,g,n,o)}),w=Br(),x=C.useRef("touch"),y=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(xO,{scope:r,value:n,disabled:o,textId:w,isSelected:f,onItemTextChange:C.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(ad.ItemSlot,{scope:r,value:n,disabled:o,textValue:p,children:i.jsx(Ke.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:k,onFocus:Re(c.onFocus,()=>_(!0)),onBlur:Re(c.onBlur,()=>_(!1)),onClick:Re(c.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Re(c.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Re(c.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:Re(c.onPointerMove,g=>{var b;x.current=g.pointerType,o?(b=u.onItemLeave)==null||b.call(u):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(c.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=u.onItemLeave)==null||b.call(u))}),onKeyDown:Re(c.onKeyDown,g=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(nO.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});mC.displayName=Eu;var Ha="SelectItemText",gC=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...d}=e,c=ii(Ha,r),l=oi(Ha,r),u=pC(Ha,r),f=aO(Ha,r),[p,h]=C.useState(null),v=Ze(t,y=>h(y),u.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,u.value,u.disabled)}),_=p==null?void 0:p.textContent,k=C.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:_},u.value),[u.disabled,u.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=f;return sr(()=>(w(k),()=>x(k)),[w,x,k]),i.jsxs(i.Fragment,{children:[i.jsx(Ke.span,{id:u.textId,...d,ref:v}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?dl.createPortal(d.children,c.valueNode):null]})});gC.displayName=Ha;var vC="SelectItemIndicator",xC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return pC(vC,r).isSelected?i.jsx(Ke.span,{"aria-hidden":!0,...n,ref:t}):null});xC.displayName=vC;var jp="SelectScrollUpButton",yC=C.forwardRef((e,t)=>{const r=oi(jp,e.__scopeSelect),n=dg(jp,e.__scopeSelect),[o,d]=C.useState(!1),c=Ze(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;d(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(bC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});yC.displayName=jp;var Np="SelectScrollDownButton",_C=C.forwardRef((e,t)=>{const r=oi(Np,e.__scopeSelect),n=dg(Np,e.__scopeSelect),[o,d]=C.useState(!1),c=Ze(t,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;d(p)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(bC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});_C.displayName=Np;var bC=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,d=oi("SelectScrollButton",r),c=C.useRef(null),l=ld(r),u=C.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),sr(()=>{var p;const f=l().find(h=>h.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ke.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Re(o.onPointerMove,()=>{var f;(f=d.onItemLeave)==null||f.call(d),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{u()})})}),yO="SelectSeparator",wC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ke.div,{"aria-hidden":!0,...n,ref:t})});wC.displayName=yO;var Ep="SelectArrow",_O=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=cd(r),d=ii(Ep,r),c=oi(Ep,r);return d.open&&c.position==="popper"?i.jsx(ug,{...o,...n,ref:t}):null});_O.displayName=Ep;var bO="SelectBubbleInput",SC=C.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=C.useRef(null),d=Ze(n,o),c=Ym(t);return C.useEffect(()=>{const l=o.current;if(!l)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==t&&p){const h=new Event("change",{bubbles:!0});p.call(l,t),l.dispatchEvent(h)}},[c,t]),i.jsx(Ke.select,{...r,style:{...JS,...r.style},ref:d,defaultValue:t})});SC.displayName=bO;function CC(e){return e===""||e===void 0}function kC(e){const t=nr(e),r=C.useRef(""),n=C.useRef(0),o=C.useCallback(c=>{const l=r.current+c;t(l),(function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),d=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,d]}function jC(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let c=wO(e,Math.max(d,0));o.length===1&&(c=c.filter(f=>f!==r));const u=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function wO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var SO=ZS,NC=tC,CO=nC,kO=sC,jO=iC,EC=oC,NO=uC,PC=fC,TC=mC,EO=gC,PO=xC,AC=yC,RC=_C,MC=wC;const ri=SO,ni=CO,ms=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(NC,{ref:n,className:De("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(kO,{asChild:!0,children:i.jsx(hn,{className:"h-4 w-4 opacity-50"})})]}));ms.displayName=NC.displayName;const DC=C.forwardRef(({className:e,...t},r)=>i.jsx(AC,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Y4,{className:"h-4 w-4"})}));DC.displayName=AC.displayName;const LC=C.forwardRef(({className:e,...t},r)=>i.jsx(RC,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(hn,{className:"h-4 w-4"})}));LC.displayName=RC.displayName;const gs=C.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>i.jsx(jO,{children:i.jsxs(EC,{ref:o,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(DC,{}),i.jsx(NO,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(LC,{})]})}));gs.displayName=EC.displayName;const TO=C.forwardRef(({className:e,...t},r)=>i.jsx(PC,{ref:r,className:De("px-2 py-1.5 text-sm font-semibold",e),...t}));TO.displayName=PC.displayName;const Wt=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(TC,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(PO,{children:i.jsx(Jt,{className:"h-4 w-4"})})}),i.jsx(EO,{children:t})]}));Wt.displayName=TC.displayName;const AO=C.forwardRef(({className:e,...t},r)=>i.jsx(MC,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));AO.displayName=MC.displayName;const Mf={claude:{name:"Claude Code",folder:".claude",color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-950/30"},gemini:{name:"Gemini CLI",folder:".gemini",color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-950/30"},antigravity:{name:"Antigravity",folder:".agent",color:"text-purple-600",bg:"bg-purple-50",darkBg:"dark:bg-purple-950/30"}};function RO({open:e,onOpenChange:t,projectDir:r,onSynced:n}){var N,L,F;const[o,d]=C.useState("claude"),[c,l]=C.useState("antigravity"),[u,f]=C.useState(null),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(new Set);C.useEffect(()=>{e&&r&&x()},[e,o,c,r]),C.useEffect(()=>{e&&w(new Set)},[e]);const x=async()=>{var B;h(!0);try{const V=await we.getSyncPreview(r,o,c);f(V);const U=new Set(((B=V.files)==null?void 0:B.filter(X=>X.status==="new"||X.status==="different").map(X=>X.name))||[]);w(U)}catch(V){ee.error("Failed to load sync preview: "+V.message),f(null)}finally{h(!1)}},y=()=>{d(c),l(o)},g=B=>{const V=new Set(k);V.has(B)?V.delete(B):V.add(B),w(V)},b=()=>{var B,V;k.size===((B=u==null?void 0:u.files)==null?void 0:B.length)?w(new Set):w(new Set(((V=u==null?void 0:u.files)==null?void 0:V.map(U=>U.name))||[]))},j=async()=>{if(k.size===0){ee.error("Please select at least one file to sync");return}_(!0);try{const B=await we.syncRules(r,o,c,Array.from(k));B.success?(ee.success(`Synced ${B.synced.length} file(s) to ${Mf[c].name}`),n==null||n(),t(!1)):ee.error(B.error||"Sync failed")}catch(B){ee.error("Sync failed: "+B.message)}finally{_(!1)}},T=B=>{switch(B){case"new":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"New"});case"different":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-700",children:"Modified"});case"identical":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-400",children:"Same"});default:return null}},P=Mf[o],E=Mf[c];return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"sm:max-w-lg",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(fr,{className:"w-5 h-5 text-indigo-500"}),"Sync Rules Between Tools"]}),i.jsx(Sr,{children:"Copy rules from one AI tool's configuration to another."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),i.jsxs(ri,{value:o,onValueChange:d,children:[i.jsx(ms,{className:"w-full",children:i.jsx(ni,{})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"claude",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),i.jsx(Wt,{value:"gemini",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),i.jsx(Wt,{value:"antigravity",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]}),i.jsx(he,{variant:"ghost",size:"icon",onClick:y,className:"mt-5",title:"Swap direction",children:i.jsx(Nm,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),i.jsxs(ri,{value:c,onValueChange:l,children:[i.jsx(ms,{className:"w-full",children:i.jsx(ni,{})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"claude",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),i.jsx(Wt,{value:"gemini",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),i.jsx(Wt,{value:"antigravity",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsxs("div",{children:["Source: ",i.jsxs("code",{className:"bg-muted px-1 rounded",children:[P.folder,"/rules/"]})]}),i.jsxs("div",{children:["Target: ",i.jsxs("code",{className:"bg-muted px-1 rounded",children:[E.folder,"/rules/"]})]})]}),i.jsxs("div",{className:"border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/30",children:[i.jsx("span",{className:"text-sm font-medium",children:"Rules to Sync"}),((N=u==null?void 0:u.files)==null?void 0:N.length)>0&&i.jsx(he,{variant:"ghost",size:"sm",onClick:b,className:"h-6 text-xs",children:k.size===u.files.length?"Deselect All":"Select All"})]}),i.jsx("div",{className:"max-h-64 overflow-auto",children:p?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(dt,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):u!=null&&u.error?i.jsxs("div",{className:"flex items-center gap-2 p-4 text-sm text-amber-600",children:[i.jsx(Ao,{className:"w-4 h-4"}),u.error]}):((L=u==null?void 0:u.files)==null?void 0:L.length)===0?i.jsx("div",{className:"p-4 text-sm text-muted-foreground text-center",children:"No rules found in source folder"}):i.jsx("div",{className:"divide-y",children:(F=u==null?void 0:u.files)==null?void 0:F.map(B=>i.jsxs("label",{className:De("flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-muted/30",k.has(B.name)&&"bg-primary/5"),children:[i.jsx(PS,{checked:k.has(B.name),onCheckedChange:()=>g(B.name)}),i.jsx(wr,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:"flex-1 text-sm",children:B.name}),T(B.status)]},B.name))})})]}),(u==null?void 0:u.files)&&k.size>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.size," file(s) selected for sync"]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(he,{onClick:j,disabled:v||p||k.size===0,children:v?i.jsxs(i.Fragment,{children:[i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Sync ",k.size," File(s)"]})})]})]})})}const ot=C.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:De("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";function hg({open:e,onOpenChange:t,onSelect:r,type:n="directory",initialPath:o="~",title:d="Select Path"}){const[c,l]=C.useState(""),[u,f]=C.useState([]),[p,h]=C.useState(!1),[v,_]=C.useState(null),[k,w]=C.useState(""),[x,y]=C.useState("");C.useEffect(()=>{e&&g(o)},[e,o]);const g=async E=>{h(!0),_(null);try{const N=await we.browse(E,n);N.error?(_(N.error),N.path&&(l(N.path),y(N.path))):(l(N.path),y(N.path),f(N.items||[]),N.home&&w(N.home))}catch(N){_(N.message)}finally{h(!1)}},b=E=>{E.type==="directory"?g(E.path):n==="file"&&(r(E.path),t(!1))},j=()=>{r(c),t(!1)},T=()=>{x&&g(x)},P=E=>{E.key==="Enter"&&T()};return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsx(Pt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[n==="directory"?i.jsx(hr,{className:"w-5 h-5"}):i.jsx(mp,{className:"w-5 h-5"}),d]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:x,onChange:E=>y(E.target.value),onKeyDown:P,placeholder:"Enter path...",className:"font-mono text-sm flex-1"}),i.jsx(he,{variant:"outline",size:"icon",onClick:()=>g(k||"~"),title:"Go to home",children:i.jsx(Tm,{className:"w-4 h-4"})}),i.jsx(he,{onClick:T,disabled:p,children:"Go"})]}),i.jsx("div",{className:"text-xs text-gray-500 font-mono truncate px-1",children:c}),v&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:v}),i.jsx(hs,{className:"h-64 border rounded-lg",children:p?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(dt,{className:"w-6 h-6 animate-spin text-gray-400"})}):i.jsx("div",{className:"p-1",children:u.length===0?i.jsx("div",{className:"text-sm text-gray-500 p-4 text-center",children:n==="directory"?"No subdirectories":"No files found"}):u.map((E,N)=>i.jsxs("button",{onClick:()=>b(E),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 rounded transition-colors text-left",children:[E.type==="directory"?i.jsx(hr,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):i.jsx(mp,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:`flex-1 truncate ${E.isParent?"text-gray-500":""}`,children:E.name}),E.type==="directory"&&!E.isParent&&i.jsx(Bi,{className:"w-4 h-4 text-gray-400"})]},N))})})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(he,{onClick:j,disabled:!c,children:n==="directory"?"Select Folder":"Select"})]})]})})}var ud="Switch",[MO]=zr(ud),[DO,LO]=MO(ud),IC=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:d,required:c,disabled:l,value:u="on",onCheckedChange:f,form:p,...h}=e,[v,_]=C.useState(null),k=Ze(t,b=>_(b)),w=C.useRef(!1),x=v?p||!!v.closest("form"):!0,[y,g]=kn({prop:o,defaultProp:d??!1,onChange:f,caller:ud});return i.jsxs(DO,{scope:r,checked:y,disabled:l,children:[i.jsx(Ke.button,{type:"button",role:"switch","aria-checked":y,"aria-required":c,"data-state":zC(y),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:k,onClick:Re(e.onClick,b=>{g(j=>!j),x&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),x&&i.jsx(FC,{control:v,bubbles:!w.current,name:n,value:u,checked:y,required:c,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});IC.displayName=ud;var OC="SwitchThumb",BC=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=LO(OC,r);return i.jsx(Ke.span,{"data-state":zC(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});BC.displayName=OC;var IO="SwitchBubbleInput",FC=C.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...o},d)=>{const c=C.useRef(null),l=Ze(c,d),u=Ym(r),f=Xm(t);return C.useEffect(()=>{const p=c.current;if(!p)return;const h=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&_){const k=new Event("click",{bubbles:n});_.call(p,r),p.dispatchEvent(k)}},[u,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FC.displayName=IO;function zC(e){return e?"checked":"unchecked"}var HC=IC,OO=BC;const pt=C.forwardRef(({className:e,...t},r)=>i.jsx(HC,{className:De("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(OO,{className:De("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));pt.displayName=HC.displayName;var Df="rovingFocusGroup.onEntryFocus",BO={bubbles:!1,cancelable:!0},Sl="RovingFocusGroup",[Pp,$C,FO]=Zm(Sl),[zO,dd]=zr(Sl,[FO]),[HO,$O]=zO(Sl),VC=C.forwardRef((e,t)=>i.jsx(Pp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Pp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(VO,{...e,ref:t})})}));VC.displayName=Sl;var VO=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:d,currentTabStopId:c,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,v=C.useRef(null),_=Ze(t,v),k=yl(d),[w,x]=kn({prop:c,defaultProp:l??null,onChange:u,caller:Sl}),[y,g]=C.useState(!1),b=nr(f),j=$C(r),T=C.useRef(!1),[P,E]=C.useState(0);return C.useEffect(()=>{const N=v.current;if(N)return N.addEventListener(Df,b),()=>N.removeEventListener(Df,b)},[b]),i.jsx(HO,{scope:r,orientation:n,dir:k,loop:o,currentTabStopId:w,onItemFocus:C.useCallback(N=>x(N),[x]),onItemShiftTab:C.useCallback(()=>g(!0),[]),onFocusableItemAdd:C.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>E(N=>N-1),[]),children:i.jsx(Ke.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...h,ref:_,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{T.current=!0}),onFocus:Re(e.onFocus,N=>{const L=!T.current;if(N.target===N.currentTarget&&L&&!y){const F=new CustomEvent(Df,BO);if(N.currentTarget.dispatchEvent(F),!F.defaultPrevented){const B=j().filter(q=>q.focusable),V=B.find(q=>q.active),U=B.find(q=>q.id===w),G=[V,U,...B].filter(Boolean).map(q=>q.ref.current);GC(G,p)}}T.current=!1}),onBlur:Re(e.onBlur,()=>g(!1))})})}),UC="RovingFocusGroupItem",WC=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:d,children:c,...l}=e,u=Br(),f=d||u,p=$O(UC,r),h=p.currentTabStopId===f,v=$C(r),{onFocusableItemAdd:_,onFocusableItemRemove:k,currentTabStopId:w}=p;return C.useEffect(()=>{if(n)return _(),()=>k()},[n,_,k]),i.jsx(Pp.ItemSlot,{scope:r,id:f,focusable:n,active:o,children:i.jsx(Ke.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Re(e.onMouseDown,x=>{n?p.onItemFocus(f):x.preventDefault()}),onFocus:Re(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Re(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){p.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=GO(x,p.orientation,p.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=v().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(x.currentTarget);b=p.loop?KO(b,j+1):b.slice(j+1)}setTimeout(()=>GC(b))}}),children:typeof c=="function"?c({isCurrentTabStop:h,hasTabStop:w!=null}):c})})});WC.displayName=UC;var UO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GO(e,t,r){const n=WO(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return UO[n]}function GC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function KO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KC=VC,qC=WC;function qO(e){const t=YO(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(JO);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function YO(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=ZO(o),l=QO(d,o.props);return o.type!==C.Fragment&&(l.ref=n?ys(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XO=Symbol("radix.slottable");function JO(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XO}function QO(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function ZO(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tp=["Enter"," "],e6=["ArrowDown","PageUp","Home"],YC=["ArrowUp","PageDown","End"],t6=[...e6,...YC],r6={ltr:[...Tp,"ArrowRight"],rtl:[...Tp,"ArrowLeft"]},n6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cl="Menu",[sl,s6,i6]=Zm(Cl),[zi,XC]=zr(Cl,[i6,Wo,dd]),kl=Wo(),JC=dd(),[QC,ai]=zi(Cl),[o6,jl]=zi(Cl),ZC=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:d,modal:c=!0}=e,l=kl(t),[u,f]=C.useState(null),p=C.useRef(!1),h=nr(d),v=yl(o);return C.useEffect(()=>{const _=()=>{p.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>p.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),i.jsx(od,{...l,children:i.jsx(QC,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:f,children:i.jsx(o6,{scope:t,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:v,modal:c,children:n})})})};ZC.displayName=Cl;var a6="MenuAnchor",fg=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=kl(r);return i.jsx(lg,{...o,...n,ref:t})});fg.displayName=a6;var pg="MenuPortal",[l6,ek]=zi(pg,{forceMount:void 0}),tk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,d=ai(pg,t);return i.jsx(l6,{scope:t,forceMount:r,children:i.jsx(pr,{present:r||d.open,children:i.jsx(bl,{asChild:!0,container:o,children:n})})})};tk.displayName=pg;var dn="MenuContent",[c6,mg]=zi(dn),rk=C.forwardRef((e,t)=>{const r=ek(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,d=ai(dn,e.__scopeMenu),c=jl(dn,e.__scopeMenu);return i.jsx(sl.Provider,{scope:e.__scopeMenu,children:i.jsx(pr,{present:n||d.open,children:i.jsx(sl.Slot,{scope:e.__scopeMenu,children:c.modal?i.jsx(u6,{...o,ref:t}):i.jsx(d6,{...o,ref:t})})})})}),u6=C.forwardRef((e,t)=>{const r=ai(dn,e.__scopeMenu),n=C.useRef(null),o=Ze(t,n);return C.useEffect(()=>{const d=n.current;if(d)return zm(d)},[]),i.jsx(gg,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Re(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),d6=C.forwardRef((e,t)=>{const r=ai(dn,e.__scopeMenu);return i.jsx(gg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),h6=qO("MenuContent.ScrollLock"),gg=C.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:_,disableOutsideScroll:k,...w}=e,x=ai(dn,r),y=jl(dn,r),g=kl(r),b=JC(r),j=s6(r),[T,P]=C.useState(null),E=C.useRef(null),N=Ze(t,E,x.onContentChange),L=C.useRef(0),F=C.useRef(""),B=C.useRef(0),V=C.useRef(null),U=C.useRef("right"),X=C.useRef(0),G=k?Zu:C.Fragment,q=k?{as:h6,allowPinchZoom:!0}:void 0,K=D=>{var Y,z;const M=F.current+D,O=j().filter(oe=>!oe.disabled),W=document.activeElement,I=(Y=O.find(oe=>oe.ref.current===W))==null?void 0:Y.textValue,re=O.map(oe=>oe.textValue),de=C6(re,M,I),me=(z=O.find(oe=>oe.textValue===de))==null?void 0:z.ref.current;(function oe(ne){F.current=ne,window.clearTimeout(L.current),ne!==""&&(L.current=window.setTimeout(()=>oe(""),1e3))})(M),me&&setTimeout(()=>me.focus())};C.useEffect(()=>()=>window.clearTimeout(L.current),[]),Fm();const $=C.useCallback(D=>{var O,W;return U.current===((O=V.current)==null?void 0:O.side)&&j6(D,(W=V.current)==null?void 0:W.area)},[]);return i.jsx(c6,{scope:r,searchRef:F,onItemEnter:C.useCallback(D=>{$(D)&&D.preventDefault()},[$]),onItemLeave:C.useCallback(D=>{var M;$(D)||((M=E.current)==null||M.focus(),P(null))},[$]),onTriggerLeave:C.useCallback(D=>{$(D)&&D.preventDefault()},[$]),pointerGraceTimerRef:B,onPointerGraceIntentChange:C.useCallback(D=>{V.current=D},[]),children:i.jsx(G,{...q,children:i.jsx(Ju,{asChild:!0,trapped:o,onMountAutoFocus:Re(d,D=>{var M;D.preventDefault(),(M=E.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(_l,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:_,children:i.jsx(KC,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:P,onEntryFocus:Re(u,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(cg,{role:"menu","aria-orientation":"vertical","data-state":yk(x.open),"data-radix-menu-content":"",dir:y.dir,...g,...w,ref:N,style:{outline:"none",...w.style},onKeyDown:Re(w.onKeyDown,D=>{const O=D.target.closest("[data-radix-menu-content]")===D.currentTarget,W=D.ctrlKey||D.altKey||D.metaKey,I=D.key.length===1;O&&(D.key==="Tab"&&D.preventDefault(),!W&&I&&K(D.key));const re=E.current;if(D.target!==re||!t6.includes(D.key))return;D.preventDefault();const me=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);YC.includes(D.key)&&me.reverse(),w6(me)}),onBlur:Re(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(L.current),F.current="")}),onPointerMove:Re(e.onPointerMove,il(D=>{const M=D.target,O=X.current!==D.clientX;if(D.currentTarget.contains(M)&&O){const W=D.clientX>X.current?"right":"left";U.current=W,X.current=D.clientX}}))})})})})})})});rk.displayName=dn;var f6="MenuGroup",vg=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ke.div,{role:"group",...n,ref:t})});vg.displayName=f6;var p6="MenuLabel",nk=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ke.div,{...n,ref:t})});nk.displayName=p6;var Pu="MenuItem",T_="menu.itemSelect",hd=C.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,d=C.useRef(null),c=jl(Pu,e.__scopeMenu),l=mg(Pu,e.__scopeMenu),u=Ze(t,d),f=C.useRef(!1),p=()=>{const h=d.current;if(!r&&h){const v=new CustomEvent(T_,{bubbles:!0,cancelable:!0});h.addEventListener(T_,_=>n==null?void 0:n(_),{once:!0}),A1(h,v),v.defaultPrevented?f.current=!1:c.onClose()}};return i.jsx(sk,{...o,ref:u,disabled:r,onClick:Re(e.onClick,p),onPointerDown:h=>{var v;(v=e.onPointerDown)==null||v.call(e,h),f.current=!0},onPointerUp:Re(e.onPointerUp,h=>{var v;f.current||(v=h.currentTarget)==null||v.click()}),onKeyDown:Re(e.onKeyDown,h=>{const v=l.searchRef.current!=="";r||v&&h.key===" "||Tp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hd.displayName=Pu;var sk=C.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...d}=e,c=mg(Pu,r),l=JC(r),u=C.useRef(null),f=Ze(t,u),[p,h]=C.useState(!1),[v,_]=C.useState("");return C.useEffect(()=>{const k=u.current;k&&_((k.textContent??"").trim())},[d.children]),i.jsx(sl.ItemSlot,{scope:r,disabled:n,textValue:o??v,children:i.jsx(qC,{asChild:!0,...l,focusable:!n,children:i.jsx(Ke.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...d,ref:f,onPointerMove:Re(e.onPointerMove,il(k=>{n?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(e.onPointerLeave,il(k=>c.onItemLeave(k))),onFocus:Re(e.onFocus,()=>h(!0)),onBlur:Re(e.onBlur,()=>h(!1))})})})}),m6="MenuCheckboxItem",ik=C.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return i.jsx(uk,{scope:e.__scopeMenu,checked:r,children:i.jsx(hd,{role:"menuitemcheckbox","aria-checked":Tu(r)?"mixed":r,...o,ref:t,"data-state":_g(r),onSelect:Re(o.onSelect,()=>n==null?void 0:n(Tu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ik.displayName=m6;var ok="MenuRadioGroup",[g6,v6]=zi(ok,{value:void 0,onValueChange:()=>{}}),ak=C.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,d=nr(n);return i.jsx(g6,{scope:e.__scopeMenu,value:r,onValueChange:d,children:i.jsx(vg,{...o,ref:t})})});ak.displayName=ok;var lk="MenuRadioItem",ck=C.forwardRef((e,t)=>{const{value:r,...n}=e,o=v6(lk,e.__scopeMenu),d=r===o.value;return i.jsx(uk,{scope:e.__scopeMenu,checked:d,children:i.jsx(hd,{role:"menuitemradio","aria-checked":d,...n,ref:t,"data-state":_g(d),onSelect:Re(n.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,r)},{checkForDefaultPrevented:!1})})})});ck.displayName=lk;var xg="MenuItemIndicator",[uk,x6]=zi(xg,{checked:!1}),dk=C.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,d=x6(xg,r);return i.jsx(pr,{present:n||Tu(d.checked)||d.checked===!0,children:i.jsx(Ke.span,{...o,ref:t,"data-state":_g(d.checked)})})});dk.displayName=xg;var y6="MenuSeparator",hk=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});hk.displayName=y6;var _6="MenuArrow",fk=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=kl(r);return i.jsx(ug,{...o,...n,ref:t})});fk.displayName=_6;var yg="MenuSub",[b6,pk]=zi(yg),mk=e=>{const{__scopeMenu:t,children:r,open:n=!1,onOpenChange:o}=e,d=ai(yg,t),c=kl(t),[l,u]=C.useState(null),[f,p]=C.useState(null),h=nr(o);return C.useEffect(()=>(d.open===!1&&h(!1),()=>h(!1)),[d.open,h]),i.jsx(od,{...c,children:i.jsx(QC,{scope:t,open:n,onOpenChange:h,content:f,onContentChange:p,children:i.jsx(b6,{scope:t,contentId:Br(),triggerId:Br(),trigger:l,onTriggerChange:u,children:r})})})};mk.displayName=yg;var $a="MenuSubTrigger",gk=C.forwardRef((e,t)=>{const r=ai($a,e.__scopeMenu),n=jl($a,e.__scopeMenu),o=pk($a,e.__scopeMenu),d=mg($a,e.__scopeMenu),c=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=d,f={__scopeMenu:e.__scopeMenu},p=C.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return C.useEffect(()=>p,[p]),C.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),u(null)}},[l,u]),i.jsx(fg,{asChild:!0,...f,children:i.jsx(sk,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":yk(r.open),...e,ref:ys(t,o.onTriggerChange),onClick:h=>{var v;(v=e.onClick)==null||v.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Re(e.onPointerMove,il(h=>{d.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(d.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Re(e.onPointerLeave,il(h=>{var _,k;p();const v=(_=r.content)==null?void 0:_.getBoundingClientRect();if(v){const w=(k=r.content)==null?void 0:k.dataset.side,x=w==="right",y=x?-5:5,g=v[x?"left":"right"],b=v[x?"right":"left"];d.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:g,y:v.top},{x:b,y:v.top},{x:b,y:v.bottom},{x:g,y:v.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(h),h.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:Re(e.onKeyDown,h=>{var _;const v=d.searchRef.current!=="";e.disabled||v&&h.key===" "||r6[n.dir].includes(h.key)&&(r.onOpenChange(!0),(_=r.content)==null||_.focus(),h.preventDefault())})})})});gk.displayName=$a;var vk="MenuSubContent",xk=C.forwardRef((e,t)=>{const r=ek(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,d=ai(dn,e.__scopeMenu),c=jl(dn,e.__scopeMenu),l=pk(vk,e.__scopeMenu),u=C.useRef(null),f=Ze(t,u);return i.jsx(sl.Provider,{scope:e.__scopeMenu,children:i.jsx(pr,{present:n||d.open,children:i.jsx(sl.Slot,{scope:e.__scopeMenu,children:i.jsx(gg,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var h;c.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Re(e.onFocusOutside,p=>{p.target!==l.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:Re(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Re(e.onKeyDown,p=>{var _;const h=p.currentTarget.contains(p.target),v=n6[c.dir].includes(p.key);h&&v&&(d.onOpenChange(!1),(_=l.trigger)==null||_.focus(),p.preventDefault())})})})})})});xk.displayName=vk;function yk(e){return e?"open":"closed"}function Tu(e){return e==="indeterminate"}function _g(e){return Tu(e)?"indeterminate":e?"checked":"unchecked"}function w6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function S6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function C6(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let c=S6(e,Math.max(d,0));o.length===1&&(c=c.filter(f=>f!==r));const u=c.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function k6(e,t){const{x:r,y:n}=e;let o=!1;for(let d=0,c=t.length-1;d<t.length;c=d++){const l=t[d],u=t[c],f=l.x,p=l.y,h=u.x,v=u.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(o=!o)}return o}function j6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return k6(r,t)}function il(e){return t=>t.pointerType==="mouse"?e(t):void 0}var N6=ZC,E6=fg,P6=tk,T6=rk,A6=vg,R6=nk,M6=hd,D6=ik,L6=ak,I6=ck,O6=dk,B6=hk,F6=fk,z6=mk,H6=gk,$6=xk,fd="DropdownMenu",[V6]=zr(fd,[XC]),Cr=XC(),[U6,_k]=V6(fd),bk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:d,onOpenChange:c,modal:l=!0}=e,u=Cr(t),f=C.useRef(null),[p,h]=kn({prop:o,defaultProp:d??!1,onChange:c,caller:fd});return i.jsx(U6,{scope:t,triggerId:Br(),triggerRef:f,contentId:Br(),open:p,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(v=>!v),[h]),modal:l,children:i.jsx(N6,{...u,open:p,onOpenChange:h,dir:n,modal:l,children:r})})};bk.displayName=fd;var wk="DropdownMenuTrigger",Sk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,d=_k(wk,r),c=Cr(r);return i.jsx(E6,{asChild:!0,...c,children:i.jsx(Ke.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:ys(t,d.triggerRef),onPointerDown:Re(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(d.onOpenToggle(),d.open||l.preventDefault())}),onKeyDown:Re(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&d.onOpenToggle(),l.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Sk.displayName=wk;var W6="DropdownMenuPortal",Ck=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Cr(t);return i.jsx(P6,{...n,...r})};Ck.displayName=W6;var kk="DropdownMenuContent",jk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=_k(kk,r),d=Cr(r),c=C.useRef(!1);return i.jsx(T6,{id:o.contentId,"aria-labelledby":o.triggerId,...d,...n,ref:t,onCloseAutoFocus:Re(e.onCloseAutoFocus,l=>{var u;c.current||(u=o.triggerRef.current)==null||u.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:Re(e.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!o.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jk.displayName=kk;var G6="DropdownMenuGroup",K6=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(A6,{...o,...n,ref:t})});K6.displayName=G6;var q6="DropdownMenuLabel",Nk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(R6,{...o,...n,ref:t})});Nk.displayName=q6;var Y6="DropdownMenuItem",Ek=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(M6,{...o,...n,ref:t})});Ek.displayName=Y6;var X6="DropdownMenuCheckboxItem",Pk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(D6,{...o,...n,ref:t})});Pk.displayName=X6;var J6="DropdownMenuRadioGroup",Q6=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(L6,{...o,...n,ref:t})});Q6.displayName=J6;var Z6="DropdownMenuRadioItem",Tk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(I6,{...o,...n,ref:t})});Tk.displayName=Z6;var eB="DropdownMenuItemIndicator",Ak=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(O6,{...o,...n,ref:t})});Ak.displayName=eB;var tB="DropdownMenuSeparator",Rk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(B6,{...o,...n,ref:t})});Rk.displayName=tB;var rB="DropdownMenuArrow",nB=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(F6,{...o,...n,ref:t})});nB.displayName=rB;var sB=e=>{const{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:o,defaultOpen:d}=e,c=Cr(t),[l,u]=kn({prop:n,defaultProp:d??!1,onChange:o,caller:"DropdownMenuSub"});return i.jsx(z6,{...c,open:l,onOpenChange:u,children:r})},iB="DropdownMenuSubTrigger",Mk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx(H6,{...o,...n,ref:t})});Mk.displayName=iB;var oB="DropdownMenuSubContent",Dk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(r);return i.jsx($6,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dk.displayName=oB;var aB=bk,lB=Sk,cB=Ck,Lk=jk,Ik=Nk,Ok=Ek,Bk=Pk,Fk=Tk,zk=Ak,Hk=Rk,uB=sB,$k=Mk,Vk=Dk;const vs=aB,xs=lB,Ap=uB,Au=C.forwardRef(({className:e,inset:t,children:r,...n},o)=>i.jsxs($k,{ref:o,className:De("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(Bi,{className:"ml-auto"})]}));Au.displayName=$k.displayName;const Ru=C.forwardRef(({className:e,...t},r)=>i.jsx(Vk,{ref:r,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ru.displayName=Vk.displayName;const Kn=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(cB,{children:i.jsx(Lk,{ref:n,sideOffset:t,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Kn.displayName=Lk.displayName;const ht=C.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(Ok,{ref:n,className:De("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));ht.displayName=Ok.displayName;const ol=C.forwardRef(({className:e,children:t,checked:r,...n},o)=>i.jsxs(Bk,{ref:o,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(zk,{children:i.jsx(Jt,{className:"h-4 w-4"})})}),t]}));ol.displayName=Bk.displayName;const dB=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Fk,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(zk,{children:i.jsx(t5,{className:"h-2 w-2 fill-current"})})}),t]}));dB.displayName=Fk.displayName;const Io=C.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(Ik,{ref:n,className:De("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Io.displayName=Ik.displayName;const rr=C.forwardRef(({className:e,...t},r)=>i.jsx(Hk,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));rr.displayName=Hk.displayName;const A_={development:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",productivity:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",integration:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",external:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",lsp:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};function hB({plugin:e,onToggle:t,isToggling:r,projectDir:n}){const o=A_[e.category]||A_.default;return e.mcpServers||e.lspServers||e.commands,i.jsxs(Hn.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`
        relative p-3 rounded-lg border transition-all
        ${e.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700"}
      `,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),e.sourceType==="external"&&i.jsx(Ro,{className:"w-3 h-3 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.category&&i.jsx(nt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${o}`,children:e.category}),e.lspServers&&i.jsxs(nt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",children:[i.jsx(Qs,{className:"w-2.5 h-2.5 mr-0.5"}),"LSP"]}),e.mcpServers&&i.jsxs(nt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[i.jsx(Ri,{className:"w-2.5 h-2.5 mr-0.5"}),"MCP"]}),e.version&&i.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",e.version]})]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(pt,{checked:e.installed,onCheckedChange:()=>t(e),disabled:r===e.name,className:"data-[state=checked]:bg-green-600"})})]}),r===e.name&&i.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 rounded-lg flex items-center justify-center",children:i.jsx(dt,{className:"w-5 h-5 animate-spin text-indigo-600"})})]})}function fB({open:e,onOpenChange:t,projectDir:r,projectName:n}){const[o,d]=C.useState(!0),[c,l]=C.useState({allPlugins:[],categories:[]}),[u,f]=C.useState(""),[p,h]=C.useState("project"),[v,_]=C.useState([]),[k,w]=C.useState(!0),[x,y]=C.useState(!0),[g,b]=C.useState(null),j=async()=>{d(!0);try{const F=await we.getPlugins();l(F)}catch(F){ee.error("Failed to load plugins: "+F.message)}finally{d(!1)}};C.useEffect(()=>{e&&(j(),f(""))},[e]);const T=C.useMemo(()=>{let F=c.allPlugins||[];if(u){const B=u.toLowerCase();F=F.filter(V=>{var U,X;return((U=V.name)==null?void 0:U.toLowerCase().includes(B))||((X=V.description)==null?void 0:X.toLowerCase().includes(B))})}return F=F.filter(B=>!(B.sourceType==="external"&&!k||B.sourceType==="internal"&&!x)),v.length>0&&(F=F.filter(B=>v.includes(B.category))),F.sort((B,V)=>B.installed&&!V.installed?-1:!B.installed&&V.installed?1:B.name.localeCompare(V.name)),F},[c.allPlugins,u,k,x,v]),P=F=>{_(B=>B.includes(F)?B.filter(V=>V!==F):[...B,F])},E=async F=>{b(F.name);try{if(F.installed){const B=await we.uninstallPlugin(`${F.name}@${F.marketplace}`);B.success?ee.success(`Uninstalled ${F.name}`):ee.error(B.error||"Failed to uninstall")}else{const B=await we.installPlugin(F.name,F.marketplace,p,r);B.success?ee.success(`Installed ${F.name} (${p})`):ee.error(B.error||"Failed to install")}await j()}catch(B){ee.error("Operation failed: "+B.message)}finally{b(null)}},N=T.filter(F=>F.installed).length,L=T.filter(F=>!F.installed).length;return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-2xl max-h-[85vh] flex flex-col p-0",children:[i.jsxs(Pt,{className:"px-6 pt-6 pb-4 border-b dark:border-slate-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Mo,{className:"w-5 h-5 text-indigo-600"}),"Install Plugins",n&&i.jsx(nt,{variant:"outline",className:"ml-2 font-normal",children:n})]}),i.jsx(Sr,{children:"Enable plugins for enhanced Claude Code capabilities"})]}),i.jsxs("div",{className:"px-6 py-3 border-b dark:border-slate-800 space-y-3 bg-gray-50 dark:bg-slate-900/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(vl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:u,onChange:F=>f(F.target.value),placeholder:"Search plugins...",className:"pl-9 h-9 bg-white dark:bg-slate-800"})]}),i.jsxs(ri,{value:p,onValueChange:h,children:[i.jsx(ms,{className:"w-36 h-9 bg-white dark:bg-slate-800",children:i.jsx(ni,{})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"project",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(s1,{className:"w-3.5 h-3.5"}),"Project"]})}),i.jsx(Wt,{value:"user",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Ro,{className:"w-3.5 h-3.5"}),"Global"]})}),i.jsx(Wt,{value:"local",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-3.5 h-3.5"}),"Local"]})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",children:[i.jsx(l1,{className:"w-3 h-3"}),"Category",v.length>0&&i.jsx(nt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:v.length}),i.jsx(hn,{className:"w-3 h-3 ml-1"})]})}),i.jsxs(Kn,{align:"start",className:"w-48",children:[i.jsx(Io,{className:"text-xs",children:"Categories"}),i.jsx(rr,{}),(c.categories||[]).map(F=>i.jsx(ol,{checked:v.includes(F),onCheckedChange:()=>P(F),children:F},F)),v.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(rr,{}),i.jsx(ol,{checked:!1,onCheckedChange:()=>_([]),children:"Clear all"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 ml-auto text-xs",children:[i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:x,onCheckedChange:y,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),i.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Anthropic"})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:k,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),i.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Community"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Jt,{className:"w-3 h-3 text-green-600"}),N," installed"]}),i.jsxs("span",{children:[L," available"]}),i.jsxs("span",{className:"ml-auto",children:[T.length," shown"]})]})]}),i.jsx(hs,{className:"flex-1 px-6 py-4",children:o?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(dt,{className:"w-6 h-6 animate-spin text-indigo-600"})}):T.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400",children:[i.jsx(Mo,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No plugins found"}),u&&i.jsx(he,{variant:"link",size:"sm",onClick:()=>f(""),className:"mt-2",children:"Clear search"})]}):i.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.jsx(Fu,{mode:"popLayout",children:T.map(F=>i.jsx(hB,{plugin:F,onToggle:E,isToggling:g,projectDir:r},`${F.name}@${F.marketplace}`))})})}),i.jsxs("div",{className:"px-6 py-3 border-t dark:border-slate-800 flex items-center justify-between bg-gray-50 dark:bg-slate-900/50",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500",children:"Plugins extend Claude Code with LSP servers, MCP tools, and commands"}),i.jsx(he,{variant:"outline",size:"sm",onClick:()=>t(!1),children:"Done"})]})]})})}const al={mcps:{icon:Ri,color:"text-blue-600",bgColor:"bg-blue-50",label:"MCP Servers"},settings:{icon:Zs,color:"text-gray-600 dark:text-slate-400",bgColor:"bg-gray-50 dark:bg-slate-800",label:"Settings"},command:{icon:Ft,color:"text-green-600",bgColor:"bg-green-50",label:"Command"},rule:{icon:Ai,color:"text-purple-600",bgColor:"bg-purple-50",label:"Rule"},workflow:{icon:c1,color:"text-cyan-600",bgColor:"bg-cyan-50",label:"Workflow"},claudemd:{icon:wr,color:"text-orange-600",bgColor:"bg-orange-50",label:"CLAUDE.md"},geminimd:{icon:wr,color:"text-blue-600",bgColor:"bg-blue-50",label:"GEMINI.md"},env:{icon:Wu,color:"text-yellow-600",bgColor:"bg-yellow-50",label:".env"},memory:{icon:To,color:"text-pink-600",bgColor:"bg-pink-50",label:"Memory"},folder:{icon:hr,color:"text-yellow-600",bgColor:"bg-yellow-50",label:"Folder"}};function cu({item:e,level:t=0,selectedPath:r,onSelect:n,onContextMenu:o,expandedFolders:d,onToggleFolder:c}){const l=al[e.type]||al.folder,u=l.icon,f=r===e.path,p=e.type==="folder",h=d[e.path];return i.jsxs("div",{children:[i.jsxs("div",{className:De("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm","hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",f&&"bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/30"),style:{paddingLeft:`${t*16+8}px`},onClick:()=>p?c(e.path):n(e),onContextMenu:v=>o(v,e),children:[p&&i.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:h?i.jsx(hn,{className:"w-3 h-3"}):i.jsx(Bi,{className:"w-3 h-3"})}),!p&&i.jsx("span",{className:"w-4"}),i.jsx(u,{className:De("w-4 h-4",l.color)}),i.jsx("span",{className:"flex-1 truncate",children:e.name}),e.mcpCount>0&&i.jsx(nt,{variant:"secondary",className:"text-xs px-1.5 py-0",children:e.mcpCount})]}),p&&h&&e.children&&i.jsx("div",{children:e.children.map(v=>i.jsx(cu,{item:v,level:t+1,selectedPath:r,onSelect:n,onContextMenu:o,expandedFolders:d,onToggleFolder:c},v.path))})]})}function pB({folder:e,isExpanded:t,isHome:r,isProject:n,isSubproject:o,depth:d=0,onToggle:c,onCreateFile:l,onInstallPlugin:u,onSelectItem:f,selectedPath:p,onContextMenu:h,expandedFolders:v,onToggleFolder:_,templates:k,hasSubprojects:w,onAddSubproject:x,onRemoveSubproject:y,onHideSubproject:g}){var U,X,G,q,K,$,D,M,O,W;const b=(U=e.files)==null?void 0:U.some(I=>I.name==="mcps.json"),j=(X=e.files)==null?void 0:X.some(I=>I.name==="settings.json"),T=(G=e.files)==null?void 0:G.some(I=>I.name==="CLAUDE.md"||I.name==="CLAUDE.md (root)"),P=(q=e.files)==null?void 0:q.some(I=>I.name===".env"),E=()=>r?"bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":o&&d>1?"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700":o?"bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30":n?"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30":"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700",N=()=>r?"text-indigo-700 dark:text-indigo-400":o&&d>1?"text-gray-600 dark:text-slate-400":o?"text-amber-700 dark:text-amber-400":n?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-slate-300",F=r?Tm:t?Js:hr,B=r?"Home":e.label,V=(((K=e.files)==null?void 0:K.length)||0)+((($=e.geminiFiles)==null?void 0:$.length)||0)+(((D=e.agentFiles)==null?void 0:D.length)||0);return i.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:De("flex items-center gap-2 py-2 cursor-pointer transition-colors",E()),style:{paddingLeft:`${12+d*16}px`,paddingRight:"24px"},onClick:c,children:[i.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-gray-500",children:t?i.jsx(hn,{className:"w-4 h-4"}):i.jsx(Bi,{className:"w-4 h-4"})}),i.jsx(F,{className:De("w-4 h-4",N())}),i.jsx("span",{className:De("flex-1 min-w-0 font-medium text-sm truncate",N()),children:B}),i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,onClick:I=>I.stopPropagation(),children:i.jsx(he,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mr-1 hover:bg-white/50 dark:hover:bg-slate-900/50",children:i.jsx(St,{className:"w-4 h-4"})})}),i.jsxs(Kn,{align:"end",className:"w-48",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 border-b mb-1",children:[n&&w&&i.jsx(nt,{variant:"outline",className:"text-[10px] px-1 py-0 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-300 dark:border-green-700",children:"root"}),!e.exists&&!r&&i.jsx(nt,{variant:"outline",className:"text-[10px] px-1 py-0",children:"no config"}),((M=e.appliedTemplate)==null?void 0:M.template)&&i.jsx(nt,{variant:"outline",className:"text-[10px] px-1 py-0 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border-purple-300 dark:border-purple-700",children:e.appliedTemplate.template.split("/").pop()}),!o&&e.exists&&!((O=e.appliedTemplate)!=null&&O.template)&&V===0&&i.jsx("span",{className:"text-[10px] text-muted-foreground",children:"configured"})]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"mcps")},disabled:b,className:b?"opacity-50":"",children:[i.jsx(Ri,{className:"w-4 h-4 mr-2"}),"mcps.json",b&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"settings")},disabled:j,className:j?"opacity-50":"",children:[i.jsx(Zs,{className:"w-4 h-4 mr-2"}),"settings.json",j&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"env")},disabled:P,className:P?"opacity-50":"",children:[i.jsx(Wu,{className:"w-4 h-4 mr-2"}),".env",P&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsx(rr,{}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"command")},children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"New Command"]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"rule")},children:[i.jsx(Ai,{className:"w-4 h-4 mr-2"}),"New Rule"]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"workflow")},children:[i.jsx(c1,{className:"w-4 h-4 mr-2"}),"New Workflow"]}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"memory")},children:[i.jsx(To,{className:"w-4 h-4 mr-2"}),"New Memory"]}),i.jsx(rr,{}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),u(e.dir,e.name||e.dir.split("/").pop())},children:[i.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Install Plugins"]}),i.jsx(rr,{}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),l(e.dir,"claudemd")},disabled:T,className:T?"opacity-50":"",children:[i.jsx(wr,{className:"w-4 h-4 mr-2"}),"CLAUDE.md",T&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),(n||o)&&x&&i.jsxs(i.Fragment,{children:[i.jsx(rr,{}),i.jsxs(ht,{onClick:I=>{I.stopPropagation(),x(e.dir)},children:[i.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Sub-project"]})]}),o&&g&&i.jsxs(ht,{onClick:I=>{I.stopPropagation(),g(e.dir)},children:[i.jsx(o1,{className:"w-4 h-4 mr-2"}),"Hide"]}),e.isManual&&y&&i.jsxs(ht,{onClick:I=>{I.stopPropagation(),y(e.dir)},className:"text-destructive focus:text-destructive",children:[i.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Remove"]}),k&&k.length>0&&(o||!w)&&!((W=e.appliedTemplate)!=null&&W.template)&&i.jsxs(i.Fragment,{children:[i.jsx(rr,{}),i.jsxs(Ap,{children:[i.jsxs(Au,{children:[i.jsx(zo,{className:"w-4 h-4 mr-2"}),"Apply Template"]}),i.jsxs(Ru,{children:[k.map(I=>{const re=I.id||I.name;return i.jsx(ht,{onClick:de=>{de.stopPropagation(),l(e.dir,"template",re)},children:I.name},re)}),i.jsx(rr,{}),i.jsxs(Ap,{children:[i.jsx(Au,{className:"text-xs text-muted-foreground",children:"Mark as Applied (migration)"}),i.jsx(Ru,{children:k.map(I=>{const re=I.id||I.name;return i.jsx(ht,{onClick:de=>{de.stopPropagation(),l(e.dir,"mark-template",re)},children:I.name},re)})})]})]})]})]})]})]})]}),t&&i.jsxs("div",{className:"bg-white dark:bg-slate-950 py-1",children:[e.files&&e.files.length>0&&i.jsxs("div",{className:"mb-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(Xt,{className:"w-3 h-3"}),"Claude Code"]}),e.files.map(I=>i.jsx(cu,{item:I,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},I.path))]}),e.geminiFiles&&e.geminiFiles.length>0&&i.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(Xt,{className:"w-3 h-3"}),"Gemini CLI"]}),e.geminiFiles.map(I=>i.jsx(cu,{item:I,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},I.path))]}),e.agentFiles&&e.agentFiles.length>0&&i.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(Xt,{className:"w-3 h-3"}),"Antigravity"]}),e.agentFiles.map(I=>i.jsx(cu,{item:I,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},I.path))]}),(!e.files||e.files.length===0)&&(!e.geminiFiles||e.geminiFiles.length===0)&&(!e.agentFiles||e.agentFiles.length===0)&&i.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 dark:text-slate-500 italic text-center",children:"No config files. Use + to create."})]})]})}const mt=C.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:De("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));mt.displayName="Textarea";var pd="Tabs",[mB]=zr(pd,[dd]),Uk=dd(),[gB,bg]=mB(pd),Wk=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:d,orientation:c="horizontal",dir:l,activationMode:u="automatic",...f}=e,p=yl(l),[h,v]=kn({prop:n,onChange:o,defaultProp:d??"",caller:pd});return i.jsx(gB,{scope:r,baseId:Br(),value:h,onValueChange:v,orientation:c,dir:p,activationMode:u,children:i.jsx(Ke.div,{dir:p,"data-orientation":c,...f,ref:t})})});Wk.displayName=pd;var Gk="TabsList",Kk=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,d=bg(Gk,r),c=Uk(r);return i.jsx(KC,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:n,children:i.jsx(Ke.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:t})})});Kk.displayName=Gk;var qk="TabsTrigger",Yk=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...d}=e,c=bg(qk,r),l=Uk(r),u=Qk(c.baseId,n),f=Zk(c.baseId,n),p=n===c.value;return i.jsx(qC,{asChild:!0,...l,focusable:!o,active:p,children:i.jsx(Ke.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:t,onMouseDown:Re(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?c.onValueChange(n):h.preventDefault()}),onKeyDown:Re(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&c.onValueChange(n)}),onFocus:Re(e.onFocus,()=>{const h=c.activationMode!=="manual";!p&&!o&&h&&c.onValueChange(n)})})})});Yk.displayName=qk;var Xk="TabsContent",Jk=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:d,...c}=e,l=bg(Xk,r),u=Qk(l.baseId,n),f=Zk(l.baseId,n),p=n===l.value,h=C.useRef(p);return C.useEffect(()=>{const v=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx(pr,{present:o||p,children:({present:v})=>i.jsx(Ke.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:v&&d})})});Jk.displayName=Xk;function Qk(e,t){return`${e}-trigger-${t}`}function Zk(e,t){return`${e}-content-${t}`}var vB=Wk,ej=Kk,tj=Yk,rj=Jk;const md=vB,Nl=C.forwardRef(({className:e,...t},r)=>i.jsx(ej,{ref:r,className:De("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Nl.displayName=ej.displayName;const Sn=C.forwardRef(({className:e,...t},r)=>i.jsx(tj,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Sn.displayName=tj.displayName;const ls=C.forwardRef(({className:e,...t},r)=>i.jsx(rj,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ls.displayName=rj.displayName;function xB({content:e,parsed:t,onSave:r,registry:n}){const[o,d]=C.useState(t||{include:[],mcpServers:{}}),[c,l]=C.useState("rich"),[u,f]=C.useState(JSON.stringify(t||{},null,2)),[p,h]=C.useState(!1),[v,_]=C.useState({open:!1,json:""});C.useEffect(()=>{d(t||{include:[],mcpServers:{}}),f(JSON.stringify(t||{},null,2)),h(!1)},[t]);const k=g=>{var j;const b=(j=o.include)!=null&&j.includes(g)?o.include.filter(T=>T!==g):[...o.include||[],g];d({...o,include:b}),h(!0)},w=()=>{if(c==="json")try{const g=JSON.parse(u);r(JSON.stringify(g,null,2))}catch{ee.error("Invalid JSON");return}else r(JSON.stringify(o,null,2));h(!1)},x=()=>{if(!v.json.trim()){ee.error("Please paste the MCP JSON configuration");return}try{let g;try{g=JSON.parse(v.json)}catch{ee.error("Invalid JSON format");return}let b={};if(g.mcpServers&&typeof g.mcpServers=="object")b=g.mcpServers;else if(typeof g=="object"&&!Array.isArray(g)){if(Object.keys(g).includes("command")){ee.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}b=g}if(Object.keys(b).length===0){ee.error("No MCP configurations found in the JSON");return}for(const[E,N]of Object.entries(b))if(!N.command){ee.error(`MCP "${E}" is missing required "command" field`);return}const j={...o.mcpServers||{},...b},T={...o,mcpServers:j};d(T),f(JSON.stringify(T,null,2)),h(!0);const P=Object.keys(b).length;ee.success(`Added ${P} MCP${P>1?"s":""} - click Save to apply`),_({open:!1,json:""})}catch(g){ee.error("Failed to add: "+g.message)}},y=n!=null&&n.mcpServers?Object.keys(n.mcpServers):[];return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[i.jsx(md,{value:c,onValueChange:l,children:i.jsxs(Nl,{className:"h-8",children:[i.jsx(Sn,{value:"rich",className:"text-xs px-3",children:"Rich Editor"}),i.jsx(Sn,{value:"json",className:"text-xs px-3",children:"JSON"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>_({open:!0,json:""}),children:[i.jsx(St,{className:"w-4 h-4 mr-1"}),"Add MCP"]}),p&&i.jsxs(he,{size:"sm",onClick:w,children:[i.jsx(Fi,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),i.jsx(hs,{className:"flex-1",children:c==="rich"?i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Registry MCPs"}),i.jsx("div",{className:"space-y-2",children:y.length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No MCPs in registry"}):y.map(g=>{var b;return i.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-white dark:bg-slate-950",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ri,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-sm",children:g})]}),i.jsx(pt,{checked:(b=o.include)==null?void 0:b.includes(g),onCheckedChange:()=>k(g)})]},g)})})]}),Object.keys(o.mcpServers||{}).length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Inline MCPs"}),i.jsx("div",{className:"space-y-2",children:Object.entries(o.mcpServers).map(([g,b])=>{var j;return i.jsxs("div",{className:"p-2 rounded border bg-white dark:bg-slate-950 group",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:g}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nt,{variant:"outline",className:"text-xs",children:"inline"}),i.jsx(he,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>{const{[g]:T,...P}=o.mcpServers,E={...o,mcpServers:P};d(E),f(JSON.stringify(E,null,2)),h(!0),ee.success(`Removed ${g} - click Save to apply`)},children:i.jsx(Wn,{className:"w-3.5 h-3.5"})})]})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 font-mono",children:[b.command," ",(j=b.args)==null?void 0:j.join(" ")]})]},g)})})]})]}):i.jsx(mt,{className:"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none resize-none",value:u,onChange:g=>{f(g.target.value),h(!0)}})}),i.jsx(Dt,{open:v.open,onOpenChange:g=>_({...v,open:g}),children:i.jsxs(Et,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{children:"Add MCP to Config"}),i.jsx(Sr,{children:"Paste the MCP JSON configuration to add to this config file."})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(mt,{value:v.json,onChange:g=>_({...v,json:g.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>_({open:!1,json:""}),children:"Cancel"}),i.jsxs(he,{onClick:x,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function R_({content:e,onSave:t,fileType:r}){const[n,o]=C.useState(e||""),[d,c]=C.useState(!1);C.useEffect(()=>{o(e||""),c(!1)},[e]);const l=()=>{t(n),c(!1)},u=al[r]||al.claudemd;return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(u.icon,{className:De("w-4 h-4",u.color)}),i.jsx("span",{className:"text-sm font-medium",children:u.label})]}),i.jsx("div",{className:"flex gap-2",children:d&&i.jsxs(he,{size:"sm",onClick:l,children:[i.jsx(Fi,{className:"w-4 h-4 mr-1"}),"Save"]})})]}),i.jsx(mt,{className:"flex-1 w-full font-mono text-sm border-0 rounded-none resize-none p-4",value:n,onChange:f=>{o(f.target.value),c(!0)},placeholder:`Enter ${u.label.toLowerCase()} content...`})]})}var yB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_B=yB.reduce((e,t)=>{const r=Rm(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bB="Label",nj=C.forwardRef((e,t)=>i.jsx(_B.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nj.displayName=bB;var sj=nj;const wB=qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ut=C.forwardRef(({className:e,...t},r)=>i.jsx(sj,{ref:r,className:De(wB(),e),...t}));Ut.displayName=sj.displayName;var SB=Symbol("radix.slottable");function CB(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=SB,t}var[gd]=zr("Tooltip",[Wo]),vd=Wo(),ij="TooltipProvider",kB=700,Rp="tooltip.open",[jB,wg]=gd(ij),oj=e=>{const{__scopeTooltip:t,delayDuration:r=kB,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:d}=e,c=C.useRef(!0),l=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),i.jsx(jB,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),c.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(f=>{l.current=f},[]),disableHoverableContent:o,children:d})};oj.displayName=ij;var ll="Tooltip",[NB,El]=gd(ll),aj=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:o,onOpenChange:d,disableHoverableContent:c,delayDuration:l}=e,u=wg(ll,e.__scopeTooltip),f=vd(t),[p,h]=C.useState(null),v=Br(),_=C.useRef(0),k=c??u.disableHoverableContent,w=l??u.delayDuration,x=C.useRef(!1),[y,g]=kn({prop:n,defaultProp:o??!1,onChange:E=>{E?(u.onOpen(),document.dispatchEvent(new CustomEvent(Rp))):u.onClose(),d==null||d(E)},caller:ll}),b=C.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),j=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,x.current=!1,g(!0)},[g]),T=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,g(!1)},[g]),P=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{x.current=!0,g(!0),_.current=0},w)},[w,g]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),i.jsx(od,{...f,children:i.jsx(NB,{scope:t,contentId:v,open:y,stateAttribute:b,trigger:p,onTriggerChange:h,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?P():j()},[u.isOpenDelayedRef,P,j]),onTriggerLeave:C.useCallback(()=>{k?T():(window.clearTimeout(_.current),_.current=0)},[T,k]),onOpen:j,onClose:T,disableHoverableContent:k,children:r})})};aj.displayName=ll;var Mp="TooltipTrigger",lj=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=El(Mp,r),d=wg(Mp,r),c=vd(r),l=C.useRef(null),u=Ze(t,l,o.onTriggerChange),f=C.useRef(!1),p=C.useRef(!1),h=C.useCallback(()=>f.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(lg,{asChild:!0,...c,children:i.jsx(Ke.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:u,onPointerMove:Re(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!d.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Re(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Re(e.onBlur,o.onClose),onClick:Re(e.onClick,o.onClose)})})});lj.displayName=Mp;var Sg="TooltipPortal",[EB,PB]=gd(Sg,{forceMount:void 0}),cj=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:o}=e,d=El(Sg,t);return i.jsx(EB,{scope:t,forceMount:r,children:i.jsx(pr,{present:r||d.open,children:i.jsx(bl,{asChild:!0,container:o,children:n})})})};cj.displayName=Sg;var Oo="TooltipContent",uj=C.forwardRef((e,t)=>{const r=PB(Oo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...d}=e,c=El(Oo,e.__scopeTooltip);return i.jsx(pr,{present:n||c.open,children:c.disableHoverableContent?i.jsx(dj,{side:o,...d,ref:t}):i.jsx(TB,{side:o,...d,ref:t})})}),TB=C.forwardRef((e,t)=>{const r=El(Oo,e.__scopeTooltip),n=wg(Oo,e.__scopeTooltip),o=C.useRef(null),d=Ze(t,o),[c,l]=C.useState(null),{trigger:u,onClose:f}=r,p=o.current,{onPointerInTransitChange:h}=n,v=C.useCallback(()=>{l(null),h(!1)},[h]),_=C.useCallback((k,w)=>{const x=k.currentTarget,y={x:k.clientX,y:k.clientY},g=LB(y,x.getBoundingClientRect()),b=IB(y,g),j=OB(w.getBoundingClientRect()),T=FB([...b,...j]);l(T),h(!0)},[h]);return C.useEffect(()=>()=>v(),[v]),C.useEffect(()=>{if(u&&p){const k=x=>_(x,p),w=x=>_(x,u);return u.addEventListener("pointerleave",k),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",k),p.removeEventListener("pointerleave",w)}}},[u,p,_,v]),C.useEffect(()=>{if(c){const k=w=>{const x=w.target,y={x:w.clientX,y:w.clientY},g=(u==null?void 0:u.contains(x))||(p==null?void 0:p.contains(x)),b=!BB(y,c);g?v():b&&(v(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,p,c,f,v]),i.jsx(dj,{...e,ref:d})}),[AB,RB]=gd(ll,{isInside:!1}),MB=CB("TooltipContent"),dj=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:d,onPointerDownOutside:c,...l}=e,u=El(Oo,r),f=vd(r),{onClose:p}=u;return C.useEffect(()=>(document.addEventListener(Rp,p),()=>document.removeEventListener(Rp,p)),[p]),C.useEffect(()=>{if(u.trigger){const h=v=>{const _=v.target;_!=null&&_.contains(u.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,p]),i.jsx(_l,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:i.jsxs(cg,{"data-state":u.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(MB,{children:n}),i.jsx(AB,{scope:r,isInside:!0,children:i.jsx(tO,{id:u.contentId,role:"tooltip",children:o||n})})]})})});uj.displayName=Oo;var hj="TooltipArrow",DB=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=vd(r);return RB(hj,r).isInside?null:i.jsx(ug,{...o,...n,ref:t})});DB.displayName=hj;function LB(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,n,o,d)){case d:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function IB(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function OB(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function BB(e,t){const{x:r,y:n}=e;let o=!1;for(let d=0,c=t.length-1;d<t.length;c=d++){const l=t[d],u=t[c],f=l.x,p=l.y,h=u.x,v=u.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(o=!o)}return o}function FB(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zB(t)}function zB(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const d=t[t.length-1],c=t[t.length-2];if((d.x-c.x)*(o.y-c.y)>=(d.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const d=r[r.length-1],c=r[r.length-2];if((d.x-c.x)*(o.y-c.y)>=(d.y-c.y)*(o.x-c.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var HB=oj,$B=aj,VB=lj,UB=cj,fj=uj;const Mu=HB,Vn=$B,Un=VB,Cn=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(UB,{children:i.jsx(fj,{ref:n,sideOffset:t,className:De("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Cn.displayName=fj.displayName;const WB=qu("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Du=C.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:De(WB({variant:t}),e),...r}));Du.displayName="Alert";const GB=C.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:De("mb-1 font-medium leading-none tracking-tight",e),...t}));GB.displayName="AlertTitle";const Lu=C.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:De("text-sm [&_p]:leading-relaxed",e),...t}));Lu.displayName="AlertDescription";var xd="Collapsible",[KB]=zr(xd),[qB,Cg]=KB(xd),pj=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:d,onOpenChange:c,...l}=e,[u,f]=kn({prop:n,defaultProp:o??!1,onChange:c,caller:xd});return i.jsx(qB,{scope:r,disabled:d,contentId:Br(),open:u,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),children:i.jsx(Ke.div,{"data-state":jg(u),"data-disabled":d?"":void 0,...l,ref:t})})});pj.displayName=xd;var mj="CollapsibleTrigger",gj=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=Cg(mj,r);return i.jsx(Ke.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":jg(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:Re(e.onClick,o.onOpenToggle)})});gj.displayName=mj;var kg="CollapsibleContent",vj=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Cg(kg,e.__scopeCollapsible);return i.jsx(pr,{present:r||o.open,children:({present:d})=>i.jsx(YB,{...n,ref:t,present:d})})});vj.displayName=kg;var YB=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...d}=e,c=Cg(kg,r),[l,u]=C.useState(n),f=C.useRef(null),p=Ze(t,f),h=C.useRef(0),v=h.current,_=C.useRef(0),k=_.current,w=c.open||l,x=C.useRef(w),y=C.useRef(void 0);return C.useEffect(()=>{const g=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(g)},[]),sr(()=>{const g=f.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();h.current=b.height,_.current=b.width,x.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),u(n)}},[c.open,n]),i.jsx(Ke.div,{"data-state":jg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!w,...d,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:w&&o})});function jg(e){return e?"open":"closed"}var XB=pj;const xj=XB,yj=gj,_j=vj,Dp=[{name:"Bash",icon:Ft,description:"Shell commands",color:"text-purple-600",bgColor:"bg-purple-50",badgeClass:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Read",icon:wr,description:"Read file contents",color:"text-blue-600",bgColor:"bg-blue-50",badgeClass:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Edit",icon:Pm,description:"Edit existing files",color:"text-amber-600",bgColor:"bg-amber-50",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},{name:"Write",icon:f1,description:"Create/write files",color:"text-orange-600",bgColor:"bg-orange-50",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},{name:"WebFetch",icon:Ro,description:"Fetch web content",color:"text-green-600",bgColor:"bg-green-50",badgeClass:"bg-green-100 text-green-700 border-green-200"},{name:"WebSearch",icon:vl,description:"Web search capability",color:"text-teal-600",bgColor:"bg-teal-50",badgeClass:"bg-teal-100 text-teal-700 border-teal-200"},{name:"mcp",icon:xu,description:"MCP server tools",color:"text-indigo-600",bgColor:"bg-indigo-50",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200"}],Lf=[{category:"Git",name:"Git Status",pattern:"Bash(git status:*)",description:"Check repository status",icon:Ft},{category:"Git",name:"Git Add",pattern:"Bash(git add:*)",description:"Stage files for commit",icon:Ft},{category:"Git",name:"Git Commit",pattern:"Bash(git commit:*)",description:"Create commits",icon:Ft},{category:"Git",name:"Git Push",pattern:"Bash(git push:*)",description:"Push to remote repository",icon:Ft},{category:"Git",name:"Git Diff",pattern:"Bash(git diff:*)",description:"Show changes",icon:Ft},{category:"NPM",name:"NPM Install",pattern:"Bash(npm install:*)",description:"Install dependencies",icon:Ft},{category:"NPM",name:"NPM Run Scripts",pattern:"Bash(npm run:*)",description:"Run package scripts",icon:Ft},{category:"NPM",name:"NPM Test",pattern:"Bash(npm test:*)",description:"Run tests",icon:Ft},{category:"Files",name:"Read All Files",pattern:"Read(**)",description:"Read any file in the project",icon:wr},{category:"Files",name:"Edit All Files",pattern:"Edit(**)",description:"Edit any file in the project",icon:Pm},{category:"Security",name:"Deny .env Files",pattern:"Read(./.env)",description:"Block reading environment files",icon:wr,suggestedCategory:"deny"},{category:"Security",name:"Deny All .env",pattern:"Read(**/.env*)",description:"Block all environment files",icon:wr,suggestedCategory:"deny"},{category:"Commands",name:"List Files",pattern:"Bash(ls:*)",description:"List directory contents",icon:Ft},{category:"Commands",name:"Find Files",pattern:"Bash(find:*)",description:"Find files and directories",icon:Ft},{category:"MCP",name:"Filesystem Operations",pattern:"mcp__filesystem__*",description:"All filesystem MCP operations",icon:xu},{category:"MCP",name:"GitHub Operations",pattern:"mcp__github__*",description:"All GitHub MCP operations",icon:xu}];function bj(e){if(!e)return{type:"unknown",value:"",hasWildcard:!1,description:""};if(e.startsWith("mcp__")){const r=e.split("__");return{type:"mcp",value:e,server:r[1]||"",tool:r[2]||"",hasWildcard:e.includes("*"),description:`MCP tool: ${r.slice(1).join("/")}`}}if(e==="WebSearch")return{type:"WebSearch",value:"",hasWildcard:!1,description:"Web search capability"};const t=e.match(/^(\w+)\((.+)\)$/);if(t){const[,r,n]=t,o=n.includes("*");return{type:r,value:n,hasWildcard:o,description:ZB(r,n)}}return{type:"unknown",value:e,hasWildcard:e.includes("*"),description:e}}function JB(e,t){return e==="WebSearch"?"WebSearch":e==="mcp"?t:t?`${e}(${t})`:""}function QB(e){if(!e)return"Rule cannot be empty";if(e==="WebSearch")return null;if(e.startsWith("mcp__"))return e.includes("*")||e.match(/^mcp__\w+__\w+$/)?null:"MCP pattern must be: mcp__server__tool";const t=e.match(/^(\w+)\((.+)\)$/);if(!t)return"Invalid pattern format. Expected: Type(value) or mcp__server__tool";const[,r]=t,n=["Bash","Read","Edit","Write","WebFetch"];return n.includes(r)?null:`Unknown permission type: ${r}. Valid types: ${n.join(", ")}`}function ZB(e,t){switch(e){case"Bash":if(t.includes(":")){const[r,n]=t.split(":");return n==="*"?`Run "${r}" with any arguments`:`Run "${r} ${n}"`}return`Run "${t}"`;case"Read":return t==="**"?"Read all files":t.includes("**")?`Read files matching ${t}`:`Read ${t}`;case"Edit":return t==="**"?"Edit all files":t.includes("**")?`Edit files matching ${t}`:`Edit ${t}`;case"Write":return t==="**"?"Write to any file":t.includes("**")?`Write files matching ${t}`:`Write to ${t}`;case"WebFetch":return t==="*"?"Fetch any URL":`Fetch URLs matching ${t}`;default:return t}}function eF(e){return Dp.find(r=>r.name===e)||Dp[0]}function tF(e){return{allow:'Rules in "Allow" will execute automatically without prompting. Use wildcards (*) for flexible matching.',ask:'Rules in "Ask" will prompt for confirmation each time. Good for potentially destructive operations.',deny:'Rules in "Deny" are blocked entirely. Use this to prevent access to sensitive files or dangerous operations.'}[e]}function M_(e){return{allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeColor:"bg-green-100 text-green-700",description:"Operations that run without asking"},ask:{label:"Ask",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",badgeColor:"bg-amber-100 text-amber-700",description:"Operations that require confirmation"},deny:{label:"Deny",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",description:"Operations that are blocked"}}[e]}function rF({rule:e,category:t,onEdit:r,onDelete:n,onMove:o,readOnly:d}){const[c,l]=C.useState(!1),u=bj(e),f=eF(u.type),p=f.icon,h=v=>{v.stopPropagation(),navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)};return i.jsxs(Hn.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:De("group flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700","hover:border-gray-300 dark:hover:border-slate-600 hover:shadow-sm transition-all"),children:[i.jsx("div",{className:De("w-8 h-8 rounded-lg flex items-center justify-center shrink-0",f.bgColor),children:i.jsx(p,{className:De("w-4 h-4",f.color)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nt,{variant:"outline",className:De("text-xs",f.badgeClass),children:u.type}),u.hasWildcard&&i.jsxs(Vn,{children:[i.jsx(Un,{children:i.jsx(nt,{variant:"secondary",className:"text-xs",children:"Wildcard"})}),i.jsx(Cn,{children:"Pattern uses wildcard (*) matching"})]})]}),i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx("code",{className:"block text-sm font-mono text-gray-700 dark:text-slate-300 truncate mt-1 cursor-default",children:e})}),i.jsx(Cn,{side:"bottom",className:"max-w-md",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("code",{className:"text-xs break-all",children:e}),i.jsx("p",{className:"text-xs text-gray-300",children:u.description})]})})]})]}),i.jsxs("div",{className:De("flex items-center gap-1 transition-opacity",d?"opacity-50 pointer-events-none":"opacity-0 group-hover:opacity-100"),children:[i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:h,children:c?i.jsx(Jt,{className:"w-4 h-4 text-green-500"}):i.jsx(tl,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:"Copy rule"})]}),i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(i1,{className:"w-4 h-4"})})}),i.jsxs(Kn,{align:"end",children:[i.jsxs(ht,{onClick:r,children:[i.jsx(Am,{className:"w-4 h-4 mr-2"}),"Edit Rule"]}),i.jsxs(Ap,{children:[i.jsxs(Au,{children:[i.jsx(Nm,{className:"w-4 h-4 mr-2"}),"Move to..."]}),i.jsx(Ru,{children:["allow","ask","deny"].filter(v=>v!==t).map(v=>i.jsxs(ht,{onClick:()=>o(v),children:["Move to ",v]},v))})]}),i.jsx(rr,{}),i.jsxs(ht,{onClick:n,className:"text-red-600",children:[i.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete Rule"]})]})]})]})]})}function nF({open:e,onOpenChange:t,onSubmit:r,defaultCategory:n="allow",defaultRule:o="",isEditing:d=!1}){const[c,l]=C.useState("preset"),[u,f]=C.useState(n),[p,h]=C.useState("Bash"),[v,_]=C.useState(""),[k,w]=C.useState(o),[x,y]=C.useState(null),[g,b]=C.useState(""),[j,T]=C.useState(null);C.useEffect(()=>{if(e)if(f(n),o&&d){const B=bj(o);h(B.type==="unknown"?"Bash":B.type),_(B.value),w(o);const V=Lf.find(U=>U.pattern===o);V?(y(V),l("preset")):l("builder")}else h("Bash"),_(""),w(""),y(null),l("preset")},[e,o,n,d]);const P=C.useMemo(()=>c==="preset"&&x?x.pattern:c==="freeform"?k:JB(p,v),[c,x,p,v,k]);C.useEffect(()=>{const B=QB(P);T(B)},[P]);const E=C.useMemo(()=>{if(!g)return Lf;const B=g.toLowerCase();return Lf.filter(V=>V.name.toLowerCase().includes(B)||V.pattern.toLowerCase().includes(B)||V.description.toLowerCase().includes(B)||V.category.toLowerCase().includes(B))},[g]),N=C.useMemo(()=>{const B={};return E.forEach(V=>{B[V.category]||(B[V.category]=[]),B[V.category].push(V)}),B},[E]),L=()=>{j||(r(u,P),t(!1))},F=oF(p);return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{className:"flex items-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(f1,{className:"w-5 h-5 text-indigo-600"}),"Edit Permission Rule"]}):i.jsxs(i.Fragment,{children:[i.jsx(as,{className:"w-5 h-5 text-indigo-600"}),"Add Permission Rule"]})}),i.jsx(Sr,{children:"Create a permission rule to control Claude Code's behavior."})]}),i.jsxs("div",{className:"flex-1 overflow-auto space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{children:"Permission Category"}),i.jsxs(ri,{value:u,onValueChange:f,children:[i.jsx(ms,{children:i.jsx(ni,{})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"allow",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Allow - Execute without asking"]})}),i.jsx(Wt,{value:"ask",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),"Ask - Require confirmation"]})}),i.jsx(Wt,{value:"deny",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Deny - Block entirely"]})})]})]})]}),i.jsxs(md,{value:c,onValueChange:l,children:[i.jsxs(Nl,{className:"grid w-full grid-cols-3",children:[i.jsxs(Sn,{value:"preset",children:[i.jsx(as,{className:"w-4 h-4 mr-2"}),"Presets"]}),i.jsxs(Sn,{value:"builder",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Builder"]}),i.jsxs(Sn,{value:"freeform",children:[i.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Freeform"]})]}),i.jsxs(ls,{value:"preset",className:"space-y-4",children:[i.jsx(ot,{placeholder:"Search presets...",value:g,onChange:B=>b(B.target.value)}),i.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg max-h-[250px] overflow-auto",children:Object.entries(N).map(([B,V])=>i.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[i.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-slate-800 font-medium text-sm text-gray-600 dark:text-slate-300",children:B}),V.map(U=>{const X=U.icon;return i.jsx("button",{onClick:()=>y(U),className:De("w-full text-left px-3 py-2 hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors",(x==null?void 0:x.pattern)===U.pattern&&"bg-indigo-50 dark:bg-indigo-950/50 border-l-2 border-indigo-500"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(X,{className:"w-4 h-4 mt-0.5 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:U.name}),i.jsx("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate",children:U.pattern}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:U.description})]})]})},U.pattern)})]},B))})]}),i.jsxs(ls,{value:"builder",className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{children:"Permission Type"}),i.jsxs(ri,{value:p,onValueChange:h,children:[i.jsx(ms,{children:i.jsx(ni,{})}),i.jsx(gs,{children:Dp.map(B=>{const V=B.icon;return i.jsx(Wt,{value:B.name,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{className:"w-4 h-4"}),B.name,i.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:["- ",B.description]})]})},B.name)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ut,{children:sF(p)}),i.jsxs(Vn,{children:[i.jsx(Un,{children:i.jsx(Em,{className:"w-4 h-4 text-gray-400"})}),i.jsx(Cn,{className:"max-w-xs",children:iF(p)})]})]}),p==="WebSearch"?i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"WebSearch does not require a value pattern."}):i.jsx(ot,{value:v,onChange:B=>_(B.target.value),placeholder:p==="Bash"?"command:arguments":"path/pattern",className:"font-mono"})]}),F.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{className:"text-xs text-gray-500 dark:text-slate-400",children:"Quick examples:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(B=>i.jsx(he,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>_(B.value),children:B.label},B.value))})]})]}),i.jsx(ls,{value:"freeform",className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{children:"Rule Pattern"}),i.jsx(mt,{value:k,onChange:B=>w(B.target.value),placeholder:"e.g., Bash(npm run build), Read(**/*.ts)",className:"font-mono text-sm",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Enter the full permission pattern. Use * for wildcards and : for Bash argument separation."})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{children:"Generated Rule"}),i.jsx("div",{className:De("p-3 rounded-lg border font-mono text-sm",j?"bg-red-50 dark:bg-red-950/50 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400":"bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-700 dark:text-slate-300"),children:P||i.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"No rule configured"})}),j&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[i.jsx(Ao,{className:"w-4 h-4"}),j]})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),i.jsx(he,{onClick:L,disabled:!P||!!j,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:d?"Update Rule":"Add Rule"})]})]})})}function sF(e){return{Bash:"Command Pattern",Read:"File Path Pattern",Edit:"File Path Pattern",Write:"File Path Pattern",WebFetch:"URL Pattern",WebSearch:"N/A",mcp:"Tool Name"}[e]||"Value"}function iF(e){return{Bash:"Format: command:arguments. Use * for wildcards. Example: npm run:* matches npm run build, npm run test, etc.",Read:"File path pattern. Use ** for recursive matching. Example: **/*.ts matches all TypeScript files.",Edit:"File path pattern. Use ** for recursive matching.",Write:"File path pattern. Use ** for recursive matching.",WebFetch:"URL pattern. Example: https://api.github.com/* matches all GitHub API calls.",WebSearch:"No value needed - this enables/disables web search entirely.",mcp:"MCP tool name in format: mcp__server__tool"}[e]||""}function oF(e){return{Bash:[{label:"npm run *",value:"npm run:*"},{label:"git add *",value:"git add:*"},{label:"git commit *",value:"git commit:*"},{label:"ls *",value:"ls:*"}],Read:[{label:"All files",value:"**"},{label:"TypeScript",value:"**/*.ts"},{label:"Source only",value:"./src/**"}],Edit:[{label:"All files",value:"**"},{label:"Source only",value:"./src/**"}],Write:[{label:"All files",value:"**"}],WebFetch:[{label:"Any URL",value:"*"},{label:"GitHub API",value:"https://api.github.com/*"}],mcp:[{label:"Filesystem read",value:"mcp__filesystem__read_file"},{label:"GitHub PR",value:"mcp__github__create_pull_request"}]}[e]||[]}function aF({open:e,onOpenChange:t,mode:r,permissions:n,onImport:o}){const[d,c]=C.useState(""),[l,u]=C.useState(null),[f,p]=C.useState(!1);C.useEffect(()=>{e&&r==="export"?(c(JSON.stringify({permissions:n},null,2)),u(null)):e&&r==="import"&&(c(""),u(null))},[e,r,n]);const h=()=>{navigator.clipboard.writeText(d),p(!0),setTimeout(()=>p(!1),2e3),ee.success("Copied to clipboard")},v=()=>{try{const _=JSON.parse(d);if(!_.permissions){u('JSON must have a "permissions" key');return}const{allow:k=[],ask:w=[],deny:x=[]}=_.permissions;if(!Array.isArray(k)||!Array.isArray(w)||!Array.isArray(x)){u("allow, ask, and deny must be arrays");return}if([...k,...w,...x].some(g=>typeof g!="string")){u("All permission rules must be strings");return}o(_.permissions),t(!1)}catch(_){u("Invalid JSON: "+_.message)}};return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{className:"flex items-center gap-2",children:r==="export"?i.jsxs(i.Fragment,{children:[i.jsx(gl,{className:"w-5 h-5 text-indigo-600"}),"Export Permissions"]}):i.jsxs(i.Fragment,{children:[i.jsx(gp,{className:"w-5 h-5 text-indigo-600"}),"Import Permissions"]})}),i.jsx(Sr,{children:r==="export"?"Copy this JSON to save or share your permission configuration.":"Paste a JSON permission configuration to import."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx(mt,{value:d,onChange:_=>{c(_.target.value),u(null)},placeholder:r==="import"?"Paste JSON here...":"",className:"font-mono text-sm min-h-[300px]",readOnly:r==="export"}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[i.jsx(Ao,{className:"w-4 h-4"}),l]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),r==="export"?i.jsxs(he,{onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f?i.jsx(Jt,{className:"w-4 h-4 mr-2"}):i.jsx(tl,{className:"w-4 h-4 mr-2"}),f?"Copied!":"Copy to Clipboard"]}):i.jsxs(he,{onClick:v,disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[i.jsx(gp,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})})}function lF({permissions:e,onSave:t,loading:r,readOnly:n=!1}){const[o,d]=C.useState({allow:[],ask:[],deny:[]}),[c,l]=C.useState("allow"),[u,f]=C.useState(!1),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(!1),[x,y]=C.useState(null),[g,b]=C.useState(!1),[j,T]=C.useState("export");C.useEffect(()=>{e&&(d({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),f(!1))},[e]);const P=C.useCallback((q,K)=>{d($=>[...$.allow,...$.ask,...$.deny].includes(K)?(ee.error("This rule already exists"),$):{...$,[q]:[...$[q],K]}),f(!0),ee.success(`Rule added to ${q}`)},[]),E=C.useCallback((q,K,$,D)=>{d(M=>{const O={...M};return O[q]=O[q].filter(W=>W!==K),O[$]=[...O[$],D],O}),f(!0),ee.success("Rule updated")},[]),N=C.useCallback((q,K)=>{d($=>({...$,[q]:$[q].filter(D=>D!==K)})),f(!0),ee.success("Rule deleted")},[]),L=C.useCallback((q,K,$)=>{d(D=>({...D,[q]:D[q].filter(M=>M!==K),[$]:[...D[$],K]})),f(!0),ee.success(`Moved to ${$}`)},[]),F=C.useCallback(q=>{d({allow:q.allow||[],ask:q.ask||[],deny:q.deny||[]}),f(!0),ee.success("Permissions imported")},[]),B=async()=>{if(t){h(!0);try{await t(o),f(!1),ee.success("Permissions saved")}catch(q){ee.error("Failed to save: "+q.message)}finally{h(!1)}}},V=()=>{e&&(d({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),f(!1),ee.info("Changes reset"))},U=q=>{y(null),l(q),w(!0)},X=(q,K)=>{y({category:q,rule:K}),w(!0)},G=o.allow.length+o.ask.length+o.deny.length;return i.jsx(Mu,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:i.jsx(xl,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Permissions"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure what Claude Code can do automatically"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[u&&i.jsx(nt,{variant:"outline",className:"bg-amber-50 dark:bg-amber-950/50 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",children:"Unsaved changes"}),i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"outline",size:"sm",onClick:()=>{T("export"),b(!0)},children:i.jsx(gl,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:"Export permissions"})]}),i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"outline",size:"sm",onClick:()=>{T("import"),b(!0)},disabled:n,children:i.jsx(gp,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:"Import permissions"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(he,{variant:"outline",size:"sm",onClick:V,children:[i.jsx(fr,{className:"w-4 h-4 mr-1"}),"Reset"]}),i.jsxs(he,{size:"sm",onClick:B,disabled:p,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(fr,{className:"w-4 h-4 mr-1 animate-spin"}):i.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),i.jsxs(xj,{open:v,onOpenChange:_,children:[i.jsx(yj,{asChild:!0,children:i.jsxs(he,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-slate-400",children:[i.jsx(Em,{className:"w-4 h-4 mr-2"}),"How permissions work",i.jsx(hn,{className:De("w-4 h-4 ml-2 transition-transform",v&&"rotate-180")})]})}),i.jsx(_j,{children:i.jsxs(Du,{className:"mt-2",children:[i.jsx(u1,{className:"w-4 h-4"}),i.jsxs(Lu,{className:"text-sm",children:[i.jsxs("p",{className:"mb-2",children:["Permissions control what Claude Code can do automatically vs. what requires your approval. These settings are stored in ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded text-xs",children:"~/.claude/settings.json"}),"."]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[i.jsxs("div",{children:[i.jsx(nt,{className:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400 mb-1",children:"Allow"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Operations run without asking"})]}),i.jsxs("div",{children:[i.jsx(nt,{className:"bg-amber-100 dark:bg-amber-950 text-amber-700 dark:text-amber-400 mb-1",children:"Ask"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Prompts for confirmation each time"})]}),i.jsxs("div",{children:[i.jsx(nt,{className:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-400 mb-1",children:"Deny"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Blocked entirely"})]})]}),i.jsxs("p",{className:"mt-3 text-xs text-gray-500 dark:text-slate-400",children:["Use wildcards: ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"*"})," matches anything,"," ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"**"})," matches recursively in paths."]})]})]})})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(fr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!r&&G===0&&i.jsxs(Du,{children:[i.jsx(Gu,{className:"w-4 h-4"}),i.jsxs(Lu,{children:["No permission rules configured. Claude Code will use default behavior and ask for permission on sensitive operations.",i.jsx(he,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>U("allow"),children:"Add your first rule"})]})]}),!r&&i.jsxs(md,{value:c,onValueChange:l,children:[i.jsx(Nl,{className:"grid w-full grid-cols-3",children:["allow","ask","deny"].map(q=>{var D;const K=M_(q),$=((D=o[q])==null?void 0:D.length)||0;return i.jsxs(Sn,{value:q,className:"flex items-center gap-2",children:[i.jsx("div",{className:De("w-2 h-2 rounded-full",q==="allow"&&"bg-green-500",q==="ask"&&"bg-amber-500",q==="deny"&&"bg-red-500")}),K.label,$>0&&i.jsx(nt,{variant:"secondary",className:"ml-1 text-xs",children:$})]},q)})}),["allow","ask","deny"].map(q=>{const K=M_(q),$=o[q]||[];return i.jsxs(ls,{value:q,className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 cursor-help",children:K.description})}),i.jsx(Cn,{className:"max-w-xs",children:tF(q)})]}),i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>U(q),disabled:n,children:[i.jsx(St,{className:"w-4 h-4 mr-1"}),"Add Rule"]})]}),$.length===0?i.jsxs("div",{className:De("text-center py-8 rounded-lg border-2 border-dashed",K.borderColor),children:[i.jsxs("p",{className:"text-gray-500 dark:text-slate-400",children:["No rules in ",q]}),i.jsx(he,{variant:"link",size:"sm",onClick:()=>U(q),disabled:n,children:"Add a rule"})]}):i.jsx("div",{className:"space-y-2",children:i.jsx(Fu,{mode:"popLayout",children:$.map(D=>i.jsx(rF,{rule:D,category:q,onEdit:()=>X(q,D),onDelete:()=>N(q,D),onMove:M=>L(q,D,M),readOnly:n},D))})})]},q)})]}),i.jsx(nF,{open:k,onOpenChange:w,onSubmit:(q,K)=>{x?E(x.category,x.rule,q,K):P(q,K)},defaultCategory:(x==null?void 0:x.category)||c,defaultRule:(x==null?void 0:x.rule)||"",isEditing:!!x}),i.jsx(aF,{open:g,onOpenChange:b,mode:j,permissions:o,onImport:F})]})})}const cF=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Best balance of speed and capability",tier:"sonnet",recommended:!0},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks",tier:"opus"},{id:"claude-haiku-4-5-20251001",name:"Claude Haiku 4.5",description:"Fastest, best for simple tasks",tier:"haiku"}],uF=[{key:"ANTHROPIC_SMALL_FAST_MODEL",label:"Small/Fast Model",description:"Model for background tasks and quick operations",placeholder:"claude-haiku-4-5-20251001"},{key:"CLAUDE_CODE_SUBAGENT_MODEL",label:"Subagent Model",description:"Model used for subagent/background processing",placeholder:"claude-haiku-4-20241022"}];function wj({settings:e,onSave:t,loading:r,settingsPath:n="~/.claude/settings.json"}){const[o,d]=C.useState({}),[c,l]=C.useState("permissions"),[u,f]=C.useState(!1),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(""),[x,y]=C.useState(null);C.useEffect(()=>{e&&(d(e),w(JSON.stringify(e,null,2)),f(!1))},[e]),C.useEffect(()=>{v||w(JSON.stringify(o,null,2))},[o,v]);const g=C.useCallback((E,N)=>{d(L=>{const F={...L,[E]:N};return(N===""||N===null||N===void 0)&&delete F[E],F}),f(!0)},[]),b=C.useCallback(E=>{d(N=>({...N,permissions:E})),f(!0)},[]),j=E=>{w(E);try{const N=JSON.parse(E);d(N),y(null),f(!0)}catch(N){y(N.message)}},T=async()=>{if(t){if(x){ee.error("Fix JSON errors before saving");return}h(!0);try{await t(o),f(!1),ee.success("Settings saved")}catch(E){ee.error("Failed to save: "+E.message)}finally{h(!1)}}},P=()=>{e&&(d(e),w(JSON.stringify(e,null,2)),y(null),f(!1),ee.info("Changes reset"))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:i.jsx(Zs,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Settings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure Claude Code behavior globally"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[u&&i.jsx(nt,{variant:"outline",className:"bg-amber-50 dark:bg-amber-950/50 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",children:"Unsaved changes"}),i.jsx(Mu,{children:i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"outline",size:"sm",onClick:()=>_(!v),children:v?i.jsx(a1,{className:"w-4 h-4"}):i.jsx(o5,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:v?"Show UI":"Show JSON"})]})}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(he,{variant:"outline",size:"sm",onClick:P,children:[i.jsx(fr,{className:"w-4 h-4 mr-1"}),"Reset"]}),i.jsxs(he,{size:"sm",onClick:T,disabled:p||!!x,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(fr,{className:"w-4 h-4 mr-1 animate-spin"}):i.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Settings file: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded text-xs",children:n})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(fr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!r&&v&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ut,{children:"Raw JSON"}),x&&i.jsx(nt,{variant:"destructive",className:"text-xs",children:x})]}),i.jsx(mt,{value:k,onChange:E=>j(E.target.value),className:De("font-mono text-sm min-h-[400px]",x&&"border-red-300 focus:border-red-500")})]}),!r&&!v&&i.jsxs(md,{value:c,onValueChange:l,children:[i.jsxs(Nl,{className:"grid w-full grid-cols-4",children:[i.jsxs(Sn,{value:"permissions",className:"flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4"}),"Permissions"]}),i.jsxs(Sn,{value:"model",className:"flex items-center gap-2",children:[i.jsx(Ku,{className:"w-4 h-4"}),"Model"]}),i.jsxs(Sn,{value:"behavior",className:"flex items-center gap-2",children:[i.jsx(Zs,{className:"w-4 h-4"}),"Behavior"]}),i.jsxs(Sn,{value:"advanced",className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"w-4 h-4"}),"Advanced"]})]}),i.jsx(ls,{value:"permissions",className:"pt-4",children:i.jsx(lF,{permissions:o.permissions,onSave:b,loading:!1})}),i.jsx(ls,{value:"model",className:"space-y-6 pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ut,{className:"text-base font-medium",children:"Default Model"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Select the default model for Claude Code sessions"}),i.jsx("div",{className:"grid gap-3",children:cF.map(E=>i.jsx("button",{onClick:()=>g("model",E.id),className:De("w-full p-4 rounded-lg border text-left transition-all",o.model===E.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/50":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:E.name}),E.recommended&&i.jsx(nt,{variant:"secondary",className:"text-xs",children:"Recommended"}),i.jsx(nt,{variant:"outline",className:De("text-xs",E.tier==="opus"&&"border-purple-300 text-purple-700",E.tier==="sonnet"&&"border-blue-300 text-blue-700",E.tier==="haiku"&&"border-green-300 text-green-700"),children:E.tier})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:E.description})]}),o.model===E.id&&i.jsx(Jt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})]})},E.id))})]}),i.jsxs("div",{children:[i.jsx(Ut,{children:"Custom Model ID"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:"Override with a specific model ID (for AWS Bedrock, etc.)"}),i.jsx(ot,{value:o.model||"",onChange:E=>g("model",E.target.value),placeholder:"claude-sonnet-4-20250514",className:"font-mono"})]})]})}),i.jsx(ls,{value:"behavior",className:"space-y-6 pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ut,{children:"Auto-accept Edits"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Automatically accept file edits without confirmation"})]}),i.jsx(pt,{checked:o.autoAcceptEdits??!1,onCheckedChange:E=>g("autoAcceptEdits",E)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ut,{children:"Verbose Output"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Show detailed output for operations"})]}),i.jsx(pt,{checked:o.verbose??!1,onCheckedChange:E=>g("verbose",E)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ut,{children:"Enable MCP Servers"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Allow Claude Code to use MCP server connections"})]}),i.jsx(pt,{checked:o.enableMcp??!0,onCheckedChange:E=>g("enableMcp",E)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{children:"API Base URL"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Custom API endpoint (for proxies or enterprise deployments)"}),i.jsx(ot,{value:o.apiBaseUrl||"",onChange:E=>g("apiBaseUrl",E.target.value),placeholder:"https://api.anthropic.com",className:"font-mono"})]})]})}),i.jsxs(ls,{value:"advanced",className:"space-y-6 pt-4",children:[i.jsxs(Du,{children:[i.jsx(Gu,{className:"w-4 h-4"}),i.jsx(Lu,{children:"Advanced settings for power users. Incorrect values may cause Claude Code to malfunction."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ut,{className:"text-base font-medium",children:"Environment Variables"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Configure model-related environment variables"}),i.jsx("div",{className:"space-y-3",children:uF.map(E=>{var N;return i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ut,{className:"text-sm",children:E.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:E.description}),i.jsx(ot,{value:((N=o.env)==null?void 0:N[E.key])||"",onChange:L=>{const F={...o.env||{},[E.key]:L.target.value};L.target.value||delete F[E.key],g("env",Object.keys(F).length?F:void 0)},placeholder:E.placeholder,className:"font-mono text-sm"})]},E.key)})})]}),i.jsxs("div",{children:[i.jsx(Ut,{className:"text-base font-medium",children:"Hooks"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Scripts to run before/after tool executions (JSON format)"}),i.jsx(mt,{value:o.hooks?JSON.stringify(o.hooks,null,2):"",onChange:E=>{try{const N=E.target.value?JSON.parse(E.target.value):void 0;g("hooks",N)}catch{}},placeholder:`{
  "preToolExecution": "~/.claude/hooks/pre.sh",
  "postToolExecution": "~/.claude/hooks/post.sh"
}`,className:"font-mono text-sm min-h-[120px]"})]}),i.jsxs("div",{children:[i.jsx(Ut,{className:"text-base font-medium",children:"Custom Settings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Add any additional settings as JSON key-value pairs"}),i.jsx(mt,{value:(()=>{const E=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"],N=Object.keys(o).filter(L=>!E.includes(L)).reduce((L,F)=>({...L,[F]:o[F]}),{});return Object.keys(N).length?JSON.stringify(N,null,2):""})(),onChange:E=>{try{const N=E.target.value?JSON.parse(E.target.value):{},F=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"].reduce((B,V)=>(o[V]!==void 0&&(B[V]=o[V]),B),{});d({...F,...N}),f(!0)}catch{}},placeholder:`{
  "customKey": "customValue"
}`,className:"font-mono text-sm min-h-[100px]"})]})]})]})]})]})}const dF=[{id:"Default",name:"Default"},{id:"GitHub",name:"GitHub"},{id:"Monokai",name:"Monokai"},{id:"SolarizedDark",name:"Solarized Dark"},{id:"SolarizedLight",name:"Solarized Light"}];function Sj({settings:e,onSave:t,loading:r,settingsPath:n}){const[o,d]=C.useState(e||{}),[c,l]=C.useState(!1),[u,f]=C.useState("rich"),[p,h]=C.useState(JSON.stringify(e||{},null,2)),[v,_]=C.useState({open:!1,name:"",json:""}),[k,w]=C.useState({}),x=async()=>{l(!0);try{if(u==="json")try{const E=JSON.parse(p);await t(E),d(E)}catch{ee.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));ee.success("Settings saved")}finally{l(!1)}},y=(E,N,L)=>{d(F=>({...F,[E]:{...F[E],[N]:L}}))},g=(E,N,L=!1)=>{var F;return((F=o==null?void 0:o[E])==null?void 0:F[N])??L},b=o.mcpServers||{},j=()=>{const{name:E,json:N}=v;if(!E.trim()){ee.error("Please enter a name for the MCP");return}let L;try{L=JSON.parse(N)}catch{ee.error("Invalid JSON configuration");return}if(!L.command){ee.error('MCP config must have a "command" field');return}d(F=>({...F,mcpServers:{...F.mcpServers,[E.trim()]:L}})),_({open:!1,name:"",json:""}),ee.success(`Added MCP: ${E}`)},T=E=>{d(N=>{const{[E]:L,...F}=N.mcpServers||{};return{...N,mcpServers:F}}),ee.success(`Removed MCP: ${E}`)},P=E=>{w(N=>({...N,[E]:!N[E]}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:i.jsx(Ft,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Gemini CLI Settings",i.jsxs(nt,{variant:"outline",className:"text-xs font-normal text-blue-600 border-blue-300 dark:border-blue-700",children:[i.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Google"]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",i.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:n})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[i.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${u==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),i.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${u==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),i.jsxs(he,{onClick:x,disabled:c||r,children:[c?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),u==="json"?i.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:i.jsx(mt,{value:p,onChange:E=>h(E.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(Ri,{className:"w-4 h-4 text-blue-500"}),"MCP Servers",i.jsx(nt,{variant:"secondary",className:"text-xs",children:Object.keys(b).length})]}),i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>_({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[i.jsx(St,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),i.jsx("div",{className:"space-y-2",children:Object.keys(b).length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(b).map(([E,N])=>i.jsxs(xj,{open:k[E],onOpenChange:()=>P(E),children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[i.jsxs(yj,{className:"flex items-center gap-2 flex-1 text-left",children:[k[E]?i.jsx(hn,{className:"w-4 h-4 text-muted-foreground"}):i.jsx(Bi,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(Ri,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"font-medium text-sm",children:E}),i.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:N.command})]}),i.jsx(he,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>T(E),children:i.jsx(Wn,{className:"w-4 h-4"})})]}),i.jsx(_j,{children:i.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:i.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(N,null,2)})})})]},E))})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(U5,{className:"w-4 h-4 text-blue-500"}),"Appearance"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Theme"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Color theme for the CLI interface"})]}),i.jsxs(ri,{value:g("theme","name","Default"),onValueChange:E=>y("theme","name",E),children:[i.jsx(ms,{className:"w-40",children:i.jsx(ni,{})}),i.jsx(gs,{children:dF.map(E=>i.jsx(Wt,{value:E.id,children:E.name},E.id))})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Output Format"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Format for CLI output"})]}),i.jsxs(ri,{value:g("core","outputFormat","text"),onValueChange:E=>y("core","outputFormat",E),children:[i.jsx(ms,{className:"w-40",children:i.jsx(ni,{})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"text",children:"Text"}),i.jsx(Wt,{value:"json",children:"JSON"})]})]})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(d1,{className:"w-4 h-4 text-blue-500"}),"Display Options"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Update Window Title"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Show status icons in terminal title"})]}),i.jsx(pt,{checked:g("ui","updateWindowTitle",!0),onCheckedChange:E=>y("ui","updateWindowTitle",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Line Numbers"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Display line numbers in chat"})]}),i.jsx(pt,{checked:g("ui","showLineNumbers",!1),onCheckedChange:E=>y("ui","showLineNumbers",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Citations"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Show citations for generated text"})]}),i.jsx(pt,{checked:g("ui","showCitations",!1),onCheckedChange:E=>y("ui","showCitations",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Context Summary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide GEMINI.md and MCP servers above input"})]}),i.jsx(pt,{checked:g("ui","hideContextSummary",!1),onCheckedChange:E=>y("ui","hideContextSummary",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Working Directory"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide current directory path in footer"})]}),i.jsx(pt,{checked:g("ui","hideWorkingDirectory",!1),onCheckedChange:E=>y("ui","hideWorkingDirectory",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Model Info"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide model name and context usage in footer"})]}),i.jsx(pt,{checked:g("ui","hideModelInfo",!1),onCheckedChange:E=>y("ui","hideModelInfo",E)})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Zs,{className:"w-4 h-4 text-blue-500"}),"Advanced"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Vim Keybindings"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Vim keybindings in the prompt editor"})]}),i.jsx(pt,{checked:g("core","enableVimKeybindings",!1),onCheckedChange:E=>y("core","enableVimKeybindings",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto-Compress History"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Compress conversation when context exceeds threshold"})]}),i.jsx(pt,{checked:g("core","autoCompressHistory",!0),onCheckedChange:E=>y("core","autoCompressHistory",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sandbox Mode"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Run tool executions in isolated container"})]}),i.jsx(pt,{checked:g("sandbox","enabled",!1),onCheckedChange:E=>y("sandbox","enabled",E)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:["YOLO Mode",i.jsx(nt,{variant:"destructive",className:"text-xs",children:"Dangerous"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-approve all tool calls without confirmation"})]}),i.jsx(pt,{checked:g("core","yoloMode",!1),onCheckedChange:E=>y("core","yoloMode",E)})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(xl,{className:"w-4 h-4 text-blue-500"}),"Privacy"]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Statistics"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow collection of anonymous usage data"})]}),i.jsx(pt,{checked:g("privacy","usageStatisticsEnabled",!0),onCheckedChange:E=>y("privacy","usageStatisticsEnabled",E)})]})})]})]}),i.jsx(Dt,{open:v.open,onOpenChange:E=>_({...v,open:E}),children:i.jsxs(Et,{className:"bg-card",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{children:"Add MCP Server"}),i.jsx(Sr,{children:"Add a new MCP server to Gemini CLI"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Name"}),i.jsx(ot,{value:v.name,onChange:E=>_({...v,name:E.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),i.jsx(mt,{value:v.json,onChange:E=>_({...v,json:E.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>_({open:!1,name:"",json:""}),children:"Cancel"}),i.jsxs(he,{onClick:j,children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function hF({content:e,parsed:t,onSave:r,filePath:n}){const o=async l=>{const u=JSON.stringify(l,null,2);r(u)},d=(n==null?void 0:n.includes(".gemini"))||(n==null?void 0:n.includes("/.gemini/")),c=(n==null?void 0:n.includes(".agent"))||(n==null?void 0:n.includes("/antigravity/"));return d&&!c?i.jsx("div",{className:"h-full overflow-auto p-4",children:i.jsx(Sj,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.gemini/settings.json"})}):i.jsx("div",{className:"h-full overflow-auto p-4",children:i.jsx(wj,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.claude/settings.json"})})}function fF({open:e,onClose:t,item:r,intermediatePaths:n,onMove:o}){const[d,c]=C.useState("copy"),[l,u]=C.useState(null),[f,p]=C.useState(""),[h,v]=C.useState(!1),_=()=>{const k=f.trim()||l;if(!k){ee.error("Please select or enter a target path");return}o(r.path,k,d,h)};return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-md",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{children:[d==="copy"?"Copy":"Move"," ",r==null?void 0:r.name]}),i.jsx(Sr,{children:"Select a destination for this file"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{variant:d==="copy"?"default":"outline",size:"sm",onClick:()=>c("copy"),children:[i.jsx(tl,{className:"w-4 h-4 mr-1"})," Copy"]}),i.jsxs(he,{variant:d==="move"?"default":"outline",size:"sm",onClick:()=>c("move"),children:[i.jsx(h1,{className:"w-4 h-4 mr-1"})," Move"]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n==null?void 0:n.map(k=>i.jsxs("div",{className:De("flex items-center justify-between p-2 rounded border cursor-pointer",l===k.dir?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-slate-800"),onClick:()=>{u(k.dir),p("")},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k.isHome?i.jsx(Tm,{className:"w-4 h-4"}):i.jsx(hr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:k.label})]}),k.hasClaudeFolder?i.jsx(nt,{variant:"secondary",className:"text-xs",children:"exists"}):i.jsx(nt,{variant:"outline",className:"text-xs",children:"create"})]},k.dir))}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Or enter custom path:"}),i.jsx(ot,{className:"mt-1 font-mono text-sm",placeholder:"/path/to/directory",value:f,onChange:k=>{p(k.target.value),u(null)}})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pt,{checked:h,onCheckedChange:v}),i.jsx("span",{className:"text-sm",children:"Merge if target exists"})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(he,{onClick:_,children:d==="copy"?"Copy":"Move"})]})]})})}function pF({open:e,onClose:t,item:r,onRename:n}){const[o,d]=C.useState("");C.useEffect(()=>{r!=null&&r.name&&d(r.name.replace(/\.md$/,""))},[r,e]);const c=()=>{if(!o.trim()){ee.error("Please enter a name");return}n(r,o.trim())};return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"sm:max-w-md",children:[i.jsx(Pt,{children:i.jsxs(Tt,{children:["Rename ",r==null?void 0:r.type]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"New name"}),i.jsx(ot,{className:"mt-1",placeholder:"new-name",value:o,onChange:l=>d(l.target.value),onKeyDown:l=>l.key==="Enter"&&c()}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:".md extension will be added automatically"})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(he,{onClick:c,children:"Rename"})]})]})})}function mF({open:e,onClose:t,dir:r,type:n,onCreate:o}){const[d,c]=C.useState("");C.useEffect(()=>{c("")},[e]);const l=()=>{if((n==="command"||n==="rule"||n==="workflow"||n==="memory")&&!d.trim()){ee.error("Please enter a name");return}const p=n==="command"||n==="rule"||n==="workflow"||n==="memory"?d.endsWith(".md")?d:`${d}.md`:d;o(r,p,n)},u=al[n]||{},f=n==="command"||n==="rule"||n==="workflow"||n==="memory";return i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"max-w-sm",children:[i.jsx(Pt,{children:i.jsxs(Tt,{children:["Create ",u.label||n]})}),f&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Name"}),i.jsx(ot,{className:"mt-1",placeholder:n==="command"?"my-command.md":n==="workflow"?"my-workflow.md":n==="memory"?"context.md":"my-rule.md",value:d,onChange:p=>c(p.target.value),onKeyDown:p=>p.key==="Enter"&&l()})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(he,{onClick:l,children:"Create"})]})]})})}function gF({project:e,onRefresh:t}){var Ye,et,it,ir,At,ge;const[r,n]=C.useState([]),[o,d]=C.useState([]),[c,l]=C.useState(null),[u,f]=C.useState([]),[p,h]=C.useState(null),[v,_]=C.useState(null),[k,w]=C.useState(()=>{try{return localStorage.getItem("claude-config-expanded-folder")||null}catch{return null}}),[x,y]=C.useState({}),[g,b]=C.useState(!0),[j,T]=C.useState({open:!1,item:null}),[P,E]=C.useState({open:!1,dir:null,type:null}),[N,L]=C.useState({open:!1,item:null}),[F,B]=C.useState(!1),[V,U]=C.useState({open:!1,projectDir:null}),[X,G]=C.useState({open:!1,dir:null,template:null,confidence:null}),[q,K]=C.useState({open:!1,dir:null,name:null}),[$,D]=C.useState({x:0,y:0,item:null}),[M,O]=C.useState(["claude"]),W=C.useCallback(async()=>{var ce;try{b(!0);const[ve,J,pe,Ie,Ve]=await Promise.all([we.getClaudeFolders(),we.getIntermediatePaths(),we.getRegistry(),we.getConfig(),we.getTemplates().catch(()=>[])]);if(n(ve),d(J),l(pe),f(Ve.templates||Ve||[]),O(((ce=Ie.config)==null?void 0:ce.enabledTools)||["claude"]),ve.length>0){const at=localStorage.getItem("claude-config-expanded-folder");if(!at||!ve.find(or=>or.dir===at)){const or=ve.filter(Pr=>!Pr.isSubproject),Er=or.length>1?or[or.length-1]:or[0],Ct=(Er==null?void 0:Er.dir)||ve[0].dir;w(Ct);try{localStorage.setItem("claude-config-expanded-folder",Ct)}catch{}}}}catch(ve){ee.error("Failed to load data: "+ve.message)}finally{b(!1)}},[]);C.useEffect(()=>{W(),h(null),_(null)},[W,e==null?void 0:e.dir]);const I=ce=>{const ve=k===ce?null:ce;w(ve);try{ve?localStorage.setItem("claude-config-expanded-folder",ve):localStorage.removeItem("claude-config-expanded-folder")}catch{}},re=async ce=>{h(ce);try{const ve=await we.getClaudeFile(ce.path);_(ve)}catch(ve){ee.error("Failed to load file: "+ve.message)}},de=async ce=>{if(p)try{await we.saveClaudeFile(p.path,ce),ee.success("Saved");const ve=await we.getClaudeFile(p.path);_(ve),W()}catch(ve){ee.error("Failed to save: "+ve.message)}},me=ce=>{y(ve=>({...ve,[ce]:!ve[ce]}))},Y=(ce,ve)=>{ce.preventDefault(),D({x:ce.clientX,y:ce.clientY,item:ve})},z=async(ce,ve,J=null)=>{if(ve==="template"&&J){try{await we.applyTemplate(J,ce),ee.success(`Applied template: ${J}`),W()}catch(pe){ee.error("Failed to apply template: "+pe.message)}return}if(ve==="mark-template"&&J){try{await we.markTemplateApplied(J,ce),ee.success(`Marked template: ${J}`),W()}catch(pe){ee.error("Failed to mark template: "+pe.message)}return}ve==="command"||ve==="rule"||ve==="workflow"||ve==="memory"?E({open:!0,dir:ce,type:ve}):oe(ce,ve==="mcps"?"mcps.json":ve==="settings"?"settings.json":ve==="env"?".env":"CLAUDE.md",ve)},oe=async(ce,ve,J)=>{try{const pe=await we.createClaudeFile(ce,ve,J);if(ee.success("Created"),E({open:!1,dir:null,type:null}),await W(),pe.path){const Ie={path:pe.path,name:ve,type:J==="command"?"command":J==="rule"?"rule":J==="workflow"?"workflow":"file"};h(Ie),_(pe.content||"")}}catch(pe){ee.error("Failed to create: "+pe.message)}},ne=async(ce,ve)=>{try{const J=await we.renameClaudeFile(ce.path,ve);J.success?(ee.success("Renamed"),L({open:!1,item:null}),await W(),h({...ce,path:J.newPath,name:ve.endsWith(".md")?ve:`${ve}.md`})):ee.error(J.error||"Failed to rename")}catch(J){ee.error("Failed to rename: "+J.message)}},Q=async ce=>{if(confirm(`Delete ${ce.name}?`))try{await we.deleteClaudeFile(ce.path),ee.success("Deleted"),(p==null?void 0:p.path)===ce.path&&(h(null),_(null)),W()}catch(ve){ee.error("Failed to delete: "+ve.message)}},ie=async(ce,ve,J,pe)=>{try{await we.moveClaudeItem(ce,ve,J,pe),ee.success(J==="copy"?"Copied":"Moved"),T({open:!1,item:null}),W()}catch(Ie){ee.error("Failed: "+Ie.message)}},ye=async ce=>{if(ce)try{const ve=await we.addManualSubproject(V.projectDir,ce);if(ve.success){ee.success(`Added sub-project: ${ce.split("/").pop()}`),U({open:!1,projectDir:null}),W();try{const J=await we.detectTemplate(ce);J.detected&&J.template&&G({open:!0,dir:ce,template:J.template,confidence:J.confidence,reason:J.reason})}catch{}}else ee.error(ve.error||"Failed to add sub-project")}catch(ve){ee.error("Failed to add sub-project: "+ve.message)}},ae=async ce=>{const ve=r.find(J=>!J.isSubproject&&!J.isHome);if(ve)try{const J=await we.removeManualSubproject(ve.dir,ce);J.success?(ee.success("Removed sub-project"),W()):ee.error(J.error||"Failed to remove sub-project")}catch(J){ee.error("Failed to remove sub-project: "+J.message)}},Se=async ce=>{const ve=r.find(J=>!J.isSubproject&&!J.isHome);if(ve)try{const J=await we.hideSubproject(ve.dir,ce);J.success?(ee.success("Sub-project hidden"),W()):ee.error(J.error||"Failed to hide sub-project")}catch(J){ee.error("Failed to hide sub-project: "+J.message)}},Me=async()=>{if(!(!X.dir||!X.template))try{const ce=await we.applyTemplate(X.template.fullName,X.dir);ce.success?(ee.success(`Applied template: ${X.template.name}`),G({open:!1,dir:null,template:null,confidence:null}),W()):ee.error(ce.error||"Failed to apply template")}catch(ce){ee.error("Failed to apply template: "+ce.message)}},ke=()=>{if(!p||!v)return i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(mp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select a file to edit"})]})});switch(p.type){case"mcps":return i.jsx(xB,{content:v.content,parsed:v.parsed,onSave:de,registry:c});case"settings":return i.jsx(hF,{content:v.content,parsed:v.parsed,onSave:de,filePath:p==null?void 0:p.path});case"command":case"rule":case"workflow":case"claudemd":case"env":return i.jsx(R_,{content:v.content,onSave:de,fileType:p.type});default:return i.jsx(R_,{content:v.content,onSave:de,fileType:"claudemd"})}};if(g)return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(fr,{className:"w-6 h-6 animate-spin text-gray-400"})});const Ne=r.some(ce=>ce.isSubproject),Te=(ce,ve)=>ve===0,Ue=(ce,ve)=>{const J=r.findIndex(pe=>pe.isSubproject);return!ce.isSubproject&&(J>=0?ve===J-1:ve===r.length-1)};return i.jsxs("div",{className:"h-full flex",children:[i.jsxs("div",{className:"w-76 border-r flex flex-col bg-white dark:bg-slate-950",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[i.jsx("h2",{className:"font-semibold text-sm",children:"Project Config"}),i.jsxs("div",{className:"flex gap-1",children:[M.includes("claude")&&M.includes("antigravity")&&i.jsxs(he,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>B(!0),title:"Sync rules between tools",children:[i.jsx(I4,{className:"w-4 h-4 mr-1"}),"Sync"]}),i.jsx(he,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:W,children:i.jsx(fr,{className:"w-4 h-4"})})]})]}),i.jsx(hs,{className:"flex-1",children:r.map((ce,ve)=>i.jsx(pB,{folder:ce,isExpanded:k===ce.dir,isHome:Te(ce,ve),isProject:Ue(ce,ve),isSubproject:ce.isSubproject,depth:ce.depth||0,onToggle:()=>I(ce.dir),onCreateFile:z,onInstallPlugin:(J,pe)=>K({open:!0,dir:J,name:pe}),onSelectItem:re,selectedPath:p==null?void 0:p.path,onContextMenu:Y,expandedFolders:x,onToggleFolder:me,templates:u,hasSubprojects:Ne,onAddSubproject:J=>U({open:!0,projectDir:J}),onRemoveSubproject:ae,onHideSubproject:Se},ce.dir))})]}),i.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-slate-900",children:[p&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-white dark:bg-slate-950",children:[i.jsx("div",{className:"flex items-center gap-2 text-sm",children:i.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-mono truncate max-w-md",children:p.path})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(he,{variant:"ghost",size:"sm",onClick:()=>T({open:!0,item:p}),children:i.jsx(tl,{className:"w-4 h-4"})}),i.jsx(he,{variant:"ghost",size:"sm",onClick:()=>Q(p),children:i.jsx(Wn,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1",children:ke()})]}),$.item&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>D({x:0,y:0,item:null})}),i.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-950 rounded-md shadow-lg border py-1 min-w-[160px]",style:{left:$.x,top:$.y},children:[(((Ye=$.item)==null?void 0:Ye.type)==="rule"||((et=$.item)==null?void 0:et.type)==="command"||((it=$.item)==null?void 0:it.type)==="workflow")&&i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{L({open:!0,item:$.item}),D({x:0,y:0,item:null})},children:[i.jsx(Am,{className:"w-4 h-4 mr-2"})," Rename"]}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{T({open:!0,item:$.item}),D({x:0,y:0,item:null})},children:[i.jsx(tl,{className:"w-4 h-4 mr-2"})," Copy to..."]}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{T({open:!0,item:$.item}),D({x:0,y:0,item:null})},children:[i.jsx(h1,{className:"w-4 h-4 mr-2"})," Move to..."]}),i.jsx("div",{className:"border-t my-1"}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center text-red-600",onClick:()=>{Q($.item),D({x:0,y:0,item:null})},children:[i.jsx(Wn,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),i.jsx(fF,{open:j.open,onClose:()=>T({open:!1,item:null}),item:j.item,intermediatePaths:o,onMove:ie}),i.jsx(mF,{open:P.open,onClose:()=>E({open:!1,dir:null,type:null}),dir:P.dir,type:P.type,onCreate:oe}),i.jsx(pF,{open:N.open,onClose:()=>L({open:!1,item:null}),item:N.item,onRename:ne}),i.jsx(RO,{open:F,onOpenChange:B,projectDir:e==null?void 0:e.dir,onSynced:W}),i.jsx(fB,{open:q.open,onOpenChange:ce=>K({...q,open:ce}),projectDir:q.dir,projectName:q.name}),i.jsx(hg,{open:V.open,onOpenChange:ce=>U({...V,open:ce}),onSelect:ye,type:"directory",title:"Add Sub-project",initialPath:V.projectDir||"~"}),i.jsx(Dt,{open:X.open,onOpenChange:ce=>G({...X,open:ce}),children:i.jsxs(Et,{className:"max-w-md",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(zo,{className:"w-5 h-5"}),"Template Detected"]}),i.jsx(Sr,{children:X.reason})]}),i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(ir=X.template)==null?void 0:ir.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(At=X.template)==null?void 0:At.description})]}),i.jsxs(nt,{variant:X.confidence==="high"?"default":"secondary",children:[X.confidence," confidence"]})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Apply this template to ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:(ge=X.dir)==null?void 0:ge.split("/").pop()}),"?"]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>G({open:!1,dir:null,template:null,confidence:null}),children:"Skip"}),i.jsx(he,{onClick:Me,children:"Apply Template"})]})]})})]})}function vF({projects:e=[],activeProject:t=null,onSwitch:r,onAddClick:n,onManageClick:o,disabled:d=!1}){const c=(t==null?void 0:t.name)||"No Project";return i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"outline",className:"gap-2 max-w-[220px] h-9",disabled:d,children:[i.jsx(Js,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),i.jsx("span",{className:"truncate font-medium",children:c}),i.jsx(hn,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),i.jsxs(Kn,{align:"start",className:"w-72",children:[i.jsx(Io,{className:"text-xs text-gray-500 font-normal",children:"Projects"}),i.jsx(rr,{}),e.length===0?i.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 text-center",children:[i.jsx(hr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),i.jsx("p",{children:"No projects registered"}),i.jsx("p",{className:"text-xs mt-1",children:"Add a project to get started"})]}):i.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(l=>i.jsxs(ht,{onClick:()=>!l.isActive&&r(l.id),className:`flex items-start gap-2 py-2 cursor-pointer ${l.isActive?"bg-indigo-50":""}`,disabled:l.isActive,children:[i.jsx("div",{className:"mt-0.5 flex-shrink-0",children:l.isActive?i.jsx(Jt,{className:"w-4 h-4 text-indigo-600"}):l.exists?i.jsx(hr,{className:"w-4 h-4 text-gray-400"}):i.jsx(Gu,{className:"w-4 h-4 text-amber-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`truncate font-medium ${l.isActive?"text-indigo-700":""}`,children:l.name}),i.jsx("div",{className:"truncate text-xs text-gray-400 font-mono",children:l.path.replace(/^\/Users\/[^/]+/,"~")}),!l.exists&&i.jsx("div",{className:"text-xs text-amber-600 mt-0.5",children:"Path not found"})]}),l.hasClaudeConfig&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400",title:"Has .claude config"})})]},l.id))}),i.jsx(rr,{}),i.jsxs(ht,{onClick:n,className:"gap-2 cursor-pointer",children:[i.jsx(St,{className:"w-4 h-4"}),"Add Project"]}),e.length>0&&i.jsxs(ht,{onClick:o,className:"gap-2 cursor-pointer",children:[i.jsx(p1,{className:"w-4 h-4"}),"Manage Projects"]})]})]})}function xF({onManageClick:e}){const[t,r]=C.useState([]),[n,o]=C.useState(null),[d,c]=C.useState(!0),[l,u]=C.useState(!1);C.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await we.getWorkstreams();r(v.workstreams||[]),o(v.activeId)}catch(v){console.error("Failed to load workstreams:",v)}finally{c(!1)}},p=async v=>{if(v!==n){u(!0);try{const _=await we.setActiveWorkstream(v);_.success?(o(v),ee.success(`Switched to: ${_.workstream.name}`)):ee.error(_.error||"Failed to switch workstream")}catch{ee.error("Failed to switch workstream")}finally{u(!1)}}},h=t.find(v=>v.id===n);return!d&&t.length===0?null:i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"outline",className:"gap-2 max-w-[180px] h-9 border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700",disabled:d||l,children:[d||l?i.jsx(dt,{className:"w-4 h-4 animate-spin text-purple-500"}):i.jsx(iu,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),i.jsx("span",{className:"truncate font-medium text-purple-700 dark:text-purple-400",children:(h==null?void 0:h.name)||"No Workstream"}),i.jsx(hn,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),i.jsxs(Kn,{align:"start",className:"w-64",children:[i.jsx(Io,{className:"text-xs text-gray-500 dark:text-slate-400 font-normal",children:"Workstreams"}),i.jsx(rr,{}),t.length===0?i.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 dark:text-slate-400 text-center",children:[i.jsx(iu,{className:"w-8 h-8 mx-auto mb-2 text-gray-300 dark:text-slate-600"}),i.jsx("p",{children:"No workstreams yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Create one to get started"})]}):i.jsx("div",{className:"max-h-64 overflow-y-auto",children:t.map(v=>{var _;return i.jsxs(ht,{onClick:()=>p(v.id),className:`flex items-start gap-2 py-2 cursor-pointer ${v.id===n?"bg-purple-50 dark:bg-purple-950/30":""}`,children:[i.jsx("div",{className:"mt-0.5 flex-shrink-0",children:v.id===n?i.jsx(Jt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}):i.jsx(iu,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`truncate font-medium ${v.id===n?"text-purple-700 dark:text-purple-400":"text-gray-900 dark:text-white"}`,children:v.name}),((_=v.projects)==null?void 0:_.length)>0&&i.jsxs("div",{className:"truncate text-xs text-gray-400 dark:text-slate-500",children:[v.projects.length," project",v.projects.length!==1?"s":""]})]}),v.rules&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400",title:"Has rules defined"})})]},v.id)})}),i.jsx(rr,{}),i.jsxs(ht,{onClick:e,className:"gap-2 cursor-pointer",children:[i.jsx(p1,{className:"w-4 h-4"}),"Manage Workstreams"]})]})]})}function yF({enabled:e=!0,pollInterval:t=3e4,onWorkstreamChange:r}){var v;const[n,o]=C.useState(null),[d,c]=C.useState(!1),[l,u]=C.useState([]),f=C.useCallback(async()=>{var _;if(e)try{const k=await we.getSmartSyncStatus();if(!k.enabled||!((_=k.recentProjects)!=null&&_.length))return;u(k.recentProjects);const w=await we.smartSyncCheckNudge(k.recentProjects);if(w&&w.type){if(w.autoSwitch&&w.type==="switch"){await we.setActiveWorkstream(w.workstream.id),r==null||r(w.workstream),ee.success(`Auto-switched to "${w.workstream.name}"`,{description:`${w.confidence}% activity match`,duration:3e3});return}o(w)}}catch(k){console.debug("Smart sync check failed:",k.message)}},[e,r]);C.useEffect(()=>{if(!e)return;const _=setTimeout(f,5e3),k=setInterval(f,t);return()=>{clearTimeout(_),clearInterval(k)}},[e,t,f]);const p=async _=>{var k;if(n){c(!0);try{const w={workstreamId:(k=n.workstream)==null?void 0:k.id,projectPath:n.projectPath,projects:l};switch(await we.smartSyncHandleAction(n.key,_,w),_){case"switch":ee.success(`Switched to "${n.workstream.name}"`),r==null||r(n.workstream);break;case"add":ee.success(`Added project to "${n.workstream.name}"`);break;case"always":ee.success(`Will always use "${n.workstream.name}" for these projects`),r==null||r(n.workstream);break;case"never":ee.info("Got it, won't suggest this again");break;case"dismiss":break}o(null)}catch{ee.error("Failed to process action")}finally{c(!1)}}},h=()=>{p("dismiss")};return n?i.jsx(Fu,{children:i.jsx(Hn.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 z-50 max-w-sm",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-purple-200 dark:border-purple-800 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 px-4 py-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Smart Sync"}),n.confidence&&i.jsxs("span",{className:"text-xs bg-white/20 px-1.5 py-0.5 rounded",children:[n.confidence,"% match"]})]}),i.jsx("button",{onClick:h,className:"text-white/80 hover:text-white transition-colors",children:i.jsx(Ti,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${n.type==="switch"?"bg-purple-100 dark:bg-purple-900/50":"bg-blue-100 dark:bg-blue-900/50"}`,children:n.type==="switch"?i.jsx(Nm,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):i.jsx(Ei,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:n.message}),n.workstream&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[((v=n.workstream.projects)==null?void 0:v.length)||0," projects in workstream"]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:n.type==="switch"?i.jsxs(i.Fragment,{children:[i.jsxs(he,{size:"sm",onClick:()=>p("switch"),disabled:d,className:"bg-purple-600 hover:bg-purple-700 flex-1",children:[i.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Yes"]}),i.jsx(he,{size:"sm",variant:"outline",onClick:()=>p("dismiss"),disabled:d,className:"flex-1",children:"No"}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>p("always"),disabled:d,title:"Always switch to this workstream for these projects",className:"text-purple-600 dark:text-purple-400",children:i.jsx(Ku,{className:"w-4 h-4"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs(he,{size:"sm",onClick:()=>p("add"),disabled:d,className:"bg-blue-600 hover:bg-blue-700 flex-1",children:[i.jsx(Jt,{className:"w-4 h-4 mr-1"}),"Add"]}),i.jsx(he,{size:"sm",variant:"outline",onClick:()=>p("dismiss"),disabled:d,className:"flex-1",children:"No"}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>p("never"),disabled:d,title:"Never suggest adding this project",className:"text-gray-500",children:i.jsx(nu,{className:"w-4 h-4"})})]})})]})]})})}):null}function Cj({open:e,onOpenChange:t,onAdded:r}){const[n,o]=C.useState(""),[d,c]=C.useState(""),[l,u]=C.useState(!1),[f,p]=C.useState(!1);C.useEffect(()=>{e&&(o(""),c(""))},[e]),C.useEffect(()=>{if(n&&!d){const _=n.split("/").pop();c(_||"")}},[n]);const h=_=>{o(_),u(!1)},v=async()=>{if(!n){ee.error("Please select a project path");return}p(!0);try{const _=await we.addProject(n,d||void 0);_.error?ee.error(_.error):(ee.success(`Added project: ${_.project.name}`),r==null||r(_.project),t(!1))}catch(_){ee.error("Failed to add project: "+_.message)}finally{p(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Dt,{open:e,onOpenChange:t,children:i.jsxs(Et,{className:"sm:max-w-md",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Js,{className:"w-5 h-5 text-indigo-500"}),"Add Project"]}),i.jsx(Sr,{children:"Register a project folder to quickly switch between projects in the UI."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{htmlFor:"path",children:"Project Path"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{id:"path",value:n,onChange:_=>o(_.target.value),placeholder:"/path/to/project",className:"font-mono text-sm flex-1"}),i.jsx(he,{variant:"outline",size:"icon",onClick:()=>u(!0),title:"Browse",children:i.jsx(Js,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ut,{htmlFor:"name",children:"Display Name"}),i.jsx(ot,{id:"name",value:d,onChange:_=>c(_.target.value),placeholder:"Auto-filled from folder name"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Optional. Leave empty to use folder name."})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(he,{onClick:v,disabled:f||!n,children:f?i.jsxs(i.Fragment,{children:[i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Project"})]})]})}),i.jsx(hg,{open:l,onOpenChange:u,onSelect:h,type:"directory",initialPath:"~",title:"Select Project Folder"})]})}const kj=C.createContext({theme:"auto",setTheme:()=>{},resolvedTheme:"light"});function _F({children:e}){const[t,r]=C.useState(()=>{try{return localStorage.getItem("claude-config-theme")||"auto"}catch{return"auto"}}),[n,o]=C.useState("light");C.useEffect(()=>{const c=window.document.documentElement,l=p=>{let h;p==="auto"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=p,o(h),h==="dark"?c.classList.add("dark"):c.classList.remove("dark")};l(t);const u=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{t==="auto"&&l("auto")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[t]);const d=c=>{r(c);try{localStorage.setItem("claude-config-theme",c)}catch{}};return i.jsx(kj.Provider,{value:{theme:t,setTheme:d,resolvedTheme:n},children:e})}function bF(){return C.useContext(kj)}function wF(){const{theme:e,setTheme:t,resolvedTheme:r}=bF(),n=r==="dark"?Ky:Xy;return i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[i.jsx(n,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),i.jsxs(Kn,{align:"end",children:[i.jsxs(ht,{onClick:()=>t("light"),className:e==="light"?"bg-accent":"",children:[i.jsx(Xy,{className:"mr-2 h-4 w-4"}),"Light"]}),i.jsxs(ht,{onClick:()=>t("dark"),className:e==="dark"?"bg-accent":"",children:[i.jsx(Ky,{className:"mr-2 h-4 w-4"}),"Dark"]}),i.jsxs(ht,{onClick:()=>t("auto"),className:e==="auto"?"bg-accent":"",children:[i.jsx(d1,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var SF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CF=SF.reduce((e,t)=>{const r=Rm(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),kF="Separator",D_="horizontal",jF=["horizontal","vertical"],jj=C.forwardRef((e,t)=>{const{decorative:r,orientation:n=D_,...o}=e,d=NF(n)?n:D_,l=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return i.jsx(CF.div,{"data-orientation":d,...l,...o,ref:t})});jj.displayName=kF;function NF(e){return jF.includes(e)}var Nj=jj;const Ej=C.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>i.jsx(Nj,{ref:o,decorative:r,orientation:t,className:De("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ej.displayName=Nj.displayName;function EF(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const PF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AF={};function L_(e,t){return(AF.jsx?TF:PF).test(e)}const RF=/[ \t\n\f\r]/g;function MF(e){return typeof e=="object"?e.type==="text"?I_(e.value):!1:I_(e)}function I_(e){return e.replace(RF,"")===""}class Pl{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Pl.prototype.normal={};Pl.prototype.property={};Pl.prototype.space=void 0;function Pj(e,t){const r={},n={};for(const o of e)Object.assign(r,o.property),Object.assign(n,o.normal);return new Pl(r,n,t)}function Lp(e){return e.toLowerCase()}class Hr{constructor(t,r){this.attribute=r,this.property=t}}Hr.prototype.attribute="";Hr.prototype.booleanish=!1;Hr.prototype.boolean=!1;Hr.prototype.commaOrSpaceSeparated=!1;Hr.prototype.commaSeparated=!1;Hr.prototype.defined=!1;Hr.prototype.mustUseProperty=!1;Hr.prototype.number=!1;Hr.prototype.overloadedBoolean=!1;Hr.prototype.property="";Hr.prototype.spaceSeparated=!1;Hr.prototype.space=void 0;let DF=0;const tt=Hi(),Vt=Hi(),Ip=Hi(),je=Hi(),vt=Hi(),Co=Hi(),Kr=Hi();function Hi(){return 2**++DF}const Op=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:Vt,commaOrSpaceSeparated:Kr,commaSeparated:Co,number:je,overloadedBoolean:Ip,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),If=Object.keys(Op);class Ng extends Hr{constructor(t,r,n,o){let d=-1;if(super(t,r),O_(this,"space",o),typeof n=="number")for(;++d<If.length;){const c=If[d];O_(this,If[d],(n&Op[c])===Op[c])}}}Ng.prototype.defined=!0;function O_(e,t,r){r&&(e[t]=r)}function Ko(e){const t={},r={};for(const[n,o]of Object.entries(e.properties)){const d=new Ng(n,e.transform(e.attributes||{},n),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(d.mustUseProperty=!0),t[n]=d,r[Lp(n)]=n,r[Lp(d.attribute)]=n}return new Pl(t,r,e.space)}const Tj=Ko({properties:{ariaActiveDescendant:null,ariaAtomic:Vt,ariaAutoComplete:null,ariaBusy:Vt,ariaChecked:Vt,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Vt,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Vt,ariaFlowTo:vt,ariaGrabbed:Vt,ariaHasPopup:null,ariaHidden:Vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:je,ariaLive:null,ariaModal:Vt,ariaMultiLine:Vt,ariaMultiSelectable:Vt,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:Vt,ariaReadOnly:Vt,ariaRelevant:null,ariaRequired:Vt,ariaRoleDescription:vt,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:Vt,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Aj(e,t){return t in e?e[t]:t}function Rj(e,t){return Aj(e,t.toLowerCase())}const LF=Ko({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Co,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:vt,autoFocus:tt,autoPlay:tt,blocking:vt,capture:null,charSet:null,checked:tt,cite:null,className:vt,cols:je,colSpan:null,content:null,contentEditable:Vt,controls:tt,controlsList:vt,coords:je|Co,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:Ip,draggable:Vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:vt,height:je,hidden:Ip,high:je,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:vt,itemRef:vt,itemScope:tt,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:je,pattern:null,ping:vt,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:vt,required:tt,reversed:tt,rows:je,rowSpan:je,sandbox:vt,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:Vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:Vt,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:Vt,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:Rj}),IF=Ko({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kr,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Co,g2:Co,glyphName:Co,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:Kr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kr,rev:Kr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kr,requiredFeatures:Kr,requiredFonts:Kr,requiredFormats:Kr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:Kr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kr,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Aj}),Mj=Ko({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Dj=Ko({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rj}),Lj=Ko({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),OF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},BF=/[A-Z]/g,B_=/-[a-z]/g,FF=/^data[-\w.:]+$/i;function zF(e,t){const r=Lp(t);let n=t,o=Hr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&FF.test(t)){if(t.charAt(4)==="-"){const d=t.slice(5).replace(B_,$F);n="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=t.slice(4);if(!B_.test(d)){let c=d.replace(BF,HF);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}o=Ng}return new o(n,t)}function HF(e){return"-"+e.toLowerCase()}function $F(e){return e.charAt(1).toUpperCase()}const VF=Pj([Tj,LF,Mj,Dj,Lj],"html"),Eg=Pj([Tj,IF,Mj,Dj,Lj],"svg");function UF(e){return e.join(" ").trim()}var mo={},Of,F_;function WF(){if(F_)return Of;F_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,f="/",p="*",h="",v="comment",_="declaration";function k(x,y){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];y=y||{};var g=1,b=1;function j(X){var G=X.match(t);G&&(g+=G.length);var q=X.lastIndexOf(u);b=~q?X.length-q:b+X.length}function T(){var X={line:g,column:b};return function(G){return G.position=new P(X),L(),G}}function P(X){this.start=X,this.end={line:g,column:b},this.source=y.source}P.prototype.content=x;function E(X){var G=new Error(y.source+":"+g+":"+b+": "+X);if(G.reason=X,G.filename=y.source,G.line=g,G.column=b,G.source=x,!y.silent)throw G}function N(X){var G=X.exec(x);if(G){var q=G[0];return j(q),x=x.slice(q.length),G}}function L(){N(r)}function F(X){var G;for(X=X||[];G=B();)G!==!1&&X.push(G);return X}function B(){var X=T();if(!(f!=x.charAt(0)||p!=x.charAt(1))){for(var G=2;h!=x.charAt(G)&&(p!=x.charAt(G)||f!=x.charAt(G+1));)++G;if(G+=2,h===x.charAt(G-1))return E("End of comment missing");var q=x.slice(2,G-2);return b+=2,j(q),x=x.slice(G),b+=2,X({type:v,comment:q})}}function V(){var X=T(),G=N(n);if(G){if(B(),!N(o))return E("property missing ':'");var q=N(d),K=X({type:_,property:w(G[0].replace(e,h)),value:q?w(q[0].replace(e,h)):h});return N(c),K}}function U(){var X=[];F(X);for(var G;G=V();)G!==!1&&(X.push(G),F(X));return X}return L(),U()}function w(x){return x?x.replace(l,h):h}return Of=k,Of}var z_;function GF(){if(z_)return mo;z_=1;var e=mo&&mo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mo,"__esModule",{value:!0}),mo.default=r;const t=e(WF());function r(n,o){let d=null;if(!n||typeof n!="string")return d;const c=(0,t.default)(n),l=typeof o=="function";return c.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:p}=u;l?o(f,p,u):p&&(d=d||{},d[f]=p)}),d}return mo}var Da={},H_;function KF(){if(H_)return Da;H_=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,d=function(f){return!f||r.test(f)||e.test(f)},c=function(f,p){return p.toUpperCase()},l=function(f,p){return"".concat(p,"-")},u=function(f,p){return p===void 0&&(p={}),d(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(o,l):f=f.replace(n,l),f.replace(t,c))};return Da.camelCase=u,Da}var La,$_;function qF(){if($_)return La;$_=1;var e=La&&La.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(GF()),r=KF();function n(o,d){var c={};return!o||typeof o!="string"||(0,t.default)(o,function(l,u){l&&u&&(c[(0,r.camelCase)(l,d)]=u)}),c}return n.default=n,La=n,La}var YF=qF();const XF=ul(YF),Ij=Oj("end"),Pg=Oj("start");function Oj(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function JF(e){const t=Pg(e),r=Ij(e);if(t&&r)return{start:t,end:r}}function Ka(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?V_(e.position):"start"in e||"end"in e?V_(e):"line"in e||"column"in e?Bp(e):""}function Bp(e){return U_(e&&e.line)+":"+U_(e&&e.column)}function V_(e){return Bp(e&&e.start)+"-"+Bp(e&&e.end)}function U_(e){return e&&typeof e=="number"?e:1}class kr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let o="",d={},c=!1;if(r&&("line"in r&&"column"in r?d={place:r}:"start"in r&&"end"in r?d={place:r}:"type"in r?d={ancestors:[r],place:r.position}:d={...r}),typeof t=="string"?o=t:!d.cause&&t&&(c=!0,o=t.message,d.cause=t),!d.ruleId&&!d.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?d.ruleId=n:(d.source=n.slice(0,u),d.ruleId=n.slice(u+1))}if(!d.place&&d.ancestors&&d.ancestors){const u=d.ancestors[d.ancestors.length-1];u&&(d.place=u.position)}const l=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=Ka(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=c&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kr.prototype.file="";kr.prototype.name="";kr.prototype.reason="";kr.prototype.message="";kr.prototype.stack="";kr.prototype.column=void 0;kr.prototype.line=void 0;kr.prototype.ancestors=void 0;kr.prototype.cause=void 0;kr.prototype.fatal=void 0;kr.prototype.place=void 0;kr.prototype.ruleId=void 0;kr.prototype.source=void 0;const Tg={}.hasOwnProperty,QF=new Map,ZF=/[A-Z]/g,e8=new Set(["table","tbody","thead","tfoot","tr"]),t8=new Set(["td","th"]),Bj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function r8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=u8(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=c8(r,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Eg:VF,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},d=Fj(o,e,void 0);return d&&typeof d!="string"?d:o.create(e,o.Fragment,{children:d||void 0},void 0)}function Fj(e,t,r){if(t.type==="element")return n8(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return s8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return o8(e,t,r);if(t.type==="mdxjsEsm")return i8(e,t);if(t.type==="root")return a8(e,t,r);if(t.type==="text")return l8(e,t)}function n8(e,t,r){const n=e.schema;let o=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(o=Eg,e.schema=o),e.ancestors.push(t);const d=Hj(e,t.tagName,!1),c=d8(e,t);let l=Rg(e,t);return e8.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!MF(u):!0})),zj(e,c,d,t),Ag(c,l),e.ancestors.pop(),e.schema=n,e.create(t,d,c,r)}function s8(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}cl(e,t.position)}function i8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);cl(e,t.position)}function o8(e,t,r){const n=e.schema;let o=n;t.name==="svg"&&n.space==="html"&&(o=Eg,e.schema=o),e.ancestors.push(t);const d=t.name===null?e.Fragment:Hj(e,t.name,!0),c=h8(e,t),l=Rg(e,t);return zj(e,c,d,t),Ag(c,l),e.ancestors.pop(),e.schema=n,e.create(t,d,c,r)}function a8(e,t,r){const n={};return Ag(n,Rg(e,t)),e.create(t,e.Fragment,n,r)}function l8(e,t){return t.value}function zj(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Ag(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function c8(e,t,r){return n;function n(o,d,c,l){const f=Array.isArray(c.children)?r:t;return l?f(d,c,l):f(d,c)}}function u8(e,t){return r;function r(n,o,d,c){const l=Array.isArray(d.children),u=Pg(n);return t(o,d,c,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function d8(e,t){const r={};let n,o;for(o in t.properties)if(o!=="children"&&Tg.call(t.properties,o)){const d=f8(e,o,t.properties[o]);if(d){const[c,l]=d;e.tableCellAlignToStyle&&c==="align"&&typeof l=="string"&&t8.has(t.tagName)?n=l:r[c]=l}}if(n){const d=r.style||(r.style={});d[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function h8(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const d=n.data.estree.body[0];d.type;const c=d.expression;c.type;const l=c.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else cl(e,t.position);else{const o=n.name;let d;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,d=e.evaluater.evaluateExpression(l.expression)}else cl(e,t.position);else d=n.value===null?!0:n.value;r[o]=d}return r}function Rg(e,t){const r=[];let n=-1;const o=e.passKeys?new Map:QF;for(;++n<t.children.length;){const d=t.children[n];let c;if(e.passKeys){const u=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(u){const f=o.get(u)||0;c=u+"-"+f,o.set(u,f+1)}}const l=Fj(e,d,c);l!==void 0&&r.push(l)}return r}function f8(e,t,r){const n=zF(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?EF(r):UF(r)),n.property==="style"){let o=typeof r=="object"?r:p8(e,String(r));return e.stylePropertyNameCase==="css"&&(o=m8(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&n.space?OF[n.property]||n.property:n.attribute,r]}}function p8(e,t){try{return XF(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,o=new kr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Bj+"#cannot-parse-style-attribute",o}}function Hj(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let d=-1,c;for(;++d<o.length;){const l=L_(o[d])?{type:"Identifier",name:o[d]}:{type:"Literal",value:o[d]};c=c?{type:"MemberExpression",object:c,property:l,computed:!!(d&&l.type==="Literal"),optional:!1}:l}n=c}else n=L_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const o=n.value;return Tg.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(n);cl(e)}function cl(e,t){const r=new kr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Bj+"#cannot-handle-mdx-estrees-without-createevaluater",r}function m8(e){const t={};let r;for(r in e)Tg.call(e,r)&&(t[g8(r)]=e[r]);return t}function g8(e){let t=e.replace(ZF,v8);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function v8(e){return"-"+e.toLowerCase()}const Bf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},x8={};function y8(e,t){const r=x8,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return $j(e,n,o)}function $j(e,t,r){if(_8(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return W_(e.children,t,r)}return Array.isArray(e)?W_(e,t,r):""}function W_(e,t,r){const n=[];let o=-1;for(;++o<e.length;)n[o]=$j(e[o],t,r);return n.join("")}function _8(e){return!!(e&&typeof e=="object")}const G_=document.createElement("i");function Mg(e){const t="&"+e+";";G_.innerHTML=t;const r=G_.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function qn(e,t,r,n){const o=e.length;let d=0,c;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,r=r>0?r:0,n.length<1e4)c=Array.from(n),c.unshift(t,r),e.splice(...c);else for(r&&e.splice(t,r);d<n.length;)c=n.slice(d,d+1e4),c.unshift(t,0),e.splice(...c),d+=1e4,t+=1e4}function un(e,t){return e.length>0?(qn(e,e.length,0,t),e):t}const K_={}.hasOwnProperty;function b8(e){const t={};let r=-1;for(;++r<e.length;)w8(t,e[r]);return t}function w8(e,t){let r;for(r in t){const o=(K_.call(e,r)?e[r]:void 0)||(e[r]={}),d=t[r];let c;if(d)for(c in d){K_.call(o,c)||(o[c]=[]);const l=d[c];S8(o[c],Array.isArray(l)?l:l?[l]:[])}}}function S8(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);qn(e,0,0,n)}function Vj(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ko(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const On=li(/[A-Za-z]/),Yr=li(/[\dA-Za-z]/),C8=li(/[#-'*+\--9=?A-Z^-~]/);function Fp(e){return e!==null&&(e<32||e===127)}const zp=li(/\d/),k8=li(/[\dA-Fa-f]/),j8=li(/[!-/:-@[-`{-~]/);function Je(e){return e!==null&&e<-2}function Fr(e){return e!==null&&(e<0||e===32)}function ut(e){return e===-2||e===-1||e===32}const N8=li(new RegExp("\\p{P}|\\p{S}","u")),E8=li(/\s/);function li(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function qo(e){const t=[];let r=-1,n=0,o=0;for(;++r<e.length;){const d=e.charCodeAt(r);let c="";if(d===37&&Yr(e.charCodeAt(r+1))&&Yr(e.charCodeAt(r+2)))o=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(c=String.fromCharCode(d));else if(d>55295&&d<57344){const l=e.charCodeAt(r+1);d<56320&&l>56319&&l<57344?(c=String.fromCharCode(d,l),o=1):c=""}else c=String.fromCharCode(d);c&&(t.push(e.slice(n,r),encodeURIComponent(c)),n=r+o+1,c=""),o&&(r+=o,o=0)}return t.join("")+e.slice(n)}function xt(e,t,r,n){const o=n?n-1:Number.POSITIVE_INFINITY;let d=0;return c;function c(u){return ut(u)?(e.enter(r),l(u)):t(u)}function l(u){return ut(u)&&d++<o?(e.consume(u),l):(e.exit(r),t(u))}}const P8={tokenize:T8};function T8(e){const t=e.attempt(this.parser.constructs.contentInitial,n,o);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),xt(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),d(l)}function d(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,c(l)}function c(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Je(l)?(e.consume(l),e.exit("chunkText"),d):(e.consume(l),c)}}const A8={tokenize:R8},q_={tokenize:M8};function R8(e){const t=this,r=[];let n=0,o,d,c;return l;function l(b){if(n<r.length){const j=r[n];return t.containerState=j[1],e.attempt(j[0].continuation,u,f)(b)}return f(b)}function u(b){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&g();const j=t.events.length;let T=j,P;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){P=t.events[T][1].end;break}y(n);let E=j;for(;E<t.events.length;)t.events[E][1].end={...P},E++;return qn(t.events,T+1,0,t.events.slice(j)),t.events.length=E,f(b)}return l(b)}function f(b){if(n===r.length){if(!o)return v(b);if(o.currentConstruct&&o.currentConstruct.concrete)return k(b);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(q_,p,h)(b)}function p(b){return o&&g(),y(n),v(b)}function h(b){return t.parser.lazy[t.now().line]=n!==r.length,c=t.now().offset,k(b)}function v(b){return t.containerState={},e.attempt(q_,_,k)(b)}function _(b){return n++,r.push([t.currentConstruct,t.containerState]),v(b)}function k(b){if(b===null){o&&g(),y(0),e.consume(b);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:d}),w(b)}function w(b){if(b===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return Je(b)?(e.consume(b),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(b),w)}function x(b,j){const T=t.sliceStream(b);if(j&&T.push(null),b.previous=d,d&&(d.next=b),d=b,o.defineSkip(b.start),o.write(T),t.parser.lazy[b.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<c&&(!o.events[P][1].end||o.events[P][1].end.offset>c))return;const E=t.events.length;let N=E,L,F;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(L){F=t.events[N][1].end;break}L=!0}for(y(n),P=E;P<t.events.length;)t.events[P][1].end={...F},P++;qn(t.events,N+1,0,t.events.slice(E)),t.events.length=P}}function y(b){let j=r.length;for(;j-- >b;){const T=r[j];t.containerState=T[1],T[0].exit.call(t,e)}r.length=b}function g(){o.write([null]),d=void 0,o=void 0,t.containerState._closeFlow=void 0}}function M8(e,t,r){return xt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Y_(e){if(e===null||Fr(e)||E8(e))return 1;if(N8(e))return 2}function Dg(e,t,r){const n=[];let o=-1;for(;++o<e.length;){const d=e[o].resolveAll;d&&!n.includes(d)&&(t=d(t,r),n.push(d))}return t}const Hp={name:"attention",resolveAll:D8,tokenize:L8};function D8(e,t){let r=-1,n,o,d,c,l,u,f,p;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},v={...e[r][1].start};X_(h,-u),X_(v,u),c={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},d={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},o={type:u>1?"strong":"emphasis",start:{...c.start},end:{...l.end}},e[n][1].end={...c.start},e[r][1].start={...l.end},f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=un(f,[["enter",e[n][1],t],["exit",e[n][1],t]])),f=un(f,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",d,t]]),f=un(f,Dg(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),f=un(f,[["exit",d,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[r][1].end.offset-e[r][1].start.offset?(p=2,f=un(f,[["enter",e[r][1],t],["exit",e[r][1],t]])):p=0,qn(e,n-1,r-n+3,f),r=n+f.length-p-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function L8(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,o=Y_(n);let d;return c;function c(u){return d=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===d)return e.consume(u),l;const f=e.exit("attentionSequence"),p=Y_(u),h=!p||p===2&&o||r.includes(u),v=!o||o===2&&p||r.includes(n);return f._open=!!(d===42?h:h&&(o||!v)),f._close=!!(d===42?v:v&&(p||!h)),t(u)}}function X_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const I8={name:"autolink",tokenize:O8};function O8(e,t,r){let n=0;return o;function o(_){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),d}function d(_){return On(_)?(e.consume(_),c):_===64?r(_):f(_)}function c(_){return _===43||_===45||_===46||Yr(_)?(n=1,l(_)):f(_)}function l(_){return _===58?(e.consume(_),n=0,u):(_===43||_===45||_===46||Yr(_))&&n++<32?(e.consume(_),l):(n=0,f(_))}function u(_){return _===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):_===null||_===32||_===60||Fp(_)?r(_):(e.consume(_),u)}function f(_){return _===64?(e.consume(_),p):C8(_)?(e.consume(_),f):r(_)}function p(_){return Yr(_)?h(_):r(_)}function h(_){return _===46?(e.consume(_),n=0,p):_===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):v(_)}function v(_){if((_===45||Yr(_))&&n++<63){const k=_===45?v:h;return e.consume(_),k}return r(_)}}const yd={partial:!0,tokenize:B8};function B8(e,t,r){return n;function n(d){return ut(d)?xt(e,o,"linePrefix")(d):o(d)}function o(d){return d===null||Je(d)?t(d):r(d)}}const Uj={continuation:{tokenize:z8},exit:H8,name:"blockQuote",tokenize:F8};function F8(e,t,r){const n=this;return o;function o(c){if(c===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),d}return r(c)}function d(c){return ut(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function z8(e,t,r){const n=this;return o;function o(c){return ut(c)?xt(e,d,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):d(c)}function d(c){return e.attempt(Uj,t,r)(c)}}function H8(e){e.exit("blockQuote")}const Wj={name:"characterEscape",tokenize:$8};function $8(e,t,r){return n;function n(d){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(d),e.exit("escapeMarker"),o}function o(d){return j8(d)?(e.enter("characterEscapeValue"),e.consume(d),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(d)}}const Gj={name:"characterReference",tokenize:V8};function V8(e,t,r){const n=this;let o=0,d,c;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),d=31,c=Yr,p(h))}function f(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),d=6,c=k8,p):(e.enter("characterReferenceValue"),d=7,c=zp,p(h))}function p(h){if(h===59&&o){const v=e.exit("characterReferenceValue");return c===Yr&&!Mg(n.sliceSerialize(v))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(h)&&o++<d?(e.consume(h),p):r(h)}}const J_={partial:!0,tokenize:W8},Q_={concrete:!0,name:"codeFenced",tokenize:U8};function U8(e,t,r){const n=this,o={partial:!0,tokenize:T};let d=0,c=0,l;return u;function u(P){return f(P)}function f(P){const E=n.events[n.events.length-1];return d=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,l=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(P)}function p(P){return P===l?(c++,e.consume(P),p):c<3?r(P):(e.exit("codeFencedFenceSequence"),ut(P)?xt(e,h,"whitespace")(P):h(P))}function h(P){return P===null||Je(P)?(e.exit("codeFencedFence"),n.interrupt?t(P):e.check(J_,w,j)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(P))}function v(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(P)):ut(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xt(e,_,"whitespace")(P)):P===96&&P===l?r(P):(e.consume(P),v)}function _(P){return P===null||Je(P)?h(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(P))}function k(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(P)):P===96&&P===l?r(P):(e.consume(P),k)}function w(P){return e.attempt(o,j,x)(P)}function x(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),y}function y(P){return d>0&&ut(P)?xt(e,g,"linePrefix",d+1)(P):g(P)}function g(P){return P===null||Je(P)?e.check(J_,w,j)(P):(e.enter("codeFlowValue"),b(P))}function b(P){return P===null||Je(P)?(e.exit("codeFlowValue"),g(P)):(e.consume(P),b)}function j(P){return e.exit("codeFenced"),t(P)}function T(P,E,N){let L=0;return F;function F(G){return P.enter("lineEnding"),P.consume(G),P.exit("lineEnding"),B}function B(G){return P.enter("codeFencedFence"),ut(G)?xt(P,V,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):V(G)}function V(G){return G===l?(P.enter("codeFencedFenceSequence"),U(G)):N(G)}function U(G){return G===l?(L++,P.consume(G),U):L>=c?(P.exit("codeFencedFenceSequence"),ut(G)?xt(P,X,"whitespace")(G):X(G)):N(G)}function X(G){return G===null||Je(G)?(P.exit("codeFencedFence"),E(G)):N(G)}}}function W8(e,t,r){const n=this;return o;function o(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d)}function d(c){return n.parser.lazy[n.now().line]?r(c):t(c)}}const Ff={name:"codeIndented",tokenize:K8},G8={partial:!0,tokenize:q8};function K8(e,t,r){const n=this;return o;function o(f){return e.enter("codeIndented"),xt(e,d,"linePrefix",5)(f)}function d(f){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?c(f):r(f)}function c(f){return f===null?u(f):Je(f)?e.attempt(G8,c,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||Je(f)?(e.exit("codeFlowValue"),c(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),t(f)}}function q8(e,t,r){const n=this;return o;function o(c){return n.parser.lazy[n.now().line]?r(c):Je(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):xt(e,d,"linePrefix",5)(c)}function d(c){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(c):Je(c)?o(c):r(c)}}const Y8={name:"codeText",previous:J8,resolve:X8,tokenize:Q8};function X8(e){let t=e.length-4,r=3,n,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="codeTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function J8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q8(e,t,r){let n=0,o,d;return c;function c(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),n++,l):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(d=e.enter("codeTextSequence"),o=0,p(h)):Je(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||Je(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),f)}function p(h){return h===96?(e.consume(h),o++,p):o===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(d.type="codeTextData",f(h))}}class Z8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const o=r||0;this.setCursor(Math.trunc(t));const d=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return n&&Ia(this.left,n),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ia(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ia(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ia(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ia(this.left,r.reverse())}}}function Ia(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Kj(e){const t={};let r=-1,n,o,d,c,l,u,f;const p=new Z8(e);for(;++r<p.length;){for(;r in t;)r=t[r];if(n=p.get(r),r&&n[1].type==="chunkFlow"&&p.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,d=0,d<u.length&&u[d][1].type==="lineEndingBlank"&&(d+=2),d<u.length&&u[d][1].type==="content"))for(;++d<u.length&&u[d][1].type!=="content";)u[d][1].type==="chunkText"&&(u[d][1]._isInFirstContentOfListItem=!0,d++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,e7(p,r)),r=t[r],f=!0);else if(n[1]._container){for(d=r,o=void 0;d--;)if(c=p.get(d),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=d);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(n[1].end={...p.get(o)[1].start},l=p.slice(o,r),l.unshift(n),p.splice(o,r-o+1,l))}}return qn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function e7(e,t){const r=e.get(t)[1],n=e.get(t)[2];let o=t-1;const d=[];let c=r._tokenizer;c||(c=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const l=c.events,u=[],f={};let p,h,v=-1,_=r,k=0,w=0;const x=[w];for(;_;){for(;e.get(++o)[1]!==_;);d.push(o),_._tokenizer||(p=n.sliceStream(_),_.next||p.push(null),h&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(p),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),h=_,_=_.next}for(_=r;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(w=v+1,x.push(w),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):x.pop(),v=x.length;v--;){const y=l.slice(x[v],x[v+1]),g=d.pop();u.push([g,g+y.length-1]),e.splice(g,2,y)}for(u.reverse(),v=-1;++v<u.length;)f[k+u[v][0]]=k+u[v][1],k+=u[v][1]-u[v][0]-1;return f}const t7={resolve:n7,tokenize:s7},r7={partial:!0,tokenize:i7};function n7(e){return Kj(e),e}function s7(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?d(l):Je(l)?e.check(r7,c,d)(l):(e.consume(l),o)}function d(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function c(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function i7(e,t,r){const n=this;return o;function o(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),xt(e,d,"linePrefix")}function d(c){if(c===null||Je(c))return r(c);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(c):e.interrupt(n.parser.constructs.flow,r,t)(c)}}function qj(e,t,r,n,o,d,c,l,u){const f=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(y){return y===60?(e.enter(n),e.enter(o),e.enter(d),e.consume(y),e.exit(d),v):y===null||y===32||y===41||Fp(y)?r(y):(e.enter(n),e.enter(c),e.enter(l),e.enter("chunkString",{contentType:"string"}),w(y))}function v(y){return y===62?(e.enter(d),e.consume(y),e.exit(d),e.exit(o),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),_(y))}function _(y){return y===62?(e.exit("chunkString"),e.exit(l),v(y)):y===null||y===60||Je(y)?r(y):(e.consume(y),y===92?k:_)}function k(y){return y===60||y===62||y===92?(e.consume(y),_):_(y)}function w(y){return!p&&(y===null||y===41||Fr(y))?(e.exit("chunkString"),e.exit(l),e.exit(c),e.exit(n),t(y)):p<f&&y===40?(e.consume(y),p++,w):y===41?(e.consume(y),p--,w):y===null||y===32||y===40||Fp(y)?r(y):(e.consume(y),y===92?x:w)}function x(y){return y===40||y===41||y===92?(e.consume(y),w):w(y)}}function Yj(e,t,r,n,o,d){const c=this;let l=0,u;return f;function f(_){return e.enter(n),e.enter(o),e.consume(_),e.exit(o),e.enter(d),p}function p(_){return l>999||_===null||_===91||_===93&&!u||_===94&&!l&&"_hiddenFootnoteSupport"in c.parser.constructs?r(_):_===93?(e.exit(d),e.enter(o),e.consume(_),e.exit(o),e.exit(n),t):Je(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||_===91||_===93||Je(_)||l++>999?(e.exit("chunkString"),p(_)):(e.consume(_),u||(u=!ut(_)),_===92?v:h)}function v(_){return _===91||_===92||_===93?(e.consume(_),l++,h):h(_)}}function Xj(e,t,r,n,o,d){let c;return l;function l(v){return v===34||v===39||v===40?(e.enter(n),e.enter(o),e.consume(v),e.exit(o),c=v===40?41:v,u):r(v)}function u(v){return v===c?(e.enter(o),e.consume(v),e.exit(o),e.exit(n),t):(e.enter(d),f(v))}function f(v){return v===c?(e.exit(d),u(c)):v===null?r(v):Je(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),xt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===c||v===null||Je(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?h:p)}function h(v){return v===c||v===92?(e.consume(v),p):p(v)}}function qa(e,t){let r;return n;function n(o){return Je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,n):ut(o)?xt(e,n,r?"linePrefix":"lineSuffix")(o):t(o)}}const o7={name:"definition",tokenize:l7},a7={partial:!0,tokenize:c7};function l7(e,t,r){const n=this;let o;return d;function d(_){return e.enter("definition"),c(_)}function c(_){return Yj.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function l(_){return o=ko(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),_===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),u):r(_)}function u(_){return Fr(_)?qa(e,f)(_):f(_)}function f(_){return qj(e,p,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function p(_){return e.attempt(a7,h,h)(_)}function h(_){return ut(_)?xt(e,v,"whitespace")(_):v(_)}function v(_){return _===null||Je(_)?(e.exit("definition"),n.parser.defined.push(o),t(_)):r(_)}}function c7(e,t,r){return n;function n(l){return Fr(l)?qa(e,o)(l):r(l)}function o(l){return Xj(e,d,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function d(l){return ut(l)?xt(e,c,"whitespace")(l):c(l)}function c(l){return l===null||Je(l)?t(l):r(l)}}const u7={name:"hardBreakEscape",tokenize:d7};function d7(e,t,r){return n;function n(d){return e.enter("hardBreakEscape"),e.consume(d),o}function o(d){return Je(d)?(e.exit("hardBreakEscape"),t(d)):r(d)}}const h7={name:"headingAtx",resolve:f7,tokenize:p7};function f7(e,t){let r=e.length-2,n=3,o,d;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(o={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},d={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},qn(e,n,r-n+1,[["enter",o,t],["enter",d,t],["exit",d,t],["exit",o,t]])),e}function p7(e,t,r){let n=0;return o;function o(p){return e.enter("atxHeading"),d(p)}function d(p){return e.enter("atxHeadingSequence"),c(p)}function c(p){return p===35&&n++<6?(e.consume(p),c):p===null||Fr(p)?(e.exit("atxHeadingSequence"),l(p)):r(p)}function l(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||Je(p)?(e.exit("atxHeading"),t(p)):ut(p)?xt(e,l,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),l(p))}function f(p){return p===null||p===35||Fr(p)?(e.exit("atxHeadingText"),l(p)):(e.consume(p),f)}}const m7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z_=["pre","script","style","textarea"],g7={concrete:!0,name:"htmlFlow",resolveTo:y7,tokenize:_7},v7={partial:!0,tokenize:w7},x7={partial:!0,tokenize:b7};function y7(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _7(e,t,r){const n=this;let o,d,c,l,u;return f;function f(I){return p(I)}function p(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),h}function h(I){return I===33?(e.consume(I),v):I===47?(e.consume(I),d=!0,w):I===63?(e.consume(I),o=3,n.interrupt?t:M):On(I)?(e.consume(I),c=String.fromCharCode(I),x):r(I)}function v(I){return I===45?(e.consume(I),o=2,_):I===91?(e.consume(I),o=5,l=0,k):On(I)?(e.consume(I),o=4,n.interrupt?t:M):r(I)}function _(I){return I===45?(e.consume(I),n.interrupt?t:M):r(I)}function k(I){const re="CDATA[";return I===re.charCodeAt(l++)?(e.consume(I),l===re.length?n.interrupt?t:V:k):r(I)}function w(I){return On(I)?(e.consume(I),c=String.fromCharCode(I),x):r(I)}function x(I){if(I===null||I===47||I===62||Fr(I)){const re=I===47,de=c.toLowerCase();return!re&&!d&&Z_.includes(de)?(o=1,n.interrupt?t(I):V(I)):m7.includes(c.toLowerCase())?(o=6,re?(e.consume(I),y):n.interrupt?t(I):V(I)):(o=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(I):d?g(I):b(I))}return I===45||Yr(I)?(e.consume(I),c+=String.fromCharCode(I),x):r(I)}function y(I){return I===62?(e.consume(I),n.interrupt?t:V):r(I)}function g(I){return ut(I)?(e.consume(I),g):F(I)}function b(I){return I===47?(e.consume(I),F):I===58||I===95||On(I)?(e.consume(I),j):ut(I)?(e.consume(I),b):F(I)}function j(I){return I===45||I===46||I===58||I===95||Yr(I)?(e.consume(I),j):T(I)}function T(I){return I===61?(e.consume(I),P):ut(I)?(e.consume(I),T):b(I)}function P(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(e.consume(I),u=I,E):ut(I)?(e.consume(I),P):N(I)}function E(I){return I===u?(e.consume(I),u=null,L):I===null||Je(I)?r(I):(e.consume(I),E)}function N(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Fr(I)?T(I):(e.consume(I),N)}function L(I){return I===47||I===62||ut(I)?b(I):r(I)}function F(I){return I===62?(e.consume(I),B):r(I)}function B(I){return I===null||Je(I)?V(I):ut(I)?(e.consume(I),B):r(I)}function V(I){return I===45&&o===2?(e.consume(I),q):I===60&&o===1?(e.consume(I),K):I===62&&o===4?(e.consume(I),O):I===63&&o===3?(e.consume(I),M):I===93&&o===5?(e.consume(I),D):Je(I)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(v7,W,U)(I)):I===null||Je(I)?(e.exit("htmlFlowData"),U(I)):(e.consume(I),V)}function U(I){return e.check(x7,X,W)(I)}function X(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),G}function G(I){return I===null||Je(I)?U(I):(e.enter("htmlFlowData"),V(I))}function q(I){return I===45?(e.consume(I),M):V(I)}function K(I){return I===47?(e.consume(I),c="",$):V(I)}function $(I){if(I===62){const re=c.toLowerCase();return Z_.includes(re)?(e.consume(I),O):V(I)}return On(I)&&c.length<8?(e.consume(I),c+=String.fromCharCode(I),$):V(I)}function D(I){return I===93?(e.consume(I),M):V(I)}function M(I){return I===62?(e.consume(I),O):I===45&&o===2?(e.consume(I),M):V(I)}function O(I){return I===null||Je(I)?(e.exit("htmlFlowData"),W(I)):(e.consume(I),O)}function W(I){return e.exit("htmlFlow"),t(I)}}function b7(e,t,r){const n=this;return o;function o(c){return Je(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):r(c)}function d(c){return n.parser.lazy[n.now().line]?r(c):t(c)}}function w7(e,t,r){return n;function n(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(yd,t,r)}}const S7={name:"htmlText",tokenize:C7};function C7(e,t,r){const n=this;let o,d,c;return l;function l(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),u}function u(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),T):M===63?(e.consume(M),b):On(M)?(e.consume(M),N):r(M)}function f(M){return M===45?(e.consume(M),p):M===91?(e.consume(M),d=0,k):On(M)?(e.consume(M),g):r(M)}function p(M){return M===45?(e.consume(M),_):r(M)}function h(M){return M===null?r(M):M===45?(e.consume(M),v):Je(M)?(c=h,K(M)):(e.consume(M),h)}function v(M){return M===45?(e.consume(M),_):h(M)}function _(M){return M===62?q(M):M===45?v(M):h(M)}function k(M){const O="CDATA[";return M===O.charCodeAt(d++)?(e.consume(M),d===O.length?w:k):r(M)}function w(M){return M===null?r(M):M===93?(e.consume(M),x):Je(M)?(c=w,K(M)):(e.consume(M),w)}function x(M){return M===93?(e.consume(M),y):w(M)}function y(M){return M===62?q(M):M===93?(e.consume(M),y):w(M)}function g(M){return M===null||M===62?q(M):Je(M)?(c=g,K(M)):(e.consume(M),g)}function b(M){return M===null?r(M):M===63?(e.consume(M),j):Je(M)?(c=b,K(M)):(e.consume(M),b)}function j(M){return M===62?q(M):b(M)}function T(M){return On(M)?(e.consume(M),P):r(M)}function P(M){return M===45||Yr(M)?(e.consume(M),P):E(M)}function E(M){return Je(M)?(c=E,K(M)):ut(M)?(e.consume(M),E):q(M)}function N(M){return M===45||Yr(M)?(e.consume(M),N):M===47||M===62||Fr(M)?L(M):r(M)}function L(M){return M===47?(e.consume(M),q):M===58||M===95||On(M)?(e.consume(M),F):Je(M)?(c=L,K(M)):ut(M)?(e.consume(M),L):q(M)}function F(M){return M===45||M===46||M===58||M===95||Yr(M)?(e.consume(M),F):B(M)}function B(M){return M===61?(e.consume(M),V):Je(M)?(c=B,K(M)):ut(M)?(e.consume(M),B):L(M)}function V(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),o=M,U):Je(M)?(c=V,K(M)):ut(M)?(e.consume(M),V):(e.consume(M),X)}function U(M){return M===o?(e.consume(M),o=void 0,G):M===null?r(M):Je(M)?(c=U,K(M)):(e.consume(M),U)}function X(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||Fr(M)?L(M):(e.consume(M),X)}function G(M){return M===47||M===62||Fr(M)?L(M):r(M)}function q(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):r(M)}function K(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),$}function $(M){return ut(M)?xt(e,D,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):D(M)}function D(M){return e.enter("htmlTextData"),c(M)}}const Lg={name:"labelEnd",resolveAll:E7,resolveTo:P7,tokenize:T7},k7={tokenize:A7},j7={tokenize:R7},N7={tokenize:M7};function E7(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const o=n.type==="labelImage"?4:2;n.type="data",t+=o}}return e.length!==r.length&&qn(e,0,e.length,r),e}function P7(e,t){let r=e.length,n=0,o,d,c,l;for(;r--;)if(o=e[r][1],d){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(d=r,o.type!=="labelLink")){n=2;break}}else o.type==="labelEnd"&&(c=r);const u={type:e[d][1].type==="labelLink"?"link":"image",start:{...e[d][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[d][1].start},end:{...e[c][1].end}},p={type:"labelText",start:{...e[d+n+2][1].end},end:{...e[c-2][1].start}};return l=[["enter",u,t],["enter",f,t]],l=un(l,e.slice(d+1,d+n+3)),l=un(l,[["enter",p,t]]),l=un(l,Dg(t.parser.constructs.insideSpan.null,e.slice(d+n+4,c-3),t)),l=un(l,[["exit",p,t],e[c-2],e[c-1],["exit",f,t]]),l=un(l,e.slice(c+1)),l=un(l,[["exit",u,t]]),qn(e,d,e.length,l),e}function T7(e,t,r){const n=this;let o=n.events.length,d,c;for(;o--;)if((n.events[o][1].type==="labelImage"||n.events[o][1].type==="labelLink")&&!n.events[o][1]._balanced){d=n.events[o][1];break}return l;function l(v){return d?d._inactive?h(v):(c=n.parser.defined.includes(ko(n.sliceSerialize({start:d.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),u):r(v)}function u(v){return v===40?e.attempt(k7,p,c?p:h)(v):v===91?e.attempt(j7,p,c?f:h)(v):c?p(v):h(v)}function f(v){return e.attempt(N7,p,h)(v)}function p(v){return t(v)}function h(v){return d._balanced=!0,r(v)}}function A7(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),o}function o(h){return Fr(h)?qa(e,d)(h):d(h)}function d(h){return h===41?p(h):qj(e,c,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function c(h){return Fr(h)?qa(e,u)(h):p(h)}function l(h){return r(h)}function u(h){return h===34||h===39||h===40?Xj(e,f,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):p(h)}function f(h){return Fr(h)?qa(e,p)(h):p(h)}function p(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function R7(e,t,r){const n=this;return o;function o(l){return Yj.call(n,e,d,c,"reference","referenceMarker","referenceString")(l)}function d(l){return n.parser.defined.includes(ko(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function c(l){return r(l)}}function M7(e,t,r){return n;function n(d){return e.enter("reference"),e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),o}function o(d){return d===93?(e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),e.exit("reference"),t):r(d)}}const D7={name:"labelStartImage",resolveAll:Lg.resolveAll,tokenize:L7};function L7(e,t,r){const n=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),d}function d(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),c):r(l)}function c(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const I7={name:"labelStartLink",resolveAll:Lg.resolveAll,tokenize:O7};function O7(e,t,r){const n=this;return o;function o(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),d}function d(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(c):t(c)}}const zf={name:"lineEnding",tokenize:B7};function B7(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xt(e,t,"linePrefix")}}const uu={name:"thematicBreak",tokenize:F7};function F7(e,t,r){let n=0,o;return d;function d(f){return e.enter("thematicBreak"),c(f)}function c(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),u(f)):n>=3&&(f===null||Je(f))?(e.exit("thematicBreak"),t(f)):r(f)}function u(f){return f===o?(e.consume(f),n++,u):(e.exit("thematicBreakSequence"),ut(f)?xt(e,l,"whitespace")(f):l(f))}}const Ir={continuation:{tokenize:V7},exit:W7,name:"list",tokenize:$7},z7={partial:!0,tokenize:G7},H7={partial:!0,tokenize:U7};function $7(e,t,r){const n=this,o=n.events[n.events.length-1];let d=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return l;function l(_){const k=n.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!n.containerState.marker||_===n.containerState.marker:zp(_)){if(n.containerState.type||(n.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),_===42||_===45?e.check(uu,r,f)(_):f(_);if(!n.interrupt||_===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(_)}return r(_)}function u(_){return zp(_)&&++c<10?(e.consume(_),u):(!n.interrupt||c<2)&&(n.containerState.marker?_===n.containerState.marker:_===41||_===46)?(e.exit("listItemValue"),f(_)):r(_)}function f(_){return e.enter("listItemMarker"),e.consume(_),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||_,e.check(yd,n.interrupt?r:p,e.attempt(z7,v,h))}function p(_){return n.containerState.initialBlankLine=!0,d++,v(_)}function h(_){return ut(_)?(e.enter("listItemPrefixWhitespace"),e.consume(_),e.exit("listItemPrefixWhitespace"),v):r(_)}function v(_){return n.containerState.size=d+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(_)}}function V7(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(yd,o,d);function o(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,xt(e,t,"listItemIndent",n.containerState.size+1)(l)}function d(l){return n.containerState.furtherBlankLines||!ut(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,c(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(H7,t,c)(l))}function c(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,xt(e,e.attempt(Ir,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function U7(e,t,r){const n=this;return xt(e,o,"listItemIndent",n.containerState.size+1);function o(d){const c=n.events[n.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===n.containerState.size?t(d):r(d)}}function W7(e){e.exit(this.containerState.type)}function G7(e,t,r){const n=this;return xt(e,o,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(d){const c=n.events[n.events.length-1];return!ut(d)&&c&&c[1].type==="listItemPrefixWhitespace"?t(d):r(d)}}const eb={name:"setextUnderline",resolveTo:K7,tokenize:q7};function K7(e,t){let r=e.length,n,o,d;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!d&&e[r][1].type==="definition"&&(d=r);const c={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",d?(e.splice(o,0,["enter",c,t]),e.splice(d+1,0,["exit",e[n][1],t]),e[n][1].end={...e[d][1].end}):e[n][1]=c,e.push(["exit",c,t]),e}function q7(e,t,r){const n=this;let o;return d;function d(f){let p=n.events.length,h;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){h=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),o=f,c(f)):r(f)}function c(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),ut(f)?xt(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||Je(f)?(e.exit("setextHeadingLine"),t(f)):r(f)}}const Y7={tokenize:X7};function X7(e){const t=this,r=e.attempt(yd,n,e.attempt(this.parser.constructs.flowInitial,o,xt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(t7,o)),"linePrefix")));return r;function n(d){if(d===null){e.consume(d);return}return e.enter("lineEndingBlank"),e.consume(d),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function o(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const J7={resolveAll:Qj()},Q7=Jj("string"),Z7=Jj("text");function Jj(e){return{resolveAll:Qj(e==="text"?e9:void 0),tokenize:t};function t(r){const n=this,o=this.parser.constructs[e],d=r.attempt(o,c,l);return c;function c(p){return f(p)?d(p):l(p)}function l(p){if(p===null){r.consume(p);return}return r.enter("data"),r.consume(p),u}function u(p){return f(p)?(r.exit("data"),d(p)):(r.consume(p),u)}function f(p){if(p===null)return!0;const h=o[p];let v=-1;if(h)for(;++v<h.length;){const _=h[v];if(!_.previous||_.previous.call(n,n.previous))return!0}return!1}}}function Qj(e){return t;function t(r,n){let o=-1,d;for(;++o<=r.length;)d===void 0?r[o]&&r[o][1].type==="data"&&(d=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==d+2&&(r[d][1].end=r[o-1][1].end,r.splice(d+2,o-d-2),o=d+2),d=void 0);return e?e(r,n):r}}function e9(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],o=t.sliceStream(n);let d=o.length,c=-1,l=0,u;for(;d--;){const f=o[d];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)l++,c--;if(c)break;c=-1}else if(f===-2)u=!0,l++;else if(f!==-1){d++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const f={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?c:n.start._bufferIndex+c,_index:n.start._index+d,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(e.splice(r,0,["enter",f,t],["exit",f,t]),r+=2)}r++}return e}const t9={42:Ir,43:Ir,45:Ir,48:Ir,49:Ir,50:Ir,51:Ir,52:Ir,53:Ir,54:Ir,55:Ir,56:Ir,57:Ir,62:Uj},r9={91:o7},n9={[-2]:Ff,[-1]:Ff,32:Ff},s9={35:h7,42:uu,45:[eb,uu],60:g7,61:eb,95:uu,96:Q_,126:Q_},i9={38:Gj,92:Wj},o9={[-5]:zf,[-4]:zf,[-3]:zf,33:D7,38:Gj,42:Hp,60:[I8,S7],91:I7,92:[u7,Wj],93:Lg,95:Hp,96:Y8},a9={null:[Hp,J7]},l9={null:[42,95]},c9={null:[]},u9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:l9,contentInitial:r9,disable:c9,document:t9,flow:s9,flowInitial:n9,insideSpan:a9,string:i9,text:o9},Symbol.toStringTag,{value:"Module"}));function d9(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},d=[];let c=[],l=[];const u={attempt:E(T),check:E(P),consume:g,enter:b,exit:j,interrupt:E(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:k,parser:e,previous:null,sliceSerialize:v,sliceStream:_,write:h};let p=t.tokenize.call(f,u);return t.resolveAll&&d.push(t),f;function h(B){return c=un(c,B),x(),c[c.length-1]!==null?[]:(N(t,0),f.events=Dg(d,f.events,f),f.events)}function v(B,V){return f9(_(B),V)}function _(B){return h9(c,B)}function k(){const{_bufferIndex:B,_index:V,line:U,column:X,offset:G}=n;return{_bufferIndex:B,_index:V,line:U,column:X,offset:G}}function w(B){o[B.line]=B.column,F()}function x(){let B;for(;n._index<c.length;){const V=c[n._index];if(typeof V=="string")for(B=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===B&&n._bufferIndex<V.length;)y(V.charCodeAt(n._bufferIndex));else y(V)}}function y(B){p=p(B)}function g(B){Je(B)?(n.line++,n.column=1,n.offset+=B===-3?2:1,F()):B!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===c[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=B}function b(B,V){const U=V||{};return U.type=B,U.start=k(),f.events.push(["enter",U,f]),l.push(U),U}function j(B){const V=l.pop();return V.end=k(),f.events.push(["exit",V,f]),V}function T(B,V){N(B,V.from)}function P(B,V){V.restore()}function E(B,V){return U;function U(X,G,q){let K,$,D,M;return Array.isArray(X)?W(X):"tokenize"in X?W([X]):O(X);function O(me){return Y;function Y(z){const oe=z!==null&&me[z],ne=z!==null&&me.null,Q=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return W(Q)(z)}}function W(me){return K=me,$=0,me.length===0?q:I(me[$])}function I(me){return Y;function Y(z){return M=L(),D=me,me.partial||(f.currentConstruct=me),me.name&&f.parser.constructs.disable.null.includes(me.name)?de():me.tokenize.call(V?Object.assign(Object.create(f),V):f,u,re,de)(z)}}function re(me){return B(D,M),G}function de(me){return M.restore(),++$<K.length?I(K[$]):q}}}function N(B,V){B.resolveAll&&!d.includes(B)&&d.push(B),B.resolve&&qn(f.events,V,f.events.length-V,B.resolve(f.events.slice(V),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function L(){const B=k(),V=f.previous,U=f.currentConstruct,X=f.events.length,G=Array.from(l);return{from:X,restore:q};function q(){n=B,f.previous=V,f.currentConstruct=U,f.events.length=X,l=G,F()}}function F(){n.line in o&&n.column<2&&(n.column=o[n.line],n.offset+=o[n.line]-1)}}function h9(e,t){const r=t.start._index,n=t.start._bufferIndex,o=t.end._index,d=t.end._bufferIndex;let c;if(r===o)c=[e[r].slice(n,d)];else{if(c=e.slice(r,o),n>-1){const l=c[0];typeof l=="string"?c[0]=l.slice(n):c.shift()}d>0&&c.push(e[o].slice(0,d))}return c}function f9(e,t){let r=-1;const n=[];let o;for(;++r<e.length;){const d=e[r];let c;if(typeof d=="string")c=d;else switch(d){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&o)continue;c=" ";break}default:c=String.fromCharCode(d)}o=d===-2,n.push(c)}return n.join("")}function p9(e){const n={constructs:b8([u9,...(e||{}).extensions||[]]),content:o(P8),defined:[],document:o(A8),flow:o(Y7),lazy:{},string:o(Q7),text:o(Z7)};return n;function o(d){return c;function c(l){return d9(n,d,l)}}}function m9(e){for(;!Kj(e););return e}const tb=/[\0\t\n\r]/g;function g9(){let e=1,t="",r=!0,n;return o;function o(d,c,l){const u=[];let f,p,h,v,_;for(d=t+(typeof d=="string"?d.toString():new TextDecoder(c||void 0).decode(d)),h=0,t="",r&&(d.charCodeAt(0)===65279&&h++,r=void 0);h<d.length;){if(tb.lastIndex=h,f=tb.exec(d),v=f&&f.index!==void 0?f.index:d.length,_=d.charCodeAt(v),!f){t=d.slice(h);break}if(_===10&&h===v&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),h<v&&(u.push(d.slice(h,v)),e+=v-h),_){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}h=v+1}return l&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const v9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function x9(e){return e.replace(v9,y9)}function y9(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),d=o===120||o===88;return Vj(r.slice(d?2:1),d?16:10)}return Mg(r)||e}const Zj={}.hasOwnProperty;function _9(e,t,r){return typeof t!="string"&&(r=t,t=void 0),b9(r)(m9(p9(r).document().write(g9()(e,t,!0))))}function b9(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Te),autolinkProtocol:L,autolinkEmail:L,atxHeading:d(Se),blockQuote:d(ne),characterEscape:L,characterReference:L,codeFenced:d(Q),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:d(Q,c),codeText:d(ie,c),codeTextData:L,data:L,codeFlowValue:L,definition:d(ye),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:d(ae),hardBreakEscape:d(Me),hardBreakTrailing:d(Me),htmlFlow:d(ke,c),htmlFlowData:L,htmlText:d(ke,c),htmlTextData:L,image:d(Ne),label:c,link:d(Te),listItem:d(Ye),listItemValue:v,listOrdered:d(Ue,h),listUnordered:d(Ue),paragraph:d(et),reference:I,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:d(Se),strong:d(it),thematicBreak:d(At)},exit:{atxHeading:u(),atxHeadingSequence:T,autolink:u(),autolinkEmail:oe,autolinkProtocol:z,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:me,characterReference:Y,codeFenced:u(x),codeFencedFence:w,codeFencedFenceInfo:_,codeFencedFenceMeta:k,codeFlowValue:F,codeIndented:u(y),codeText:u(G),codeTextData:F,data:F,definition:u(),definitionDestinationString:j,definitionLabelString:g,definitionTitleString:b,emphasis:u(),hardBreakEscape:u(V),hardBreakTrailing:u(V),htmlFlow:u(U),htmlFlowData:F,htmlText:u(X),htmlTextData:F,image:u(K),label:D,labelText:$,lineEnding:B,link:u(q),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:re,resourceDestinationString:M,resourceTitleString:O,resource:W,setextHeading:u(N),setextHeadingLineSequence:E,setextHeadingText:P,strong:u(),thematicBreak:u()}};e2(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ge){let ce={type:"root",children:[]};const ve={stack:[ce],tokenStack:[],config:t,enter:l,exit:f,buffer:c,resume:p,data:r},J=[];let pe=-1;for(;++pe<ge.length;)if(ge[pe][1].type==="listOrdered"||ge[pe][1].type==="listUnordered")if(ge[pe][0]==="enter")J.push(pe);else{const Ie=J.pop();pe=o(ge,Ie,pe)}for(pe=-1;++pe<ge.length;){const Ie=t[ge[pe][0]];Zj.call(Ie,ge[pe][1].type)&&Ie[ge[pe][1].type].call(Object.assign({sliceSerialize:ge[pe][2].sliceSerialize},ve),ge[pe][1])}if(ve.tokenStack.length>0){const Ie=ve.tokenStack[ve.tokenStack.length-1];(Ie[1]||rb).call(ve,void 0,Ie[0])}for(ce.position={start:Us(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Us(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<t.transforms.length;)ce=t.transforms[pe](ce)||ce;return ce}function o(ge,ce,ve){let J=ce-1,pe=-1,Ie=!1,Ve,at,or,Er;for(;++J<=ve;){const Ct=ge[J];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?pe++:pe--,Er=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(Ve&&!Er&&!pe&&!or&&(or=J),Er=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Er=void 0}if(!pe&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||pe===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(Ve){let Pr=J;for(at=void 0;Pr--;){const ar=ge[Pr];if(ar[1].type==="lineEnding"||ar[1].type==="lineEndingBlank"){if(ar[0]==="exit")continue;at&&(ge[at][1].type="lineEndingBlank",Ie=!0),ar[1].type="lineEnding",at=Pr}else if(!(ar[1].type==="linePrefix"||ar[1].type==="blockQuotePrefix"||ar[1].type==="blockQuotePrefixWhitespace"||ar[1].type==="blockQuoteMarker"||ar[1].type==="listItemIndent"))break}or&&(!at||or<at)&&(Ve._spread=!0),Ve.end=Object.assign({},at?ge[at][1].start:Ct[1].end),ge.splice(at||J,0,["exit",Ve,Ct[2]]),J++,ve++}if(Ct[1].type==="listItemPrefix"){const Pr={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};Ve=Pr,ge.splice(J,0,["enter",Pr,Ct[2]]),J++,ve++,or=void 0,Er=!0}}}return ge[ce][1]._spread=Ie,ve}function d(ge,ce){return ve;function ve(J){l.call(this,ge(J),J),ce&&ce.call(this,J)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(ge,ce,ve){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([ce,ve||void 0]),ge.position={start:Us(ce.start),end:void 0}}function u(ge){return ce;function ce(ve){ge&&ge.call(this,ve),f.call(this,ve)}}function f(ge,ce){const ve=this.stack.pop(),J=this.tokenStack.pop();if(J)J[0].type!==ge.type&&(ce?ce.call(this,ge,J[0]):(J[1]||rb).call(this,ge,J[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Ka({start:ge.start,end:ge.end})+"): its not open");ve.position.end=Us(ge.end)}function p(){return y8(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function v(ge){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function _(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=ge}function k(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=ge}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ge.replace(/(\r?\n|\r)$/g,"")}function g(ge){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ce,ve.identifier=ko(this.sliceSerialize(ge)).toLowerCase()}function b(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ge}function j(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ge}function T(ge){const ce=this.stack[this.stack.length-1];if(!ce.depth){const ve=this.sliceSerialize(ge).length;ce.depth=ve}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function E(ge){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ge){const ve=this.stack[this.stack.length-1].children;let J=ve[ve.length-1];(!J||J.type!=="text")&&(J=ir(),J.position={start:Us(ge.start),end:void 0},ve.push(J)),this.stack.push(J)}function F(ge){const ce=this.stack.pop();ce.value+=this.sliceSerialize(ge),ce.position.end=Us(ge.end)}function B(ge){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ce.children[ce.children.length-1];ve.position.end=Us(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(L.call(this,ge),F.call(this,ge))}function V(){this.data.atHardBreak=!0}function U(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ge}function X(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ge}function G(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ge}function q(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function K(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function $(ge){const ce=this.sliceSerialize(ge),ve=this.stack[this.stack.length-2];ve.label=x9(ce),ve.identifier=ko(ce).toLowerCase()}function D(){const ge=this.stack[this.stack.length-1],ce=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const J=ge.children;ve.children=J}else ve.alt=ce}function M(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ge}function O(){const ge=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ge}function W(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function re(ge){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ce,ve.identifier=ko(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function de(ge){this.data.characterReferenceType=ge.type}function me(ge){const ce=this.sliceSerialize(ge),ve=this.data.characterReferenceType;let J;ve?(J=Vj(ce,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):J=Mg(ce);const pe=this.stack[this.stack.length-1];pe.value+=J}function Y(ge){const ce=this.stack.pop();ce.position.end=Us(ge.end)}function z(ge){F.call(this,ge);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(ge)}function oe(ge){F.call(this,ge);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(ge)}function ne(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function ke(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Te(){return{type:"link",title:null,url:"",children:[]}}function Ue(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Ye(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function et(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function ir(){return{type:"text",value:""}}function At(){return{type:"thematicBreak"}}}function Us(e){return{line:e.line,column:e.column,offset:e.offset}}function e2(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?e2(e,n):w9(e,n)}}function w9(e,t){let r;for(r in t)if(Zj.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function rb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ka({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ka({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ka({start:t.start,end:t.end})+") is still open")}function S9(e){const t=this;t.parser=r;function r(n){return _9(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function C9(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function k9(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function j9(e,t){const r=t.value?t.value+`
`:"",n={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(n.className=["language-"+o[0]]);let d={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(d.data={meta:t.meta}),e.patch(t,d),d=e.applyData(t,d),d={type:"element",tagName:"pre",properties:{},children:[d]},e.patch(t,d),d}function N9(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function E9(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P9(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),o=qo(n.toLowerCase()),d=e.footnoteOrder.indexOf(n);let c,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),c=e.footnoteOrder.length):c=d+1,l+=1,e.footnoteCounts.set(n,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,f),e.applyData(t,f)}function T9(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function A9(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function t2(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const o=e.all(t),d=o[0];d&&d.type==="text"?d.value="["+d.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=n:o.push({type:"text",value:n}),o}function R9(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return t2(e,t);const o={src:qo(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const d={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,d),e.applyData(t,d)}function M9(e,t){const r={src:qo(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function D9(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function L9(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return t2(e,t);const o={href:qo(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const d={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,d),e.applyData(t,d)}function I9(e,t){const r={href:qo(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O9(e,t,r){const n=e.all(t),o=r?B9(r):r2(t),d={},c=[];if(typeof t.checked=="boolean"){const p=n[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const p=n[l];(o||l!==0||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?c.push(...p.children):c.push(p)}const u=n[n.length-1];u&&(o||u.type!=="element"||u.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:d,children:c};return e.patch(t,f),e.applyData(t,f)}function B9(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=r2(r[n])}return t}function r2(e){const t=e.spread;return t??e.children.length>1}function F9(e,t){const r={},n=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++o<n.length;){const c=n[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const d={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,d),e.applyData(t,d)}function z9(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function H9(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function $9(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function V9(e,t){const r=e.all(t),n=r.shift(),o=[];if(n){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],c),o.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=Pg(t.children[1]),u=Ij(t.children[t.children.length-1]);l&&u&&(c.position={start:l,end:u}),o.push(c)}const d={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,d),e.applyData(t,d)}function U9(e,t,r){const n=r?r.children:void 0,d=(n?n.indexOf(t):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,l=c?c.length:t.children.length;let u=-1;const f=[];for(;++u<l;){const h=t.children[u],v={},_=c?c[u]:void 0;_&&(v.align=_);let k={type:"element",tagName:d,properties:v,children:[]};h&&(k.children=e.all(h),e.patch(h,k),k=e.applyData(h,k)),f.push(k)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function W9(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const nb=9,sb=32;function G9(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),o=0;const d=[];for(;n;)d.push(ib(t.slice(o,n.index),o>0,!0),n[0]),o=n.index+n[0].length,n=r.exec(t);return d.push(ib(t.slice(o),o>0,!1)),d.join("")}function ib(e,t,r){let n=0,o=e.length;if(t){let d=e.codePointAt(n);for(;d===nb||d===sb;)n++,d=e.codePointAt(n)}if(r){let d=e.codePointAt(o-1);for(;d===nb||d===sb;)o--,d=e.codePointAt(o-1)}return o>n?e.slice(n,o):""}function K9(e,t){const r={type:"text",value:G9(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function q9(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Y9={blockquote:C9,break:k9,code:j9,delete:N9,emphasis:E9,footnoteReference:P9,heading:T9,html:A9,imageReference:R9,image:M9,inlineCode:D9,linkReference:L9,link:I9,listItem:O9,list:F9,paragraph:z9,root:H9,strong:$9,table:V9,tableCell:W9,tableRow:U9,text:K9,thematicBreak:q9,toml:Jc,yaml:Jc,definition:Jc,footnoteDefinition:Jc};function Jc(){}const n2=-1,_d=0,Ya=1,Iu=2,Ig=3,Og=4,Bg=5,Fg=6,s2=7,i2=8,ob=typeof self=="object"?self:globalThis,X9=(e,t)=>{const r=(o,d)=>(e.set(d,o),o),n=o=>{if(e.has(o))return e.get(o);const[d,c]=t[o];switch(d){case _d:case n2:return r(c,o);case Ya:{const l=r([],o);for(const u of c)l.push(n(u));return l}case Iu:{const l=r({},o);for(const[u,f]of c)l[n(u)]=n(f);return l}case Ig:return r(new Date(c),o);case Og:{const{source:l,flags:u}=c;return r(new RegExp(l,u),o)}case Bg:{const l=r(new Map,o);for(const[u,f]of c)l.set(n(u),n(f));return l}case Fg:{const l=r(new Set,o);for(const u of c)l.add(n(u));return l}case s2:{const{name:l,message:u}=c;return r(new ob[l](u),o)}case i2:return r(BigInt(c),o);case"BigInt":return r(Object(BigInt(c)),o);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:l}=new Uint8Array(c);return r(new DataView(l),c)}}return r(new ob[d](c),o)};return n},ab=e=>X9(new Map,e)(0),go="",{toString:J9}={},{keys:Q9}=Object,Oa=e=>{const t=typeof e;if(t!=="object"||!e)return[_d,t];const r=J9.call(e).slice(8,-1);switch(r){case"Array":return[Ya,go];case"Object":return[Iu,go];case"Date":return[Ig,go];case"RegExp":return[Og,go];case"Map":return[Bg,go];case"Set":return[Fg,go];case"DataView":return[Ya,r]}return r.includes("Array")?[Ya,r]:r.includes("Error")?[s2,r]:[Iu,r]},Qc=([e,t])=>e===_d&&(t==="function"||t==="symbol"),Z9=(e,t,r,n)=>{const o=(c,l)=>{const u=n.push(c)-1;return r.set(l,u),u},d=c=>{if(r.has(c))return r.get(c);let[l,u]=Oa(c);switch(l){case _d:{let p=c;switch(u){case"bigint":l=i2,p=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return o([n2],c)}return o([l,p],c)}case Ya:{if(u){let v=c;return u==="DataView"?v=new Uint8Array(c.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(c)),o([u,[...v]],c)}const p=[],h=o([l,p],c);for(const v of c)p.push(d(v));return h}case Iu:{if(u)switch(u){case"BigInt":return o([u,c.toString()],c);case"Boolean":case"Number":case"String":return o([u,c.valueOf()],c)}if(t&&"toJSON"in c)return d(c.toJSON());const p=[],h=o([l,p],c);for(const v of Q9(c))(e||!Qc(Oa(c[v])))&&p.push([d(v),d(c[v])]);return h}case Ig:return o([l,c.toISOString()],c);case Og:{const{source:p,flags:h}=c;return o([l,{source:p,flags:h}],c)}case Bg:{const p=[],h=o([l,p],c);for(const[v,_]of c)(e||!(Qc(Oa(v))||Qc(Oa(_))))&&p.push([d(v),d(_)]);return h}case Fg:{const p=[],h=o([l,p],c);for(const v of c)(e||!Qc(Oa(v)))&&p.push(d(v));return h}}const{message:f}=c;return o([l,{name:u,message:f}],c)};return d},lb=(e,{json:t,lossy:r}={})=>{const n=[];return Z9(!(t||r),!!t,new Map,n)(e),n},Ou=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ab(lb(e,t)):structuredClone(e):(e,t)=>ab(lb(e,t));function ez(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function tz(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rz(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||ez,n=e.options.footnoteBackLabel||tz,o=e.options.footnoteLabel||"Footnotes",d=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[u]);if(!f)continue;const p=e.all(f),h=String(f.identifier).toUpperCase(),v=qo(h.toLowerCase());let _=0;const k=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++_<=w;){k.length>0&&k.push({type:"text",value:" "});let g=typeof r=="string"?r:r(u,_);typeof g=="string"&&(g={type:"text",value:g}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,_),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const x=p[p.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const g=x.children[x.children.length-1];g&&g.type==="text"?g.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...k)}else p.push(...k);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(f,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...Ou(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const o2=(function(e){if(e==null)return oz;if(typeof e=="function")return bd(e);if(typeof e=="object")return Array.isArray(e)?nz(e):sz(e);if(typeof e=="string")return iz(e);throw new Error("Expected function, string, or object as test")});function nz(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=o2(e[r]);return bd(n);function n(...o){let d=-1;for(;++d<t.length;)if(t[d].apply(this,o))return!0;return!1}}function sz(e){const t=e;return bd(r);function r(n){const o=n;let d;for(d in e)if(o[d]!==t[d])return!1;return!0}}function iz(e){return bd(t);function t(r){return r&&r.type===e}}function bd(e){return t;function t(r,n,o){return!!(az(r)&&e.call(this,r,typeof n=="number"?n:void 0,o||void 0))}}function oz(){return!0}function az(e){return e!==null&&typeof e=="object"&&"type"in e}const a2=[],lz=!0,cb=!1,cz="skip";function uz(e,t,r,n){let o;typeof t=="function"&&typeof r!="function"?(n=r,r=t):o=t;const d=o2(o),c=n?-1:1;l(e,void 0,[])();function l(u,f,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const _=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=a2,k,w,x;if((!t||d(u,f,p[p.length-1]||void 0))&&(_=dz(r(u,p)),_[0]===cb))return _;if("children"in u&&u.children){const y=u;if(y.children&&_[0]!==cz)for(w=(n?y.children.length:-1)+c,x=p.concat(y);w>-1&&w<y.children.length;){const g=y.children[w];if(k=l(g,w,x)(),k[0]===cb)return k;w=typeof k[1]=="number"?k[1]:w+c}}return _}}}function dz(e){return Array.isArray(e)?e:typeof e=="number"?[lz,e]:e==null?a2:[e]}function l2(e,t,r,n){let o,d,c;typeof t=="function"&&typeof r!="function"?(d=void 0,c=t,o=r):(d=t,c=r,o=n),uz(e,d,l,o);function l(u,f){const p=f[f.length-1],h=p?p.children.indexOf(u):void 0;return c(u,h,p)}}const $p={}.hasOwnProperty,hz={};function fz(e,t){const r=t||hz,n=new Map,o=new Map,d=new Map,c={...Y9,...r.handlers},l={all:f,applyData:mz,definitionById:n,footnoteById:o,footnoteCounts:d,footnoteOrder:[],handlers:c,one:u,options:r,patch:pz,wrap:vz};return l2(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?n:o,v=String(p.identifier).toUpperCase();h.has(v)||h.set(v,p)}}),l;function u(p,h){const v=p.type,_=l.handlers[v];if($p.call(l.handlers,v)&&_)return _(l,p,h);if(l.options.passThrough&&l.options.passThrough.includes(v)){if("children"in p){const{children:w,...x}=p,y=Ou(x);return y.children=l.all(p),y}return Ou(p)}return(l.options.unknownHandler||gz)(l,p,h)}function f(p){const h=[];if("children"in p){const v=p.children;let _=-1;for(;++_<v.length;){const k=l.one(v[_],p);if(k){if(_&&v[_-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=ub(k.value)),!Array.isArray(k)&&k.type==="element")){const w=k.children[0];w&&w.type==="text"&&(w.value=ub(w.value))}Array.isArray(k)?h.push(...k):h.push(k)}}}return h}}function pz(e,t){e.position&&(t.position=JF(e))}function mz(e,t){let r=t;if(e&&e.data){const n=e.data.hName,o=e.data.hChildren,d=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const c="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:c}}r.type==="element"&&d&&Object.assign(r.properties,Ou(d)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function gz(e,t){const r=t.data||{},n="value"in t&&!($p.call(r,"hProperties")||$p.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vz(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function ub(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function db(e,t){const r=fz(e,t),n=r.one(e,void 0),o=rz(r),d=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return o&&d.children.push({type:"text",value:`
`},o),d}function xz(e,t){return e&&"run"in e?async function(r,n){const o=db(r,{file:n,...t});await e.run(o,n)}:function(r,n){return db(r,{file:n,...e||t})}}function hb(e){if(e)throw e}var Hf,fb;function yz(){if(fb)return Hf;fb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},d=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),h=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!h)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},c=function(f,p){r&&p.name==="__proto__"?r(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},l=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(n)return n(f,p).value}else return;return f[p]};return Hf=function u(){var f,p,h,v,_,k,w=arguments[0],x=1,y=arguments.length,g=!1;for(typeof w=="boolean"&&(g=w,w=arguments[1]||{},x=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});x<y;++x)if(f=arguments[x],f!=null)for(p in f)h=l(w,p),v=l(f,p),w!==v&&(g&&v&&(d(v)||(_=o(v)))?(_?(_=!1,k=h&&o(h)?h:[]):k=h&&d(h)?h:{},c(w,{name:p,newValue:u(g,k,v)})):typeof v<"u"&&c(w,{name:p,newValue:v}));return w},Hf}var _z=yz();const $f=ul(_z);function Vp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bz(){const e=[],t={run:r,use:n};return t;function r(...o){let d=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);l(null,...o);function l(u,...f){const p=e[++d];let h=-1;if(u){c(u);return}for(;++h<o.length;)(f[h]===null||f[h]===void 0)&&(f[h]=o[h]);o=f,p?wz(p,l)(...f):c(null,...f)}}function n(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function wz(e,t){let r;return n;function n(...c){const l=e.length>c.length;let u;l&&c.push(o);try{u=e.apply(this,c)}catch(f){const p=f;if(l&&r)throw p;return o(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(d,o):u instanceof Error?o(u):d(u))}function o(c,...l){r||(r=!0,t(c,...l))}function d(c){o(null,c)}}const Ln={basename:Sz,dirname:Cz,extname:kz,join:jz,sep:"/"};function Sz(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Tl(e);let r=0,n=-1,o=e.length,d;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(d){r=o+1;break}}else n<0&&(d=!0,n=o+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let c=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(d){r=o+1;break}}else c<0&&(d=!0,c=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(n=o):(l=-1,n=c));return r===n?n=c:n<0&&(n=e.length),e.slice(r,n)}function Cz(e){if(Tl(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function kz(e){Tl(e);let t=e.length,r=-1,n=0,o=-1,d=0,c;for(;t--;){const l=e.codePointAt(t);if(l===47){if(c){n=t+1;break}continue}r<0&&(c=!0,r=t+1),l===46?o<0?o=t:d!==1&&(d=1):o>-1&&(d=-1)}return o<0||r<0||d===0||d===1&&o===r-1&&o===n+1?"":e.slice(o,r)}function jz(...e){let t=-1,r;for(;++t<e.length;)Tl(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Nz(r)}function Nz(e){Tl(e);const t=e.codePointAt(0)===47;let r=Ez(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Ez(e,t){let r="",n=0,o=-1,d=0,c=-1,l,u;for(;++c<=e.length;){if(c<e.length)l=e.codePointAt(c);else{if(l===47)break;l=47}if(l===47){if(!(o===c-1||d===1))if(o!==c-1&&d===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),o=c,d=0;continue}}else if(r.length>0){r="",n=0,o=c,d=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),n=c-o-1;o=c,d=0}else l===46&&d>-1?d++:d=-1}return r}function Tl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Pz={cwd:Tz};function Tz(){return"/"}function Up(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Az(e){if(typeof e=="string")e=new URL(e);else if(!Up(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Rz(e)}function Rz(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Vf=["history","path","basename","stem","extname","dirname"];class c2{constructor(t){let r;t?Up(t)?r={path:t}:typeof t=="string"||Mz(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Pz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Vf.length;){const d=Vf[n];d in r&&r[d]!==void 0&&r[d]!==null&&(this[d]=d==="history"?[...r[d]]:r[d])}let o;for(o in r)Vf.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?Ln.basename(this.path):void 0}set basename(t){Wf(t,"basename"),Uf(t,"basename"),this.path=Ln.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ln.dirname(this.path):void 0}set dirname(t){pb(this.basename,"dirname"),this.path=Ln.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ln.extname(this.path):void 0}set extname(t){if(Uf(t,"extname"),pb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ln.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Up(t)&&(t=Az(t)),Wf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ln.basename(this.path,this.extname):void 0}set stem(t){Wf(t,"stem"),Uf(t,"stem"),this.path=Ln.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const o=this.message(t,r,n);throw o.fatal=!0,o}info(t,r,n){const o=this.message(t,r,n);return o.fatal=void 0,o}message(t,r,n){const o=new kr(t,r,n);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Uf(e,t){if(e&&e.includes(Ln.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ln.sep+"`")}function Wf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function pb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Mz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dz=(function(e){const n=this.constructor.prototype,o=n[e],d=function(){return o.apply(d,arguments)};return Object.setPrototypeOf(d,n),d}),Lz={}.hasOwnProperty;class zg extends Dz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bz()}copy(){const t=new zg;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data($f(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(qf("data",this.frozen),this.namespace[t]=r,this):Lz.call(this.namespace,t)&&this.namespace[t]||void 0:t?(qf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const o=r.call(t,...n);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Zc(t),n=this.parser||this.Parser;return Gf("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Gf("process",this.parser||this.Parser),Kf("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(d,c){const l=Zc(t),u=n.parse(l);n.run(u,l,function(p,h,v){if(p||!h||!v)return f(p);const _=h,k=n.stringify(_,v);Bz(k)?v.value=k:v.result=k,f(p,v)});function f(p,h){p||!h?c(p):d?d(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),Gf("processSync",this.parser||this.Parser),Kf("processSync",this.compiler||this.Compiler),this.process(t,o),gb("processSync","process",r),n;function o(d,c){r=!0,hb(d),n=c}}run(t,r,n){mb(t),this.freeze();const o=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?d(void 0,n):new Promise(d);function d(c,l){const u=Zc(r);o.run(t,u,f);function f(p,h,v){const _=h||t;p?l(p):c?c(_):n(void 0,_,v)}}}runSync(t,r){let n=!1,o;return this.run(t,r,d),gb("runSync","run",n),o;function d(c,l){hb(c),o=l,n=!0}}stringify(t,r){this.freeze();const n=Zc(r),o=this.compiler||this.Compiler;return Kf("stringify",o),mb(t),o(t,n)}use(t,...r){const n=this.attachers,o=this.namespace;if(qf("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function d(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...h]=f;u(p,h)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=$f(!0,o.settings,f.settings))}function l(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const h=f[p];d(h)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,p){let h=-1,v=-1;for(;++h<n.length;)if(n[h][0]===f){v=h;break}if(v===-1)n.push([f,...p]);else if(p.length>0){let[_,...k]=p;const w=n[v][1];Vp(w)&&Vp(_)&&(_=$f(!0,w,_)),n[v]=[f,_,...k]}}}}const Iz=new zg().freeze();function Gf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Kf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function qf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mb(e){if(!Vp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gb(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zc(e){return Oz(e)?e:new c2(e)}function Oz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Bz(e){return typeof e=="string"||Fz(e)}function Fz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vb=[],xb={allowDangerousHtml:!0},Hz=/^(https?|ircs?|mailto|xmpp)$/i,$z=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vz(e){const t=Uz(e),r=Wz(e);return Gz(t.runSync(t.parse(r),r),e)}function Uz(e){const t=e.rehypePlugins||vb,r=e.remarkPlugins||vb,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xb}:xb;return Iz().use(S9).use(r).use(xz,n).use(t)}function Wz(e){const t=e.children||"",r=new c2;return typeof t=="string"&&(r.value=t),r}function Gz(e,t){const r=t.allowedElements,n=t.allowElement,o=t.components,d=t.disallowedElements,c=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||Kz;for(const p of $z)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+zz+p.id,void 0);return l2(e,f),r8(e,{Fragment:i.Fragment,components:o,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function f(p,h,v){if(p.type==="raw"&&v&&typeof h=="number")return c?v.children.splice(h,1):v.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let _;for(_ in Bf)if(Object.hasOwn(Bf,_)&&Object.hasOwn(p.properties,_)){const k=p.properties[_],w=Bf[_];(w===null||w.includes(p.tagName))&&(p.properties[_]=u(String(k||""),_,p))}}if(p.type==="element"){let _=r?!r.includes(p.tagName):d?d.includes(p.tagName):!1;if(!_&&n&&typeof h=="number"&&(_=!n(p,h,v)),_&&v&&typeof h=="number")return l&&p.children?v.children.splice(h,1,...p.children):v.children.splice(h,1),h}}}function Kz(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||r!==-1&&t>r||n!==-1&&t>n||Hz.test(e.slice(0,t))?e:""}function qz(){var G,q;const[e,t]=C.useState(null),[r,n]=C.useState(""),[o,d]=C.useState({open:!1,field:null,type:"directory"}),[c,l]=C.useState(!0),[u,f]=C.useState(!1),[p,h]=C.useState(null),[v,_]=C.useState(!1),[k,w]=C.useState(null),[x,y]=C.useState([]),[g,b]=C.useState({open:!1,content:"",loading:!1});C.useEffect(()=>{F(),j(),T()},[]);const j=async()=>{try{const K=await we.checkVersion();h(K)}catch(K){console.error("Failed to load version info:",K)}},T=async()=>{try{const K=await we.getProject();w(K.dir),P(K.dir)}catch(K){console.error("Failed to load project info:",K)}},P=async K=>{if(K)try{const $=await we.getHiddenSubprojects(K);y($.hidden||[])}catch($){console.error("Failed to load hidden sub-projects:",$)}},E=async K=>{if(k)try{const $=await we.unhideSubproject(k,K);$.success?(ee.success("Sub-project unhidden"),P(k)):ee.error($.error||"Failed to unhide")}catch($){ee.error("Failed to unhide: "+$.message)}},N=async()=>{var K;if(!(p!=null&&p.updateAvailable)){ee.error("No update available");return}_(!0);try{const $=await we.performUpdate({updateMethod:p.updateMethod,sourcePath:p.sourcePath});$.success?($.updateMethod==="npm"?ee.success($.message||"Updated via npm! Restart the server to apply."):ee.success(`Updated! Files: ${((K=$.updated)==null?void 0:K.join(", "))||"all"}. Restart the server to apply.`),j()):ee.error("Update failed: "+$.error)}catch($){ee.error("Update failed: "+$.message)}finally{_(!1)}},L=async()=>{b(K=>({...K,open:!0,loading:!0}));try{const K=await we.getChangelog();K.success?b($=>({...$,content:K.content,loading:!1})):(ee.error("Failed to load changelog"),b($=>({...$,open:!1,loading:!1})))}catch(K){ee.error("Failed to load changelog: "+K.message),b($=>({...$,open:!1,loading:!1}))}},F=async()=>{try{l(!0);const K=await we.getConfig();t(K.config),n(K.path)}catch{ee.error("Failed to load settings")}finally{l(!1)}},B=async()=>{f(!0);try{await we.saveConfig(e),ee.success("Preferences saved!")}catch{ee.error("Failed to save preferences")}finally{f(!1)}},V=(K,$)=>{t(D=>({...D,[K]:$}))},U=(K,$,D)=>{t(M=>({...M,[K]:{...M[K],[$]:D}}))},X=async K=>{const $=(e==null?void 0:e.enabledTools)||["claude"];let D;if($.includes(K)){if($.length<=1){ee.error("At least one tool must be enabled");return}D=$.filter(O=>O!==K)}else D=[...$,K];const M={...e,enabledTools:D};t(M);try{await we.saveConfig(M),ee.success(`${K==="claude"?"Claude Code":K==="gemini"?"Gemini CLI":"Antigravity"} ${D.includes(K)?"enabled":"disabled"}`)}catch{t(e),ee.error("Failed to save preference")}};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:i.jsx(m1,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"claude-config Preferences"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool settings for this configuration manager"})]})]}),i.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",i.jsx("code",{className:"bg-muted px-2 py-0.5 rounded",children:r})]})}),i.jsxs(he,{onClick:B,disabled:u,children:[u?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Save"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(hr,{className:"w-4 h-4"}),"Directories"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"MCP Tools Directories"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Folders containing local MCP tool repositories for discovery"}),i.jsxs("div",{className:"space-y-2",children:[((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).map((K,$)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:K||"",onChange:D=>{const M=[...(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])];M[$]=D.target.value,V("toolsDirs",M),e!=null&&e.toolsDir&&t(O=>{const{toolsDir:W,...I}=O;return{...I,toolsDirs:M}})},placeholder:"~/mcp-tools",className:"font-mono flex-1"}),i.jsx(he,{variant:"outline",size:"icon",onClick:()=>d({open:!0,field:"toolsDirs",type:"directory",index:$}),title:"Browse...",children:i.jsx(Js,{className:"w-4 h-4"})}),i.jsx(he,{variant:"outline",size:"icon",onClick:()=>{const M=((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).filter((O,W)=>W!==$);t(O=>{const{toolsDir:W,...I}=O;return{...I,toolsDirs:M.length>0?M:void 0}})},title:"Remove",className:"text-destructive hover:text-destructive",children:i.jsx(Ti,{className:"w-4 h-4"})})]},$)),i.jsxs(he,{variant:"outline",size:"sm",onClick:()=>d({open:!0,field:"toolsDirs",type:"directory",index:-1}),className:"mt-2",children:[i.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Tools Folder"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Global Registry Path"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Path to the global MCP registry file"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:(e==null?void 0:e.registryPath)||"",onChange:K=>V("registryPath",K.target.value),placeholder:"~/.claude/registry.json",className:"font-mono flex-1"}),i.jsx(he,{variant:"outline",size:"icon",onClick:()=>d({open:!0,field:"registryPath",type:"file"}),title:"Browse...",children:i.jsx(Js,{className:"w-4 h-4"})})]})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(zo,{className:"w-4 h-4"}),"User Interface"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Port"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Port for the web UI server"}),i.jsx(ot,{type:"number",value:((G=e==null?void 0:e.ui)==null?void 0:G.port)||3333,onChange:K=>U("ui","port",parseInt(K.target.value)||3333),placeholder:"3333",className:"w-32"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Open Browser on Start"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically open browser when starting the UI"})]}),i.jsx(pt,{checked:((q=e==null?void 0:e.ui)==null?void 0:q.openBrowser)??!0,onCheckedChange:K=>U("ui","openBrowser",K)})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(z4,{className:"w-4 h-4"}),"AI Assistant"]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose which AI assistant to use for features like MCP creation and tool import."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${((e==null?void 0:e.aiAssistant)||"claude")==="claude"?"border-orange-500 bg-orange-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>V("aiAssistant","claude"),children:[i.jsx("input",{type:"radio",name:"aiAssistant",value:"claude",checked:((e==null?void 0:e.aiAssistant)||"claude")==="claude",onChange:()=>V("aiAssistant","claude"),className:"sr-only"}),i.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:i.jsx(Xt,{className:"w-4 h-4 text-orange-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Command: ",i.jsx("code",{className:"text-xs",children:"claude"})]})]}),((e==null?void 0:e.aiAssistant)||"claude")==="claude"&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"})]}),i.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${(e==null?void 0:e.aiAssistant)==="gemini"?"border-blue-500 bg-blue-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>V("aiAssistant","gemini"),children:[i.jsx("input",{type:"radio",name:"aiAssistant",value:"gemini",checked:(e==null?void 0:e.aiAssistant)==="gemini",onChange:()=>V("aiAssistant","gemini"),className:"sr-only"}),i.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:i.jsx(Ft,{className:"w-4 h-4 text-blue-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI coding assistant  Command: ",i.jsx("code",{className:"text-xs",children:"gemini"})]})]}),(e==null?void 0:e.aiAssistant)==="gemini"&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(c5,{className:"w-4 h-4"}),"Enabled AI Tools"]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Select which AI coding tools to generate MCP configurations for. The Apply button will update all enabled tools."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:i.jsx(Xt,{className:"w-4 h-4 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Output: ",i.jsx("code",{className:"text-xs",children:".mcp.json"})]})]})]}),i.jsx(pt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("claude"),onCheckedChange:()=>X("claude")})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:i.jsx(Xt,{className:"w-4 h-4 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's terminal AI coding assistant  Output: ",i.jsx("code",{className:"text-xs",children:"~/.gemini/settings.json"})]})]})]}),i.jsx(pt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("gemini"),onCheckedChange:()=>X("gemini")})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/10 flex items-center justify-center",children:i.jsx(Xt,{className:"w-4 h-4 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Antigravity"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI IDE  Output: ",i.jsx("code",{className:"text-xs",children:"~/.gemini/antigravity/mcp_config.json"})]})]})]}),i.jsx(pt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("antigravity"),onCheckedChange:()=>X("antigravity")})]}),i.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Note: Antigravity does not support environment variable interpolation (",i.jsx("code",{children:"${VAR}"}),"). Variables are resolved to actual values when generating its config."]})]})]}),x.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(o1,{className:"w-4 h-4"}),"Hidden Sub-projects"]}),i.jsx("div",{className:"space-y-2",children:x.map(K=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(hr,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:K.name}),i.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:K.dir.replace(k+"/","")})]})]}),i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>E(K.dir),className:"h-7",children:[i.jsx(a1,{className:"w-3 h-3 mr-1"}),"Unhide"]})]},K.dir))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4"}),"About"]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Installed Version"}),i.jsx("span",{className:"font-medium font-mono text-foreground",children:(p==null?void 0:p.installedVersion)||"Loading..."})]}),(p==null?void 0:p.updateAvailable)&&i.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Update Available!"}),i.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Version ",p.latestVersion," via ",p.updateMethod==="npm"?"npm":p.sourcePath]})]}),i.jsxs(he,{size:"sm",onClick:N,disabled:v,className:"bg-green-600 hover:bg-green-700 text-white",children:[v?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(gl,{className:"w-4 h-4 mr-2"}),"Update Now"]})]})}),!(p!=null&&p.updateAvailable)&&(p==null?void 0:p.latestVersion)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Latest Version"}),i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[p.latestVersion," "]})]}),(p==null?void 0:p.sourcePath)&&!(p!=null&&p.updateAvailable)&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Dev Source"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"text-xs text-muted-foreground",children:p.sourcePath}),i.jsx(he,{size:"sm",variant:"outline",onClick:N,disabled:v,className:"h-7",children:v?i.jsx(dt,{className:"w-3 h-3 animate-spin"}):i.jsx(fr,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Install Location"}),i.jsx("code",{className:"text-xs text-muted-foreground",children:(p==null?void 0:p.installDir)||"~/.claude-config"})]}),i.jsxs("div",{className:"border-t border-border pt-3 mt-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Documentation"}),i.jsx("a",{href:"https://github.com/regression-io/claude-config",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GitHub"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"What's New"}),i.jsxs("button",{onClick:L,className:"text-primary hover:underline flex items-center gap-1",children:[i.jsx(Gy,{className:"w-3 h-3"}),"Changelog"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["After updating, restart the server with ",i.jsx("code",{className:"bg-muted-foreground/10 px-1 rounded",children:"claude-config ui"})]})]})]})]})]})]}),i.jsx(hg,{open:o.open,onOpenChange:K=>d($=>({...$,open:K})),onSelect:K=>{if(o.field==="toolsDirs"){const $=(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]);if(o.index===-1)t(D=>{const{toolsDir:M,...O}=D;return{...O,toolsDirs:[...$,K]}});else{const D=[...$];D[o.index]=K,t(M=>{const{toolsDir:O,...W}=M;return{...W,toolsDirs:D}})}}else o.field&&V(o.field,K)},type:o.type,initialPath:o.field==="toolsDirs"&&o.index>=0?((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]))[o.index]||"~":(e==null?void 0:e[o.field])||"~",title:o.type==="directory"?"Select Directory":"Select File"}),i.jsx(Dt,{open:g.open,onOpenChange:K=>b($=>({...$,open:K})),children:i.jsxs(Et,{className:"max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[i.jsx(Pt,{className:"flex-shrink-0",children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Gy,{className:"w-5 h-5"}),"Changelog"]})}),g.loading?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(dt,{className:"w-6 h-6 animate-spin text-primary"})}):i.jsx(hs,{className:"h-[60vh]",children:i.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none pr-4",children:i.jsx(Vz,{components:{h1:({children:K})=>i.jsx("h1",{className:"text-xl font-bold text-foreground mb-4",children:K}),h2:({children:K})=>i.jsx("h2",{className:"text-lg font-semibold text-foreground mt-6 mb-3 pb-2 border-b border-border",children:K}),h3:({children:K})=>i.jsx("h3",{className:"text-base font-medium text-foreground mt-4 mb-2",children:K}),p:({children:K})=>i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:K}),ul:({children:K})=>i.jsx("ul",{className:"text-sm text-muted-foreground list-disc pl-5 mb-3 space-y-1",children:K}),li:({children:K})=>i.jsx("li",{className:"text-sm",children:K}),code:({children:K})=>i.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:K}),hr:()=>i.jsx("hr",{className:"my-4 border-border"}),strong:({children:K})=>i.jsx("strong",{className:"font-semibold text-foreground",children:K})},children:g.content})})})]})})]})}function Yz(){const[e,t]=C.useState(null),[r,n]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await we.getClaudeSettings();t(c.settings)}catch(c){console.error("Failed to load Claude settings:",c)}finally{n(!1)}},d=async c=>{try{await we.saveClaudeSettings(c),t(c),ee.success("Claude Code settings saved!")}catch(l){ee.error("Failed to save settings: "+l.message)}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:i.jsx(wj,{settings:e,onSave:d,loading:r,settingsPath:"~/.claude/settings.json"})})})}function Xz(){const[e,t]=C.useState(null),[r,n]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await we.getGeminiSettings();t(c.settings)}catch(c){console.error("Failed to load Gemini settings:",c)}finally{n(!1)}},d=async c=>{try{await we.saveGeminiSettings(c),t(c),ee.success("Gemini CLI settings saved!")}catch(l){ee.error("Failed to save settings: "+l.message)}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-blue-600"})}):i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:i.jsx(Sj,{settings:e,onSave:d,loading:r,settingsPath:"~/.gemini/settings.json"})})})}var Yf={exports:{}},yb;function Jz(){return yb||(yb=1,(function(e,t){(function(r,n){e.exports=n()})(globalThis,(()=>(()=>{var r={4567:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,T){var P,E=arguments.length,N=E<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,j):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,j,T);else for(var L=g.length-1;L>=0;L--)(P=g[L])&&(N=(E<3?P(N):E>3?P(b,j,N):P(b,j))||N);return E>3&&N&&Object.defineProperty(b,j,N),N},p=this&&this.__param||function(g,b){return function(j,T){b(j,T,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=u(9042),v=u(9924),_=u(844),k=u(4725),w=u(2585),x=u(3656);let y=l.AccessibilityManager=class extends _.Disposable{constructor(g,b,j,T){super(),this._terminal=g,this._coreBrowserService=j,this._renderService=T,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let P=0;P<this._terminal.rows;P++)this._rowElements[P]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[P]);if(this._topBoundaryFocusListener=P=>this._handleBoundaryFocus(P,0),this._bottomBoundaryFocusListener=P=>this._handleBoundaryFocus(P,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new v.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((P=>this._handleResize(P.rows)))),this.register(this._terminal.onRender((P=>this._refreshRows(P.start,P.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((P=>this._handleChar(P)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((P=>this._handleTab(P)))),this.register(this._terminal.onKey((P=>this._handleKey(P.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,x.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,_.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(g){for(let b=0;b<g;b++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,b){this._liveRegionDebouncer.refresh(g,b,this._terminal.rows)}_renderRows(g,b){const j=this._terminal.buffer,T=j.lines.length.toString();for(let P=g;P<=b;P++){const E=j.lines.get(j.ydisp+P),N=[],L=(E==null?void 0:E.translateToString(!0,void 0,void 0,N))||"",F=(j.ydisp+P+1).toString(),B=this._rowElements[P];B&&(L.length===0?(B.innerText="",this._rowColumns.set(B,[0,1])):(B.textContent=L,this._rowColumns.set(B,N)),B.setAttribute("aria-posinset",F),B.setAttribute("aria-setsize",T))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,b){const j=g.target,T=this._rowElements[b===0?1:this._rowElements.length-2];if(j.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==T)return;let P,E;if(b===0?(P=j,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(P=this._rowElements.shift(),E=j,this._rowContainer.removeChild(P)),P.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const N=this._createAccessibilityTreeNode();this._rowElements.unshift(N),this._rowContainer.insertAdjacentElement("afterbegin",N)}else{const N=this._createAccessibilityTreeNode();this._rowElements.push(N),this._rowContainer.appendChild(N)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleSelectionChange(){var L;if(this._rowElements.length===0)return;const g=document.getSelection();if(!g)return;if(g.isCollapsed)return void(this._rowContainer.contains(g.anchorNode)&&this._terminal.clearSelection());if(!g.anchorNode||!g.focusNode)return void console.error("anchorNode and/or focusNode are null");let b={node:g.anchorNode,offset:g.anchorOffset},j={node:g.focusNode,offset:g.focusOffset};if((b.node.compareDocumentPosition(j.node)&Node.DOCUMENT_POSITION_PRECEDING||b.node===j.node&&b.offset>j.offset)&&([b,j]=[j,b]),b.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(b={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(b.node))return;const T=this._rowElements.slice(-1)[0];if(j.node.compareDocumentPosition(T)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(j={node:T,offset:((L=T.textContent)==null?void 0:L.length)??0}),!this._rowContainer.contains(j.node))return;const P=({node:F,offset:B})=>{const V=F instanceof Text?F.parentNode:F;let U=parseInt(V==null?void 0:V.getAttribute("aria-posinset"),10)-1;if(isNaN(U))return console.warn("row is invalid. Race condition?"),null;const X=this._rowColumns.get(V);if(!X)return console.warn("columns is null. Race condition?"),null;let G=B<X.length?X[B]:X.slice(-1)[0]+1;return G>=this._terminal.cols&&(++U,G=0),{row:U,column:G}},E=P(b),N=P(j);if(E&&N){if(E.row>N.row||E.row===N.row&&E.column>=N.column)throw new Error("invalid range");this._terminal.select(E.column,E.row,(N.row-E.row)*this._terminal.cols-E.column+N.column)}}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=this._coreBrowserService.mainDocument.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=y=f([p(1,w.IInstantiationService),p(2,k.ICoreBrowserService),p(3,k.IRenderService)],y)},3614:(c,l)=>{function u(v){return v.replace(/\r?\n/g,"\r")}function f(v,_){return _?"\x1B[200~"+v+"\x1B[201~":v}function p(v,_,k,w){v=f(v=u(v),k.decPrivateModes.bracketedPasteMode&&w.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(v,!0),_.value=""}function h(v,_,k){const w=k.getBoundingClientRect(),x=v.clientX-w.left-10,y=v.clientY-w.top-10;_.style.width="20px",_.style.height="20px",_.style.left=`${x}px`,_.style.top=`${y}px`,_.style.zIndex="1000",_.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=u,l.bracketTextForPaste=f,l.copyHandler=function(v,_){v.clipboardData&&v.clipboardData.setData("text/plain",_.selectionText),v.preventDefault()},l.handlePasteEvent=function(v,_,k,w){v.stopPropagation(),v.clipboardData&&p(v.clipboardData.getData("text/plain"),_,k,w)},l.paste=p,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(v,_,k,w,x){h(v,_,k),x&&w.rightClickSelect(v),_.value=w.selectionText,_.select()}},7239:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const f=u(1505);l.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(p,h,v){this._css.set(p,h,v)}getCss(p,h){return this._css.get(p,h)}setColor(p,h,v){this._color.set(p,h,v)}getColor(p,h){return this._color.get(p,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(u,f,p,h){u.addEventListener(f,p,h);let v=!1;return{dispose:()=>{v||(v=!0,u.removeEventListener(f,p,h))}}}},3551:function(c,l,u){var f=this&&this.__decorate||function(y,g,b,j){var T,P=arguments.length,E=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(y,g,b,j);else for(var N=y.length-1;N>=0;N--)(T=y[N])&&(E=(P<3?T(E):P>3?T(g,b,E):T(g,b))||E);return P>3&&E&&Object.defineProperty(g,b,E),E},p=this&&this.__param||function(y,g){return function(b,j){g(b,j,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier=void 0;const h=u(3656),v=u(8460),_=u(844),k=u(2585),w=u(4725);let x=l.Linkifier=class extends _.Disposable{get currentLink(){return this._currentLink}constructor(y,g,b,j,T){super(),this._element=y,this._mouseService=g,this._renderService=b,this._bufferService=j,this._linkProviderService=T,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,_.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,_.toDisposable)((()=>{var P;this._lastMouseEvent=void 0,(P=this._activeProviderReplies)==null||P.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(y){this._lastMouseEvent=y;const g=this._positionFromMouseEvent(y,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const b=y.composedPath();for(let j=0;j<b.length;j++){const T=b[j];if(T.classList.contains("xterm"))break;if(T.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(y){if(this._activeLine!==y.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(y,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,y)||(this._clearCurrentLink(),this._askForLink(y,!0))}_askForLink(y,g){var j,T;this._activeProviderReplies&&g||((j=this._activeProviderReplies)==null||j.forEach((P=>{P==null||P.forEach((E=>{E.link.dispose&&E.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=y.y);let b=!1;for(const[P,E]of this._linkProviderService.linkProviders.entries())g?(T=this._activeProviderReplies)!=null&&T.get(P)&&(b=this._checkLinkProviderResult(P,y,b)):E.provideLinks(y.y,(N=>{var F,B;if(this._isMouseOut)return;const L=N==null?void 0:N.map((V=>({link:V})));(F=this._activeProviderReplies)==null||F.set(P,L),b=this._checkLinkProviderResult(P,y,b),((B=this._activeProviderReplies)==null?void 0:B.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(y.y,this._activeProviderReplies)}))}_removeIntersectingLinks(y,g){const b=new Set;for(let j=0;j<g.size;j++){const T=g.get(j);if(T)for(let P=0;P<T.length;P++){const E=T[P],N=E.link.range.start.y<y?0:E.link.range.start.x,L=E.link.range.end.y>y?this._bufferService.cols:E.link.range.end.x;for(let F=N;F<=L;F++){if(b.has(F)){T.splice(P--,1);break}b.add(F)}}}}_checkLinkProviderResult(y,g,b){var P;if(!this._activeProviderReplies)return b;const j=this._activeProviderReplies.get(y);let T=!1;for(let E=0;E<y;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(T=!0);if(!T&&j){const E=j.find((N=>this._linkAtPosition(N.link,g)));E&&(b=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!b)for(let E=0;E<this._activeProviderReplies.size;E++){const N=(P=this._activeProviderReplies.get(E))==null?void 0:P.find((L=>this._linkAtPosition(L.link,g)));if(N){b=!0,this._handleNewLink(N);break}}return b}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(y){if(!this._currentLink)return;const g=this._positionFromMouseEvent(y,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(y,this._currentLink.link.text)}_clearCurrentLink(y,g){this._currentLink&&this._lastMouseEvent&&(!y||!g||this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))}_handleNewLink(y){if(!this._lastMouseEvent)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(y.link,g)&&(this._currentLink=y,this._currentLink.state={decorations:{underline:y.link.decorations===void 0||y.link.decorations.underline,pointerCursor:y.link.decorations===void 0||y.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,y.link,this._lastMouseEvent),y.link.decorations={},Object.defineProperties(y.link.decorations,{pointerCursor:{get:()=>{var b,j;return(j=(b=this._currentLink)==null?void 0:b.state)==null?void 0:j.decorations.pointerCursor},set:b=>{var j;(j=this._currentLink)!=null&&j.state&&this._currentLink.state.decorations.pointerCursor!==b&&(this._currentLink.state.decorations.pointerCursor=b,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",b))}},underline:{get:()=>{var b,j;return(j=(b=this._currentLink)==null?void 0:b.state)==null?void 0:j.decorations.underline},set:b=>{var j,T,P;(j=this._currentLink)!=null&&j.state&&((P=(T=this._currentLink)==null?void 0:T.state)==null?void 0:P.decorations.underline)!==b&&(this._currentLink.state.decorations.underline=b,this._currentLink.state.isHovered&&this._fireUnderlineEvent(y.link,b))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((b=>{if(!this._currentLink)return;const j=b.start===0?0:b.start+1+this._bufferService.buffer.ydisp,T=this._bufferService.buffer.ydisp+1+b.end;if(this._currentLink.link.range.start.y>=j&&this._currentLink.link.range.end.y<=T&&(this._clearCurrentLink(j,T),this._lastMouseEvent)){const P=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);P&&this._askForLink(P,!1)}}))))}_linkHover(y,g,b){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&y.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(b,g.text)}_fireUnderlineEvent(y,g){const b=y.range,j=this._bufferService.buffer.ydisp,T=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-j-1,b.end.x,b.end.y-j-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(T)}_linkLeave(y,g,b){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&y.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(b,g.text)}_linkAtPosition(y,g){const b=y.range.start.y*this._bufferService.cols+y.range.start.x,j=y.range.end.y*this._bufferService.cols+y.range.end.x,T=g.y*this._bufferService.cols+g.x;return b<=T&&T<=j}_positionFromMouseEvent(y,g,b){const j=b.getCoords(y,g,this._bufferService.cols,this._bufferService.rows);if(j)return{x:j[0],y:j[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(y,g,b,j,T){return{x1:y,y1:g,x2:b,y2:j,cols:this._bufferService.cols,fg:T}}};l.Linkifier=x=f([p(1,w.IMouseService),p(2,w.IRenderService),p(3,k.IBufferService),p(4,w.ILinkProviderService)],x)},9042:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(c,l,u){var f=this&&this.__decorate||function(w,x,y,g){var b,j=arguments.length,T=j<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(w,x,y,g);else for(var P=w.length-1;P>=0;P--)(b=w[P])&&(T=(j<3?b(T):j>3?b(x,y,T):b(x,y))||T);return j>3&&T&&Object.defineProperty(x,y,T),T},p=this&&this.__param||function(w,x){return function(y,g){x(y,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=u(511),v=u(2585);let _=l.OscLinkProvider=class{constructor(w,x,y){this._bufferService=w,this._optionsService=x,this._oscLinkService=y}provideLinks(w,x){var L;const y=this._bufferService.buffer.lines.get(w-1);if(!y)return void x(void 0);const g=[],b=this._optionsService.rawOptions.linkHandler,j=new h.CellData,T=y.getTrimmedLength();let P=-1,E=-1,N=!1;for(let F=0;F<T;F++)if(E!==-1||y.hasContent(F)){if(y.loadCell(F,j),j.hasExtendedAttrs()&&j.extended.urlId){if(E===-1){E=F,P=j.extended.urlId;continue}N=j.extended.urlId!==P}else E!==-1&&(N=!0);if(N||E!==-1&&F===T-1){const B=(L=this._oscLinkService.getLinkData(P))==null?void 0:L.uri;if(B){const V={start:{x:E+1,y:w},end:{x:F+(N||F!==T-1?0:1),y:w}};let U=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const X=new URL(B);["http:","https:"].includes(X.protocol)||(U=!0)}catch{U=!0}U||g.push({text:B,range:V,activate:(X,G)=>b?b.activate(X,G,V):k(0,G),hover:(X,G)=>{var q;return(q=b==null?void 0:b.hover)==null?void 0:q.call(b,X,G,V)},leave:(X,G)=>{var q;return(q=b==null?void 0:b.leave)==null?void 0:q.call(b,X,G,V)}})}N=!1,j.hasExtendedAttrs()&&j.extended.urlId?(E=F,P=j.extended.urlId):(E=-1,P=-1)}}x(g)}};function k(w,x){if(confirm(`Do you want to navigate to ${x}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=x}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=_=f([p(0,v.IBufferService),p(1,v.IOptionsService),p(2,v.IOscLinkService)],_)},6193:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(u,f){this._renderCallback=u,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(u,f,p){this._rowCount=p,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},3236:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const f=u(3614),p=u(3656),h=u(3551),v=u(9042),_=u(3730),k=u(1680),w=u(3107),x=u(5744),y=u(2950),g=u(1296),b=u(428),j=u(4269),T=u(5114),P=u(8934),E=u(3230),N=u(9312),L=u(4725),F=u(6731),B=u(8055),V=u(8969),U=u(8460),X=u(844),G=u(6114),q=u(8437),K=u(2584),$=u(7399),D=u(5941),M=u(9074),O=u(2585),W=u(5435),I=u(4567),re=u(779);class de extends V.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(Y={}){super(Y),this.browser=G,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new X.MutableDisposable),this._onCursorMove=this.register(new U.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new U.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new U.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new U.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new U.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new U.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new U.EventEmitter),this._onBlur=this.register(new U.EventEmitter),this._onA11yCharEmitter=this.register(new U.EventEmitter),this._onA11yTabEmitter=this.register(new U.EventEmitter),this._onWillOpen=this.register(new U.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(L.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(_.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((z,oe)=>this.refresh(z,oe)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((z=>this._reportWindowsOptions(z)))),this.register(this._inputHandler.onColor((z=>this._handleColorEvent(z)))),this.register((0,U.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,U.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,U.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,U.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((z=>this._afterResize(z.cols,z.rows)))),this.register((0,X.toDisposable)((()=>{var z,oe;this._customKeyEventHandler=void 0,(oe=(z=this.element)==null?void 0:z.parentNode)==null||oe.removeChild(this.element)})))}_handleColorEvent(Y){if(this._themeService)for(const z of Y){let oe,ne="";switch(z.index){case 256:oe="foreground",ne="10";break;case 257:oe="background",ne="11";break;case 258:oe="cursor",ne="12";break;default:oe="ansi",ne="4;"+z.index}switch(z.type){case 0:const Q=B.color.toColorRGB(oe==="ansi"?this._themeService.colors.ansi[z.index]:this._themeService.colors[oe]);this.coreService.triggerDataEvent(`${K.C0.ESC}]${ne};${(0,D.toRgbString)(Q)}${K.C1_ESCAPED.ST}`);break;case 1:if(oe==="ansi")this._themeService.modifyColors((ie=>ie.ansi[z.index]=B.channels.toColor(...z.color)));else{const ie=oe;this._themeService.modifyColors((ye=>ye[ie]=B.channels.toColor(...z.color)))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Y){Y?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(I.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(Y){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var Y;return(Y=this.textarea)==null?void 0:Y.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const Y=this.buffer.ybase+this.buffer.y,z=this.buffer.lines.get(Y);if(!z)return;const oe=Math.min(this.buffer.x,this.cols-1),ne=this._renderService.dimensions.css.cell.height,Q=z.getWidth(oe),ie=this._renderService.dimensions.css.cell.width*Q,ye=this.buffer.y*this._renderService.dimensions.css.cell.height,ae=oe*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ae+"px",this.textarea.style.top=ye+"px",this.textarea.style.width=ie+"px",this.textarea.style.height=ne+"px",this.textarea.style.lineHeight=ne+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,p.addDisposableDomListener)(this.element,"copy",(z=>{this.hasSelection()&&(0,f.copyHandler)(z,this._selectionService)})));const Y=z=>(0,f.handlePasteEvent)(z,this.textarea,this.coreService,this.optionsService);this.register((0,p.addDisposableDomListener)(this.textarea,"paste",Y)),this.register((0,p.addDisposableDomListener)(this.element,"paste",Y)),G.isFirefox?this.register((0,p.addDisposableDomListener)(this.element,"mousedown",(z=>{z.button===2&&(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,p.addDisposableDomListener)(this.element,"contextmenu",(z=>{(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),G.isLinux&&this.register((0,p.addDisposableDomListener)(this.element,"auxclick",(z=>{z.button===1&&(0,f.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,p.addDisposableDomListener)(this.textarea,"keyup",(Y=>this._keyUp(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keydown",(Y=>this._keyDown(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keypress",(Y=>this._keyPress(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionupdate",(Y=>this._compositionHelper.compositionupdate(Y)))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,p.addDisposableDomListener)(this.textarea,"input",(Y=>this._inputEvent(Y)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(Y){var oe;if(!Y)throw new Error("Terminal requires a parent element.");if(Y.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((oe=this.element)==null?void 0:oe.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=Y.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Y.appendChild(this.element);const z=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),z.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,p.addDisposableDomListener)(this.screenElement,"mousemove",(ne=>this.updateCursorStyle(ne)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),z.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),G.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(T.CoreBrowserService,this.textarea,Y.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(L.ICoreBrowserService,this._coreBrowserService),this.register((0,p.addDisposableDomListener)(this.textarea,"focus",(ne=>this._handleTextAreaFocus(ne)))),this.register((0,p.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(b.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(L.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(F.ThemeService),this._instantiationService.setService(L.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(j.CharacterJoinerService),this._instantiationService.setService(L.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(L.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ne=>this._onRender.fire(ne)))),this.onResize((ne=>this._renderService.resize(ne.cols,ne.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(L.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(z);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(N.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(L.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ne=>this._renderService.handleSelectionChanged(ne.start,ne.end,ne.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ne=>{this.textarea.value=ne,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ne=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(w.BufferDecorationRenderer,this.screenElement)),this.register((0,p.addDisposableDomListener)(this.element,"mousedown",(ne=>this._selectionService.handleMouseDown(ne)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(I.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ne=>this._handleScreenReaderModeOptionChange(ne)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(x.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ne=>{!this._overviewRulerRenderer&&ne&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(x.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const Y=this,z=this.element;function oe(ie){const ye=Y._mouseService.getMouseReportCoords(ie,Y.screenElement);if(!ye)return!1;let ae,Se;switch(ie.overrideType||ie.type){case"mousemove":Se=32,ie.buttons===void 0?(ae=3,ie.button!==void 0&&(ae=ie.button<3?ie.button:3)):ae=1&ie.buttons?0:4&ie.buttons?1:2&ie.buttons?2:3;break;case"mouseup":Se=0,ae=ie.button<3?ie.button:3;break;case"mousedown":Se=1,ae=ie.button<3?ie.button:3;break;case"wheel":if(Y._customWheelEventHandler&&Y._customWheelEventHandler(ie)===!1||Y.viewport.getLinesScrolled(ie)===0)return!1;Se=ie.deltaY<0?0:1,ae=4;break;default:return!1}return!(Se===void 0||ae===void 0||ae>4)&&Y.coreMouseService.triggerMouseEvent({col:ye.col,row:ye.row,x:ye.x,y:ye.y,button:ae,action:Se,ctrl:ie.ctrlKey,alt:ie.altKey,shift:ie.shiftKey})}const ne={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:ie=>(oe(ie),ie.buttons||(this._document.removeEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.removeEventListener("mousemove",ne.mousedrag)),this.cancel(ie)),wheel:ie=>(oe(ie),this.cancel(ie,!0)),mousedrag:ie=>{ie.buttons&&oe(ie)},mousemove:ie=>{ie.buttons||oe(ie)}};this.register(this.coreMouseService.onProtocolChange((ie=>{ie?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ie)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ie?ne.mousemove||(z.addEventListener("mousemove",Q.mousemove),ne.mousemove=Q.mousemove):(z.removeEventListener("mousemove",ne.mousemove),ne.mousemove=null),16&ie?ne.wheel||(z.addEventListener("wheel",Q.wheel,{passive:!1}),ne.wheel=Q.wheel):(z.removeEventListener("wheel",ne.wheel),ne.wheel=null),2&ie?ne.mouseup||(ne.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",ne.mouseup),ne.mouseup=null),4&ie?ne.mousedrag||(ne.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",ne.mousedrag),ne.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,p.addDisposableDomListener)(z,"mousedown",(ie=>{if(ie.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ie))return oe(ie),ne.mouseup&&this._document.addEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.addEventListener("mousemove",ne.mousedrag),this.cancel(ie)}))),this.register((0,p.addDisposableDomListener)(z,"wheel",(ie=>{if(!ne.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(ie)===!1)return!1;if(!this.buffer.hasScrollback){const ye=this.viewport.getLinesScrolled(ie);if(ye===0)return;const ae=K.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ie.deltaY<0?"A":"B");let Se="";for(let Me=0;Me<Math.abs(ye);Me++)Se+=ae;return this.coreService.triggerDataEvent(Se,!0),this.cancel(ie,!0)}return this.viewport.handleWheel(ie)?this.cancel(ie):void 0}}),{passive:!1})),this.register((0,p.addDisposableDomListener)(z,"touchstart",(ie=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ie),this.cancel(ie)}),{passive:!0})),this.register((0,p.addDisposableDomListener)(z,"touchmove",(ie=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ie)?void 0:this.cancel(ie)}),{passive:!1}))}refresh(Y,z){var oe;(oe=this._renderService)==null||oe.refreshRows(Y,z)}updateCursorStyle(Y){var z;(z=this._selectionService)!=null&&z.shouldColumnSelect(Y)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Y,z,oe=0){var ne;oe===1?(super.scrollLines(Y,z,oe),this.refresh(0,this.rows-1)):(ne=this.viewport)==null||ne.scrollLines(Y)}paste(Y){(0,f.paste)(Y,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(Y){this._customKeyEventHandler=Y}attachCustomWheelEventHandler(Y){this._customWheelEventHandler=Y}registerLinkProvider(Y){return this._linkProviderService.registerLinkProvider(Y)}registerCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(Y);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Y)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(Y){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Y)}registerDecoration(Y){return this._decorationService.registerDecoration(Y)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Y,z,oe){this._selectionService.setSelection(Y,z,oe)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var Y;(Y=this._selectionService)==null||Y.clearSelection()}selectAll(){var Y;(Y=this._selectionService)==null||Y.selectAll()}selectLines(Y,z){var oe;(oe=this._selectionService)==null||oe.selectLines(Y,z)}_keyDown(Y){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1)return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&Y.altKey;if(!z&&!this._compositionHelper.keydown(Y))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;z||Y.key!=="Dead"&&Y.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const oe=(0,$.evaluateKeyboardEvent)(Y,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Y),oe.type===3||oe.type===2){const ne=this.rows-1;return this.scrollLines(oe.type===2?-ne:ne),this.cancel(Y,!0)}return oe.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Y)||(oe.cancel&&this.cancel(Y,!0),!oe.key||!!(Y.key&&!Y.ctrlKey&&!Y.altKey&&!Y.metaKey&&Y.key.length===1&&Y.key.charCodeAt(0)>=65&&Y.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(oe.key!==K.C0.ETX&&oe.key!==K.C0.CR||(this.textarea.value=""),this._onKey.fire({key:oe.key,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(oe.key,!0),!this.optionsService.rawOptions.screenReaderMode||Y.altKey||Y.ctrlKey?this.cancel(Y,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Y,z){const oe=Y.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||Y.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||Y.isWindows&&z.getModifierState("AltGraph");return z.type==="keypress"?oe:oe&&(!z.keyCode||z.keyCode>47)}_keyUp(Y){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1||((function(z){return z.keyCode===16||z.keyCode===17||z.keyCode===18})(Y)||this.focus(),this.updateCursorStyle(Y),this._keyPressHandled=!1)}_keyPress(Y){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1)return!1;if(this.cancel(Y),Y.charCode)z=Y.charCode;else if(Y.which===null||Y.which===void 0)z=Y.keyCode;else{if(Y.which===0||Y.charCode===0)return!1;z=Y.which}return!(!z||(Y.altKey||Y.ctrlKey||Y.metaKey)&&!this._isThirdLevelShift(this.browser,Y)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Y){if(Y.data&&Y.inputType==="insertText"&&(!Y.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const z=Y.data;return this.coreService.triggerDataEvent(z,!0),this.cancel(Y),!0}return!1}resize(Y,z){Y!==this.cols||z!==this.rows?super.resize(Y,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Y,z){var oe,ne;(oe=this._charSizeService)==null||oe.measure(),(ne=this.viewport)==null||ne.syncScrollArea(!0)}clear(){var Y;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let z=1;z<this.rows;z++)this.buffer.lines.push(this.buffer.getBlankLine(q.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(Y=this.viewport)==null||Y.reset(),this.refresh(0,this.rows-1)}}reset(){var z,oe;this.options.rows=this.rows,this.options.cols=this.cols;const Y=this._customKeyEventHandler;this._setup(),super.reset(),(z=this._selectionService)==null||z.reset(),this._decorationService.reset(),(oe=this.viewport)==null||oe.reset(),this._customKeyEventHandler=Y,this.refresh(0,this.rows-1)}clearTextureAtlas(){var Y;(Y=this._renderService)==null||Y.clearTextureAtlas()}_reportFocus(){var Y;(Y=this.element)!=null&&Y.classList.contains("focus")?this.coreService.triggerDataEvent(K.C0.ESC+"[I"):this.coreService.triggerDataEvent(K.C0.ESC+"[O")}_reportWindowsOptions(Y){if(this._renderService)switch(Y){case W.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),oe=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${K.C0.ESC}[4;${oe};${z}t`);break;case W.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ne=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${K.C0.ESC}[6;${Q};${ne}t`)}}cancel(Y,z){if(this.options.cancelEvents||z)return Y.preventDefault(),Y.stopPropagation(),!1}}l.Terminal=de},9924:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(u,f=1e3){this._renderCallback=u,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,f,p){this._rowCount=p,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=h-this._lastRefreshMs,_=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),_)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f)}}},1680:function(c,l,u){var f=this&&this.__decorate||function(y,g,b,j){var T,P=arguments.length,E=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(y,g,b,j);else for(var N=y.length-1;N>=0;N--)(T=y[N])&&(E=(P<3?T(E):P>3?T(g,b,E):T(g,b))||E);return P>3&&E&&Object.defineProperty(g,b,E),E},p=this&&this.__param||function(y,g){return function(b,j){g(b,j,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=u(3656),v=u(4725),_=u(8460),k=u(844),w=u(2585);let x=l.Viewport=class extends k.Disposable{constructor(y,g,b,j,T,P,E,N){super(),this._viewportElement=y,this._scrollArea=g,this._bufferService=b,this._optionsService=j,this._charSizeService=T,this._renderService=P,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((L=>this._activeBuffer=L.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((L=>this._renderDimensions=L))),this._handleThemeChange(N.colors),this.register(N.onChangeColors((L=>this._handleThemeChange(L)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,g){const b=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&b<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const g=this._getPixelsScrolled(y);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(y,g))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let g=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(y,g){var N;let b,j="";const T=[],P=g??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let L=y;L<P;L++){const F=E.get(L);if(!F)continue;const B=(N=E.get(L+1))==null?void 0:N.isWrapped;if(j+=F.translateToString(!B),!B||L===E.length-1){const V=document.createElement("div");V.textContent=j,T.push(V),j.length>0&&(b=V),j=""}}return{bufferElements:T,cursorElement:b}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let g=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(y,g){const b=this._optionsService.rawOptions.fastScrollModifier;return b==="alt"&&g.altKey||b==="ctrl"&&g.ctrlKey||b==="shift"&&g.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const g=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(y,g))}};l.Viewport=x=f([p(2,w.IBufferService),p(3,w.IOptionsService),p(4,v.ICharSizeService),p(5,v.IRenderService),p(6,v.ICoreBrowserService),p(7,v.IThemeService)],x)},3107:function(c,l,u){var f=this&&this.__decorate||function(w,x,y,g){var b,j=arguments.length,T=j<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(w,x,y,g);else for(var P=w.length-1;P>=0;P--)(b=w[P])&&(T=(j<3?b(T):j>3?b(x,y,T):b(x,y))||T);return j>3&&T&&Object.defineProperty(x,y,T),T},p=this&&this.__param||function(w,x){return function(y,g){x(y,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=u(4725),v=u(844),_=u(2585);let k=l.BufferDecorationRenderer=class extends v.Disposable{constructor(w,x,y,g,b){super(),this._screenElement=w,this._bufferService=x,this._coreBrowserService=y,this._decorationService=g,this._renderService=b,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((j=>this._removeDecoration(j)))),this.register((0,v.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const w of this._decorationService.decorations)this._renderDecoration(w);this._dimensionsChanged=!1}_renderDecoration(w){this._refreshStyle(w),this._dimensionsChanged&&this._refreshXPosition(w)}_createElement(w){var g;const x=this._coreBrowserService.mainDocument.createElement("div");x.classList.add("xterm-decoration"),x.classList.toggle("xterm-decoration-top-layer",((g=w==null?void 0:w.options)==null?void 0:g.layer)==="top"),x.style.width=`${Math.round((w.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,x.style.height=(w.options.height||1)*this._renderService.dimensions.css.cell.height+"px",x.style.top=(w.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",x.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=w.options.x??0;return y&&y>this._bufferService.cols&&(x.style.display="none"),this._refreshXPosition(w,x),x}_refreshStyle(w){const x=w.marker.line-this._bufferService.buffers.active.ydisp;if(x<0||x>=this._bufferService.rows)w.element&&(w.element.style.display="none",w.onRenderEmitter.fire(w.element));else{let y=this._decorationElements.get(w);y||(y=this._createElement(w),w.element=y,this._decorationElements.set(w,y),this._container.appendChild(y),w.onDispose((()=>{this._decorationElements.delete(w),y.remove()}))),y.style.top=x*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",w.onRenderEmitter.fire(y)}}_refreshXPosition(w,x=w.element){if(!x)return;const y=w.options.x??0;(w.options.anchor||"left")==="right"?x.style.right=y?y*this._renderService.dimensions.css.cell.width+"px":"":x.style.left=y?y*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(w){var x;(x=this._decorationElements.get(w))==null||x.remove(),this._decorationElements.delete(w),w.dispose()}};l.BufferDecorationRenderer=k=f([p(1,_.IBufferService),p(2,h.ICoreBrowserService),p(3,_.IDecorationService),p(4,h.IRenderService)],k)},5871:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const f of this._zones)if(f.color===u.options.overviewRulerOptions.color&&f.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,u.marker.line))return;if(this._lineAdjacentToZone(f,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(f,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,f){return f>=u.startBufferLine&&f<=u.endBufferLine}_lineAdjacentToZone(u,f,p){return f>=u.startBufferLine-this._linePadding[p||"full"]&&f<=u.endBufferLine+this._linePadding[p||"full"]}_addLineToZone(u,f){u.startBufferLine=Math.min(u.startBufferLine,f),u.endBufferLine=Math.max(u.endBufferLine,f)}}},5744:function(c,l,u){var f=this&&this.__decorate||function(b,j,T,P){var E,N=arguments.length,L=N<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(b,j,T,P);else for(var F=b.length-1;F>=0;F--)(E=b[F])&&(L=(N<3?E(L):N>3?E(j,T,L):E(j,T))||L);return N>3&&L&&Object.defineProperty(j,T,L),L},p=this&&this.__param||function(b,j){return function(T,P){j(T,P,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=u(5871),v=u(4725),_=u(844),k=u(2585),w={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let g=l.OverviewRulerRenderer=class extends _.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,j,T,P,E,N,L){var B;super(),this._viewportElement=b,this._screenElement=j,this._bufferService=T,this._decorationService=P,this._renderService=E,this._optionsService=N,this._coreBrowserService=L,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(B=this._viewportElement.parentElement)==null||B.insertBefore(this._canvas,this._viewportElement);const F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,_.toDisposable)((()=>{var V;(V=this._canvas)==null||V.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),j=Math.ceil(this._canvas.width/3);x.full=this._canvas.width,x.left=b,x.center=j,x.right=b,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=x.left,y.right=x.left+x.center}_refreshDrawHeightConstants(){w.full=Math.round(2*this._coreBrowserService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,j=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowserService.dpr);w.left=j,w.center=j,w.right=j}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const j of this._decorationService.decorations)this._colorZoneStore.addDecoration(j);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const j of b)j.position!=="full"&&this._renderColorZone(j);for(const j of b)j.position==="full"&&this._renderColorZone(j);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(y[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-w[b.position||"full"]/2),x[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+w[b.position||"full"]))}_queueRefresh(b,j){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=j||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};l.OverviewRulerRenderer=g=f([p(2,k.IBufferService),p(3,k.IDecorationService),p(4,v.IRenderService),p(5,k.IOptionsService),p(6,v.ICoreBrowserService)],g)},2950:function(c,l,u){var f=this&&this.__decorate||function(w,x,y,g){var b,j=arguments.length,T=j<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,y):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(w,x,y,g);else for(var P=w.length-1;P>=0;P--)(b=w[P])&&(T=(j<3?b(T):j>3?b(x,y,T):b(x,y))||T);return j>3&&T&&Object.defineProperty(x,y,T),T},p=this&&this.__param||function(w,x){return function(y,g){x(y,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=u(4725),v=u(2585),_=u(2584);let k=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(w,x,y,g,b,j){this._textarea=w,this._compositionView=x,this._bufferService=y,this._optionsService=g,this._coreService=b,this._renderService=j,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(w){this._compositionView.textContent=w.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(w){if(this._isComposing||this._isSendingComposition){if(w.keyCode===229||w.keyCode===16||w.keyCode===17||w.keyCode===18)return!1;this._finalizeComposition(!1)}return w.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(w){if(this._compositionView.classList.remove("active"),this._isComposing=!1,w){const x={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,x.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(x.start,x.end):this._textarea.value.substring(x.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}}),0)}else{this._isSendingComposition=!1;const x=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(x,!0)}}_handleAnyTextareaChanges(){const w=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const x=this._textarea.value,y=x.replace(w,"");this._dataAlreadySent=y,x.length>w.length?this._coreService.triggerDataEvent(y,!0):x.length<w.length?this._coreService.triggerDataEvent(`${_.C0.DEL}`,!0):x.length===w.length&&x!==w&&this._coreService.triggerDataEvent(x,!0)}}),0)}updateCompositionElements(w){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const x=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,b=x*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=b+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const j=this._compositionView.getBoundingClientRect();this._textarea.style.left=b+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(j.width,1)+"px",this._textarea.style.height=Math.max(j.height,1)+"px",this._textarea.style.lineHeight=j.height+"px"}w||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};l.CompositionHelper=k=f([p(2,v.IBufferService),p(3,v.IOptionsService),p(4,v.ICoreService),p(5,h.IRenderService)],k)},9806:(c,l)=>{function u(f,p,h){const v=h.getBoundingClientRect(),_=f.getComputedStyle(h),k=parseInt(_.getPropertyValue("padding-left")),w=parseInt(_.getPropertyValue("padding-top"));return[p.clientX-v.left-k,p.clientY-v.top-w]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=u,l.getCoords=function(f,p,h,v,_,k,w,x,y){if(!k)return;const g=u(f,p,h);return g?(g[0]=Math.ceil((g[0]+(y?w/2:0))/w),g[1]=Math.ceil(g[1]/x),g[0]=Math.min(Math.max(g[0],1),v+(y?1:0)),g[1]=Math.min(Math.max(g[1],1),_),g):void 0}},9504:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const f=u(2584);function p(x,y,g,b){const j=x-h(x,g),T=y-h(y,g),P=Math.abs(j-T)-(function(E,N,L){let F=0;const B=E-h(E,L),V=N-h(N,L);for(let U=0;U<Math.abs(B-V);U++){const X=v(E,N)==="A"?-1:1,G=L.buffer.lines.get(B+X*U);G!=null&&G.isWrapped&&F++}return F})(x,y,g);return w(P,k(v(x,y),b))}function h(x,y){let g=0,b=y.buffer.lines.get(x),j=b==null?void 0:b.isWrapped;for(;j&&x>=0&&x<y.rows;)g++,b=y.buffer.lines.get(--x),j=b==null?void 0:b.isWrapped;return g}function v(x,y){return x>y?"A":"B"}function _(x,y,g,b,j,T){let P=x,E=y,N="";for(;P!==g||E!==b;)P+=j?1:-1,j&&P>T.cols-1?(N+=T.buffer.translateBufferLineToString(E,!1,x,P),P=0,x=0,E++):!j&&P<0&&(N+=T.buffer.translateBufferLineToString(E,!1,0,x+1),P=T.cols-1,x=P,E--);return N+T.buffer.translateBufferLineToString(E,!1,x,P)}function k(x,y){const g=y?"O":"[";return f.C0.ESC+g+x}function w(x,y){x=Math.floor(x);let g="";for(let b=0;b<x;b++)g+=y;return g}l.moveToCellSequence=function(x,y,g,b){const j=g.buffer.x,T=g.buffer.y;if(!g.buffer.hasScrollback)return(function(N,L,F,B,V,U){return p(L,B,V,U).length===0?"":w(_(N,L,N,L-h(L,V),!1,V).length,k("D",U))})(j,T,0,y,g,b)+p(T,y,g,b)+(function(N,L,F,B,V,U){let X;X=p(L,B,V,U).length>0?B-h(B,V):L;const G=B,q=(function(K,$,D,M,O,W){let I;return I=p(D,M,O,W).length>0?M-h(M,O):$,K<D&&I<=M||K>=D&&I<M?"C":"D"})(N,L,F,B,V,U);return w(_(N,X,F,G,q==="C",V).length,k(q,U))})(j,T,x,y,g,b);let P;if(T===y)return P=j>x?"D":"C",w(Math.abs(j-x),k(P,b));P=T>y?"D":"C";const E=Math.abs(T-y);return w((function(N,L){return L.cols-N})(T>y?x:j,g)+(E-1)*g.cols+1+((T>y?j:x)-1),k(P,b))}},1296:function(c,l,u){var f=this&&this.__decorate||function(U,X,G,q){var K,$=arguments.length,D=$<3?X:q===null?q=Object.getOwnPropertyDescriptor(X,G):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(U,X,G,q);else for(var M=U.length-1;M>=0;M--)(K=U[M])&&(D=($<3?K(D):$>3?K(X,G,D):K(X,G))||D);return $>3&&D&&Object.defineProperty(X,G,D),D},p=this&&this.__param||function(U,X){return function(G,q){X(G,q,U)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=u(3787),v=u(2550),_=u(2223),k=u(6171),w=u(6052),x=u(4725),y=u(8055),g=u(8460),b=u(844),j=u(2585),T="xterm-dom-renderer-owner-",P="xterm-rows",E="xterm-fg-",N="xterm-bg-",L="xterm-focus",F="xterm-selection";let B=1,V=l.DomRenderer=class extends b.Disposable{constructor(U,X,G,q,K,$,D,M,O,W,I,re,de){super(),this._terminal=U,this._document=X,this._element=G,this._screenElement=q,this._viewportElement=K,this._helperContainer=$,this._linkifier2=D,this._charSizeService=O,this._optionsService=W,this._bufferService=I,this._coreBrowserService=re,this._themeService=de,this._terminalClass=B++,this._rowElements=[],this._selectionRenderModel=(0,w.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(P),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(F),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((me=>this._injectCss(me)))),this._injectCss(this._themeService.colors),this._rowFactory=M.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(T+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((me=>this._handleLinkHover(me)))),this.register(this._linkifier2.onHideLinkUnderline((me=>this._handleLinkLeave(me)))),this.register((0,b.toDisposable)((()=>{this._element.classList.remove(T+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new v.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const U=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*U,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*U),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/U),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/U),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const G of this._rowElements)G.style.width=`${this.dimensions.css.canvas.width}px`,G.style.height=`${this.dimensions.css.cell.height}px`,G.style.lineHeight=`${this.dimensions.css.cell.height}px`,G.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const X=`${this._terminalSelector} .${P} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=X,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(U){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let X=`${this._terminalSelector} .${P} { color: ${U.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;X+=`${this._terminalSelector} .${P} .xterm-dim { color: ${y.color.multiplyOpacity(U.foreground,.5).css};}`,X+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const G=`blink_underline_${this._terminalClass}`,q=`blink_bar_${this._terminalClass}`,K=`blink_block_${this._terminalClass}`;X+=`@keyframes ${G} { 50% {  border-bottom-style: hidden; }}`,X+=`@keyframes ${q} { 50% {  box-shadow: none; }}`,X+=`@keyframes ${K} { 0% {  background-color: ${U.cursor.css};  color: ${U.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${U.cursor.css}; }}`,X+=`${this._terminalSelector} .${P}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${P}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${q} 1s step-end infinite;}${this._terminalSelector} .${P}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block { background-color: ${U.cursor.css}; color: ${U.cursorAccent.css};}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${U.cursor.css} !important; color: ${U.cursorAccent.css} !important;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${U.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${U.cursor.css} inset;}${this._terminalSelector} .${P} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${U.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,X+=`${this._terminalSelector} .${F} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${F} div { position: absolute; background-color: ${U.selectionBackgroundOpaque.css};}${this._terminalSelector} .${F} div { position: absolute; background-color: ${U.selectionInactiveBackgroundOpaque.css};}`;for(const[$,D]of U.ansi.entries())X+=`${this._terminalSelector} .${E}${$} { color: ${D.css}; }${this._terminalSelector} .${E}${$}.xterm-dim { color: ${y.color.multiplyOpacity(D,.5).css}; }${this._terminalSelector} .${N}${$} { background-color: ${D.css}; }`;X+=`${this._terminalSelector} .${E}${_.INVERTED_DEFAULT_COLOR} { color: ${y.color.opaque(U.background).css}; }${this._terminalSelector} .${E}${_.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${y.color.multiplyOpacity(y.color.opaque(U.background),.5).css}; }${this._terminalSelector} .${N}${_.INVERTED_DEFAULT_COLOR} { background-color: ${U.foreground.css}; }`,this._themeStyleElement.textContent=X}_setDefaultSpacing(){const U=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${U}px`,this._rowFactory.defaultSpacing=U}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(U,X){for(let G=this._rowElements.length;G<=X;G++){const q=this._document.createElement("div");this._rowContainer.appendChild(q),this._rowElements.push(q)}for(;this._rowElements.length>X;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(U,X){this._refreshRowElements(U,X),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(L),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(L),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(U,X,G){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(U,X,G),this.renderRows(0,this._bufferService.rows-1),!U||!X)return;this._selectionRenderModel.update(this._terminal,U,X,G);const q=this._selectionRenderModel.viewportStartRow,K=this._selectionRenderModel.viewportEndRow,$=this._selectionRenderModel.viewportCappedStartRow,D=this._selectionRenderModel.viewportCappedEndRow;if($>=this._bufferService.rows||D<0)return;const M=this._document.createDocumentFragment();if(G){const O=U[0]>X[0];M.appendChild(this._createSelectionElement($,O?X[0]:U[0],O?U[0]:X[0],D-$+1))}else{const O=q===$?U[0]:0,W=$===K?X[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement($,O,W));const I=D-$-1;if(M.appendChild(this._createSelectionElement($+1,0,this._bufferService.cols,I)),$!==D){const re=K===D?X[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(D,0,re))}}this._selectionContainer.appendChild(M)}_createSelectionElement(U,X,G,q=1){const K=this._document.createElement("div"),$=X*this.dimensions.css.cell.width;let D=this.dimensions.css.cell.width*(G-X);return $+D>this.dimensions.css.canvas.width&&(D=this.dimensions.css.canvas.width-$),K.style.height=q*this.dimensions.css.cell.height+"px",K.style.top=U*this.dimensions.css.cell.height+"px",K.style.left=`${$}px`,K.style.width=`${D}px`,K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const U of this._rowElements)U.replaceChildren()}renderRows(U,X){const G=this._bufferService.buffer,q=G.ybase+G.y,K=Math.min(G.x,this._bufferService.cols-1),$=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=U;O<=X;O++){const W=O+G.ydisp,I=this._rowElements[O],re=G.lines.get(W);if(!I||!re)break;I.replaceChildren(...this._rowFactory.createRow(re,W,W===q,D,M,K,$,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${T}${this._terminalClass}`}_handleLinkHover(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!0)}_handleLinkLeave(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!1)}_setCellUnderline(U,X,G,q,K,$){G<0&&(U=0),q<0&&(X=0);const D=this._bufferService.rows-1;G=Math.max(Math.min(G,D),0),q=Math.max(Math.min(q,D),0),K=Math.min(K,this._bufferService.cols);const M=this._bufferService.buffer,O=M.ybase+M.y,W=Math.min(M.x,K-1),I=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,de=this._optionsService.rawOptions.cursorInactiveStyle;for(let me=G;me<=q;++me){const Y=me+M.ydisp,z=this._rowElements[me],oe=M.lines.get(Y);if(!z||!oe)break;z.replaceChildren(...this._rowFactory.createRow(oe,Y,Y===O,re,de,W,I,this.dimensions.css.cell.width,this._widthCache,$?me===G?U:0:-1,$?(me===q?X:K)-1:-1))}}};l.DomRenderer=V=f([p(7,j.IInstantiationService),p(8,x.ICharSizeService),p(9,j.IOptionsService),p(10,j.IBufferService),p(11,x.ICoreBrowserService),p(12,x.IThemeService)],V)},3787:function(c,l,u){var f=this&&this.__decorate||function(P,E,N,L){var F,B=arguments.length,V=B<3?E:L===null?L=Object.getOwnPropertyDescriptor(E,N):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(P,E,N,L);else for(var U=P.length-1;U>=0;U--)(F=P[U])&&(V=(B<3?F(V):B>3?F(E,N,V):F(E,N))||V);return B>3&&V&&Object.defineProperty(E,N,V),V},p=this&&this.__param||function(P,E){return function(N,L){E(N,L,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=u(2223),v=u(643),_=u(511),k=u(2585),w=u(8055),x=u(4725),y=u(4269),g=u(6171),b=u(3734);let j=l.DomRendererRowFactory=class{constructor(P,E,N,L,F,B,V){this._document=P,this._characterJoinerService=E,this._optionsService=N,this._coreBrowserService=L,this._coreService=F,this._decorationService=B,this._themeService=V,this._workCell=new _.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(P,E,N){this._selectionStart=P,this._selectionEnd=E,this._columnSelectMode=N}createRow(P,E,N,L,F,B,V,U,X,G,q){const K=[],$=this._characterJoinerService.getJoinedCharacters(E),D=this._themeService.colors;let M,O=P.getNoBgTrimmedLength();N&&O<B+1&&(O=B+1);let W=0,I="",re=0,de=0,me=0,Y=!1,z=0,oe=!1,ne=0;const Q=[],ie=G!==-1&&q!==-1;for(let ye=0;ye<O;ye++){P.loadCell(ye,this._workCell);let ae=this._workCell.getWidth();if(ae===0)continue;let Se=!1,Me=ye,ke=this._workCell;if($.length>0&&ye===$[0][0]){Se=!0;const Ve=$.shift();ke=new y.JoinedCellData(this._workCell,P.translateToString(!0,Ve[0],Ve[1]),Ve[1]-Ve[0]),Me=Ve[1]-1,ae=ke.getWidth()}const Ne=this._isCellInSelection(ye,E),Te=N&&ye===B,Ue=ie&&ye>=G&&ye<=q;let Ye=!1;this._decorationService.forEachDecorationAtCell(ye,E,void 0,(Ve=>{Ye=!0}));let et=ke.getChars()||v.WHITESPACE_CELL_CHAR;if(et===" "&&(ke.isUnderline()||ke.isOverline())&&(et=""),ne=ae*U-X.get(et,ke.isBold(),ke.isItalic()),M){if(W&&(Ne&&oe||!Ne&&!oe&&ke.bg===re)&&(Ne&&oe&&D.selectionForeground||ke.fg===de)&&ke.extended.ext===me&&Ue===Y&&ne===z&&!Te&&!Se&&!Ye){ke.isInvisible()?I+=v.WHITESPACE_CELL_CHAR:I+=et,W++;continue}W&&(M.textContent=I),M=this._document.createElement("span"),W=0,I=""}else M=this._document.createElement("span");if(re=ke.bg,de=ke.fg,me=ke.extended.ext,Y=Ue,z=ne,oe=Ne,Se&&B>=ye&&B<=Me&&(B=ye),!this._coreService.isCursorHidden&&Te&&this._coreService.isCursorInitialized){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)V&&Q.push("xterm-cursor-blink"),Q.push(L==="bar"?"xterm-cursor-bar":L==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(F)switch(F){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(ke.isBold()&&Q.push("xterm-bold"),ke.isItalic()&&Q.push("xterm-italic"),ke.isDim()&&Q.push("xterm-dim"),I=ke.isInvisible()?v.WHITESPACE_CELL_CHAR:ke.getChars()||v.WHITESPACE_CELL_CHAR,ke.isUnderline()&&(Q.push(`xterm-underline-${ke.extended.underlineStyle}`),I===" "&&(I=""),!ke.isUnderlineColorDefault()))if(ke.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${b.AttributeData.toColorRGB(ke.getUnderlineColor()).join(",")})`;else{let Ve=ke.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ke.isBold()&&Ve<8&&(Ve+=8),M.style.textDecorationColor=D.ansi[Ve].css}ke.isOverline()&&(Q.push("xterm-overline"),I===" "&&(I="")),ke.isStrikethrough()&&Q.push("xterm-strikethrough"),Ue&&(M.style.textDecoration="underline");let it=ke.getFgColor(),ir=ke.getFgColorMode(),At=ke.getBgColor(),ge=ke.getBgColorMode();const ce=!!ke.isInverse();if(ce){const Ve=it;it=At,At=Ve;const at=ir;ir=ge,ge=at}let ve,J,pe,Ie=!1;switch(this._decorationService.forEachDecorationAtCell(ye,E,void 0,(Ve=>{Ve.options.layer!=="top"&&Ie||(Ve.backgroundColorRGB&&(ge=50331648,At=Ve.backgroundColorRGB.rgba>>8&16777215,ve=Ve.backgroundColorRGB),Ve.foregroundColorRGB&&(ir=50331648,it=Ve.foregroundColorRGB.rgba>>8&16777215,J=Ve.foregroundColorRGB),Ie=Ve.options.layer==="top")})),!Ie&&Ne&&(ve=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,At=ve.rgba>>8&16777215,ge=50331648,Ie=!0,D.selectionForeground&&(ir=50331648,it=D.selectionForeground.rgba>>8&16777215,J=D.selectionForeground)),Ie&&Q.push("xterm-decoration-top"),ge){case 16777216:case 33554432:pe=D.ansi[At],Q.push(`xterm-bg-${At}`);break;case 50331648:pe=w.channels.toColor(At>>16,At>>8&255,255&At),this._addStyle(M,`background-color:#${T((At>>>0).toString(16),"0",6)}`);break;default:ce?(pe=D.foreground,Q.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):pe=D.background}switch(ve||ke.isDim()&&(ve=w.color.multiplyOpacity(pe,.5)),ir){case 16777216:case 33554432:ke.isBold()&&it<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(it+=8),this._applyMinimumContrast(M,pe,D.ansi[it],ke,ve,void 0)||Q.push(`xterm-fg-${it}`);break;case 50331648:const Ve=w.channels.toColor(it>>16&255,it>>8&255,255&it);this._applyMinimumContrast(M,pe,Ve,ke,ve,J)||this._addStyle(M,`color:#${T(it.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,pe,D.foreground,ke,ve,J)||ce&&Q.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Q.length&&(M.className=Q.join(" "),Q.length=0),Te||Se||Ye?M.textContent=I:W++,ne!==this.defaultSpacing&&(M.style.letterSpacing=`${ne}px`),K.push(M),ye=Me}return M&&W&&(M.textContent=I),K}_applyMinimumContrast(P,E,N,L,F,B){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.treatGlyphAsBackgroundColor)(L.getCode()))return!1;const V=this._getContrastCache(L);let U;if(F||B||(U=V.getColor(E.rgba,N.rgba)),U===void 0){const X=this._optionsService.rawOptions.minimumContrastRatio/(L.isDim()?2:1);U=w.color.ensureContrastRatio(F||E,B||N,X),V.setColor((F||E).rgba,(B||N).rgba,U??null)}return!!U&&(this._addStyle(P,`color:${U.css}`),!0)}_getContrastCache(P){return P.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(P,E){P.setAttribute("style",`${P.getAttribute("style")||""}${E};`)}_isCellInSelection(P,E){const N=this._selectionStart,L=this._selectionEnd;return!(!N||!L)&&(this._columnSelectMode?N[0]<=L[0]?P>=N[0]&&E>=N[1]&&P<L[0]&&E<=L[1]:P<N[0]&&E>=N[1]&&P>=L[0]&&E<=L[1]:E>N[1]&&E<L[1]||N[1]===L[1]&&E===N[1]&&P>=N[0]&&P<L[0]||N[1]<L[1]&&E===L[1]&&P<L[0]||N[1]<L[1]&&E===N[1]&&P>=N[0])}};function T(P,E,N){for(;P.length<N;)P=E+P;return P}l.DomRendererRowFactory=j=f([p(1,x.ICharacterJoinerService),p(2,k.IOptionsService),p(3,x.ICoreBrowserService),p(4,k.ICoreService),p(5,k.IDecorationService),p(6,x.IThemeService)],j)},2550:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(u,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=u.createElement("span");p.classList.add("xterm-char-measure-element");const h=u.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const v=u.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontStyle="italic";const _=u.createElement("span");_.classList.add("xterm-char-measure-element"),_.style.fontWeight="bold",_.style.fontStyle="italic",this._measureElements=[p,h,v,_],this._container.appendChild(p),this._container.appendChild(h),this._container.appendChild(v),this._container.appendChild(_),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,f,p,h){u===this._font&&f===this._fontSize&&p===this._weight&&h===this._weightBold||(this._font=u,this._fontSize=f,this._weight=p,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${p}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${p}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(u,f,p){let h=0;if(!f&&!p&&u.length===1&&(h=u.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const k=this._measure(u,0);return k>0&&(this._flat[h]=k),k}let v=u;f&&(v+="B"),p&&(v+="I");let _=this._holey.get(v);if(_===void 0){let k=0;f&&(k|=1),p&&(k|=2),_=this._measure(u,k),_>0&&this._holey.set(v,_)}return _}_measure(u,f){const p=this._measureElements[f];return p.textContent=u.repeat(32),p.offsetWidth/32}}},2223:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const f=u(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(c,l)=>{function u(p){return 57508<=p&&p<=57558}function f(p){return p>=128512&&p<=128591||p>=127744&&p<=128511||p>=128640&&p<=128767||p>=9728&&p<=9983||p>=9984&&p<=10175||p>=65024&&p<=65039||p>=129280&&p<=129535||p>=127462&&p<=127487}Object.defineProperty(l,"__esModule",{value:!0}),l.computeNextVariantOffset=l.createRenderDimensions=l.treatGlyphAsBackgroundColor=l.allowRescaling=l.isEmoji=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},l.isPowerlineGlyph=u,l.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},l.isEmoji=f,l.allowRescaling=function(p,h,v,_){return h===1&&v>Math.ceil(1.5*_)&&p!==void 0&&p>255&&!f(p)&&!u(p)&&!(function(k){return 57344<=k&&k<=63743})(p)},l.treatGlyphAsBackgroundColor=function(p){return u(p)||(function(h){return 9472<=h&&h<=9631})(p)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},l.computeNextVariantOffset=function(p,h,v=0){return(p-(2*Math.round(h)-v))%(2*Math.round(h))}},6052:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createSelectionRenderModel=void 0;class u{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(p,h,v,_=!1){if(this.selectionStart=h,this.selectionEnd=v,!h||!v||h[0]===v[0]&&h[1]===v[1])return void this.clear();const k=p.buffers.active.ydisp,w=h[1]-k,x=v[1]-k,y=Math.max(w,0),g=Math.min(x,p.rows-1);y>=p.rows||g<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=_,this.viewportStartRow=w,this.viewportEndRow=x,this.viewportCappedStartRow=y,this.viewportCappedEndRow=g,this.startCol=h[0],this.endCol=v[0])}isCellSelected(p,h,v){return!!this.hasSelection&&(v-=p.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&v>=this.viewportCappedStartRow&&h<this.endCol&&v<=this.viewportCappedEndRow:h<this.startCol&&v>=this.viewportCappedStartRow&&h>=this.endCol&&v<=this.viewportCappedEndRow:v>this.viewportStartRow&&v<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&v===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&v===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&v===this.viewportStartRow&&h>=this.startCol)}}l.createSelectionRenderModel=function(){return new u}},456:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,f=this.selectionEnd;return!(!u||!f)&&(u[1]>f[1]||u[1]===f[1]&&u[0]>f[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,T){var P,E=arguments.length,N=E<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,j):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,j,T);else for(var L=g.length-1;L>=0;L--)(P=g[L])&&(N=(E<3?P(N):E>3?P(b,j,N):P(b,j))||N);return E>3&&N&&Object.defineProperty(b,j,N),N},p=this&&this.__param||function(g,b){return function(j,T){b(j,T,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=u(2585),v=u(8460),_=u(844);let k=l.CharSizeService=class extends _.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,b,j){super(),this._optionsService=j,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new y(this._optionsService))}catch{this._measureStrategy=this.register(new x(g,b,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};l.CharSizeService=k=f([p(2,h.IOptionsService)],k);class w extends _.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(b,j){b!==void 0&&b>0&&j!==void 0&&j>0&&(this._result.width=b,this._result.height=j)}}class x extends w{constructor(b,j,T){super(),this._document=b,this._parentElement=j,this._optionsService=T,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class y extends w{constructor(b){super(),this._optionsService=b,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const j=this._ctx.measureText("W");if(!("width"in j&&"fontBoundingBoxAscent"in j&&"fontBoundingBoxDescent"in j))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const b=this._ctx.measureText("W");return this._validateAndSet(b.width,b.fontBoundingBoxAscent+b.fontBoundingBoxDescent),this._result}}},4269:function(c,l,u){var f=this&&this.__decorate||function(y,g,b,j){var T,P=arguments.length,E=P<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(y,g,b,j);else for(var N=y.length-1;N>=0;N--)(T=y[N])&&(E=(P<3?T(E):P>3?T(g,b,E):T(g,b))||E);return P>3&&E&&Object.defineProperty(g,b,E),E},p=this&&this.__param||function(y,g){return function(b,j){g(b,j,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=u(3734),v=u(643),_=u(511),k=u(2585);class w extends h.AttributeData{constructor(g,b,j){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=b,this._width=j}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=w;let x=l.CharacterJoinerService=class u2{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _.CellData}register(g){const b={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(b),b.id}deregister(g){for(let b=0;b<this._characterJoiners.length;b++)if(this._characterJoiners[b].id===g)return this._characterJoiners.splice(b,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const b=this._bufferService.buffer.lines.get(g);if(!b||b.length===0)return[];const j=[],T=b.translateToString(!0);let P=0,E=0,N=0,L=b.getFg(0),F=b.getBg(0);for(let B=0;B<b.getTrimmedLength();B++)if(b.loadCell(B,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==L||this._workCell.bg!==F){if(B-P>1){const V=this._getJoinedRanges(T,N,E,b,P);for(let U=0;U<V.length;U++)j.push(V[U])}P=B,N=E,L=this._workCell.fg,F=this._workCell.bg}E+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-P>1){const B=this._getJoinedRanges(T,N,E,b,P);for(let V=0;V<B.length;V++)j.push(B[V])}return j}_getJoinedRanges(g,b,j,T,P){const E=g.substring(b,j);let N=[];try{N=this._characterJoiners[0].handler(E)}catch(L){console.error(L)}for(let L=1;L<this._characterJoiners.length;L++)try{const F=this._characterJoiners[L].handler(E);for(let B=0;B<F.length;B++)u2._mergeRanges(N,F[B])}catch(F){console.error(F)}return this._stringRangesToCellRanges(N,T,P),N}_stringRangesToCellRanges(g,b,j){let T=0,P=!1,E=0,N=g[T];if(N){for(let L=j;L<this._bufferService.cols;L++){const F=b.getWidth(L),B=b.getString(L).length||v.WHITESPACE_CELL_CHAR.length;if(F!==0){if(!P&&N[0]<=E&&(N[0]=L,P=!0),N[1]<=E){if(N[1]=L,N=g[++T],!N)break;N[0]<=E?(N[0]=L,P=!0):P=!1}E+=B}}N&&(N[1]=this._bufferService.cols)}}static _mergeRanges(g,b){let j=!1;for(let T=0;T<g.length;T++){const P=g[T];if(j){if(b[1]<=P[0])return g[T-1][1]=b[1],g;if(b[1]<=P[1])return g[T-1][1]=Math.max(b[1],P[1]),g.splice(T,1),g;g.splice(T,1),T--}else{if(b[1]<=P[0])return g.splice(T,0,b),g;if(b[1]<=P[1])return P[0]=Math.min(b[0],P[0]),g;b[0]<P[1]&&(P[0]=Math.min(b[0],P[0]),j=!0)}}return j?g[g.length-1][1]=b[1]:g.push(b),g}};l.CharacterJoinerService=x=f([p(0,k.IBufferService)],x)},5114:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0;const f=u(844),p=u(8460),h=u(3656);class v extends f.Disposable{constructor(w,x,y){super(),this._textarea=w,this._window=x,this.mainDocument=y,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new _(this._window),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new p.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((g=>this._screenDprMonitor.setWindow(g)))),this.register((0,p.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(w){this._window!==w&&(this._window=w,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}l.CoreBrowserService=v;class _ extends f.Disposable{constructor(w){super(),this._parentWindow=w,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)((()=>this.clearListener())))}setWindow(w){this._parentWindow=w,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var w;this._outerListener&&((w=this._resolutionMediaMatchList)==null||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkProviderService=void 0;const f=u(844);class p extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(v){return this.linkProviders.push(v),{dispose:()=>{const _=this.linkProviders.indexOf(v);_!==-1&&this.linkProviders.splice(_,1)}}}}l.LinkProviderService=p},8934:function(c,l,u){var f=this&&this.__decorate||function(k,w,x,y){var g,b=arguments.length,j=b<3?w:y===null?y=Object.getOwnPropertyDescriptor(w,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(k,w,x,y);else for(var T=k.length-1;T>=0;T--)(g=k[T])&&(j=(b<3?g(j):b>3?g(w,x,j):g(w,x))||j);return b>3&&j&&Object.defineProperty(w,x,j),j},p=this&&this.__param||function(k,w){return function(x,y){w(x,y,k)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=u(4725),v=u(9806);let _=l.MouseService=class{constructor(k,w){this._renderService=k,this._charSizeService=w}getCoords(k,w,x,y,g){return(0,v.getCoords)(window,k,w,x,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(k,w){const x=(0,v.getCoordsRelativeToElement)(window,k,w);if(this._charSizeService.hasValidSize)return x[0]=Math.min(Math.max(x[0],0),this._renderService.dimensions.css.canvas.width-1),x[1]=Math.min(Math.max(x[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(x[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(x[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(x[0]),y:Math.floor(x[1])}}};l.MouseService=_=f([p(0,h.IRenderService),p(1,h.ICharSizeService)],_)},3230:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,T){var P,E=arguments.length,N=E<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,j):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,j,T);else for(var L=g.length-1;L>=0;L--)(P=g[L])&&(N=(E<3?P(N):E>3?P(b,j,N):P(b,j))||N);return E>3&&N&&Object.defineProperty(b,j,N),N},p=this&&this.__param||function(g,b){return function(j,T){b(j,T,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=u(6193),v=u(4725),_=u(8460),k=u(844),w=u(7226),x=u(2585);let y=l.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,b,j,T,P,E,N,L){super(),this._rowCount=g,this._charSizeService=T,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new w.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(((F,B)=>this._renderRows(F,B)),N),this.register(this._renderDebouncer),this.register(N.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(E.onResize((()=>this._fullRefresh()))),this.register(E.buffers.onBufferActivate((()=>{var F;return(F=this._renderer.value)==null?void 0:F.clear()}))),this.register(j.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(P.onDecorationRegistered((()=>this._fullRefresh()))),this.register(P.onDecorationRemoved((()=>this._fullRefresh()))),this.register(j.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()}))),this.register(j.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(E.buffer.y,E.buffer.y,!0)))),this.register(L.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(N.window,b),this.register(N.onWindowChange((F=>this._registerIntersectionObserver(F,b))))}_registerIntersectionObserver(g,b){if("IntersectionObserver"in g){const j=new g.IntersectionObserver((T=>this._handleIntersectionChange(T[T.length-1])),{threshold:0});j.observe(b),this._observerDisposable.value=(0,k.toDisposable)((()=>j.disconnect()))}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,b,j=!1){this._isPaused?this._needsFullRefresh=!0:(j||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,b,this._rowCount))}_renderRows(g,b){this._renderer.value&&(g=Math.min(g,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.value.renderRows(g,b),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:b}),this._onRender.fire({start:g,end:b}),this._isNextRenderRedrawOnly=!0)}resize(g,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value&&(this._renderer.value.onRequestRedraw((b=>this.refreshRows(b.start,b.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,b;this._renderer.value&&((b=(g=this._renderer.value).clearTextureAtlas)==null||b.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,b){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var j;return(j=this._renderer.value)==null?void 0:j.handleResize(g,b)})):this._renderer.value.handleResize(g,b),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)==null||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)==null||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)==null||g.handleFocus()}handleSelectionChanged(g,b,j){var T;this._selectionState.start=g,this._selectionState.end=b,this._selectionState.columnSelectMode=j,(T=this._renderer.value)==null||T.handleSelectionChanged(g,b,j)}handleCursorMove(){var g;(g=this._renderer.value)==null||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)==null||g.clear()}};l.RenderService=y=f([p(2,x.IOptionsService),p(3,v.ICharSizeService),p(4,x.IDecorationService),p(5,x.IBufferService),p(6,v.ICoreBrowserService),p(7,v.IThemeService)],y)},9312:function(c,l,u){var f=this&&this.__decorate||function(N,L,F,B){var V,U=arguments.length,X=U<3?L:B===null?B=Object.getOwnPropertyDescriptor(L,F):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(N,L,F,B);else for(var G=N.length-1;G>=0;G--)(V=N[G])&&(X=(U<3?V(X):U>3?V(L,F,X):V(L,F))||X);return U>3&&X&&Object.defineProperty(L,F,X),X},p=this&&this.__param||function(N,L){return function(F,B){L(F,B,N)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=u(9806),v=u(9504),_=u(456),k=u(4725),w=u(8460),x=u(844),y=u(6114),g=u(4841),b=u(511),j=u(2585),T="",P=new RegExp(T,"g");let E=l.SelectionService=class extends x.Disposable{constructor(N,L,F,B,V,U,X,G,q){super(),this._element=N,this._screenElement=L,this._linkifier=F,this._bufferService=B,this._coreService=V,this._mouseService=U,this._optionsService=X,this._renderService=G,this._coreBrowserService=q,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new b.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=K=>this._handleMouseMove(K),this._mouseUpListener=K=>this._handleMouseUp(K),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((K=>this._handleTrim(K))),this.register(this._bufferService.buffers.onBufferActivate((K=>this._handleBufferActivate(K)))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,x.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const N=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!N||!L||N[0]===L[0]&&N[1]===L[1])}get selectionText(){const N=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;if(!N||!L)return"";const F=this._bufferService.buffer,B=[];if(this._activeSelectionMode===3){if(N[0]===L[0])return"";const V=N[0]<L[0]?N[0]:L[0],U=N[0]<L[0]?L[0]:N[0];for(let X=N[1];X<=L[1];X++){const G=F.translateBufferLineToString(X,!0,V,U);B.push(G)}}else{const V=N[1]===L[1]?L[0]:void 0;B.push(F.translateBufferLineToString(N[1],!0,N[0],V));for(let U=N[1]+1;U<=L[1]-1;U++){const X=F.lines.get(U),G=F.translateBufferLineToString(U,!0);X!=null&&X.isWrapped?B[B.length-1]+=G:B.push(G)}if(N[1]!==L[1]){const U=F.lines.get(L[1]),X=F.translateBufferLineToString(L[1],!0,0,L[0]);U&&U.isWrapped?B[B.length-1]+=X:B.push(X)}}return B.map((V=>V.replace(P," "))).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(N){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),y.isLinux&&N&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(N){const L=this._getMouseBufferCoords(N),F=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!!(F&&B&&L)&&this._areCoordsInSelection(L,F,B)}isCellInSelection(N,L){const F=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!(!F||!B)&&this._areCoordsInSelection([N,L],F,B)}_areCoordsInSelection(N,L,F){return N[1]>L[1]&&N[1]<F[1]||L[1]===F[1]&&N[1]===L[1]&&N[0]>=L[0]&&N[0]<F[0]||L[1]<F[1]&&N[1]===F[1]&&N[0]<F[0]||L[1]<F[1]&&N[1]===L[1]&&N[0]>=L[0]}_selectWordAtCursor(N,L){var V,U;const F=(U=(V=this._linkifier.currentLink)==null?void 0:V.link)==null?void 0:U.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(N);return!!B&&(this._selectWordAt(B,L),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(N,L){this._model.clearSelection(),N=Math.max(N,0),L=Math.min(L,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,N],this._model.selectionEnd=[this._bufferService.cols,L],this.refresh(),this._onSelectionChange.fire()}_handleTrim(N){this._model.handleTrim(N)&&this.refresh()}_getMouseBufferCoords(N){const L=this._mouseService.getCoords(N,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(L)return L[0]--,L[1]--,L[1]+=this._bufferService.buffer.ydisp,L}_getMouseEventScrollAmount(N){let L=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,N,this._screenElement)[1];const F=this._renderService.dimensions.css.canvas.height;return L>=0&&L<=F?0:(L>F&&(L-=F),L=Math.min(Math.max(L,-50),50),L/=50,L/Math.abs(L)+Math.round(14*L))}shouldForceSelection(N){return y.isMac?N.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:N.shiftKey}handleMouseDown(N){if(this._mouseDownTimeStamp=N.timeStamp,(N.button!==2||!this.hasSelection)&&N.button===0){if(!this._enabled){if(!this.shouldForceSelection(N))return;N.stopPropagation()}N.preventDefault(),this._dragScrollAmount=0,this._enabled&&N.shiftKey?this._handleIncrementalClick(N):N.detail===1?this._handleSingleClick(N):N.detail===2?this._handleDoubleClick(N):N.detail===3&&this._handleTripleClick(N),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(N){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(N))}_handleSingleClick(N){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(N)?3:0,this._model.selectionStart=this._getMouseBufferCoords(N),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const L=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);L&&L.length!==this._model.selectionStart[0]&&L.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(N){this._selectWordAtCursor(N,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(N){const L=this._getMouseBufferCoords(N);L&&(this._activeSelectionMode=2,this._selectLineAt(L[1]))}shouldColumnSelect(N){return N.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(N){if(N.stopImmediatePropagation(),!this._model.selectionStart)return;const L=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(N),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(N),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const F=this._bufferService.buffer;if(this._model.selectionEnd[1]<F.lines.length){const B=F.lines.get(this._model.selectionEnd[1]);B&&B.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}L&&L[0]===this._model.selectionEnd[0]&&L[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const N=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(N.ydisp+this._bufferService.rows,N.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=N.ydisp),this.refresh()}}_handleMouseUp(N){const L=N.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&L<500&&N.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const F=this._mouseService.getCoords(N,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(F&&F[0]!==void 0&&F[1]!==void 0){const B=(0,v.moveToCellSequence)(F[0]-1,F[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(B,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const N=this._model.finalSelectionStart,L=this._model.finalSelectionEnd,F=!(!N||!L||N[0]===L[0]&&N[1]===L[1]);F?N&&L&&(this._oldSelectionStart&&this._oldSelectionEnd&&N[0]===this._oldSelectionStart[0]&&N[1]===this._oldSelectionStart[1]&&L[0]===this._oldSelectionEnd[0]&&L[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(N,L,F)):this._oldHasSelection&&this._fireOnSelectionChange(N,L,F)}_fireOnSelectionChange(N,L,F){this._oldSelectionStart=N,this._oldSelectionEnd=L,this._oldHasSelection=F,this._onSelectionChange.fire()}_handleBufferActivate(N){this.clearSelection(),this._trimListener.dispose(),this._trimListener=N.activeBuffer.lines.onTrim((L=>this._handleTrim(L)))}_convertViewportColToCharacterIndex(N,L){let F=L;for(let B=0;L>=B;B++){const V=N.loadCell(B,this._workCell).getChars().length;this._workCell.getWidth()===0?F--:V>1&&L!==B&&(F+=V-1)}return F}setSelection(N,L,F){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[N,L],this._model.selectionStartLength=F,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(N){this._isClickInSelection(N)||(this._selectWordAtCursor(N,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(N,L,F=!0,B=!0){if(N[0]>=this._bufferService.cols)return;const V=this._bufferService.buffer,U=V.lines.get(N[1]);if(!U)return;const X=V.translateBufferLineToString(N[1],!1);let G=this._convertViewportColToCharacterIndex(U,N[0]),q=G;const K=N[0]-G;let $=0,D=0,M=0,O=0;if(X.charAt(G)===" "){for(;G>0&&X.charAt(G-1)===" ";)G--;for(;q<X.length&&X.charAt(q+1)===" ";)q++}else{let re=N[0],de=N[0];U.getWidth(re)===0&&($++,re--),U.getWidth(de)===2&&(D++,de++);const me=U.getString(de).length;for(me>1&&(O+=me-1,q+=me-1);re>0&&G>0&&!this._isCharWordSeparator(U.loadCell(re-1,this._workCell));){U.loadCell(re-1,this._workCell);const Y=this._workCell.getChars().length;this._workCell.getWidth()===0?($++,re--):Y>1&&(M+=Y-1,G-=Y-1),G--,re--}for(;de<U.length&&q+1<X.length&&!this._isCharWordSeparator(U.loadCell(de+1,this._workCell));){U.loadCell(de+1,this._workCell);const Y=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,de++):Y>1&&(O+=Y-1,q+=Y-1),q++,de++}}q++;let W=G+K-$+M,I=Math.min(this._bufferService.cols,q-G+$+D-M-O);if(L||X.slice(G,q).trim()!==""){if(F&&W===0&&U.getCodePoint(0)!==32){const re=V.lines.get(N[1]-1);if(re&&U.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const de=this._getWordAt([this._bufferService.cols-1,N[1]-1],!1,!0,!1);if(de){const me=this._bufferService.cols-de.start;W-=me,I+=me}}}if(B&&W+I===this._bufferService.cols&&U.getCodePoint(this._bufferService.cols-1)!==32){const re=V.lines.get(N[1]+1);if(re!=null&&re.isWrapped&&re.getCodePoint(0)!==32){const de=this._getWordAt([0,N[1]+1],!1,!1,!0);de&&(I+=de.length)}}return{start:W,length:I}}}_selectWordAt(N,L){const F=this._getWordAt(N,L);if(F){for(;F.start<0;)F.start+=this._bufferService.cols,N[1]--;this._model.selectionStart=[F.start,N[1]],this._model.selectionStartLength=F.length}}_selectToWordAt(N){const L=this._getWordAt(N,!0);if(L){let F=N[1];for(;L.start<0;)L.start+=this._bufferService.cols,F--;if(!this._model.areSelectionValuesReversed())for(;L.start+L.length>this._bufferService.cols;)L.length-=this._bufferService.cols,F++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?L.start:L.start+L.length,F]}}_isCharWordSeparator(N){return N.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(N.getChars())>=0}_selectLineAt(N){const L=this._bufferService.buffer.getWrappedRangeForLine(N),F={start:{x:0,y:L.first},end:{x:this._bufferService.cols-1,y:L.last}};this._model.selectionStart=[0,L.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(F,this._bufferService.cols)}};l.SelectionService=E=f([p(3,j.IBufferService),p(4,j.ICoreService),p(5,k.IMouseService),p(6,j.IOptionsService),p(7,k.IRenderService),p(8,k.ICoreBrowserService)],E)},4725:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ILinkProviderService=l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const f=u(8343);l.ICharSizeService=(0,f.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),l.IMouseService=(0,f.createDecorator)("MouseService"),l.IRenderService=(0,f.createDecorator)("RenderService"),l.ISelectionService=(0,f.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,f.createDecorator)("ThemeService"),l.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(c,l,u){var f=this&&this.__decorate||function(E,N,L,F){var B,V=arguments.length,U=V<3?N:F===null?F=Object.getOwnPropertyDescriptor(N,L):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(E,N,L,F);else for(var X=E.length-1;X>=0;X--)(B=E[X])&&(U=(V<3?B(U):V>3?B(N,L,U):B(N,L))||U);return V>3&&U&&Object.defineProperty(N,L,U),U},p=this&&this.__param||function(E,N){return function(L,F){N(L,F,E)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=u(7239),v=u(8055),_=u(8460),k=u(844),w=u(2585),x=v.css.toColor("#ffffff"),y=v.css.toColor("#000000"),g=v.css.toColor("#ffffff"),b=v.css.toColor("#000000"),j={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],N=[0,95,135,175,215,255];for(let L=0;L<216;L++){const F=N[L/36%6|0],B=N[L/6%6|0],V=N[L%6];E.push({css:v.channels.toCss(F,B,V),rgba:v.channels.toRgba(F,B,V)})}for(let L=0;L<24;L++){const F=8+10*L;E.push({css:v.channels.toCss(F,F,F),rgba:v.channels.toRgba(F,F,F)})}return E})());let T=l.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new _.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:x,background:y,cursor:g,cursorAccent:b,selectionForeground:void 0,selectionBackgroundTransparent:j,selectionBackgroundOpaque:v.color.blend(y,j),selectionInactiveBackgroundTransparent:j,selectionInactiveBackgroundOpaque:v.color.blend(y,j),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(E={}){const N=this._colors;if(N.foreground=P(E.foreground,x),N.background=P(E.background,y),N.cursor=P(E.cursor,g),N.cursorAccent=P(E.cursorAccent,b),N.selectionBackgroundTransparent=P(E.selectionBackground,j),N.selectionBackgroundOpaque=v.color.blend(N.background,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundTransparent=P(E.selectionInactiveBackground,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundOpaque=v.color.blend(N.background,N.selectionInactiveBackgroundTransparent),N.selectionForeground=E.selectionForeground?P(E.selectionForeground,v.NULL_COLOR):void 0,N.selectionForeground===v.NULL_COLOR&&(N.selectionForeground=void 0),v.color.isOpaque(N.selectionBackgroundTransparent)&&(N.selectionBackgroundTransparent=v.color.opacity(N.selectionBackgroundTransparent,.3)),v.color.isOpaque(N.selectionInactiveBackgroundTransparent)&&(N.selectionInactiveBackgroundTransparent=v.color.opacity(N.selectionInactiveBackgroundTransparent,.3)),N.ansi=l.DEFAULT_ANSI_COLORS.slice(),N.ansi[0]=P(E.black,l.DEFAULT_ANSI_COLORS[0]),N.ansi[1]=P(E.red,l.DEFAULT_ANSI_COLORS[1]),N.ansi[2]=P(E.green,l.DEFAULT_ANSI_COLORS[2]),N.ansi[3]=P(E.yellow,l.DEFAULT_ANSI_COLORS[3]),N.ansi[4]=P(E.blue,l.DEFAULT_ANSI_COLORS[4]),N.ansi[5]=P(E.magenta,l.DEFAULT_ANSI_COLORS[5]),N.ansi[6]=P(E.cyan,l.DEFAULT_ANSI_COLORS[6]),N.ansi[7]=P(E.white,l.DEFAULT_ANSI_COLORS[7]),N.ansi[8]=P(E.brightBlack,l.DEFAULT_ANSI_COLORS[8]),N.ansi[9]=P(E.brightRed,l.DEFAULT_ANSI_COLORS[9]),N.ansi[10]=P(E.brightGreen,l.DEFAULT_ANSI_COLORS[10]),N.ansi[11]=P(E.brightYellow,l.DEFAULT_ANSI_COLORS[11]),N.ansi[12]=P(E.brightBlue,l.DEFAULT_ANSI_COLORS[12]),N.ansi[13]=P(E.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),N.ansi[14]=P(E.brightCyan,l.DEFAULT_ANSI_COLORS[14]),N.ansi[15]=P(E.brightWhite,l.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const L=Math.min(N.ansi.length-16,E.extendedAnsi.length);for(let F=0;F<L;F++)N.ansi[F+16]=P(E.extendedAnsi[F],l.DEFAULT_ANSI_COLORS[F+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let N=0;N<this._restoreColors.ansi.length;++N)this._colors.ansi[N]=this._restoreColors.ansi[N]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function P(E,N){if(E!==void 0)try{return v.css.toColor(E)}catch{}return N}l.ThemeService=T=f([p(0,w.IOptionsService)],T)},6349:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const f=u(8460),p=u(844);class h extends p.Disposable{constructor(_){super(),this._maxLength=_,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(_){if(this._maxLength===_)return;const k=new Array(_);for(let w=0;w<Math.min(_,this.length);w++)k[w]=this._array[this._getCyclicIndex(w)];this._array=k,this._maxLength=_,this._startIndex=0}get length(){return this._length}set length(_){if(_>this._length)for(let k=this._length;k<_;k++)this._array[k]=void 0;this._length=_}get(_){return this._array[this._getCyclicIndex(_)]}set(_,k){this._array[this._getCyclicIndex(_)]=k}push(_){this._array[this._getCyclicIndex(this._length)]=_,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(_,k,...w){if(k){for(let x=_;x<this._length-k;x++)this._array[this._getCyclicIndex(x)]=this._array[this._getCyclicIndex(x+k)];this._length-=k,this.onDeleteEmitter.fire({index:_,amount:k})}for(let x=this._length-1;x>=_;x--)this._array[this._getCyclicIndex(x+w.length)]=this._array[this._getCyclicIndex(x)];for(let x=0;x<w.length;x++)this._array[this._getCyclicIndex(_+x)]=w[x];if(w.length&&this.onInsertEmitter.fire({index:_,amount:w.length}),this._length+w.length>this._maxLength){const x=this._length+w.length-this._maxLength;this._startIndex+=x,this._length=this._maxLength,this.onTrimEmitter.fire(x)}else this._length+=w.length}trimStart(_){_>this._length&&(_=this._length),this._startIndex+=_,this._length-=_,this.onTrimEmitter.fire(_)}shiftElements(_,k,w){if(!(k<=0)){if(_<0||_>=this._length)throw new Error("start argument out of range");if(_+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let y=k-1;y>=0;y--)this.set(_+y+w,this.get(_+y));const x=_+k+w-this._length;if(x>0)for(this._length+=x;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let x=0;x<k;x++)this.set(_+x+w,this.get(_+x))}}_getCyclicIndex(_){return(this._startIndex+_)%this._maxLength}}l.CircularList=h},1439:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function u(f,p=5){if(typeof f!="object")return f;const h=Array.isArray(f)?[]:{};for(const v in f)h[v]=p<=1?f[v]:f[v]&&u(f[v],p-1);return h}},8055:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;let u=0,f=0,p=0,h=0;var v,_,k,w,x;function y(b){const j=b.toString(16);return j.length<2?"0"+j:j}function g(b,j){return b<j?(j+.05)/(b+.05):(b+.05)/(j+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(function(b){b.toCss=function(j,T,P,E){return E!==void 0?`#${y(j)}${y(T)}${y(P)}${y(E)}`:`#${y(j)}${y(T)}${y(P)}`},b.toRgba=function(j,T,P,E=255){return(j<<24|T<<16|P<<8|E)>>>0},b.toColor=function(j,T,P,E){return{css:b.toCss(j,T,P,E),rgba:b.toRgba(j,T,P,E)}}})(v||(l.channels=v={})),(function(b){function j(T,P){return h=Math.round(255*P),[u,f,p]=x.toChannels(T.rgba),{css:v.toCss(u,f,p,h),rgba:v.toRgba(u,f,p,h)}}b.blend=function(T,P){if(h=(255&P.rgba)/255,h===1)return{css:P.css,rgba:P.rgba};const E=P.rgba>>24&255,N=P.rgba>>16&255,L=P.rgba>>8&255,F=T.rgba>>24&255,B=T.rgba>>16&255,V=T.rgba>>8&255;return u=F+Math.round((E-F)*h),f=B+Math.round((N-B)*h),p=V+Math.round((L-V)*h),{css:v.toCss(u,f,p),rgba:v.toRgba(u,f,p)}},b.isOpaque=function(T){return(255&T.rgba)==255},b.ensureContrastRatio=function(T,P,E){const N=x.ensureContrastRatio(T.rgba,P.rgba,E);if(N)return v.toColor(N>>24&255,N>>16&255,N>>8&255)},b.opaque=function(T){const P=(255|T.rgba)>>>0;return[u,f,p]=x.toChannels(P),{css:v.toCss(u,f,p),rgba:P}},b.opacity=j,b.multiplyOpacity=function(T,P){return h=255&T.rgba,j(T,h*P/255)},b.toColorRGB=function(T){return[T.rgba>>24&255,T.rgba>>16&255,T.rgba>>8&255]}})(_||(l.color=_={})),(function(b){let j,T;try{const P=document.createElement("canvas");P.width=1,P.height=1;const E=P.getContext("2d",{willReadFrequently:!0});E&&(j=E,j.globalCompositeOperation="copy",T=j.createLinearGradient(0,0,1,1))}catch{}b.toColor=function(P){if(P.match(/#[\da-f]{3,8}/i))switch(P.length){case 4:return u=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),p=parseInt(P.slice(3,4).repeat(2),16),v.toColor(u,f,p);case 5:return u=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),p=parseInt(P.slice(3,4).repeat(2),16),h=parseInt(P.slice(4,5).repeat(2),16),v.toColor(u,f,p,h);case 7:return{css:P,rgba:(parseInt(P.slice(1),16)<<8|255)>>>0};case 9:return{css:P,rgba:parseInt(P.slice(1),16)>>>0}}const E=P.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return u=parseInt(E[1]),f=parseInt(E[2]),p=parseInt(E[3]),h=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),v.toColor(u,f,p,h);if(!j||!T)throw new Error("css.toColor: Unsupported css format");if(j.fillStyle=T,j.fillStyle=P,typeof j.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(j.fillRect(0,0,1,1),[u,f,p,h]=j.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(u,f,p,h),css:P}}})(k||(l.css=k={})),(function(b){function j(T,P,E){const N=T/255,L=P/255,F=E/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))}b.relativeLuminance=function(T){return j(T>>16&255,T>>8&255,255&T)},b.relativeLuminance2=j})(w||(l.rgb=w={})),(function(b){function j(P,E,N){const L=P>>24&255,F=P>>16&255,B=P>>8&255;let V=E>>24&255,U=E>>16&255,X=E>>8&255,G=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,F,B));for(;G<N&&(V>0||U>0||X>0);)V-=Math.max(0,Math.ceil(.1*V)),U-=Math.max(0,Math.ceil(.1*U)),X-=Math.max(0,Math.ceil(.1*X)),G=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,F,B));return(V<<24|U<<16|X<<8|255)>>>0}function T(P,E,N){const L=P>>24&255,F=P>>16&255,B=P>>8&255;let V=E>>24&255,U=E>>16&255,X=E>>8&255,G=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,F,B));for(;G<N&&(V<255||U<255||X<255);)V=Math.min(255,V+Math.ceil(.1*(255-V))),U=Math.min(255,U+Math.ceil(.1*(255-U))),X=Math.min(255,X+Math.ceil(.1*(255-X))),G=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,F,B));return(V<<24|U<<16|X<<8|255)>>>0}b.blend=function(P,E){if(h=(255&E)/255,h===1)return E;const N=E>>24&255,L=E>>16&255,F=E>>8&255,B=P>>24&255,V=P>>16&255,U=P>>8&255;return u=B+Math.round((N-B)*h),f=V+Math.round((L-V)*h),p=U+Math.round((F-U)*h),v.toRgba(u,f,p)},b.ensureContrastRatio=function(P,E,N){const L=w.relativeLuminance(P>>8),F=w.relativeLuminance(E>>8);if(g(L,F)<N){if(F<L){const U=j(P,E,N),X=g(L,w.relativeLuminance(U>>8));if(X<N){const G=T(P,E,N);return X>g(L,w.relativeLuminance(G>>8))?U:G}return U}const B=T(P,E,N),V=g(L,w.relativeLuminance(B>>8));if(V<N){const U=j(P,E,N);return V>g(L,w.relativeLuminance(U>>8))?B:U}return B}},b.reduceLuminance=j,b.increaseLuminance=T,b.toChannels=function(P){return[P>>24&255,P>>16&255,P>>8&255,255&P]}})(x||(l.rgba=x={})),l.toPaddedHex=y,l.contrastRatio=g},8969:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const f=u(844),p=u(2585),h=u(4348),v=u(7866),_=u(744),k=u(7302),w=u(6975),x=u(8460),y=u(1753),g=u(1480),b=u(7994),j=u(9282),T=u(5435),P=u(5981),E=u(2660);let N=!1;class L extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new x.EventEmitter),this._onScroll.event((B=>{var V;(V=this._onScrollApi)==null||V.fire(B.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(B){for(const V in B)this.optionsService.options[V]=B[V]}constructor(B){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new x.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new x.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new x.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new x.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new x.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new x.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new k.OptionsService(B)),this._instantiationService.setService(p.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(_.BufferService)),this._instantiationService.setService(p.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(p.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(w.CoreService)),this._instantiationService.setService(p.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(p.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(p.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(b.CharsetService),this._instantiationService.setService(p.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(p.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new T.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,x.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,x.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,x.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,x.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new P.WriteBuffer(((V,U)=>this._inputHandler.parse(V,U)))),this.register((0,x.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(B,V){this._writeBuffer.write(B,V)}writeSync(B,V){this._logService.logLevel<=p.LogLevelEnum.WARN&&!N&&(this._logService.warn("writeSync is unreliable and will be removed soon."),N=!0),this._writeBuffer.writeSync(B,V)}input(B,V=!0){this.coreService.triggerDataEvent(B,V)}resize(B,V){isNaN(B)||isNaN(V)||(B=Math.max(B,_.MINIMUM_COLS),V=Math.max(V,_.MINIMUM_ROWS),this._bufferService.resize(B,V))}scroll(B,V=!1){this._bufferService.scroll(B,V)}scrollLines(B,V,U){this._bufferService.scrollLines(B,V,U)}scrollPages(B){this.scrollLines(B*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(B){const V=B-this._bufferService.buffer.ydisp;V!==0&&this.scrollLines(V)}registerEscHandler(B,V){return this._inputHandler.registerEscHandler(B,V)}registerDcsHandler(B,V){return this._inputHandler.registerDcsHandler(B,V)}registerCsiHandler(B,V){return this._inputHandler.registerCsiHandler(B,V)}registerOscHandler(B,V){return this._inputHandler.registerOscHandler(B,V)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let B=!1;const V=this.optionsService.rawOptions.windowsPty;V&&V.buildNumber!==void 0&&V.buildNumber!==void 0?B=V.backend==="conpty"&&V.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(B=!0),B?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const B=[];B.push(this.onLineFeed(j.updateWindowsModeWrappedState.bind(null,this._bufferService))),B.push(this.registerCsiHandler({final:"H"},(()=>((0,j.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)((()=>{for(const V of B)V.dispose()}))}}}l.CoreTerminal=L},8460:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===u)return void this._listeners.splice(f,1)}}})),this._event}fire(u,f){const p=[];for(let h=0;h<this._listeners.length;h++)p.push(this._listeners[h]);for(let h=0;h<p.length;h++)p[h].call(void 0,u,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(u,f){return u((p=>f.fire(p)))},l.runAndSubscribe=function(u,f){return f(void 0),u((p=>f(p)))}},5435:function(c,l,u){var f=this&&this.__decorate||function($,D,M,O){var W,I=arguments.length,re=I<3?D:O===null?O=Object.getOwnPropertyDescriptor(D,M):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate($,D,M,O);else for(var de=$.length-1;de>=0;de--)(W=$[de])&&(re=(I<3?W(re):I>3?W(D,M,re):W(D,M))||re);return I>3&&re&&Object.defineProperty(D,M,re),re},p=this&&this.__param||function($,D){return function(M,O){D(M,O,$)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=u(2584),v=u(7116),_=u(2015),k=u(844),w=u(482),x=u(8437),y=u(8460),g=u(643),b=u(511),j=u(3734),T=u(2585),P=u(1480),E=u(6242),N=u(6351),L=u(5941),F={"(":0,")":1,"*":2,"+":3,"-":1,".":2},B=131072;function V($,D){if($>24)return D.setWinLines||!1;switch($){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var U;(function($){$[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(U||(l.WindowsOptionsReportType=U={}));let X=0;class G extends k.Disposable{getAttrData(){return this._curAttrData}constructor(D,M,O,W,I,re,de,me,Y=new _.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=M,this._coreService=O,this._logService=W,this._optionsService=I,this._oscLinkService=re,this._coreMouseService=de,this._unicodeService=me,this._parser=Y,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new w.StringToUtf32,this._utf8Decoder=new w.Utf8ToUtf32,this._workCell=new b.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=x.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=x.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new q(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((z=>this._activeBuffer=z.activeBuffer))),this._parser.setCsiHandlerFallback(((z,oe)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(z),params:oe.toArray()})})),this._parser.setEscHandlerFallback((z=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(z)})})),this._parser.setExecuteHandlerFallback((z=>{this._logService.debug("Unknown EXECUTE code: ",{code:z})})),this._parser.setOscHandlerFallback(((z,oe,ne)=>{this._logService.debug("Unknown OSC code: ",{identifier:z,action:oe,data:ne})})),this._parser.setDcsHandlerFallback(((z,oe,ne)=>{oe==="HOOK"&&(ne=ne.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(z),action:oe,payload:ne})})),this._parser.setPrintHandler(((z,oe,ne)=>this.print(z,oe,ne))),this._parser.registerCsiHandler({final:"@"},(z=>this.insertChars(z))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(z=>this.scrollLeft(z))),this._parser.registerCsiHandler({final:"A"},(z=>this.cursorUp(z))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(z=>this.scrollRight(z))),this._parser.registerCsiHandler({final:"B"},(z=>this.cursorDown(z))),this._parser.registerCsiHandler({final:"C"},(z=>this.cursorForward(z))),this._parser.registerCsiHandler({final:"D"},(z=>this.cursorBackward(z))),this._parser.registerCsiHandler({final:"E"},(z=>this.cursorNextLine(z))),this._parser.registerCsiHandler({final:"F"},(z=>this.cursorPrecedingLine(z))),this._parser.registerCsiHandler({final:"G"},(z=>this.cursorCharAbsolute(z))),this._parser.registerCsiHandler({final:"H"},(z=>this.cursorPosition(z))),this._parser.registerCsiHandler({final:"I"},(z=>this.cursorForwardTab(z))),this._parser.registerCsiHandler({final:"J"},(z=>this.eraseInDisplay(z,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(z=>this.eraseInDisplay(z,!0))),this._parser.registerCsiHandler({final:"K"},(z=>this.eraseInLine(z,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(z=>this.eraseInLine(z,!0))),this._parser.registerCsiHandler({final:"L"},(z=>this.insertLines(z))),this._parser.registerCsiHandler({final:"M"},(z=>this.deleteLines(z))),this._parser.registerCsiHandler({final:"P"},(z=>this.deleteChars(z))),this._parser.registerCsiHandler({final:"S"},(z=>this.scrollUp(z))),this._parser.registerCsiHandler({final:"T"},(z=>this.scrollDown(z))),this._parser.registerCsiHandler({final:"X"},(z=>this.eraseChars(z))),this._parser.registerCsiHandler({final:"Z"},(z=>this.cursorBackwardTab(z))),this._parser.registerCsiHandler({final:"`"},(z=>this.charPosAbsolute(z))),this._parser.registerCsiHandler({final:"a"},(z=>this.hPositionRelative(z))),this._parser.registerCsiHandler({final:"b"},(z=>this.repeatPrecedingCharacter(z))),this._parser.registerCsiHandler({final:"c"},(z=>this.sendDeviceAttributesPrimary(z))),this._parser.registerCsiHandler({prefix:">",final:"c"},(z=>this.sendDeviceAttributesSecondary(z))),this._parser.registerCsiHandler({final:"d"},(z=>this.linePosAbsolute(z))),this._parser.registerCsiHandler({final:"e"},(z=>this.vPositionRelative(z))),this._parser.registerCsiHandler({final:"f"},(z=>this.hVPosition(z))),this._parser.registerCsiHandler({final:"g"},(z=>this.tabClear(z))),this._parser.registerCsiHandler({final:"h"},(z=>this.setMode(z))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(z=>this.setModePrivate(z))),this._parser.registerCsiHandler({final:"l"},(z=>this.resetMode(z))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(z=>this.resetModePrivate(z))),this._parser.registerCsiHandler({final:"m"},(z=>this.charAttributes(z))),this._parser.registerCsiHandler({final:"n"},(z=>this.deviceStatus(z))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(z=>this.deviceStatusPrivate(z))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(z=>this.softReset(z))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(z=>this.setCursorStyle(z))),this._parser.registerCsiHandler({final:"r"},(z=>this.setScrollRegion(z))),this._parser.registerCsiHandler({final:"s"},(z=>this.saveCursor(z))),this._parser.registerCsiHandler({final:"t"},(z=>this.windowOptions(z))),this._parser.registerCsiHandler({final:"u"},(z=>this.restoreCursor(z))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(z=>this.insertColumns(z))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(z=>this.deleteColumns(z))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(z=>this.selectProtected(z))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(z=>this.requestMode(z,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(z=>this.requestMode(z,!1))),this._parser.setExecuteHandler(h.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(h.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(h.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(h.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(h.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(h.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(h.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(h.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(h.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new E.OscHandler((z=>(this.setTitle(z),this.setIconName(z),!0)))),this._parser.registerOscHandler(1,new E.OscHandler((z=>this.setIconName(z)))),this._parser.registerOscHandler(2,new E.OscHandler((z=>this.setTitle(z)))),this._parser.registerOscHandler(4,new E.OscHandler((z=>this.setOrReportIndexedColor(z)))),this._parser.registerOscHandler(8,new E.OscHandler((z=>this.setHyperlink(z)))),this._parser.registerOscHandler(10,new E.OscHandler((z=>this.setOrReportFgColor(z)))),this._parser.registerOscHandler(11,new E.OscHandler((z=>this.setOrReportBgColor(z)))),this._parser.registerOscHandler(12,new E.OscHandler((z=>this.setOrReportCursorColor(z)))),this._parser.registerOscHandler(104,new E.OscHandler((z=>this.restoreIndexedColor(z)))),this._parser.registerOscHandler(110,new E.OscHandler((z=>this.restoreFgColor(z)))),this._parser.registerOscHandler(111,new E.OscHandler((z=>this.restoreBgColor(z)))),this._parser.registerOscHandler(112,new E.OscHandler((z=>this.restoreCursorColor(z)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const z in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:z},(()=>this.selectCharset("("+z))),this._parser.registerEscHandler({intermediates:")",final:z},(()=>this.selectCharset(")"+z))),this._parser.registerEscHandler({intermediates:"*",final:z},(()=>this.selectCharset("*"+z))),this._parser.registerEscHandler({intermediates:"+",final:z},(()=>this.selectCharset("+"+z))),this._parser.registerEscHandler({intermediates:"-",final:z},(()=>this.selectCharset("-"+z))),this._parser.registerEscHandler({intermediates:".",final:z},(()=>this.selectCharset("."+z))),this._parser.registerEscHandler({intermediates:"/",final:z},(()=>this.selectCharset("/"+z)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((z=>(this._logService.error("Parsing error: ",z),z))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new N.DcsHandler(((z,oe)=>this.requestStatusString(z,oe))))}_preserveStack(D,M,O,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=O,this._parseStack.position=W}_logSlowResolvingAsync(D){this._logService.logLevel<=T.LogLevelEnum.WARN&&Promise.race([D,new Promise(((M,O)=>setTimeout((()=>O("#SLOW_TIMEOUT")),5e3)))]).catch((M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,M){let O,W=this._activeBuffer.x,I=this._activeBuffer.y,re=0;const de=this._parseStack.paused;if(de){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(O),O;W=this._parseStack.cursorStartX,I=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>B&&(re=this._parseStack.position+B)}if(this._logService.logLevel<=T.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,(z=>String.fromCharCode(z))).join("")}"`),typeof D=="string"?D.split("").map((z=>z.charCodeAt(0))):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<B&&(this._parseBuffer=new Uint32Array(Math.min(D.length,B))),de||this._dirtyRowTracker.clearRange(),D.length>B)for(let z=re;z<D.length;z+=B){const oe=z+B<D.length?z+B:D.length,ne=typeof D=="string"?this._stringDecoder.decode(D.substring(z,oe),this._parseBuffer):this._utf8Decoder.decode(D.subarray(z,oe),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,ne))return this._preserveStack(W,I,ne,z),this._logSlowResolvingAsync(O),O}else if(!de){const z=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,z))return this._preserveStack(W,I,z,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===W&&this._activeBuffer.y===I||this._onCursorMove.fire();const me=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),Y=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);Y<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(Y,this._bufferService.rows-1),Math.min(me,this._bufferService.rows-1))}print(D,M,O){let W,I;const re=this._charsetService.charset,de=this._optionsService.rawOptions.screenReaderMode,me=this._bufferService.cols,Y=this._coreService.decPrivateModes.wraparound,z=this._coreService.modes.insertMode,oe=this._curAttrData;let ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-M>0&&ne.getWidth(this._activeBuffer.x-1)===2&&ne.setCellFromCodepoint(this._activeBuffer.x-1,0,1,oe);let Q=this._parser.precedingJoinState;for(let ie=M;ie<O;++ie){if(W=D[ie],W<127&&re){const Me=re[String.fromCharCode(W)];Me&&(W=Me.charCodeAt(0))}const ye=this._unicodeService.charProperties(W,Q);I=P.UnicodeService.extractWidth(ye);const ae=P.UnicodeService.extractShouldJoin(ye),Se=ae?P.UnicodeService.extractWidth(Q):0;if(Q=ye,de&&this._onA11yChar.fire((0,w.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+I-Se>me){if(Y){const Me=ne;let ke=this._activeBuffer.x-Se;for(this._activeBuffer.x=Se,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Se>0&&ne instanceof x.BufferLine&&ne.copyCellsFrom(Me,ke,0,Se,!1);ke<me;)Me.setCellFromCodepoint(ke++,0,1,oe)}else if(this._activeBuffer.x=me-1,I===2)continue}if(ae&&this._activeBuffer.x){const Me=ne.getWidth(this._activeBuffer.x-1)?1:2;ne.addCodepointToCell(this._activeBuffer.x-Me,W,I);for(let ke=I-Se;--ke>=0;)ne.setCellFromCodepoint(this._activeBuffer.x++,0,0,oe)}else if(z&&(ne.insertCells(this._activeBuffer.x,I-Se,this._activeBuffer.getNullCell(oe)),ne.getWidth(me-1)===2&&ne.setCellFromCodepoint(me-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,oe)),ne.setCellFromCodepoint(this._activeBuffer.x++,W,I,oe),I>0)for(;--I;)ne.setCellFromCodepoint(this._activeBuffer.x++,0,0,oe)}this._parser.precedingJoinState=Q,this._activeBuffer.x<me&&O-M>0&&ne.getWidth(this._activeBuffer.x)===0&&!ne.hasContent(this._activeBuffer.x)&&ne.setCellFromCodepoint(this._activeBuffer.x,0,1,oe),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,M){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,M):this._parser.registerCsiHandler(D,(O=>!V(O.params[0],this._optionsService.rawOptions.windowOptions)||M(O)))}registerDcsHandler(D,M){return this._parser.registerDcsHandler(D,new N.DcsHandler(M))}registerEscHandler(D,M){return this._parser.registerEscHandler(D,M)}registerOscHandler(D,M){return this._parser.registerOscHandler(D,new E.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=D,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+M)}cursorUp(D){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const M=D.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=D.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=D.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const M=D.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,M,O,W=!1,I=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);re.replaceCells(M,O,this._activeBuffer.getNullCell(this._eraseAttrData()),I),W&&(re.isWrapped=!1)}_resetBufferLine(D,M=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),O.isWrapped=!1)}eraseInDisplay(D,M=!1){let O;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);O<this._bufferService.rows;O++)this._resetBufferLine(O,M);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,M);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(D,M=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let M=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;M--;)this._activeBuffer.lines.splice(I-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let M=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;M--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let M=D.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let M=D.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(x.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);W.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);W.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);W.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);W.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){const M=this._parser.precedingJoinState;if(!M)return!0;const O=D.params[0]||1,W=P.UnicodeService.extractWidth(M),I=this._activeBuffer.x-W,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(I),de=new Uint32Array(re.length*O);let me=0;for(let z=0;z<re.length;){const oe=re.codePointAt(z)||0;de[me++]=oe,z+=oe>65535?2:1}let Y=me;for(let z=1;z<O;++z)de.copyWithin(Y,0,me),Y+=me;return this.print(de,0,Y),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,M){const O=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:I}=this._coreMouseService,re=this._coreService,{buffers:de,cols:me}=this._bufferService,{active:Y,alt:z}=de,oe=this._optionsService.rawOptions,ne=ae=>ae?1:2,Q=D.params[0];return ie=Q,ye=M?Q===2?4:Q===4?ne(re.modes.insertMode):Q===12?3:Q===20?ne(oe.convertEol):0:Q===1?ne(O.applicationCursorKeys):Q===3?oe.windowOptions.setWinLines?me===80?2:me===132?1:0:0:Q===6?ne(O.origin):Q===7?ne(O.wraparound):Q===8?3:Q===9?ne(W==="X10"):Q===12?ne(oe.cursorBlink):Q===25?ne(!re.isCursorHidden):Q===45?ne(O.reverseWraparound):Q===66?ne(O.applicationKeypad):Q===67?4:Q===1e3?ne(W==="VT200"):Q===1002?ne(W==="DRAG"):Q===1003?ne(W==="ANY"):Q===1004?ne(O.sendFocus):Q===1005?4:Q===1006?ne(I==="SGR"):Q===1015?4:Q===1016?ne(I==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?ne(Y===z):Q===2004?ne(O.bracketedPasteMode):0,re.triggerDataEvent(`${h.C0.ESC}[${M?"":"?"}${ie};${ye}$y`),!0;var ie,ye}_updateAttrColor(D,M,O,W,I){return M===2?(D|=50331648,D&=-16777216,D|=j.AttributeData.fromColorRGB([O,W,I])):M===5&&(D&=-50331904,D|=33554432|255&O),D}_extractColor(D,M,O){const W=[0,0,-1,0,0,0];let I=0,re=0;do{if(W[re+I]=D.params[M+re],D.hasSubParams(M+re)){const de=D.getSubParams(M+re);let me=0;do W[1]===5&&(I=1),W[re+me+1+I]=de[me];while(++me<de.length&&me+re+1+I<W.length);break}if(W[1]===5&&re+I>=2||W[1]===2&&re+I>=5)break;W[1]&&(I=1)}while(++re+M<D.length&&re+I<W.length);for(let de=2;de<W.length;++de)W[de]===-1&&(W[de]=0);switch(W[0]){case 38:O.fg=this._updateAttrColor(O.fg,W[1],W[3],W[4],W[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,W[1],W[3],W[4],W[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,W[1],W[3],W[4],W[5])}return re}_processUnderline(D,M){M.extended=M.extended.clone(),(!~D||D>5)&&(D=1),M.extended.underlineStyle=D,M.fg|=268435456,D===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(D){D.fg=x.DEFAULT_ATTR_DATA.fg,D.bg=x.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=D.length;let O;const W=this._curAttrData;for(let I=0;I<M;I++)O=D.params[I],O>=30&&O<=37?(W.fg&=-50331904,W.fg|=16777216|O-30):O>=40&&O<=47?(W.bg&=-50331904,W.bg|=16777216|O-40):O>=90&&O<=97?(W.fg&=-50331904,W.fg|=16777224|O-90):O>=100&&O<=107?(W.bg&=-50331904,W.bg|=16777224|O-100):O===0?this._processSGR0(W):O===1?W.fg|=134217728:O===3?W.bg|=67108864:O===4?(W.fg|=268435456,this._processUnderline(D.hasSubParams(I)?D.getSubParams(I)[0]:1,W)):O===5?W.fg|=536870912:O===7?W.fg|=67108864:O===8?W.fg|=1073741824:O===9?W.fg|=2147483648:O===2?W.bg|=134217728:O===21?this._processUnderline(2,W):O===22?(W.fg&=-134217729,W.bg&=-134217729):O===23?W.bg&=-67108865:O===24?(W.fg&=-268435457,this._processUnderline(0,W)):O===25?W.fg&=-536870913:O===27?W.fg&=-67108865:O===28?W.fg&=-1073741825:O===29?W.fg&=2147483647:O===39?(W.fg&=-67108864,W.fg|=16777215&x.DEFAULT_ATTR_DATA.fg):O===49?(W.bg&=-67108864,W.bg|=16777215&x.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?I+=this._extractColor(D,I,W):O===53?W.bg|=1073741824:O===55?W.bg&=-1073741825:O===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):O===100?(W.fg&=-67108864,W.fg|=16777215&x.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&x.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${M};${O}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const M=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${M};${O}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=x.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const M=D.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=M%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(D){const M=D.params[0]||1;let O;return(D.length<2||(O=D.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(D){if(!V(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(U.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(U.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const M=[],O=D.split(";");for(;O.length>1;){const W=O.shift(),I=O.shift();if(/^\d+$/.exec(W)){const re=parseInt(W);if(K(re))if(I==="?")M.push({type:0,index:re});else{const de=(0,L.parseColor)(I);de&&M.push({type:1,index:re,color:de})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(D){const M=D.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(D,M){this._getCurrentLinkId()&&this._finishHyperlink();const O=D.split(":");let W;const I=O.findIndex((re=>re.startsWith("id=")));return I!==-1&&(W=O[I].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,M){const O=D.split(";");for(let W=0;W<O.length&&!(M>=this._specialColors.length);++W,++M)if(O[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const I=(0,L.parseColor)(O[W]);I&&this._onColor.fire([{type:1,index:this._specialColors[M],color:I}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const M=[],O=D.split(";");for(let W=0;W<O.length;++W)if(/^\d+$/.exec(O[W])){const I=parseInt(O[W]);K(I)&&M.push({type:2,index:I})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(F[D[0]],v.CHARSETS[D[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=x.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=x.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new b.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const O=this._activeBuffer.ybase+this._activeBuffer.y+M,W=this._activeBuffer.lines.get(O);W&&(W.fill(D),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,M){const O=this._bufferService.buffer,W=this._optionsService.rawOptions;return(I=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${I}${h.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,M){this._dirtyRowTracker.markRangeDirty(D,M)}}l.InputHandler=G;let q=class{constructor($){this._bufferService=$,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty($){$<this.start?this.start=$:$>this.end&&(this.end=$)}markRangeDirty($,D){$>D&&(X=$,$=D,D=X),$<this.start&&(this.start=$),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K($){return 0<=$&&$<256}q=f([p(0,T.IBufferService)],q)},844:(c,l)=>{function u(f){for(const p of f)p.dispose();f.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const p=this._disposables.indexOf(f);p!==-1&&this._disposables.splice(p,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var p;this._isDisposed||f===this._value||((p=this._value)==null||p.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},l.toDisposable=function(f){return{dispose:f}},l.disposeArray=u,l.getDisposeArrayDisposable=function(f){return{dispose:()=>u(f)}}},1505:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(p,h,v){this._data[p]||(this._data[p]={}),this._data[p][h]=v}get(p,h){return this._data[p]?this._data[p][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=u,l.FourKeyMap=class{constructor(){this._data=new u}set(f,p,h,v,_){this._data.get(f,p)||this._data.set(f,p,new u),this._data.get(f,p).set(h,v,_)}get(f,p,h,v){var _;return(_=this._data.get(f,p))==null?void 0:_.get(h,v)}clear(){this._data.clear()}}},6114:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof process<"u"&&"title"in process;const u=l.isNode?"node":navigator.userAgent,f=l.isNode?"node":navigator.platform;l.isFirefox=u.includes("Firefox"),l.isLegacyEdge=u.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(u),l.getSafariVersion=function(){if(!l.isSafari)return 0;const p=u.match(/Version\/(\d+)/);return p===null||p.length<2?0:parseInt(p[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),l.isIpad=f==="iPad",l.isIphone=f==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),l.isLinux=f.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(u)},6106:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let u=0;l.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(u=this._search(this._getKey(f)),this._array.splice(u,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const p=this._getKey(f);if(p===void 0||(u=this._search(p),u===-1)||this._getKey(this._array[u])!==p)return!1;do if(this._array[u]===f)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===p);return!1}*getKeyIterator(f){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===f)}forEachByKey(f,p){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do p(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===f)}values(){return[...this._array].values()}_search(f){let p=0,h=this._array.length-1;for(;h>=p;){let v=p+h>>1;const _=this._getKey(this._array[v]);if(_>f)h=v-1;else{if(!(_<f)){for(;v>0&&this._getKey(this._array[v-1])===f;)v--;return v}p=v+1}}return p}}},7226:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const f=u(6114);class p{constructor(){this._tasks=[],this._i=0}enqueue(_){this._tasks.push(_),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(_){this._idleCallback=void 0;let k=0,w=0,x=_.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),w=Math.max(k,w),y=_.timeRemaining(),1.5*w>y)return x-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(x-k))}ms`),void this._start();x=y}this.clear()}}class h extends p{_requestCallback(_){return setTimeout((()=>_(this._createDeadline(16))))}_cancelCallback(_){clearTimeout(_)}_createDeadline(_){const k=Date.now()+_;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends p{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const f=u(643);l.updateWindowsModeWrappedState=function(p){const h=p.buffer.lines.get(p.buffer.ybase+p.buffer.y-1),v=h==null?void 0:h.get(p.cols-1),_=p.buffer.lines.get(p.buffer.ybase+p.buffer.y);_&&v&&(_.isWrapped=v[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&v[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new u;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}l.AttributeData=u;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,v=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=v}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=f},9092:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const f=u(6349),p=u(7226),h=u(3734),v=u(8437),_=u(4634),k=u(511),w=u(643),x=u(4863),y=u(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(g,b,j){this._hasScrollback=g,this._optionsService=b,this._bufferService=j,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new p.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,b){return new v.BufferLine(this._bufferService.cols,this.getNullCell(g),b)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const b=g+this._optionsService.rawOptions.scrollback;return b>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:b}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=v.DEFAULT_ATTR_DATA);let b=this._rows;for(;b--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,b){const j=this.getNullCell(v.DEFAULT_ATTR_DATA);let T=0;const P=this._getCorrectBufferLength(b);if(P>this.lines.maxLength&&(this.lines.maxLength=P),this.lines.length>0){if(this._cols<g)for(let N=0;N<this.lines.length;N++)T+=+this.lines.get(N).resize(g,j);let E=0;if(this._rows<b)for(let N=this._rows;N<b;N++)this.lines.length<b+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(g,j)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(g,j)));else for(let N=this._rows;N>b;N--)this.lines.length>b+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(P<this.lines.maxLength){const N=this.lines.length-P;N>0&&(this.lines.trimStart(N),this.ybase=Math.max(this.ybase-N,0),this.ydisp=Math.max(this.ydisp-N,0),this.savedY=Math.max(this.savedY-N,0)),this.lines.maxLength=P}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,b-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=b-1,this._isReflowEnabled&&(this._reflow(g,b),this._cols>g))for(let E=0;E<this.lines.length;E++)T+=+this.lines.get(E).resize(g,j);this._cols=g,this._rows=b,this._memoryCleanupQueue.clear(),T>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let b=0;for(;this._memoryCleanupPosition<this.lines.length;)if(b+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),b>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,b){this._cols!==g&&(g>this._cols?this._reflowLarger(g,b):this._reflowSmaller(g,b))}_reflowLarger(g,b){const j=(0,_.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(j.length>0){const T=(0,_.reflowLargerCreateNewLayout)(this.lines,j);(0,_.reflowLargerApplyNewLayout)(this.lines,T.layout),this._reflowLargerAdjustViewport(g,b,T.countRemoved)}}_reflowLargerAdjustViewport(g,b,j){const T=this.getNullCell(v.DEFAULT_ATTR_DATA);let P=j;for(;P-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<b&&this.lines.push(new v.BufferLine(g,T))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-j,0)}_reflowSmaller(g,b){const j=this.getNullCell(v.DEFAULT_ATTR_DATA),T=[];let P=0;for(let E=this.lines.length-1;E>=0;E--){let N=this.lines.get(E);if(!N||!N.isWrapped&&N.getTrimmedLength()<=g)continue;const L=[N];for(;N.isWrapped&&E>0;)N=this.lines.get(--E),L.unshift(N);const F=this.ybase+this.y;if(F>=E&&F<E+L.length)continue;const B=L[L.length-1].getTrimmedLength(),V=(0,_.reflowSmallerGetNewLineLengths)(L,this._cols,g),U=V.length-L.length;let X;X=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+U):Math.max(0,this.lines.length-this.lines.maxLength+U);const G=[];for(let O=0;O<U;O++){const W=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);G.push(W)}G.length>0&&(T.push({start:E+L.length+P,newLines:G}),P+=G.length),L.push(...G);let q=V.length-1,K=V[q];K===0&&(q--,K=V[q]);let $=L.length-U-1,D=B;for(;$>=0;){const O=Math.min(D,K);if(L[q]===void 0)break;if(L[q].copyCellsFrom(L[$],D-O,K-O,O,!0),K-=O,K===0&&(q--,K=V[q]),D-=O,D===0){$--;const W=Math.max($,0);D=(0,_.getWrappedLineTrimmedLength)(L,W,this._cols)}}for(let O=0;O<L.length;O++)V[O]<g&&L[O].setCell(V[O],j);let M=U-X;for(;M-- >0;)this.ybase===0?this.y<b-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+P)-b&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+U,this.ybase+b-1)}if(T.length>0){const E=[],N=[];for(let q=0;q<this.lines.length;q++)N.push(this.lines.get(q));const L=this.lines.length;let F=L-1,B=0,V=T[B];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+P);let U=0;for(let q=Math.min(this.lines.maxLength-1,L+P-1);q>=0;q--)if(V&&V.start>F+U){for(let K=V.newLines.length-1;K>=0;K--)this.lines.set(q--,V.newLines[K]);q++,E.push({index:F+1,amount:V.newLines.length}),U+=V.newLines.length,V=T[++B]}else this.lines.set(q,N[F--]);let X=0;for(let q=E.length-1;q>=0;q--)E[q].index+=X,this.lines.onInsertEmitter.fire(E[q]),X+=E[q].amount;const G=Math.max(0,L+P-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}}translateBufferLineToString(g,b,j=0,T){const P=this.lines.get(g);return P?P.translateToString(b,j,T):""}getWrappedRangeForLine(g){let b=g,j=g;for(;b>0&&this.lines.get(b).isWrapped;)b--;for(;j+1<this.lines.length&&this.lines.get(j+1).isWrapped;)j++;return{first:b,last:j}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let b=0;b<this.markers.length;b++)this.markers[b].line===g&&(this.markers[b].dispose(),this.markers.splice(b--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const b=new x.Marker(g);return this.markers.push(b),b.register(this.lines.onTrim((j=>{b.line-=j,b.line<0&&b.dispose()}))),b.register(this.lines.onInsert((j=>{b.line>=j.index&&(b.line+=j.amount)}))),b.register(this.lines.onDelete((j=>{b.line>=j.index&&b.line<j.index+j.amount&&b.dispose(),b.line>j.index&&(b.line-=j.amount)}))),b.register(b.onDispose((()=>this._removeMarker(b)))),b}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const f=u(3734),p=u(511),h=u(643),v=u(482);l.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let _=0;class k{constructor(x,y,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*x);const b=y||p.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let j=0;j<x;++j)this.setCell(j,b);this.length=x}get(x){const y=this._data[3*x+0],g=2097151&y;return[this._data[3*x+1],2097152&y?this._combined[x]:g?(0,v.stringFromCodePoint)(g):"",y>>22,2097152&y?this._combined[x].charCodeAt(this._combined[x].length-1):g]}set(x,y){this._data[3*x+1]=y[h.CHAR_DATA_ATTR_INDEX],y[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[x]=y[1],this._data[3*x+0]=2097152|x|y[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*x+0]=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(x){return this._data[3*x+0]>>22}hasWidth(x){return 12582912&this._data[3*x+0]}getFg(x){return this._data[3*x+1]}getBg(x){return this._data[3*x+2]}hasContent(x){return 4194303&this._data[3*x+0]}getCodePoint(x){const y=this._data[3*x+0];return 2097152&y?this._combined[x].charCodeAt(this._combined[x].length-1):2097151&y}isCombined(x){return 2097152&this._data[3*x+0]}getString(x){const y=this._data[3*x+0];return 2097152&y?this._combined[x]:2097151&y?(0,v.stringFromCodePoint)(2097151&y):""}isProtected(x){return 536870912&this._data[3*x+2]}loadCell(x,y){return _=3*x,y.content=this._data[_+0],y.fg=this._data[_+1],y.bg=this._data[_+2],2097152&y.content&&(y.combinedData=this._combined[x]),268435456&y.bg&&(y.extended=this._extendedAttrs[x]),y}setCell(x,y){2097152&y.content&&(this._combined[x]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[x]=y.extended),this._data[3*x+0]=y.content,this._data[3*x+1]=y.fg,this._data[3*x+2]=y.bg}setCellFromCodepoint(x,y,g,b){268435456&b.bg&&(this._extendedAttrs[x]=b.extended),this._data[3*x+0]=y|g<<22,this._data[3*x+1]=b.fg,this._data[3*x+2]=b.bg}addCodepointToCell(x,y,g){let b=this._data[3*x+0];2097152&b?this._combined[x]+=(0,v.stringFromCodePoint)(y):2097151&b?(this._combined[x]=(0,v.stringFromCodePoint)(2097151&b)+(0,v.stringFromCodePoint)(y),b&=-2097152,b|=2097152):b=y|4194304,g&&(b&=-12582913,b|=g<<22),this._data[3*x+0]=b}insertCells(x,y,g){if((x%=this.length)&&this.getWidth(x-1)===2&&this.setCellFromCodepoint(x-1,0,1,g),y<this.length-x){const b=new p.CellData;for(let j=this.length-x-y-1;j>=0;--j)this.setCell(x+y+j,this.loadCell(x+j,b));for(let j=0;j<y;++j)this.setCell(x+j,g)}else for(let b=x;b<this.length;++b)this.setCell(b,g);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,g)}deleteCells(x,y,g){if(x%=this.length,y<this.length-x){const b=new p.CellData;for(let j=0;j<this.length-x-y;++j)this.setCell(x+j,this.loadCell(x+y+j,b));for(let j=this.length-y;j<this.length;++j)this.setCell(j,g)}else for(let b=x;b<this.length;++b)this.setCell(b,g);x&&this.getWidth(x-1)===2&&this.setCellFromCodepoint(x-1,0,1,g),this.getWidth(x)!==0||this.hasContent(x)||this.setCellFromCodepoint(x,0,1,g)}replaceCells(x,y,g,b=!1){if(b)for(x&&this.getWidth(x-1)===2&&!this.isProtected(x-1)&&this.setCellFromCodepoint(x-1,0,1,g),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodepoint(y,0,1,g);x<y&&x<this.length;)this.isProtected(x)||this.setCell(x,g),x++;else for(x&&this.getWidth(x-1)===2&&this.setCellFromCodepoint(x-1,0,1,g),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y,0,1,g);x<y&&x<this.length;)this.setCell(x++,g)}resize(x,y){if(x===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*x;if(x>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const b=new Uint32Array(g);b.set(this._data),this._data=b}for(let b=this.length;b<x;++b)this.setCell(b,y)}else{this._data=this._data.subarray(0,g);const b=Object.keys(this._combined);for(let T=0;T<b.length;T++){const P=parseInt(b[T],10);P>=x&&delete this._combined[P]}const j=Object.keys(this._extendedAttrs);for(let T=0;T<j.length;T++){const P=parseInt(j[T],10);P>=x&&delete this._extendedAttrs[P]}}return this.length=x,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const x=new Uint32Array(this._data.length);return x.set(this._data),this._data=x,1}return 0}fill(x,y=!1){if(y)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,x);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,x)}}copyFrom(x){this.length!==x.length?this._data=new Uint32Array(x._data):this._data.set(x._data),this.length=x.length,this._combined={};for(const y in x._combined)this._combined[y]=x._combined[y];this._extendedAttrs={};for(const y in x._extendedAttrs)this._extendedAttrs[y]=x._extendedAttrs[y];this.isWrapped=x.isWrapped}clone(){const x=new k(0);x._data=new Uint32Array(this._data),x.length=this.length;for(const y in this._combined)x._combined[y]=this._combined[y];for(const y in this._extendedAttrs)x._extendedAttrs[y]=this._extendedAttrs[y];return x.isWrapped=this.isWrapped,x}getTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0])return x+(this._data[3*x+0]>>22);return 0}getNoBgTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0]||50331648&this._data[3*x+2])return x+(this._data[3*x+0]>>22);return 0}copyCellsFrom(x,y,g,b,j){const T=x._data;if(j)for(let E=b-1;E>=0;E--){for(let N=0;N<3;N++)this._data[3*(g+E)+N]=T[3*(y+E)+N];268435456&T[3*(y+E)+2]&&(this._extendedAttrs[g+E]=x._extendedAttrs[y+E])}else for(let E=0;E<b;E++){for(let N=0;N<3;N++)this._data[3*(g+E)+N]=T[3*(y+E)+N];268435456&T[3*(y+E)+2]&&(this._extendedAttrs[g+E]=x._extendedAttrs[y+E])}const P=Object.keys(x._combined);for(let E=0;E<P.length;E++){const N=parseInt(P[E],10);N>=y&&(this._combined[N-y+g]=x._combined[N])}}translateToString(x,y,g,b){y=y??0,g=g??this.length,x&&(g=Math.min(g,this.getTrimmedLength())),b&&(b.length=0);let j="";for(;y<g;){const T=this._data[3*y+0],P=2097151&T,E=2097152&T?this._combined[y]:P?(0,v.stringFromCodePoint)(P):h.WHITESPACE_CELL_CHAR;if(j+=E,b)for(let N=0;N<E.length;++N)b.push(y);y+=T>>22||1}return b&&b.push(y),j}}l.BufferLine=k},4841:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(u,f){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return f*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(c,l)=>{function u(f,p,h){if(p===f.length-1)return f[p].getTrimmedLength();const v=!f[p].hasContent(h-1)&&f[p].getWidth(h-1)===1,_=f[p+1].getWidth(0)===2;return v&&_?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(f,p,h,v,_){const k=[];for(let w=0;w<f.length-1;w++){let x=w,y=f.get(++x);if(!y.isWrapped)continue;const g=[f.get(w)];for(;x<f.length&&y.isWrapped;)g.push(y),y=f.get(++x);if(v>=w&&v<x){w+=g.length-1;continue}let b=0,j=u(g,b,p),T=1,P=0;for(;T<g.length;){const N=u(g,T,p),L=N-P,F=h-j,B=Math.min(L,F);g[b].copyCellsFrom(g[T],P,j,B,!1),j+=B,j===h&&(b++,j=0),P+=B,P===N&&(T++,P=0),j===0&&b!==0&&g[b-1].getWidth(h-1)===2&&(g[b].copyCellsFrom(g[b-1],h-1,j++,1,!1),g[b-1].setCell(h-1,_))}g[b].replaceCells(j,h,_);let E=0;for(let N=g.length-1;N>0&&(N>b||g[N].getTrimmedLength()===0);N--)E++;E>0&&(k.push(w+g.length-E),k.push(E)),w+=g.length-1}return k},l.reflowLargerCreateNewLayout=function(f,p){const h=[];let v=0,_=p[v],k=0;for(let w=0;w<f.length;w++)if(_===w){const x=p[++v];f.onDeleteEmitter.fire({index:w-k,amount:x}),w+=x-1,k+=x,_=p[++v]}else h.push(w);return{layout:h,countRemoved:k}},l.reflowLargerApplyNewLayout=function(f,p){const h=[];for(let v=0;v<p.length;v++)h.push(f.get(p[v]));for(let v=0;v<h.length;v++)f.set(v,h[v]);f.length=p.length},l.reflowSmallerGetNewLineLengths=function(f,p,h){const v=[],_=f.map(((y,g)=>u(f,g,p))).reduce(((y,g)=>y+g));let k=0,w=0,x=0;for(;x<_;){if(_-x<h){v.push(_-x);break}k+=h;const y=u(f,w,p);k>y&&(k-=y,w++);const g=f[w].getWidth(k-1)===2;g&&k--;const b=g?h-1:h;v.push(b),x+=b}return v},l.getWrappedLineTrimmedLength=u},5295:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const f=u(8460),p=u(844),h=u(9092);class v extends p.Disposable{constructor(k,w){super(),this._optionsService=k,this._bufferService=w,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,w){this._normal.resize(k,w),this._alt.resize(k,w),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}l.BufferSet=v},511:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const f=u(482),p=u(643),h=u(3734);class v extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const w=new v;return w.setFromCharData(k),w}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[p.CHAR_DATA_ATTR_INDEX],this.bg=0;let w=!1;if(k[p.CHAR_DATA_CHAR_INDEX].length>2)w=!0;else if(k[p.CHAR_DATA_CHAR_INDEX].length===2){const x=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=x&&x<=56319){const y=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(x-55296)+y-56320+65536|k[p.CHAR_DATA_WIDTH_INDEX]<<22:w=!0}else w=!0}else this.content=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[p.CHAR_DATA_WIDTH_INDEX]<<22;w&&(this.combinedData=k[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[p.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=v},643:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const f=u(8460),p=u(844);class h{get id(){return this._id}constructor(_){this.line=_,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,p.disposeArray)(this._disposables),this._disposables.length=0)}register(_){return this._disposables.push(_),_}}l.Marker=h,h._nextId=1},7116:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(c,l)=>{var u,f,p;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""})(u||(l.C0=u={})),(function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""})(f||(l.C1=f={})),(function(h){h.ST=`${u.ESC}\\`})(p||(l.C1_ESCAPED=p={}))},7399:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const f=u(2584),p={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,v,_,k){const w={type:0,cancel:!1,key:void 0},x=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?w.key=v?f.C0.ESC+"OA":f.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?w.key=v?f.C0.ESC+"OD":f.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?w.key=v?f.C0.ESC+"OC":f.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(w.key=v?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:w.key=h.ctrlKey?"\b":f.C0.DEL,h.altKey&&(w.key=f.C0.ESC+w.key);break;case 9:if(h.shiftKey){w.key=f.C0.ESC+"[Z";break}w.key=f.C0.HT,w.cancel=!0;break;case 13:w.key=h.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,w.cancel=!0;break;case 27:w.key=f.C0.ESC,h.altKey&&(w.key=f.C0.ESC+f.C0.ESC),w.cancel=!0;break;case 37:if(h.metaKey)break;x?(w.key=f.C0.ESC+"[1;"+(x+1)+"D",w.key===f.C0.ESC+"[1;3D"&&(w.key=f.C0.ESC+(_?"b":"[1;5D"))):w.key=v?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(h.metaKey)break;x?(w.key=f.C0.ESC+"[1;"+(x+1)+"C",w.key===f.C0.ESC+"[1;3C"&&(w.key=f.C0.ESC+(_?"f":"[1;5C"))):w.key=v?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(h.metaKey)break;x?(w.key=f.C0.ESC+"[1;"+(x+1)+"A",_||w.key!==f.C0.ESC+"[1;3A"||(w.key=f.C0.ESC+"[1;5A")):w.key=v?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(h.metaKey)break;x?(w.key=f.C0.ESC+"[1;"+(x+1)+"B",_||w.key!==f.C0.ESC+"[1;3B"||(w.key=f.C0.ESC+"[1;5B")):w.key=v?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(w.key=f.C0.ESC+"[2~");break;case 46:w.key=x?f.C0.ESC+"[3;"+(x+1)+"~":f.C0.ESC+"[3~";break;case 36:w.key=x?f.C0.ESC+"[1;"+(x+1)+"H":v?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:w.key=x?f.C0.ESC+"[1;"+(x+1)+"F":v?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:h.shiftKey?w.type=2:h.ctrlKey?w.key=f.C0.ESC+"[5;"+(x+1)+"~":w.key=f.C0.ESC+"[5~";break;case 34:h.shiftKey?w.type=3:h.ctrlKey?w.key=f.C0.ESC+"[6;"+(x+1)+"~":w.key=f.C0.ESC+"[6~";break;case 112:w.key=x?f.C0.ESC+"[1;"+(x+1)+"P":f.C0.ESC+"OP";break;case 113:w.key=x?f.C0.ESC+"[1;"+(x+1)+"Q":f.C0.ESC+"OQ";break;case 114:w.key=x?f.C0.ESC+"[1;"+(x+1)+"R":f.C0.ESC+"OR";break;case 115:w.key=x?f.C0.ESC+"[1;"+(x+1)+"S":f.C0.ESC+"OS";break;case 116:w.key=x?f.C0.ESC+"[15;"+(x+1)+"~":f.C0.ESC+"[15~";break;case 117:w.key=x?f.C0.ESC+"[17;"+(x+1)+"~":f.C0.ESC+"[17~";break;case 118:w.key=x?f.C0.ESC+"[18;"+(x+1)+"~":f.C0.ESC+"[18~";break;case 119:w.key=x?f.C0.ESC+"[19;"+(x+1)+"~":f.C0.ESC+"[19~";break;case 120:w.key=x?f.C0.ESC+"[20;"+(x+1)+"~":f.C0.ESC+"[20~";break;case 121:w.key=x?f.C0.ESC+"[21;"+(x+1)+"~":f.C0.ESC+"[21~";break;case 122:w.key=x?f.C0.ESC+"[23;"+(x+1)+"~":f.C0.ESC+"[23~";break;case 123:w.key=x?f.C0.ESC+"[24;"+(x+1)+"~":f.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(_&&!k||!h.altKey||h.metaKey)!_||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?w.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(w.key=f.C0.US),h.key==="@"&&(w.key=f.C0.NUL)):h.keyCode===65&&(w.type=1);else{const y=p[h.keyCode],g=y==null?void 0:y[h.shiftKey?1:0];if(g)w.key=f.C0.ESC+g;else if(h.keyCode>=65&&h.keyCode<=90){const b=h.ctrlKey?h.keyCode-64:h.keyCode+32;let j=String.fromCharCode(b);h.shiftKey&&(j=j.toUpperCase()),w.key=f.C0.ESC+j}else if(h.keyCode===32)w.key=f.C0.ESC+(h.ctrlKey?f.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let b=h.code.slice(3,4);h.shiftKey||(b=b.toLowerCase()),w.key=f.C0.ESC+b,w.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?w.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?w.key=f.C0.NUL:h.keyCode>=51&&h.keyCode<=55?w.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?w.key=f.C0.DEL:h.keyCode===219?w.key=f.C0.ESC:h.keyCode===220?w.key=f.C0.FS:h.keyCode===221&&(w.key=f.C0.GS)}return w}},482:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},l.utf32ToString=function(u,f=0,p=u.length){let h="";for(let v=f;v<p;++v){let _=u[v];_>65535?(_-=65536,h+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):h+=String.fromCharCode(_)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,f){const p=u.length;if(!p)return 0;let h=0,v=0;if(this._interim){const _=u.charCodeAt(v++);56320<=_&&_<=57343?f[h++]=1024*(this._interim-55296)+_-56320+65536:(f[h++]=this._interim,f[h++]=_),this._interim=0}for(let _=v;_<p;++_){const k=u.charCodeAt(_);if(55296<=k&&k<=56319){if(++_>=p)return this._interim=k,h;const w=u.charCodeAt(_);56320<=w&&w<=57343?f[h++]=1024*(k-55296)+w-56320+65536:(f[h++]=k,f[h++]=w)}else k!==65279&&(f[h++]=k)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,f){const p=u.length;if(!p)return 0;let h,v,_,k,w=0,x=0,y=0;if(this.interim[0]){let j=!1,T=this.interim[0];T&=(224&T)==192?31:(240&T)==224?15:7;let P,E=0;for(;(P=63&this.interim[++E])&&E<4;)T<<=6,T|=P;const N=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=N-E;for(;y<L;){if(y>=p)return 0;if(P=u[y++],(192&P)!=128){y--,j=!0;break}this.interim[E++]=P,T<<=6,T|=63&P}j||(N===2?T<128?y--:f[w++]=T:N===3?T<2048||T>=55296&&T<=57343||T===65279||(f[w++]=T):T<65536||T>1114111||(f[w++]=T)),this.interim.fill(0)}const g=p-4;let b=y;for(;b<p;){for(;!(!(b<g)||128&(h=u[b])||128&(v=u[b+1])||128&(_=u[b+2])||128&(k=u[b+3]));)f[w++]=h,f[w++]=v,f[w++]=_,f[w++]=k,b+=4;if(h=u[b++],h<128)f[w++]=h;else if((224&h)==192){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(x=(31&h)<<6|63&v,x<128){b--;continue}f[w++]=x}else if((240&h)==224){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,w;if(_=u[b++],(192&_)!=128){b--;continue}if(x=(15&h)<<12|(63&v)<<6|63&_,x<2048||x>=55296&&x<=57343||x===65279)continue;f[w++]=x}else if((248&h)==240){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,w;if(_=u[b++],(192&_)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,this.interim[2]=_,w;if(k=u[b++],(192&k)!=128){b--;continue}if(x=(7&h)<<18|(63&v)<<12|(63&_)<<6|63&k,x<65536||x>1114111)continue;f[w++]=x}}return w}}},225:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const f=u(1480),p=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;l.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let _=0;_<p.length;++_)v.fill(0,p[_][0],p[_][1]+1)}}wcwidth(_){return _<32?0:_<127?1:_<65536?v[_]:(function(k,w){let x,y=0,g=w.length-1;if(k<w[0][0]||k>w[g][1])return!1;for(;g>=y;)if(x=y+g>>1,k>w[x][1])y=x+1;else{if(!(k<w[x][0]))return!0;g=x-1}return!1})(_,h)?0:_>=131072&&_<=196605||_>=196608&&_<=262141?2:1}charProperties(_,k){let w=this.wcwidth(_),x=w===0&&k!==0;if(x){const y=f.UnicodeService.extractWidth(k);y===0?x=!1:y>w&&(w=y)}return f.UnicodeService.createPropertyValue(0,w,x)}}},5981:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const f=u(8460),p=u(844);class h extends p.Disposable{constructor(_){super(),this._action=_,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(_,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);const x=this._callbacks.shift();x&&x()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(_,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(k)}_innerWrite(_=0,k=!0){const w=_||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const x=this._writeBuffer[this._bufferOffset],y=this._action(x,k);if(y){const b=j=>Date.now()-w>=12?setTimeout((()=>this._innerWrite(0,j))):this._innerWrite(w,j);return void y.catch((j=>(queueMicrotask((()=>{throw j})),Promise.resolve(!1)))).then(b)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=x.length,Date.now()-w>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function p(h,v){const _=h.toString(16),k=_.length<2?"0"+_:_;switch(v){case 4:return _[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}l.parseColor=function(h){if(!h)return;let v=h.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const _=u.exec(v);if(_){const k=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/k*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/k*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/k*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),f.exec(v)&&[3,6,9,12].includes(v.length))){const _=v.length/3,k=[0,0,0];for(let w=0;w<3;++w){const x=parseInt(v.slice(_*w,_*w+_),16);k[w]=_===1?x<<4:_===2?x:_===3?x>>4:x>>8}return k}},l.toRgbString=function(h,v=16){const[_,k,w]=h;return`rgb:${p(_,v)}/${p(k,v)}/${p(w,v)}`}},5770:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const f=u(482),p=u(8742),h=u(5770),v=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(k,w){this._handlers[k]===void 0&&(this._handlers[k]=[]);const x=this._handlers[k];return x.push(w),{dispose:()=>{const y=x.indexOf(w);y!==-1&&x.splice(y,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(k,w){if(this.reset(),this._ident=k,this._active=this._handlers[k]||v,this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].hook(w);else this._handlerFb(this._ident,"HOOK",w)}put(k,w,x){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(k,w,x);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(k,w,x))}unhook(k,w=!0){if(this._active.length){let x=!1,y=this._active.length-1,g=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,x=w,g=this._stack.fallThrough,this._stack.paused=!1),!g&&x===!1){for(;y>=0&&(x=this._active[y].unhook(k),x!==!0);y--)if(x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,x;y--}for(;y>=0;y--)if(x=this._active[y].unhook(!1),x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,x}else this._handlerFb(this._ident,"UNHOOK",k);this._active=v,this._ident=0}};const _=new p.Params;_.addParam(0),l.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=_,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():_,this._data="",this._hitLimit=!1}put(k,w,x){this._hitLimit||(this._data+=(0,f.utf32ToString)(k,w,x),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let w=!1;if(this._hitLimit)w=!1;else if(k&&(w=this._handler(this._data,this._params),w instanceof Promise))return w.then((x=>(this._params=_,this._data="",this._hitLimit=!1,x)));return this._params=_,this._data="",this._hitLimit=!1,w}}},2015:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const f=u(844),p=u(8742),h=u(6242),v=u(6351);class _{constructor(y){this.table=new Uint8Array(y)}setDefault(y,g){this.table.fill(y<<4|g)}add(y,g,b,j){this.table[g<<8|y]=b<<4|j}addMany(y,g,b,j){for(let T=0;T<y.length;T++)this.table[g<<8|y[T]]=b<<4|j}}l.TransitionTable=_;const k=160;l.VT500_TRANSITION_TABLE=(function(){const x=new _(4095),y=Array.apply(null,Array(256)).map(((E,N)=>N)),g=(E,N)=>y.slice(E,N),b=g(32,127),j=g(0,24);j.push(25),j.push.apply(j,g(28,32));const T=g(0,14);let P;for(P in x.setDefault(1,0),x.addMany(b,0,2,0),T)x.addMany([24,26,153,154],P,3,0),x.addMany(g(128,144),P,3,0),x.addMany(g(144,152),P,3,0),x.add(156,P,0,0),x.add(27,P,11,1),x.add(157,P,4,8),x.addMany([152,158,159],P,0,7),x.add(155,P,11,3),x.add(144,P,11,9);return x.addMany(j,0,3,0),x.addMany(j,1,3,1),x.add(127,1,0,1),x.addMany(j,8,0,8),x.addMany(j,3,3,3),x.add(127,3,0,3),x.addMany(j,4,3,4),x.add(127,4,0,4),x.addMany(j,6,3,6),x.addMany(j,5,3,5),x.add(127,5,0,5),x.addMany(j,2,3,2),x.add(127,2,0,2),x.add(93,1,4,8),x.addMany(b,8,5,8),x.add(127,8,5,8),x.addMany([156,27,24,26,7],8,6,0),x.addMany(g(28,32),8,0,8),x.addMany([88,94,95],1,0,7),x.addMany(b,7,0,7),x.addMany(j,7,0,7),x.add(156,7,0,0),x.add(127,7,0,7),x.add(91,1,11,3),x.addMany(g(64,127),3,7,0),x.addMany(g(48,60),3,8,4),x.addMany([60,61,62,63],3,9,4),x.addMany(g(48,60),4,8,4),x.addMany(g(64,127),4,7,0),x.addMany([60,61,62,63],4,0,6),x.addMany(g(32,64),6,0,6),x.add(127,6,0,6),x.addMany(g(64,127),6,0,0),x.addMany(g(32,48),3,9,5),x.addMany(g(32,48),5,9,5),x.addMany(g(48,64),5,0,6),x.addMany(g(64,127),5,7,0),x.addMany(g(32,48),4,9,5),x.addMany(g(32,48),1,9,2),x.addMany(g(32,48),2,9,2),x.addMany(g(48,127),2,10,0),x.addMany(g(48,80),1,10,0),x.addMany(g(81,88),1,10,0),x.addMany([89,90,92],1,10,0),x.addMany(g(96,127),1,10,0),x.add(80,1,11,9),x.addMany(j,9,0,9),x.add(127,9,0,9),x.addMany(g(28,32),9,0,9),x.addMany(g(32,48),9,9,12),x.addMany(g(48,60),9,8,10),x.addMany([60,61,62,63],9,9,10),x.addMany(j,11,0,11),x.addMany(g(32,128),11,0,11),x.addMany(g(28,32),11,0,11),x.addMany(j,10,0,10),x.add(127,10,0,10),x.addMany(g(28,32),10,0,10),x.addMany(g(48,60),10,8,10),x.addMany([60,61,62,63],10,0,11),x.addMany(g(32,48),10,9,12),x.addMany(j,12,0,12),x.add(127,12,0,12),x.addMany(g(28,32),12,0,12),x.addMany(g(32,48),12,9,12),x.addMany(g(48,64),12,0,11),x.addMany(g(64,127),12,12,13),x.addMany(g(64,127),10,12,13),x.addMany(g(64,127),9,12,13),x.addMany(j,13,13,13),x.addMany(b,13,13,13),x.add(127,13,0,13),x.addMany([27,156,24,26],13,14,0),x.add(k,0,2,0),x.add(k,8,5,8),x.add(k,6,0,6),x.add(k,11,0,11),x.add(k,13,13,13),x})();class w extends f.Disposable{constructor(y=l.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new p.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(g,b,j)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,b)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(y,g=[64,126]){let b=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(b=y.prefix.charCodeAt(0),b&&60>b||b>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let T=0;T<y.intermediates.length;++T){const P=y.intermediates.charCodeAt(T);if(32>P||P>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");b<<=8,b|=P}}if(y.final.length!==1)throw new Error("final must be a single byte");const j=y.final.charCodeAt(0);if(g[0]>j||j>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return b<<=8,b|=j,b}identToString(y){const g=[];for(;y;)g.push(String.fromCharCode(255&y)),y>>=8;return g.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,g){const b=this._identifier(y,[48,126]);this._escHandlers[b]===void 0&&(this._escHandlers[b]=[]);const j=this._escHandlers[b];return j.push(g),{dispose:()=>{const T=j.indexOf(g);T!==-1&&j.splice(T,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,g){this._executeHandlers[y.charCodeAt(0)]=g}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,g){const b=this._identifier(y);this._csiHandlers[b]===void 0&&(this._csiHandlers[b]=[]);const j=this._csiHandlers[b];return j.push(g),{dispose:()=>{const T=j.indexOf(g);T!==-1&&j.splice(T,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,g){return this._dcsParser.registerHandler(this._identifier(y),g)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,g){return this._oscParser.registerHandler(y,g)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,g,b,j,T){this._parseStack.state=y,this._parseStack.handlers=g,this._parseStack.handlerPos=b,this._parseStack.transition=j,this._parseStack.chunkPos=T}parse(y,g,b){let j,T=0,P=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(b===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const N=this._parseStack.handlers;let L=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(b===!1&&L>-1){for(;L>=0&&(j=N[L](this._params),j!==!0);L--)if(j instanceof Promise)return this._parseStack.handlerPos=L,j}this._parseStack.handlers=[];break;case 4:if(b===!1&&L>-1){for(;L>=0&&(j=N[L](),j!==!0);L--)if(j instanceof Promise)return this._parseStack.handlerPos=L,j}this._parseStack.handlers=[];break;case 6:if(T=y[this._parseStack.chunkPos],j=this._dcsParser.unhook(T!==24&&T!==26,b),j)return j;T===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(T=y[this._parseStack.chunkPos],j=this._oscParser.end(T!==24&&T!==26,b),j)return j;T===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let N=E;N<g;++N){switch(T=y[N],P=this._transitions.table[this.currentState<<8|(T<160?T:k)],P>>4){case 2:for(let U=N+1;;++U){if(U>=g||(T=y[U])<32||T>126&&T<k){this._printHandler(y,N,U),N=U-1;break}if(++U>=g||(T=y[U])<32||T>126&&T<k){this._printHandler(y,N,U),N=U-1;break}if(++U>=g||(T=y[U])<32||T>126&&T<k){this._printHandler(y,N,U),N=U-1;break}if(++U>=g||(T=y[U])<32||T>126&&T<k){this._printHandler(y,N,U),N=U-1;break}}break;case 3:this._executeHandlers[T]?this._executeHandlers[T]():this._executeHandlerFb(T),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:N,code:T,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const L=this._csiHandlers[this._collect<<8|T];let F=L?L.length-1:-1;for(;F>=0&&(j=L[F](this._params),j!==!0);F--)if(j instanceof Promise)return this._preserveStack(3,L,F,P,N),j;F<0&&this._csiHandlerFb(this._collect<<8|T,this._params),this.precedingJoinState=0;break;case 8:do switch(T){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(T-48)}while(++N<g&&(T=y[N])>47&&T<60);N--;break;case 9:this._collect<<=8,this._collect|=T;break;case 10:const B=this._escHandlers[this._collect<<8|T];let V=B?B.length-1:-1;for(;V>=0&&(j=B[V](),j!==!0);V--)if(j instanceof Promise)return this._preserveStack(4,B,V,P,N),j;V<0&&this._escHandlerFb(this._collect<<8|T),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|T,this._params);break;case 13:for(let U=N+1;;++U)if(U>=g||(T=y[U])===24||T===26||T===27||T>127&&T<k){this._dcsParser.put(y,N,U),N=U-1;break}break;case 14:if(j=this._dcsParser.unhook(T!==24&&T!==26),j)return this._preserveStack(6,[],0,P,N),j;T===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let U=N+1;;U++)if(U>=g||(T=y[U])<32||T>127&&T<k){this._oscParser.put(y,N,U),N=U-1;break}break;case 6:if(j=this._oscParser.end(T!==24&&T!==26),j)return this._preserveStack(5,[],0,P,N),j;T===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&P}}}l.EscapeSequenceParser=w},6242:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const f=u(5770),p=u(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,_){this._handlers[v]===void 0&&(this._handlers[v]=[]);const k=this._handlers[v];return k.push(_),{dispose:()=>{const w=k.indexOf(_);w!==-1&&k.splice(w,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,_,k){if(this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].put(v,_,k);else this._handlerFb(this._id,"PUT",(0,p.utf32ToString)(v,_,k))}start(){this.reset(),this._state=1}put(v,_,k){if(this._state!==3){if(this._state===1)for(;_<k;){const w=v[_++];if(w===59){this._state=2,this._start();break}if(w<48||57<w)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+w-48}this._state===2&&k-_>0&&this._put(v,_,k)}}end(v,_=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,w=this._active.length-1,x=!1;if(this._stack.paused&&(w=this._stack.loopPosition-1,k=_,x=this._stack.fallThrough,this._stack.paused=!1),!x&&k===!1){for(;w>=0&&(k=this._active[w].end(v),k!==!0);w--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!1,k;w--}for(;w>=0;w--)if(k=this._active[w].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",v);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,_,k){this._hitLimit||(this._data+=(0,p.utf32ToString)(v,_,k),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let _=!1;if(this._hitLimit)_=!1;else if(v&&(_=this._handler(this._data),_ instanceof Promise))return _.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,_}}},8742:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const u=2147483647;class f{static fromArray(h){const v=new f;if(!h.length)return v;for(let _=Array.isArray(h[0])?1:0;_<h.length;++_){const k=h[_];if(Array.isArray(k))for(let w=0;w<k.length;++w)v.addSubParam(k[w]);else v.addParam(k)}return v}constructor(h=32,v=32){if(this.maxLength=h,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new f(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let v=0;v<this.length;++v){h.push(this.params[v]);const _=this._subParamsIdx[v]>>8,k=255&this._subParamsIdx[v];k-_>0&&h.push(Array.prototype.slice.call(this._subParams,_,k))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>u?u:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>u?u:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const v=this._subParamsIdx[h]>>8,_=255&this._subParamsIdx[h];return _-v>0?this._subParams.subarray(v,_):null}getSubParamsAll(){const h={};for(let v=0;v<this.length;++v){const _=this._subParamsIdx[v]>>8,k=255&this._subParamsIdx[v];k-_>0&&(h[v]=this._subParams.slice(_,k))}return h}addDigit(h){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const _=this._digitIsSub?this._subParams:this.params,k=_[v-1];_[v-1]=~k?Math.min(10*k+h,u):h}}l.Params=f},5741:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,f){const p={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(p),f.dispose=()=>this._wrappedAddonDispose(p),f.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let f=-1;for(let p=0;p<this._addons.length;p++)if(this._addons[p]===u){f=p;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(f,1)}}},8771:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const f=u(3785),p=u(511);l.BufferApiView=class{constructor(h,v){this._buffer=h,this.type=v}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const v=this._buffer.lines.get(h);if(v)return new f.BufferLineApiView(v)}getNullCell(){return new p.CellData}}},3785:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const f=u(511);l.BufferLineApiView=class{constructor(p){this._line=p}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(p,h){if(!(p<0||p>=this._line.length))return h?(this._line.loadCell(p,h),h):this._line.loadCell(p,new f.CellData)}translateToString(p,h,v){return this._line.translateToString(p,h,v)}}},8285:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const f=u(8771),p=u(8460),h=u(844);class v extends h.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new p.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=v},7975:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,f){return this._core.registerCsiHandler(u,(p=>f(p.toArray())))}addCsiHandler(u,f){return this.registerCsiHandler(u,f)}registerDcsHandler(u,f){return this._core.registerDcsHandler(u,((p,h)=>f(p,h.toArray())))}addDcsHandler(u,f){return this.registerDcsHandler(u,f)}registerEscHandler(u,f){return this._core.registerEscHandler(u,f)}addEscHandler(u,f){return this.registerEscHandler(u,f)}registerOscHandler(u,f){return this._core.registerOscHandler(u,f)}addOscHandler(u,f){return this.registerOscHandler(u,f)}}},7090:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(c,l,u){var f=this&&this.__decorate||function(x,y,g,b){var j,T=arguments.length,P=T<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,y,g,b);else for(var E=x.length-1;E>=0;E--)(j=x[E])&&(P=(T<3?j(P):T>3?j(y,g,P):j(y,g))||P);return T>3&&P&&Object.defineProperty(y,g,P),P},p=this&&this.__param||function(x,y){return function(g,b){y(g,b,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=u(8460),v=u(844),_=u(5295),k=u(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let w=l.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(x){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(x.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(x.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new _.BufferSet(x,this))}resize(x,y){this.cols=x,this.rows=y,this.buffers.resize(x,y),this._onResize.fire({cols:x,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(x,y=!1){const g=this.buffer;let b;b=this._cachedBlankLine,b&&b.length===this.cols&&b.getFg(0)===x.fg&&b.getBg(0)===x.bg||(b=g.getBlankLine(x,y),this._cachedBlankLine=b),b.isWrapped=y;const j=g.ybase+g.scrollTop,T=g.ybase+g.scrollBottom;if(g.scrollTop===0){const P=g.lines.isFull;T===g.lines.length-1?P?g.lines.recycle().copyFrom(b):g.lines.push(b.clone()):g.lines.splice(T+1,0,b.clone()),P?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const P=T-j+1;g.lines.shiftElements(j+1,P-1,-1),g.lines.set(T,b.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(x,y,g){const b=this.buffer;if(x<0){if(b.ydisp===0)return;this.isUserScrolling=!0}else x+b.ydisp>=b.ybase&&(this.isUserScrolling=!1);const j=b.ydisp;b.ydisp=Math.max(Math.min(b.ydisp+x,b.ybase),0),j!==b.ydisp&&(y||this._onScroll.fire(b.ydisp))}};l.BufferService=w=f([p(0,k.IOptionsService)],w)},7994:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,f){this._charsets[u]=f,this.glevel===u&&(this.charset=f)}}},1753:function(c,l,u){var f=this&&this.__decorate||function(b,j,T,P){var E,N=arguments.length,L=N<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(b,j,T,P);else for(var F=b.length-1;F>=0;F--)(E=b[F])&&(L=(N<3?E(L):N>3?E(j,T,L):E(j,T))||L);return N>3&&L&&Object.defineProperty(j,T,L),L},p=this&&this.__param||function(b,j){return function(T,P){j(T,P,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=u(2585),v=u(8460),_=u(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:b=>b.button!==4&&b.action===1&&(b.ctrl=!1,b.alt=!1,b.shift=!1,!0)},VT200:{events:19,restrict:b=>b.action!==32},DRAG:{events:23,restrict:b=>b.action!==32||b.button!==3},ANY:{events:31,restrict:b=>!0}};function w(b,j){let T=(b.ctrl?16:0)|(b.shift?4:0)|(b.alt?8:0);return b.button===4?(T|=64,T|=b.action):(T|=3&b.button,4&b.button&&(T|=64),8&b.button&&(T|=128),b.action===32?T|=32:b.action!==0||j||(T|=3)),T}const x=String.fromCharCode,y={DEFAULT:b=>{const j=[w(b,!1)+32,b.col+32,b.row+32];return j[0]>255||j[1]>255||j[2]>255?"":`\x1B[M${x(j[0])}${x(j[1])}${x(j[2])}`},SGR:b=>{const j=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${w(b,!0)};${b.col};${b.row}${j}`},SGR_PIXELS:b=>{const j=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${w(b,!0)};${b.x};${b.y}${j}`}};let g=l.CoreMouseService=class extends _.Disposable{constructor(b,j){super(),this._bufferService=b,this._coreService=j,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const T of Object.keys(k))this.addProtocol(T,k[T]);for(const T of Object.keys(y))this.addEncoding(T,y[T]);this.reset()}addProtocol(b,j){this._protocols[b]=j}addEncoding(b,j){this._encodings[b]=j}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(b){if(!this._protocols[b])throw new Error(`unknown protocol "${b}"`);this._activeProtocol=b,this._onProtocolChange.fire(this._protocols[b].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(b){if(!this._encodings[b])throw new Error(`unknown encoding "${b}"`);this._activeEncoding=b}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(b){if(b.col<0||b.col>=this._bufferService.cols||b.row<0||b.row>=this._bufferService.rows||b.button===4&&b.action===32||b.button===3&&b.action!==32||b.button!==4&&(b.action===2||b.action===3)||(b.col++,b.row++,b.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,b,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(b))return!1;const j=this._encodings[this._activeEncoding](b);return j&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(j):this._coreService.triggerDataEvent(j,!0)),this._lastEvent=b,!0}explainEvents(b){return{down:!!(1&b),up:!!(2&b),drag:!!(4&b),move:!!(8&b),wheel:!!(16&b)}}_equalEvents(b,j,T){if(T){if(b.x!==j.x||b.y!==j.y)return!1}else if(b.col!==j.col||b.row!==j.row)return!1;return b.button===j.button&&b.action===j.action&&b.ctrl===j.ctrl&&b.alt===j.alt&&b.shift===j.shift}};l.CoreMouseService=g=f([p(0,h.IBufferService),p(1,h.ICoreService)],g)},6975:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,T){var P,E=arguments.length,N=E<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,j):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(g,b,j,T);else for(var L=g.length-1;L>=0;L--)(P=g[L])&&(N=(E<3?P(N):E>3?P(b,j,N):P(b,j))||N);return E>3&&N&&Object.defineProperty(b,j,N),N},p=this&&this.__param||function(g,b){return function(j,T){b(j,T,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=u(1439),v=u(8460),_=u(844),k=u(2585),w=Object.freeze({insertMode:!1}),x=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=l.CoreService=class extends _.Disposable{constructor(g,b,j){super(),this._bufferService=g,this._logService=b,this._optionsService=j,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(w),this.decPrivateModes=(0,h.clone)(x)}reset(){this.modes=(0,h.clone)(w),this.decPrivateModes=(0,h.clone)(x)}triggerDataEvent(g,b=!1){if(this._optionsService.rawOptions.disableStdin)return;const j=this._bufferService.buffer;b&&this._optionsService.rawOptions.scrollOnUserInput&&j.ybase!==j.ydisp&&this._onRequestScrollToBottom.fire(),b&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((T=>T.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((b=>b.charCodeAt(0))))),this._onBinary.fire(g))}};l.CoreService=y=f([p(0,k.IBufferService),p(1,k.ILogService),p(2,k.IOptionsService)],y)},9074:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const f=u(8055),p=u(8460),h=u(844),v=u(6106);let _=0,k=0;class w extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList((g=>g==null?void 0:g.marker.line)),this._onDecorationRegistered=this.register(new p.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new p.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const b=new x(g);if(b){const j=b.marker.onDispose((()=>b.dispose()));b.onDispose((()=>{b&&(this._decorations.delete(b)&&this._onDecorationRemoved.fire(b),j.dispose())})),this._decorations.insert(b),this._onDecorationRegistered.fire(b)}return b}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,b,j){let T=0,P=0;for(const E of this._decorations.getKeyIterator(b))T=E.options.x??0,P=T+(E.options.width??1),g>=T&&g<P&&(!j||(E.options.layer??"bottom")===j)&&(yield E)}forEachDecorationAtCell(g,b,j,T){this._decorations.forEachByKey(b,(P=>{_=P.options.x??0,k=_+(P.options.width??1),g>=_&&g<k&&(!j||(P.options.layer??"bottom")===j)&&T(P)}))}}l.DecorationService=w;class x extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new p.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const f=u(2585),p=u(8343);class h{constructor(..._){this._entries=new Map;for(const[k,w]of _)this.set(k,w)}set(_,k){const w=this._entries.get(_);return this._entries.set(_,k),w}forEach(_){for(const[k,w]of this._entries.entries())_(k,w)}has(_){return this._entries.has(_)}get(_){return this._entries.get(_)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(f.IInstantiationService,this)}setService(v,_){this._services.set(v,_)}getService(v){return this._services.get(v)}createInstance(v,..._){const k=(0,p.getServiceDependencies)(v).sort(((y,g)=>y.index-g.index)),w=[];for(const y of k){const g=this._services.get(y.id);if(!g)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${y.id}.`);w.push(g)}const x=k.length>0?k[0].index:_.length;if(_.length!==x)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${x+1} conflicts with ${_.length} static arguments`);return new v(..._,...w)}}},7866:function(c,l,u){var f=this&&this.__decorate||function(x,y,g,b){var j,T=arguments.length,P=T<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,y,g,b);else for(var E=x.length-1;E>=0;E--)(j=x[E])&&(P=(T<3?j(P):T>3?j(y,g,P):j(y,g))||P);return T>3&&P&&Object.defineProperty(y,g,P),P},p=this&&this.__param||function(x,y){return function(g,b){y(g,b,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=u(844),v=u(2585),_={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let k,w=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(x){super(),this._optionsService=x,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(x){for(let y=0;y<x.length;y++)typeof x[y]=="function"&&(x[y]=x[y]())}_log(x,y,g){this._evalLazyOptionalParams(g),x.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...g)}trace(x,...y){var g;this._logLevel<=v.LogLevelEnum.TRACE&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.trace.bind(this._optionsService.options.logger))??console.log,x,y)}debug(x,...y){var g;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.debug.bind(this._optionsService.options.logger))??console.log,x,y)}info(x,...y){var g;this._logLevel<=v.LogLevelEnum.INFO&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.info.bind(this._optionsService.options.logger))??console.info,x,y)}warn(x,...y){var g;this._logLevel<=v.LogLevelEnum.WARN&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.warn.bind(this._optionsService.options.logger))??console.warn,x,y)}error(x,...y){var g;this._logLevel<=v.LogLevelEnum.ERROR&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.error.bind(this._optionsService.options.logger))??console.error,x,y)}};l.LogService=w=f([p(0,v.IOptionsService)],w),l.setTraceLogger=function(x){k=x},l.traceCall=function(x,y,g){if(typeof g.value!="function")throw new Error("not supported");const b=g.value;g.value=function(...j){if(k.logLevel!==v.LogLevelEnum.TRACE)return b.apply(this,j);k.trace(`GlyphRenderer#${b.name}(${j.map((P=>JSON.stringify(P))).join(", ")})`);const T=b.apply(this,j);return k.trace(`GlyphRenderer#${b.name} return`,T),T}}},7302:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const f=u(8460),p=u(844),h=u(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class _ extends p.Disposable{constructor(w){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const x={...l.DEFAULT_OPTIONS};for(const y in w)if(y in x)try{const g=w[y];x[y]=this._sanitizeAndValidateOption(y,g)}catch(g){console.error(g)}this.rawOptions=x,this.options={...x},this._setupOptions(),this.register((0,p.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(w,x){return this.onOptionChange((y=>{y===w&&x(this.rawOptions[w])}))}onMultipleOptionChange(w,x){return this.onOptionChange((y=>{w.indexOf(y)!==-1&&x()}))}_setupOptions(){const w=y=>{if(!(y in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},x=(y,g)=>{if(!(y in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);g=this._sanitizeAndValidateOption(y,g),this.rawOptions[y]!==g&&(this.rawOptions[y]=g,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const g={get:w.bind(this,y),set:x.bind(this,y)};Object.defineProperty(this.options,y,g)}}_sanitizeAndValidateOption(w,x){switch(w){case"cursorStyle":if(x||(x=l.DEFAULT_OPTIONS[w]),!(function(y){return y==="block"||y==="underline"||y==="bar"})(x))throw new Error(`"${x}" is not a valid value for ${w}`);break;case"wordSeparator":x||(x=l.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if(typeof x=="number"&&1<=x&&x<=1e3)break;x=v.includes(x)?x:l.DEFAULT_OPTIONS[w];break;case"cursorWidth":x=Math.floor(x);case"lineHeight":case"tabStopWidth":if(x<1)throw new Error(`${w} cannot be less than 1, value: ${x}`);break;case"minimumContrastRatio":x=Math.max(1,Math.min(21,Math.round(10*x)/10));break;case"scrollback":if((x=Math.min(x,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${x}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(x<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${x}`);break;case"rows":case"cols":if(!x&&x!==0)throw new Error(`${w} must be numeric, value: ${x}`);break;case"windowsPty":x=x??{}}return x}}l.OptionsService=_},2660:function(c,l,u){var f=this&&this.__decorate||function(_,k,w,x){var y,g=arguments.length,b=g<3?k:x===null?x=Object.getOwnPropertyDescriptor(k,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(_,k,w,x);else for(var j=_.length-1;j>=0;j--)(y=_[j])&&(b=(g<3?y(b):g>3?y(k,w,b):y(k,w))||b);return g>3&&b&&Object.defineProperty(k,w,b),b},p=this&&this.__param||function(_,k){return function(w,x){k(w,x,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=u(2585);let v=l.OscLinkService=class{constructor(_){this._bufferService=_,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(_){const k=this._bufferService.buffer;if(_.id===void 0){const j=k.addMarker(k.ybase+k.y),T={data:_,id:this._nextId++,lines:[j]};return j.onDispose((()=>this._removeMarkerFromLink(T,j))),this._dataByLinkId.set(T.id,T),T.id}const w=_,x=this._getEntryIdKey(w),y=this._entriesWithId.get(x);if(y)return this.addLineToLink(y.id,k.ybase+k.y),y.id;const g=k.addMarker(k.ybase+k.y),b={id:this._nextId++,key:this._getEntryIdKey(w),data:w,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(b,g))),this._entriesWithId.set(b.key,b),this._dataByLinkId.set(b.id,b),b.id}addLineToLink(_,k){const w=this._dataByLinkId.get(_);if(w&&w.lines.every((x=>x.line!==k))){const x=this._bufferService.buffer.addMarker(k);w.lines.push(x),x.onDispose((()=>this._removeMarkerFromLink(w,x)))}}getLinkData(_){var k;return(k=this._dataByLinkId.get(_))==null?void 0:k.data}_getEntryIdKey(_){return`${_.id};;${_.uri}`}_removeMarkerFromLink(_,k){const w=_.lines.indexOf(k);w!==-1&&(_.lines.splice(w,1),_.lines.length===0&&(_.data.id!==void 0&&this._entriesWithId.delete(_.key),this._dataByLinkId.delete(_.id)))}};l.OscLinkService=v=f([p(0,h.IBufferService)],v)},8343:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const u="di$target",f="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(p){return p[f]||[]},l.createDecorator=function(p){if(l.serviceRegistry.has(p))return l.serviceRegistry.get(p);const h=function(v,_,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(w,x,y){x[u]===x?x[f].push({id:w,index:y}):(x[f]=[{id:w,index:y}],x[u]=x)})(h,v,k)};return h.toString=()=>p,l.serviceRegistry.set(p,h),h}},2585:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const f=u(8343);var p;l.IBufferService=(0,f.createDecorator)("BufferService"),l.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),l.ICoreService=(0,f.createDecorator)("CoreService"),l.ICharsetService=(0,f.createDecorator)("CharsetService"),l.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"})(p||(l.LogLevelEnum=p={})),l.ILogService=(0,f.createDecorator)("LogService"),l.IOptionsService=(0,f.createDecorator)("OptionsService"),l.IOscLinkService=(0,f.createDecorator)("OscLinkService"),l.IUnicodeService=(0,f.createDecorator)("UnicodeService"),l.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const f=u(8460),p=u(225);class h{static extractShouldJoin(_){return(1&_)!=0}static extractWidth(_){return _>>1&3}static extractCharKind(_){return _>>3}static createPropertyValue(_,k,w=!1){return(16777215&_)<<3|(3&k)<<1|(w?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const _=new p.UnicodeV6;this.register(_),this._active=_.version,this._activeProvider=_}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(_){if(!this._providers[_])throw new Error(`unknown Unicode version "${_}"`);this._active=_,this._activeProvider=this._providers[_],this._onChange.fire(_)}register(_){this._providers[_.version]=_}wcwidth(_){return this._activeProvider.wcwidth(_)}getStringCellWidth(_){let k=0,w=0;const x=_.length;for(let y=0;y<x;++y){let g=_.charCodeAt(y);if(55296<=g&&g<=56319){if(++y>=x)return k+this.wcwidth(g);const T=_.charCodeAt(y);56320<=T&&T<=57343?g=1024*(g-55296)+T-56320+65536:k+=this.wcwidth(T)}const b=this.charProperties(g,w);let j=h.extractWidth(b);h.extractShouldJoin(b)&&(j-=h.extractWidth(w)),k+=j,w=b}return k}charProperties(_,k){return this._activeProvider.charProperties(_,k)}}l.UnicodeService=h}},n={};function o(c){var l=n[c];if(l!==void 0)return l.exports;var u=n[c]={exports:{}};return r[c].call(u.exports,u,u.exports,o),u.exports}var d={};return(()=>{var c=d;Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const l=o(9042),u=o(3236),f=o(844),p=o(5741),h=o(8285),v=o(7975),_=o(7090),k=["cols","rows"];class w extends f.Disposable{constructor(y){super(),this._core=this.register(new u.Terminal(y)),this._addonManager=this.register(new p.AddonManager),this._publicOptions={...this._core.options};const g=j=>this._core.options[j],b=(j,T)=>{this._checkReadonlyOptions(j),this._core.options[j]=T};for(const j in this._core.options){const T={get:g.bind(this,j),set:b.bind(this,j)};Object.defineProperty(this._publicOptions,j,T)}}_checkReadonlyOptions(y){if(k.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new _.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const g in y)this._publicOptions[g]=y[g]}blur(){this._core.blur()}focus(){this._core.focus()}input(y,g=!0){this._core.input(y,g)}resize(y,g){this._verifyIntegers(y,g),this._core.resize(y,g)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}attachCustomWheelEventHandler(y){this._core.attachCustomWheelEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){return this._checkProposedApi(),this._verifyPositiveIntegers(y.x??0,y.width??0,y.height??0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,g,b){this._verifyIntegers(y,g,b),this._core.select(y,g,b)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,g){this._verifyIntegers(y,g),this._core.selectLines(y,g)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,g){this._core.write(y,g)}writeln(y,g){this._core.write(y),this._core.write(`\r
`,g)}paste(y){this._core.paste(y)}refresh(y,g){this._verifyIntegers(y,g),this._core.refresh(y,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return l}_verifyIntegers(...y){for(const g of y)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const g of y)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}c.Terminal=w})(),d})()))})(Yf)),Yf.exports}var Qz=Jz(),Xf={exports:{}},_b;function Zz(){return _b||(_b=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const d=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(d._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,d=o._renderService.dimensions;if(d.css.cell.width===0||d.css.cell.height===0)return;const c=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(l.getPropertyValue("height")),f=Math.max(0,parseInt(l.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),h=u-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),v=f-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-c;return{cols:Math.max(2,Math.floor(v/d.css.cell.width)),rows:Math.max(1,Math.floor(h/d.css.cell.height))}}}})(),r})()))})(Xf)),Xf.exports}var eH=Zz(),Jf={exports:{}},bb;function tH(){return bb||(bb=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={6:(c,l)=>{function u(p){try{const h=new URL(p),v=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return p.toLocaleLowerCase().startsWith(v.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(l,"__esModule",{value:!0}),l.LinkComputer=l.WebLinkProvider=void 0,l.WebLinkProvider=class{constructor(p,h,v,_={}){this._terminal=p,this._regex=h,this._handler=v,this._options=_}provideLinks(p,h){const v=f.computeLink(p,this._regex,this._terminal,this._handler);h(this._addCallbacks(v))}_addCallbacks(p){return p.map((h=>(h.leave=this._options.leave,h.hover=(v,_)=>{if(this._options.hover){const{range:k}=h;this._options.hover(v,_,k)}},h)))}};class f{static computeLink(h,v,_,k){const w=new RegExp(v.source,(v.flags||"")+"g"),[x,y]=f._getWindowedLineStrings(h-1,_),g=x.join("");let b;const j=[];for(;b=w.exec(g);){const T=b[0];if(!u(T))continue;const[P,E]=f._mapStrIdx(_,y,0,b.index),[N,L]=f._mapStrIdx(_,P,E,T.length);if(P===-1||E===-1||N===-1||L===-1)continue;const F={start:{x:E+1,y:P+1},end:{x:L,y:N+1}};j.push({range:F,text:T,activate:k})}return j}static _getWindowedLineStrings(h,v){let _,k=h,w=h,x=0,y="";const g=[];if(_=v.buffer.active.getLine(h)){const b=_.translateToString(!0);if(_.isWrapped&&b[0]!==" "){for(x=0;(_=v.buffer.active.getLine(--k))&&x<2048&&(y=_.translateToString(!0),x+=y.length,g.push(y),_.isWrapped&&y.indexOf(" ")===-1););g.reverse()}for(g.push(b),x=0;(_=v.buffer.active.getLine(++w))&&_.isWrapped&&x<2048&&(y=_.translateToString(!0),x+=y.length,g.push(y),y.indexOf(" ")===-1););}return[g,k]}static _mapStrIdx(h,v,_,k){const w=h.buffer.active,x=w.getNullCell();let y=_;for(;k;){const g=w.getLine(v);if(!g)return[-1,-1];for(let b=y;b<g.length;++b){g.getCell(b,x);const j=x.getChars();if(x.getWidth()&&(k-=j.length||1,b===g.length-1&&j==="")){const T=w.getLine(v+1);T&&T.isWrapped&&(T.getCell(0,x),x.getWidth()===2&&(k+=1))}if(k<0)return[v,b]}v++,y=0}return[v,y]}}l.LinkComputer=f}},n={};function o(c){var l=n[c];if(l!==void 0)return l.exports;var u=n[c]={exports:{}};return r[c](u,u.exports,o),u.exports}var d={};return(()=>{var c=d;Object.defineProperty(c,"__esModule",{value:!0}),c.WebLinksAddon=void 0;const l=o(6),u=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function f(p,h){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}c.WebLinksAddon=class{constructor(p=f,h={}){this._handler=p,this._options=h}activate(p){this._terminal=p;const h=this._options,v=h.urlRegex||u;this._linkProvider=this._terminal.registerLinkProvider(new l.WebLinkProvider(this._terminal,v,this._handler,h))}dispose(){var p;(p=this._linkProvider)==null||p.dispose()}}})(),d})()))})(Jf)),Jf.exports}var rH=tH();function Hg({cwd:e,initialCommand:t,onExit:r,onReady:n,className:o="",height:d="400px"}){const c=C.useRef(null),l=C.useRef(null),u=C.useRef(null),f=C.useRef(null),[p,h]=C.useState(!1),[v,_]=C.useState(null);C.useEffect(()=>{if(!c.current||l.current)return;const y=new Qz.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', 'Consolas', monospace",theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),g=new eH.FitAddon;y.loadAddon(g),u.current=g;const b=new rH.WebLinksAddon;return y.loadAddon(b),y.open(c.current),l.current=y,setTimeout(()=>{g.fit()},0),k(y),()=>{f.current&&f.current.close(),y.dispose(),l.current=null}},[]);const k=C.useCallback(y=>{const g=window.location.protocol==="https:"?"wss:":"ws:",b=window.location.hostname,j=3333,T=new URLSearchParams;e&&T.set("cwd",e),t&&T.set("cmd",t);const P=`${g}//${b}:${j}/ws/terminal?${T.toString()}`;console.log("Connecting to terminal WebSocket:",P);const E=new WebSocket(P);f.current=E,E.onopen=()=>{console.log("Terminal WebSocket connected"),h(!0)},E.onmessage=N=>{try{const L=JSON.parse(N.data);switch(L.type){case"session":_(L.sessionId),n&&n(L.sessionId);break;case"output":y.write(L.data);break;case"exit":y.write(`\r
\x1B[33m[Process exited]\x1B[0m\r
`),r&&r(L.exitCode,L.signal);break;case"error":y.write(`\r
\x1B[31m[Error: ${L.message}]\x1B[0m\r
`),y.write(`\x1B[33mTip: The terminal requires a working shell. Try running the command manually.\x1B[0m\r
`);break}}catch{y.write(N.data)}},E.onclose=()=>{console.log("Terminal WebSocket closed"),h(!1),y.write(`\r
\x1B[31m[Disconnected]\x1B[0m\r
`)},E.onerror=N=>{console.error("Terminal WebSocket error:",N),y.write(`\r
\x1B[31m[Connection error]\x1B[0m\r
`)},y.onData(N=>{E.readyState===WebSocket.OPEN&&E.send(JSON.stringify({type:"input",data:N}))}),y.onResize(({cols:N,rows:L})=>{E.readyState===WebSocket.OPEN&&E.send(JSON.stringify({type:"resize",cols:N,rows:L}))})},[e,t,n,r]);C.useEffect(()=>{const y=()=>{u.current&&l.current&&u.current.fit()};window.addEventListener("resize",y);const g=new ResizeObserver(y);return c.current&&g.observe(c.current),()=>{window.removeEventListener("resize",y),g.disconnect()}},[]),C.useCallback(y=>{f.current&&f.current.readyState===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"input",data:y+"\r"}))},[]),C.useCallback(()=>{f.current&&f.current.readyState===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"kill"}))},[]);const w=C.useCallback(()=>{l.current&&l.current.focus()},[]);C.useCallback(()=>{l.current&&l.current.clear()},[]);const x=C.useCallback(()=>{if(l.current){const g=l.current.buffer.active;let b="";for(let j=0;j<g.length;j++){const T=g.getLine(j);T&&(b+=T.translateToString(!0)+`
`)}navigator.clipboard.writeText(b.trim()).then(()=>{const j=document.getElementById("terminal-copy-btn");j&&(j.classList.add("bg-green-600"),setTimeout(()=>j.classList.remove("bg-green-600"),500))})}},[]);return i.jsxs("div",{className:`relative ${o}`,style:{height:d},children:[i.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[i.jsx("button",{id:"terminal-copy-btn",onClick:x,className:"px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy terminal output",children:"Copy"}),i.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-xs text-gray-400",children:p?"Connected":"Disconnected"})]}),i.jsx("div",{ref:c,className:"w-full h-full rounded-lg overflow-hidden",style:{backgroundColor:"#1e1e1e"},onClick:w})]})}Hg.sendCommand=(e,t)=>{e&&e.sendCommand&&e.sendCommand(t)};const nH="~/reg/tools",wb={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function sH({project:e}){const[t,r]=C.useState(""),[n,o]=C.useState(""),[d,c]=C.useState(nH),[l,u]=C.useState(!1),[f,p]=C.useState(null),[h,v]=C.useState(!1),[_,k]=C.useState("claude");C.useEffect(()=>{w()},[]);const w=async()=>{var T;try{const P=await we.getConfig();k(((T=P.config)==null?void 0:T.aiAssistant)||"claude")}catch(P){console.error("Failed to load preferences:",P)}},x=wb[_]||wb.claude,y=()=>{if(!t.trim()){ee.error("Please enter an MCP name");return}const T=`Create a new MCP server project called "${t}" with the following:
- Use Python with uv for package management
- Use FastMCP framework
- Description: ${n||"A custom MCP server"}
- Create a single mcp_server.py file with basic structure
- Include a pyproject.toml configured for uv
- Add a README.md with usage instructions`;p(`cd "${d}" && ${x.command} "${T}"`),u(!0),v(!0)},g=T=>{console.log("Terminal session ready:",T)},b=(T,P)=>{console.log("Terminal exited:",T,P),v(!1),T===0&&ee.success("MCP project created successfully!")},j=()=>{u(!1),p(null),v(!1),r(""),o("")};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex-none p-6 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(as,{className:"w-7 h-7 text-purple-600"}),"Create MCP Server"]}),i.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:["Generate a new MCP server project with ",x.name," assistance"]})]}),l&&i.jsxs(he,{variant:"outline",onClick:j,className:"text-gray-600 dark:text-slate-300",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"New Project"]})]})}),i.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[i.jsx("div",{className:`${l?"w-1/3 border-r border-gray-200 dark:border-slate-700":"w-full max-w-2xl mx-auto"} p-6 overflow-auto`,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"MCP Name *"}),i.jsx(ot,{value:t,onChange:T=>r(T.target.value),placeholder:"my-awesome-mcp",disabled:h}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"This will be the project folder name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Description"}),i.jsx(mt,{value:n,onChange:T=>o(T.target.value),placeholder:"Describe what your MCP server will do...",className:"min-h-[100px]",disabled:h})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Output Directory"}),i.jsx(ot,{value:d,onChange:T=>c(T.target.value),placeholder:"/path/to/projects",className:"font-mono text-sm",disabled:h}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Where to create the new MCP project"})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-purple-900 dark:text-purple-300 mb-2",children:"What will be created:"}),i.jsxs("ul",{className:"text-sm text-purple-700 dark:text-purple-400 space-y-1",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Wu,{className:"w-4 h-4"}),"Python project with uv package manager"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(xu,{className:"w-4 h-4"}),"FastMCP framework setup"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4"}),"mcp_server.py with basic structure"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Qs,{className:"w-4 h-4"}),"pyproject.toml configured for uv"]})]})]}),!l&&i.jsxs(he,{onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!t.trim(),children:[i.jsx(as,{className:"w-4 h-4 mr-2"}),"Create & Launch ",x.name]})]})}),l&&i.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900",children:[i.jsxs("div",{className:"flex-none px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-300",children:[x.name," Terminal"]})]}),i.jsx("div",{className:"flex items-center gap-2",children:h&&i.jsxs(nt,{variant:"outline",className:"bg-green-900/50 text-green-400 border-green-700",children:[i.jsx(dt,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]})})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Hg,{cwd:d,initialCommand:f,onReady:g,onExit:b,height:"100%"})})]})]})]})}function iH({templates:e,project:t,onApply:r}){const[n,o]=C.useState(null),d=async c=>{o(c);try{await we.applyTemplate(c,t.dir),ee.success(`Template "${c}" applied!`),r()}catch(l){ee.error("Failed to apply template: "+l.message)}finally{o(null)}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-slate-800 flex items-center justify-between",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(zo,{className:"w-5 h-5 text-cyan-600"}),"Templates"]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Apply a template to quickly set up rules, commands, and MCP configurations for your project."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((c,l)=>{var u;return i.jsxs(Hn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.05},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-5 hover:border-cyan-300 dark:hover:border-cyan-700 hover:shadow-lg transition-all group",children:[i.jsx(nt,{variant:"outline",className:"bg-cyan-50 dark:bg-cyan-950/30 text-cyan-700 dark:text-cyan-400 border-cyan-200 dark:border-cyan-800 mb-3 text-[10px] uppercase tracking-wider",children:c.category}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:c.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:c.description||"Project template"}),((u=c.mcpDefaults)==null?void 0:u.length)>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-500",children:"MCPs: "}),i.jsx("span",{className:"text-xs text-gray-700 dark:text-slate-300",children:c.mcpDefaults.join(", ")})]}),i.jsxs(he,{size:"sm",onClick:()=>d(c.fullName||`${c.category}/${c.name}`),disabled:n===(c.fullName||c.name),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[n===(c.fullName||c.name)?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Apply Template"]})]},c.fullName||c.name)}),e.length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"No templates available."})]})]})]})})}var oH=Symbol("radix.slottable");function aH(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=oH,t}var lH="AlertDialog",[cH]=zr(lH,[sS]),ci=sS(),uH="AlertDialogTrigger",dH=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ci(r);return i.jsx(yL,{...o,...n,ref:t})});dH.displayName=uH;var hH="AlertDialogPortal",d2=e=>{const{__scopeAlertDialog:t,...r}=e,n=ci(t);return i.jsx(_S,{...n,...r})};d2.displayName=hH;var fH="AlertDialogOverlay",h2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ci(r);return i.jsx(Um,{...o,...n,ref:t})});h2.displayName=fH;var jo="AlertDialogContent",[pH,mH]=cH(jo),gH=aH("AlertDialogContent"),f2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,d=ci(r),c=C.useRef(null),l=Ze(t,c),u=C.useRef(null);return i.jsx(pL,{contentName:jo,titleName:p2,docsSlug:"alert-dialog",children:i.jsx(pH,{scope:r,cancelRef:u,children:i.jsxs(Wm,{role:"alertdialog",...d,...o,ref:l,onOpenAutoFocus:Re(o.onOpenAutoFocus,f=>{var p;f.preventDefault(),(p=u.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[i.jsx(gH,{children:n}),i.jsx(xH,{contentRef:c})]})})})});f2.displayName=jo;var p2="AlertDialogTitle",m2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ci(r);return i.jsx(Gm,{...o,...n,ref:t})});m2.displayName=p2;var g2="AlertDialogDescription",v2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ci(r);return i.jsx(Km,{...o,...n,ref:t})});v2.displayName=g2;var vH="AlertDialogAction",x2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=ci(r);return i.jsx(qm,{...o,...n,ref:t})});x2.displayName=vH;var y2="AlertDialogCancel",_2=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=mH(y2,r),d=ci(r),c=Ze(t,o);return i.jsx(qm,{...d,...n,ref:c})});_2.displayName=y2;var xH=({contentRef:e})=>{const t=`\`${jo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jo}\` by passing a \`${g2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},yH=d2,b2=h2,w2=f2,S2=x2,C2=_2,k2=m2,j2=v2;const _H=yH,N2=C.forwardRef(({className:e,...t},r)=>i.jsx(b2,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));N2.displayName=b2.displayName;const bH=C.forwardRef(({className:e,...t},r)=>i.jsxs(_H,{children:[i.jsx(N2,{}),i.jsx(w2,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bH.displayName=w2.displayName;const wH=C.forwardRef(({className:e,...t},r)=>i.jsx(k2,{ref:r,className:De("text-lg font-semibold",e),...t}));wH.displayName=k2.displayName;const SH=C.forwardRef(({className:e,...t},r)=>i.jsx(j2,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));SH.displayName=j2.displayName;const CH=C.forwardRef(({className:e,...t},r)=>i.jsx(S2,{ref:r,className:De(Dm(),e),...t}));CH.displayName=S2.displayName;const kH=C.forwardRef(({className:e,...t},r)=>i.jsx(C2,{ref:r,className:De(Dm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));kH.displayName=C2.displayName;const jH=(e,t)=>{try{const r=localStorage.getItem(`claude-config-${e}`);return r?JSON.parse(r):t}catch{return t}},NH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}},Sb={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function EH({registry:e,searchQuery:t,setSearchQuery:r,onUpdate:n}){var ne;const[o,d]=C.useState(()=>jH("registrySearchMode","local")),c=Q=>{d(Q),NH("registrySearchMode",Q)},[l,u]=C.useState([]),[f,p]=C.useState(!1),[h,v]=C.useState({open:!1,name:"",mcp:null,isNew:!1}),[_,k]=C.useState({name:"",command:"npx",args:"",env:"",description:""}),[w,x]=C.useState(!1),[y,g]=C.useState([]),[b,j]=C.useState(""),[T,P]=C.useState({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),[E,N]=C.useState(""),[L,F]=C.useState("claude");C.useEffect(()=>{(async()=>{var ie;try{const ye=await we.getConfig();F(((ie=ye.config)==null?void 0:ie.aiAssistant)||"claude")}catch(ye){console.error("Failed to load preferences:",ye)}})()},[]);const B=Sb[L]||Sb.claude,V=Object.entries(e.mcpServers||{}),U=V.filter(([Q])=>Q.toLowerCase().includes(t.toLowerCase()));C.useEffect(()=>{(async()=>{try{const ie=await we.getMcpTools();g(ie.tools||[]),j(ie.dir||"")}catch(ie){console.error("Failed to load MCP tools:",ie)}})()},[]);const X=y.filter(Q=>{var ie;return!((ie=e.mcpServers)!=null&&ie[Q.name])&&Q.name.toLowerCase().includes(t.toLowerCase())}),G=(Q,ie)=>{k({name:Q,command:ie.command||"npx",args:JSON.stringify(ie.args||[],null,2),env:JSON.stringify(ie.env||{},null,2),description:ie.description||""}),v({open:!0,name:Q,mcp:ie,isNew:!1})},[q,K]=C.useState({open:!1,json:""}),$=()=>{K({open:!0,json:""})},D=async()=>{if(!q.json.trim()){ee.error("Please paste the MCP JSON configuration");return}try{let Q;try{Q=JSON.parse(q.json)}catch{ee.error("Invalid JSON format");return}let ie={};if(Q.mcpServers&&typeof Q.mcpServers=="object")ie=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).includes("command")){ee.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}ie=Q}if(Object.keys(ie).length===0){ee.error("No MCP configurations found in the JSON");return}for(const[Se,Me]of Object.entries(ie))if(!Me.command){ee.error(`MCP "${Se}" is missing required "command" field`);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});for(const[Se,Me]of Object.entries(ie))ye.mcpServers[Se]=Me;await we.updateRegistry(ye);const ae=Object.keys(ie).length;ee.success(`Added ${ae} MCP${ae>1?"s":""} to registry!`),K({open:!1,json:""}),n()}catch(Q){ee.error("Failed to add: "+Q.message)}},M=Q=>{const ye={[Q.name.replace("@modelcontextprotocol/server-","").replace("mcp-server-","").replace("mcp-","").replace(/-/g,"_")]:{command:Q.suggestedCommand||"npx",args:Q.suggestedArgs||["-y",Q.name],...Q.description&&{description:Q.description}}};K({open:!0,json:JSON.stringify(ye,null,2)})},O=Q=>{let ie,ye;Q.type==="python"?(ie="uv",ye=["run","--directory",Q.path,"python",Q.entryPoint||"mcp_server.py"]):(ie="node",ye=[Q.path+"/index.js"]);const ae={[Q.name]:{command:ie,args:ye,...Q.description&&{description:Q.description}}};K({open:!0,json:JSON.stringify(ae,null,2)})},W=()=>{if(!T.url.trim()){ee.error("Please enter a URL");return}P(Q=>({...Q,showTerminal:!0}))},I=()=>{if(T.localTool){const ye=T.localTool,ae=`Analyze the MCP server at ${ye.path}. Read the README and source files to understand how to run it. Output a JSON config block with name, command, args array, and description for the MCP registry. Be specific about the exact command needed.`;return`cd '${ye.path}' && ${B.command} '${ae}'`}const ie=`Clone ${T.url.trim()} into ~/reg/tools. Read the README, determine if Python or Node MCP server, and output a JSON config block with name, command, args, and description.`;return`cd ~/reg/tools && ${B.command} '${ie}'`},re=Q=>{P({open:!0,url:"",showTerminal:!0,localTool:Q,pastedConfig:""})},de=Q=>{Q===0&&(ee.success("Import completed! Paste the JSON config below to add it to the registry."),we.getMcpTools().then(ie=>{g(ie.tools||[])}))},me=async()=>{if(!T.pastedConfig.trim()){ee.error("Please paste the JSON config first");return}try{let Q;try{Q=JSON.parse(T.pastedConfig)}catch{ee.error("Invalid JSON format");return}let ie={};if(Q.mcpServers&&typeof Q.mcpServers=="object")ie=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q))if(Object.keys(Q).includes("command")){ee.error('JSON is missing the MCP name. Expected format: { "name": { "command": "...", "args": [...] } }');return}else ie=Q;if(Object.keys(ie).length===0){ee.error("No MCP configurations found in the pasted JSON");return}for(const[Se,Me]of Object.entries(ie))if(!Me.command){ee.error(`MCP "${Se}" is missing required "command" field`);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});for(const[Se,Me]of Object.entries(ie))ye.mcpServers[Se]=Me;await we.updateRegistry(ye);const ae=Object.keys(ie).length;ee.success(`Added ${ae} MCP${ae>1?"s":""} to registry!`),P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),n()}catch(Q){ee.error("Failed to add config: "+Q.message)}},Y=async()=>{x(!0);try{let Q,ie;try{Q=JSON.parse(_.args),ie=JSON.parse(_.env)}catch{ee.error("Invalid JSON in args or env"),x(!1);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});const ae={command:_.command,args:Q,...Object.keys(ie).length>0&&{env:ie},..._.description&&{description:_.description}};ye.mcpServers[h.name]=ae,await we.updateRegistry(ye),ee.success("MCP updated"),v({open:!1,name:"",mcp:null,isNew:!1}),n()}catch(Q){ee.error("Failed to save: "+Q.message)}finally{x(!1)}},z=async Q=>{try{const ie={...e};delete ie.mcpServers[Q],await we.updateRegistry(ie),ee.success(`Removed ${Q} from registry`),n()}catch(ie){ee.error("Failed to delete: "+ie.message)}},oe=async()=>{if(t.trim()){p(!0);try{const Q=o==="github"?await we.searchGithub(t):await we.searchNpm(t);u(Q.results||[])}catch(Q){ee.error("Search failed: "+Q.message),u([])}finally{p(!1)}}};return C.useEffect(()=>{o!=="local"&&u([])},[o]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white dark:text-white flex items-center gap-2",children:[i.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),"MCP Registry"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"folder"}),className:"border-green-300 dark:border-green-700 text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-950/30",children:[i.jsx(hr,{className:"w-4 h-4 mr-2"}),"Import Folder"]}),i.jsxs(he,{variant:"outline",size:"sm",onClick:()=>P({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[i.jsx(su,{className:"w-4 h-4 mr-2"}),"Import URL"]}),i.jsxs(he,{variant:"outline",size:"sm",onClick:$,className:"border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs(he,{variant:o==="local"?"default":"outline",size:"sm",onClick:()=>c("local"),className:o==="local"?"bg-blue-600":"",children:[i.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Registry (",V.length,")"]}),i.jsxs(he,{variant:o==="tools"?"default":"outline",size:"sm",onClick:()=>c("tools"),className:o==="tools"?"bg-purple-600":"",children:[i.jsx(hr,{className:"w-4 h-4 mr-2"}),"Tools (",y.length,")"]}),i.jsxs(he,{variant:o==="github"?"default":"outline",size:"sm",onClick:()=>c("github"),className:o==="github"?"bg-gray-800":"",children:[i.jsx(E5,{className:"w-4 h-4 mr-2"}),"GitHub"]}),i.jsxs(he,{variant:o==="npm"?"default":"outline",size:"sm",onClick:()=>c("npm"),className:o==="npm"?"bg-red-600":"",children:[i.jsx(Ro,{className:"w-4 h-4 mr-2"}),"npm"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(vl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:t,onChange:Q=>r(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&!["local","tools"].includes(o)&&oe(),placeholder:o==="local"?"Filter registry...":o==="tools"?"Filter discovered tools...":`Search ${o} for MCPs...`,className:"pl-9 bg-white border-gray-300"})]}),!["local","tools"].includes(o)&&i.jsx(he,{onClick:oe,disabled:f,children:f?i.jsx(dt,{className:"w-4 h-4 animate-spin"}):"Search"})]})]}),o==="local"&&i.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[U.map(([Q,ie],ye)=>{var ae;return i.jsxs(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ye*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q}),i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsx(he,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(i1,{className:"w-4 h-4 text-gray-400"})})}),i.jsxs(Kn,{children:[i.jsxs(ht,{onClick:()=>G(Q,ie),children:[i.jsx(Am,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(ht,{className:"text-red-600",onClick:()=>z(Q),children:[i.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3",children:ie.description||"MCP server"}),i.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded",children:[ie.command," ",(ae=ie.args)==null?void 0:ae.join(" ")]}),ie.env&&Object.keys(ie.env).length>0&&i.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Requires: ",Object.keys(ie.env).join(", ")]})]},Q)}),U.length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No MCPs match your search.":"Registry is empty. Add MCPs or search online."})]}),o==="tools"&&i.jsxs("div",{className:"p-4",children:[b&&i.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-slate-400 flex items-center gap-2",children:[i.jsx(hr,{className:"w-4 h-4"}),"Scanning: ",b]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[X.map((Q,ie)=>i.jsxs(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ie*.03},className:"bg-purple-50 rounded-lg border border-purple-200 p-4 hover:border-purple-400 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-purple-900",children:Q.name}),i.jsx(nt,{variant:"outline",className:"text-purple-600 border-purple-300",children:Q.type==="python"?"Python":"Node"})]}),i.jsx("p",{className:"text-sm text-purple-700 mb-3",children:Q.description||"MCP tool"}),i.jsx("code",{className:"text-xs text-purple-600 block truncate bg-purple-100 px-2 py-1 rounded mb-3",children:Q.path}),Q.framework&&i.jsxs("div",{className:"text-xs text-purple-500 mb-3",children:["Framework: ",Q.framework]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>O(Q),className:"flex-1 border-purple-300 text-purple-700 hover:bg-purple-100",children:[i.jsx(St,{className:"w-4 h-4 mr-1"}),"Quick"]}),i.jsxs(he,{size:"sm",onClick:()=>re(Q),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(as,{className:"w-4 h-4 mr-1"}),"Smart"]})]})]},Q.name)),X.length===0&&y.length>0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"All discovered tools are already in the registry."}),y.length===0&&i.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:["No MCP tools found in ",b,". Create one using the Developer > Create MCP view."]})]})]}),!["local","tools"].includes(o)&&i.jsx("div",{className:"p-4",children:f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(dt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),i.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-2",children:["Searching ",o,"..."]})]}):l.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((Q,ie)=>{var ye;return i.jsxs(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ie*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:Q.name}),Q.stars!==void 0&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[i.jsx(pM,{className:"w-3 h-3"}),Q.stars]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:Q.description||"No description"}),i.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded mb-3",children:[Q.suggestedCommand," ",(ye=Q.suggestedArgs)==null?void 0:ye.join(" ")]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{size:"sm",onClick:()=>M(Q),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(St,{className:"w-3 h-3 mr-1"}),"Add to Registry"]}),Q.url&&i.jsx(he,{size:"sm",variant:"outline",onClick:()=>window.open(Q.url,"_blank"),children:i.jsx(su,{className:"w-3 h-3"})})]})]},Q.name||ie)})}):i.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No results found. Try a different search term.":`Enter a search term to find MCPs on ${o}.`})})]}),i.jsx(Dt,{open:q.open,onOpenChange:Q=>K({...q,open:Q}),children:i.jsxs(Et,{className:" max-w-2xl",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{children:"Add MCP to Registry"}),i.jsx(Sr,{children:"Paste the MCP JSON configuration block to add to your registry."})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(mt,{value:q.json,onChange:Q=>K({...q,json:Q.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>K({open:!1,json:""}),children:"Cancel"}),i.jsxs(he,{onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})}),i.jsx(Dt,{open:h.open,onOpenChange:Q=>v({...h,open:Q}),children:i.jsxs(Et,{className:" max-w-2xl",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{children:["Edit MCP: ",h.name]}),i.jsx(Sr,{children:"Edit the MCP server configuration."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(ot,{value:_.description,onChange:Q=>k({..._,description:Q.target.value}),placeholder:"What does this MCP do?",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Command"}),i.jsx(ot,{value:_.command,onChange:Q=>k({..._,command:Q.target.value}),placeholder:"npx",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Args (JSON array)"}),i.jsx(mt,{value:_.args,onChange:Q=>k({..._,args:Q.target.value}),placeholder:'["-y", "@modelcontextprotocol/server-xxx"]',className:"mt-1 font-mono text-sm",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Environment Variables (JSON object)"}),i.jsx(mt,{value:_.env,onChange:Q=>k({..._,env:Q.target.value}),placeholder:'{"API_KEY": "${API_KEY}"}',className:"mt-1 font-mono text-sm",rows:3}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:["Use $","{VAR_NAME}"," syntax for variables from .env file"]})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>v({...h,open:!1}),children:"Cancel"}),i.jsxs(he,{onClick:Y,disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[w?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),i.jsx(Dt,{open:T.open,onOpenChange:Q=>P({open:Q,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:i.jsxs(Et,{className:`bg-white ${T.showTerminal?"max-w-4xl h-[80vh] max-h-[800px]":"max-w-lg"}`,children:[i.jsxs(Pt,{children:[i.jsx(Tt,{className:"flex items-center gap-2",children:T.localTool?i.jsxs(i.Fragment,{children:[i.jsx(as,{className:"w-5 h-5 text-purple-600"})," Configure ",T.localTool.name]}):T.mode==="folder"?i.jsxs(i.Fragment,{children:[i.jsx(hr,{className:"w-5 h-5 text-green-600"})," Import MCP from Folder"]}):i.jsxs(i.Fragment,{children:[i.jsx(su,{className:"w-5 h-5 text-purple-600"})," Import MCP from URL"]})}),i.jsx(Sr,{children:T.localTool?`${B.name} will analyze ${T.localTool.name} and generate the correct configuration.`:T.mode==="folder"?`Enter the path to a local MCP server folder. ${B.name} will analyze it and generate the configuration.`:`Enter a GitHub repository URL. ${B.name} will clone it, read the README, and help configure it.`})]}),!T.showTerminal&&!T.localTool?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"py-4",children:T.mode==="folder"?i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Folder Path"}),i.jsx(ot,{value:E,onChange:Q=>N(Q.target.value),placeholder:"/path/to/mcp-server or ~/projects/my-mcp",className:"mt-1 font-mono",onKeyDown:Q=>Q.key==="Enter"&&E.trim()&&P({...T,showTerminal:!0,localTool:{name:E.split("/").pop(),path:E}})}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Enter the full path to an existing MCP server project"})]}):i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL"}),i.jsx(ot,{value:T.url,onChange:Q=>P({...T,url:Q.target.value}),placeholder:"https://github.com/user/mcp-server-example",className:"mt-1",onKeyDown:Q=>Q.key==="Enter"&&W()}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["The repository will be cloned to ",b||"~/mcp-tools"]})]})}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Cancel"}),T.mode==="folder"?i.jsxs(he,{onClick:()=>E.trim()&&P({...T,showTerminal:!0,localTool:{name:E.split("/").pop(),path:E}}),disabled:!E.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(as,{className:"w-4 h-4 mr-2"}),"Analyze with ",B.name]}):i.jsxs(he,{onClick:W,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(as,{className:"w-4 h-4 mr-2"}),"Import with ",B.name]})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[T.localTool&&i.jsx("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(hr,{className:"w-4 h-4 text-purple-600"}),i.jsx("code",{className:"text-purple-700",children:T.localTool.path})]})}),i.jsx("div",{className:"flex-1 bg-gray-900 rounded-lg overflow-hidden",style:{minHeight:"200px"},children:i.jsx(Hg,{cwd:((ne=T.localTool)==null?void 0:ne.path)||b||"~/reg/tools",initialCommand:I(),onExit:de,height:"100%"})}),i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[i.jsx(n5,{className:"w-4 h-4"}),"Paste MCP Config JSON"]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 mb-2",children:"Copy the JSON config from the terminal output above and paste it here to add to your registry."}),i.jsx(mt,{value:T.pastedConfig,onChange:Q=>P({...T,pastedConfig:Q.target.value}),placeholder:`{
  "mcpServers": {
    "example": {
      "command": "npx",
      "args": ["-y", "@example/mcp-server"]
    }
  }
}`,className:"font-mono text-sm bg-white",rows:6})]}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(he,{variant:"outline",onClick:()=>P({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Close"}),i.jsxs(he,{onClick:me,disabled:!T.pastedConfig.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})]})})]})}function PH({project:e,onUpdate:t}){var B,V,U,X;const[r,n]=C.useState(null),[o,d]=C.useState(!0),[c,l]=C.useState(null),[u,f]=C.useState(""),[p,h]=C.useState(!1),[v,_]=C.useState("global"),[k,w]=C.useState(""),[x,y]=C.useState([]),[g,b]=C.useState({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""});C.useEffect(()=>{j()},[]);const j=async()=>{try{d(!0);const G=await we.getMemory();n(G)}catch{ee.error("Failed to load memory")}finally{d(!1)}};C.useEffect(()=>{c&&T(c.path)},[c]);const T=async G=>{try{const q=await we.getMemoryFile(G);f(q.content||"")}catch{ee.error("Failed to load file")}},P=async()=>{if(c){h(!0);try{await we.saveMemoryFile(c.path,u),ee.success("Saved!"),j()}catch{ee.error("Failed to save")}finally{h(!1)}}},E=async()=>{if(!k.trim()){y([]);return}try{const G=await we.searchMemory(k);y(G.results||[])}catch{ee.error("Search failed")}},N=async()=>{let G="";const{type:q}=g;switch(q){case"preference":if(!g.name.trim()){ee.error("Name required");return}G=`**${g.name}**: ${g.description}`;break;case"correction":if(!g.wrong.trim()||!g.right.trim()){ee.error('Both "wrong" and "right" are required');return}G=`**Wrong**: ${g.wrong}
**Right**: ${g.right}`;break;case"fact":if(!g.category.trim()){ee.error("Category required");return}G=`**${g.category}**: ${g.details}`;break;case"pattern":if(!g.name.trim()){ee.error("Name required");return}G=`**${g.name}**
${g.description}`;break;case"decision":if(!g.title.trim()){ee.error("Title required");return}G=`**${g.title}**

**Context**: ${g.context}

**Decision**: ${g.decision}

**Rationale**: ${g.rationale}`;break;case"issue":if(!g.title.trim()){ee.error("Title required");return}G=`**${g.title}**

${g.description}`;break;case"history":case"context":default:if(!g.content.trim()){ee.error("Content required");return}G=g.content;break}try{const K=["pattern","decision","issue","history","context"].includes(q)?"project":"global";await we.addMemoryEntry(q,G,K),ee.success(`Added ${q} entry`),b({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),j()}catch{ee.error("Failed to add entry")}},L=async()=>{try{await we.initProjectMemory(e.dir),ee.success("Project memory initialized!"),j()}catch(G){ee.error(G.message||"Failed to initialize")}};if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-indigo-600"})});const F={global:[{id:"preference",label:"Preference",icon:Zs,desc:"User preferences (tools, style, etc.)"},{id:"correction",label:"Correction",icon:Ao,desc:"Mistakes to avoid"},{id:"fact",label:"Fact",icon:Ai,desc:"Facts about your environment"}],project:[{id:"context",label:"Context",icon:wr,desc:"Project overview and conventions"},{id:"pattern",label:"Pattern",icon:Wu,desc:"Code patterns in this project"},{id:"decision",label:"Decision",icon:Ku,desc:"Architecture decisions"},{id:"issue",label:"Issue",icon:Ao,desc:"Known issues and workarounds"},{id:"history",label:"History",icon:nu,desc:"Session work log"}]};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(To,{className:"w-5 h-5 text-purple-600"}),"Memory System"]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(he,{variant:"outline",size:"sm",onClick:()=>b({open:!0,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Entry"]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{placeholder:"Search memory...",value:k,onChange:G=>w(G.target.value),onKeyDown:G=>G.key==="Enter"&&E(),className:"flex-1"}),i.jsx(he,{variant:"outline",onClick:E,children:i.jsx(vl,{className:"w-4 h-4"})})]}),x.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-900 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Search Results"}),i.jsx("div",{className:"space-y-2",children:x.map((G,q)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nt,{variant:G.scope==="global"?"default":"secondary",children:G.scope}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:G.file})]}),G.matches.map((K,$)=>i.jsxs("div",{className:"ml-4 text-gray-600 dark:text-slate-400 text-xs mt-1",children:["Line ",K.line,": ",K.text]},$))]},q))})]})]}),i.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:["global","project","sync"].map(G=>i.jsxs("button",{onClick:()=>_(G),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${v===G?"bg-white dark:bg-slate-950 border border-b-white dark:border-b-slate-950 border-gray-200 dark:border-slate-700 -mb-[1px] text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:[G.charAt(0).toUpperCase()+G.slice(1)," Memory"]},G))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[v==="global"&&"Global Memory Files",v==="project"&&"Project Memory Files",v==="sync"&&"Sync State"]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[v==="global"&&"~/.claude/memory/",v==="project"&&`${e.dir}/.claude/memory/`,v==="sync"&&"~/.claude/sync/"]})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[v==="global"&&((B=r==null?void 0:r.global)==null?void 0:B.files.map(G=>i.jsxs("button",{onClick:()=>G.exists&&l(G),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(c==null?void 0:c.path)===G.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${G.exists?"":"opacity-50"}`,children:[i.jsx(wr,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:G.type})]}),G.exists?i.jsx(Jt,{className:"w-4 h-4 text-green-500"}):i.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},G.name))),v==="project"&&i.jsx(i.Fragment,{children:(V=r==null?void 0:r.project)!=null&&V.initialized?(U=r==null?void 0:r.project)==null?void 0:U.files.map(G=>i.jsxs("button",{onClick:()=>G.exists&&l(G),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(c==null?void 0:c.path)===G.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${G.exists?"":"opacity-50"}`,children:[i.jsx(wr,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:G.type})]}),G.exists?i.jsx(Jt,{className:"w-4 h-4 text-green-500"}):i.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},G.name)):i.jsxs("div",{className:"p-6 text-center",children:[i.jsx(To,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Project memory not initialized"}),i.jsxs(he,{onClick:L,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Initialize Project Memory"]})]})}),v==="sync"&&i.jsx("div",{className:"p-4",children:(X=r==null?void 0:r.sync)!=null&&X.state?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current State"}),i.jsx("pre",{className:"text-xs bg-gray-50 dark:bg-slate-900 p-3 rounded overflow-auto max-h-48 text-gray-800 dark:text-slate-300",children:JSON.stringify(r.sync.state,null,2)})]}),r.sync.history.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["History (",r.sync.history.length,")"]}),i.jsx("div",{className:"space-y-1",children:r.sync.history.map((G,q)=>i.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400 flex items-center gap-2",children:[i.jsx(nu,{className:"w-3 h-3"}),G.name]},q))})]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(nu,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No sync state"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"State is created by session hooks"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:c?c.name:"Select a file"}),c&&i.jsxs(he,{size:"sm",onClick:P,disabled:p,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Save"]})]}),i.jsx("div",{className:"p-4",children:c?i.jsx(mt,{value:u,onChange:G=>f(G.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"File content..."}):i.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400 dark:text-slate-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Select a file to edit"})]})})})]})]}),i.jsx(Dt,{open:g.open,onOpenChange:G=>b({...g,open:G}),children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsxs(Pt,{children:[i.jsx(Tt,{children:"Add Memory Entry"}),i.jsx(Sr,{children:"Add a new entry to the appropriate memory file."})]}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Entry Type"}),i.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[...F.global,...F.project].map(G=>{const q=G.icon,K=F.global.some($=>$.id===G.id);return i.jsxs("button",{onClick:()=>b({...g,type:G.id}),className:`p-2 rounded-lg border text-left transition-colors ${g.type===G.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(q,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.label})]}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:K?"Global":"Project"})]},G.id)})})]}),g.type==="preference"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Name"}),i.jsx(ot,{value:g.name,onChange:G=>b({...g,name:G.target.value}),placeholder:"e.g., package-manager",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(ot,{value:g.description,onChange:G=>b({...g,description:G.target.value}),placeholder:"e.g., Always use pnpm instead of npm",className:"mt-1"})]})]}),g.type==="correction"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Wrong (what to avoid)"}),i.jsx(mt,{value:g.wrong,onChange:G=>b({...g,wrong:G.target.value}),placeholder:"e.g., Using npm install",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Right (what to do instead)"}),i.jsx(mt,{value:g.right,onChange:G=>b({...g,right:G.target.value}),placeholder:"e.g., Use pnpm install",className:"mt-1",rows:2})]})]}),g.type==="fact"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Category"}),i.jsx(ot,{value:g.category,onChange:G=>b({...g,category:G.target.value}),placeholder:"e.g., shell, editor, system",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Details"}),i.jsx(mt,{value:g.details,onChange:G=>b({...g,details:G.target.value}),placeholder:"e.g., Using zsh with oh-my-zsh",className:"mt-1",rows:2})]})]}),g.type==="pattern"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pattern Name"}),i.jsx(ot,{value:g.name,onChange:G=>b({...g,name:G.target.value}),placeholder:"e.g., API Response Format",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(mt,{value:g.description,onChange:G=>b({...g,description:G.target.value}),placeholder:"Describe the pattern and when to use it...",className:"mt-1",rows:3})]})]}),g.type==="decision"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Title"}),i.jsx(ot,{value:g.title,onChange:G=>b({...g,title:G.target.value}),placeholder:"e.g., Use React Query for data fetching",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context"}),i.jsx(mt,{value:g.context,onChange:G=>b({...g,context:G.target.value}),placeholder:"What problem were we solving?",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Decision"}),i.jsx(mt,{value:g.decision,onChange:G=>b({...g,decision:G.target.value}),placeholder:"What did we decide?",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rationale"}),i.jsx(mt,{value:g.rationale,onChange:G=>b({...g,rationale:G.target.value}),placeholder:"Why this choice over alternatives?",className:"mt-1",rows:2})]})]}),g.type==="issue"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Issue Title"}),i.jsx(ot,{value:g.title,onChange:G=>b({...g,title:G.target.value}),placeholder:"e.g., Memory leak in useEffect",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description / Workaround"}),i.jsx(mt,{value:g.description,onChange:G=>b({...g,description:G.target.value}),placeholder:"Describe the issue and any workarounds...",className:"mt-1",rows:3})]})]}),(g.type==="history"||g.type==="context")&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Content"}),i.jsx(mt,{value:g.content,onChange:G=>b({...g,content:G.target.value}),placeholder:g.type==="history"?"What work was done this session?":"Project context and overview...",className:"mt-1",rows:4})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>b({...g,open:!1}),children:"Cancel"}),i.jsxs(he,{onClick:N,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})]})})]})}function TH({onProjectSwitch:e}){const[t,r]=C.useState([]),[n,o]=C.useState(null),[d,c]=C.useState(!0),[l,u]=C.useState(null),[f,p]=C.useState(!1);C.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const w=await we.getProjects();r(w.projects||[]),o(w.activeProjectId)}catch{ee.error("Failed to load projects")}finally{c(!1)}},v=async w=>{u(w);try{const x=await we.setActiveProject(w);x.success?(o(w),r(y=>y.map(g=>({...g,isActive:g.id===w}))),ee.success(`Switched to ${x.project.name}`),e==null||e(x)):ee.error(x.error||"Failed to switch project")}catch(x){ee.error("Failed to switch project: "+x.message)}finally{u(null)}},_=async w=>{if(confirm(`Remove "${w.name}" from the registry?

This won't delete any files.`))try{const x=await we.removeProject(w.id);x.success?(r(y=>y.filter(g=>g.id!==w.id)),ee.success(`Removed project: ${w.name}`)):ee.error(x.error||"Failed to remove project")}catch(x){ee.error("Failed to remove project: "+x.message)}},k=w=>{r(x=>[...x,{...w,exists:!0,hasClaudeConfig:!1}])};return d?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:i.jsx(Js,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Projects"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Registered projects for quick switching"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{variant:"outline",onClick:h,size:"sm",children:[i.jsx(fr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),i.jsxs(he,{onClick:()=>p(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-700 dark:text-blue-400",children:i.jsx("p",{children:"Projects registered here can be quickly switched in the header dropdown. The UI will update to show the selected project's configuration."})}),i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:t.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Projects Yet"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Add your first project to get started with quick switching."}),i.jsxs(he,{onClick:()=>p(!0),children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Your First Project"]})]}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:t.map(w=>i.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${w.isActive?"bg-indigo-50 dark:bg-indigo-950/30":"hover:bg-gray-50 dark:hover:bg-slate-900"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${w.isActive?"bg-indigo-100 dark:bg-indigo-900/50":w.exists?"bg-gray-100 dark:bg-slate-800":"bg-amber-100 dark:bg-amber-900/30"}`,children:w.isActive?i.jsx(Jt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}):w.exists?i.jsx(hr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}):i.jsx(Gu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:`font-medium truncate ${w.isActive?"text-indigo-700 dark:text-indigo-400":"text-gray-900 dark:text-white"}`,children:w.name}),w.hasClaudeConfig&&i.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded",children:".claude"}),w.isActive&&i.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Active"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-mono truncate",children:w.path.replace(/^\/Users\/[^/]+/,"~")}),!w.exists&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Path not found - the directory may have been moved or deleted"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!w.isActive&&w.exists&&i.jsx(he,{size:"sm",onClick:()=>v(w.id),disabled:l===w.id,children:l===w.id?i.jsx(dt,{className:"w-4 h-4 animate-spin"}):"Select"}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>_(w),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Remove from registry",children:i.jsx(Wn,{className:"w-4 h-4"})})]})]},w.id))})}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[i.jsx("p",{children:"claude-config project add [path]        # Add project"}),i.jsx("p",{children:"claude-config project remove <name>    # Remove project"}),i.jsx("p",{children:"claude-config project                   # List projects"})]})]}),i.jsx(Cj,{open:f,onOpenChange:p,onAdded:k})]})}const AH=[{id:"getting-started",title:"Getting Started",icon:Ai,subsections:[{id:"installation",title:"Installation"},{id:"quick-start",title:"Quick Start"},{id:"updating",title:"Updating"}]},{id:"projects",title:"Project Management",icon:Ks,subsections:[{id:"project-registry",title:"Project Registry"},{id:"project-switching",title:"Switching Projects"},{id:"project-structure",title:"Project Structure"}]},{id:"file-explorer",title:"Project Explorer",icon:hr,subsections:[{id:"claude-folders",title:".claude Folders"},{id:"rules",title:"Rules"},{id:"commands",title:"Commands"},{id:"workflows",title:"Workflows"},{id:"hierarchy",title:"Configuration Hierarchy"},{id:"subprojects",title:"Sub-Projects"}]},{id:"workstreams",title:"Workstreams",icon:Ks,isNew:!0,subsections:[{id:"workstreams-overview",title:"Overview"},{id:"creating-workstreams",title:"Creating Workstreams"},{id:"workstream-hooks",title:"Hook Integration"},{id:"activity-tracking",title:"Activity Tracking"},{id:"smart-sync",title:"Smart Sync"}]},{id:"plugins",title:"Plugins",icon:Qs,isNew:!0,subsections:[{id:"plugins-overview",title:"Overview"},{id:"installing-plugins",title:"Installing Plugins"},{id:"plugin-marketplaces",title:"Marketplaces"}]},{id:"mcp-registry",title:"MCP Registry",icon:Qs,subsections:[{id:"mcp-overview",title:"Overview"},{id:"adding-mcps",title:"Adding MCPs"},{id:"configuring-mcps",title:"Configuring MCPs"},{id:"environment-vars",title:"Environment Variables"}]},{id:"memory",title:"Memory System",icon:To,subsections:[{id:"memory-overview",title:"Overview"},{id:"global-memory",title:"Global Memory"},{id:"project-memory",title:"Project Memory"},{id:"memory-entries",title:"Memory Entry Types"}]},{id:"claude-settings",title:"Claude Code Settings",icon:xl,subsections:[{id:"permissions",title:"Permissions"},{id:"model-selection",title:"Model Selection"},{id:"behavior",title:"Behavior Settings"},{id:"hooks",title:"Hooks"}]},{id:"templates",title:"Templates",icon:zo,subsections:[{id:"using-templates",title:"Using Templates"},{id:"available-templates",title:"Available Templates"},{id:"custom-templates",title:"Custom Templates"}]},{id:"cli",title:"CLI Reference",icon:Ft,subsections:[{id:"cli-overview",title:"Overview"},{id:"cli-commands",title:"All Commands"},{id:"daemon-mode",title:"Daemon Mode"}]},{id:"multi-tool",title:"Multi-Tool Support",icon:Xt,subsections:[{id:"supported-tools",title:"Supported Tools"},{id:"gemini-cli",title:"Gemini CLI"},{id:"antigravity",title:"Antigravity"},{id:"tool-differences",title:"Tool Differences"},{id:"enabling-tools",title:"Enabling Tools"},{id:"syncing-rules",title:"Syncing Rules"}]},{id:"keyboard",title:"Keyboard Shortcuts",icon:D5,subsections:[]},{id:"troubleshooting",title:"Troubleshooting",icon:Em,subsections:[{id:"common-issues",title:"Common Issues"},{id:"getting-help",title:"Getting Help"}]}],RH={installation:{title:"Installation",content:`
## Installation

Install claude-config globally via npm:

\`\`\`bash
npm install -g @regression-io/claude-config
\`\`\`

Or install from GitHub directly:

\`\`\`bash
npm install -g github:regression-io/claude-config
\`\`\`

### Requirements

- **Node.js 18+** is required
- Works on macOS, Linux, and Windows (with some limitations)

### Verify Installation

After installation, verify it's working:

\`\`\`bash
claude-config --version
\`\`\`

This should display the version number and installation paths.
    `},"quick-start":{title:"Quick Start",content:`
## Quick Start

### 1. Start the UI

\`\`\`bash
claude-config ui
\`\`\`

This starts the web UI as a background daemon on port 3333.

### 2. Open in Browser

Navigate to **http://localhost:3333**

### 3. Add a Project

Click "Add Project" in the header or go to All Projects view to register your project directories.

### 4. Initialize Configuration

For each project, you can:
- Create a \`.claude\` folder with configuration
- Add rules (guidelines for Claude)
- Add commands (reusable prompts)
- Configure MCPs (Model Context Protocol servers)

### 5. Apply Templates

Use pre-built templates to quickly set up rules for your project type:
- **fastapi** - Python FastAPI projects
- **react-ts** - React with TypeScript
- **python-cli** - Python CLI tools
- And more...

### 6. Install as App (Optional)

Claude Config is a PWA (Progressive Web App). Install it to your taskbar:

**Chrome/Edge:** Click the install icon in the address bar
**Safari:** Share  Add to Dock

### 7. Theme

Use the theme toggle in the header to switch between:
- **Light** - Light mode
- **Dark** - Dark mode
- **Auto** - Follow system preference
    `},updating:{title:"Updating",content:`
## Updating

### Automatic Update Detection

The UI automatically checks npm for new versions. When an update is available, you'll see a notification in the Preferences page.

### Manual Update

\`\`\`bash
npm update -g @regression-io/claude-config
\`\`\`

Or for a clean reinstall:

\`\`\`bash
npm uninstall -g @regression-io/claude-config
npm install -g @regression-io/claude-config
\`\`\`

### After Updating

If you have the UI running as a daemon, restart it:

\`\`\`bash
claude-config ui stop
claude-config ui
\`\`\`
    `}},MH={"project-registry":{title:"Project Registry",content:`
## Project Registry

The project registry keeps track of all your Claude-enabled projects. It's stored in \`~/.claude-config/projects.json\`.

### Adding Projects

**Via UI:**
1. Click "Add Project" in the header
2. Select a directory

**Via CLI:**
\`\`\`bash
claude-config project add /path/to/project
claude-config project add /path/to/project --name "My Project"
\`\`\`

### Listing Projects

\`\`\`bash
claude-config project
\`\`\`

### Removing Projects

\`\`\`bash
claude-config project remove "My Project"
claude-config project remove /path/to/project
\`\`\`

Note: Removing a project from the registry does not delete the project files.
    `},"project-switching":{title:"Switching Projects",content:`
## Switching Projects

### Via UI

Use the project dropdown in the header to quickly switch between registered projects. The UI will reload to show the new project's configuration.

### Via CLI

\`\`\`bash
claude-config ui --dir /path/to/project
\`\`\`

### Active Project

The active project is remembered between sessions. When you start the UI, it automatically loads the last active project.
    `},"project-structure":{title:"Project Structure",content:`
## Project Structure

A Claude-enabled project has a \`.claude\` folder with this structure:

\`\`\`
your-project/
 .claude/
    mcps.json       # MCP configuration
    settings.json   # Project-specific settings
    CLAUDE.md       # Project instructions
    rules/          # Rule files (*.md)
       style.md
       patterns.md
    commands/       # Command files (*.md)
       review.md
       test.md
    workflows/      # Workflow files (*.md)
       deploy.md
    memory/         # Project memory (optional)
        context.md
        patterns.md
 .mcp.json           # Generated - Claude Code reads this
\`\`\`

### Generated Files

The \`.mcp.json\` file in your project root is generated by running \`claude-config apply\`. Claude Code reads this file to configure MCPs.
    `}},DH={"claude-folders":{title:".claude Folders",content:`
## .claude Folders

The \`.claude\` folder contains all Claude Code configuration for a directory.

### Creating .claude Folders

In the Project Explorer, click "+ .claude" on any directory in the hierarchy to create a new configuration folder.

### Hierarchy

Configuration is inherited from parent directories:

\`\`\`
~/.claude/              # Global - applies everywhere
~/projects/.claude/     # Workspace - applies to all projects here
~/projects/my-app/      # Project - specific to this project
\`\`\`

Settings merge from global to project, with more specific settings taking precedence.
    `},rules:{title:"Rules",content:`
## Rules

Rules are markdown files that provide guidelines and instructions for Claude.

### Creating Rules

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "rules"
3. Enter a name (e.g., "coding-style")

### Rule Content

Rules should be written in markdown and contain:
- Guidelines for code style
- Project-specific patterns
- Do's and don'ts
- Architecture decisions

### Example Rule

\`\`\`markdown
# Coding Style

## TypeScript
- Use strict mode
- Prefer interfaces over types
- Use named exports

## React
- Use functional components
- Prefer hooks over HOCs
- Keep components small and focused
\`\`\`

### Rule Priority

Rules are loaded in order from global to project. Project rules can override global rules.
    `},commands:{title:"Commands",content:`
## Commands

Commands are reusable prompts that can be invoked in Claude Code.

### Creating Commands

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "commands"
3. Enter a name (e.g., "review")

### Command Content

Commands are markdown files containing a prompt template. They can include:
- Instructions for Claude
- Templates with placeholders
- Multi-step workflows

### Example Command

\`\`\`markdown
# Code Review

Review the selected code for:

1. **Bugs** - Logic errors, edge cases
2. **Security** - Vulnerabilities, input validation
3. **Performance** - Inefficiencies, memory leaks
4. **Style** - Consistency, readability

Provide specific suggestions with code examples.
\`\`\`

### Using Commands

In Claude Code, use \`/command-name\` to invoke a command.
    `},workflows:{title:"Workflows",content:`
## Workflows

Workflows are markdown files that define multi-step processes or cross-repository operations.

### Location

Workflows are stored in \`.claude/workflows/\` in your project root.

### Creating Workflows

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button and select "New Workflow"
3. Enter a name (e.g., "deploy-all")

### Workflow Content

Workflows typically include:
- Step-by-step instructions
- Cross-repository coordination
- Environment setup
- Deployment processes

### Example Workflow

\`\`\`markdown
# Deploy All Services

## Steps

1. Build auth-service first
2. Then build api-gateway
3. Run integration tests
4. Deploy to staging
5. Deploy to production
\`\`\`

### Use Cases

- Multi-repo deployments
- Complex build processes
- Onboarding procedures
- Release workflows
    `},subprojects:{title:"Sub-Projects",content:`
## Sub-Projects

Sub-projects are nested git repositories within your main project (monorepos, workspaces).

### Detection

Sub-projects are automatically detected by scanning for \`.git\` directories within your project.

### Sub-Projects View

Access via **Sub-Projects** in the sidebar (only appears if sub-projects exist).

The view shows:
- All detected sub-projects
- Which have \`.claude\` folders configured
- MCP count per sub-project

### Managing Sub-Projects

**Initialize .claude folder:**
Click the folder+ icon on a sub-project without configuration.

**Delete .claude folder:**
Click the trash icon (with confirmation) to remove configuration.

**Switch to sub-project:**
Click a sub-project card to switch context and manage it in Project Explorer.

### Sticky Navigation

When inside a sub-project, the Sub-Projects menu remains visible showing all sub-projects from the root project. Use "Back to Root" to return.

### Configuration Inheritance

Sub-projects inherit configuration from parent directories. Each sub-project can have its own \`.claude\` folder that extends the parent configuration.
    `},hierarchy:{title:"Configuration Hierarchy",content:`
## Configuration Hierarchy

Claude Config uses a hierarchical configuration system where settings cascade from global to local.

### Levels

1. **Global** (\`~/.claude/\`) - Applies to all projects
2. **Workspace** (intermediate directories) - Applies to projects in that directory
3. **Project** (your project's \`.claude/\`) - Specific to one project

### Merging Behavior

- **MCPs**: Merged, with local configs overriding global
- **Rules**: All rules are loaded, local rules can override
- **Commands**: All commands are available, local takes precedence
- **Settings**: Deep merged, local values override

### Viewing the Hierarchy

In the Project Explorer, you'll see all \`.claude\` folders in the hierarchy from your project up to home. You can manage configuration at each level.
    `}},LH={"workstreams-overview":{title:"Workstreams Overview",content:`
## Workstreams

Workstreams are **context sets** for multi-project workflows. They group related projects and inject context rules into every Claude session.

### Why Workstreams?

When working on complex features that span multiple repos (e.g., REST API + UI + shared library), you need Claude to understand the broader context. Workstreams solve this by:

1. **Grouping related projects together**
2. **Defining rules specific to that workflow**
3. **Automatically injecting those rules into every Claude session**

### Example Use Cases

- **Feature Development**: Group API, frontend, and shared libraries for a feature
- **Bug Investigation**: Group related services to trace issues across boundaries
- **Refactoring**: Group all affected repos during large-scale changes
- **Onboarding**: Create workstreams for different parts of your codebase

### Workstream Structure

Each workstream has:
- **Name** - Descriptive name (e.g., "User Auth", "Payment Flow")
- **Projects** - List of project directories included
- **Rules** - Context and guidelines specific to this workflow
- **Active Status** - Only one workstream can be active at a time
    `},"creating-workstreams":{title:"Creating Workstreams",content:`
## Creating Workstreams

### Via UI

1. Go to **Workstreams** in the sidebar
2. Click **Create Workstream** button
3. Enter a name and optional description
4. Add projects using the project picker
5. Write rules for Claude to follow
6. Click **Create**

### Via CLI

\`\`\`bash
# Create a workstream
claude-config workstream create "User Auth"

# Add projects to it
claude-config workstream add-project "User Auth" ~/projects/api
claude-config workstream add-project "User Auth" ~/projects/ui
claude-config workstream add-project "User Auth" ~/projects/shared

# Activate it
claude-config workstream use "User Auth"
\`\`\`

### Managing Workstreams

**List all workstreams:**
\`\`\`bash
claude-config workstream
\`\`\`

**Show active workstream:**
\`\`\`bash
claude-config workstream active
\`\`\`

**Delete a workstream:**
\`\`\`bash
claude-config workstream delete "User Auth"
\`\`\`

### Editing Rules

In the UI, click a workstream to expand it and edit rules. Rules are markdown text that gets injected into Claude sessions:

\`\`\`markdown
Focus on user authentication flow.
- Use JWT tokens for auth
- React Query for state management
- PostgreSQL for persistence
- Follow REST conventions
\`\`\`
    `},"workstream-hooks":{title:"Workstream Hook Integration",content:`
## Hook Integration

For workstream rules to be automatically injected into Claude sessions, you need to install a pre-prompt hook.

### One-Click Install (Recommended)

1. Open Web UI  **Workstreams**
2. Click **Install Hook Automatically**
3. Done! A green "Hook Installed" badge will appear

### Manual Installation

Add to \`~/.claude/hooks/pre-prompt.sh\`:

\`\`\`bash
#!/bin/bash
claude-config workstream inject --silent
\`\`\`

Make it executable:
\`\`\`bash
chmod +x ~/.claude/hooks/pre-prompt.sh
\`\`\`

### How It Works

1. When you start a Claude session, the pre-prompt hook runs
2. It checks for an active workstream
3. If found, it outputs the workstream's rules
4. These rules are prepended to your Claude session context

### Testing the Hook

\`\`\`bash
# See what would be injected
claude-config workstream inject

# Silent mode (no output if no workstream)
claude-config workstream inject --silent
\`\`\`

### Auto-Detection

Claude-config can also detect which workstream to use based on your current directory:

\`\`\`bash
claude-config workstream detect /path/to/project
\`\`\`
    `},"activity-tracking":{title:"Activity Tracking",content:`
## Activity Tracking

Activity tracking observes which files and projects you work with during Claude sessions, enabling intelligent workstream suggestions.

### How It Works

1. A post-response hook logs file paths accessed during Claude sessions
2. Co-activity patterns are detected (projects frequently worked on together)
3. Workstream suggestions appear in the UI based on these patterns

### Setting Up Activity Tracking

Add to \`~/.claude/hooks/post-response.sh\`:

\`\`\`bash
#!/bin/bash
source /path/to/claude-config/hooks/activity-track.sh
\`\`\`

Or use the one-click install in the Workstreams view.

### Activity Insights Panel

In the **Workstreams** view, the Activity Insights panel shows:
- **Sessions tracked** - Number of Claude sessions logged
- **Files tracked** - Total file accesses recorded
- **Active projects** - Projects with recent activity
- **Top projects** - Most frequently accessed projects

### Workstream Suggestions

Based on co-activity patterns, claude-config suggests workstreams:

- **Co-activity score** - Percentage showing how often projects are worked on together
- **Create button** - Opens pre-filled dialog (tweak projects as needed)
- **Dismiss button** - Hide suggestions you don't want (persists to localStorage)

### Privacy

- Activity data is stored locally in \`~/.claude-config/activity.json\`
- Only file paths are logged (not file contents)
- You can delete the activity file at any time
- Activity tracking is read-only and never modifies your code
    `},"smart-sync":{title:"Smart Sync",content:`
## Smart Sync

Smart Sync intelligently suggests workstream switches based on your current coding activity.

### How It Works

1. **Detection**: Monitors which projects you're actively working in
2. **Matching**: Compares activity against configured workstreams
3. **Nudging**: Shows non-blocking toast notifications when a switch might help
4. **Learning**: Remembers your choices to reduce future prompts

### Toast Notifications

When Smart Sync detects you might benefit from switching workstreams:

- **Switch nudge**: "Working on api, ui. Switch to 'User Auth'?" [Yes] [No] [Always] [Never]
- **Add project nudge**: "New project detected. Add to workstream?" [Yes] [No]

### Auto-Switch

When confidence is high (80%+ by default), Smart Sync can automatically switch workstreams without prompting.

### Settings

In the **Workstreams** view, find the Smart Sync settings panel:

- **Enable/Disable** - Toggle Smart Sync on or off
- **Threshold slider** - Adjust auto-switch confidence threshold (0-100%)

### Bulletproof Design

Smart Sync is designed to never block your workflow:

- All nudges are dismissible
- Fails silently if anything goes wrong
- Rate-limited (max one nudge per 5 minutes)
- Defaults to last-used workstream if detection fails
- Learns from your choices to reduce prompts over time

### User Choices

- **Yes** - Switch to suggested workstream
- **No** - Dismiss this nudge
- **Always** - Remember to always switch for this project-workstream pair
- **Never** - Never suggest this workstream for these projects again

Preferences are stored in \`~/.claude-config/smart-sync.json\`.
    `}},IH={"plugins-overview":{title:"Plugins Overview",content:`
## Plugins

Claude Code plugins extend functionality with LSP servers, MCP servers, and commands.

### What Are Plugins?

Plugins are packages that add capabilities to Claude Code:

- **LSP Servers** - Language Server Protocol servers for code intelligence
- **MCP Servers** - Model Context Protocol servers for additional tools
- **Commands** - Reusable prompts and workflows

### Plugin Directory

The **Plugins** page shows all available plugins with:

- **Search** - Find plugins by name or description
- **Category filter** - Filter by plugin category
- **Source filter** - Anthropic official vs Community plugins
- **Installed filter** - Show only installed or available plugins

### Plugin Types

| Type | Badge | Description |
|------|-------|-------------|
| LSP | \`LSP\` | Language server providing code intelligence |
| MCP | \`MCP\` | Model context protocol server |
| Commands | \`CMD\` | Custom commands and prompts |
    `},"installing-plugins":{title:"Installing Plugins",content:`
## Installing Plugins

### From Project Explorer

The recommended way to install plugins:

1. Open **Project Explorer**
2. Click the **+** menu on any project folder
3. Select **Install Plugins**
4. Browse available plugins
5. Toggle plugins on/off
6. Select scope (Project/Global/Local)

### Scope Options

| Scope | Location | Description |
|-------|----------|-------------|
| Project | \`.claude/plugins.json\` | Only for this project |
| Global | \`~/.claude/plugins.json\` | All projects |
| Local | Project-specific | Scoped to workspace |

### From Plugin Directory

1. Go to **Plugins** in the sidebar
2. Find a plugin you want
3. Click **Install** button
4. Select target project and scope

### Via CLI

\`\`\`bash
# Install a plugin to current project
claude plugin install plugin-name

# Install globally
claude plugin install plugin-name --global
\`\`\`
    `},"plugin-marketplaces":{title:"Plugin Marketplaces",content:`
## Plugin Marketplaces

Plugins are distributed through marketplaces (Git repositories).

### Default Marketplace

**claude-plugins-official** - Anthropic's official plugins

### Adding Marketplaces

1. Go to **Plugins** page
2. Click **Add Marketplace** button
3. Enter marketplace URL or shorthand

### Supported Formats

- \`owner/repo\`  GitHub shorthand
- \`https://github.com/owner/repo\`  Full URL
- \`/local/path\`  Local directory

### Managing Marketplaces

- **Refresh** - Update plugin list from all marketplaces
- **Remove** - Remove a marketplace (plugins remain installed)
- **View external** - Toggle to see external marketplace plugins

### Creating a Marketplace

A marketplace is a Git repo with:

\`\`\`
marketplace/
 plugins.json      # Plugin registry
 plugins/
     plugin-a/
        plugin.json
        ...
     plugin-b/
         ...
\`\`\`

### plugins.json Format

\`\`\`json
{
  "plugins": [
    {
      "name": "my-plugin",
      "description": "Does something useful",
      "category": "utilities",
      "source": "community"
    }
  ]
}
\`\`\`
    `}},OH={"mcp-overview":{title:"MCP Overview",content:`
## MCP Overview

MCPs (Model Context Protocol servers) extend Claude's capabilities by providing additional tools and context.

### What are MCPs?

MCPs are servers that implement the Model Context Protocol, providing:
- **Tools** - Additional commands Claude can execute
- **Resources** - Data and context Claude can access
- **Prompts** - Pre-defined prompt templates

### Common MCPs

- **filesystem** - File system access
- **github** - GitHub integration
- **postgres** - PostgreSQL database access
- **memory** - Persistent memory storage

### Configuration

MCPs are configured in \`.claude/mcps.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`
    `},"adding-mcps":{title:"Adding MCPs",content:`
## Adding MCPs

### Via UI - Registry

1. Go to **MCP Registry** in the sidebar
2. Click **Add MCP** button
3. Paste JSON configuration:

\`\`\`json
{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}
\`\`\`

4. Click "Add to Registry"

### Via UI - Config Editor

1. Go to **Project Explorer**
2. Select an \`mcps.json\` file
3. Click **Add MCP** in the editor header
4. Paste JSON to add inline MCP to that config level

### Accepted JSON Formats

Both formats work:

**Simple format:**
\`\`\`json
{ "name": { "command": "...", "args": [...] } }
\`\`\`

**Full format:**
\`\`\`json
{ "mcpServers": { "name": { "command": "...", "args": [...] } } }
\`\`\`

### Via CLI

\`\`\`bash
claude-config add filesystem github postgres
\`\`\`

### From Search Results

Search GitHub or npm in the Registry view. Click "Add" to pre-fill the JSON with suggested configuration.
    `},"configuring-mcps":{title:"Configuring MCPs",content:`
## Configuring MCPs

### Required Fields

- **command** - The executable to run (e.g., "npx", "node", "python")
- **args** - Array of command-line arguments

### Optional Fields

- **env** - Environment variables for the MCP
- **cwd** - Working directory

### Example Configuration

\`\`\`json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "\${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "\${DATABASE_URL}"
      }
    }
  }
}
\`\`\`

### Per-Level Configuration

You can enable/disable MCPs at different hierarchy levels. An MCP enabled globally can be disabled for a specific project.
    `},"environment-vars":{title:"Environment Variables",content:`
## Environment Variables

### Syntax

Use \`\${VAR_NAME}\` syntax in your MCP configuration:

\`\`\`json
{
  "env": {
    "API_KEY": "\${MY_API_KEY}"
  }
}
\`\`\`

### .env Files

Create a \`.claude/.env\` file in your project:

\`\`\`
GITHUB_TOKEN=ghp_xxxxx
DATABASE_URL=postgresql://localhost/mydb
\`\`\`

### Environment View

Use the **Environment** view in the sidebar to manage environment variables for your project.

### Security

- Never commit \`.claude/.env\` to version control
- Add it to your \`.gitignore\`
- Use different values for development and production
    `}},BH={"memory-overview":{title:"Memory Overview",content:`
## Memory System

The memory system allows Claude to retain knowledge across sessions.

### Types of Memory

1. **Global Memory** (\`~/.claude/memory/\`)
   - Preferences - Your personal preferences
   - Corrections - Mistakes to avoid
   - Facts - Facts about your environment

2. **Project Memory** (\`project/.claude/memory/\`)
   - Context - Project overview
   - Patterns - Code patterns
   - Decisions - Architecture decisions
   - Issues - Known issues
   - History - Session history

### How It Works

Memory files are markdown documents that Claude reads at the start of each session, providing context and learned knowledge.
    `},"global-memory":{title:"Global Memory",content:`
## Global Memory

Global memory applies to all your Claude interactions.

### Location

\`~/.claude/memory/\`

### Files

- **preferences.md** - Your coding preferences, tool choices, style preferences
- **corrections.md** - Things Claude got wrong that it should remember
- **facts.md** - Facts about your environment, setup, tools

### Example: preferences.md

\`\`\`markdown
# Preferences

## Code Style
- Use 2 spaces for indentation
- Prefer functional programming patterns
- Always add TypeScript types

## Tools
- Use pnpm instead of npm
- Prefer Vite over webpack
\`\`\`
    `},"project-memory":{title:"Project Memory",content:`
## Project Memory

Project memory is specific to a single project.

### Location

\`project/.claude/memory/\`

### Files

- **context.md** - Project overview, tech stack, architecture
- **patterns.md** - Code patterns specific to this project
- **decisions.md** - Architectural decisions and rationale
- **issues.md** - Known issues and workarounds
- **history.md** - Log of work done in sessions

### Initializing Project Memory

In the Memory view, click "Initialize" to create memory files from templates.

### Example: context.md

\`\`\`markdown
# Project Context

## Overview
E-commerce platform built with Next.js and Prisma.

## Tech Stack
- Frontend: Next.js 14, React 18, Tailwind CSS
- Backend: Next.js API routes, Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js

## Key Directories
- /app - Next.js app router pages
- /components - React components
- /lib - Utilities and helpers
\`\`\`
    `},"memory-entries":{title:"Memory Entry Types",content:`
## Memory Entry Types

### Preference

User preferences for tools, style, and workflow.

\`\`\`markdown
## [Category]
- Preference description
- Another preference
\`\`\`

### Correction

Something Claude got wrong that should be remembered.

\`\`\`markdown
## [Topic]
- **Wrong**: What Claude did wrong
- **Right**: What to do instead
\`\`\`

### Pattern

A code pattern specific to the project.

\`\`\`markdown
## Pattern Name
Description of when to use this pattern.

\\\`\\\`\\\`typescript
// Code example
\\\`\\\`\\\`
\`\`\`

### Decision

An architectural decision with context.

\`\`\`markdown
## Decision Title
**Context**: Why this decision was needed
**Decision**: What was decided
**Rationale**: Why this was chosen
\`\`\`

### Issue

A known issue with workaround.

\`\`\`markdown
## Issue Title
**Problem**: Description of the issue
**Workaround**: How to work around it
\`\`\`
    `}},FH={permissions:{title:"Permissions",content:`
## Permissions

Control what Claude Code can do automatically.

### Permission Levels

- **Allow** - Tools that run without asking
- **Ask** - Tools that require confirmation
- **Deny** - Tools that are blocked

### Pattern Syntax

\`\`\`
Tool(pattern)
\`\`\`

Examples:
- \`Bash(npm run build)\` - Specific command
- \`Bash(npm:*)\` - Prefix match (npm anything)
- \`Read(**)\` - All file reads
- \`Edit(src/**)\` - Edit files in src/
- \`mcp__github__*\` - All GitHub MCP tools

### Managing Permissions

In the **Claude Code** settings view:
1. Navigate to the Permissions tab
2. Add patterns to Allow, Ask, or Deny lists
3. Click Save to apply

### Best Practices

- Start restrictive, allow more as needed
- Use specific patterns over wildcards
- Review deny list for security-sensitive operations
    `},"model-selection":{title:"Model Selection",content:`
## Model Selection

Choose which Claude model to use.

### Available Models

- **Claude Sonnet 4** - Fast, capable, good for most tasks
- **Claude Opus 4** - Most capable, best for complex tasks
- **Claude Haiku** - Fastest, good for simple tasks

### Setting the Model

In **Claude Code** settings, use the Model dropdown to select your preferred model.

### Per-Task Model

Some tasks may benefit from different models:
- Use Haiku for quick edits
- Use Opus for complex refactoring
- Use Sonnet as a balanced default
    `},behavior:{title:"Behavior Settings",content:`
## Behavior Settings

Configure how Claude Code behaves.

### Available Settings

- **Auto-accept edits** - Automatically accept file changes
- **Verbose mode** - Show more detailed output
- **Enable MCPs** - Toggle MCP servers on/off

### Configuration

These settings are stored in \`~/.claude/settings.json\` and can be edited in the Claude Code settings view.
    `},hooks:{title:"Hooks",content:`
## Hooks

Hooks allow you to run custom commands at specific points.

### Available Hooks

- **preToolUse** - Before a tool is used
- **postToolUse** - After a tool is used
- **notification** - When Claude sends a notification

### Configuration

\`\`\`json
{
  "hooks": {
    "postToolUse": "echo 'Tool used'"
  }
}
\`\`\`

### Use Cases

- Run linters after file edits
- Log tool usage
- Custom notifications
    `}},zH={"using-templates":{title:"Using Templates",content:`
## Using Templates

Templates provide pre-configured rules and settings for different project types.

### Applying Templates

**Via UI:**
1. Go to **Templates** in the sidebar
2. Select a template
3. Click "Apply to Project"

**Via CLI:**
\`\`\`bash
claude-config init --template fastapi
claude-config apply-template react-ts
\`\`\`

### What Templates Include

- Rules for the technology/framework
- Best practices
- Common patterns
- Style guidelines
    `},"available-templates":{title:"Available Templates",content:`
## Available Templates

### Languages

- **python** - Python general
- **typescript** - TypeScript general
- **javascript** - JavaScript general

### Frameworks

- **fastapi** - Python FastAPI
- **react-ts** - React with TypeScript
- **react-js** - React with JavaScript
- **python-cli** - Python CLI apps
- **mcp-python** - MCP server in Python

### Composites

- **fastapi-react-ts** - Full-stack FastAPI + React TypeScript
- **fastapi-react-js** - Full-stack FastAPI + React JavaScript

### Universal

- **universal** - Common rules for any project
    `},"custom-templates":{title:"Custom Templates",content:`
## Custom Templates

### Creating Custom Templates

Templates are stored in the templates directory. To create a custom template:

1. Create a directory in \`~/.claude-config/templates/\`
2. Add a \`template.json\` manifest
3. Add rules in a \`rules/\` subdirectory

### Template Structure

\`\`\`
my-template/
 template.json
 rules/
     style.md
     patterns.md
\`\`\`

### template.json

\`\`\`json
{
  "name": "My Template",
  "description": "Custom template for my projects",
  "category": "custom"
}
\`\`\`
    `}},HH={"cli-overview":{title:"CLI Overview",content:`
## CLI Overview

The \`claude-config\` CLI provides command-line access to all features.

### Basic Usage

\`\`\`bash
claude-config [command] [options]
\`\`\`

### Getting Help

\`\`\`bash
claude-config --help
claude-config <command> --help
\`\`\`

### Global Options

- \`--version, -v\` - Show version
- \`--help, -h\` - Show help
    `},"cli-commands":{title:"All Commands",content:`
## All CLI Commands

### UI Commands

\`\`\`bash
claude-config ui                  # Start UI (daemon mode)
claude-config ui --foreground     # Run in foreground
claude-config ui --port 8080      # Custom port
claude-config ui status           # Check daemon status
claude-config ui stop             # Stop daemon
\`\`\`

### Project Commands

\`\`\`bash
claude-config init                # Initialize project
claude-config init --template X   # Initialize with template
claude-config apply               # Generate .mcp.json
claude-config show                # Show configuration
\`\`\`

### MCP Commands

\`\`\`bash
claude-config list                # List available MCPs
claude-config add <mcp>           # Add MCP to project
claude-config remove <mcp>        # Remove MCP
claude-config registry-add        # Add to registry
claude-config registry-remove     # Remove from registry
\`\`\`

### Project Registry

\`\`\`bash
claude-config project             # List projects
claude-config project add         # Add project
claude-config project remove      # Remove project
\`\`\`

### Memory Commands

\`\`\`bash
claude-config memory              # Show memory status
claude-config memory init         # Initialize memory
claude-config memory add          # Add entry
claude-config memory search       # Search memory
\`\`\`

### Environment

\`\`\`bash
claude-config env                 # List variables
claude-config env set KEY value   # Set variable
claude-config env unset KEY       # Remove variable
\`\`\`

### Templates

\`\`\`bash
claude-config templates           # List templates
claude-config apply-template X    # Apply template
\`\`\`

### Workstreams

\`\`\`bash
claude-config workstream              # List workstreams
claude-config workstream create "X"   # Create workstream
claude-config workstream delete "X"   # Delete workstream
claude-config workstream use "X"      # Set active
claude-config workstream active       # Show active
claude-config workstream add-project "X" /path    # Add project
claude-config workstream remove-project "X" /path # Remove project
claude-config workstream inject       # Output rules for hooks
claude-config workstream detect       # Detect from directory
\`\`\`
    `},"daemon-mode":{title:"Daemon Mode",content:`
## Daemon Mode

By default, \`claude-config ui\` runs as a background daemon.

### Starting the Daemon

\`\`\`bash
claude-config ui
\`\`\`

The UI starts in the background and you can continue using your terminal.

### Checking Status

\`\`\`bash
claude-config ui status
\`\`\`

### Stopping the Daemon

\`\`\`bash
claude-config ui stop
\`\`\`

### Foreground Mode

To run in the foreground (blocking):

\`\`\`bash
claude-config ui --foreground
# or
claude-config ui -f
\`\`\`

### Logs

Daemon logs are stored in \`~/.claude-config/ui.log\`
    `}},$H={"supported-tools":{title:"Supported Tools",content:`
## Supported AI Coding Tools

claude-config supports multiple AI coding assistants:

| Tool | Type | Config Location |
|------|------|-----------------|
| **Claude Code** | Terminal CLI | \`.mcp.json\`, \`~/.claude/\` |
| **Gemini CLI** | Terminal CLI | \`~/.gemini/settings.json\` |
| **Antigravity** | Full IDE | \`~/.gemini/antigravity/mcp_config.json\` |

### Shared MCP Registry

All tools use the **MCP (Model Context Protocol)** for server configurations. claude-config maintains a shared registry and generates tool-specific output files.

### Enabling Tools

In **Preferences**, toggle which tools receive configuration updates:

- **Claude Code** - Anthropic's terminal AI assistant
- **Gemini CLI** - Google's terminal AI assistant
- **Antigravity** - Google's AI-powered IDE

When you click **Apply Config**, enabled tools get updated configurations.
    `},"gemini-cli":{title:"Gemini CLI",content:`
## Gemini CLI Support

Gemini CLI is Google's terminal-based AI coding assistant, similar to Claude Code.

### Configuration

Gemini CLI settings are stored in \`~/.gemini/settings.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`

### Key Differences from Claude Code

| Feature | Claude Code | Gemini CLI |
|---------|-------------|------------|
| MCP Config | Separate \`.mcp.json\` | Embedded in settings.json |
| Global Instructions | \`~/.claude/CLAUDE.md\` | \`~/.gemini/GEMINI.md\` |
| Project Instructions | \`CLAUDE.md\` | \`GEMINI.md\` |
| Commands | \`.claude/commands/\` | \`.gemini/commands/\` (TOML) |

### Gemini Settings Editor

Access via **Gemini CLI** in the sidebar to:

- Configure MCP servers
- Edit global settings
- Manage Gemini-specific options

### Project Files

| Purpose | File |
|---------|------|
| Project instructions | \`GEMINI.md\` or \`.gemini/GEMINI.md\` |
| Commands | \`.gemini/commands/*.toml\` |
| Config folder | \`.gemini/\` |
    `},antigravity:{title:"Antigravity Support",content:`
## Antigravity Support

Antigravity is Google's full AI-powered IDE (similar to Cursor/Windsurf).

### Configuration

Antigravity MCP config is stored at \`~/.gemini/antigravity/mcp_config.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/absolute/path"]
    }
  }
}
\`\`\`

### Key Difference: No Environment Variables

**Important**: Antigravity does NOT support \`\${VAR}\` interpolation.

When generating Antigravity configs, claude-config automatically resolves all environment variables to their actual values.

Example:
- Claude Code: \`"path": "\${HOME}/projects"\`
- Antigravity: \`"path": "/Users/you/projects"\`

### Project Files

| Purpose | Claude Code | Antigravity |
|---------|-------------|-------------|
| Config folder | \`.claude/\` | \`.agent/\` |
| Rules | \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` or \`AGENT.md\` |

### Known Limitation

Antigravity and Gemini CLI share \`~/.gemini/GEMINI.md\` for global instructions. This is a known conflict in Google's tools.
    `},"tool-differences":{title:"Tool Differences",content:`
## Tool Differences

### Configuration Formats

All tools use identical JSON format for MCP server definitions:

\`\`\`json
{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@some/server"],
      "env": { "API_KEY": "..." }
    }
  }
}
\`\`\`

### Feature Comparison

| Feature | Claude Code | Gemini CLI | Antigravity |
|---------|-------------|------------|-------------|
| Type | Terminal CLI | Terminal CLI | Full IDE |
| MCP Config | \`.mcp.json\` | \`~/.gemini/settings.json\` | \`~/.gemini/antigravity/\` |
| Env Interpolation | Yes (\`\${VAR}\`) | Yes | No |
| Commands | \`.claude/commands/\` | \`.gemini/commands/\` | Unknown |
| Rules | \`.claude/rules/\` | \`.gemini/\` | \`.agent/rules/\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` | \`GEMINI.md\` |

### What This Means

- Your MCP registry is shared between all tools
- When you click "Apply Config", all enabled tools get updated
- Rules can be synced between Claude Code and Antigravity
- Gemini CLI and Antigravity share global instructions (known conflict)
    `},"enabling-tools":{title:"Enabling Tools",content:`
## Enabling Tools

Control which tools receive configuration updates.

### Via Preferences UI

1. Go to **Preferences** in the sidebar
2. Find the **Enabled AI Tools** section
3. Toggle tools on/off:
   - **Claude Code** - Writes to \`.mcp.json\`
   - **Gemini CLI** - Writes to \`~/.gemini/settings.json\`
   - **Antigravity** - Writes to \`~/.gemini/antigravity/mcp_config.json\`

### Apply Behavior

When you click **Apply Config**:
- Config is generated for ALL enabled tools
- Toast notification shows which tools were updated
- Each tool receives its format-specific output

### Config File

Tool preferences are stored in \`~/.claude-config/config.json\`:

\`\`\`json
{
  "enabledTools": ["claude", "gemini", "antigravity"]
}
\`\`\`
    `},"syncing-rules":{title:"Syncing Rules",content:`
## Syncing Rules Between Tools

Sync rules between Claude Code and Antigravity to maintain consistency.

### Accessing Sync

1. Enable **both tools** in Preferences
2. Go to **Project Explorer**
3. Click the **Sync** button in the toolbar

### Sync Dialog

The sync dialog allows you to:

- **Choose direction**: Claude Code  Antigravity or vice versa
- **Preview changes**: See which files will be copied
- **Selective sync**: Choose specific files to sync
- **Status indicators**:
  - **New**: File doesn't exist in target
  - **Modified**: File differs from target
  - **Same**: Files are identical

### What Gets Synced

| From | To |
|------|-----|
| \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| \`.agent/rules/*.md\` | \`.claude/rules/*.md\` |

### Notes

- Syncing **copies** files (doesn't move them)
- Target files are **overwritten** if they exist
- Instructions files (CLAUDE.md / GEMINI.md) are not synced
- Commands and workflows are Claude-specific (not synced)
- Gemini CLI uses different paths and is not currently included in rule sync
    `}},VH={keyboard:{title:"Keyboard Shortcuts",content:`
## Keyboard Shortcuts

### File Explorer

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save current file |
| \`Delete\` | Delete selected item |
| \`Enter\` | Open selected item |

### Editor

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save file |
| \`Ctrl/Cmd + Z\` | Undo |
| \`Ctrl/Cmd + Shift + Z\` | Redo |

### Navigation

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + 1-9\` | Switch sidebar sections |
    `}},UH={"common-issues":{title:"Common Issues",content:`
## Common Issues

### UI won't start

**Symptom**: \`claude-config ui\` shows "Started daemon" but the UI doesn't open.

**Solution**:
\`\`\`bash
claude-config ui stop
claude-config ui --foreground
\`\`\`

Check for errors in the output.

### Port already in use

**Symptom**: Error about port 3333 being in use.

**Solution**:
\`\`\`bash
claude-config ui --port 3334
\`\`\`

Or find and stop the process using port 3333.

### MCPs not loading

**Symptom**: MCPs show in config but aren't available in Claude Code.

**Solution**:
1. Run \`claude-config apply\` to regenerate .mcp.json
2. Restart Claude Code
3. Check environment variables are set

### npm install fails

**Symptom**: Errors during \`npm install -g\`

**Solution**:
\`\`\`bash
npm cache clean --force
npm install -g @regression-io/claude-config
\`\`\`
    `},"getting-help":{title:"Getting Help",content:`
## Getting Help

### Documentation

This documentation is available in the app under **Docs & Help**.

### GitHub Issues

Report bugs and request features:
https://github.com/regression-io/claude-config/issues

### Version Info

\`\`\`bash
claude-config --version
\`\`\`

### Debug Info

When reporting issues, include:
- claude-config version
- Node.js version (\`node --version\`)
- Operating system
- Error messages or logs
    `}},WH={...RH,...MH,...DH,...LH,...IH,...OH,...BH,...FH,...zH,...HH,...$H,...VH,...UH};function GH(e){let t=e.replace(/```(\w*)\n([\s\S]*?)```/g,(r,n,o)=>`<pre class="bg-zinc-900 text-zinc-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm">${o.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim()}</code></pre>`);return t=t.replace(/(\|[^\n]+\|\n\|[-| :]+\|\n(?:\|[^\n]+\|\n?)+)/g,r=>{const n=r.trim().split(`
`);if(n.length<2)return r;const o=n[0].split("|").filter(c=>c.trim()).map(c=>`<th class="border border-border px-3 py-2 bg-muted font-semibold text-left">${c.trim()}</th>`).join(""),d=n.slice(2).map(c=>`<tr>${c.split("|").filter(u=>u.trim()).map(u=>`<td class="border border-border px-3 py-2">${u.trim()}</td>`).join("")}</tr>`).join("");return`<table class="w-full border-collapse border border-border my-4"><thead><tr>${o}</tr></thead><tbody>${d}</tbody></table>`}),t.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-6 mb-2 text-foreground">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-8 mb-4 text-foreground">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mb-6 text-foreground">$1</h1>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono">$1</code>').replace(/^- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/(<li.*<\/li>\n?)+/g,'<ul class="list-disc my-2">$&</ul>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="my-3 text-foreground">').replace(/\n/g,"<br/>")}function KH(){const[e,t]=C.useState("installation"),[r,n]=C.useState({"getting-started":!0}),o=c=>{n(l=>({...l,[c]:!l[c]}))},d=WH[e];return i.jsxs("div",{className:"flex h-full",children:[i.jsxs("div",{className:"w-64 border-r border-border bg-muted/50 flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-foreground",children:[i.jsx(Ai,{className:"w-5 h-5"}),"Documentation"]})}),i.jsx(hs,{className:"flex-1",children:i.jsx("div",{className:"p-2",children:AH.map(c=>i.jsxs("div",{className:"mb-1",children:[i.jsxs("button",{className:De("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",(e===c.id||c.subsections.some(l=>l.id===e))&&"bg-accent"),onClick:()=>{c.subsections.length>0?(o(c.id),r[c.id]||t(c.subsections[0].id)):t(c.id)},children:[i.jsx(c.icon,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"flex-1",children:c.title}),c.isNew&&i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"}),c.subsections.length>0&&i.jsx(Bi,{className:De("w-4 h-4 text-muted-foreground transition-transform",r[c.id]&&"rotate-90")})]}),c.subsections.length>0&&r[c.id]&&i.jsx("div",{className:"ml-6 mt-1 space-y-1",children:c.subsections.map(l=>i.jsx("button",{className:De("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground",e===l.id&&"bg-accent text-primary font-medium"),onClick:()=>t(l.id),children:l.title},l.id))})]},c.id))})})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(hs,{className:"h-full",children:i.jsx("div",{className:"max-w-3xl mx-auto p-8",children:d?i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:GH(d.content)}})}):i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(Ai,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Select a topic from the sidebar"})]})})})})]})}var qH={};const Cb={development:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",productivity:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",integration:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",external:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",lsp:"bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",default:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"};function YH(){var Y,z,oe,ne,Q,ie,ye;const[e,t]=C.useState(!0),[r,n]=C.useState({allPlugins:[],categories:[],marketplaces:[],enabledPlugins:null}),[o,d]=C.useState(""),[c,l]=C.useState([]),[u,f]=C.useState([]),[p,h]=C.useState(!0),[v,_]=C.useState(!0),[k,w]=C.useState(!0),[x,y]=C.useState(!0),[g,b]=C.useState("name"),[j,T]=C.useState(null),[P,E]=C.useState({open:!1,repo:""}),[N,L]=C.useState({open:!1,plugin:null}),[F,B]=C.useState(!1),V=async()=>{t(!0);try{const ae=await we.getPlugins();n(ae)}catch(ae){ee.error("Failed to load plugins: "+ae.message)}finally{t(!1)}};C.useEffect(()=>{V()},[]);const U=C.useMemo(()=>{let ae=r.allPlugins||[];if(o){const Se=o.toLowerCase();ae=ae.filter(Me=>{var ke,Ne,Te;return((ke=Me.name)==null?void 0:ke.toLowerCase().includes(Se))||((Ne=Me.description)==null?void 0:Ne.toLowerCase().includes(Se))||((Te=Me.category)==null?void 0:Te.toLowerCase().includes(Se))})}return ae=ae.filter(Se=>!(Se.sourceType==="external"&&!v||Se.sourceType==="internal"&&!p)),ae=ae.filter(Se=>!(Se.installed&&!k||!Se.installed&&!x)),c.length>0&&(ae=ae.filter(Se=>c.includes(Se.category))),u.length>0&&(ae=ae.filter(Se=>u.includes(Se.marketplace))),ae.sort((Se,Me)=>{if(g==="installed"){if(Se.installed&&!Me.installed)return-1;if(!Se.installed&&Me.installed)return 1}if(g==="category"){const ke=(Se.category||"zzz").localeCompare(Me.category||"zzz");if(ke!==0)return ke}return Se.name.localeCompare(Me.name)}),ae},[r.allPlugins,o,v,p,k,x,c,u,g]),X=ae=>{l(Se=>Se.includes(ae)?Se.filter(Me=>Me!==ae):[...Se,ae])},G=ae=>{f(Se=>Se.includes(ae)?Se.filter(Me=>Me!==ae):[...Se,ae])},q=async ae=>{T(ae);try{const Se=await we.refreshMarketplace(ae);Se.success?(ee.success(`Refreshed ${ae}`),await V()):ee.error(Se.error||"Failed to refresh marketplace")}catch(Se){ee.error("Failed to refresh: "+Se.message)}finally{T(null)}},K=async()=>{if(!P.repo.trim()){ee.error("Please enter a repository URL");return}try{const ae=await we.addMarketplace("",P.repo.trim());ae.success?(ee.success("Marketplace added"),E({open:!1,repo:""}),await V()):ee.error(ae.error||"Failed to add marketplace")}catch(ae){ee.error("Failed to add marketplace: "+ae.message)}},$=async(ae,Se,Me)=>{B(!0);try{const ke=Me!==!0,Ne=await we.setPluginEnabled(ae,Se,ke);Ne.success?(ee.success(`Plugin ${ke?"enabled":"disabled"} for ${ae===qH.HOME?"~":ae}`),await V()):ee.error(Ne.error||"Failed to update plugin state")}catch(ke){ee.error("Failed to update plugin: "+ke.message)}finally{B(!1)}},D=async(ae,Se)=>{B(!0);try{const Me=await we.setPluginEnabled(ae,Se,null);Me.success?(ee.success("Plugin override removed"),await V()):ee.error(Me.error||"Failed to remove override")}catch(Me){ee.error("Failed to update plugin: "+Me.message)}finally{B(!1)}},M=ae=>{L({open:!0,plugin:ae})},O=(r.allPlugins||[]).filter(ae=>ae.installed).length,W=(r.allPlugins||[]).filter(ae=>!ae.installed).length,I=(r.allPlugins||[]).filter(ae=>ae.sourceType==="internal").length,re=(r.allPlugins||[]).filter(ae=>ae.sourceType==="external").length,de=r.marketplaces||[],me=r.categories||[];return e?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 flex items-start gap-3",children:[i.jsx(u1,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-indigo-800 dark:text-indigo-300",children:[i.jsx("p",{className:"font-medium",children:"Install plugins from Project Explorer"}),i.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 mt-1",children:["Use the ",i.jsx("kbd",{className:"px-1.5 py-0.5 bg-indigo-100 dark:bg-indigo-900 rounded text-xs",children:"+"}),' menu on any project and select "Install Plugins" to add plugins with project-level scope control.']})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx($c,{className:"w-5 h-5 text-purple-600"}),"Plugin Marketplaces",i.jsx(nt,{variant:"outline",className:"ml-2 font-normal",children:de.length})]}),i.jsxs(he,{variant:"outline",size:"sm",onClick:()=>E({open:!0,repo:""}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})}),i.jsx("div",{className:"p-4",children:de.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map((ae,Se)=>{var ke,Ne,Te;const Me=(((ke=ae.plugins)==null?void 0:ke.length)||0)+(((Ne=ae.externalPlugins)==null?void 0:Ne.length)||0);return i.jsxs(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Se*.03},className:"bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-200",children:ae.name}),i.jsx(he,{variant:"ghost",size:"sm",onClick:()=>q(ae.name),disabled:j===ae.name,className:"h-7 w-7 p-0",children:i.jsx(fr,{className:`w-4 h-4 text-purple-600 dark:text-purple-400 ${j===ae.name?"animate-spin":""}`})})]}),i.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-2 truncate",children:typeof ae.source=="string"?ae.source:((Te=ae.source)==null?void 0:Te.repo)||"Unknown source"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-600 dark:text-purple-400",children:[i.jsxs("span",{children:[Me," plugins"]}),ae.lastUpdated&&i.jsxs("span",{children:["Updated: ",new Date(ae.lastUpdated).toLocaleDateString()]})]})]},ae.name)})}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[i.jsx($c,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No marketplaces configured."}),i.jsx("p",{className:"text-sm mt-1",children:"Add a marketplace to discover plugins."})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Mo,{className:"w-5 h-5 text-indigo-600"}),"Plugin Directory",i.jsxs(nt,{variant:"outline",className:"ml-2 font-normal",children:[U.length," of ",((Y=r.allPlugins)==null?void 0:Y.length)||0]})]}),i.jsx(he,{variant:"ghost",size:"sm",onClick:V,disabled:e,children:i.jsx(fr,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(vl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:o,onChange:ae=>d(ae.target.value),placeholder:"Search plugins...",className:"pl-9 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-700"})]}),i.jsxs(ri,{value:g,onValueChange:b,children:[i.jsx(ms,{className:"w-40",children:i.jsx(ni,{placeholder:"Sort by"})}),i.jsxs(gs,{children:[i.jsx(Wt,{value:"name",children:"Name"}),i.jsx(Wt,{value:"installed",children:"Installed first"}),i.jsx(Wt,{value:"category",children:"Category"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[i.jsx($c,{className:"w-3 h-3"}),"Marketplace",u.length>0&&i.jsx(nt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:u.length}),i.jsx(hn,{className:"w-3 h-3 ml-1"})]})}),i.jsxs(Kn,{align:"start",className:"w-56",children:[i.jsx(Io,{className:"text-xs",children:"Filter by marketplace"}),i.jsx(rr,{}),de.map(ae=>i.jsx(ol,{checked:u.includes(ae.name),onCheckedChange:()=>G(ae.name),children:ae.name},ae.name)),u.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(rr,{}),i.jsx(ht,{onClick:()=>f([]),children:"Clear filters"})]})]})]}),i.jsxs(vs,{children:[i.jsx(xs,{asChild:!0,children:i.jsxs(he,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[i.jsx(l1,{className:"w-3 h-3"}),"Category",c.length>0&&i.jsx(nt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:c.length}),i.jsx(hn,{className:"w-3 h-3 ml-1"})]})}),i.jsxs(Kn,{align:"start",className:"w-48",children:[i.jsx(Io,{className:"text-xs",children:"Filter by category"}),i.jsx(rr,{}),me.map(ae=>i.jsx(ol,{checked:c.includes(ae),onCheckedChange:()=>X(ae),children:ae},ae)),c.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(rr,{}),i.jsx(ht,{onClick:()=>l([]),children:"Clear filters"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:k,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-green-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Installed (",O,")"]})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:x,onCheckedChange:y,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Available (",W,")"]})]}),i.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:p,onCheckedChange:h,className:"h-4 w-7 data-[state=checked]:bg-indigo-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[i.jsx(s1,{className:"w-3 h-3"})," Anthropic (",I,")"]})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(pt,{checked:v,onCheckedChange:_,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[i.jsx(Ro,{className:"w-3 h-3"})," Community (",re,")"]})]})]})]})]}),i.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[U.map((ae,Se)=>{const Me=Cb[ae.category]||Cb.default,ke=ae.mcpServers?Object.keys(ae.mcpServers).length:0,Ne=ae.lspServers?Object.keys(ae.lspServers).length:0,Te=`${ae.name}@${ae.marketplace}`,Ue=ae.enabledState,Ye=(Ue==null?void 0:Ue.merged)===!0;return(Ue==null?void 0:Ue.merged)!==null&&(Ue==null||Ue.merged),i.jsxs(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(Se*.02,.3)},className:`rounded-lg border p-4 transition-all hover:shadow-md ${Ye?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/20 dark:border-emerald-800":ae.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:ae.name}),ae.sourceType==="external"&&i.jsx(Ro,{className:"w-3.5 h-3.5 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[ae.installed&&i.jsxs(nt,{variant:"outline",className:"text-green-600 border-green-300 dark:text-green-400 dark:border-green-700 text-[10px]",children:[i.jsx(Jt,{className:"w-2.5 h-2.5 mr-0.5"}),"Installed"]}),Ye&&i.jsxs(nt,{variant:"outline",className:"text-emerald-600 border-emerald-300 dark:text-emerald-400 dark:border-emerald-700 text-[10px]",children:[i.jsx(Yy,{className:"w-2.5 h-2.5 mr-0.5"}),"Enabled"]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[ae.installed&&i.jsx(Mu,{children:i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>M(ae),children:i.jsx(Zs,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:i.jsx("p",{children:"Configure per-directory"})})]})}),ae.homepage&&i.jsx(he,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>window.open(ae.homepage,"_blank"),children:i.jsx(su,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:ae.description||"No description available"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[ae.category&&i.jsx(nt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${Me}`,children:ae.category}),ae.version&&i.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",ae.version]})]}),(ke>0||Ne>0||ae.commands)&&i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 dark:text-slate-500 pt-2 border-t border-gray-100 dark:border-slate-800",children:[Ne>0&&i.jsxs("span",{className:"flex items-center gap-1 bg-cyan-50 dark:bg-cyan-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(Qs,{className:"w-3 h-3 text-cyan-600"}),Ne," LSP"]}),ke>0&&i.jsxs("span",{className:"flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(Ri,{className:"w-3 h-3 text-blue-600"}),ke," MCP"]}),ae.commands&&i.jsxs("span",{className:"flex items-center gap-1 bg-green-50 dark:bg-green-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(Ft,{className:"w-3 h-3 text-green-600"}),"Commands"]})]})]},Te)}),U.length===0&&i.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-slate-400",children:[i.jsx(Mo,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"font-medium",children:"No plugins found"}),i.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your filters or search query"}),(c.length>0||u.length>0||o)&&i.jsx(he,{variant:"link",size:"sm",onClick:()=>{l([]),f([]),d("")},className:"mt-2",children:"Clear all filters"})]})]})]}),i.jsx(Dt,{open:P.open,onOpenChange:ae=>E({...P,open:ae}),children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx($c,{className:"w-5 h-5 text-purple-600"}),"Add Plugin Marketplace"]}),i.jsx(Sr,{children:"Add a marketplace from a GitHub repository URL or local path."})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL or Path"}),i.jsx(ot,{value:P.repo,onChange:ae=>E({...P,repo:ae.target.value}),placeholder:"owner/repo or full GitHub URL",className:"mt-1"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Supported formats:"}),i.jsxs("ul",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 space-y-1 ml-2",children:[i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"owner/repo"}),"  GitHub shorthand"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"https://github.com/owner/repo"}),"  Full URL"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"/local/path"}),"  Local directory"]})]}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2",children:["Search GitHub for ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"claude-plugins"})," to find community marketplaces."]})]})}),i.jsxs(zt,{children:[i.jsx(he,{variant:"ghost",onClick:()=>E({open:!1,repo:""}),children:"Cancel"}),i.jsxs(he,{onClick:K,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})}),i.jsx(Dt,{open:N.open,onOpenChange:ae=>L({...N,open:ae}),children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsxs(Pt,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Wy,{className:"w-5 h-5 text-emerald-600"}),"Configure Plugin: ",(z=N.plugin)==null?void 0:z.name]}),i.jsx(Sr,{children:"Enable or disable this plugin for specific directories. Child directories inherit parent settings unless overridden."})]}),i.jsxs("div",{className:"space-y-3 py-4 max-h-[400px] overflow-y-auto",children:[(Q=(ne=(oe=N.plugin)==null?void 0:oe.enabledState)==null?void 0:ne.perDir)==null?void 0:Q.map((ae,Se)=>{const Me=`${N.plugin.name}@${N.plugin.marketplace}`,ke=ae.enabled!==null&&ae.enabled!==void 0,Ne=ae.enabled===!0,Te=ae.enabled===!1;let Ue=null;if(!ke&&Se>0)for(let Ye=Se-1;Ye>=0;Ye--){const et=N.plugin.enabledState.perDir[Ye];if(et.enabled!==null&&et.enabled!==void 0){Ue=et.enabled;break}}return i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${Ne?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/30 dark:border-emerald-800":Te?"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800":"bg-gray-50 border-gray-200 dark:bg-slate-800/50 dark:border-slate-700"}`,children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:ae.label}),!ke&&Ue!==null&&i.jsxs(nt,{variant:"outline",className:"text-[10px] text-gray-500",children:["inherited: ",Ue?"on":"off"]})]}),ke&&i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mt-0.5",children:Ne?"Explicitly enabled":"Explicitly disabled"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[ke&&i.jsx(Mu,{children:i.jsxs(Vn,{children:[i.jsx(Un,{asChild:!0,children:i.jsx(he,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",onClick:()=>D(ae.dir,Me),disabled:F,children:i.jsx(B5,{className:"w-4 h-4"})})}),i.jsx(Cn,{children:i.jsx("p",{children:"Remove override (inherit from parent)"})})]})}),i.jsxs("div",{className:"flex items-center gap-1 border rounded-lg overflow-hidden",children:[i.jsx(he,{variant:Ne?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${Ne?"bg-emerald-600 hover:bg-emerald-700 text-white":""}`,onClick:()=>$(ae.dir,Me,!1),disabled:F||Ne,children:i.jsx(Yy,{className:"w-3 h-3"})}),i.jsx(he,{variant:Te?"default":"ghost",size:"sm",className:`h-7 px-2 rounded-none ${Te?"bg-red-600 hover:bg-red-700 text-white":""}`,onClick:()=>$(ae.dir,Me,!0),disabled:F||Te,children:i.jsx(eM,{className:"w-3 h-3"})})]})]})]},ae.dir)}),(!((ye=(ie=N.plugin)==null?void 0:ie.enabledState)!=null&&ye.perDir)||N.plugin.enabledState.perDir.length===0)&&i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[i.jsx(Wy,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No config hierarchy found."}),i.jsx("p",{className:"text-sm mt-1",children:"Create a .claude/mcps.json in your project first."})]})]}),i.jsx(zt,{children:i.jsx(he,{variant:"ghost",onClick:()=>L({open:!1,plugin:null}),children:"Done"})})]})})]})}function XH({projects:e=[],onWorkstreamChange:t}){var ce,ve;const[r,n]=C.useState([]),[o,d]=C.useState(null),[c,l]=C.useState(!0),[u,f]=C.useState(null),[p,h]=C.useState(!1),[v,_]=C.useState(null),[k,w]=C.useState(!1),[x,y]=C.useState(null),[g,b]=C.useState(""),[j,T]=C.useState(""),[P,E]=C.useState([]),[N,L]=C.useState(!1),[F,B]=C.useState(!1),[V,U]=C.useState({isInstalled:!1,loading:!0}),[X,G]=C.useState(!1),[q,K]=C.useState(null),[$,D]=C.useState([]),[M,O]=C.useState(!1),[W,I]=C.useState(()=>{try{return JSON.parse(localStorage.getItem("dismissedWorkstreamSuggestions")||"[]")}catch{return[]}}),[re,de]=C.useState(null),[me,Y]=C.useState(!1);C.useEffect(()=>{Te(),z(),oe()},[]);const z=async()=>{try{const J=await we.getWorkstreamHookStatus();U({...J,loading:!1})}catch(J){U({isInstalled:!1,loading:!1,error:J.message})}},oe=async()=>{try{O(!0);const[J,pe,Ie]=await Promise.all([we.getActivitySummary(),we.getWorkstreamSuggestions(),we.getSmartSyncStatus()]);K(J),D(pe.suggestions||[]),de(Ie)}catch(J){console.log("Activity data not available:",J.message)}finally{O(!1)}},ne=async J=>{Y(!0);try{const pe=await we.smartSyncUpdateSettings({enabled:J});pe.settings&&(de(Ie=>({...Ie,...pe.settings})),ee.success(J?"Smart Sync enabled":"Smart Sync disabled"))}catch{ee.error("Failed to update Smart Sync settings")}finally{Y(!1)}},Q=async J=>{Y(!0);try{const pe=await we.smartSyncUpdateSettings({autoSwitchThreshold:J});pe.settings&&(de(Ie=>({...Ie,...pe.settings})),ee.success(`Auto-switch threshold set to ${J}%`))}catch{ee.error("Failed to update threshold")}finally{Y(!1)}},ie=J=>{b(J.name),E([...J.projects]),T(`# Auto-generated workstream based on activity patterns

These projects are frequently worked on together.`),h(!0)},ye=J=>{E(pe=>pe.filter(Ie=>Ie!==J))},ae=J=>{P.includes(J)||E(pe=>[...pe,J]),B(!1)},Se=J=>{const pe=J.projects.sort().join("|"),Ie=[...W,pe];I(Ie),localStorage.setItem("dismissedWorkstreamSuggestions",JSON.stringify(Ie)),D(Ve=>Ve.filter(at=>at.projects.sort().join("|")!==pe)),ee.success("Suggestion dismissed")},Me=$.filter(J=>{const pe=J.projects.sort().join("|");return!W.includes(pe)}),ke=async()=>{if(confirm("Clear activity data older than 30 days?"))try{const J=await we.clearActivity(30);J.success&&(ee.success(`Cleared ${J.cleared} old entries`),oe())}catch(J){ee.error("Failed to clear activity: "+J.message)}},Ne=async()=>{G(!0);try{const J=await we.installWorkstreamHook();J.success?(ee.success(J.message),U(pe=>({...pe,isInstalled:!0}))):ee.error(J.error||"Failed to install hook")}catch(J){ee.error("Failed to install hook: "+J.message)}finally{G(!1)}},Te=async()=>{try{l(!0);const J=await we.getWorkstreams();n(J.workstreams||[]),d(J.activeId)}catch{ee.error("Failed to load workstreams")}finally{l(!1)}},Ue=async()=>{if(!g.trim()){ee.error("Name is required");return}L(!0);try{const J=await we.createWorkstream(g.trim(),P,j);J.success?(n(pe=>[...pe,J.workstream]),o||d(J.workstream.id),ee.success(`Created workstream: ${g}`),h(!1),b(""),T(""),E([]),D(pe=>pe.filter(Ie=>Ie.name!==g.trim()))):ee.error(J.error||"Failed to create workstream")}catch(J){ee.error("Failed to create workstream: "+J.message)}finally{L(!1)}},Ye=async J=>{try{const pe=await we.setActiveWorkstream(J.id);pe.success?(d(J.id),ee.success(`Switched to: ${J.name}`),t==null||t(pe.workstream)):ee.error(pe.error||"Failed to switch workstream")}catch(pe){ee.error("Failed to switch workstream: "+pe.message)}},et=async J=>{var pe;if(confirm(`Delete workstream "${J.name}"?

This cannot be undone.`))try{const Ie=await we.deleteWorkstream(J.id);Ie.success?(n(Ve=>Ve.filter(at=>at.id!==J.id)),o===J.id&&d(((pe=r.find(Ve=>Ve.id!==J.id))==null?void 0:pe.id)||null),ee.success(`Deleted workstream: ${J.name}`)):ee.error(Ie.error||"Failed to delete workstream")}catch(Ie){ee.error("Failed to delete workstream: "+Ie.message)}},it=async()=>{if(v){L(!0);try{const J=await we.updateWorkstream(v.id,{name:v.name,rules:v.rules,projects:v.projects||[]});J.success?(n(pe=>pe.map(Ie=>Ie.id===v.id?J.workstream:Ie)),ee.success("Workstream updated"),_(null)):ee.error(J.error||"Failed to update workstream")}catch(J){ee.error("Failed to update workstream: "+J.message)}finally{L(!1)}}},ir=async J=>{if(x){try{const pe=await we.addProjectToWorkstream(x.id,J);pe.success?(n(Ie=>Ie.map(Ve=>Ve.id===x.id?pe.workstream:Ve)),ee.success(`Added project to ${x.name}`)):ee.error(pe.error||"Failed to add project")}catch(pe){ee.error("Failed to add project: "+pe.message)}w(!1),y(null)}},At=async(J,pe)=>{try{const Ie=await we.removeProjectFromWorkstream(J.id,pe);Ie.success?(n(Ve=>Ve.map(at=>at.id===J.id?Ie.workstream:at)),ee.success(`Removed project from ${J.name}`)):ee.error(Ie.error||"Failed to remove project")}catch(Ie){ee.error("Failed to remove project: "+Ie.message)}},ge=J=>J.split("/").pop()||J;return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(dt,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:i.jsx(Ks,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Workstreams"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Context sets for multi-project workflows"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{variant:"outline",onClick:Te,size:"sm",children:[i.jsx(fr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),i.jsxs(he,{onClick:()=>h(!0),className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"New Workstream"]})]})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4 text-sm text-purple-700 dark:text-purple-400",children:[i.jsx("p",{className:"font-medium mb-1",children:"What are Workstreams?"}),i.jsx("p",{children:"Workstreams group related projects and inject context rules into Claude. When active, your workstream's rules are automatically prepended to every Claude session."})]}),i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:r.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ks,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Workstreams Yet"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Create your first workstream to organize multi-project contexts."}),i.jsxs(he,{onClick:()=>h(!0),children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),"Create Your First Workstream"]})]}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:r.map(J=>{var pe,Ie,Ve;return i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors cursor-pointer ${J.id===o?"bg-purple-50 dark:bg-purple-950/30":"hover:bg-gray-50 dark:hover:bg-slate-900"}`,onClick:()=>f(u===J.id?null:J.id),children:[i.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400",children:u===J.id?i.jsx(hn,{className:"w-4 h-4"}):i.jsx(Bi,{className:"w-4 h-4"})}),i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${J.id===o?"bg-purple-100 dark:bg-purple-900/50":"bg-gray-100 dark:bg-slate-800"}`,children:J.id===o?i.jsx(Jt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):i.jsx(Ks,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:`font-medium truncate ${J.id===o?"text-purple-700 dark:text-purple-400":"text-gray-900 dark:text-white"}`,children:J.name}),J.id===o&&i.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-400 px-1.5 py-0.5 rounded",children:"Active"}),((pe=J.projects)==null?void 0:pe.length)>0&&i.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-1.5 py-0.5 rounded",children:[J.projects.length," project",J.projects.length!==1?"s":""]}),J.rules&&i.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-1.5 py-0.5 rounded",children:[i.jsx(wr,{className:"w-3 h-3 inline mr-0.5"}),"Rules"]})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 truncate",children:((Ie=J.projects)==null?void 0:Ie.length)>0?J.projects.map(at=>ge(at)).join(", "):"No projects added"})]}),i.jsxs("div",{className:"flex items-center gap-2",onClick:at=>at.stopPropagation(),children:[J.id!==o&&i.jsxs(he,{size:"sm",onClick:()=>Ye(J),className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(X5,{className:"w-4 h-4 mr-1"}),"Activate"]}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>_({...J}),className:"text-gray-500 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Edit workstream",children:i.jsx(qy,{className:"w-4 h-4"})}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>et(J),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete workstream",children:i.jsx(Wn,{className:"w-4 h-4"})})]})]}),u===J.id&&i.jsxs("div",{className:"px-4 pb-4 pl-16 space-y-4 bg-gray-50/50 dark:bg-slate-900/50",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>{y(J),w(!0)},children:[i.jsx(Ei,{className:"w-4 h-4 mr-1"}),"Add Project"]})]}),((Ve=J.projects)==null?void 0:Ve.length)>0?i.jsx("div",{className:"space-y-1",children:J.projects.map(at=>i.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[i.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:at.replace(/^\/Users\/[^/]+/,"~")}),i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>At(J,at),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:i.jsx(b5,{className:"w-4 h-4"})})]},at))}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No projects added yet. Add projects to help organize your workstream."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Rules"}),J.rules?i.jsx("pre",{className:"text-sm text-gray-600 dark:text-slate-400 bg-white dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-3 overflow-auto max-h-40 whitespace-pre-wrap",children:J.rules}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"No rules defined. Click Edit to add context rules for this workstream."})]})]})]},J.id)})})}),V.isInstalled?i.jsx("div",{className:"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4 text-sm text-green-700 dark:text-green-400",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q4,{className:"w-5 h-5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Hook Installed"}),i.jsx("p",{className:"text-green-600 dark:text-green-500",children:"Workstream rules will be automatically injected into every Claude session."})]})]})}):i.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg p-4 text-sm text-amber-700 dark:text-amber-400",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Ao,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium mb-1",children:"Hook Integration Required"}),i.jsx("p",{className:"mb-3",children:"Install the pre-prompt hook to automatically inject workstream rules into every Claude session."}),i.jsxs(he,{onClick:Ne,disabled:X||V.loading,size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white",children:[X?i.jsx(dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(gl,{className:"w-4 h-4 mr-2"}),"Install Hook Automatically"]}),i.jsxs("p",{className:"text-xs mt-2 text-amber-600 dark:text-amber-500",children:["This will create/update ",i.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/50 px-1 rounded",children:"~/.claude/hooks/pre-prompt.sh"})]})]})]})}),q&&q.totalSessions>0&&i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(D4,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Activity Insights"})]}),i.jsxs(he,{variant:"ghost",size:"sm",onClick:ke,className:"text-gray-500 dark:text-slate-400 hover:text-red-500",children:[i.jsx(Wn,{className:"w-4 h-4 mr-1"}),"Clear Old"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[i.jsx(U4,{className:"w-3 h-3"}),"Sessions"]}),i.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.totalSessions})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[i.jsx(wr,{className:"w-3 h-3"}),"Files Tracked"]}),i.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.totalFiles})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-slate-400 text-xs mb-1",children:[i.jsx(Ks,{className:"w-3 h-3"}),"Projects Active"]}),i.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:q.projectCount})]})]}),((ce=q.topProjects)==null?void 0:ce.length)>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Most Active Projects"}),i.jsx("div",{className:"space-y-1",children:q.topProjects.slice(0,5).map((J,pe)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 dark:text-slate-400 truncate",title:J.path,children:J.path.split("/").pop()}),i.jsxs("span",{className:"text-gray-400 dark:text-slate-500 text-xs",children:[J.fileCount," files"]})]},J.path))})]})]}),Me.length>0&&i.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 rounded-xl border border-indigo-200 dark:border-indigo-800 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Xt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),i.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-300",children:"Suggested Workstreams"}),i.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Based on activity patterns"})]}),i.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 mb-4",children:"These projects are frequently worked on together. Create a workstream to group them?"}),i.jsx("div",{className:"space-y-3",children:Me.map(J=>i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-indigo-200 dark:border-indigo-800 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ku,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:J.name}),J.coActivityScore&&i.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[J.coActivityScore,"% co-activity"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(he,{size:"sm",variant:"ghost",onClick:()=>Se(J),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",title:"Dismiss suggestion",children:i.jsx(Ti,{className:"w-4 h-4"})}),i.jsxs(he,{size:"sm",onClick:()=>ie(J),className:"bg-indigo-600 hover:bg-indigo-700",children:[i.jsx(St,{className:"w-4 h-4 mr-1"}),"Create"]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:J.projects.map(pe=>i.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 px-2 py-0.5 rounded",children:pe.split("/").pop()},pe))})]},J.name))})]}),re&&i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Smart Sync"}),i.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 px-1.5 py-0.5 rounded",children:"Phase 3"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:re.enabled?"Enabled":"Disabled"}),i.jsx("button",{onClick:()=>ne(!re.enabled),disabled:me,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${re.enabled?"bg-purple-600":"bg-gray-200 dark:bg-slate-700"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${re.enabled?"translate-x-6":"translate-x-1"}`})})]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Automatically suggest workstream switches based on your coding patterns. Non-blocking toasts appear when activity matches a workstream."}),re.enabled&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Auto-switch threshold"}),i.jsxs("span",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:[re.autoSwitchThreshold,"%"]})]}),i.jsx("input",{type:"range",min:"50",max:"100",step:"5",value:re.autoSwitchThreshold,onChange:J=>Q(parseInt(J.target.value)),disabled:me,className:"w-full h-2 bg-gray-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-600"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Auto-switch when activity match is above this threshold (silently, no prompt)"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsx("div",{className:"text-gray-500 dark:text-slate-400 text-xs mb-1",children:"Saved Choices"}),i.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:re.savedChoicesCount||0})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsx("div",{className:"text-gray-500 dark:text-slate-400 text-xs mb-1",children:"Dismissed Nudges"}),i.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:re.dismissedNudgesCount||0})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[i.jsx("p",{children:"claude-config workstream                  # List workstreams"}),i.jsx("p",{children:'claude-config workstream create "Name"   # Create workstream'}),i.jsx("p",{children:'claude-config workstream use "Name"      # Activate workstream'}),i.jsx("p",{children:"claude-config workstream inject          # Output active rules"})]})]}),i.jsx(Dt,{open:p,onOpenChange:J=>{J||(h(!1),b(""),T(""),E([]),B(!1))},children:i.jsxs(Et,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[i.jsx(Pt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-purple-600"}),"Create Workstream"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),i.jsx(ot,{value:g,onChange:J=>b(J.target.value),placeholder:"e.g., User Auth, Admin Dashboard",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),i.jsxs(he,{type:"button",size:"sm",variant:"outline",onClick:()=>B(!F),children:[i.jsx(Ei,{className:"w-4 h-4 mr-1"}),"Add"]})]}),P.length>0?i.jsx("div",{className:"space-y-1 mb-2",children:P.map(J=>i.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[i.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:J.replace(/^\/Users\/[^/]+/,"~")}),i.jsx(he,{type:"button",size:"sm",variant:"ghost",onClick:()=>ye(J),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:i.jsx(Ti,{className:"w-4 h-4"})})]},J))}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects added. Add projects to help organize your workstream."}),F&&e.length>0&&i.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-40 overflow-y-auto bg-white dark:bg-slate-900",children:[e.filter(J=>!P.includes(J.path)).map(J=>i.jsxs("button",{type:"button",onClick:()=>ae(J.path),className:"w-full text-left p-2 rounded hover:bg-purple-50 dark:hover:bg-purple-950/30 transition-colors",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:J.path.replace(/^\/Users\/[^/]+/,"~")})]},J.id)),e.filter(J=>!P.includes(J.path)).length===0&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-2",children:"All registered projects added"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Rules (optional)"}),i.jsx(mt,{value:j,onChange:J=>T(J.target.value),placeholder:"Context rules for this workstream. These will be injected into every Claude session when this workstream is active.",rows:6}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:'Example: "Focus on user authentication. Use JWT tokens. React Query for state management."'})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>{h(!1),b(""),T(""),E([]),B(!1)},children:"Cancel"}),i.jsxs(he,{onClick:Ue,disabled:N||!g.trim(),className:"bg-purple-600 hover:bg-purple-700",children:[N?i.jsx(dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(St,{className:"w-4 h-4 mr-2"}),"Create"]})]})]})}),i.jsx(Dt,{open:!!v,onOpenChange:J=>!J&&_(null),children:i.jsxs(Et,{className:"max-w-lg max-h-[85vh] overflow-y-auto",children:[i.jsx(Pt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(qy,{className:"w-5 h-5 text-purple-600"}),"Edit Workstream"]})}),v&&i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Name"}),i.jsx(ot,{value:v.name,onChange:J=>_(pe=>({...pe,name:J.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projects"}),i.jsxs(he,{type:"button",size:"sm",variant:"outline",onClick:()=>_(J=>({...J,showPicker:!J.showPicker})),children:[i.jsx(Ei,{className:"w-4 h-4 mr-1"}),"Add"]})]}),((ve=v.projects)==null?void 0:ve.length)>0?i.jsx("div",{className:"space-y-1 mb-2",children:v.projects.map(J=>i.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-gray-50 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700",children:[i.jsx("span",{className:"text-sm font-mono text-gray-700 dark:text-slate-300 truncate",children:J.replace(/^\/Users\/[^/]+/,"~")}),i.jsx(he,{type:"button",size:"sm",variant:"ghost",onClick:()=>_(pe=>({...pe,projects:pe.projects.filter(Ie=>Ie!==J)})),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:i.jsx(Ti,{className:"w-4 h-4"})})]},J))}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic mb-2",children:"No projects in this workstream."}),v.showPicker&&e.length>0&&i.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-2 max-h-40 overflow-y-auto bg-white dark:bg-slate-900",children:[e.filter(J=>{var pe;return!((pe=v.projects)!=null&&pe.includes(J.path))}).map(J=>i.jsxs("button",{type:"button",onClick:()=>_(pe=>({...pe,projects:[...pe.projects||[],J.path],showPicker:!1})),className:"w-full text-left p-2 rounded hover:bg-purple-50 dark:hover:bg-purple-950/30 transition-colors",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-mono truncate",children:J.path.replace(/^\/Users\/[^/]+/,"~")})]},J.id)),e.filter(J=>{var pe;return!((pe=v.projects)!=null&&pe.includes(J.path))}).length===0&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-2",children:"All registered projects added"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-1 block",children:"Rules"}),i.jsx(mt,{value:v.rules||"",onChange:J=>_(pe=>({...pe,rules:J.target.value})),placeholder:"Context rules for this workstream...",rows:8})]})]}),i.jsxs(zt,{children:[i.jsx(he,{variant:"outline",onClick:()=>_(null),children:"Cancel"}),i.jsxs(he,{onClick:it,disabled:N,className:"bg-purple-600 hover:bg-purple-700",children:[N?i.jsx(dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),i.jsx(Dt,{open:k,onOpenChange:w,children:i.jsxs(Et,{className:"max-w-lg",children:[i.jsx(Pt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"w-5 h-5 text-purple-600"}),"Add Project to ",x==null?void 0:x.name]})}),i.jsxs("div",{className:"py-4",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Select a registered project to add to this workstream:"}),e.length>0?i.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[e.filter(J=>{var pe;return!((pe=x==null?void 0:x.projects)!=null&&pe.includes(J.path))}).map(J=>i.jsxs("button",{onClick:()=>ir(J.path),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:border-purple-300 dark:hover:border-purple-700 hover:bg-purple-50 dark:hover:bg-purple-950/30 transition-colors",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:J.name}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400 font-mono truncate",children:J.path.replace(/^\/Users\/[^/]+/,"~")})]},J.id)),e.filter(J=>{var pe;return!((pe=x==null?void 0:x.projects)!=null&&pe.includes(J.path))}).length===0&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"All registered projects are already in this workstream."})]}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"No projects registered. Add projects in the Projects view first."})]}),i.jsx(zt,{children:i.jsx(he,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})})]})})]})}const JH=[{id:"projects",label:"All Projects",icon:Ks,section:"Projects"},{id:"workstreams",label:"Workstreams",icon:iu,section:"Projects",isNew:!0},{id:"explorer",label:"Project Explorer",icon:Js,section:"Projects"},{id:"registry",label:"MCP Registry",icon:Qs,section:"Configuration"},{id:"plugins",label:"Plugins",icon:Mo,section:"Configuration",isNew:!0},{id:"memory",label:"Memory",icon:To,section:"Configuration"},{id:"claude-settings",label:"Claude Code",icon:xl,section:"Configuration"},{id:"gemini-settings",label:"Gemini CLI",icon:Ft,section:"Configuration"},{id:"templates",label:"Templates",icon:zo,section:"Tools"},{id:"create-mcp",label:"Create MCP",icon:as,section:"Developer"},{id:"preferences",label:"Preferences",icon:m1,section:"System"},{id:"docs",label:"Docs & Help",icon:Ai,section:"Help",isNew:!0}],kb=(e,t)=>{try{const r=localStorage.getItem(`claude-config-${e}`);return r?JSON.parse(r):t}catch{return t}},QH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function ZH(){const[e,t]=C.useState(()=>kb("currentView","explorer")),[r,n]=C.useState(!0),[o,d]=C.useState({dir:"",subprojects:[],hierarchy:[]}),[c,l]=C.useState([]),[u,f]=C.useState({mcpServers:{}}),[p,h]=C.useState([]),[v,_]=C.useState([]),[k,w]=C.useState([]),[x,y]=C.useState(null),[g,b]=C.useState(null),[j,T]=C.useState(!1),[P,E]=C.useState({title:"",type:""}),[N,L]=C.useState(""),[F,B]=C.useState(""),[V,U]=C.useState({}),[X,G]=C.useState(null),[q,K]=C.useState(null),[$,D]=C.useState(!1),[M,O]=C.useState([]),[W,I]=C.useState(null),[re,de]=C.useState(!1),[me,Y]=C.useState(null);C.useEffect(()=>{QH("currentView",e)},[e]);const z=C.useCallback(async()=>{try{const[Ne,Te,Ue,Ye,et,it]=await Promise.all([we.getProject(),we.getConfigs(),we.getRegistry(),we.getRules(),we.getCommands(),we.getTemplates()]);d(Ne),l(Te),f(Ue),h(Ye),_(et),w(it),Te.length>0&&!x&&y(Te[Te.length-1])}catch(Ne){ee.error("Failed to load data: "+Ne.message)}finally{n(!1)}},[x]),oe=C.useCallback(async(Ne=!1)=>{var Te;try{const Ue=await we.getProjects();O(Ue.projects||[]);const Ye=(Te=Ue.projects)==null?void 0:Te.find(et=>et.isActive);if(I(Ye||null),Ne&&Ye){const et=await we.getSubprojects(Ye.path);Y({dir:Ye.path,subprojects:et.subprojects||[]})}Ne&&!Ye&&(kb("currentView",null)||t("projects"))}catch{console.log("Projects API not available")}},[]),ne=async Ne=>{try{const Te=await we.setActiveProject(Ne);Te.success?(d({dir:Te.dir,hierarchy:Te.hierarchy,subprojects:Te.subprojects}),Y({dir:Te.dir,subprojects:Te.subprojects}),I(Te.project),O(Ue=>Ue.map(Ye=>({...Ye,isActive:Ye.id===Ne}))),await z(),ee.success(`Switched to ${Te.project.name}`)):ee.error(Te.error||"Failed to switch project")}catch(Te){ee.error("Failed to switch project: "+Te.message)}},Q=Ne=>{O(Te=>[...Te,{...Ne,exists:!0,hasClaudeConfig:!1}])};C.useEffect(()=>{z(),oe(!0),we.checkVersion().then(Ne=>{G(Ne==null?void 0:Ne.installedVersion),Ne!=null&&Ne.updateAvailable&&K(Ne)}).catch(()=>{})},[]);const ie=async()=>{if(q!=null&&q.updateAvailable){D(!0);try{const Ne=await we.performUpdate({updateMethod:q.updateMethod,sourcePath:q.sourcePath});Ne.success?(ee.success(`Updated to v${Ne.newVersion}! Reloading...`),setTimeout(()=>window.location.reload(),1500)):(ee.error("Update failed: "+Ne.error),D(!1))}catch(Ne){ee.error("Update failed: "+Ne.message),D(!1)}}};C.useEffect(()=>{const Ne=async()=>{try{const{hashes:Ue}=await we.getFileHashes(),Ye=V;(Object.keys(Ue).some(it=>Ye[it]!==Ue[it])||Object.keys(Ye).some(it=>!Ue[it]))&&Object.keys(Ye).length>0&&(ee.info("Files changed externally, reloading..."),await z()),U(Ue)}catch{}},Te=setInterval(Ne,2e3);return Ne(),()=>clearInterval(Te)},[V,z]);const ye=new Set;c.forEach(Ne=>{var Te,Ue;(((Te=Ne.config)==null?void 0:Te.include)||[]).forEach(Ye=>ye.add(Ye)),Object.keys(((Ue=Ne.config)==null?void 0:Ue.mcpServers)||{}).forEach(Ye=>ye.add(Ye))});const ae={mcps:ye.size,rules:p.length,commands:v.length},Se=async()=>{try{const Ne=await we.applyConfig(o.dir);if(Ne.tools){const Te=Object.entries(Ne.tools).filter(([,Ue])=>Ue).map(([Ue])=>Ue==="claude"?"Claude Code":"Antigravity");Te.length>0?ee.success(`Config applied to: ${Te.join(", ")}`):ee.warning("No tools were updated")}else ee.success("Configuration applied successfully!")}catch(Ne){ee.error("Failed to apply config: "+Ne.message)}},Me=async()=>{n(!0),await z(),ee.success("Data refreshed")};if(r)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(dt,{className:"w-8 h-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})});const ke=()=>{switch(e){case"explorer":return i.jsx(gF,{project:o,onRefresh:z});case"registry":return i.jsx(EH,{registry:u,searchQuery:N,setSearchQuery:L,onUpdate:z});case"plugins":return i.jsx(YH,{});case"memory":return i.jsx(PH,{project:o,onUpdate:z});case"templates":return i.jsx(iH,{templates:k,project:o,onApply:z});case"create-mcp":return i.jsx(sH,{project:o});case"claude-settings":return i.jsx(Yz,{});case"gemini-settings":return i.jsx(Xz,{});case"preferences":return i.jsx(qz,{});case"projects":return i.jsx(TH,{onProjectSwitch:Ne=>{d({dir:Ne.dir,hierarchy:Ne.hierarchy,subprojects:Ne.subprojects}),Y({dir:Ne.dir,subprojects:Ne.subprojects}),z(),oe()}});case"workstreams":return i.jsx(XH,{projects:M,onWorkstreamChange:Ne=>{ee.success(`Switched to workstream: ${Ne.name}`)}});case"docs":return i.jsx(KH,{});default:return null}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"h-16 bg-card border-b border-border sticky top-0 z-50 shadow-sm",children:i.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:i.jsx(Zs,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Claude ",i.jsx("span",{className:"text-primary",children:"Config"})]})}),q&&i.jsxs("button",{onClick:ie,disabled:$,className:"ml-3 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 hover:bg-green-200 rounded-full flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[$?i.jsx(dt,{className:"w-3 h-3 animate-spin"}):i.jsx(gl,{className:"w-3 h-3"}),$?"Updating...":`Update to v${q.sourceVersion}`]})]}),i.jsx(Ej,{orientation:"vertical",className:"h-6"}),i.jsx(vF,{projects:M,activeProject:W,onSwitch:ne,onAddClick:()=>de(!0),onManageClick:()=>t("projects")}),i.jsx(xF,{onManageClick:()=>t("workstreams")})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wF,{}),i.jsx(he,{variant:"ghost",size:"sm",onClick:Me,children:i.jsx(fr,{className:"w-4 h-4"})}),i.jsxs(he,{onClick:Se,variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground",title:"Config auto-applies on save. Click to manually re-apply.",children:[i.jsx(iM,{className:"w-4 h-4"}),"Re-apply"]})]})]})}),i.jsxs("div",{className:"flex",children:[i.jsxs("aside",{className:"w-64 h-[calc(100vh-64px)] border-r border-border bg-card sticky top-16 flex flex-col",children:[i.jsx(hs,{className:"flex-1 py-4",children:["Projects","Configuration","Tools","Developer","System","Help"].map(Ne=>i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-4 mb-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:Ne}),i.jsx("div",{className:"space-y-0.5",children:JH.filter(Te=>Te.section===Ne).map(Te=>{const Ue=Te.icon,Ye=e===Te.id;return i.jsxs("button",{onClick:()=>t(Te.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-all duration-200 border-l-2 ${Ye?"bg-accent border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[i.jsx(Ue,{className:"w-4 h-4"}),i.jsx("span",{className:"flex-1 text-left",children:Te.label}),Te.badge&&i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Ye?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:ae[Te.badge]}),Te.isNew&&i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"new"})]},Te.id)})})]},Ne))}),i.jsx("div",{className:"px-4 py-3 border-t border-border",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:X?`v${X}`:""})})]}),i.jsx("main",{className:De("flex-1 overflow-auto",e==="explorer"||e==="docs"?"h-[calc(100vh-64px)]":"p-6"),children:i.jsx(Fu,{mode:"wait",children:i.jsx(Hn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:e==="explorer"||e==="docs"?"h-full":"",children:ke()},e)})})]}),i.jsx(Cj,{open:re,onOpenChange:de,onAdded:Q}),i.jsx(yF,{enabled:!0,pollInterval:3e4,onWorkstreamChange:Ne=>{ee.success(`Switched to workstream: ${Ne.name}`)}})]})}function e$(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[o,d]=C.useState(!1),c=C.useCallback(async()=>{n(!0);try{await we.restartServer(),ee.info("Server restarting... page will reload."),setTimeout(()=>{window.location.reload()},2e3)}catch(u){ee.error("Failed to restart: "+u.message),n(!1)}},[]),l=C.useCallback(()=>{d(!0),t(!1),ee.dismiss("update-available")},[]);return C.useEffect(()=>{let u;const f=async()=>{try{const p=await we.getVersion();console.log("[Update Check]",p),p.needsRestart&&!o&&t(!0)}catch{}};return f(),u=setInterval(f,3e4),()=>clearInterval(u)},[o]),i.jsx(_F,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[e&&!r&&i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white px-4 py-2 flex items-center justify-center gap-2 shadow-lg cursor-pointer hover:bg-blue-700 transition-colors",onClick:c,children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Update available  click to restart"}),i.jsx("button",{onClick:u=>{u.stopPropagation(),l()},className:"absolute right-3 p-1 hover:bg-blue-500 rounded",children:i.jsx(Ti,{className:"w-4 h-4"})})]}),r&&i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-600 text-white px-4 py-2 flex items-center justify-center gap-2",children:[i.jsx(fr,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-sm font-medium",children:"Restarting server..."})]}),i.jsx(ZH,{}),i.jsx(nP,{position:"bottom-right",richColors:!0})]})})}TE.createRoot(document.getElementById("root")).render(i.jsx(e$,{}));
